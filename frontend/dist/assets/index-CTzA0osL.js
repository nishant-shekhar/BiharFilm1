var iS=Object.defineProperty;var jR=Re=>{throw TypeError(Re)};var nS=(Re,e,Ee)=>e in Re?iS(Re,e,{enumerable:!0,configurable:!0,writable:!0,value:Ee}):Re[e]=Ee;var qr=(Re,e,Ee)=>nS(Re,typeof e!="symbol"?e+"":e,Ee),Pj=(Re,e,Ee)=>e.has(Re)||jR("Cannot "+Ee);var Ke=(Re,e,Ee)=>(Pj(Re,e,"read from private field"),Ee?Ee.call(Re):e.get(Re)),Bs=(Re,e,Ee)=>e.has(Re)?jR("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(Re):e.set(Re,Ee),Ls=(Re,e,Ee,Ce)=>(Pj(Re,e,"write to private field"),Ce?Ce.call(Re,Ee):e.set(Re,Ee),Ee),Hs=(Re,e,Ee)=>(Pj(Re,e,"access private method"),Ee);var Ro=(Re,e,Ee,Ce)=>({set _(Te){Ls(Re,e,Te,Ee)},get _(){return Ke(Re,e,Ce)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const Te of document.querySelectorAll('link[rel="modulepreload"]'))Ce(Te);new MutationObserver(Te=>{for(const De of Te)if(De.type==="childList")for(const Me of De.addedNodes)Me.tagName==="LINK"&&Me.rel==="modulepreload"&&Ce(Me)}).observe(document,{childList:!0,subtree:!0});function Ee(Te){const De={};return Te.integrity&&(De.integrity=Te.integrity),Te.referrerPolicy&&(De.referrerPolicy=Te.referrerPolicy),Te.crossOrigin==="use-credentials"?De.credentials="include":Te.crossOrigin==="anonymous"?De.credentials="omit":De.credentials="same-origin",De}function Ce(Te){if(Te.ep)return;Te.ep=!0;const De=Ee(Te);fetch(Te.href,De)}})();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(Re){return Re&&Re.__esModule&&Object.prototype.hasOwnProperty.call(Re,"default")?Re.default:Re}var jsxRuntime={exports:{}},reactJsxRuntime_production={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var Re=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function Ee(Ce,Te,De){var Me=null;if(De!==void 0&&(Me=""+De),Te.key!==void 0&&(Me=""+Te.key),"key"in Te){De={};for(var Oe in Te)Oe!=="key"&&(De[Oe]=Te[Oe])}else De=Te;return Te=De.ref,{$$typeof:Re,type:Ce,key:Me,ref:Te!==void 0?Te:null,props:De}}return reactJsxRuntime_production.Fragment=e,reactJsxRuntime_production.jsx=Ee,reactJsxRuntime_production.jsxs=Ee,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var Re=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),Ee=Symbol.for("react.fragment"),Ce=Symbol.for("react.strict_mode"),Te=Symbol.for("react.profiler"),De=Symbol.for("react.consumer"),Me=Symbol.for("react.context"),Oe=Symbol.for("react.forward_ref"),Be=Symbol.for("react.suspense"),ze=Symbol.for("react.memo"),Ve=Symbol.for("react.lazy"),qe=Symbol.iterator;function We(ws){return ws===null||typeof ws!="object"?null:(ws=qe&&ws[qe]||ws["@@iterator"],typeof ws=="function"?ws:null)}var Ge={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Je=Object.assign,Qe={};function ns(ws,js,ms){this.props=ws,this.context=js,this.refs=Qe,this.updater=ms||Ge}ns.prototype.isReactComponent={},ns.prototype.setState=function(ws,js){if(typeof ws!="object"&&typeof ws!="function"&&ws!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,ws,js,"setState")},ns.prototype.forceUpdate=function(ws){this.updater.enqueueForceUpdate(this,ws,"forceUpdate")};function Ye(){}Ye.prototype=ns.prototype;function rs(ws,js,ms){this.props=ws,this.context=js,this.refs=Qe,this.updater=ms||Ge}var ts=rs.prototype=new Ye;ts.constructor=rs,Je(ts,ns.prototype),ts.isPureReactComponent=!0;var Xe=Array.isArray,is={H:null,A:null,T:null,S:null},os=Object.prototype.hasOwnProperty;function hs(ws,js,ms,ys,ks,zs){return ms=zs.ref,{$$typeof:Re,type:ws,key:js,ref:ms!==void 0?ms:null,props:zs}}function fs(ws,js){return hs(ws.type,js,void 0,void 0,void 0,ws.props)}function xs(ws){return typeof ws=="object"&&ws!==null&&ws.$$typeof===Re}function Ss(ws){var js={"=":"=0",":":"=2"};return"$"+ws.replace(/[=:]/g,function(ms){return js[ms]})}var ds=/\/+/g;function gs(ws,js){return typeof ws=="object"&&ws!==null&&ws.key!=null?Ss(""+ws.key):js.toString(36)}function Ts(){}function Ds(ws){switch(ws.status){case"fulfilled":return ws.value;case"rejected":throw ws.reason;default:switch(typeof ws.status=="string"?ws.then(Ts,Ts):(ws.status="pending",ws.then(function(js){ws.status==="pending"&&(ws.status="fulfilled",ws.value=js)},function(js){ws.status==="pending"&&(ws.status="rejected",ws.reason=js)})),ws.status){case"fulfilled":return ws.value;case"rejected":throw ws.reason}}throw ws}function Ms(ws,js,ms,ys,ks){var zs=typeof ws;(zs==="undefined"||zs==="boolean")&&(ws=null);var Cs=!1;if(ws===null)Cs=!0;else switch(zs){case"bigint":case"string":case"number":Cs=!0;break;case"object":switch(ws.$$typeof){case Re:case e:Cs=!0;break;case Ve:return Cs=ws._init,Ms(Cs(ws._payload),js,ms,ys,ks)}}if(Cs)return ks=ks(ws),Cs=ys===""?"."+gs(ws,0):ys,Xe(ks)?(ms="",Cs!=null&&(ms=Cs.replace(ds,"$&/")+"/"),Ms(ks,js,ms,"",function(Is){return Is})):ks!=null&&(xs(ks)&&(ks=fs(ks,ms+(ks.key==null||ws&&ws.key===ks.key?"":(""+ks.key).replace(ds,"$&/")+"/")+Cs)),js.push(ks)),1;Cs=0;var Ps=ys===""?".":ys+":";if(Xe(ws))for(var Us=0;Us<ws.length;Us++)ys=ws[Us],zs=Ps+gs(ys,Us),Cs+=Ms(ys,js,ms,zs,ks);else if(Us=We(ws),typeof Us=="function")for(ws=Us.call(ws),Us=0;!(ys=ws.next()).done;)ys=ys.value,zs=Ps+gs(ys,Us++),Cs+=Ms(ys,js,ms,zs,ks);else if(zs==="object"){if(typeof ws.then=="function")return Ms(Ds(ws),js,ms,ys,ks);throw js=String(ws),Error("Objects are not valid as a React child (found: "+(js==="[object Object]"?"object with keys {"+Object.keys(ws).join(", ")+"}":js)+"). If you meant to render a collection of children, use an array instead.")}return Cs}function bs(ws,js,ms){if(ws==null)return ws;var ys=[],ks=0;return Ms(ws,ys,"","",function(zs){return js.call(ms,zs,ks++)}),ys}function Ns(ws){if(ws._status===-1){var js=ws._result;js=js(),js.then(function(ms){(ws._status===0||ws._status===-1)&&(ws._status=1,ws._result=ms)},function(ms){(ws._status===0||ws._status===-1)&&(ws._status=2,ws._result=ms)}),ws._status===-1&&(ws._status=0,ws._result=js)}if(ws._status===1)return ws._result.default;throw ws._result}var ps=typeof reportError=="function"?reportError:function(ws){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var js=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof ws=="object"&&ws!==null&&typeof ws.message=="string"?String(ws.message):String(ws),error:ws});if(!window.dispatchEvent(js))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",ws);return}console.error(ws)};function _s(){}return react_production.Children={map:bs,forEach:function(ws,js,ms){bs(ws,function(){js.apply(this,arguments)},ms)},count:function(ws){var js=0;return bs(ws,function(){js++}),js},toArray:function(ws){return bs(ws,function(js){return js})||[]},only:function(ws){if(!xs(ws))throw Error("React.Children.only expected to receive a single React element child.");return ws}},react_production.Component=ns,react_production.Fragment=Ee,react_production.Profiler=Te,react_production.PureComponent=rs,react_production.StrictMode=Ce,react_production.Suspense=Be,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=is,react_production.act=function(){throw Error("act(...) is not supported in production builds of React.")},react_production.cache=function(ws){return function(){return ws.apply(null,arguments)}},react_production.cloneElement=function(ws,js,ms){if(ws==null)throw Error("The argument must be a React element, but you passed "+ws+".");var ys=Je({},ws.props),ks=ws.key,zs=void 0;if(js!=null)for(Cs in js.ref!==void 0&&(zs=void 0),js.key!==void 0&&(ks=""+js.key),js)!os.call(js,Cs)||Cs==="key"||Cs==="__self"||Cs==="__source"||Cs==="ref"&&js.ref===void 0||(ys[Cs]=js[Cs]);var Cs=arguments.length-2;if(Cs===1)ys.children=ms;else if(1<Cs){for(var Ps=Array(Cs),Us=0;Us<Cs;Us++)Ps[Us]=arguments[Us+2];ys.children=Ps}return hs(ws.type,ks,void 0,void 0,zs,ys)},react_production.createContext=function(ws){return ws={$$typeof:Me,_currentValue:ws,_currentValue2:ws,_threadCount:0,Provider:null,Consumer:null},ws.Provider=ws,ws.Consumer={$$typeof:De,_context:ws},ws},react_production.createElement=function(ws,js,ms){var ys,ks={},zs=null;if(js!=null)for(ys in js.key!==void 0&&(zs=""+js.key),js)os.call(js,ys)&&ys!=="key"&&ys!=="__self"&&ys!=="__source"&&(ks[ys]=js[ys]);var Cs=arguments.length-2;if(Cs===1)ks.children=ms;else if(1<Cs){for(var Ps=Array(Cs),Us=0;Us<Cs;Us++)Ps[Us]=arguments[Us+2];ks.children=Ps}if(ws&&ws.defaultProps)for(ys in Cs=ws.defaultProps,Cs)ks[ys]===void 0&&(ks[ys]=Cs[ys]);return hs(ws,zs,void 0,void 0,null,ks)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(ws){return{$$typeof:Oe,render:ws}},react_production.isValidElement=xs,react_production.lazy=function(ws){return{$$typeof:Ve,_payload:{_status:-1,_result:ws},_init:Ns}},react_production.memo=function(ws,js){return{$$typeof:ze,type:ws,compare:js===void 0?null:js}},react_production.startTransition=function(ws){var js=is.T,ms={};is.T=ms;try{var ys=ws(),ks=is.S;ks!==null&&ks(ms,ys),typeof ys=="object"&&ys!==null&&typeof ys.then=="function"&&ys.then(_s,ps)}catch(zs){ps(zs)}finally{is.T=js}},react_production.unstable_useCacheRefresh=function(){return is.H.useCacheRefresh()},react_production.use=function(ws){return is.H.use(ws)},react_production.useActionState=function(ws,js,ms){return is.H.useActionState(ws,js,ms)},react_production.useCallback=function(ws,js){return is.H.useCallback(ws,js)},react_production.useContext=function(ws){return is.H.useContext(ws)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(ws,js){return is.H.useDeferredValue(ws,js)},react_production.useEffect=function(ws,js){return is.H.useEffect(ws,js)},react_production.useId=function(){return is.H.useId()},react_production.useImperativeHandle=function(ws,js,ms){return is.H.useImperativeHandle(ws,js,ms)},react_production.useInsertionEffect=function(ws,js){return is.H.useInsertionEffect(ws,js)},react_production.useLayoutEffect=function(ws,js){return is.H.useLayoutEffect(ws,js)},react_production.useMemo=function(ws,js){return is.H.useMemo(ws,js)},react_production.useOptimistic=function(ws,js){return is.H.useOptimistic(ws,js)},react_production.useReducer=function(ws,js,ms){return is.H.useReducer(ws,js,ms)},react_production.useRef=function(ws){return is.H.useRef(ws)},react_production.useState=function(ws){return is.H.useState(ws)},react_production.useSyncExternalStore=function(ws,js,ms){return is.H.useSyncExternalStore(ws,js,ms)},react_production.useTransition=function(){return is.H.useTransition()},react_production.version="19.0.0",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact();const React=getDefaultExportFromCjs(reactExports);var dist={},hasRequiredDist;function requireDist(){if(hasRequiredDist)return dist;hasRequiredDist=1,Object.defineProperty(dist,"__esModule",{value:!0}),dist.parse=Me,dist.serialize=ze;const Re=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,Ee=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,Ce=/^[\u0020-\u003A\u003D-\u007E]*$/,Te=Object.prototype.toString,De=(()=>{const We=function(){};return We.prototype=Object.create(null),We})();function Me(We,Ge){const Je=new De,Qe=We.length;if(Qe<2)return Je;const ns=(Ge==null?void 0:Ge.decode)||Ve;let Ye=0;do{const rs=We.indexOf("=",Ye);if(rs===-1)break;const ts=We.indexOf(";",Ye),Xe=ts===-1?Qe:ts;if(rs>Xe){Ye=We.lastIndexOf(";",rs-1)+1;continue}const is=Oe(We,Ye,rs),os=Be(We,rs,is),hs=We.slice(is,os);if(Je[hs]===void 0){let fs=Oe(We,rs+1,Xe),xs=Be(We,Xe,fs);const Ss=ns(We.slice(fs,xs));Je[hs]=Ss}Ye=Xe+1}while(Ye<Qe);return Je}function Oe(We,Ge,Je){do{const Qe=We.charCodeAt(Ge);if(Qe!==32&&Qe!==9)return Ge}while(++Ge<Je);return Je}function Be(We,Ge,Je){for(;Ge>Je;){const Qe=We.charCodeAt(--Ge);if(Qe!==32&&Qe!==9)return Ge+1}return Je}function ze(We,Ge,Je){const Qe=(Je==null?void 0:Je.encode)||encodeURIComponent;if(!Re.test(We))throw new TypeError(`argument name is invalid: ${We}`);const ns=Qe(Ge);if(!e.test(ns))throw new TypeError(`argument val is invalid: ${Ge}`);let Ye=We+"="+ns;if(!Je)return Ye;if(Je.maxAge!==void 0){if(!Number.isInteger(Je.maxAge))throw new TypeError(`option maxAge is invalid: ${Je.maxAge}`);Ye+="; Max-Age="+Je.maxAge}if(Je.domain){if(!Ee.test(Je.domain))throw new TypeError(`option domain is invalid: ${Je.domain}`);Ye+="; Domain="+Je.domain}if(Je.path){if(!Ce.test(Je.path))throw new TypeError(`option path is invalid: ${Je.path}`);Ye+="; Path="+Je.path}if(Je.expires){if(!qe(Je.expires)||!Number.isFinite(Je.expires.valueOf()))throw new TypeError(`option expires is invalid: ${Je.expires}`);Ye+="; Expires="+Je.expires.toUTCString()}if(Je.httpOnly&&(Ye+="; HttpOnly"),Je.secure&&(Ye+="; Secure"),Je.partitioned&&(Ye+="; Partitioned"),Je.priority)switch(typeof Je.priority=="string"?Je.priority.toLowerCase():void 0){case"low":Ye+="; Priority=Low";break;case"medium":Ye+="; Priority=Medium";break;case"high":Ye+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${Je.priority}`)}if(Je.sameSite)switch(typeof Je.sameSite=="string"?Je.sameSite.toLowerCase():Je.sameSite){case!0:case"strict":Ye+="; SameSite=Strict";break;case"lax":Ye+="; SameSite=Lax";break;case"none":Ye+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${Je.sameSite}`)}return Ye}function Ve(We){if(We.indexOf("%")===-1)return We;try{return decodeURIComponent(We)}catch{return We}}function qe(We){return Te.call(We)==="[object Date]"}return dist}requireDist();/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var PopStateEventType="popstate";function createBrowserHistory(Re={}){function e(Ce,Te){let{pathname:De,search:Me,hash:Oe}=Ce.location;return createLocation("",{pathname:De,search:Me,hash:Oe},Te.state&&Te.state.usr||null,Te.state&&Te.state.key||"default")}function Ee(Ce,Te){return typeof Te=="string"?Te:createPath(Te)}return getUrlBasedHistory(e,Ee,null,Re)}function invariant$2(Re,e){if(Re===!1||Re===null||typeof Re>"u")throw new Error(e)}function warning$1(Re,e){if(!Re){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function createKey(){return Math.random().toString(36).substring(2,10)}function getHistoryState(Re,e){return{usr:Re.state,key:Re.key,idx:e}}function createLocation(Re,e,Ee=null,Ce){return{pathname:typeof Re=="string"?Re:Re.pathname,search:"",hash:"",...typeof e=="string"?parsePath(e):e,state:Ee,key:e&&e.key||Ce||createKey()}}function createPath({pathname:Re="/",search:e="",hash:Ee=""}){return e&&e!=="?"&&(Re+=e.charAt(0)==="?"?e:"?"+e),Ee&&Ee!=="#"&&(Re+=Ee.charAt(0)==="#"?Ee:"#"+Ee),Re}function parsePath(Re){let e={};if(Re){let Ee=Re.indexOf("#");Ee>=0&&(e.hash=Re.substring(Ee),Re=Re.substring(0,Ee));let Ce=Re.indexOf("?");Ce>=0&&(e.search=Re.substring(Ce),Re=Re.substring(0,Ce)),Re&&(e.pathname=Re)}return e}function getUrlBasedHistory(Re,e,Ee,Ce={}){let{window:Te=document.defaultView,v5Compat:De=!1}=Ce,Me=Te.history,Oe="POP",Be=null,ze=Ve();ze==null&&(ze=0,Me.replaceState({...Me.state,idx:ze},""));function Ve(){return(Me.state||{idx:null}).idx}function qe(){Oe="POP";let ns=Ve(),Ye=ns==null?null:ns-ze;ze=ns,Be&&Be({action:Oe,location:Qe.location,delta:Ye})}function We(ns,Ye){Oe="PUSH";let rs=createLocation(Qe.location,ns,Ye);ze=Ve()+1;let ts=getHistoryState(rs,ze),Xe=Qe.createHref(rs);try{Me.pushState(ts,"",Xe)}catch(is){if(is instanceof DOMException&&is.name==="DataCloneError")throw is;Te.location.assign(Xe)}De&&Be&&Be({action:Oe,location:Qe.location,delta:1})}function Ge(ns,Ye){Oe="REPLACE";let rs=createLocation(Qe.location,ns,Ye);ze=Ve();let ts=getHistoryState(rs,ze),Xe=Qe.createHref(rs);Me.replaceState(ts,"",Xe),De&&Be&&Be({action:Oe,location:Qe.location,delta:0})}function Je(ns){let Ye=Te.location.origin!=="null"?Te.location.origin:Te.location.href,rs=typeof ns=="string"?ns:createPath(ns);return rs=rs.replace(/ $/,"%20"),invariant$2(Ye,`No window.location.(origin|href) available to create URL for href: ${rs}`),new URL(rs,Ye)}let Qe={get action(){return Oe},get location(){return Re(Te,Me)},listen(ns){if(Be)throw new Error("A history only accepts one active listener");return Te.addEventListener(PopStateEventType,qe),Be=ns,()=>{Te.removeEventListener(PopStateEventType,qe),Be=null}},createHref(ns){return e(Te,ns)},createURL:Je,encodeLocation(ns){let Ye=Je(ns);return{pathname:Ye.pathname,search:Ye.search,hash:Ye.hash}},push:We,replace:Ge,go(ns){return Me.go(ns)}};return Qe}function matchRoutes(Re,e,Ee="/"){return matchRoutesImpl(Re,e,Ee,!1)}function matchRoutesImpl(Re,e,Ee,Ce){let Te=typeof e=="string"?parsePath(e):e,De=stripBasename(Te.pathname||"/",Ee);if(De==null)return null;let Me=flattenRoutes(Re);rankRouteBranches(Me);let Oe=null;for(let Be=0;Oe==null&&Be<Me.length;++Be){let ze=decodePath(De);Oe=matchRouteBranch(Me[Be],ze,Ce)}return Oe}function flattenRoutes(Re,e=[],Ee=[],Ce=""){let Te=(De,Me,Oe)=>{let Be={relativePath:Oe===void 0?De.path||"":Oe,caseSensitive:De.caseSensitive===!0,childrenIndex:Me,route:De};Be.relativePath.startsWith("/")&&(invariant$2(Be.relativePath.startsWith(Ce),`Absolute route path "${Be.relativePath}" nested under path "${Ce}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),Be.relativePath=Be.relativePath.slice(Ce.length));let ze=joinPaths([Ce,Be.relativePath]),Ve=Ee.concat(Be);De.children&&De.children.length>0&&(invariant$2(De.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${ze}".`),flattenRoutes(De.children,e,Ve,ze)),!(De.path==null&&!De.index)&&e.push({path:ze,score:computeScore(ze,De.index),routesMeta:Ve})};return Re.forEach((De,Me)=>{var Oe;if(De.path===""||!((Oe=De.path)!=null&&Oe.includes("?")))Te(De,Me);else for(let Be of explodeOptionalSegments(De.path))Te(De,Me,Be)}),e}function explodeOptionalSegments(Re){let e=Re.split("/");if(e.length===0)return[];let[Ee,...Ce]=e,Te=Ee.endsWith("?"),De=Ee.replace(/\?$/,"");if(Ce.length===0)return Te?[De,""]:[De];let Me=explodeOptionalSegments(Ce.join("/")),Oe=[];return Oe.push(...Me.map(Be=>Be===""?De:[De,Be].join("/"))),Te&&Oe.push(...Me),Oe.map(Be=>Re.startsWith("/")&&Be===""?"/":Be)}function rankRouteBranches(Re){Re.sort((e,Ee)=>e.score!==Ee.score?Ee.score-e.score:compareIndexes(e.routesMeta.map(Ce=>Ce.childrenIndex),Ee.routesMeta.map(Ce=>Ce.childrenIndex)))}var paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=Re=>Re==="*";function computeScore(Re,e){let Ee=Re.split("/"),Ce=Ee.length;return Ee.some(isSplat)&&(Ce+=splatPenalty),e&&(Ce+=indexRouteValue),Ee.filter(Te=>!isSplat(Te)).reduce((Te,De)=>Te+(paramRe.test(De)?dynamicSegmentValue:De===""?emptySegmentValue:staticSegmentValue),Ce)}function compareIndexes(Re,e){return Re.length===e.length&&Re.slice(0,-1).every((Ce,Te)=>Ce===e[Te])?Re[Re.length-1]-e[e.length-1]:0}function matchRouteBranch(Re,e,Ee=!1){let{routesMeta:Ce}=Re,Te={},De="/",Me=[];for(let Oe=0;Oe<Ce.length;++Oe){let Be=Ce[Oe],ze=Oe===Ce.length-1,Ve=De==="/"?e:e.slice(De.length)||"/",qe=matchPath({path:Be.relativePath,caseSensitive:Be.caseSensitive,end:ze},Ve),We=Be.route;if(!qe&&ze&&Ee&&!Ce[Ce.length-1].route.index&&(qe=matchPath({path:Be.relativePath,caseSensitive:Be.caseSensitive,end:!1},Ve)),!qe)return null;Object.assign(Te,qe.params),Me.push({params:Te,pathname:joinPaths([De,qe.pathname]),pathnameBase:normalizePathname(joinPaths([De,qe.pathnameBase])),route:We}),qe.pathnameBase!=="/"&&(De=joinPaths([De,qe.pathnameBase]))}return Me}function matchPath(Re,e){typeof Re=="string"&&(Re={path:Re,caseSensitive:!1,end:!0});let[Ee,Ce]=compilePath(Re.path,Re.caseSensitive,Re.end),Te=e.match(Ee);if(!Te)return null;let De=Te[0],Me=De.replace(/(.)\/+$/,"$1"),Oe=Te.slice(1);return{params:Ce.reduce((ze,{paramName:Ve,isOptional:qe},We)=>{if(Ve==="*"){let Je=Oe[We]||"";Me=De.slice(0,De.length-Je.length).replace(/(.)\/+$/,"$1")}const Ge=Oe[We];return qe&&!Ge?ze[Ve]=void 0:ze[Ve]=(Ge||"").replace(/%2F/g,"/"),ze},{}),pathname:De,pathnameBase:Me,pattern:Re}}function compilePath(Re,e=!1,Ee=!0){warning$1(Re==="*"||!Re.endsWith("*")||Re.endsWith("/*"),`Route path "${Re}" will be treated as if it were "${Re.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${Re.replace(/\*$/,"/*")}".`);let Ce=[],Te="^"+Re.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(Me,Oe,Be)=>(Ce.push({paramName:Oe,isOptional:Be!=null}),Be?"/?([^\\/]+)?":"/([^\\/]+)"));return Re.endsWith("*")?(Ce.push({paramName:"*"}),Te+=Re==="*"||Re==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):Ee?Te+="\\/*$":Re!==""&&Re!=="/"&&(Te+="(?:(?=\\/|$))"),[new RegExp(Te,e?void 0:"i"),Ce]}function decodePath(Re){try{return Re.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return warning$1(!1,`The URL path "${Re}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),Re}}function stripBasename(Re,e){if(e==="/")return Re;if(!Re.toLowerCase().startsWith(e.toLowerCase()))return null;let Ee=e.endsWith("/")?e.length-1:e.length,Ce=Re.charAt(Ee);return Ce&&Ce!=="/"?null:Re.slice(Ee)||"/"}function resolvePath(Re,e="/"){let{pathname:Ee,search:Ce="",hash:Te=""}=typeof Re=="string"?parsePath(Re):Re;return{pathname:Ee?Ee.startsWith("/")?Ee:resolvePathname(Ee,e):e,search:normalizeSearch(Ce),hash:normalizeHash(Te)}}function resolvePathname(Re,e){let Ee=e.replace(/\/+$/,"").split("/");return Re.split("/").forEach(Te=>{Te===".."?Ee.length>1&&Ee.pop():Te!=="."&&Ee.push(Te)}),Ee.length>1?Ee.join("/"):"/"}function getInvalidPathError(Re,e,Ee,Ce){return`Cannot include a '${Re}' character in a manually specified \`to.${e}\` field [${JSON.stringify(Ce)}].  Please separate it out to the \`to.${Ee}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function getPathContributingMatches(Re){return Re.filter((e,Ee)=>Ee===0||e.route.path&&e.route.path.length>0)}function getResolveToMatches(Re){let e=getPathContributingMatches(Re);return e.map((Ee,Ce)=>Ce===e.length-1?Ee.pathname:Ee.pathnameBase)}function resolveTo(Re,e,Ee,Ce=!1){let Te;typeof Re=="string"?Te=parsePath(Re):(Te={...Re},invariant$2(!Te.pathname||!Te.pathname.includes("?"),getInvalidPathError("?","pathname","search",Te)),invariant$2(!Te.pathname||!Te.pathname.includes("#"),getInvalidPathError("#","pathname","hash",Te)),invariant$2(!Te.search||!Te.search.includes("#"),getInvalidPathError("#","search","hash",Te)));let De=Re===""||Te.pathname==="",Me=De?"/":Te.pathname,Oe;if(Me==null)Oe=Ee;else{let qe=e.length-1;if(!Ce&&Me.startsWith("..")){let We=Me.split("/");for(;We[0]==="..";)We.shift(),qe-=1;Te.pathname=We.join("/")}Oe=qe>=0?e[qe]:"/"}let Be=resolvePath(Te,Oe),ze=Me&&Me!=="/"&&Me.endsWith("/"),Ve=(De||Me===".")&&Ee.endsWith("/");return!Be.pathname.endsWith("/")&&(ze||Ve)&&(Be.pathname+="/"),Be}var joinPaths=Re=>Re.join("/").replace(/\/\/+/g,"/"),normalizePathname=Re=>Re.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=Re=>!Re||Re==="?"?"":Re.startsWith("?")?Re:"?"+Re,normalizeHash=Re=>!Re||Re==="#"?"":Re.startsWith("#")?Re:"#"+Re;function isRouteErrorResponse(Re){return Re!=null&&typeof Re.status=="number"&&typeof Re.statusText=="string"&&typeof Re.internal=="boolean"&&"data"in Re}var validMutationMethodsArr=["POST","PUT","PATCH","DELETE"];new Set(validMutationMethodsArr);var validRequestMethodsArr=["GET",...validMutationMethodsArr];new Set(validRequestMethodsArr);var DataRouterContext=reactExports.createContext(null);DataRouterContext.displayName="DataRouter";var DataRouterStateContext=reactExports.createContext(null);DataRouterStateContext.displayName="DataRouterState";var ViewTransitionContext=reactExports.createContext({isTransitioning:!1});ViewTransitionContext.displayName="ViewTransition";var FetchersContext=reactExports.createContext(new Map);FetchersContext.displayName="Fetchers";var AwaitContext=reactExports.createContext(null);AwaitContext.displayName="Await";var NavigationContext=reactExports.createContext(null);NavigationContext.displayName="Navigation";var LocationContext=reactExports.createContext(null);LocationContext.displayName="Location";var RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1});RouteContext.displayName="Route";var RouteErrorContext=reactExports.createContext(null);RouteErrorContext.displayName="RouteError";function useHref(Re,{relative:e}={}){invariant$2(useInRouterContext(),"useHref() may be used only in the context of a <Router> component.");let{basename:Ee,navigator:Ce}=reactExports.useContext(NavigationContext),{hash:Te,pathname:De,search:Me}=useResolvedPath(Re,{relative:e}),Oe=De;return Ee!=="/"&&(Oe=De==="/"?Ee:joinPaths([Ee,De])),Ce.createHref({pathname:Oe,search:Me,hash:Te})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return invariant$2(useInRouterContext(),"useLocation() may be used only in the context of a <Router> component."),reactExports.useContext(LocationContext).location}var navigateEffectWarning="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function useIsomorphicLayoutEffect$2(Re){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(Re)}function useNavigate(){let{isDataRoute:Re}=reactExports.useContext(RouteContext);return Re?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){invariant$2(useInRouterContext(),"useNavigate() may be used only in the context of a <Router> component.");let Re=reactExports.useContext(DataRouterContext),{basename:e,navigator:Ee}=reactExports.useContext(NavigationContext),{matches:Ce}=reactExports.useContext(RouteContext),{pathname:Te}=useLocation(),De=JSON.stringify(getResolveToMatches(Ce)),Me=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{Me.current=!0}),reactExports.useCallback((Be,ze={})=>{if(warning$1(Me.current,navigateEffectWarning),!Me.current)return;if(typeof Be=="number"){Ee.go(Be);return}let Ve=resolveTo(Be,JSON.parse(De),Te,ze.relative==="path");Re==null&&e!=="/"&&(Ve.pathname=Ve.pathname==="/"?e:joinPaths([e,Ve.pathname])),(ze.replace?Ee.replace:Ee.push)(Ve,ze.state,ze)},[e,Ee,De,Te,Re])}var OutletContext=reactExports.createContext(null);function useOutlet(Re){let e=reactExports.useContext(RouteContext).outlet;return e&&reactExports.createElement(OutletContext.Provider,{value:Re},e)}function useParams(){let{matches:Re}=reactExports.useContext(RouteContext),e=Re[Re.length-1];return e?e.params:{}}function useResolvedPath(Re,{relative:e}={}){let{matches:Ee}=reactExports.useContext(RouteContext),{pathname:Ce}=useLocation(),Te=JSON.stringify(getResolveToMatches(Ee));return reactExports.useMemo(()=>resolveTo(Re,JSON.parse(Te),Ce,e==="path"),[Re,Te,Ce,e])}function useRoutes(Re,e){return useRoutesImpl(Re,e)}function useRoutesImpl(Re,e,Ee,Ce){var rs;invariant$2(useInRouterContext(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:Te,static:De}=reactExports.useContext(NavigationContext),{matches:Me}=reactExports.useContext(RouteContext),Oe=Me[Me.length-1],Be=Oe?Oe.params:{},ze=Oe?Oe.pathname:"/",Ve=Oe?Oe.pathnameBase:"/",qe=Oe&&Oe.route;{let ts=qe&&qe.path||"";warningOnce(ze,!qe||ts.endsWith("*")||ts.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${ze}" (under <Route path="${ts}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ts}"> to <Route path="${ts==="/"?"*":`${ts}/*`}">.`)}let We=useLocation(),Ge;if(e){let ts=typeof e=="string"?parsePath(e):e;invariant$2(Ve==="/"||((rs=ts.pathname)==null?void 0:rs.startsWith(Ve)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${Ve}" but pathname "${ts.pathname}" was given in the \`location\` prop.`),Ge=ts}else Ge=We;let Je=Ge.pathname||"/",Qe=Je;if(Ve!=="/"){let ts=Ve.replace(/^\//,"").split("/");Qe="/"+Je.replace(/^\//,"").split("/").slice(ts.length).join("/")}let ns=!De&&Ee&&Ee.matches&&Ee.matches.length>0?Ee.matches:matchRoutes(Re,{pathname:Qe});warning$1(qe||ns!=null,`No routes matched location "${Ge.pathname}${Ge.search}${Ge.hash}" `),warning$1(ns==null||ns[ns.length-1].route.element!==void 0||ns[ns.length-1].route.Component!==void 0||ns[ns.length-1].route.lazy!==void 0,`Matched leaf route at location "${Ge.pathname}${Ge.search}${Ge.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let Ye=_renderMatches(ns&&ns.map(ts=>Object.assign({},ts,{params:Object.assign({},Be,ts.params),pathname:joinPaths([Ve,Te.encodeLocation?Te.encodeLocation(ts.pathname).pathname:ts.pathname]),pathnameBase:ts.pathnameBase==="/"?Ve:joinPaths([Ve,Te.encodeLocation?Te.encodeLocation(ts.pathnameBase).pathname:ts.pathnameBase])})),Me,Ee,Ce);return e&&Ye?reactExports.createElement(LocationContext.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...Ge},navigationType:"POP"}},Ye):Ye}function DefaultErrorComponent(){let Re=useRouteError(),e=isRouteErrorResponse(Re)?`${Re.status} ${Re.statusText}`:Re instanceof Error?Re.message:JSON.stringify(Re),Ee=Re instanceof Error?Re.stack:null,Ce="rgba(200,200,200, 0.5)",Te={padding:"0.5rem",backgroundColor:Ce},De={padding:"2px 4px",backgroundColor:Ce},Me=null;return console.error("Error handled by React Router default ErrorBoundary:",Re),Me=reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),reactExports.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",reactExports.createElement("code",{style:De},"ErrorBoundary")," or"," ",reactExports.createElement("code",{style:De},"errorElement")," prop on your route.")),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},e),Ee?reactExports.createElement("pre",{style:Te},Ee):null,Me)}var defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null),RenderErrorBoundary=class extends reactExports.Component{constructor(Re){super(Re),this.state={location:Re.location,revalidation:Re.revalidation,error:Re.error}}static getDerivedStateFromError(Re){return{error:Re}}static getDerivedStateFromProps(Re,e){return e.location!==Re.location||e.revalidation!=="idle"&&Re.revalidation==="idle"?{error:Re.error,location:Re.location,revalidation:Re.revalidation}:{error:Re.error!==void 0?Re.error:e.error,location:e.location,revalidation:Re.revalidation||e.revalidation}}componentDidCatch(Re,e){console.error("React Router caught the following error during render",Re,e)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RenderedRoute({routeContext:Re,match:e,children:Ee}){let Ce=reactExports.useContext(DataRouterContext);return Ce&&Ce.static&&Ce.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(Ce.staticContext._deepestRenderedBoundaryId=e.route.id),reactExports.createElement(RouteContext.Provider,{value:Re},Ee)}function _renderMatches(Re,e=[],Ee=null,Ce=null){if(Re==null){if(!Ee)return null;if(Ee.errors)Re=Ee.matches;else if(e.length===0&&!Ee.initialized&&Ee.matches.length>0)Re=Ee.matches;else return null}let Te=Re,De=Ee==null?void 0:Ee.errors;if(De!=null){let Be=Te.findIndex(ze=>ze.route.id&&(De==null?void 0:De[ze.route.id])!==void 0);invariant$2(Be>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(De).join(",")}`),Te=Te.slice(0,Math.min(Te.length,Be+1))}let Me=!1,Oe=-1;if(Ee)for(let Be=0;Be<Te.length;Be++){let ze=Te[Be];if((ze.route.HydrateFallback||ze.route.hydrateFallbackElement)&&(Oe=Be),ze.route.id){let{loaderData:Ve,errors:qe}=Ee,We=ze.route.loader&&!Ve.hasOwnProperty(ze.route.id)&&(!qe||qe[ze.route.id]===void 0);if(ze.route.lazy||We){Me=!0,Oe>=0?Te=Te.slice(0,Oe+1):Te=[Te[0]];break}}}return Te.reduceRight((Be,ze,Ve)=>{let qe,We=!1,Ge=null,Je=null;Ee&&(qe=De&&ze.route.id?De[ze.route.id]:void 0,Ge=ze.route.errorElement||defaultErrorElement,Me&&(Oe<0&&Ve===0?(warningOnce("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),We=!0,Je=null):Oe===Ve&&(We=!0,Je=ze.route.hydrateFallbackElement||null)));let Qe=e.concat(Te.slice(0,Ve+1)),ns=()=>{let Ye;return qe?Ye=Ge:We?Ye=Je:ze.route.Component?Ye=reactExports.createElement(ze.route.Component,null):ze.route.element?Ye=ze.route.element:Ye=Be,reactExports.createElement(RenderedRoute,{match:ze,routeContext:{outlet:Be,matches:Qe,isDataRoute:Ee!=null},children:Ye})};return Ee&&(ze.route.ErrorBoundary||ze.route.errorElement||Ve===0)?reactExports.createElement(RenderErrorBoundary,{location:Ee.location,revalidation:Ee.revalidation,component:Ge,error:qe,children:ns(),routeContext:{outlet:null,matches:Qe,isDataRoute:!0}}):ns()},null)}function getDataRouterConsoleError(Re){return`${Re} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext(Re){let e=reactExports.useContext(DataRouterContext);return invariant$2(e,getDataRouterConsoleError(Re)),e}function useDataRouterState(Re){let e=reactExports.useContext(DataRouterStateContext);return invariant$2(e,getDataRouterConsoleError(Re)),e}function useRouteContext(Re){let e=reactExports.useContext(RouteContext);return invariant$2(e,getDataRouterConsoleError(Re)),e}function useCurrentRouteId(Re){let e=useRouteContext(Re),Ee=e.matches[e.matches.length-1];return invariant$2(Ee.route.id,`${Re} can only be used on routes that contain a unique "id"`),Ee.route.id}function useRouteId(){return useCurrentRouteId("useRouteId")}function useRouteError(){var Ce;let Re=reactExports.useContext(RouteErrorContext),e=useDataRouterState("useRouteError"),Ee=useCurrentRouteId("useRouteError");return Re!==void 0?Re:(Ce=e.errors)==null?void 0:Ce[Ee]}function useNavigateStable(){let{router:Re}=useDataRouterContext("useNavigate"),e=useCurrentRouteId("useNavigate"),Ee=reactExports.useRef(!1);return useIsomorphicLayoutEffect$2(()=>{Ee.current=!0}),reactExports.useCallback(async(Te,De={})=>{warning$1(Ee.current,navigateEffectWarning),Ee.current&&(typeof Te=="number"?Re.navigate(Te):await Re.navigate(Te,{fromRouteId:e,...De}))},[Re,e])}var alreadyWarned={};function warningOnce(Re,e,Ee){!e&&!alreadyWarned[Re]&&(alreadyWarned[Re]=!0,warning$1(!1,Ee))}reactExports.memo(DataRoutes);function DataRoutes({routes:Re,future:e,state:Ee}){return useRoutesImpl(Re,void 0,Ee,e)}function Navigate({to:Re,replace:e,state:Ee,relative:Ce}){invariant$2(useInRouterContext(),"<Navigate> may be used only in the context of a <Router> component.");let{static:Te}=reactExports.useContext(NavigationContext);warning$1(!Te,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:De}=reactExports.useContext(RouteContext),{pathname:Me}=useLocation(),Oe=useNavigate(),Be=resolveTo(Re,getResolveToMatches(De),Me,Ce==="path"),ze=JSON.stringify(Be);return reactExports.useEffect(()=>{Oe(JSON.parse(ze),{replace:e,state:Ee,relative:Ce})},[Oe,ze,Ce,e,Ee]),null}function Outlet(Re){return useOutlet(Re.context)}function Route(Re){invariant$2(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Router({basename:Re="/",children:e=null,location:Ee,navigationType:Ce="POP",navigator:Te,static:De=!1}){invariant$2(!useInRouterContext(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let Me=Re.replace(/^\/*/,"/"),Oe=reactExports.useMemo(()=>({basename:Me,navigator:Te,static:De,future:{}}),[Me,Te,De]);typeof Ee=="string"&&(Ee=parsePath(Ee));let{pathname:Be="/",search:ze="",hash:Ve="",state:qe=null,key:We="default"}=Ee,Ge=reactExports.useMemo(()=>{let Je=stripBasename(Be,Me);return Je==null?null:{location:{pathname:Je,search:ze,hash:Ve,state:qe,key:We},navigationType:Ce}},[Me,Be,ze,Ve,qe,We,Ce]);return warning$1(Ge!=null,`<Router basename="${Me}"> is not able to match the URL "${Be}${ze}${Ve}" because it does not start with the basename, so the <Router> won't render anything.`),Ge==null?null:reactExports.createElement(NavigationContext.Provider,{value:Oe},reactExports.createElement(LocationContext.Provider,{children:e,value:Ge}))}function Routes({children:Re,location:e}){return useRoutes(createRoutesFromChildren(Re),e)}function createRoutesFromChildren(Re,e=[]){let Ee=[];return reactExports.Children.forEach(Re,(Ce,Te)=>{if(!reactExports.isValidElement(Ce))return;let De=[...e,Te];if(Ce.type===reactExports.Fragment){Ee.push.apply(Ee,createRoutesFromChildren(Ce.props.children,De));return}invariant$2(Ce.type===Route,`[${typeof Ce.type=="string"?Ce.type:Ce.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),invariant$2(!Ce.props.index||!Ce.props.children,"An index route cannot have child routes.");let Me={id:Ce.props.id||De.join("-"),caseSensitive:Ce.props.caseSensitive,element:Ce.props.element,Component:Ce.props.Component,index:Ce.props.index,path:Ce.props.path,loader:Ce.props.loader,action:Ce.props.action,hydrateFallbackElement:Ce.props.hydrateFallbackElement,HydrateFallback:Ce.props.HydrateFallback,errorElement:Ce.props.errorElement,ErrorBoundary:Ce.props.ErrorBoundary,hasErrorBoundary:Ce.props.hasErrorBoundary===!0||Ce.props.ErrorBoundary!=null||Ce.props.errorElement!=null,shouldRevalidate:Ce.props.shouldRevalidate,handle:Ce.props.handle,lazy:Ce.props.lazy};Ce.props.children&&(Me.children=createRoutesFromChildren(Ce.props.children,De)),Ee.push(Me)}),Ee}var defaultMethod="get",defaultEncType="application/x-www-form-urlencoded";function isHtmlElement(Re){return Re!=null&&typeof Re.tagName=="string"}function isButtonElement(Re){return isHtmlElement(Re)&&Re.tagName.toLowerCase()==="button"}function isFormElement(Re){return isHtmlElement(Re)&&Re.tagName.toLowerCase()==="form"}function isInputElement(Re){return isHtmlElement(Re)&&Re.tagName.toLowerCase()==="input"}function isModifiedEvent(Re){return!!(Re.metaKey||Re.altKey||Re.ctrlKey||Re.shiftKey)}function shouldProcessLinkClick(Re,e){return Re.button===0&&(!e||e==="_self")&&!isModifiedEvent(Re)}var _formDataSupportsSubmitter=null;function isFormDataSubmitterSupported(){if(_formDataSupportsSubmitter===null)try{new FormData(document.createElement("form"),0),_formDataSupportsSubmitter=!1}catch{_formDataSupportsSubmitter=!0}return _formDataSupportsSubmitter}var supportedFormEncTypes=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function getFormEncType(Re){return Re!=null&&!supportedFormEncTypes.has(Re)?(warning$1(!1,`"${Re}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${defaultEncType}"`),null):Re}function getFormSubmissionInfo(Re,e){let Ee,Ce,Te,De,Me;if(isFormElement(Re)){let Oe=Re.getAttribute("action");Ce=Oe?stripBasename(Oe,e):null,Ee=Re.getAttribute("method")||defaultMethod,Te=getFormEncType(Re.getAttribute("enctype"))||defaultEncType,De=new FormData(Re)}else if(isButtonElement(Re)||isInputElement(Re)&&(Re.type==="submit"||Re.type==="image")){let Oe=Re.form;if(Oe==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let Be=Re.getAttribute("formaction")||Oe.getAttribute("action");if(Ce=Be?stripBasename(Be,e):null,Ee=Re.getAttribute("formmethod")||Oe.getAttribute("method")||defaultMethod,Te=getFormEncType(Re.getAttribute("formenctype"))||getFormEncType(Oe.getAttribute("enctype"))||defaultEncType,De=new FormData(Oe,Re),!isFormDataSubmitterSupported()){let{name:ze,type:Ve,value:qe}=Re;if(Ve==="image"){let We=ze?`${ze}.`:"";De.append(`${We}x`,"0"),De.append(`${We}y`,"0")}else ze&&De.append(ze,qe)}}else{if(isHtmlElement(Re))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');Ee=defaultMethod,Ce=null,Te=defaultEncType,Me=Re}return De&&Te==="text/plain"&&(Me=De,De=void 0),{action:Ce,method:Ee.toLowerCase(),encType:Te,formData:De,body:Me}}function invariant2(Re,e){if(Re===!1||Re===null||typeof Re>"u")throw new Error(e)}async function loadRouteModule(Re,e){if(Re.id in e)return e[Re.id];try{let Ee=await import(Re.module);return e[Re.id]=Ee,Ee}catch(Ee){return console.error(`Error loading route module \`${Re.module}\`, reloading page...`),console.error(Ee),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function isHtmlLinkDescriptor(Re){return Re==null?!1:Re.href==null?Re.rel==="preload"&&typeof Re.imageSrcSet=="string"&&typeof Re.imageSizes=="string":typeof Re.rel=="string"&&typeof Re.href=="string"}async function getKeyedPrefetchLinks(Re,e,Ee){let Ce=await Promise.all(Re.map(async Te=>{let De=e.routes[Te.route.id];if(De){let Me=await loadRouteModule(De,Ee);return Me.links?Me.links():[]}return[]}));return dedupeLinkDescriptors(Ce.flat(1).filter(isHtmlLinkDescriptor).filter(Te=>Te.rel==="stylesheet"||Te.rel==="preload").map(Te=>Te.rel==="stylesheet"?{...Te,rel:"prefetch",as:"style"}:{...Te,rel:"prefetch"}))}function getNewMatchesForLinks(Re,e,Ee,Ce,Te,De){let Me=(Be,ze)=>Ee[ze]?Be.route.id!==Ee[ze].route.id:!0,Oe=(Be,ze)=>{var Ve;return Ee[ze].pathname!==Be.pathname||((Ve=Ee[ze].route.path)==null?void 0:Ve.endsWith("*"))&&Ee[ze].params["*"]!==Be.params["*"]};return De==="assets"?e.filter((Be,ze)=>Me(Be,ze)||Oe(Be,ze)):De==="data"?e.filter((Be,ze)=>{var qe;let Ve=Ce.routes[Be.route.id];if(!Ve||!Ve.hasLoader)return!1;if(Me(Be,ze)||Oe(Be,ze))return!0;if(Be.route.shouldRevalidate){let We=Be.route.shouldRevalidate({currentUrl:new URL(Te.pathname+Te.search+Te.hash,window.origin),currentParams:((qe=Ee[0])==null?void 0:qe.params)||{},nextUrl:new URL(Re,window.origin),nextParams:Be.params,defaultShouldRevalidate:!0});if(typeof We=="boolean")return We}return!0}):[]}function getModuleLinkHrefs(Re,e,{includeHydrateFallback:Ee}={}){return dedupeHrefs(Re.map(Ce=>{let Te=e.routes[Ce.route.id];if(!Te)return[];let De=[Te.module];return Te.clientActionModule&&(De=De.concat(Te.clientActionModule)),Te.clientLoaderModule&&(De=De.concat(Te.clientLoaderModule)),Ee&&Te.hydrateFallbackModule&&(De=De.concat(Te.hydrateFallbackModule)),Te.imports&&(De=De.concat(Te.imports)),De}).flat(1))}function dedupeHrefs(Re){return[...new Set(Re)]}function sortKeys(Re){let e={},Ee=Object.keys(Re).sort();for(let Ce of Ee)e[Ce]=Re[Ce];return e}function dedupeLinkDescriptors(Re,e){let Ee=new Set;return new Set(e),Re.reduce((Ce,Te)=>{let De=JSON.stringify(sortKeys(Te));return Ee.has(De)||(Ee.add(De),Ce.push({key:De,link:Te})),Ce},[])}function singleFetchUrl(Re,e){let Ee=typeof Re=="string"?new URL(Re,typeof window>"u"?"server://singlefetch/":window.location.origin):Re;return Ee.pathname==="/"?Ee.pathname="_root.data":e&&stripBasename(Ee.pathname,e)==="/"?Ee.pathname=`${e.replace(/\/$/,"")}/_root.data`:Ee.pathname=`${Ee.pathname.replace(/\/$/,"")}.data`,Ee}function useDataRouterContext2(){let Re=reactExports.useContext(DataRouterContext);return invariant2(Re,"You must render this element inside a <DataRouterContext.Provider> element"),Re}function useDataRouterStateContext(){let Re=reactExports.useContext(DataRouterStateContext);return invariant2(Re,"You must render this element inside a <DataRouterStateContext.Provider> element"),Re}var FrameworkContext=reactExports.createContext(void 0);FrameworkContext.displayName="FrameworkContext";function useFrameworkContext(){let Re=reactExports.useContext(FrameworkContext);return invariant2(Re,"You must render this element inside a <HydratedRouter> element"),Re}function usePrefetchBehavior(Re,e){let Ee=reactExports.useContext(FrameworkContext),[Ce,Te]=reactExports.useState(!1),[De,Me]=reactExports.useState(!1),{onFocus:Oe,onBlur:Be,onMouseEnter:ze,onMouseLeave:Ve,onTouchStart:qe}=e,We=reactExports.useRef(null);reactExports.useEffect(()=>{if(Re==="render"&&Me(!0),Re==="viewport"){let Qe=Ye=>{Ye.forEach(rs=>{Me(rs.isIntersecting)})},ns=new IntersectionObserver(Qe,{threshold:.5});return We.current&&ns.observe(We.current),()=>{ns.disconnect()}}},[Re]),reactExports.useEffect(()=>{if(Ce){let Qe=setTimeout(()=>{Me(!0)},100);return()=>{clearTimeout(Qe)}}},[Ce]);let Ge=()=>{Te(!0)},Je=()=>{Te(!1),Me(!1)};return Ee?Re!=="intent"?[De,We,{}]:[De,We,{onFocus:composeEventHandlers(Oe,Ge),onBlur:composeEventHandlers(Be,Je),onMouseEnter:composeEventHandlers(ze,Ge),onMouseLeave:composeEventHandlers(Ve,Je),onTouchStart:composeEventHandlers(qe,Ge)}]:[!1,We,{}]}function composeEventHandlers(Re,e){return Ee=>{Re&&Re(Ee),Ee.defaultPrevented||e(Ee)}}function PrefetchPageLinks({page:Re,...e}){let{router:Ee}=useDataRouterContext2(),Ce=reactExports.useMemo(()=>matchRoutes(Ee.routes,Re,Ee.basename),[Ee.routes,Re,Ee.basename]);return Ce?reactExports.createElement(PrefetchPageLinksImpl,{page:Re,matches:Ce,...e}):null}function useKeyedPrefetchLinks(Re){let{manifest:e,routeModules:Ee}=useFrameworkContext(),[Ce,Te]=reactExports.useState([]);return reactExports.useEffect(()=>{let De=!1;return getKeyedPrefetchLinks(Re,e,Ee).then(Me=>{De||Te(Me)}),()=>{De=!0}},[Re,e,Ee]),Ce}function PrefetchPageLinksImpl({page:Re,matches:e,...Ee}){let Ce=useLocation(),{manifest:Te,routeModules:De}=useFrameworkContext(),{basename:Me}=useDataRouterContext2(),{loaderData:Oe,matches:Be}=useDataRouterStateContext(),ze=reactExports.useMemo(()=>getNewMatchesForLinks(Re,e,Be,Te,Ce,"data"),[Re,e,Be,Te,Ce]),Ve=reactExports.useMemo(()=>getNewMatchesForLinks(Re,e,Be,Te,Ce,"assets"),[Re,e,Be,Te,Ce]),qe=reactExports.useMemo(()=>{if(Re===Ce.pathname+Ce.search+Ce.hash)return[];let Je=new Set,Qe=!1;if(e.forEach(Ye=>{var ts;let rs=Te.routes[Ye.route.id];!rs||!rs.hasLoader||(!ze.some(Xe=>Xe.route.id===Ye.route.id)&&Ye.route.id in Oe&&((ts=De[Ye.route.id])!=null&&ts.shouldRevalidate)||rs.hasClientLoader?Qe=!0:Je.add(Ye.route.id))}),Je.size===0)return[];let ns=singleFetchUrl(Re,Me);return Qe&&Je.size>0&&ns.searchParams.set("_routes",e.filter(Ye=>Je.has(Ye.route.id)).map(Ye=>Ye.route.id).join(",")),[ns.pathname+ns.search]},[Me,Oe,Ce,Te,ze,e,Re,De]),We=reactExports.useMemo(()=>getModuleLinkHrefs(Ve,Te),[Ve,Te]),Ge=useKeyedPrefetchLinks(Ve);return reactExports.createElement(reactExports.Fragment,null,qe.map(Je=>reactExports.createElement("link",{key:Je,rel:"prefetch",as:"fetch",href:Je,...Ee})),We.map(Je=>reactExports.createElement("link",{key:Je,rel:"modulepreload",href:Je,...Ee})),Ge.map(({key:Je,link:Qe})=>reactExports.createElement("link",{key:Je,...Qe})))}function mergeRefs$1(...Re){return e=>{Re.forEach(Ee=>{typeof Ee=="function"?Ee(e):Ee!=null&&(Ee.current=e)})}}var isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{isBrowser$2&&(window.__reactRouterVersion="7.4.1")}catch{}function BrowserRouter({basename:Re,children:e,window:Ee}){let Ce=reactExports.useRef();Ce.current==null&&(Ce.current=createBrowserHistory({window:Ee,v5Compat:!0}));let Te=Ce.current,[De,Me]=reactExports.useState({action:Te.action,location:Te.location}),Oe=reactExports.useCallback(Be=>{reactExports.startTransition(()=>Me(Be))},[Me]);return reactExports.useLayoutEffect(()=>Te.listen(Oe),[Te,Oe]),reactExports.createElement(Router,{basename:Re,children:e,location:De.location,navigationType:De.action,navigator:Te})}var ABSOLUTE_URL_REGEX2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Link$1=reactExports.forwardRef(function({onClick:e,discover:Ee="render",prefetch:Ce="none",relative:Te,reloadDocument:De,replace:Me,state:Oe,target:Be,to:ze,preventScrollReset:Ve,viewTransition:qe,...We},Ge){let{basename:Je}=reactExports.useContext(NavigationContext),Qe=typeof ze=="string"&&ABSOLUTE_URL_REGEX2.test(ze),ns,Ye=!1;if(typeof ze=="string"&&Qe&&(ns=ze,isBrowser$2))try{let xs=new URL(window.location.href),Ss=ze.startsWith("//")?new URL(xs.protocol+ze):new URL(ze),ds=stripBasename(Ss.pathname,Je);Ss.origin===xs.origin&&ds!=null?ze=ds+Ss.search+Ss.hash:Ye=!0}catch{warning$1(!1,`<Link to="${ze}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let rs=useHref(ze,{relative:Te}),[ts,Xe,is]=usePrefetchBehavior(Ce,We),os=useLinkClickHandler(ze,{replace:Me,state:Oe,target:Be,preventScrollReset:Ve,relative:Te,viewTransition:qe});function hs(xs){e&&e(xs),xs.defaultPrevented||os(xs)}let fs=reactExports.createElement("a",{...We,...is,href:ns||rs,onClick:Ye||De?e:hs,ref:mergeRefs$1(Ge,Xe),target:Be,"data-discover":!Qe&&Ee==="render"?"true":void 0});return ts&&!Qe?reactExports.createElement(reactExports.Fragment,null,fs,reactExports.createElement(PrefetchPageLinks,{page:rs})):fs});Link$1.displayName="Link";var NavLink=reactExports.forwardRef(function({"aria-current":e="page",caseSensitive:Ee=!1,className:Ce="",end:Te=!1,style:De,to:Me,viewTransition:Oe,children:Be,...ze},Ve){let qe=useResolvedPath(Me,{relative:ze.relative}),We=useLocation(),Ge=reactExports.useContext(DataRouterStateContext),{navigator:Je,basename:Qe}=reactExports.useContext(NavigationContext),ns=Ge!=null&&useViewTransitionState(qe)&&Oe===!0,Ye=Je.encodeLocation?Je.encodeLocation(qe).pathname:qe.pathname,rs=We.pathname,ts=Ge&&Ge.navigation&&Ge.navigation.location?Ge.navigation.location.pathname:null;Ee||(rs=rs.toLowerCase(),ts=ts?ts.toLowerCase():null,Ye=Ye.toLowerCase()),ts&&Qe&&(ts=stripBasename(ts,Qe)||ts);const Xe=Ye!=="/"&&Ye.endsWith("/")?Ye.length-1:Ye.length;let is=rs===Ye||!Te&&rs.startsWith(Ye)&&rs.charAt(Xe)==="/",os=ts!=null&&(ts===Ye||!Te&&ts.startsWith(Ye)&&ts.charAt(Ye.length)==="/"),hs={isActive:is,isPending:os,isTransitioning:ns},fs=is?e:void 0,xs;typeof Ce=="function"?xs=Ce(hs):xs=[Ce,is?"active":null,os?"pending":null,ns?"transitioning":null].filter(Boolean).join(" ");let Ss=typeof De=="function"?De(hs):De;return reactExports.createElement(Link$1,{...ze,"aria-current":fs,className:xs,ref:Ve,style:Ss,to:Me,viewTransition:Oe},typeof Be=="function"?Be(hs):Be)});NavLink.displayName="NavLink";var Form=reactExports.forwardRef(({discover:Re="render",fetcherKey:e,navigate:Ee,reloadDocument:Ce,replace:Te,state:De,method:Me=defaultMethod,action:Oe,onSubmit:Be,relative:ze,preventScrollReset:Ve,viewTransition:qe,...We},Ge)=>{let Je=useSubmit(),Qe=useFormAction(Oe,{relative:ze}),ns=Me.toLowerCase()==="get"?"get":"post",Ye=typeof Oe=="string"&&ABSOLUTE_URL_REGEX2.test(Oe),rs=ts=>{if(Be&&Be(ts),ts.defaultPrevented)return;ts.preventDefault();let Xe=ts.nativeEvent.submitter,is=(Xe==null?void 0:Xe.getAttribute("formmethod"))||Me;Je(Xe||ts.currentTarget,{fetcherKey:e,method:is,navigate:Ee,replace:Te,state:De,relative:ze,preventScrollReset:Ve,viewTransition:qe})};return reactExports.createElement("form",{ref:Ge,method:ns,action:Qe,onSubmit:Ce?Be:rs,...We,"data-discover":!Ye&&Re==="render"?"true":void 0})});Form.displayName="Form";function getDataRouterConsoleError2(Re){return`${Re} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function useDataRouterContext3(Re){let e=reactExports.useContext(DataRouterContext);return invariant$2(e,getDataRouterConsoleError2(Re)),e}function useLinkClickHandler(Re,{target:e,replace:Ee,state:Ce,preventScrollReset:Te,relative:De,viewTransition:Me}={}){let Oe=useNavigate(),Be=useLocation(),ze=useResolvedPath(Re,{relative:De});return reactExports.useCallback(Ve=>{if(shouldProcessLinkClick(Ve,e)){Ve.preventDefault();let qe=Ee!==void 0?Ee:createPath(Be)===createPath(ze);Oe(Re,{replace:qe,state:Ce,preventScrollReset:Te,relative:De,viewTransition:Me})}},[Be,Oe,ze,Ee,Ce,e,Re,Te,De,Me])}var fetcherId=0,getUniqueFetcherId=()=>`__${String(++fetcherId)}__`;function useSubmit(){let{router:Re}=useDataRouterContext3("useSubmit"),{basename:e}=reactExports.useContext(NavigationContext),Ee=useRouteId();return reactExports.useCallback(async(Ce,Te={})=>{let{action:De,method:Me,encType:Oe,formData:Be,body:ze}=getFormSubmissionInfo(Ce,e);if(Te.navigate===!1){let Ve=Te.fetcherKey||getUniqueFetcherId();await Re.fetch(Ve,Ee,Te.action||De,{preventScrollReset:Te.preventScrollReset,formData:Be,body:ze,formMethod:Te.method||Me,formEncType:Te.encType||Oe,flushSync:Te.flushSync})}else await Re.navigate(Te.action||De,{preventScrollReset:Te.preventScrollReset,formData:Be,body:ze,formMethod:Te.method||Me,formEncType:Te.encType||Oe,replace:Te.replace,state:Te.state,fromRouteId:Ee,flushSync:Te.flushSync,viewTransition:Te.viewTransition})},[Re,e,Ee])}function useFormAction(Re,{relative:e}={}){let{basename:Ee}=reactExports.useContext(NavigationContext),Ce=reactExports.useContext(RouteContext);invariant$2(Ce,"useFormAction must be used inside a RouteContext");let[Te]=Ce.matches.slice(-1),De={...useResolvedPath(Re||".",{relative:e})},Me=useLocation();if(Re==null){De.search=Me.search;let Oe=new URLSearchParams(De.search),Be=Oe.getAll("index");if(Be.some(Ve=>Ve==="")){Oe.delete("index"),Be.filter(qe=>qe).forEach(qe=>Oe.append("index",qe));let Ve=Oe.toString();De.search=Ve?`?${Ve}`:""}}return(!Re||Re===".")&&Te.route.index&&(De.search=De.search?De.search.replace(/^\?/,"?index&"):"?index"),Ee!=="/"&&(De.pathname=De.pathname==="/"?Ee:joinPaths([Ee,De.pathname])),createPath(De)}function useViewTransitionState(Re,e={}){let Ee=reactExports.useContext(ViewTransitionContext);invariant$2(Ee!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:Ce}=useDataRouterContext3("useViewTransitionState"),Te=useResolvedPath(Re,{relative:e.relative});if(!Ee.isTransitioning)return!1;let De=stripBasename(Ee.currentLocation.pathname,Ce)||Ee.currentLocation.pathname,Me=stripBasename(Ee.nextLocation.pathname,Ce)||Ee.nextLocation.pathname;return matchPath(Te.pathname,Me)!=null||matchPath(Te.pathname,De)!=null}new TextEncoder;var reactDom={exports:{}},reactDom_production={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var Re=requireReact();function e(Be){var ze="https://react.dev/errors/"+Be;if(1<arguments.length){ze+="?args[]="+encodeURIComponent(arguments[1]);for(var Ve=2;Ve<arguments.length;Ve++)ze+="&args[]="+encodeURIComponent(arguments[Ve])}return"Minified React error #"+Be+"; visit "+ze+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Ee(){}var Ce={d:{f:Ee,r:function(){throw Error(e(522))},D:Ee,C:Ee,L:Ee,m:Ee,X:Ee,S:Ee,M:Ee},p:0,findDOMNode:null},Te=Symbol.for("react.portal");function De(Be,ze,Ve){var qe=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Te,key:qe==null?null:""+qe,children:Be,containerInfo:ze,implementation:Ve}}var Me=Re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function Oe(Be,ze){if(Be==="font")return"";if(typeof ze=="string")return ze==="use-credentials"?ze:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Ce,reactDom_production.createPortal=function(Be,ze){var Ve=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ze||ze.nodeType!==1&&ze.nodeType!==9&&ze.nodeType!==11)throw Error(e(299));return De(Be,ze,null,Ve)},reactDom_production.flushSync=function(Be){var ze=Me.T,Ve=Ce.p;try{if(Me.T=null,Ce.p=2,Be)return Be()}finally{Me.T=ze,Ce.p=Ve,Ce.d.f()}},reactDom_production.preconnect=function(Be,ze){typeof Be=="string"&&(ze?(ze=ze.crossOrigin,ze=typeof ze=="string"?ze==="use-credentials"?ze:"":void 0):ze=null,Ce.d.C(Be,ze))},reactDom_production.prefetchDNS=function(Be){typeof Be=="string"&&Ce.d.D(Be)},reactDom_production.preinit=function(Be,ze){if(typeof Be=="string"&&ze&&typeof ze.as=="string"){var Ve=ze.as,qe=Oe(Ve,ze.crossOrigin),We=typeof ze.integrity=="string"?ze.integrity:void 0,Ge=typeof ze.fetchPriority=="string"?ze.fetchPriority:void 0;Ve==="style"?Ce.d.S(Be,typeof ze.precedence=="string"?ze.precedence:void 0,{crossOrigin:qe,integrity:We,fetchPriority:Ge}):Ve==="script"&&Ce.d.X(Be,{crossOrigin:qe,integrity:We,fetchPriority:Ge,nonce:typeof ze.nonce=="string"?ze.nonce:void 0})}},reactDom_production.preinitModule=function(Be,ze){if(typeof Be=="string")if(typeof ze=="object"&&ze!==null){if(ze.as==null||ze.as==="script"){var Ve=Oe(ze.as,ze.crossOrigin);Ce.d.M(Be,{crossOrigin:Ve,integrity:typeof ze.integrity=="string"?ze.integrity:void 0,nonce:typeof ze.nonce=="string"?ze.nonce:void 0})}}else ze==null&&Ce.d.M(Be)},reactDom_production.preload=function(Be,ze){if(typeof Be=="string"&&typeof ze=="object"&&ze!==null&&typeof ze.as=="string"){var Ve=ze.as,qe=Oe(Ve,ze.crossOrigin);Ce.d.L(Be,Ve,{crossOrigin:qe,integrity:typeof ze.integrity=="string"?ze.integrity:void 0,nonce:typeof ze.nonce=="string"?ze.nonce:void 0,type:typeof ze.type=="string"?ze.type:void 0,fetchPriority:typeof ze.fetchPriority=="string"?ze.fetchPriority:void 0,referrerPolicy:typeof ze.referrerPolicy=="string"?ze.referrerPolicy:void 0,imageSrcSet:typeof ze.imageSrcSet=="string"?ze.imageSrcSet:void 0,imageSizes:typeof ze.imageSizes=="string"?ze.imageSizes:void 0,media:typeof ze.media=="string"?ze.media:void 0})}},reactDom_production.preloadModule=function(Be,ze){if(typeof Be=="string")if(ze){var Ve=Oe(ze.as,ze.crossOrigin);Ce.d.m(Be,{as:typeof ze.as=="string"&&ze.as!=="script"?ze.as:void 0,crossOrigin:Ve,integrity:typeof ze.integrity=="string"?ze.integrity:void 0})}else Ce.d.m(Be)},reactDom_production.requestFormReset=function(Be){Ce.d.r(Be)},reactDom_production.unstable_batchedUpdates=function(Be,ze){return Be(ze)},reactDom_production.useFormState=function(Be,ze,Ve){return Me.H.useFormState(Be,ze,Ve)},reactDom_production.useFormStatus=function(){return Me.H.useHostTransitionStatus()},reactDom_production.version="19.0.0",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function Re(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Re)}catch(e){console.error(e)}}return Re(),reactDom.exports=requireReactDom_production(),reactDom.exports}var reactDomExports=requireReactDom(),client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,function(Re){function e(bs,Ns){var ps=bs.length;bs.push(Ns);e:for(;0<ps;){var _s=ps-1>>>1,ws=bs[_s];if(0<Te(ws,Ns))bs[_s]=Ns,bs[ps]=ws,ps=_s;else break e}}function Ee(bs){return bs.length===0?null:bs[0]}function Ce(bs){if(bs.length===0)return null;var Ns=bs[0],ps=bs.pop();if(ps!==Ns){bs[0]=ps;e:for(var _s=0,ws=bs.length,js=ws>>>1;_s<js;){var ms=2*(_s+1)-1,ys=bs[ms],ks=ms+1,zs=bs[ks];if(0>Te(ys,ps))ks<ws&&0>Te(zs,ys)?(bs[_s]=zs,bs[ks]=ps,_s=ks):(bs[_s]=ys,bs[ms]=ps,_s=ms);else if(ks<ws&&0>Te(zs,ps))bs[_s]=zs,bs[ks]=ps,_s=ks;else break e}}return Ns}function Te(bs,Ns){var ps=bs.sortIndex-Ns.sortIndex;return ps!==0?ps:bs.id-Ns.id}if(Re.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var De=performance;Re.unstable_now=function(){return De.now()}}else{var Me=Date,Oe=Me.now();Re.unstable_now=function(){return Me.now()-Oe}}var Be=[],ze=[],Ve=1,qe=null,We=3,Ge=!1,Je=!1,Qe=!1,ns=typeof setTimeout=="function"?setTimeout:null,Ye=typeof clearTimeout=="function"?clearTimeout:null,rs=typeof setImmediate<"u"?setImmediate:null;function ts(bs){for(var Ns=Ee(ze);Ns!==null;){if(Ns.callback===null)Ce(ze);else if(Ns.startTime<=bs)Ce(ze),Ns.sortIndex=Ns.expirationTime,e(Be,Ns);else break;Ns=Ee(ze)}}function Xe(bs){if(Qe=!1,ts(bs),!Je)if(Ee(Be)!==null)Je=!0,Ds();else{var Ns=Ee(ze);Ns!==null&&Ms(Xe,Ns.startTime-bs)}}var is=!1,os=-1,hs=5,fs=-1;function xs(){return!(Re.unstable_now()-fs<hs)}function Ss(){if(is){var bs=Re.unstable_now();fs=bs;var Ns=!0;try{e:{Je=!1,Qe&&(Qe=!1,Ye(os),os=-1),Ge=!0;var ps=We;try{t:{for(ts(bs),qe=Ee(Be);qe!==null&&!(qe.expirationTime>bs&&xs());){var _s=qe.callback;if(typeof _s=="function"){qe.callback=null,We=qe.priorityLevel;var ws=_s(qe.expirationTime<=bs);if(bs=Re.unstable_now(),typeof ws=="function"){qe.callback=ws,ts(bs),Ns=!0;break t}qe===Ee(Be)&&Ce(Be),ts(bs)}else Ce(Be);qe=Ee(Be)}if(qe!==null)Ns=!0;else{var js=Ee(ze);js!==null&&Ms(Xe,js.startTime-bs),Ns=!1}}break e}finally{qe=null,We=ps,Ge=!1}Ns=void 0}}finally{Ns?ds():is=!1}}}var ds;if(typeof rs=="function")ds=function(){rs(Ss)};else if(typeof MessageChannel<"u"){var gs=new MessageChannel,Ts=gs.port2;gs.port1.onmessage=Ss,ds=function(){Ts.postMessage(null)}}else ds=function(){ns(Ss,0)};function Ds(){is||(is=!0,ds())}function Ms(bs,Ns){os=ns(function(){bs(Re.unstable_now())},Ns)}Re.unstable_IdlePriority=5,Re.unstable_ImmediatePriority=1,Re.unstable_LowPriority=4,Re.unstable_NormalPriority=3,Re.unstable_Profiling=null,Re.unstable_UserBlockingPriority=2,Re.unstable_cancelCallback=function(bs){bs.callback=null},Re.unstable_continueExecution=function(){Je||Ge||(Je=!0,Ds())},Re.unstable_forceFrameRate=function(bs){0>bs||125<bs?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):hs=0<bs?Math.floor(1e3/bs):5},Re.unstable_getCurrentPriorityLevel=function(){return We},Re.unstable_getFirstCallbackNode=function(){return Ee(Be)},Re.unstable_next=function(bs){switch(We){case 1:case 2:case 3:var Ns=3;break;default:Ns=We}var ps=We;We=Ns;try{return bs()}finally{We=ps}},Re.unstable_pauseExecution=function(){},Re.unstable_requestPaint=function(){},Re.unstable_runWithPriority=function(bs,Ns){switch(bs){case 1:case 2:case 3:case 4:case 5:break;default:bs=3}var ps=We;We=bs;try{return Ns()}finally{We=ps}},Re.unstable_scheduleCallback=function(bs,Ns,ps){var _s=Re.unstable_now();switch(typeof ps=="object"&&ps!==null?(ps=ps.delay,ps=typeof ps=="number"&&0<ps?_s+ps:_s):ps=_s,bs){case 1:var ws=-1;break;case 2:ws=250;break;case 5:ws=1073741823;break;case 4:ws=1e4;break;default:ws=5e3}return ws=ps+ws,bs={id:Ve++,callback:Ns,priorityLevel:bs,startTime:ps,expirationTime:ws,sortIndex:-1},ps>_s?(bs.sortIndex=ps,e(ze,bs),Ee(Be)===null&&bs===Ee(ze)&&(Qe?(Ye(os),os=-1):Qe=!0,Ms(Xe,ps-_s))):(bs.sortIndex=ws,e(Be,bs),Je||Ge||(Je=!0,Ds())),bs},Re.unstable_shouldYield=xs,Re.unstable_wrapCallback=function(bs){var Ns=We;return function(){var ps=We;We=Ns;try{return bs.apply(this,arguments)}finally{We=ps}}}}(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var Re=requireScheduler(),e=requireReact(),Ee=requireReactDom();function Ce($e){var Ue="https://react.dev/errors/"+$e;if(1<arguments.length){Ue+="?args[]="+encodeURIComponent(arguments[1]);for(var Ze=2;Ze<arguments.length;Ze++)Ue+="&args[]="+encodeURIComponent(arguments[Ze])}return"Minified React error #"+$e+"; visit "+Ue+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Te($e){return!(!$e||$e.nodeType!==1&&$e.nodeType!==9&&$e.nodeType!==11)}var De=Symbol.for("react.element"),Me=Symbol.for("react.transitional.element"),Oe=Symbol.for("react.portal"),Be=Symbol.for("react.fragment"),ze=Symbol.for("react.strict_mode"),Ve=Symbol.for("react.profiler"),qe=Symbol.for("react.provider"),We=Symbol.for("react.consumer"),Ge=Symbol.for("react.context"),Je=Symbol.for("react.forward_ref"),Qe=Symbol.for("react.suspense"),ns=Symbol.for("react.suspense_list"),Ye=Symbol.for("react.memo"),rs=Symbol.for("react.lazy"),ts=Symbol.for("react.offscreen"),Xe=Symbol.for("react.memo_cache_sentinel"),is=Symbol.iterator;function os($e){return $e===null||typeof $e!="object"?null:($e=is&&$e[is]||$e["@@iterator"],typeof $e=="function"?$e:null)}var hs=Symbol.for("react.client.reference");function fs($e){if($e==null)return null;if(typeof $e=="function")return $e.$$typeof===hs?null:$e.displayName||$e.name||null;if(typeof $e=="string")return $e;switch($e){case Be:return"Fragment";case Oe:return"Portal";case Ve:return"Profiler";case ze:return"StrictMode";case Qe:return"Suspense";case ns:return"SuspenseList"}if(typeof $e=="object")switch($e.$$typeof){case Ge:return($e.displayName||"Context")+".Provider";case We:return($e._context.displayName||"Context")+".Consumer";case Je:var Ue=$e.render;return $e=$e.displayName,$e||($e=Ue.displayName||Ue.name||"",$e=$e!==""?"ForwardRef("+$e+")":"ForwardRef"),$e;case Ye:return Ue=$e.displayName||null,Ue!==null?Ue:fs($e.type)||"Memo";case rs:Ue=$e._payload,$e=$e._init;try{return fs($e(Ue))}catch{}}return null}var xs=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ss=Object.assign,ds,gs;function Ts($e){if(ds===void 0)try{throw Error()}catch(Ze){var Ue=Ze.stack.trim().match(/\n( *(at )?)/);ds=Ue&&Ue[1]||"",gs=-1<Ze.stack.indexOf(`
    at`)?" (<anonymous>)":-1<Ze.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ds+$e+gs}var Ds=!1;function Ms($e,Ue){if(!$e||Ds)return"";Ds=!0;var Ze=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var ss={DetermineComponentFrameRoot:function(){try{if(Ue){var si=function(){throw Error()};if(Object.defineProperty(si.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(si,[])}catch(Hr){var Dr=Hr}Reflect.construct($e,[],si)}else{try{si.call()}catch(Hr){Dr=Hr}$e.call(si.prototype)}}else{try{throw Error()}catch(Hr){Dr=Hr}(si=$e())&&typeof si.catch=="function"&&si.catch(function(){})}}catch(Hr){if(Hr&&Dr&&typeof Hr.stack=="string")return[Hr.stack,Dr.stack]}return[null,null]}};ss.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var cs=Object.getOwnPropertyDescriptor(ss.DetermineComponentFrameRoot,"name");cs&&cs.configurable&&Object.defineProperty(ss.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var vs=ss.DetermineComponentFrameRoot(),$s=vs[0],Qs=vs[1];if($s&&Qs){var cr=$s.split(`
`),yr=Qs.split(`
`);for(cs=ss=0;ss<cr.length&&!cr[ss].includes("DetermineComponentFrameRoot");)ss++;for(;cs<yr.length&&!yr[cs].includes("DetermineComponentFrameRoot");)cs++;if(ss===cr.length||cs===yr.length)for(ss=cr.length-1,cs=yr.length-1;1<=ss&&0<=cs&&cr[ss]!==yr[cs];)cs--;for(;1<=ss&&0<=cs;ss--,cs--)if(cr[ss]!==yr[cs]){if(ss!==1||cs!==1)do if(ss--,cs--,0>cs||cr[ss]!==yr[cs]){var Gr=`
`+cr[ss].replace(" at new "," at ");return $e.displayName&&Gr.includes("<anonymous>")&&(Gr=Gr.replace("<anonymous>",$e.displayName)),Gr}while(1<=ss&&0<=cs);break}}}finally{Ds=!1,Error.prepareStackTrace=Ze}return(Ze=$e?$e.displayName||$e.name:"")?Ts(Ze):""}function bs($e){switch($e.tag){case 26:case 27:case 5:return Ts($e.type);case 16:return Ts("Lazy");case 13:return Ts("Suspense");case 19:return Ts("SuspenseList");case 0:case 15:return $e=Ms($e.type,!1),$e;case 11:return $e=Ms($e.type.render,!1),$e;case 1:return $e=Ms($e.type,!0),$e;default:return""}}function Ns($e){try{var Ue="";do Ue+=bs($e),$e=$e.return;while($e);return Ue}catch(Ze){return`
Error generating stack: `+Ze.message+`
`+Ze.stack}}function ps($e){var Ue=$e,Ze=$e;if($e.alternate)for(;Ue.return;)Ue=Ue.return;else{$e=Ue;do Ue=$e,(Ue.flags&4098)!==0&&(Ze=Ue.return),$e=Ue.return;while($e)}return Ue.tag===3?Ze:null}function _s($e){if($e.tag===13){var Ue=$e.memoizedState;if(Ue===null&&($e=$e.alternate,$e!==null&&(Ue=$e.memoizedState)),Ue!==null)return Ue.dehydrated}return null}function ws($e){if(ps($e)!==$e)throw Error(Ce(188))}function js($e){var Ue=$e.alternate;if(!Ue){if(Ue=ps($e),Ue===null)throw Error(Ce(188));return Ue!==$e?null:$e}for(var Ze=$e,ss=Ue;;){var cs=Ze.return;if(cs===null)break;var vs=cs.alternate;if(vs===null){if(ss=cs.return,ss!==null){Ze=ss;continue}break}if(cs.child===vs.child){for(vs=cs.child;vs;){if(vs===Ze)return ws(cs),$e;if(vs===ss)return ws(cs),Ue;vs=vs.sibling}throw Error(Ce(188))}if(Ze.return!==ss.return)Ze=cs,ss=vs;else{for(var $s=!1,Qs=cs.child;Qs;){if(Qs===Ze){$s=!0,Ze=cs,ss=vs;break}if(Qs===ss){$s=!0,ss=cs,Ze=vs;break}Qs=Qs.sibling}if(!$s){for(Qs=vs.child;Qs;){if(Qs===Ze){$s=!0,Ze=vs,ss=cs;break}if(Qs===ss){$s=!0,ss=vs,Ze=cs;break}Qs=Qs.sibling}if(!$s)throw Error(Ce(189))}}if(Ze.alternate!==ss)throw Error(Ce(190))}if(Ze.tag!==3)throw Error(Ce(188));return Ze.stateNode.current===Ze?$e:Ue}function ms($e){var Ue=$e.tag;if(Ue===5||Ue===26||Ue===27||Ue===6)return $e;for($e=$e.child;$e!==null;){if(Ue=ms($e),Ue!==null)return Ue;$e=$e.sibling}return null}var ys=Array.isArray,ks=Ee.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,zs={pending:!1,data:null,method:null,action:null},Cs=[],Ps=-1;function Us($e){return{current:$e}}function Is($e){0>Ps||($e.current=Cs[Ps],Cs[Ps]=null,Ps--)}function Vs($e,Ue){Ps++,Cs[Ps]=$e.current,$e.current=Ue}var Ks=Us(null),or=Us(null),rr=Us(null),ur=Us(null);function Ws($e,Ue){switch(Vs(rr,Ue),Vs(or,$e),Vs(Ks,null),$e=Ue.nodeType,$e){case 9:case 11:Ue=(Ue=Ue.documentElement)&&(Ue=Ue.namespaceURI)?Yw(Ue):0;break;default:if($e=$e===8?Ue.parentNode:Ue,Ue=$e.tagName,$e=$e.namespaceURI)$e=Yw($e),Ue=Xw($e,Ue);else switch(Ue){case"svg":Ue=1;break;case"math":Ue=2;break;default:Ue=0}}Is(Ks),Vs(Ks,Ue)}function Er(){Is(Ks),Is(or),Is(rr)}function zr($e){$e.memoizedState!==null&&Vs(ur,$e);var Ue=Ks.current,Ze=Xw(Ue,$e.type);Ue!==Ze&&(Vs(or,$e),Vs(Ks,Ze))}function Or($e){or.current===$e&&(Is(Ks),Is(or)),ur.current===$e&&(Is(ur),Ty._currentValue=zs)}var tr=Object.prototype.hasOwnProperty,Lr=Re.unstable_scheduleCallback,Js=Re.unstable_cancelCallback,lr=Re.unstable_shouldYield,hr=Re.unstable_requestPaint,Ar=Re.unstable_now,Pr=Re.unstable_getCurrentPriorityLevel,vr=Re.unstable_ImmediatePriority,Mr=Re.unstable_UserBlockingPriority,Qr=Re.unstable_NormalPriority,Ur=Re.unstable_LowPriority,ti=Re.unstable_IdlePriority,oi=Re.log,Ti=Re.unstable_setDisableYieldValue,_i=null,mi=null;function Ci($e){if(mi&&typeof mi.onCommitFiberRoot=="function")try{mi.onCommitFiberRoot(_i,$e,void 0,($e.current.flags&128)===128)}catch{}}function Tr($e){if(typeof oi=="function"&&Ti($e),mi&&typeof mi.setStrictMode=="function")try{mi.setStrictMode(_i,$e)}catch{}}var Sr=Math.clz32?Math.clz32:ri,Ir=Math.log,Kr=Math.LN2;function ri($e){return $e>>>=0,$e===0?32:31-(Ir($e)/Kr|0)|0}var Wr=128,ai=4194304;function ii($e){var Ue=$e&42;if(Ue!==0)return Ue;switch($e&-$e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return $e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return $e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return $e}}function yi($e,Ue){var Ze=$e.pendingLanes;if(Ze===0)return 0;var ss=0,cs=$e.suspendedLanes,vs=$e.pingedLanes,$s=$e.warmLanes;$e=$e.finishedLanes!==0;var Qs=Ze&134217727;return Qs!==0?(Ze=Qs&~cs,Ze!==0?ss=ii(Ze):(vs&=Qs,vs!==0?ss=ii(vs):$e||($s=Qs&~$s,$s!==0&&(ss=ii($s))))):(Qs=Ze&~cs,Qs!==0?ss=ii(Qs):vs!==0?ss=ii(vs):$e||($s=Ze&~$s,$s!==0&&(ss=ii($s)))),ss===0?0:Ue!==0&&Ue!==ss&&(Ue&cs)===0&&(cs=ss&-ss,$s=Ue&-Ue,cs>=$s||cs===32&&($s&4194176)!==0)?Ue:ss}function Sn($e,Ue){return($e.pendingLanes&~($e.suspendedLanes&~$e.pingedLanes)&Ue)===0}function $i($e,Ue){switch($e){case 1:case 2:case 4:case 8:return Ue+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Ue+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dn(){var $e=Wr;return Wr<<=1,(Wr&4194176)===0&&(Wr=128),$e}function Si(){var $e=ai;return ai<<=1,(ai&62914560)===0&&(ai=4194304),$e}function pi($e){for(var Ue=[],Ze=0;31>Ze;Ze++)Ue.push($e);return Ue}function Xa($e,Ue){$e.pendingLanes|=Ue,Ue!==268435456&&($e.suspendedLanes=0,$e.pingedLanes=0,$e.warmLanes=0)}function ml($e,Ue,Ze,ss,cs,vs){var $s=$e.pendingLanes;$e.pendingLanes=Ze,$e.suspendedLanes=0,$e.pingedLanes=0,$e.warmLanes=0,$e.expiredLanes&=Ze,$e.entangledLanes&=Ze,$e.errorRecoveryDisabledLanes&=Ze,$e.shellSuspendCounter=0;var Qs=$e.entanglements,cr=$e.expirationTimes,yr=$e.hiddenUpdates;for(Ze=$s&~Ze;0<Ze;){var Gr=31-Sr(Ze),si=1<<Gr;Qs[Gr]=0,cr[Gr]=-1;var Dr=yr[Gr];if(Dr!==null)for(yr[Gr]=null,Gr=0;Gr<Dr.length;Gr++){var Hr=Dr[Gr];Hr!==null&&(Hr.lane&=-536870913)}Ze&=~si}ss!==0&&Ja($e,ss,0),vs!==0&&cs===0&&$e.tag!==0&&($e.suspendedLanes|=vs&~($s&~Ue))}function Ja($e,Ue,Ze){$e.pendingLanes|=Ue,$e.suspendedLanes&=~Ue;var ss=31-Sr(Ue);$e.entangledLanes|=Ue,$e.entanglements[ss]=$e.entanglements[ss]|1073741824|Ze&4194218}function Qa($e,Ue){var Ze=$e.entangledLanes|=Ue;for($e=$e.entanglements;Ze;){var ss=31-Sr(Ze),cs=1<<ss;cs&Ue|$e[ss]&Ue&&($e[ss]|=Ue),Ze&=~cs}}function Ji($e){return $e&=-$e,2<$e?8<$e?($e&134217727)!==0?32:268435456:8:2}function ci(){var $e=ks.p;return $e!==0?$e:($e=window.event,$e===void 0?32:fR($e.type))}function aa($e,Ue){var Ze=ks.p;try{return ks.p=$e,Ue()}finally{ks.p=Ze}}var Pa=Math.random().toString(36).slice(2),Rn="__reactFiber$"+Pa,Pn="__reactProps$"+Pa,Va="__reactContainer$"+Pa,Co="__reactEvents$"+Pa,eo="__reactListeners$"+Pa,Ko="__reactHandles$"+Pa,Au="__reactResources$"+Pa,Po="__reactMarker$"+Pa;function Bc($e){delete $e[Rn],delete $e[Pn],delete $e[Co],delete $e[eo],delete $e[Ko]}function xl($e){var Ue=$e[Rn];if(Ue)return Ue;for(var Ze=$e.parentNode;Ze;){if(Ue=Ze[Va]||Ze[Rn]){if(Ze=Ue.alternate,Ue.child!==null||Ze!==null&&Ze.child!==null)for($e=eR($e);$e!==null;){if(Ze=$e[Rn])return Ze;$e=eR($e)}return Ue}$e=Ze,Ze=$e.parentNode}return null}function gl($e){if($e=$e[Rn]||$e[Va]){var Ue=$e.tag;if(Ue===5||Ue===6||Ue===13||Ue===26||Ue===27||Ue===3)return $e}return null}function pc($e){var Ue=$e.tag;if(Ue===5||Ue===26||Ue===27||Ue===6)return $e.stateNode;throw Error(Ce(33))}function ql($e){var Ue=$e[Au];return Ue||(Ue=$e[Au]={hoistableStyles:new Map,hoistableScripts:new Map}),Ue}function Jn($e){$e[Po]=!0}var Th=new Set,kh={};function Ta($e,Ue){mc($e,Ue),mc($e+"Capture",Ue)}function mc($e,Ue){for(kh[$e]=Ue,$e=0;$e<Ue.length;$e++)Th.add(Ue[$e])}var To=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ud={},Hd={};function Cu($e){return tr.call(Hd,$e)?!0:tr.call(Ud,$e)?!1:zc.test($e)?Hd[$e]=!0:(Ud[$e]=!0,!1)}function Fi($e,Ue,Ze){if(Cu(Ue))if(Ze===null)$e.removeAttribute(Ue);else{switch(typeof Ze){case"undefined":case"function":case"symbol":$e.removeAttribute(Ue);return;case"boolean":var ss=Ue.toLowerCase().slice(0,5);if(ss!=="data-"&&ss!=="aria-"){$e.removeAttribute(Ue);return}}$e.setAttribute(Ue,""+Ze)}}function hn($e,Ue,Ze){if(Ze===null)$e.removeAttribute(Ue);else{switch(typeof Ze){case"undefined":case"function":case"symbol":case"boolean":$e.removeAttribute(Ue);return}$e.setAttribute(Ue,""+Ze)}}function ko($e,Ue,Ze,ss){if(ss===null)$e.removeAttribute(Ze);else{switch(typeof ss){case"undefined":case"function":case"symbol":case"boolean":$e.removeAttribute(Ze);return}$e.setAttributeNS(Ue,Ze,""+ss)}}function Ki($e){switch(typeof $e){case"bigint":case"boolean":case"number":case"string":case"undefined":return $e;case"object":return $e;default:return""}}function fc($e){var Ue=$e.type;return($e=$e.nodeName)&&$e.toLowerCase()==="input"&&(Ue==="checkbox"||Ue==="radio")}function yl($e){var Ue=fc($e)?"checked":"value",Ze=Object.getOwnPropertyDescriptor($e.constructor.prototype,Ue),ss=""+$e[Ue];if(!$e.hasOwnProperty(Ue)&&typeof Ze<"u"&&typeof Ze.get=="function"&&typeof Ze.set=="function"){var cs=Ze.get,vs=Ze.set;return Object.defineProperty($e,Ue,{configurable:!0,get:function(){return cs.call(this)},set:function($s){ss=""+$s,vs.call(this,$s)}}),Object.defineProperty($e,Ue,{enumerable:Ze.enumerable}),{getValue:function(){return ss},setValue:function($s){ss=""+$s},stopTracking:function(){$e._valueTracker=null,delete $e[Ue]}}}}function ki($e){$e._valueTracker||($e._valueTracker=yl($e))}function Tn($e){if(!$e)return!1;var Ue=$e._valueTracker;if(!Ue)return!0;var Ze=Ue.getValue(),ss="";return $e&&(ss=fc($e)?$e.checked?"true":"false":$e.value),$e=ss,$e!==Ze?(Ue.setValue($e),!0):!1}function Ua($e){if($e=$e||(typeof document<"u"?document:void 0),typeof $e>"u")return null;try{return $e.activeElement||$e.body}catch{return $e.body}}var Qn=/[\n"\\]/g;function pn($e){return $e.replace(Qn,function(Ue){return"\\"+Ue.charCodeAt(0).toString(16)+" "})}function qd($e,Ue,Ze,ss,cs,vs,$s,Qs){$e.name="",$s!=null&&typeof $s!="function"&&typeof $s!="symbol"&&typeof $s!="boolean"?$e.type=$s:$e.removeAttribute("type"),Ue!=null?$s==="number"?(Ue===0&&$e.value===""||$e.value!=Ue)&&($e.value=""+Ki(Ue)):$e.value!==""+Ki(Ue)&&($e.value=""+Ki(Ue)):$s!=="submit"&&$s!=="reset"||$e.removeAttribute("value"),Ue!=null?Gl($e,$s,Ki(Ue)):Ze!=null?Gl($e,$s,Ki(Ze)):ss!=null&&$e.removeAttribute("value"),cs==null&&vs!=null&&($e.defaultChecked=!!vs),cs!=null&&($e.checked=cs&&typeof cs!="function"&&typeof cs!="symbol"),Qs!=null&&typeof Qs!="function"&&typeof Qs!="symbol"&&typeof Qs!="boolean"?$e.name=""+Ki(Qs):$e.removeAttribute("name")}function pd($e,Ue,Ze,ss,cs,vs,$s,Qs){if(vs!=null&&typeof vs!="function"&&typeof vs!="symbol"&&typeof vs!="boolean"&&($e.type=vs),Ue!=null||Ze!=null){if(!(vs!=="submit"&&vs!=="reset"||Ue!=null))return;Ze=Ze!=null?""+Ki(Ze):"",Ue=Ue!=null?""+Ki(Ue):Ze,Qs||Ue===$e.value||($e.value=Ue),$e.defaultValue=Ue}ss=ss??cs,ss=typeof ss!="function"&&typeof ss!="symbol"&&!!ss,$e.checked=Qs?$e.checked:!!ss,$e.defaultChecked=!!ss,$s!=null&&typeof $s!="function"&&typeof $s!="symbol"&&typeof $s!="boolean"&&($e.name=$s)}function Gl($e,Ue,Ze){Ue==="number"&&Ua($e.ownerDocument)===$e||$e.defaultValue===""+Ze||($e.defaultValue=""+Ze)}function tn($e,Ue,Ze,ss){if($e=$e.options,Ue){Ue={};for(var cs=0;cs<Ze.length;cs++)Ue["$"+Ze[cs]]=!0;for(Ze=0;Ze<$e.length;Ze++)cs=Ue.hasOwnProperty("$"+$e[Ze].value),$e[Ze].selected!==cs&&($e[Ze].selected=cs),cs&&ss&&($e[Ze].defaultSelected=!0)}else{for(Ze=""+Ki(Ze),Ue=null,cs=0;cs<$e.length;cs++){if($e[cs].value===Ze){$e[cs].selected=!0,ss&&($e[cs].defaultSelected=!0);return}Ue!==null||$e[cs].disabled||(Ue=$e[cs])}Ue!==null&&(Ue.selected=!0)}}function Wl($e,Ue,Ze){if(Ue!=null&&(Ue=""+Ki(Ue),Ue!==$e.value&&($e.value=Ue),Ze==null)){$e.defaultValue!==Ue&&($e.defaultValue=Ue);return}$e.defaultValue=Ze!=null?""+Ki(Ze):""}function $c($e,Ue,Ze,ss){if(Ue==null){if(ss!=null){if(Ze!=null)throw Error(Ce(92));if(ys(ss)){if(1<ss.length)throw Error(Ce(93));ss=ss[0]}Ze=ss}Ze==null&&(Ze=""),Ue=Ze}Ze=Ki(Ue),$e.defaultValue=Ze,ss=$e.textContent,ss===Ze&&ss!==""&&ss!==null&&($e.value=ss)}function ho($e,Ue){if(Ue){var Ze=$e.firstChild;if(Ze&&Ze===$e.lastChild&&Ze.nodeType===3){Ze.nodeValue=Ue;return}}$e.textContent=Ue}var Vc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Pu($e,Ue,Ze){var ss=Ue.indexOf("--")===0;Ze==null||typeof Ze=="boolean"||Ze===""?ss?$e.setProperty(Ue,""):Ue==="float"?$e.cssFloat="":$e[Ue]="":ss?$e.setProperty(Ue,Ze):typeof Ze!="number"||Ze===0||Vc.has(Ue)?Ue==="float"?$e.cssFloat=Ze:$e[Ue]=(""+Ze).trim():$e[Ue]=Ze+"px"}function Gd($e,Ue,Ze){if(Ue!=null&&typeof Ue!="object")throw Error(Ce(62));if($e=$e.style,Ze!=null){for(var ss in Ze)!Ze.hasOwnProperty(ss)||Ue!=null&&Ue.hasOwnProperty(ss)||(ss.indexOf("--")===0?$e.setProperty(ss,""):ss==="float"?$e.cssFloat="":$e[ss]="");for(var cs in Ue)ss=Ue[cs],Ue.hasOwnProperty(cs)&&Ze[cs]!==ss&&Pu($e,cs,ss)}else for(var vs in Ue)Ue.hasOwnProperty(vs)&&Pu($e,vs,Ue[vs])}function md($e){if($e.indexOf("-")===-1)return!1;switch($e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Wd=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to($e){return Wd.test(""+$e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":$e}var ku=null;function xc($e){return $e=$e.target||$e.srcElement||window,$e.correspondingUseElement&&($e=$e.correspondingUseElement),$e.nodeType===3?$e.parentNode:$e}var vl=null,Du=null;function ni($e){var Ue=gl($e);if(Ue&&($e=Ue.stateNode)){var Ze=$e[Pn]||null;e:switch($e=Ue.stateNode,Ue.type){case"input":if(qd($e,Ze.value,Ze.defaultValue,Ze.defaultValue,Ze.checked,Ze.defaultChecked,Ze.type,Ze.name),Ue=Ze.name,Ze.type==="radio"&&Ue!=null){for(Ze=$e;Ze.parentNode;)Ze=Ze.parentNode;for(Ze=Ze.querySelectorAll('input[name="'+pn(""+Ue)+'"][type="radio"]'),Ue=0;Ue<Ze.length;Ue++){var ss=Ze[Ue];if(ss!==$e&&ss.form===$e.form){var cs=ss[Pn]||null;if(!cs)throw Error(Ce(90));qd(ss,cs.value,cs.defaultValue,cs.defaultValue,cs.checked,cs.defaultChecked,cs.type,cs.name)}}for(Ue=0;Ue<Ze.length;Ue++)ss=Ze[Ue],ss.form===$e.form&&Tn(ss)}break e;case"textarea":Wl($e,Ze.value,Ze.defaultValue);break e;case"select":Ue=Ze.value,Ue!=null&&tn($e,!!Ze.multiple,Ue,!1)}}}var Do=!1;function gn($e,Ue,Ze){if(Do)return $e(Ue,Ze);Do=!0;try{var ss=$e(Ue);return ss}finally{if(Do=!1,(vl!==null||Du!==null)&&(sb(),vl&&(Ue=vl,$e=Du,Du=vl=null,ni(Ue),$e)))for(Ue=0;Ue<$e.length;Ue++)ni($e[Ue])}}function Lu($e,Ue){var Ze=$e.stateNode;if(Ze===null)return null;var ss=Ze[Pn]||null;if(ss===null)return null;Ze=ss[Ue];e:switch(Ue){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(ss=!ss.disabled)||($e=$e.type,ss=!($e==="button"||$e==="input"||$e==="select"||$e==="textarea")),$e=!ss;break e;default:$e=!1}if($e)return null;if(Ze&&typeof Ze!="function")throw Error(Ce(231,Ue,typeof Ze));return Ze}var Yo=!1;if(To)try{var po={};Object.defineProperty(po,"passive",{get:function(){Yo=!0}}),window.addEventListener("test",po,po),window.removeEventListener("test",po,po)}catch{Yo=!1}var bl=null,Zl=null,Kl=null;function gc(){if(Kl)return Kl;var $e,Ue=Zl,Ze=Ue.length,ss,cs="value"in bl?bl.value:bl.textContent,vs=cs.length;for($e=0;$e<Ze&&Ue[$e]===cs[$e];$e++);var $s=Ze-$e;for(ss=1;ss<=$s&&Ue[Ze-ss]===cs[vs-ss];ss++);return Kl=cs.slice($e,1<ss?1-ss:void 0)}function Nn($e){var Ue=$e.keyCode;return"charCode"in $e?($e=$e.charCode,$e===0&&Ue===13&&($e=13)):$e=Ue,$e===10&&($e=13),32<=$e||$e===13?$e:0}function jl(){return!0}function Yl(){return!1}function Ha($e){function Ue(Ze,ss,cs,vs,$s){this._reactName=Ze,this._targetInst=cs,this.type=ss,this.nativeEvent=vs,this.target=$s,this.currentTarget=null;for(var Qs in $e)$e.hasOwnProperty(Qs)&&(Ze=$e[Qs],this[Qs]=Ze?Ze(vs):vs[Qs]);return this.isDefaultPrevented=(vs.defaultPrevented!=null?vs.defaultPrevented:vs.returnValue===!1)?jl:Yl,this.isPropagationStopped=Yl,this}return Ss(Ue.prototype,{preventDefault:function(){this.defaultPrevented=!0;var Ze=this.nativeEvent;Ze&&(Ze.preventDefault?Ze.preventDefault():typeof Ze.returnValue!="unknown"&&(Ze.returnValue=!1),this.isDefaultPrevented=jl)},stopPropagation:function(){var Ze=this.nativeEvent;Ze&&(Ze.stopPropagation?Ze.stopPropagation():typeof Ze.cancelBubble!="unknown"&&(Ze.cancelBubble=!0),this.isPropagationStopped=jl)},persist:function(){},isPersistent:jl}),Ue}var Xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function($e){return $e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uc=Ha(Xl),yc=Ss({},Xl,{view:0,detail:0}),Hc=Ha(yc),Mu,zi,qc,ma=Ss({},yc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xi,button:0,buttons:0,relatedTarget:function($e){return $e.relatedTarget===void 0?$e.fromElement===$e.srcElement?$e.toElement:$e.fromElement:$e.relatedTarget},movementX:function($e){return"movementX"in $e?$e.movementX:($e!==qc&&(qc&&$e.type==="mousemove"?(Mu=$e.screenX-qc.screenX,zi=$e.screenY-qc.screenY):zi=Mu=0,qc=$e),Mu)},movementY:function($e){return"movementY"in $e?$e.movementY:zi}}),vc=Ha(ma),Dh=Ss({},ma,{dataTransfer:0}),Hp=Ha(Dh),Jl=Ss({},yc,{relatedTarget:0}),Ql=Ha(Jl),Lh=Ss({},Xl,{animationName:0,elapsedTime:0,pseudoElement:0}),fd=Ha(Lh),qp=Ss({},Xl,{clipboardData:function($e){return"clipboardData"in $e?$e.clipboardData:window.clipboardData}}),Rs=Ha(qp),qs=Ss({},Xl,{data:0}),ir=Ha(qs),pr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},br={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xr($e){var Ue=this.nativeEvent;return Ue.getModifierState?Ue.getModifierState($e):($e=Fr[$e])?!!Ue[$e]:!1}function xi(){return Xr}var vi=Ss({},yc,{key:function($e){if($e.key){var Ue=pr[$e.key]||$e.key;if(Ue!=="Unidentified")return Ue}return $e.type==="keypress"?($e=Nn($e),$e===13?"Enter":String.fromCharCode($e)):$e.type==="keydown"||$e.type==="keyup"?br[$e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xi,charCode:function($e){return $e.type==="keypress"?Nn($e):0},keyCode:function($e){return $e.type==="keydown"||$e.type==="keyup"?$e.keyCode:0},which:function($e){return $e.type==="keypress"?Nn($e):$e.type==="keydown"||$e.type==="keyup"?$e.keyCode:0}}),Li=Ha(vi),Oi=Ss({},ma,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Ha(Oi),qn=Ss({},yc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xi}),fa=Ha(qn),jn=Ss({},Xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ea=Ha(jn),oa=Ss({},ma,{deltaX:function($e){return"deltaX"in $e?$e.deltaX:"wheelDeltaX"in $e?-$e.wheelDeltaX:0},deltaY:function($e){return"deltaY"in $e?$e.deltaY:"wheelDeltaY"in $e?-$e.wheelDeltaY:"wheelDelta"in $e?-$e.wheelDelta:0},deltaZ:0,deltaMode:0}),ka=Ha(oa),El=Ss({},Xl,{newState:0,oldState:0}),qa=Ha(El),Gc=[9,13,27,32],ec=To&&"CompositionEvent"in window,la=null;To&&"documentMode"in document&&(la=document.documentMode);var Wc=To&&"TextEvent"in window&&!la,Zc=To&&(!ec||la&&8<la&&11>=la),Fu=" ",tc=!1;function xa($e,Ue){switch($e){case"keyup":return Gc.indexOf(Ue.keyCode)!==-1;case"keydown":return Ue.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ou($e){return $e=$e.detail,typeof $e=="object"&&"data"in $e?$e.data:null}var wl=!1;function Zd($e,Ue){switch($e){case"compositionend":return Ou(Ue);case"keypress":return Ue.which!==32?null:(tc=!0,Fu);case"textInput":return $e=Ue.data,$e===Fu&&tc?null:$e;default:return null}}function Mh($e,Ue){if(wl)return $e==="compositionend"||!ec&&xa($e,Ue)?($e=gc(),Kl=Zl=bl=null,wl=!1,$e):null;switch($e){case"paste":return null;case"keypress":if(!(Ue.ctrlKey||Ue.altKey||Ue.metaKey)||Ue.ctrlKey&&Ue.altKey){if(Ue.char&&1<Ue.char.length)return Ue.char;if(Ue.which)return String.fromCharCode(Ue.which)}return null;case"compositionend":return Zc&&Ue.locale!=="ko"?null:Ue.data;default:return null}}var kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mo($e){var Ue=$e&&$e.nodeName&&$e.nodeName.toLowerCase();return Ue==="input"?!!kn[$e.type]:Ue==="textarea"}function xd($e,Ue,Ze,ss){vl?Du?Du.push(ss):Du=[ss]:vl=ss,Ue=lb(Ue,"onChange"),0<Ue.length&&(Ze=new Uc("onChange","change",null,Ze,ss),$e.push({event:Ze,listeners:Ue}))}var so=null,ro=null;function Rl($e){qw($e,0)}function Iu($e){var Ue=pc($e);if(Tn(Ue))return $e}function bc($e,Ue){if($e==="change")return Ue}var jc=!1;if(To){var _l;if(To){var fo="oninput"in document;if(!fo){var ca=document.createElement("div");ca.setAttribute("oninput","return;"),fo=typeof ca.oninput=="function"}_l=fo}else _l=!1;jc=_l&&(!document.documentMode||9<document.documentMode)}function Sl(){so&&(so.detachEvent("onpropertychange",Ec),ro=so=null)}function Ec($e){if($e.propertyName==="value"&&Iu(ro)){var Ue=[];xd(Ue,ro,$e,xc($e)),gn(Rl,Ue)}}function wc($e,Ue,Ze){$e==="focusin"?(Sl(),so=Ue,ro=Ze,so.attachEvent("onpropertychange",Ec)):$e==="focusout"&&Sl()}function Fh($e){if($e==="selectionchange"||$e==="keyup"||$e==="keydown")return Iu(ro)}function Lo($e,Ue){if($e==="click")return Iu(Ue)}function ua($e,Ue){if($e==="input"||$e==="change")return Iu(Ue)}function Kc($e,Ue){return $e===Ue&&($e!==0||1/$e===1/Ue)||$e!==$e&&Ue!==Ue}var ea=typeof Object.is=="function"?Object.is:Kc;function ta($e,Ue){if(ea($e,Ue))return!0;if(typeof $e!="object"||$e===null||typeof Ue!="object"||Ue===null)return!1;var Ze=Object.keys($e),ss=Object.keys(Ue);if(Ze.length!==ss.length)return!1;for(ss=0;ss<Ze.length;ss++){var cs=Ze[ss];if(!tr.call(Ue,cs)||!ea($e[cs],Ue[cs]))return!1}return!0}function Yc($e){for(;$e&&$e.firstChild;)$e=$e.firstChild;return $e}function gd($e,Ue){var Ze=Yc($e);$e=0;for(var ss;Ze;){if(Ze.nodeType===3){if(ss=$e+Ze.textContent.length,$e<=Ue&&ss>=Ue)return{node:Ze,offset:Ue-$e};$e=ss}e:{for(;Ze;){if(Ze.nextSibling){Ze=Ze.nextSibling;break e}Ze=Ze.parentNode}Ze=void 0}Ze=Yc(Ze)}}function Bu($e,Ue){return $e&&Ue?$e===Ue?!0:$e&&$e.nodeType===3?!1:Ue&&Ue.nodeType===3?Bu($e,Ue.parentNode):"contains"in $e?$e.contains(Ue):$e.compareDocumentPosition?!!($e.compareDocumentPosition(Ue)&16):!1:!1}function Xc($e){$e=$e!=null&&$e.ownerDocument!=null&&$e.ownerDocument.defaultView!=null?$e.ownerDocument.defaultView:window;for(var Ue=Ua($e.document);Ue instanceof $e.HTMLIFrameElement;){try{var Ze=typeof Ue.contentWindow.location.href=="string"}catch{Ze=!1}if(Ze)$e=Ue.contentWindow;else break;Ue=Ua($e.document)}return Ue}function Nl($e){var Ue=$e&&$e.nodeName&&$e.nodeName.toLowerCase();return Ue&&(Ue==="input"&&($e.type==="text"||$e.type==="search"||$e.type==="tel"||$e.type==="url"||$e.type==="password")||Ue==="textarea"||$e.contentEditable==="true")}function sc($e,Ue){var Ze=Xc(Ue);Ue=$e.focusedElem;var ss=$e.selectionRange;if(Ze!==Ue&&Ue&&Ue.ownerDocument&&Bu(Ue.ownerDocument.documentElement,Ue)){if(ss!==null&&Nl(Ue)){if($e=ss.start,Ze=ss.end,Ze===void 0&&(Ze=$e),"selectionStart"in Ue)Ue.selectionStart=$e,Ue.selectionEnd=Math.min(Ze,Ue.value.length);else if(Ze=($e=Ue.ownerDocument||document)&&$e.defaultView||window,Ze.getSelection){Ze=Ze.getSelection();var cs=Ue.textContent.length,vs=Math.min(ss.start,cs);ss=ss.end===void 0?vs:Math.min(ss.end,cs),!Ze.extend&&vs>ss&&(cs=ss,ss=vs,vs=cs),cs=gd(Ue,vs);var $s=gd(Ue,ss);cs&&$s&&(Ze.rangeCount!==1||Ze.anchorNode!==cs.node||Ze.anchorOffset!==cs.offset||Ze.focusNode!==$s.node||Ze.focusOffset!==$s.offset)&&($e=$e.createRange(),$e.setStart(cs.node,cs.offset),Ze.removeAllRanges(),vs>ss?(Ze.addRange($e),Ze.extend($s.node,$s.offset)):($e.setEnd($s.node,$s.offset),Ze.addRange($e)))}}for($e=[],Ze=Ue;Ze=Ze.parentNode;)Ze.nodeType===1&&$e.push({element:Ze,left:Ze.scrollLeft,top:Ze.scrollTop});for(typeof Ue.focus=="function"&&Ue.focus(),Ue=0;Ue<$e.length;Ue++)Ze=$e[Ue],Ze.element.scrollLeft=Ze.left,Ze.element.scrollTop=Ze.top}}var Xo=To&&"documentMode"in document&&11>=document.documentMode,xo=null,Al=null,Cl=null,Mo=!1;function Fo($e,Ue,Ze){var ss=Ze.window===Ze?Ze.document:Ze.nodeType===9?Ze:Ze.ownerDocument;Mo||xo==null||xo!==Ua(ss)||(ss=xo,"selectionStart"in ss&&Nl(ss)?ss={start:ss.selectionStart,end:ss.selectionEnd}:(ss=(ss.ownerDocument&&ss.ownerDocument.defaultView||window).getSelection(),ss={anchorNode:ss.anchorNode,anchorOffset:ss.anchorOffset,focusNode:ss.focusNode,focusOffset:ss.focusOffset}),Cl&&ta(Cl,ss)||(Cl=ss,ss=lb(Al,"onSelect"),0<ss.length&&(Ue=new Uc("onSelect","select",null,Ue,Ze),$e.push({event:Ue,listeners:ss}),Ue.target=xo)))}function Yi($e,Ue){var Ze={};return Ze[$e.toLowerCase()]=Ue.toLowerCase(),Ze["Webkit"+$e]="webkit"+Ue,Ze["Moz"+$e]="moz"+Ue,Ze}var cn={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionrun:Yi("Transition","TransitionRun"),transitionstart:Yi("Transition","TransitionStart"),transitioncancel:Yi("Transition","TransitionCancel"),transitionend:Yi("Transition","TransitionEnd")},Gn={},da={};To&&(da=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);function go($e){if(Gn[$e])return Gn[$e];if(!cn[$e])return $e;var Ue=cn[$e],Ze;for(Ze in Ue)if(Ue.hasOwnProperty(Ze)&&Ze in da)return Gn[$e]=Ue[Ze];return $e}var yo=go("animationend"),Rc=go("animationiteration"),Oh=go("animationstart"),Ih=go("transitionrun"),Qx=go("transitionstart"),hf=go("transitioncancel"),pf=go("transitionend"),yd=new Map,mf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ga($e,Ue){yd.set($e,Ue),Ta(Ue,[$e])}var Oo=[],zu=0,Gp=0;function Jo(){for(var $e=zu,Ue=Gp=zu=0;Ue<$e;){var Ze=Oo[Ue];Oo[Ue++]=null;var ss=Oo[Ue];Oo[Ue++]=null;var cs=Oo[Ue];Oo[Ue++]=null;var vs=Oo[Ue];if(Oo[Ue++]=null,ss!==null&&cs!==null){var $s=ss.pending;$s===null?cs.next=cs:(cs.next=$s.next,$s.next=cs),ss.pending=cs}vs!==0&&ff(Ze,cs,vs)}}function Kd($e,Ue,Ze,ss){Oo[zu++]=$e,Oo[zu++]=Ue,Oo[zu++]=Ze,Oo[zu++]=ss,Gp|=ss,$e.lanes|=ss,$e=$e.alternate,$e!==null&&($e.lanes|=ss)}function Bh($e,Ue,Ze,ss){return Kd($e,Ue,Ze,ss),Jc($e)}function Qo($e,Ue){return Kd($e,null,null,Ue),Jc($e)}function ff($e,Ue,Ze){$e.lanes|=Ze;var ss=$e.alternate;ss!==null&&(ss.lanes|=Ze);for(var cs=!1,vs=$e.return;vs!==null;)vs.childLanes|=Ze,ss=vs.alternate,ss!==null&&(ss.childLanes|=Ze),vs.tag===22&&($e=vs.stateNode,$e===null||$e._visibility&1||(cs=!0)),$e=vs,vs=vs.return;cs&&Ue!==null&&$e.tag===3&&(vs=$e.stateNode,cs=31-Sr(Ze),vs=vs.hiddenUpdates,$e=vs[cs],$e===null?vs[cs]=[Ue]:$e.push(Ue),Ue.lane=Ze|536870912)}function Jc($e){if(50<Ry)throw Ry=0,ej=null,Error(Ce(185));for(var Ue=$e.return;Ue!==null;)$e=Ue,Ue=$e.return;return $e.tag===3?$e.stateNode:null}var el={},vo=new WeakMap;function On($e,Ue){if(typeof $e=="object"&&$e!==null){var Ze=vo.get($e);return Ze!==void 0?Ze:(Ue={value:$e,source:Ue,stack:Ns(Ue)},vo.set($e,Ue),Ue)}return{value:$e,source:Ue,stack:Ns(Ue)}}var Qc=[],_c=0,Yd=null,$u=0,io=[],bo=0,Vu=null,Pl=1,Tl="";function Sc($e,Ue){Qc[_c++]=$u,Qc[_c++]=Yd,Yd=$e,$u=Ue}function He($e,Ue,Ze){io[bo++]=Pl,io[bo++]=Tl,io[bo++]=Vu,Vu=$e;var ss=Pl;$e=Tl;var cs=32-Sr(ss)-1;ss&=~(1<<cs),Ze+=1;var vs=32-Sr(Ue)+cs;if(30<vs){var $s=cs-cs%5;vs=(ss&(1<<$s)-1).toString(32),ss>>=$s,cs-=$s,Pl=1<<32-Sr(Ue)+cs|Ze<<cs|ss,Tl=vs+$e}else Pl=1<<vs|Ze<<cs|ss,Tl=$e}function St($e){$e.return!==null&&(Sc($e,1),He($e,1,0))}function ls($e){for(;$e===Yd;)Yd=Qc[--_c],Qc[_c]=null,$u=Qc[--_c],Qc[_c]=null;for(;$e===Vu;)Vu=io[--bo],io[bo]=null,Tl=io[--bo],io[bo]=null,Pl=io[--bo],io[bo]=null}var Es=null,Fs=null,Zs=!1,dr=null,wr=!1,kr=Error(Ce(519));function Zr($e){var Ue=Error(Ce(418,""));throw Wn(On(Ue,$e)),kr}function hi($e){var Ue=$e.stateNode,Ze=$e.type,ss=$e.memoizedProps;switch(Ue[Rn]=$e,Ue[Pn]=ss,Ze){case"dialog":fn("cancel",Ue),fn("close",Ue);break;case"iframe":case"object":case"embed":fn("load",Ue);break;case"video":case"audio":for(Ze=0;Ze<Sy.length;Ze++)fn(Sy[Ze],Ue);break;case"source":fn("error",Ue);break;case"img":case"image":case"link":fn("error",Ue),fn("load",Ue);break;case"details":fn("toggle",Ue);break;case"input":fn("invalid",Ue),pd(Ue,ss.value,ss.defaultValue,ss.checked,ss.defaultChecked,ss.type,ss.name,!0),ki(Ue);break;case"select":fn("invalid",Ue);break;case"textarea":fn("invalid",Ue),$c(Ue,ss.value,ss.defaultValue,ss.children),ki(Ue)}Ze=ss.children,typeof Ze!="string"&&typeof Ze!="number"&&typeof Ze!="bigint"||Ue.textContent===""+Ze||ss.suppressHydrationWarning===!0||Kw(Ue.textContent,Ze)?(ss.popover!=null&&(fn("beforetoggle",Ue),fn("toggle",Ue)),ss.onScroll!=null&&fn("scroll",Ue),ss.onScrollEnd!=null&&fn("scrollend",Ue),ss.onClick!=null&&(Ue.onclick=cb),Ue=!0):Ue=!1,Ue||Zr($e)}function Ai($e){for(Es=$e.return;Es;)switch(Es.tag){case 3:case 27:wr=!0;return;case 5:case 13:wr=!1;return;default:Es=Es.return}}function Bi($e){if($e!==Es)return!1;if(!Zs)return Ai($e),Zs=!0,!1;var Ue=!1,Ze;if((Ze=$e.tag!==3&&$e.tag!==27)&&((Ze=$e.tag===5)&&(Ze=$e.type,Ze=!(Ze!=="form"&&Ze!=="button")||gj($e.type,$e.memoizedProps)),Ze=!Ze),Ze&&(Ue=!0),Ue&&Fs&&Zr($e),Ai($e),$e.tag===13){if($e=$e.memoizedState,$e=$e!==null?$e.dehydrated:null,!$e)throw Error(Ce(317));e:{for($e=$e.nextSibling,Ue=0;$e;){if($e.nodeType===8)if(Ze=$e.data,Ze==="/$"){if(Ue===0){Fs=Sd($e.nextSibling);break e}Ue--}else Ze!=="$"&&Ze!=="$!"&&Ze!=="$?"||Ue++;$e=$e.nextSibling}Fs=null}}else Fs=Es?Sd($e.stateNode.nextSibling):null;return!0}function wa(){Fs=Es=null,Zs=!1}function Wn($e){dr===null?dr=[$e]:dr.push($e)}var no=Error(Ce(460)),jo=Error(Ce(474)),Uu={then:function(){}};function eg($e){return $e=$e.status,$e==="fulfilled"||$e==="rejected"}function rc(){}function kl($e,Ue,Ze){switch(Ze=$e[Ze],Ze===void 0?$e.push(Ue):Ze!==Ue&&(Ue.then(rc,rc),Ue=Ze),Ue.status){case"fulfilled":return Ue.value;case"rejected":throw $e=Ue.reason,$e===no?Error(Ce(483)):$e;default:if(typeof Ue.status=="string")Ue.then(rc,rc);else{if($e=ra,$e!==null&&100<$e.shellSuspendCounter)throw Error(Ce(482));$e=Ue,$e.status="pending",$e.then(function(ss){if(Ue.status==="pending"){var cs=Ue;cs.status="fulfilled",cs.value=ss}},function(ss){if(Ue.status==="pending"){var cs=Ue;cs.status="rejected",cs.reason=ss}})}switch(Ue.status){case"fulfilled":return Ue.value;case"rejected":throw $e=Ue.reason,$e===no?Error(Ce(483)):$e}throw Io=Ue,no}}var Io=null;function tg(){if(Io===null)throw Error(Ce(459));var $e=Io;return Io=null,$e}var Hu=null,mn=0;function Da($e){var Ue=mn;return mn+=1,Hu===null&&(Hu=[]),kl(Hu,$e,Ue)}function zh($e,Ue){Ue=Ue.props.ref,$e.ref=Ue!==void 0?Ue:null}function Wp($e,Ue){throw Ue.$$typeof===De?Error(Ce(525)):($e=Object.prototype.toString.call(Ue),Error(Ce(31,$e==="[object Object]"?"object with keys {"+Object.keys(Ue).join(", ")+"}":$e)))}function xf($e){var Ue=$e._init;return Ue($e._payload)}function $h($e){function Ue(Rr,gr){if($e){var Nr=Rr.deletions;Nr===null?(Rr.deletions=[gr],Rr.flags|=16):Nr.push(gr)}}function Ze(Rr,gr){if(!$e)return null;for(;gr!==null;)Ue(Rr,gr),gr=gr.sibling;return null}function ss(Rr){for(var gr=new Map;Rr!==null;)Rr.key!==null?gr.set(Rr.key,Rr):gr.set(Rr.index,Rr),Rr=Rr.sibling;return gr}function cs(Rr,gr){return Rr=am(Rr,gr),Rr.index=0,Rr.sibling=null,Rr}function vs(Rr,gr,Nr){return Rr.index=Nr,$e?(Nr=Rr.alternate,Nr!==null?(Nr=Nr.index,Nr<gr?(Rr.flags|=33554434,gr):Nr):(Rr.flags|=33554434,gr)):(Rr.flags|=1048576,gr)}function $s(Rr){return $e&&Rr.alternate===null&&(Rr.flags|=33554434),Rr}function Qs(Rr,gr,Nr,Yr){return gr===null||gr.tag!==6?(gr=G2(Nr,Rr.mode,Yr),gr.return=Rr,gr):(gr=cs(gr,Nr),gr.return=Rr,gr)}function cr(Rr,gr,Nr,Yr){var wi=Nr.type;return wi===Be?Gr(Rr,gr,Nr.props.children,Yr,Nr.key):gr!==null&&(gr.elementType===wi||typeof wi=="object"&&wi!==null&&wi.$$typeof===rs&&xf(wi)===gr.type)?(gr=cs(gr,Nr.props),zh(gr,Nr),gr.return=Rr,gr):(gr=Xv(Nr.type,Nr.key,Nr.props,null,Rr.mode,Yr),zh(gr,Nr),gr.return=Rr,gr)}function yr(Rr,gr,Nr,Yr){return gr===null||gr.tag!==4||gr.stateNode.containerInfo!==Nr.containerInfo||gr.stateNode.implementation!==Nr.implementation?(gr=W2(Nr,Rr.mode,Yr),gr.return=Rr,gr):(gr=cs(gr,Nr.children||[]),gr.return=Rr,gr)}function Gr(Rr,gr,Nr,Yr,wi){return gr===null||gr.tag!==7?(gr=Pf(Nr,Rr.mode,Yr,wi),gr.return=Rr,gr):(gr=cs(gr,Nr),gr.return=Rr,gr)}function si(Rr,gr,Nr){if(typeof gr=="string"&&gr!==""||typeof gr=="number"||typeof gr=="bigint")return gr=G2(""+gr,Rr.mode,Nr),gr.return=Rr,gr;if(typeof gr=="object"&&gr!==null){switch(gr.$$typeof){case Me:return Nr=Xv(gr.type,gr.key,gr.props,null,Rr.mode,Nr),zh(Nr,gr),Nr.return=Rr,Nr;case Oe:return gr=W2(gr,Rr.mode,Nr),gr.return=Rr,gr;case rs:var Yr=gr._init;return gr=Yr(gr._payload),si(Rr,gr,Nr)}if(ys(gr)||os(gr))return gr=Pf(gr,Rr.mode,Nr,null),gr.return=Rr,gr;if(typeof gr.then=="function")return si(Rr,Da(gr),Nr);if(gr.$$typeof===Ge)return si(Rr,Zv(Rr,gr),Nr);Wp(Rr,gr)}return null}function Dr(Rr,gr,Nr,Yr){var wi=gr!==null?gr.key:null;if(typeof Nr=="string"&&Nr!==""||typeof Nr=="number"||typeof Nr=="bigint")return wi!==null?null:Qs(Rr,gr,""+Nr,Yr);if(typeof Nr=="object"&&Nr!==null){switch(Nr.$$typeof){case Me:return Nr.key===wi?cr(Rr,gr,Nr,Yr):null;case Oe:return Nr.key===wi?yr(Rr,gr,Nr,Yr):null;case rs:return wi=Nr._init,Nr=wi(Nr._payload),Dr(Rr,gr,Nr,Yr)}if(ys(Nr)||os(Nr))return wi!==null?null:Gr(Rr,gr,Nr,Yr,null);if(typeof Nr.then=="function")return Dr(Rr,gr,Da(Nr),Yr);if(Nr.$$typeof===Ge)return Dr(Rr,gr,Zv(Rr,Nr),Yr);Wp(Rr,Nr)}return null}function Hr(Rr,gr,Nr,Yr,wi){if(typeof Yr=="string"&&Yr!==""||typeof Yr=="number"||typeof Yr=="bigint")return Rr=Rr.get(Nr)||null,Qs(gr,Rr,""+Yr,wi);if(typeof Yr=="object"&&Yr!==null){switch(Yr.$$typeof){case Me:return Rr=Rr.get(Yr.key===null?Nr:Yr.key)||null,cr(gr,Rr,Yr,wi);case Oe:return Rr=Rr.get(Yr.key===null?Nr:Yr.key)||null,yr(gr,Rr,Yr,wi);case rs:var an=Yr._init;return Yr=an(Yr._payload),Hr(Rr,gr,Nr,Yr,wi)}if(ys(Yr)||os(Yr))return Rr=Rr.get(Nr)||null,Gr(gr,Rr,Yr,wi,null);if(typeof Yr.then=="function")return Hr(Rr,gr,Nr,Da(Yr),wi);if(Yr.$$typeof===Ge)return Hr(Rr,gr,Nr,Zv(gr,Yr),wi);Wp(gr,Yr)}return null}function Ni(Rr,gr,Nr,Yr){for(var wi=null,an=null,Pi=gr,Mi=gr=0,$o=null;Pi!==null&&Mi<Nr.length;Mi++){Pi.index>Mi?($o=Pi,Pi=null):$o=Pi.sibling;var wn=Dr(Rr,Pi,Nr[Mi],Yr);if(wn===null){Pi===null&&(Pi=$o);break}$e&&Pi&&wn.alternate===null&&Ue(Rr,Pi),gr=vs(wn,gr,Mi),an===null?wi=wn:an.sibling=wn,an=wn,Pi=$o}if(Mi===Nr.length)return Ze(Rr,Pi),Zs&&Sc(Rr,Mi),wi;if(Pi===null){for(;Mi<Nr.length;Mi++)Pi=si(Rr,Nr[Mi],Yr),Pi!==null&&(gr=vs(Pi,gr,Mi),an===null?wi=Pi:an.sibling=Pi,an=Pi);return Zs&&Sc(Rr,Mi),wi}for(Pi=ss(Pi);Mi<Nr.length;Mi++)$o=Hr(Pi,Rr,Mi,Nr[Mi],Yr),$o!==null&&($e&&$o.alternate!==null&&Pi.delete($o.key===null?Mi:$o.key),gr=vs($o,gr,Mi),an===null?wi=$o:an.sibling=$o,an=$o);return $e&&Pi.forEach(function(pm){return Ue(Rr,pm)}),Zs&&Sc(Rr,Mi),wi}function Ui(Rr,gr,Nr,Yr){if(Nr==null)throw Error(Ce(151));for(var wi=null,an=null,Pi=gr,Mi=gr=0,$o=null,wn=Nr.next();Pi!==null&&!wn.done;Mi++,wn=Nr.next()){Pi.index>Mi?($o=Pi,Pi=null):$o=Pi.sibling;var pm=Dr(Rr,Pi,wn.value,Yr);if(pm===null){Pi===null&&(Pi=$o);break}$e&&Pi&&pm.alternate===null&&Ue(Rr,Pi),gr=vs(pm,gr,Mi),an===null?wi=pm:an.sibling=pm,an=pm,Pi=$o}if(wn.done)return Ze(Rr,Pi),Zs&&Sc(Rr,Mi),wi;if(Pi===null){for(;!wn.done;Mi++,wn=Nr.next())wn=si(Rr,wn.value,Yr),wn!==null&&(gr=vs(wn,gr,Mi),an===null?wi=wn:an.sibling=wn,an=wn);return Zs&&Sc(Rr,Mi),wi}for(Pi=ss(Pi);!wn.done;Mi++,wn=Nr.next())wn=Hr(Pi,Rr,Mi,wn.value,Yr),wn!==null&&($e&&wn.alternate!==null&&Pi.delete(wn.key===null?Mi:wn.key),gr=vs(wn,gr,Mi),an===null?wi=wn:an.sibling=wn,an=wn);return $e&&Pi.forEach(function(rS){return Ue(Rr,rS)}),Zs&&Sc(Rr,Mi),wi}function Fa(Rr,gr,Nr,Yr){if(typeof Nr=="object"&&Nr!==null&&Nr.type===Be&&Nr.key===null&&(Nr=Nr.props.children),typeof Nr=="object"&&Nr!==null){switch(Nr.$$typeof){case Me:e:{for(var wi=Nr.key;gr!==null;){if(gr.key===wi){if(wi=Nr.type,wi===Be){if(gr.tag===7){Ze(Rr,gr.sibling),Yr=cs(gr,Nr.props.children),Yr.return=Rr,Rr=Yr;break e}}else if(gr.elementType===wi||typeof wi=="object"&&wi!==null&&wi.$$typeof===rs&&xf(wi)===gr.type){Ze(Rr,gr.sibling),Yr=cs(gr,Nr.props),zh(Yr,Nr),Yr.return=Rr,Rr=Yr;break e}Ze(Rr,gr);break}else Ue(Rr,gr);gr=gr.sibling}Nr.type===Be?(Yr=Pf(Nr.props.children,Rr.mode,Yr,Nr.key),Yr.return=Rr,Rr=Yr):(Yr=Xv(Nr.type,Nr.key,Nr.props,null,Rr.mode,Yr),zh(Yr,Nr),Yr.return=Rr,Rr=Yr)}return $s(Rr);case Oe:e:{for(wi=Nr.key;gr!==null;){if(gr.key===wi)if(gr.tag===4&&gr.stateNode.containerInfo===Nr.containerInfo&&gr.stateNode.implementation===Nr.implementation){Ze(Rr,gr.sibling),Yr=cs(gr,Nr.children||[]),Yr.return=Rr,Rr=Yr;break e}else{Ze(Rr,gr);break}else Ue(Rr,gr);gr=gr.sibling}Yr=W2(Nr,Rr.mode,Yr),Yr.return=Rr,Rr=Yr}return $s(Rr);case rs:return wi=Nr._init,Nr=wi(Nr._payload),Fa(Rr,gr,Nr,Yr)}if(ys(Nr))return Ni(Rr,gr,Nr,Yr);if(os(Nr)){if(wi=os(Nr),typeof wi!="function")throw Error(Ce(150));return Nr=wi.call(Nr),Ui(Rr,gr,Nr,Yr)}if(typeof Nr.then=="function")return Fa(Rr,gr,Da(Nr),Yr);if(Nr.$$typeof===Ge)return Fa(Rr,gr,Zv(Rr,Nr),Yr);Wp(Rr,Nr)}return typeof Nr=="string"&&Nr!==""||typeof Nr=="number"||typeof Nr=="bigint"?(Nr=""+Nr,gr!==null&&gr.tag===6?(Ze(Rr,gr.sibling),Yr=cs(gr,Nr),Yr.return=Rr,Rr=Yr):(Ze(Rr,gr),Yr=G2(Nr,Rr.mode,Yr),Yr.return=Rr,Rr=Yr),$s(Rr)):Ze(Rr,gr)}return function(Rr,gr,Nr,Yr){try{mn=0;var wi=Fa(Rr,gr,Nr,Yr);return Hu=null,wi}catch(Pi){if(Pi===no)throw Pi;var an=Ku(29,Pi,null,Rr.mode);return an.lanes=Yr,an.return=Rr,an}finally{}}}var eu=$h(!0),gf=$h(!1),Zp=Us(null),Vh=Us(0);function yf($e,Ue){$e=Qh,Vs(Vh,$e),Vs(Zp,Ue),Qh=$e|Ue.baseLanes}function Uh(){Vs(Vh,Qh),Vs(Zp,Zp.current)}function vf(){Qh=Vh.current,Is(Zp),Is(Vh)}var Nc=Us(null),tu=null;function Xd($e){var Ue=$e.alternate;Vs(Ga,Ga.current&1),Vs(Nc,$e),tu===null&&(Ue===null||Zp.current!==null||Ue.memoizedState!==null)&&(tu=$e)}function Mv($e){if($e.tag===22){if(Vs(Ga,Ga.current),Vs(Nc,$e),tu===null){var Ue=$e.alternate;Ue!==null&&Ue.memoizedState!==null&&(tu=$e)}}else Jd()}function Jd(){Vs(Ga,Ga.current),Vs(Nc,Nc.current)}function vd($e){Is(Nc),tu===$e&&(tu=null),Is(Ga)}var Ga=Us(0);function sg($e){for(var Ue=$e;Ue!==null;){if(Ue.tag===13){var Ze=Ue.memoizedState;if(Ze!==null&&(Ze=Ze.dehydrated,Ze===null||Ze.data==="$?"||Ze.data==="$!"))return Ue}else if(Ue.tag===19&&Ue.memoizedProps.revealOrder!==void 0){if((Ue.flags&128)!==0)return Ue}else if(Ue.child!==null){Ue.child.return=Ue,Ue=Ue.child;continue}if(Ue===$e)break;for(;Ue.sibling===null;){if(Ue.return===null||Ue.return===$e)return null;Ue=Ue.return}Ue.sibling.return=Ue.return,Ue=Ue.sibling}return null}var Fv=typeof AbortController<"u"?AbortController:function(){var $e=[],Ue=this.signal={aborted:!1,addEventListener:function(Ze,ss){$e.push(ss)}};this.abort=function(){Ue.aborted=!0,$e.forEach(function(Ze){return Ze()})}},rg=Re.unstable_scheduleCallback,j2=Re.unstable_NormalPriority,Wa={$$typeof:Ge,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ig(){return{controller:new Fv,data:new Map,refCount:0}}function as($e){$e.refCount--,$e.refCount===0&&rg(j2,function(){$e.controller.abort()})}var us=null,As=0,Os=0,Gs=null;function Ys($e,Ue){if(us===null){var Ze=us=[];As=0,Os=lj(),Gs={status:"pending",value:void 0,then:function(ss){Ze.push(ss)}}}return As++,Ue.then(Xs,Xs),Ue}function Xs(){if(--As===0&&us!==null){Gs!==null&&(Gs.status="fulfilled");var $e=us;us=null,Os=0,Gs=null;for(var Ue=0;Ue<$e.length;Ue++)(0,$e[Ue])()}}function er($e,Ue){var Ze=[],ss={status:"pending",value:null,reason:null,then:function(cs){Ze.push(cs)}};return $e.then(function(){ss.status="fulfilled",ss.value=Ue;for(var cs=0;cs<Ze.length;cs++)(0,Ze[cs])(Ue)},function(cs){for(ss.status="rejected",ss.reason=cs,cs=0;cs<Ze.length;cs++)(0,Ze[cs])(void 0)}),ss}var sr=xs.S;xs.S=function($e,Ue){typeof Ue=="object"&&Ue!==null&&typeof Ue.then=="function"&&Ys($e,Ue),sr!==null&&sr($e,Ue)};var nr=Us(null);function fr(){var $e=nr.current;return $e!==null?$e:ra.pooledCache}function _r($e,Ue){Ue===null?Vs(nr,nr.current):Vs(nr,Ue.pool)}function ar(){var $e=fr();return $e===null?null:{parent:Wa._currentValue,pool:$e}}var xr=0,mr=null,Cr=null,jr=null,Br=!1,$r=!1,ei=!1,Jr=0,ji=0,fi=null,Hi=0;function li(){throw Error(Ce(321))}function en($e,Ue){if(Ue===null)return!1;for(var Ze=0;Ze<Ue.length&&Ze<$e.length;Ze++)if(!ea($e[Ze],Ue[Ze]))return!1;return!0}function Ra($e,Ue,Ze,ss,cs,vs){return xr=vs,mr=Ue,Ue.memoizedState=null,Ue.updateQueue=null,Ue.lanes=0,xs.H=$e===null||$e.memoizedState===null?Hh:Pc,ei=!1,vs=Ze(ss,cs),ei=!1,$r&&(vs=Ei(Ue,Ze,ss,cs)),Vi($e),vs}function Vi($e){xs.H=su;var Ue=Cr!==null&&Cr.next!==null;if(xr=0,jr=Cr=mr=null,Br=!1,ji=0,fi=null,Ue)throw Error(Ce(300));$e===null||Bo||($e=$e.dependencies,$e!==null&&Wv($e)&&(Bo=!0))}function Ei($e,Ue,Ze,ss){mr=$e;var cs=0;do{if($r&&(fi=null),ji=0,$r=!1,25<=cs)throw Error(Ce(301));if(cs+=1,jr=Cr=null,$e.updateQueue!=null){var vs=$e.updateQueue;vs.lastEffect=null,vs.events=null,vs.stores=null,vs.memoCache!=null&&(vs.memoCache.index=0)}xs.H=Ed,vs=Ue(Ze,ss)}while($r);return vs}function ui(){var $e=xs.H,Ue=$e.useState()[0];return Ue=typeof Ue.then=="function"?In(Ue):Ue,$e=$e.useState()[0],(Cr!==null?Cr.memoizedState:null)!==$e&&(mr.flags|=1024),Ue}function ha(){var $e=Jr!==0;return Jr=0,$e}function Ii($e,Ue,Ze){Ue.updateQueue=$e.updateQueue,Ue.flags&=-2053,$e.lanes&=~Ze}function sn($e){if(Br){for($e=$e.memoizedState;$e!==null;){var Ue=$e.queue;Ue!==null&&(Ue.pending=null),$e=$e.next}Br=!1}xr=0,jr=Cr=mr=null,$r=!1,ji=Jr=0,fi=null}function Xi(){var $e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return jr===null?mr.memoizedState=jr=$e:jr=jr.next=$e,jr}function rn(){if(Cr===null){var $e=mr.alternate;$e=$e!==null?$e.memoizedState:null}else $e=Cr.next;var Ue=jr===null?mr.memoizedState:jr.next;if(Ue!==null)jr=Ue,Cr=$e;else{if($e===null)throw mr.alternate===null?Error(Ce(467)):Error(Ce(310));Cr=$e,$e={memoizedState:Cr.memoizedState,baseState:Cr.baseState,baseQueue:Cr.baseQueue,queue:Cr.queue,next:null},jr===null?mr.memoizedState=jr=$e:jr=jr.next=$e}return jr}var ao;ao=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function In($e){var Ue=ji;return ji+=1,fi===null&&(fi=[]),$e=kl(fi,$e,Ue),Ue=mr,(jr===null?Ue.memoizedState:jr.next)===null&&(Ue=Ue.alternate,xs.H=Ue===null||Ue.memoizedState===null?Hh:Pc),$e}function Za($e){if($e!==null&&typeof $e=="object"){if(typeof $e.then=="function")return In($e);if($e.$$typeof===Ge)return Ol($e)}throw Error(Ce(438,String($e)))}function Eo($e){var Ue=null,Ze=mr.updateQueue;if(Ze!==null&&(Ue=Ze.memoCache),Ue==null){var ss=mr.alternate;ss!==null&&(ss=ss.updateQueue,ss!==null&&(ss=ss.memoCache,ss!=null&&(Ue={data:ss.data.map(function(cs){return cs.slice()}),index:0})))}if(Ue==null&&(Ue={data:[],index:0}),Ze===null&&(Ze=ao(),mr.updateQueue=Ze),Ze.memoCache=Ue,Ze=Ue.data[Ue.index],Ze===void 0)for(Ze=Ue.data[Ue.index]=Array($e),ss=0;ss<$e;ss++)Ze[ss]=Xe;return Ue.index++,Ze}function Dn($e,Ue){return typeof Ue=="function"?Ue($e):Ue}function nn($e){var Ue=rn();return yn(Ue,Cr,$e)}function yn($e,Ue,Ze){var ss=$e.queue;if(ss===null)throw Error(Ce(311));ss.lastRenderedReducer=Ze;var cs=$e.baseQueue,vs=ss.pending;if(vs!==null){if(cs!==null){var $s=cs.next;cs.next=vs.next,vs.next=$s}Ue.baseQueue=cs=vs,ss.pending=null}if(vs=$e.baseState,cs===null)$e.memoizedState=vs;else{Ue=cs.next;var Qs=$s=null,cr=null,yr=Ue,Gr=!1;do{var si=yr.lane&-536870913;if(si!==yr.lane?(xn&si)===si:(xr&si)===si){var Dr=yr.revertLane;if(Dr===0)cr!==null&&(cr=cr.next={lane:0,revertLane:0,action:yr.action,hasEagerState:yr.hasEagerState,eagerState:yr.eagerState,next:null}),si===Os&&(Gr=!0);else if((xr&Dr)===Dr){yr=yr.next,Dr===Os&&(Gr=!0);continue}else si={lane:0,revertLane:yr.revertLane,action:yr.action,hasEagerState:yr.hasEagerState,eagerState:yr.eagerState,next:null},cr===null?(Qs=cr=si,$s=vs):cr=cr.next=si,mr.lanes|=Dr,om|=Dr;si=yr.action,ei&&Ze(vs,si),vs=yr.hasEagerState?yr.eagerState:Ze(vs,si)}else Dr={lane:si,revertLane:yr.revertLane,action:yr.action,hasEagerState:yr.hasEagerState,eagerState:yr.eagerState,next:null},cr===null?(Qs=cr=Dr,$s=vs):cr=cr.next=Dr,mr.lanes|=si,om|=si;yr=yr.next}while(yr!==null&&yr!==Ue);if(cr===null?$s=vs:cr.next=Qs,!ea(vs,$e.memoizedState)&&(Bo=!0,Gr&&(Ze=Gs,Ze!==null)))throw Ze;$e.memoizedState=vs,$e.baseState=$s,$e.baseQueue=cr,ss.lastRenderedState=vs}return cs===null&&(ss.lanes=0),[$e.memoizedState,ss.dispatch]}function sa($e){var Ue=rn(),Ze=Ue.queue;if(Ze===null)throw Error(Ce(311));Ze.lastRenderedReducer=$e;var ss=Ze.dispatch,cs=Ze.pending,vs=Ue.memoizedState;if(cs!==null){Ze.pending=null;var $s=cs=cs.next;do vs=$e(vs,$s.action),$s=$s.next;while($s!==cs);ea(vs,Ue.memoizedState)||(Bo=!0),Ue.memoizedState=vs,Ue.baseQueue===null&&(Ue.baseState=vs),Ze.lastRenderedState=vs}return[vs,ss]}function En($e,Ue,Ze){var ss=mr,cs=rn(),vs=Zs;if(vs){if(Ze===void 0)throw Error(Ce(407));Ze=Ze()}else Ze=Ue();var $s=!ea((Cr||cs).memoizedState,Ze);if($s&&(cs.memoizedState=Ze,Bo=!0),cs=cs.queue,Ef(ya.bind(null,ss,cs,$e),[$e]),cs.getSnapshot!==Ue||$s||jr!==null&&jr.memoizedState.tag&1){if(ss.flags|=2048,eh(9,Ac.bind(null,ss,cs,Ze,Ue),{destroy:void 0},null),ra===null)throw Error(Ce(349));vs||(xr&60)!==0||oo(ss,Ue,Ze)}return Ze}function oo($e,Ue,Ze){$e.flags|=16384,$e={getSnapshot:Ue,value:Ze},Ue=mr.updateQueue,Ue===null?(Ue=ao(),mr.updateQueue=Ue,Ue.stores=[$e]):(Ze=Ue.stores,Ze===null?Ue.stores=[$e]:Ze.push($e))}function Ac($e,Ue,Ze,ss){Ue.value=Ze,Ue.getSnapshot=ss,tl(Ue)&&An($e)}function ya($e,Ue,Ze){return Ze(function(){tl(Ue)&&An($e)})}function tl($e){var Ue=$e.getSnapshot;$e=$e.value;try{var Ze=Ue();return!ea($e,Ze)}catch{return!0}}function An($e){var Ue=Qo($e,2);Ue!==null&&ic(Ue,$e,2)}function Sa($e){var Ue=Xi();if(typeof $e=="function"){var Ze=$e;if($e=Ze(),ei){Tr(!0);try{Ze()}finally{Tr(!1)}}}return Ue.memoizedState=Ue.baseState=$e,Ue.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:$e},Ue}function Dl($e,Ue,Ze,ss){return $e.baseState=Ze,yn($e,Cr,typeof ss=="function"?ss:Dn)}function sl($e,Ue,Ze,ss,cs){if(hg($e))throw Error(Ce(485));if($e=Ue.action,$e!==null){var vs={payload:cs,action:$e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function($s){vs.listeners.push($s)}};xs.T!==null?Ze(!0):vs.isTransition=!1,ss(vs),Ze=Ue.pending,Ze===null?(vs.next=Ue.pending=vs,Ll(Ue,vs)):(vs.next=Ze.next,Ue.pending=Ze.next=vs)}}function Ll($e,Ue){var Ze=Ue.action,ss=Ue.payload,cs=$e.state;if(Ue.isTransition){var vs=xs.T,$s={};xs.T=$s;try{var Qs=Ze(cs,ss),cr=xs.S;cr!==null&&cr($s,Qs),Ml($e,Ue,Qs)}catch(yr){il($e,Ue,yr)}finally{xs.T=vs}}else try{vs=Ze(cs,ss),Ml($e,Ue,vs)}catch(yr){il($e,Ue,yr)}}function Ml($e,Ue,Ze){Ze!==null&&typeof Ze=="object"&&typeof Ze.then=="function"?Ze.then(function(ss){rl($e,Ue,ss)},function(ss){return il($e,Ue,ss)}):rl($e,Ue,Ze)}function rl($e,Ue,Ze){Ue.status="fulfilled",Ue.value=Ze,Ln(Ue),$e.state=Ze,Ue=$e.pending,Ue!==null&&(Ze=Ue.next,Ze===Ue?$e.pending=null:(Ze=Ze.next,Ue.next=Ze,Ll($e,Ze)))}function il($e,Ue,Ze){var ss=$e.pending;if($e.pending=null,ss!==null){ss=ss.next;do Ue.status="rejected",Ue.reason=Ze,Ln(Ue),Ue=Ue.next;while(Ue!==ss)}$e.action=null}function Ln($e){$e=$e.listeners;for(var Ue=0;Ue<$e.length;Ue++)(0,$e[Ue])()}function Fl($e,Ue){return Ue}function Cc($e,Ue){if(Zs){var Ze=ra.formState;if(Ze!==null){e:{var ss=mr;if(Zs){if(Fs){t:{for(var cs=Fs,vs=wr;cs.nodeType!==8;){if(!vs){cs=null;break t}if(cs=Sd(cs.nextSibling),cs===null){cs=null;break t}}vs=cs.data,cs=vs==="F!"||vs==="F"?cs:null}if(cs){Fs=Sd(cs.nextSibling),ss=cs.data==="F!";break e}}Zr(ss)}ss=!1}ss&&(Ue=Ze[0])}}return Ze=Xi(),Ze.memoizedState=Ze.baseState=Ue,ss={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fl,lastRenderedState:Ue},Ze.queue=ss,Ze=Hv.bind(null,mr,ss),ss.dispatch=Ze,ss=Sa(!1),vs=sh.bind(null,mr,!1,ss.queue),ss=Xi(),cs={state:Ue,dispatch:null,action:$e,pending:null},ss.queue=cs,Ze=sl.bind(null,mr,cs,vs,Ze),cs.dispatch=Ze,ss.memoizedState=$e,[Ue,Ze,!1]}function Qd($e){var Ue=rn();return qu(Ue,Cr,$e)}function qu($e,Ue,Ze){Ue=yn($e,Ue,Fl)[0],$e=nn(Dn)[0],Ue=typeof Ue=="object"&&Ue!==null&&typeof Ue.then=="function"?In(Ue):Ue;var ss=rn(),cs=ss.queue,vs=cs.dispatch;return Ze!==ss.memoizedState&&(mr.flags|=2048,eh(9,wo.bind(null,cs,Ze),{destroy:void 0},null)),[Ue,vs,$e]}function wo($e,Ue){$e.action=Ue}function bf($e){var Ue=rn(),Ze=Cr;if(Ze!==null)return qu(Ue,Ze,$e);rn(),Ue=Ue.memoizedState,Ze=rn();var ss=Ze.queue.dispatch;return Ze.memoizedState=$e,[Ue,ss,!1]}function eh($e,Ue,Ze,ss){return $e={tag:$e,create:Ue,inst:Ze,deps:ss,next:null},Ue=mr.updateQueue,Ue===null&&(Ue=ao(),mr.updateQueue=Ue),Ze=Ue.lastEffect,Ze===null?Ue.lastEffect=$e.next=$e:(ss=Ze.next,Ze.next=$e,$e.next=ss,Ue.lastEffect=$e),$e}function jf(){return rn().memoizedState}function th($e,Ue,Ze,ss){var cs=Xi();mr.flags|=$e,cs.memoizedState=eh(1|Ue,Ze,{destroy:void 0},ss===void 0?null:ss)}function ng($e,Ue,Ze,ss){var cs=rn();ss=ss===void 0?null:ss;var vs=cs.memoizedState.inst;Cr!==null&&ss!==null&&en(ss,Cr.memoizedState.deps)?cs.memoizedState=eh(Ue,Ze,vs,ss):(mr.flags|=$e,cs.memoizedState=eh(1|Ue,Ze,vs,ss))}function Ov($e,Ue){th(8390656,8,$e,Ue)}function Ef($e,Ue){ng(2048,8,$e,Ue)}function bd($e,Ue){return ng(4,2,$e,Ue)}function Iv($e,Ue){return ng(4,4,$e,Ue)}function Bv($e,Ue){if(typeof Ue=="function"){$e=$e();var Ze=Ue($e);return function(){typeof Ze=="function"?Ze():Ue(null)}}if(Ue!=null)return $e=$e(),Ue.current=$e,function(){Ue.current=null}}function zv($e,Ue,Ze){Ze=Ze!=null?Ze.concat([$e]):null,ng(4,4,Bv.bind(null,Ue,$e),Ze)}function ag(){}function wf($e,Ue){var Ze=rn();Ue=Ue===void 0?null:Ue;var ss=Ze.memoizedState;return Ue!==null&&en(Ue,ss[1])?ss[0]:(Ze.memoizedState=[$e,Ue],$e)}function cy($e,Ue){var Ze=rn();Ue=Ue===void 0?null:Ue;var ss=Ze.memoizedState;if(Ue!==null&&en(Ue,ss[1]))return ss[0];if(ss=$e(),ei){Tr(!0);try{$e()}finally{Tr(!1)}}return Ze.memoizedState=[ss,Ue],ss}function og($e,Ue,Ze){return Ze===void 0||(xr&1073741824)!==0?$e.memoizedState=Ue:($e.memoizedState=Ze,$e=Nw(),mr.lanes|=$e,om|=$e,Ze)}function Rf($e,Ue,Ze,ss){return ea(Ze,Ue)?Ze:Zp.current!==null?($e=og($e,Ze,ss),ea($e,Ue)||(Bo=!0),$e):(xr&42)===0?(Bo=!0,$e.memoizedState=Ze):($e=Nw(),mr.lanes|=$e,om|=$e,Ue)}function lg($e,Ue,Ze,ss,cs){var vs=ks.p;ks.p=vs!==0&&8>vs?vs:8;var $s=xs.T,Qs={};xs.T=Qs,sh($e,!1,Ue,Ze);try{var cr=cs(),yr=xs.S;if(yr!==null&&yr(Qs,cr),cr!==null&&typeof cr=="object"&&typeof cr.then=="function"){var Gr=er(cr,ss);Kp($e,Ue,Gr,ou($e))}else Kp($e,Ue,ss,ou($e))}catch(si){Kp($e,Ue,{then:function(){},status:"rejected",reason:si},ou())}finally{ks.p=vs,xs.T=$s}}function _f(){}function cg($e,Ue,Ze,ss){if($e.tag!==5)throw Error(Ce(476));var cs=$v($e).queue;lg($e,cs,Ue,zs,Ze===null?_f:function(){return Sf($e),Ze(ss)})}function $v($e){var Ue=$e.memoizedState;if(Ue!==null)return Ue;Ue={memoizedState:zs,baseState:zs,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:zs},next:null};var Ze={};return Ue.next={memoizedState:Ze,baseState:Ze,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:Ze},next:null},$e.memoizedState=Ue,$e=$e.alternate,$e!==null&&($e.memoizedState=Ue),Ue}function Sf($e){var Ue=$v($e).next.queue;Kp($e,Ue,{},ou())}function ug(){return Ol(Ty)}function dg(){return rn().memoizedState}function jd(){return rn().memoizedState}function Vv($e){for(var Ue=$e.return;Ue!==null;){switch(Ue.tag){case 24:case 3:var Ze=ou();$e=tm(Ze);var ss=sm(Ue,$e,Ze);ss!==null&&(ic(ss,Ue,Ze),my(ss,Ue,Ze)),Ue={cache:ig()},$e.payload=Ue;return}Ue=Ue.return}}function Uv($e,Ue,Ze){var ss=ou();Ze={lane:ss,revertLane:0,action:Ze,hasEagerState:!1,eagerState:null,next:null},hg($e)?uy(Ue,Ze):(Ze=Bh($e,Ue,Ze,ss),Ze!==null&&(ic(Ze,$e,ss),qv(Ze,Ue,ss)))}function Hv($e,Ue,Ze){var ss=ou();Kp($e,Ue,Ze,ss)}function Kp($e,Ue,Ze,ss){var cs={lane:ss,revertLane:0,action:Ze,hasEagerState:!1,eagerState:null,next:null};if(hg($e))uy(Ue,cs);else{var vs=$e.alternate;if($e.lanes===0&&(vs===null||vs.lanes===0)&&(vs=Ue.lastRenderedReducer,vs!==null))try{var $s=Ue.lastRenderedState,Qs=vs($s,Ze);if(cs.hasEagerState=!0,cs.eagerState=Qs,ea(Qs,$s))return Kd($e,Ue,cs,0),ra===null&&Jo(),!1}catch{}finally{}if(Ze=Bh($e,Ue,cs,ss),Ze!==null)return ic(Ze,$e,ss),qv(Ze,Ue,ss),!0}return!1}function sh($e,Ue,Ze,ss){if(ss={lane:2,revertLane:lj(),action:ss,hasEagerState:!1,eagerState:null,next:null},hg($e)){if(Ue)throw Error(Ce(479))}else Ue=Bh($e,Ze,ss,2),Ue!==null&&ic(Ue,$e,2)}function hg($e){var Ue=$e.alternate;return $e===mr||Ue!==null&&Ue===mr}function uy($e,Ue){$r=Br=!0;var Ze=$e.pending;Ze===null?Ue.next=Ue:(Ue.next=Ze.next,Ze.next=Ue),$e.pending=Ue}function qv($e,Ue,Ze){if((Ze&4194176)!==0){var ss=Ue.lanes;ss&=$e.pendingLanes,Ze|=ss,Ue.lanes=Ze,Qa($e,Ze)}}var su={readContext:Ol,use:Za,useCallback:li,useContext:li,useEffect:li,useImperativeHandle:li,useLayoutEffect:li,useInsertionEffect:li,useMemo:li,useReducer:li,useRef:li,useState:li,useDebugValue:li,useDeferredValue:li,useTransition:li,useSyncExternalStore:li,useId:li};su.useCacheRefresh=li,su.useMemoCache=li,su.useHostTransitionStatus=li,su.useFormState=li,su.useActionState=li,su.useOptimistic=li;var Hh={readContext:Ol,use:Za,useCallback:function($e,Ue){return Xi().memoizedState=[$e,Ue===void 0?null:Ue],$e},useContext:Ol,useEffect:Ov,useImperativeHandle:function($e,Ue,Ze){Ze=Ze!=null?Ze.concat([$e]):null,th(4194308,4,Bv.bind(null,Ue,$e),Ze)},useLayoutEffect:function($e,Ue){return th(4194308,4,$e,Ue)},useInsertionEffect:function($e,Ue){th(4,2,$e,Ue)},useMemo:function($e,Ue){var Ze=Xi();Ue=Ue===void 0?null:Ue;var ss=$e();if(ei){Tr(!0);try{$e()}finally{Tr(!1)}}return Ze.memoizedState=[ss,Ue],ss},useReducer:function($e,Ue,Ze){var ss=Xi();if(Ze!==void 0){var cs=Ze(Ue);if(ei){Tr(!0);try{Ze(Ue)}finally{Tr(!1)}}}else cs=Ue;return ss.memoizedState=ss.baseState=cs,$e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$e,lastRenderedState:cs},ss.queue=$e,$e=$e.dispatch=Uv.bind(null,mr,$e),[ss.memoizedState,$e]},useRef:function($e){var Ue=Xi();return $e={current:$e},Ue.memoizedState=$e},useState:function($e){$e=Sa($e);var Ue=$e.queue,Ze=Hv.bind(null,mr,Ue);return Ue.dispatch=Ze,[$e.memoizedState,Ze]},useDebugValue:ag,useDeferredValue:function($e,Ue){var Ze=Xi();return og(Ze,$e,Ue)},useTransition:function(){var $e=Sa(!1);return $e=lg.bind(null,mr,$e.queue,!0,!1),Xi().memoizedState=$e,[!1,$e]},useSyncExternalStore:function($e,Ue,Ze){var ss=mr,cs=Xi();if(Zs){if(Ze===void 0)throw Error(Ce(407));Ze=Ze()}else{if(Ze=Ue(),ra===null)throw Error(Ce(349));(xn&60)!==0||oo(ss,Ue,Ze)}cs.memoizedState=Ze;var vs={value:Ze,getSnapshot:Ue};return cs.queue=vs,Ov(ya.bind(null,ss,vs,$e),[$e]),ss.flags|=2048,eh(9,Ac.bind(null,ss,vs,Ze,Ue),{destroy:void 0},null),Ze},useId:function(){var $e=Xi(),Ue=ra.identifierPrefix;if(Zs){var Ze=Tl,ss=Pl;Ze=(ss&~(1<<32-Sr(ss)-1)).toString(32)+Ze,Ue=":"+Ue+"R"+Ze,Ze=Jr++,0<Ze&&(Ue+="H"+Ze.toString(32)),Ue+=":"}else Ze=Hi++,Ue=":"+Ue+"r"+Ze.toString(32)+":";return $e.memoizedState=Ue},useCacheRefresh:function(){return Xi().memoizedState=Vv.bind(null,mr)}};Hh.useMemoCache=Eo,Hh.useHostTransitionStatus=ug,Hh.useFormState=Cc,Hh.useActionState=Cc,Hh.useOptimistic=function($e){var Ue=Xi();Ue.memoizedState=Ue.baseState=$e;var Ze={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return Ue.queue=Ze,Ue=sh.bind(null,mr,!0,Ze),Ze.dispatch=Ue,[$e,Ue]};var Pc={readContext:Ol,use:Za,useCallback:wf,useContext:Ol,useEffect:Ef,useImperativeHandle:zv,useInsertionEffect:bd,useLayoutEffect:Iv,useMemo:cy,useReducer:nn,useRef:jf,useState:function(){return nn(Dn)},useDebugValue:ag,useDeferredValue:function($e,Ue){var Ze=rn();return Rf(Ze,Cr.memoizedState,$e,Ue)},useTransition:function(){var $e=nn(Dn)[0],Ue=rn().memoizedState;return[typeof $e=="boolean"?$e:In($e),Ue]},useSyncExternalStore:En,useId:dg};Pc.useCacheRefresh=jd,Pc.useMemoCache=Eo,Pc.useHostTransitionStatus=ug,Pc.useFormState=Qd,Pc.useActionState=Qd,Pc.useOptimistic=function($e,Ue){var Ze=rn();return Dl(Ze,Cr,$e,Ue)};var Ed={readContext:Ol,use:Za,useCallback:wf,useContext:Ol,useEffect:Ef,useImperativeHandle:zv,useInsertionEffect:bd,useLayoutEffect:Iv,useMemo:cy,useReducer:sa,useRef:jf,useState:function(){return sa(Dn)},useDebugValue:ag,useDeferredValue:function($e,Ue){var Ze=rn();return Cr===null?og(Ze,$e,Ue):Rf(Ze,Cr.memoizedState,$e,Ue)},useTransition:function(){var $e=sa(Dn)[0],Ue=rn().memoizedState;return[typeof $e=="boolean"?$e:In($e),Ue]},useSyncExternalStore:En,useId:dg};Ed.useCacheRefresh=jd,Ed.useMemoCache=Eo,Ed.useHostTransitionStatus=ug,Ed.useFormState=bf,Ed.useActionState=bf,Ed.useOptimistic=function($e,Ue){var Ze=rn();return Cr!==null?Dl(Ze,Cr,$e,Ue):(Ze.baseState=$e,[$e,Ze.queue.dispatch])};function Yp($e,Ue,Ze,ss){Ue=$e.memoizedState,Ze=Ze(ss,Ue),Ze=Ze==null?Ue:Ss({},Ue,Ze),$e.memoizedState=Ze,$e.lanes===0&&($e.updateQueue.baseState=Ze)}var ru={isMounted:function($e){return($e=$e._reactInternals)?ps($e)===$e:!1},enqueueSetState:function($e,Ue,Ze){$e=$e._reactInternals;var ss=ou(),cs=tm(ss);cs.payload=Ue,Ze!=null&&(cs.callback=Ze),Ue=sm($e,cs,ss),Ue!==null&&(ic(Ue,$e,ss),my(Ue,$e,ss))},enqueueReplaceState:function($e,Ue,Ze){$e=$e._reactInternals;var ss=ou(),cs=tm(ss);cs.tag=1,cs.payload=Ue,Ze!=null&&(cs.callback=Ze),Ue=sm($e,cs,ss),Ue!==null&&(ic(Ue,$e,ss),my(Ue,$e,ss))},enqueueForceUpdate:function($e,Ue){$e=$e._reactInternals;var Ze=ou(),ss=tm(Ze);ss.tag=2,Ue!=null&&(ss.callback=Ue),Ue=sm($e,ss,Ze),Ue!==null&&(ic(Ue,$e,Ze),my(Ue,$e,Ze))}};function wd($e,Ue,Ze,ss,cs,vs,$s){return $e=$e.stateNode,typeof $e.shouldComponentUpdate=="function"?$e.shouldComponentUpdate(ss,vs,$s):Ue.prototype&&Ue.prototype.isPureReactComponent?!ta(Ze,ss)||!ta(cs,vs):!0}function Rd($e,Ue,Ze,ss){$e=Ue.state,typeof Ue.componentWillReceiveProps=="function"&&Ue.componentWillReceiveProps(Ze,ss),typeof Ue.UNSAFE_componentWillReceiveProps=="function"&&Ue.UNSAFE_componentWillReceiveProps(Ze,ss),Ue.state!==$e&&ru.enqueueReplaceState(Ue,Ue.state,null)}function Gu($e,Ue){var Ze=Ue;if("ref"in Ue){Ze={};for(var ss in Ue)ss!=="ref"&&(Ze[ss]=Ue[ss])}if($e=$e.defaultProps){Ze===Ue&&(Ze=Ss({},Ze));for(var cs in $e)Ze[cs]===void 0&&(Ze[cs]=$e[cs])}return Ze}var Xp=typeof reportError=="function"?reportError:function($e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Ue=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof $e=="object"&&$e!==null&&typeof $e.message=="string"?String($e.message):String($e),error:$e});if(!window.dispatchEvent(Ue))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",$e);return}console.error($e)};function dy($e){Xp($e)}function Gv($e){console.error($e)}function pg($e){Xp($e)}function Jp($e,Ue){try{var Ze=$e.onUncaughtError;Ze(Ue.value,{componentStack:Ue.stack})}catch(ss){setTimeout(function(){throw ss})}}function BE($e,Ue,Ze){try{var ss=$e.onCaughtError;ss(Ze.value,{componentStack:Ze.stack,errorBoundary:Ue.tag===1?Ue.stateNode:null})}catch(cs){setTimeout(function(){throw cs})}}function E2($e,Ue,Ze){return Ze=tm(Ze),Ze.tag=3,Ze.payload={element:null},Ze.callback=function(){Jp($e,Ue)},Ze}function zE($e){return $e=tm($e),$e.tag=3,$e}function $E($e,Ue,Ze,ss){var cs=Ze.type.getDerivedStateFromError;if(typeof cs=="function"){var vs=ss.value;$e.payload=function(){return cs(vs)},$e.callback=function(){BE(Ue,Ze,ss)}}var $s=Ze.stateNode;$s!==null&&typeof $s.componentDidCatch=="function"&&($e.callback=function(){BE(Ue,Ze,ss),typeof cs!="function"&&(lm===null?lm=new Set([this]):lm.add(this));var Qs=ss.stack;this.componentDidCatch(ss.value,{componentStack:Qs!==null?Qs:""})})}function s_($e,Ue,Ze,ss,cs){if(Ze.flags|=32768,ss!==null&&typeof ss=="object"&&typeof ss.then=="function"){if(Ue=Ze.alternate,Ue!==null&&py(Ue,Ze,cs,!0),Ze=Nc.current,Ze!==null){switch(Ze.tag){case 13:return tu===null?rj():Ze.alternate===null&&Ma===0&&(Ma=3),Ze.flags&=-257,Ze.flags|=65536,Ze.lanes=cs,ss===Uu?Ze.flags|=16384:(Ue=Ze.updateQueue,Ue===null?Ze.updateQueue=new Set([ss]):Ue.add(ss),nj($e,ss,cs)),!1;case 22:return Ze.flags|=65536,ss===Uu?Ze.flags|=16384:(Ue=Ze.updateQueue,Ue===null?(Ue={transitions:null,markerInstances:null,retryQueue:new Set([ss])},Ze.updateQueue=Ue):(Ze=Ue.retryQueue,Ze===null?Ue.retryQueue=new Set([ss]):Ze.add(ss)),nj($e,ss,cs)),!1}throw Error(Ce(435,Ze.tag))}return nj($e,ss,cs),rj(),!1}if(Zs)return Ue=Nc.current,Ue!==null?((Ue.flags&65536)===0&&(Ue.flags|=256),Ue.flags|=65536,Ue.lanes=cs,ss!==kr&&($e=Error(Ce(422),{cause:ss}),Wn(On($e,Ze)))):(ss!==kr&&(Ue=Error(Ce(423),{cause:ss}),Wn(On(Ue,Ze))),$e=$e.current.alternate,$e.flags|=65536,cs&=-cs,$e.lanes|=cs,ss=On(ss,Ze),cs=E2($e.stateNode,ss,cs),O2($e,cs),Ma!==4&&(Ma=2)),!1;var vs=Error(Ce(520),{cause:ss});if(vs=On(vs,Ze),Ey===null?Ey=[vs]:Ey.push(vs),Ma!==4&&(Ma=2),Ue===null)return!0;ss=On(ss,Ze),Ze=Ue;do{switch(Ze.tag){case 3:return Ze.flags|=65536,$e=cs&-cs,Ze.lanes|=$e,$e=E2(Ze.stateNode,ss,$e),O2(Ze,$e),!1;case 1:if(Ue=Ze.type,vs=Ze.stateNode,(Ze.flags&128)===0&&(typeof Ue.getDerivedStateFromError=="function"||vs!==null&&typeof vs.componentDidCatch=="function"&&(lm===null||!lm.has(vs))))return Ze.flags|=65536,cs&=-cs,Ze.lanes|=cs,cs=zE(cs),$E(cs,$e,Ze,ss),O2(Ze,cs),!1}Ze=Ze.return}while(Ze!==null);return!1}var VE=Error(Ce(461)),Bo=!1;function nl($e,Ue,Ze,ss){Ue.child=$e===null?gf(Ue,null,Ze,ss):eu(Ue,$e.child,Ze,ss)}function UE($e,Ue,Ze,ss,cs){Ze=Ze.render;var vs=Ue.ref;if("ref"in ss){var $s={};for(var Qs in ss)Qs!=="ref"&&($s[Qs]=ss[Qs])}else $s=ss;return Af(Ue),ss=Ra($e,Ue,Ze,$s,vs,cs),Qs=ha(),$e!==null&&!Bo?(Ii($e,Ue,cs),qh($e,Ue,cs)):(Zs&&Qs&&St(Ue),Ue.flags|=1,nl($e,Ue,ss,cs),Ue.child)}function HE($e,Ue,Ze,ss,cs){if($e===null){var vs=Ze.type;return typeof vs=="function"&&!q2(vs)&&vs.defaultProps===void 0&&Ze.compare===null?(Ue.tag=15,Ue.type=vs,qE($e,Ue,vs,ss,cs)):($e=Xv(Ze.type,null,ss,Ue,Ue.mode,cs),$e.ref=Ue.ref,$e.return=Ue,Ue.child=$e)}if(vs=$e.child,!T2($e,cs)){var $s=vs.memoizedProps;if(Ze=Ze.compare,Ze=Ze!==null?Ze:ta,Ze($s,ss)&&$e.ref===Ue.ref)return qh($e,Ue,cs)}return Ue.flags|=1,$e=am(vs,ss),$e.ref=Ue.ref,$e.return=Ue,Ue.child=$e}function qE($e,Ue,Ze,ss,cs){if($e!==null){var vs=$e.memoizedProps;if(ta(vs,ss)&&$e.ref===Ue.ref)if(Bo=!1,Ue.pendingProps=ss=vs,T2($e,cs))($e.flags&131072)!==0&&(Bo=!0);else return Ue.lanes=$e.lanes,qh($e,Ue,cs)}return w2($e,Ue,Ze,ss,cs)}function GE($e,Ue,Ze){var ss=Ue.pendingProps,cs=ss.children,vs=(Ue.stateNode._pendingVisibility&2)!==0,$s=$e!==null?$e.memoizedState:null;if(hy($e,Ue),ss.mode==="hidden"||vs){if((Ue.flags&128)!==0){if(ss=$s!==null?$s.baseLanes|Ze:Ze,$e!==null){for(cs=Ue.child=$e.child,vs=0;cs!==null;)vs=vs|cs.lanes|cs.childLanes,cs=cs.sibling;Ue.childLanes=vs&~ss}else Ue.childLanes=0,Ue.child=null;return WE($e,Ue,ss,Ze)}if((Ze&536870912)!==0)Ue.memoizedState={baseLanes:0,cachePool:null},$e!==null&&_r(Ue,$s!==null?$s.cachePool:null),$s!==null?yf(Ue,$s):Uh(),Mv(Ue);else return Ue.lanes=Ue.childLanes=536870912,WE($e,Ue,$s!==null?$s.baseLanes|Ze:Ze,Ze)}else $s!==null?(_r(Ue,$s.cachePool),yf(Ue,$s),Jd(),Ue.memoizedState=null):($e!==null&&_r(Ue,null),Uh(),Jd());return nl($e,Ue,cs,Ze),Ue.child}function WE($e,Ue,Ze,ss){var cs=fr();return cs=cs===null?null:{parent:Wa._currentValue,pool:cs},Ue.memoizedState={baseLanes:Ze,cachePool:cs},$e!==null&&_r(Ue,null),Uh(),Mv(Ue),$e!==null&&py($e,Ue,ss,!0),null}function hy($e,Ue){var Ze=Ue.ref;if(Ze===null)$e!==null&&$e.ref!==null&&(Ue.flags|=2097664);else{if(typeof Ze!="function"&&typeof Ze!="object")throw Error(Ce(284));($e===null||$e.ref!==Ze)&&(Ue.flags|=2097664)}}function w2($e,Ue,Ze,ss,cs){return Af(Ue),Ze=Ra($e,Ue,Ze,ss,void 0,cs),ss=ha(),$e!==null&&!Bo?(Ii($e,Ue,cs),qh($e,Ue,cs)):(Zs&&ss&&St(Ue),Ue.flags|=1,nl($e,Ue,Ze,cs),Ue.child)}function ZE($e,Ue,Ze,ss,cs,vs){return Af(Ue),Ue.updateQueue=null,Ze=Ei(Ue,ss,Ze,cs),Vi($e),ss=ha(),$e!==null&&!Bo?(Ii($e,Ue,vs),qh($e,Ue,vs)):(Zs&&ss&&St(Ue),Ue.flags|=1,nl($e,Ue,Ze,vs),Ue.child)}function KE($e,Ue,Ze,ss,cs){if(Af(Ue),Ue.stateNode===null){var vs=el,$s=Ze.contextType;typeof $s=="object"&&$s!==null&&(vs=Ol($s)),vs=new Ze(ss,vs),Ue.memoizedState=vs.state!==null&&vs.state!==void 0?vs.state:null,vs.updater=ru,Ue.stateNode=vs,vs._reactInternals=Ue,vs=Ue.stateNode,vs.props=ss,vs.state=Ue.memoizedState,vs.refs={},M2(Ue),$s=Ze.contextType,vs.context=typeof $s=="object"&&$s!==null?Ol($s):el,vs.state=Ue.memoizedState,$s=Ze.getDerivedStateFromProps,typeof $s=="function"&&(Yp(Ue,Ze,$s,ss),vs.state=Ue.memoizedState),typeof Ze.getDerivedStateFromProps=="function"||typeof vs.getSnapshotBeforeUpdate=="function"||typeof vs.UNSAFE_componentWillMount!="function"&&typeof vs.componentWillMount!="function"||($s=vs.state,typeof vs.componentWillMount=="function"&&vs.componentWillMount(),typeof vs.UNSAFE_componentWillMount=="function"&&vs.UNSAFE_componentWillMount(),$s!==vs.state&&ru.enqueueReplaceState(vs,vs.state,null),xy(Ue,ss,vs,cs),fy(),vs.state=Ue.memoizedState),typeof vs.componentDidMount=="function"&&(Ue.flags|=4194308),ss=!0}else if($e===null){vs=Ue.stateNode;var Qs=Ue.memoizedProps,cr=Gu(Ze,Qs);vs.props=cr;var yr=vs.context,Gr=Ze.contextType;$s=el,typeof Gr=="object"&&Gr!==null&&($s=Ol(Gr));var si=Ze.getDerivedStateFromProps;Gr=typeof si=="function"||typeof vs.getSnapshotBeforeUpdate=="function",Qs=Ue.pendingProps!==Qs,Gr||typeof vs.UNSAFE_componentWillReceiveProps!="function"&&typeof vs.componentWillReceiveProps!="function"||(Qs||yr!==$s)&&Rd(Ue,vs,ss,$s),em=!1;var Dr=Ue.memoizedState;vs.state=Dr,xy(Ue,ss,vs,cs),fy(),yr=Ue.memoizedState,Qs||Dr!==yr||em?(typeof si=="function"&&(Yp(Ue,Ze,si,ss),yr=Ue.memoizedState),(cr=em||wd(Ue,Ze,cr,ss,Dr,yr,$s))?(Gr||typeof vs.UNSAFE_componentWillMount!="function"&&typeof vs.componentWillMount!="function"||(typeof vs.componentWillMount=="function"&&vs.componentWillMount(),typeof vs.UNSAFE_componentWillMount=="function"&&vs.UNSAFE_componentWillMount()),typeof vs.componentDidMount=="function"&&(Ue.flags|=4194308)):(typeof vs.componentDidMount=="function"&&(Ue.flags|=4194308),Ue.memoizedProps=ss,Ue.memoizedState=yr),vs.props=ss,vs.state=yr,vs.context=$s,ss=cr):(typeof vs.componentDidMount=="function"&&(Ue.flags|=4194308),ss=!1)}else{vs=Ue.stateNode,F2($e,Ue),$s=Ue.memoizedProps,Gr=Gu(Ze,$s),vs.props=Gr,si=Ue.pendingProps,Dr=vs.context,yr=Ze.contextType,cr=el,typeof yr=="object"&&yr!==null&&(cr=Ol(yr)),Qs=Ze.getDerivedStateFromProps,(yr=typeof Qs=="function"||typeof vs.getSnapshotBeforeUpdate=="function")||typeof vs.UNSAFE_componentWillReceiveProps!="function"&&typeof vs.componentWillReceiveProps!="function"||($s!==si||Dr!==cr)&&Rd(Ue,vs,ss,cr),em=!1,Dr=Ue.memoizedState,vs.state=Dr,xy(Ue,ss,vs,cs),fy();var Hr=Ue.memoizedState;$s!==si||Dr!==Hr||em||$e!==null&&$e.dependencies!==null&&Wv($e.dependencies)?(typeof Qs=="function"&&(Yp(Ue,Ze,Qs,ss),Hr=Ue.memoizedState),(Gr=em||wd(Ue,Ze,Gr,ss,Dr,Hr,cr)||$e!==null&&$e.dependencies!==null&&Wv($e.dependencies))?(yr||typeof vs.UNSAFE_componentWillUpdate!="function"&&typeof vs.componentWillUpdate!="function"||(typeof vs.componentWillUpdate=="function"&&vs.componentWillUpdate(ss,Hr,cr),typeof vs.UNSAFE_componentWillUpdate=="function"&&vs.UNSAFE_componentWillUpdate(ss,Hr,cr)),typeof vs.componentDidUpdate=="function"&&(Ue.flags|=4),typeof vs.getSnapshotBeforeUpdate=="function"&&(Ue.flags|=1024)):(typeof vs.componentDidUpdate!="function"||$s===$e.memoizedProps&&Dr===$e.memoizedState||(Ue.flags|=4),typeof vs.getSnapshotBeforeUpdate!="function"||$s===$e.memoizedProps&&Dr===$e.memoizedState||(Ue.flags|=1024),Ue.memoizedProps=ss,Ue.memoizedState=Hr),vs.props=ss,vs.state=Hr,vs.context=cr,ss=Gr):(typeof vs.componentDidUpdate!="function"||$s===$e.memoizedProps&&Dr===$e.memoizedState||(Ue.flags|=4),typeof vs.getSnapshotBeforeUpdate!="function"||$s===$e.memoizedProps&&Dr===$e.memoizedState||(Ue.flags|=1024),ss=!1)}return vs=ss,hy($e,Ue),ss=(Ue.flags&128)!==0,vs||ss?(vs=Ue.stateNode,Ze=ss&&typeof Ze.getDerivedStateFromError!="function"?null:vs.render(),Ue.flags|=1,$e!==null&&ss?(Ue.child=eu(Ue,$e.child,null,cs),Ue.child=eu(Ue,null,Ze,cs)):nl($e,Ue,Ze,cs),Ue.memoizedState=vs.state,$e=Ue.child):$e=qh($e,Ue,cs),$e}function YE($e,Ue,Ze,ss){return wa(),Ue.flags|=256,nl($e,Ue,Ze,ss),Ue.child}var R2={dehydrated:null,treeContext:null,retryLane:0};function _2($e){return{baseLanes:$e,cachePool:ar()}}function S2($e,Ue,Ze){return $e=$e!==null?$e.childLanes&~Ze:0,Ue&&($e|=Yu),$e}function XE($e,Ue,Ze){var ss=Ue.pendingProps,cs=!1,vs=(Ue.flags&128)!==0,$s;if(($s=vs)||($s=$e!==null&&$e.memoizedState===null?!1:(Ga.current&2)!==0),$s&&(cs=!0,Ue.flags&=-129),$s=(Ue.flags&32)!==0,Ue.flags&=-33,$e===null){if(Zs){if(cs?Xd(Ue):Jd(),Zs){var Qs=Fs,cr;if(cr=Qs){e:{for(cr=Qs,Qs=wr;cr.nodeType!==8;){if(!Qs){Qs=null;break e}if(cr=Sd(cr.nextSibling),cr===null){Qs=null;break e}}Qs=cr}Qs!==null?(Ue.memoizedState={dehydrated:Qs,treeContext:Vu!==null?{id:Pl,overflow:Tl}:null,retryLane:536870912},cr=Ku(18,null,null,0),cr.stateNode=Qs,cr.return=Ue,Ue.child=cr,Es=Ue,Fs=null,cr=!0):cr=!1}cr||Zr(Ue)}if(Qs=Ue.memoizedState,Qs!==null&&(Qs=Qs.dehydrated,Qs!==null))return Qs.data==="$!"?Ue.lanes=16:Ue.lanes=536870912,null;vd(Ue)}return Qs=ss.children,ss=ss.fallback,cs?(Jd(),cs=Ue.mode,Qs=A2({mode:"hidden",children:Qs},cs),ss=Pf(ss,cs,Ze,null),Qs.return=Ue,ss.return=Ue,Qs.sibling=ss,Ue.child=Qs,cs=Ue.child,cs.memoizedState=_2(Ze),cs.childLanes=S2($e,$s,Ze),Ue.memoizedState=R2,ss):(Xd(Ue),N2(Ue,Qs))}if(cr=$e.memoizedState,cr!==null&&(Qs=cr.dehydrated,Qs!==null)){if(vs)Ue.flags&256?(Xd(Ue),Ue.flags&=-257,Ue=C2($e,Ue,Ze)):Ue.memoizedState!==null?(Jd(),Ue.child=$e.child,Ue.flags|=128,Ue=null):(Jd(),cs=ss.fallback,Qs=Ue.mode,ss=A2({mode:"visible",children:ss.children},Qs),cs=Pf(cs,Qs,Ze,null),cs.flags|=2,ss.return=Ue,cs.return=Ue,ss.sibling=cs,Ue.child=ss,eu(Ue,$e.child,null,Ze),ss=Ue.child,ss.memoizedState=_2(Ze),ss.childLanes=S2($e,$s,Ze),Ue.memoizedState=R2,Ue=cs);else if(Xd(Ue),Qs.data==="$!"){if($s=Qs.nextSibling&&Qs.nextSibling.dataset,$s)var yr=$s.dgst;$s=yr,ss=Error(Ce(419)),ss.stack="",ss.digest=$s,Wn({value:ss,source:null,stack:null}),Ue=C2($e,Ue,Ze)}else if(Bo||py($e,Ue,Ze,!1),$s=(Ze&$e.childLanes)!==0,Bo||$s){if($s=ra,$s!==null){if(ss=Ze&-Ze,(ss&42)!==0)ss=1;else switch(ss){case 2:ss=1;break;case 8:ss=4;break;case 32:ss=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:ss=64;break;case 268435456:ss=134217728;break;default:ss=0}if(ss=(ss&($s.suspendedLanes|Ze))!==0?0:ss,ss!==0&&ss!==cr.retryLane)throw cr.retryLane=ss,Qo($e,ss),ic($s,$e,ss),VE}Qs.data==="$?"||rj(),Ue=C2($e,Ue,Ze)}else Qs.data==="$?"?(Ue.flags|=128,Ue.child=$e.child,Ue=g_.bind(null,$e),Qs._reactRetry=Ue,Ue=null):($e=cr.treeContext,Fs=Sd(Qs.nextSibling),Es=Ue,Zs=!0,dr=null,wr=!1,$e!==null&&(io[bo++]=Pl,io[bo++]=Tl,io[bo++]=Vu,Pl=$e.id,Tl=$e.overflow,Vu=Ue),Ue=N2(Ue,ss.children),Ue.flags|=4096);return Ue}return cs?(Jd(),cs=ss.fallback,Qs=Ue.mode,cr=$e.child,yr=cr.sibling,ss=am(cr,{mode:"hidden",children:ss.children}),ss.subtreeFlags=cr.subtreeFlags&31457280,yr!==null?cs=am(yr,cs):(cs=Pf(cs,Qs,Ze,null),cs.flags|=2),cs.return=Ue,ss.return=Ue,ss.sibling=cs,Ue.child=ss,ss=cs,cs=Ue.child,Qs=$e.child.memoizedState,Qs===null?Qs=_2(Ze):(cr=Qs.cachePool,cr!==null?(yr=Wa._currentValue,cr=cr.parent!==yr?{parent:yr,pool:yr}:cr):cr=ar(),Qs={baseLanes:Qs.baseLanes|Ze,cachePool:cr}),cs.memoizedState=Qs,cs.childLanes=S2($e,$s,Ze),Ue.memoizedState=R2,ss):(Xd(Ue),Ze=$e.child,$e=Ze.sibling,Ze=am(Ze,{mode:"visible",children:ss.children}),Ze.return=Ue,Ze.sibling=null,$e!==null&&($s=Ue.deletions,$s===null?(Ue.deletions=[$e],Ue.flags|=16):$s.push($e)),Ue.child=Ze,Ue.memoizedState=null,Ze)}function N2($e,Ue){return Ue=A2({mode:"visible",children:Ue},$e.mode),Ue.return=$e,$e.child=Ue}function A2($e,Ue){return Rw($e,Ue,0,null)}function C2($e,Ue,Ze){return eu(Ue,$e.child,null,Ze),$e=N2(Ue,Ue.pendingProps.children),$e.flags|=2,Ue.memoizedState=null,$e}function JE($e,Ue,Ze){$e.lanes|=Ue;var ss=$e.alternate;ss!==null&&(ss.lanes|=Ue),D2($e.return,Ue,Ze)}function P2($e,Ue,Ze,ss,cs){var vs=$e.memoizedState;vs===null?$e.memoizedState={isBackwards:Ue,rendering:null,renderingStartTime:0,last:ss,tail:Ze,tailMode:cs}:(vs.isBackwards=Ue,vs.rendering=null,vs.renderingStartTime=0,vs.last=ss,vs.tail=Ze,vs.tailMode=cs)}function QE($e,Ue,Ze){var ss=Ue.pendingProps,cs=ss.revealOrder,vs=ss.tail;if(nl($e,Ue,ss.children,Ze),ss=Ga.current,(ss&2)!==0)ss=ss&1|2,Ue.flags|=128;else{if($e!==null&&($e.flags&128)!==0)e:for($e=Ue.child;$e!==null;){if($e.tag===13)$e.memoizedState!==null&&JE($e,Ze,Ue);else if($e.tag===19)JE($e,Ze,Ue);else if($e.child!==null){$e.child.return=$e,$e=$e.child;continue}if($e===Ue)break e;for(;$e.sibling===null;){if($e.return===null||$e.return===Ue)break e;$e=$e.return}$e.sibling.return=$e.return,$e=$e.sibling}ss&=1}switch(Vs(Ga,ss),cs){case"forwards":for(Ze=Ue.child,cs=null;Ze!==null;)$e=Ze.alternate,$e!==null&&sg($e)===null&&(cs=Ze),Ze=Ze.sibling;Ze=cs,Ze===null?(cs=Ue.child,Ue.child=null):(cs=Ze.sibling,Ze.sibling=null),P2(Ue,!1,cs,Ze,vs);break;case"backwards":for(Ze=null,cs=Ue.child,Ue.child=null;cs!==null;){if($e=cs.alternate,$e!==null&&sg($e)===null){Ue.child=cs;break}$e=cs.sibling,cs.sibling=Ze,Ze=cs,cs=$e}P2(Ue,!0,Ze,null,vs);break;case"together":P2(Ue,!1,null,null,void 0);break;default:Ue.memoizedState=null}return Ue.child}function qh($e,Ue,Ze){if($e!==null&&(Ue.dependencies=$e.dependencies),om|=Ue.lanes,(Ze&Ue.childLanes)===0)if($e!==null){if(py($e,Ue,Ze,!1),(Ze&Ue.childLanes)===0)return null}else return null;if($e!==null&&Ue.child!==$e.child)throw Error(Ce(153));if(Ue.child!==null){for($e=Ue.child,Ze=am($e,$e.pendingProps),Ue.child=Ze,Ze.return=Ue;$e.sibling!==null;)$e=$e.sibling,Ze=Ze.sibling=am($e,$e.pendingProps),Ze.return=Ue;Ze.sibling=null}return Ue.child}function T2($e,Ue){return($e.lanes&Ue)!==0?!0:($e=$e.dependencies,!!($e!==null&&Wv($e)))}function r_($e,Ue,Ze){switch(Ue.tag){case 3:Ws(Ue,Ue.stateNode.containerInfo),Qp(Ue,Wa,$e.memoizedState.cache),wa();break;case 27:case 5:zr(Ue);break;case 4:Ws(Ue,Ue.stateNode.containerInfo);break;case 10:Qp(Ue,Ue.type,Ue.memoizedProps.value);break;case 13:var ss=Ue.memoizedState;if(ss!==null)return ss.dehydrated!==null?(Xd(Ue),Ue.flags|=128,null):(Ze&Ue.child.childLanes)!==0?XE($e,Ue,Ze):(Xd(Ue),$e=qh($e,Ue,Ze),$e!==null?$e.sibling:null);Xd(Ue);break;case 19:var cs=($e.flags&128)!==0;if(ss=(Ze&Ue.childLanes)!==0,ss||(py($e,Ue,Ze,!1),ss=(Ze&Ue.childLanes)!==0),cs){if(ss)return QE($e,Ue,Ze);Ue.flags|=128}if(cs=Ue.memoizedState,cs!==null&&(cs.rendering=null,cs.tail=null,cs.lastEffect=null),Vs(Ga,Ga.current),ss)break;return null;case 22:case 23:return Ue.lanes=0,GE($e,Ue,Ze);case 24:Qp(Ue,Wa,$e.memoizedState.cache)}return qh($e,Ue,Ze)}function ew($e,Ue,Ze){if($e!==null)if($e.memoizedProps!==Ue.pendingProps)Bo=!0;else{if(!T2($e,Ze)&&(Ue.flags&128)===0)return Bo=!1,r_($e,Ue,Ze);Bo=($e.flags&131072)!==0}else Bo=!1,Zs&&(Ue.flags&1048576)!==0&&He(Ue,$u,Ue.index);switch(Ue.lanes=0,Ue.tag){case 16:e:{$e=Ue.pendingProps;var ss=Ue.elementType,cs=ss._init;if(ss=cs(ss._payload),Ue.type=ss,typeof ss=="function")q2(ss)?($e=Gu(ss,$e),Ue.tag=1,Ue=KE(null,Ue,ss,$e,Ze)):(Ue.tag=0,Ue=w2(null,Ue,ss,$e,Ze));else{if(ss!=null){if(cs=ss.$$typeof,cs===Je){Ue.tag=11,Ue=UE(null,Ue,ss,$e,Ze);break e}else if(cs===Ye){Ue.tag=14,Ue=HE(null,Ue,ss,$e,Ze);break e}}throw Ue=fs(ss)||ss,Error(Ce(306,Ue,""))}}return Ue;case 0:return w2($e,Ue,Ue.type,Ue.pendingProps,Ze);case 1:return ss=Ue.type,cs=Gu(ss,Ue.pendingProps),KE($e,Ue,ss,cs,Ze);case 3:e:{if(Ws(Ue,Ue.stateNode.containerInfo),$e===null)throw Error(Ce(387));var vs=Ue.pendingProps;cs=Ue.memoizedState,ss=cs.element,F2($e,Ue),xy(Ue,vs,null,Ze);var $s=Ue.memoizedState;if(vs=$s.cache,Qp(Ue,Wa,vs),vs!==cs.cache&&L2(Ue,[Wa],Ze,!0),fy(),vs=$s.element,cs.isDehydrated)if(cs={element:vs,isDehydrated:!1,cache:$s.cache},Ue.updateQueue.baseState=cs,Ue.memoizedState=cs,Ue.flags&256){Ue=YE($e,Ue,vs,Ze);break e}else if(vs!==ss){ss=On(Error(Ce(424)),Ue),Wn(ss),Ue=YE($e,Ue,vs,Ze);break e}else for(Fs=Sd(Ue.stateNode.containerInfo.firstChild),Es=Ue,Zs=!0,dr=null,wr=!0,Ze=gf(Ue,null,vs,Ze),Ue.child=Ze;Ze;)Ze.flags=Ze.flags&-3|4096,Ze=Ze.sibling;else{if(wa(),vs===ss){Ue=qh($e,Ue,Ze);break e}nl($e,Ue,vs,Ze)}Ue=Ue.child}return Ue;case 26:return hy($e,Ue),$e===null?(Ze=iR(Ue.type,null,Ue.pendingProps,null))?Ue.memoizedState=Ze:Zs||(Ze=Ue.type,$e=Ue.pendingProps,ss=ub(rr.current).createElement(Ze),ss[Rn]=Ue,ss[Pn]=$e,al(ss,Ze,$e),Jn(ss),Ue.stateNode=ss):Ue.memoizedState=iR(Ue.type,$e.memoizedProps,Ue.pendingProps,$e.memoizedState),null;case 27:return zr(Ue),$e===null&&Zs&&(ss=Ue.stateNode=tR(Ue.type,Ue.pendingProps,rr.current),Es=Ue,wr=!0,Fs=Sd(ss.firstChild)),ss=Ue.pendingProps.children,$e!==null||Zs?nl($e,Ue,ss,Ze):Ue.child=eu(Ue,null,ss,Ze),hy($e,Ue),Ue.child;case 5:return $e===null&&Zs&&((cs=ss=Fs)&&(ss=D_(ss,Ue.type,Ue.pendingProps,wr),ss!==null?(Ue.stateNode=ss,Es=Ue,Fs=Sd(ss.firstChild),wr=!1,cs=!0):cs=!1),cs||Zr(Ue)),zr(Ue),cs=Ue.type,vs=Ue.pendingProps,$s=$e!==null?$e.memoizedProps:null,ss=vs.children,gj(cs,vs)?ss=null:$s!==null&&gj(cs,$s)&&(Ue.flags|=32),Ue.memoizedState!==null&&(cs=Ra($e,Ue,ui,null,null,Ze),Ty._currentValue=cs),hy($e,Ue),nl($e,Ue,ss,Ze),Ue.child;case 6:return $e===null&&Zs&&(($e=Ze=Fs)&&(Ze=L_(Ze,Ue.pendingProps,wr),Ze!==null?(Ue.stateNode=Ze,Es=Ue,Fs=null,$e=!0):$e=!1),$e||Zr(Ue)),null;case 13:return XE($e,Ue,Ze);case 4:return Ws(Ue,Ue.stateNode.containerInfo),ss=Ue.pendingProps,$e===null?Ue.child=eu(Ue,null,ss,Ze):nl($e,Ue,ss,Ze),Ue.child;case 11:return UE($e,Ue,Ue.type,Ue.pendingProps,Ze);case 7:return nl($e,Ue,Ue.pendingProps,Ze),Ue.child;case 8:return nl($e,Ue,Ue.pendingProps.children,Ze),Ue.child;case 12:return nl($e,Ue,Ue.pendingProps.children,Ze),Ue.child;case 10:return ss=Ue.pendingProps,Qp(Ue,Ue.type,ss.value),nl($e,Ue,ss.children,Ze),Ue.child;case 9:return cs=Ue.type._context,ss=Ue.pendingProps.children,Af(Ue),cs=Ol(cs),ss=ss(cs),Ue.flags|=1,nl($e,Ue,ss,Ze),Ue.child;case 14:return HE($e,Ue,Ue.type,Ue.pendingProps,Ze);case 15:return qE($e,Ue,Ue.type,Ue.pendingProps,Ze);case 19:return QE($e,Ue,Ze);case 22:return GE($e,Ue,Ze);case 24:return Af(Ue),ss=Ol(Wa),$e===null?(cs=fr(),cs===null&&(cs=ra,vs=ig(),cs.pooledCache=vs,vs.refCount++,vs!==null&&(cs.pooledCacheLanes|=Ze),cs=vs),Ue.memoizedState={parent:ss,cache:cs},M2(Ue),Qp(Ue,Wa,cs)):(($e.lanes&Ze)!==0&&(F2($e,Ue),xy(Ue,null,null,Ze),fy()),cs=$e.memoizedState,vs=Ue.memoizedState,cs.parent!==ss?(cs={parent:ss,cache:ss},Ue.memoizedState=cs,Ue.lanes===0&&(Ue.memoizedState=Ue.updateQueue.baseState=cs),Qp(Ue,Wa,ss)):(ss=vs.cache,Qp(Ue,Wa,ss),ss!==cs.cache&&L2(Ue,[Wa],Ze,!0))),nl($e,Ue,Ue.pendingProps.children,Ze),Ue.child;case 29:throw Ue.pendingProps}throw Error(Ce(156,Ue.tag))}var k2=Us(null),Nf=null,Gh=null;function Qp($e,Ue,Ze){Vs(k2,Ue._currentValue),Ue._currentValue=Ze}function Wh($e){$e._currentValue=k2.current,Is(k2)}function D2($e,Ue,Ze){for(;$e!==null;){var ss=$e.alternate;if(($e.childLanes&Ue)!==Ue?($e.childLanes|=Ue,ss!==null&&(ss.childLanes|=Ue)):ss!==null&&(ss.childLanes&Ue)!==Ue&&(ss.childLanes|=Ue),$e===Ze)break;$e=$e.return}}function L2($e,Ue,Ze,ss){var cs=$e.child;for(cs!==null&&(cs.return=$e);cs!==null;){var vs=cs.dependencies;if(vs!==null){var $s=cs.child;vs=vs.firstContext;e:for(;vs!==null;){var Qs=vs;vs=cs;for(var cr=0;cr<Ue.length;cr++)if(Qs.context===Ue[cr]){vs.lanes|=Ze,Qs=vs.alternate,Qs!==null&&(Qs.lanes|=Ze),D2(vs.return,Ze,$e),ss||($s=null);break e}vs=Qs.next}}else if(cs.tag===18){if($s=cs.return,$s===null)throw Error(Ce(341));$s.lanes|=Ze,vs=$s.alternate,vs!==null&&(vs.lanes|=Ze),D2($s,Ze,$e),$s=null}else $s=cs.child;if($s!==null)$s.return=cs;else for($s=cs;$s!==null;){if($s===$e){$s=null;break}if(cs=$s.sibling,cs!==null){cs.return=$s.return,$s=cs;break}$s=$s.return}cs=$s}}function py($e,Ue,Ze,ss){$e=null;for(var cs=Ue,vs=!1;cs!==null;){if(!vs){if((cs.flags&524288)!==0)vs=!0;else if((cs.flags&262144)!==0)break}if(cs.tag===10){var $s=cs.alternate;if($s===null)throw Error(Ce(387));if($s=$s.memoizedProps,$s!==null){var Qs=cs.type;ea(cs.pendingProps.value,$s.value)||($e!==null?$e.push(Qs):$e=[Qs])}}else if(cs===ur.current){if($s=cs.alternate,$s===null)throw Error(Ce(387));$s.memoizedState.memoizedState!==cs.memoizedState.memoizedState&&($e!==null?$e.push(Ty):$e=[Ty])}cs=cs.return}$e!==null&&L2(Ue,$e,Ze,ss),Ue.flags|=262144}function Wv($e){for($e=$e.firstContext;$e!==null;){if(!ea($e.context._currentValue,$e.memoizedValue))return!0;$e=$e.next}return!1}function Af($e){Nf=$e,Gh=null,$e=$e.dependencies,$e!==null&&($e.firstContext=null)}function Ol($e){return tw(Nf,$e)}function Zv($e,Ue){return Nf===null&&Af($e),tw($e,Ue)}function tw($e,Ue){var Ze=Ue._currentValue;if(Ue={context:Ue,memoizedValue:Ze,next:null},Gh===null){if($e===null)throw Error(Ce(308));Gh=Ue,$e.dependencies={lanes:0,firstContext:Ue},$e.flags|=524288}else Gh=Gh.next=Ue;return Ze}var em=!1;function M2($e){$e.updateQueue={baseState:$e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function F2($e,Ue){$e=$e.updateQueue,Ue.updateQueue===$e&&(Ue.updateQueue={baseState:$e.baseState,firstBaseUpdate:$e.firstBaseUpdate,lastBaseUpdate:$e.lastBaseUpdate,shared:$e.shared,callbacks:null})}function tm($e){return{lane:$e,tag:0,payload:null,callback:null,next:null}}function sm($e,Ue,Ze){var ss=$e.updateQueue;if(ss===null)return null;if(ss=ss.shared,(Aa&2)!==0){var cs=ss.pending;return cs===null?Ue.next=Ue:(Ue.next=cs.next,cs.next=Ue),ss.pending=Ue,Ue=Jc($e),ff($e,null,Ze),Ue}return Kd($e,ss,Ue,Ze),Jc($e)}function my($e,Ue,Ze){if(Ue=Ue.updateQueue,Ue!==null&&(Ue=Ue.shared,(Ze&4194176)!==0)){var ss=Ue.lanes;ss&=$e.pendingLanes,Ze|=ss,Ue.lanes=Ze,Qa($e,Ze)}}function O2($e,Ue){var Ze=$e.updateQueue,ss=$e.alternate;if(ss!==null&&(ss=ss.updateQueue,Ze===ss)){var cs=null,vs=null;if(Ze=Ze.firstBaseUpdate,Ze!==null){do{var $s={lane:Ze.lane,tag:Ze.tag,payload:Ze.payload,callback:null,next:null};vs===null?cs=vs=$s:vs=vs.next=$s,Ze=Ze.next}while(Ze!==null);vs===null?cs=vs=Ue:vs=vs.next=Ue}else cs=vs=Ue;Ze={baseState:ss.baseState,firstBaseUpdate:cs,lastBaseUpdate:vs,shared:ss.shared,callbacks:ss.callbacks},$e.updateQueue=Ze;return}$e=Ze.lastBaseUpdate,$e===null?Ze.firstBaseUpdate=Ue:$e.next=Ue,Ze.lastBaseUpdate=Ue}var I2=!1;function fy(){if(I2){var $e=Gs;if($e!==null)throw $e}}function xy($e,Ue,Ze,ss){I2=!1;var cs=$e.updateQueue;em=!1;var vs=cs.firstBaseUpdate,$s=cs.lastBaseUpdate,Qs=cs.shared.pending;if(Qs!==null){cs.shared.pending=null;var cr=Qs,yr=cr.next;cr.next=null,$s===null?vs=yr:$s.next=yr,$s=cr;var Gr=$e.alternate;Gr!==null&&(Gr=Gr.updateQueue,Qs=Gr.lastBaseUpdate,Qs!==$s&&(Qs===null?Gr.firstBaseUpdate=yr:Qs.next=yr,Gr.lastBaseUpdate=cr))}if(vs!==null){var si=cs.baseState;$s=0,Gr=yr=cr=null,Qs=vs;do{var Dr=Qs.lane&-536870913,Hr=Dr!==Qs.lane;if(Hr?(xn&Dr)===Dr:(ss&Dr)===Dr){Dr!==0&&Dr===Os&&(I2=!0),Gr!==null&&(Gr=Gr.next={lane:0,tag:Qs.tag,payload:Qs.payload,callback:null,next:null});e:{var Ni=$e,Ui=Qs;Dr=Ue;var Fa=Ze;switch(Ui.tag){case 1:if(Ni=Ui.payload,typeof Ni=="function"){si=Ni.call(Fa,si,Dr);break e}si=Ni;break e;case 3:Ni.flags=Ni.flags&-65537|128;case 0:if(Ni=Ui.payload,Dr=typeof Ni=="function"?Ni.call(Fa,si,Dr):Ni,Dr==null)break e;si=Ss({},si,Dr);break e;case 2:em=!0}}Dr=Qs.callback,Dr!==null&&($e.flags|=64,Hr&&($e.flags|=8192),Hr=cs.callbacks,Hr===null?cs.callbacks=[Dr]:Hr.push(Dr))}else Hr={lane:Dr,tag:Qs.tag,payload:Qs.payload,callback:Qs.callback,next:null},Gr===null?(yr=Gr=Hr,cr=si):Gr=Gr.next=Hr,$s|=Dr;if(Qs=Qs.next,Qs===null){if(Qs=cs.shared.pending,Qs===null)break;Hr=Qs,Qs=Hr.next,Hr.next=null,cs.lastBaseUpdate=Hr,cs.shared.pending=null}}while(!0);Gr===null&&(cr=si),cs.baseState=cr,cs.firstBaseUpdate=yr,cs.lastBaseUpdate=Gr,vs===null&&(cs.shared.lanes=0),om|=$s,$e.lanes=$s,$e.memoizedState=si}}function sw($e,Ue){if(typeof $e!="function")throw Error(Ce(191,$e));$e.call(Ue)}function rw($e,Ue){var Ze=$e.callbacks;if(Ze!==null)for($e.callbacks=null,$e=0;$e<Ze.length;$e++)sw(Ze[$e],Ue)}function gy($e,Ue){try{var Ze=Ue.updateQueue,ss=Ze!==null?Ze.lastEffect:null;if(ss!==null){var cs=ss.next;Ze=cs;do{if((Ze.tag&$e)===$e){ss=void 0;var vs=Ze.create,$s=Ze.inst;ss=vs(),$s.destroy=ss}Ze=Ze.next}while(Ze!==cs)}}catch(Qs){Zn(Ue,Ue.return,Qs)}}function rm($e,Ue,Ze){try{var ss=Ue.updateQueue,cs=ss!==null?ss.lastEffect:null;if(cs!==null){var vs=cs.next;ss=vs;do{if((ss.tag&$e)===$e){var $s=ss.inst,Qs=$s.destroy;if(Qs!==void 0){$s.destroy=void 0,cs=Ue;var cr=Ze;try{Qs()}catch(yr){Zn(cs,cr,yr)}}}ss=ss.next}while(ss!==vs)}}catch(yr){Zn(Ue,Ue.return,yr)}}function iw($e){var Ue=$e.updateQueue;if(Ue!==null){var Ze=$e.stateNode;try{rw(Ue,Ze)}catch(ss){Zn($e,$e.return,ss)}}}function nw($e,Ue,Ze){Ze.props=Gu($e.type,$e.memoizedProps),Ze.state=$e.memoizedState;try{Ze.componentWillUnmount()}catch(ss){Zn($e,Ue,ss)}}function Cf($e,Ue){try{var Ze=$e.ref;if(Ze!==null){var ss=$e.stateNode;switch($e.tag){case 26:case 27:case 5:var cs=ss;break;default:cs=ss}typeof Ze=="function"?$e.refCleanup=Ze(cs):Ze.current=cs}}catch(vs){Zn($e,Ue,vs)}}function iu($e,Ue){var Ze=$e.ref,ss=$e.refCleanup;if(Ze!==null)if(typeof ss=="function")try{ss()}catch(cs){Zn($e,Ue,cs)}finally{$e.refCleanup=null,$e=$e.alternate,$e!=null&&($e.refCleanup=null)}else if(typeof Ze=="function")try{Ze(null)}catch(cs){Zn($e,Ue,cs)}else Ze.current=null}function aw($e){var Ue=$e.type,Ze=$e.memoizedProps,ss=$e.stateNode;try{e:switch(Ue){case"button":case"input":case"select":case"textarea":Ze.autoFocus&&ss.focus();break e;case"img":Ze.src?ss.src=Ze.src:Ze.srcSet&&(ss.srcset=Ze.srcSet)}}catch(cs){Zn($e,$e.return,cs)}}function ow($e,Ue,Ze){try{var ss=$e.stateNode;A_(ss,$e.type,Ze,Ue),ss[Pn]=Ue}catch(cs){Zn($e,$e.return,cs)}}function lw($e){return $e.tag===5||$e.tag===3||$e.tag===26||$e.tag===27||$e.tag===4}function B2($e){e:for(;;){for(;$e.sibling===null;){if($e.return===null||lw($e.return))return null;$e=$e.return}for($e.sibling.return=$e.return,$e=$e.sibling;$e.tag!==5&&$e.tag!==6&&$e.tag!==27&&$e.tag!==18;){if($e.flags&2||$e.child===null||$e.tag===4)continue e;$e.child.return=$e,$e=$e.child}if(!($e.flags&2))return $e.stateNode}}function z2($e,Ue,Ze){var ss=$e.tag;if(ss===5||ss===6)$e=$e.stateNode,Ue?Ze.nodeType===8?Ze.parentNode.insertBefore($e,Ue):Ze.insertBefore($e,Ue):(Ze.nodeType===8?(Ue=Ze.parentNode,Ue.insertBefore($e,Ze)):(Ue=Ze,Ue.appendChild($e)),Ze=Ze._reactRootContainer,Ze!=null||Ue.onclick!==null||(Ue.onclick=cb));else if(ss!==4&&ss!==27&&($e=$e.child,$e!==null))for(z2($e,Ue,Ze),$e=$e.sibling;$e!==null;)z2($e,Ue,Ze),$e=$e.sibling}function Kv($e,Ue,Ze){var ss=$e.tag;if(ss===5||ss===6)$e=$e.stateNode,Ue?Ze.insertBefore($e,Ue):Ze.appendChild($e);else if(ss!==4&&ss!==27&&($e=$e.child,$e!==null))for(Kv($e,Ue,Ze),$e=$e.sibling;$e!==null;)Kv($e,Ue,Ze),$e=$e.sibling}var Zh=!1,La=!1,$2=!1,cw=typeof WeakSet=="function"?WeakSet:Set,zo=null,uw=!1;function i_($e,Ue){if($e=$e.containerInfo,fj=xb,$e=Xc($e),Nl($e)){if("selectionStart"in $e)var Ze={start:$e.selectionStart,end:$e.selectionEnd};else e:{Ze=(Ze=$e.ownerDocument)&&Ze.defaultView||window;var ss=Ze.getSelection&&Ze.getSelection();if(ss&&ss.rangeCount!==0){Ze=ss.anchorNode;var cs=ss.anchorOffset,vs=ss.focusNode;ss=ss.focusOffset;try{Ze.nodeType,vs.nodeType}catch{Ze=null;break e}var $s=0,Qs=-1,cr=-1,yr=0,Gr=0,si=$e,Dr=null;t:for(;;){for(var Hr;si!==Ze||cs!==0&&si.nodeType!==3||(Qs=$s+cs),si!==vs||ss!==0&&si.nodeType!==3||(cr=$s+ss),si.nodeType===3&&($s+=si.nodeValue.length),(Hr=si.firstChild)!==null;)Dr=si,si=Hr;for(;;){if(si===$e)break t;if(Dr===Ze&&++yr===cs&&(Qs=$s),Dr===vs&&++Gr===ss&&(cr=$s),(Hr=si.nextSibling)!==null)break;si=Dr,Dr=si.parentNode}si=Hr}Ze=Qs===-1||cr===-1?null:{start:Qs,end:cr}}else Ze=null}Ze=Ze||{start:0,end:0}}else Ze=null;for(xj={focusedElem:$e,selectionRange:Ze},xb=!1,zo=Ue;zo!==null;)if(Ue=zo,$e=Ue.child,(Ue.subtreeFlags&1028)!==0&&$e!==null)$e.return=Ue,zo=$e;else for(;zo!==null;){switch(Ue=zo,vs=Ue.alternate,$e=Ue.flags,Ue.tag){case 0:break;case 11:case 15:break;case 1:if(($e&1024)!==0&&vs!==null){$e=void 0,Ze=Ue,cs=vs.memoizedProps,vs=vs.memoizedState,ss=Ze.stateNode;try{var Ni=Gu(Ze.type,cs,Ze.elementType===Ze.type);$e=ss.getSnapshotBeforeUpdate(Ni,vs),ss.__reactInternalSnapshotBeforeUpdate=$e}catch(Ui){Zn(Ze,Ze.return,Ui)}}break;case 3:if(($e&1024)!==0){if($e=Ue.stateNode.containerInfo,Ze=$e.nodeType,Ze===9)bj($e);else if(Ze===1)switch($e.nodeName){case"HEAD":case"HTML":case"BODY":bj($e);break;default:$e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(($e&1024)!==0)throw Error(Ce(163))}if($e=Ue.sibling,$e!==null){$e.return=Ue.return,zo=$e;break}zo=Ue.return}return Ni=uw,uw=!1,Ni}function dw($e,Ue,Ze){var ss=Ze.flags;switch(Ze.tag){case 0:case 11:case 15:Yh($e,Ze),ss&4&&gy(5,Ze);break;case 1:if(Yh($e,Ze),ss&4)if($e=Ze.stateNode,Ue===null)try{$e.componentDidMount()}catch(Qs){Zn(Ze,Ze.return,Qs)}else{var cs=Gu(Ze.type,Ue.memoizedProps);Ue=Ue.memoizedState;try{$e.componentDidUpdate(cs,Ue,$e.__reactInternalSnapshotBeforeUpdate)}catch(Qs){Zn(Ze,Ze.return,Qs)}}ss&64&&iw(Ze),ss&512&&Cf(Ze,Ze.return);break;case 3:if(Yh($e,Ze),ss&64&&(ss=Ze.updateQueue,ss!==null)){if($e=null,Ze.child!==null)switch(Ze.child.tag){case 27:case 5:$e=Ze.child.stateNode;break;case 1:$e=Ze.child.stateNode}try{rw(ss,$e)}catch(Qs){Zn(Ze,Ze.return,Qs)}}break;case 26:Yh($e,Ze),ss&512&&Cf(Ze,Ze.return);break;case 27:case 5:Yh($e,Ze),Ue===null&&ss&4&&aw(Ze),ss&512&&Cf(Ze,Ze.return);break;case 12:Yh($e,Ze);break;case 13:Yh($e,Ze),ss&4&&mw($e,Ze);break;case 22:if(cs=Ze.memoizedState!==null||Zh,!cs){Ue=Ue!==null&&Ue.memoizedState!==null||La;var vs=Zh,$s=La;Zh=cs,(La=Ue)&&!$s?im($e,Ze,(Ze.subtreeFlags&8772)!==0):Yh($e,Ze),Zh=vs,La=$s}ss&512&&(Ze.memoizedProps.mode==="manual"?Cf(Ze,Ze.return):iu(Ze,Ze.return));break;default:Yh($e,Ze)}}function hw($e){var Ue=$e.alternate;Ue!==null&&($e.alternate=null,hw(Ue)),$e.child=null,$e.deletions=null,$e.sibling=null,$e.tag===5&&(Ue=$e.stateNode,Ue!==null&&Bc(Ue)),$e.stateNode=null,$e.return=null,$e.dependencies=null,$e.memoizedProps=null,$e.memoizedState=null,$e.pendingProps=null,$e.stateNode=null,$e.updateQueue=null}var lo=null,nu=!1;function Kh($e,Ue,Ze){for(Ze=Ze.child;Ze!==null;)pw($e,Ue,Ze),Ze=Ze.sibling}function pw($e,Ue,Ze){if(mi&&typeof mi.onCommitFiberUnmount=="function")try{mi.onCommitFiberUnmount(_i,Ze)}catch{}switch(Ze.tag){case 26:La||iu(Ze,Ue),Kh($e,Ue,Ze),Ze.memoizedState?Ze.memoizedState.count--:Ze.stateNode&&(Ze=Ze.stateNode,Ze.parentNode.removeChild(Ze));break;case 27:La||iu(Ze,Ue);var ss=lo,cs=nu;for(lo=Ze.stateNode,Kh($e,Ue,Ze),Ze=Ze.stateNode,Ue=Ze.attributes;Ue.length;)Ze.removeAttributeNode(Ue[0]);Bc(Ze),lo=ss,nu=cs;break;case 5:La||iu(Ze,Ue);case 6:cs=lo;var vs=nu;if(lo=null,Kh($e,Ue,Ze),lo=cs,nu=vs,lo!==null)if(nu)try{$e=lo,ss=Ze.stateNode,$e.nodeType===8?$e.parentNode.removeChild(ss):$e.removeChild(ss)}catch($s){Zn(Ze,Ue,$s)}else try{lo.removeChild(Ze.stateNode)}catch($s){Zn(Ze,Ue,$s)}break;case 18:lo!==null&&(nu?(Ue=lo,Ze=Ze.stateNode,Ue.nodeType===8?vj(Ue.parentNode,Ze):Ue.nodeType===1&&vj(Ue,Ze),My(Ue)):vj(lo,Ze.stateNode));break;case 4:ss=lo,cs=nu,lo=Ze.stateNode.containerInfo,nu=!0,Kh($e,Ue,Ze),lo=ss,nu=cs;break;case 0:case 11:case 14:case 15:La||rm(2,Ze,Ue),La||rm(4,Ze,Ue),Kh($e,Ue,Ze);break;case 1:La||(iu(Ze,Ue),ss=Ze.stateNode,typeof ss.componentWillUnmount=="function"&&nw(Ze,Ue,ss)),Kh($e,Ue,Ze);break;case 21:Kh($e,Ue,Ze);break;case 22:La||iu(Ze,Ue),La=(ss=La)||Ze.memoizedState!==null,Kh($e,Ue,Ze),La=ss;break;default:Kh($e,Ue,Ze)}}function mw($e,Ue){if(Ue.memoizedState===null&&($e=Ue.alternate,$e!==null&&($e=$e.memoizedState,$e!==null&&($e=$e.dehydrated,$e!==null))))try{My($e)}catch(Ze){Zn(Ue,Ue.return,Ze)}}function n_($e){switch($e.tag){case 13:case 19:var Ue=$e.stateNode;return Ue===null&&(Ue=$e.stateNode=new cw),Ue;case 22:return $e=$e.stateNode,Ue=$e._retryCache,Ue===null&&(Ue=$e._retryCache=new cw),Ue;default:throw Error(Ce(435,$e.tag))}}function V2($e,Ue){var Ze=n_($e);Ue.forEach(function(ss){var cs=y_.bind(null,$e,ss);Ze.has(ss)||(Ze.add(ss),ss.then(cs,cs))})}function Wu($e,Ue){var Ze=Ue.deletions;if(Ze!==null)for(var ss=0;ss<Ze.length;ss++){var cs=Ze[ss],vs=$e,$s=Ue,Qs=$s;e:for(;Qs!==null;){switch(Qs.tag){case 27:case 5:lo=Qs.stateNode,nu=!1;break e;case 3:lo=Qs.stateNode.containerInfo,nu=!0;break e;case 4:lo=Qs.stateNode.containerInfo,nu=!0;break e}Qs=Qs.return}if(lo===null)throw Error(Ce(160));pw(vs,$s,cs),lo=null,nu=!1,vs=cs.alternate,vs!==null&&(vs.return=null),cs.return=null}if(Ue.subtreeFlags&13878)for(Ue=Ue.child;Ue!==null;)fw(Ue,$e),Ue=Ue.sibling}var _d=null;function fw($e,Ue){var Ze=$e.alternate,ss=$e.flags;switch($e.tag){case 0:case 11:case 14:case 15:Wu(Ue,$e),Zu($e),ss&4&&(rm(3,$e,$e.return),gy(3,$e),rm(5,$e,$e.return));break;case 1:Wu(Ue,$e),Zu($e),ss&512&&(La||Ze===null||iu(Ze,Ze.return)),ss&64&&Zh&&($e=$e.updateQueue,$e!==null&&(ss=$e.callbacks,ss!==null&&(Ze=$e.shared.hiddenCallbacks,$e.shared.hiddenCallbacks=Ze===null?ss:Ze.concat(ss))));break;case 26:var cs=_d;if(Wu(Ue,$e),Zu($e),ss&512&&(La||Ze===null||iu(Ze,Ze.return)),ss&4){var vs=Ze!==null?Ze.memoizedState:null;if(ss=$e.memoizedState,Ze===null)if(ss===null)if($e.stateNode===null){e:{ss=$e.type,Ze=$e.memoizedProps,cs=cs.ownerDocument||cs;t:switch(ss){case"title":vs=cs.getElementsByTagName("title")[0],(!vs||vs[Po]||vs[Rn]||vs.namespaceURI==="http://www.w3.org/2000/svg"||vs.hasAttribute("itemprop"))&&(vs=cs.createElement(ss),cs.head.insertBefore(vs,cs.querySelector("head > title"))),al(vs,ss,Ze),vs[Rn]=$e,Jn(vs),ss=vs;break e;case"link":var $s=oR("link","href",cs).get(ss+(Ze.href||""));if($s){for(var Qs=0;Qs<$s.length;Qs++)if(vs=$s[Qs],vs.getAttribute("href")===(Ze.href==null?null:Ze.href)&&vs.getAttribute("rel")===(Ze.rel==null?null:Ze.rel)&&vs.getAttribute("title")===(Ze.title==null?null:Ze.title)&&vs.getAttribute("crossorigin")===(Ze.crossOrigin==null?null:Ze.crossOrigin)){$s.splice(Qs,1);break t}}vs=cs.createElement(ss),al(vs,ss,Ze),cs.head.appendChild(vs);break;case"meta":if($s=oR("meta","content",cs).get(ss+(Ze.content||""))){for(Qs=0;Qs<$s.length;Qs++)if(vs=$s[Qs],vs.getAttribute("content")===(Ze.content==null?null:""+Ze.content)&&vs.getAttribute("name")===(Ze.name==null?null:Ze.name)&&vs.getAttribute("property")===(Ze.property==null?null:Ze.property)&&vs.getAttribute("http-equiv")===(Ze.httpEquiv==null?null:Ze.httpEquiv)&&vs.getAttribute("charset")===(Ze.charSet==null?null:Ze.charSet)){$s.splice(Qs,1);break t}}vs=cs.createElement(ss),al(vs,ss,Ze),cs.head.appendChild(vs);break;default:throw Error(Ce(468,ss))}vs[Rn]=$e,Jn(vs),ss=vs}$e.stateNode=ss}else lR(cs,$e.type,$e.stateNode);else $e.stateNode=aR(cs,ss,$e.memoizedProps);else vs!==ss?(vs===null?Ze.stateNode!==null&&(Ze=Ze.stateNode,Ze.parentNode.removeChild(Ze)):vs.count--,ss===null?lR(cs,$e.type,$e.stateNode):aR(cs,ss,$e.memoizedProps)):ss===null&&$e.stateNode!==null&&ow($e,$e.memoizedProps,Ze.memoizedProps)}break;case 27:if(ss&4&&$e.alternate===null){cs=$e.stateNode,vs=$e.memoizedProps;try{for(var cr=cs.firstChild;cr;){var yr=cr.nextSibling,Gr=cr.nodeName;cr[Po]||Gr==="HEAD"||Gr==="BODY"||Gr==="SCRIPT"||Gr==="STYLE"||Gr==="LINK"&&cr.rel.toLowerCase()==="stylesheet"||cs.removeChild(cr),cr=yr}for(var si=$e.type,Dr=cs.attributes;Dr.length;)cs.removeAttributeNode(Dr[0]);al(cs,si,vs),cs[Rn]=$e,cs[Pn]=vs}catch(Ni){Zn($e,$e.return,Ni)}}case 5:if(Wu(Ue,$e),Zu($e),ss&512&&(La||Ze===null||iu(Ze,Ze.return)),$e.flags&32){cs=$e.stateNode;try{ho(cs,"")}catch(Ni){Zn($e,$e.return,Ni)}}ss&4&&$e.stateNode!=null&&(cs=$e.memoizedProps,ow($e,cs,Ze!==null?Ze.memoizedProps:cs)),ss&1024&&($2=!0);break;case 6:if(Wu(Ue,$e),Zu($e),ss&4){if($e.stateNode===null)throw Error(Ce(162));ss=$e.memoizedProps,Ze=$e.stateNode;try{Ze.nodeValue=ss}catch(Ni){Zn($e,$e.return,Ni)}}break;case 3:if(pb=null,cs=_d,_d=db(Ue.containerInfo),Wu(Ue,$e),_d=cs,Zu($e),ss&4&&Ze!==null&&Ze.memoizedState.isDehydrated)try{My(Ue.containerInfo)}catch(Ni){Zn($e,$e.return,Ni)}$2&&($2=!1,xw($e));break;case 4:ss=_d,_d=db($e.stateNode.containerInfo),Wu(Ue,$e),Zu($e),_d=ss;break;case 12:Wu(Ue,$e),Zu($e);break;case 13:Wu(Ue,$e),Zu($e),$e.child.flags&8192&&$e.memoizedState!==null!=(Ze!==null&&Ze.memoizedState!==null)&&(X2=Ar()),ss&4&&(ss=$e.updateQueue,ss!==null&&($e.updateQueue=null,V2($e,ss)));break;case 22:if(ss&512&&(La||Ze===null||iu(Ze,Ze.return)),cr=$e.memoizedState!==null,yr=Ze!==null&&Ze.memoizedState!==null,Gr=Zh,si=La,Zh=Gr||cr,La=si||yr,Wu(Ue,$e),La=si,Zh=Gr,Zu($e),Ue=$e.stateNode,Ue._current=$e,Ue._visibility&=-3,Ue._visibility|=Ue._pendingVisibility&2,ss&8192&&(Ue._visibility=cr?Ue._visibility&-2:Ue._visibility|1,cr&&(Ue=Zh||La,Ze===null||yr||Ue||mg($e)),$e.memoizedProps===null||$e.memoizedProps.mode!=="manual"))e:for(Ze=null,Ue=$e;;){if(Ue.tag===5||Ue.tag===26||Ue.tag===27){if(Ze===null){yr=Ze=Ue;try{if(cs=yr.stateNode,cr)vs=cs.style,typeof vs.setProperty=="function"?vs.setProperty("display","none","important"):vs.display="none";else{$s=yr.stateNode,Qs=yr.memoizedProps.style;var Hr=Qs!=null&&Qs.hasOwnProperty("display")?Qs.display:null;$s.style.display=Hr==null||typeof Hr=="boolean"?"":(""+Hr).trim()}}catch(Ni){Zn(yr,yr.return,Ni)}}}else if(Ue.tag===6){if(Ze===null){yr=Ue;try{yr.stateNode.nodeValue=cr?"":yr.memoizedProps}catch(Ni){Zn(yr,yr.return,Ni)}}}else if((Ue.tag!==22&&Ue.tag!==23||Ue.memoizedState===null||Ue===$e)&&Ue.child!==null){Ue.child.return=Ue,Ue=Ue.child;continue}if(Ue===$e)break e;for(;Ue.sibling===null;){if(Ue.return===null||Ue.return===$e)break e;Ze===Ue&&(Ze=null),Ue=Ue.return}Ze===Ue&&(Ze=null),Ue.sibling.return=Ue.return,Ue=Ue.sibling}ss&4&&(ss=$e.updateQueue,ss!==null&&(Ze=ss.retryQueue,Ze!==null&&(ss.retryQueue=null,V2($e,Ze))));break;case 19:Wu(Ue,$e),Zu($e),ss&4&&(ss=$e.updateQueue,ss!==null&&($e.updateQueue=null,V2($e,ss)));break;case 21:break;default:Wu(Ue,$e),Zu($e)}}function Zu($e){var Ue=$e.flags;if(Ue&2){try{if($e.tag!==27){e:{for(var Ze=$e.return;Ze!==null;){if(lw(Ze)){var ss=Ze;break e}Ze=Ze.return}throw Error(Ce(160))}switch(ss.tag){case 27:var cs=ss.stateNode,vs=B2($e);Kv($e,vs,cs);break;case 5:var $s=ss.stateNode;ss.flags&32&&(ho($s,""),ss.flags&=-33);var Qs=B2($e);Kv($e,Qs,$s);break;case 3:case 4:var cr=ss.stateNode.containerInfo,yr=B2($e);z2($e,yr,cr);break;default:throw Error(Ce(161))}}}catch(Gr){Zn($e,$e.return,Gr)}$e.flags&=-3}Ue&4096&&($e.flags&=-4097)}function xw($e){if($e.subtreeFlags&1024)for($e=$e.child;$e!==null;){var Ue=$e;xw(Ue),Ue.tag===5&&Ue.flags&1024&&Ue.stateNode.reset(),$e=$e.sibling}}function Yh($e,Ue){if(Ue.subtreeFlags&8772)for(Ue=Ue.child;Ue!==null;)dw($e,Ue.alternate,Ue),Ue=Ue.sibling}function mg($e){for($e=$e.child;$e!==null;){var Ue=$e;switch(Ue.tag){case 0:case 11:case 14:case 15:rm(4,Ue,Ue.return),mg(Ue);break;case 1:iu(Ue,Ue.return);var Ze=Ue.stateNode;typeof Ze.componentWillUnmount=="function"&&nw(Ue,Ue.return,Ze),mg(Ue);break;case 26:case 27:case 5:iu(Ue,Ue.return),mg(Ue);break;case 22:iu(Ue,Ue.return),Ue.memoizedState===null&&mg(Ue);break;default:mg(Ue)}$e=$e.sibling}}function im($e,Ue,Ze){for(Ze=Ze&&(Ue.subtreeFlags&8772)!==0,Ue=Ue.child;Ue!==null;){var ss=Ue.alternate,cs=$e,vs=Ue,$s=vs.flags;switch(vs.tag){case 0:case 11:case 15:im(cs,vs,Ze),gy(4,vs);break;case 1:if(im(cs,vs,Ze),ss=vs,cs=ss.stateNode,typeof cs.componentDidMount=="function")try{cs.componentDidMount()}catch(yr){Zn(ss,ss.return,yr)}if(ss=vs,cs=ss.updateQueue,cs!==null){var Qs=ss.stateNode;try{var cr=cs.shared.hiddenCallbacks;if(cr!==null)for(cs.shared.hiddenCallbacks=null,cs=0;cs<cr.length;cs++)sw(cr[cs],Qs)}catch(yr){Zn(ss,ss.return,yr)}}Ze&&$s&64&&iw(vs),Cf(vs,vs.return);break;case 26:case 27:case 5:im(cs,vs,Ze),Ze&&ss===null&&$s&4&&aw(vs),Cf(vs,vs.return);break;case 12:im(cs,vs,Ze);break;case 13:im(cs,vs,Ze),Ze&&$s&4&&mw(cs,vs);break;case 22:vs.memoizedState===null&&im(cs,vs,Ze),Cf(vs,vs.return);break;default:im(cs,vs,Ze)}Ue=Ue.sibling}}function U2($e,Ue){var Ze=null;$e!==null&&$e.memoizedState!==null&&$e.memoizedState.cachePool!==null&&(Ze=$e.memoizedState.cachePool.pool),$e=null,Ue.memoizedState!==null&&Ue.memoizedState.cachePool!==null&&($e=Ue.memoizedState.cachePool.pool),$e!==Ze&&($e!=null&&$e.refCount++,Ze!=null&&as(Ze))}function H2($e,Ue){$e=null,Ue.alternate!==null&&($e=Ue.alternate.memoizedState.cache),Ue=Ue.memoizedState.cache,Ue!==$e&&(Ue.refCount++,$e!=null&&as($e))}function nm($e,Ue,Ze,ss){if(Ue.subtreeFlags&10256)for(Ue=Ue.child;Ue!==null;)gw($e,Ue,Ze,ss),Ue=Ue.sibling}function gw($e,Ue,Ze,ss){var cs=Ue.flags;switch(Ue.tag){case 0:case 11:case 15:nm($e,Ue,Ze,ss),cs&2048&&gy(9,Ue);break;case 3:nm($e,Ue,Ze,ss),cs&2048&&($e=null,Ue.alternate!==null&&($e=Ue.alternate.memoizedState.cache),Ue=Ue.memoizedState.cache,Ue!==$e&&(Ue.refCount++,$e!=null&&as($e)));break;case 12:if(cs&2048){nm($e,Ue,Ze,ss),$e=Ue.stateNode;try{var vs=Ue.memoizedProps,$s=vs.id,Qs=vs.onPostCommit;typeof Qs=="function"&&Qs($s,Ue.alternate===null?"mount":"update",$e.passiveEffectDuration,-0)}catch(cr){Zn(Ue,Ue.return,cr)}}else nm($e,Ue,Ze,ss);break;case 23:break;case 22:vs=Ue.stateNode,Ue.memoizedState!==null?vs._visibility&4?nm($e,Ue,Ze,ss):yy($e,Ue):vs._visibility&4?nm($e,Ue,Ze,ss):(vs._visibility|=4,fg($e,Ue,Ze,ss,(Ue.subtreeFlags&10256)!==0)),cs&2048&&U2(Ue.alternate,Ue);break;case 24:nm($e,Ue,Ze,ss),cs&2048&&H2(Ue.alternate,Ue);break;default:nm($e,Ue,Ze,ss)}}function fg($e,Ue,Ze,ss,cs){for(cs=cs&&(Ue.subtreeFlags&10256)!==0,Ue=Ue.child;Ue!==null;){var vs=$e,$s=Ue,Qs=Ze,cr=ss,yr=$s.flags;switch($s.tag){case 0:case 11:case 15:fg(vs,$s,Qs,cr,cs),gy(8,$s);break;case 23:break;case 22:var Gr=$s.stateNode;$s.memoizedState!==null?Gr._visibility&4?fg(vs,$s,Qs,cr,cs):yy(vs,$s):(Gr._visibility|=4,fg(vs,$s,Qs,cr,cs)),cs&&yr&2048&&U2($s.alternate,$s);break;case 24:fg(vs,$s,Qs,cr,cs),cs&&yr&2048&&H2($s.alternate,$s);break;default:fg(vs,$s,Qs,cr,cs)}Ue=Ue.sibling}}function yy($e,Ue){if(Ue.subtreeFlags&10256)for(Ue=Ue.child;Ue!==null;){var Ze=$e,ss=Ue,cs=ss.flags;switch(ss.tag){case 22:yy(Ze,ss),cs&2048&&U2(ss.alternate,ss);break;case 24:yy(Ze,ss),cs&2048&&H2(ss.alternate,ss);break;default:yy(Ze,ss)}Ue=Ue.sibling}}var vy=8192;function xg($e){if($e.subtreeFlags&vy)for($e=$e.child;$e!==null;)yw($e),$e=$e.sibling}function yw($e){switch($e.tag){case 26:xg($e),$e.flags&vy&&$e.memoizedState!==null&&W_(_d,$e.memoizedState,$e.memoizedProps);break;case 5:xg($e);break;case 3:case 4:var Ue=_d;_d=db($e.stateNode.containerInfo),xg($e),_d=Ue;break;case 22:$e.memoizedState===null&&(Ue=$e.alternate,Ue!==null&&Ue.memoizedState!==null?(Ue=vy,vy=16777216,xg($e),vy=Ue):xg($e));break;default:xg($e)}}function bw($e){var Ue=$e.alternate;if(Ue!==null&&($e=Ue.child,$e!==null)){Ue.child=null;do Ue=$e.sibling,$e.sibling=null,$e=Ue;while($e!==null)}}function by($e){var Ue=$e.deletions;if(($e.flags&16)!==0){if(Ue!==null)for(var Ze=0;Ze<Ue.length;Ze++){var ss=Ue[Ze];zo=ss,Ew(ss,$e)}bw($e)}if($e.subtreeFlags&10256)for($e=$e.child;$e!==null;)jw($e),$e=$e.sibling}function jw($e){switch($e.tag){case 0:case 11:case 15:by($e),$e.flags&2048&&rm(9,$e,$e.return);break;case 3:by($e);break;case 12:by($e);break;case 22:var Ue=$e.stateNode;$e.memoizedState!==null&&Ue._visibility&4&&($e.return===null||$e.return.tag!==13)?(Ue._visibility&=-5,Yv($e)):by($e);break;default:by($e)}}function Yv($e){var Ue=$e.deletions;if(($e.flags&16)!==0){if(Ue!==null)for(var Ze=0;Ze<Ue.length;Ze++){var ss=Ue[Ze];zo=ss,Ew(ss,$e)}bw($e)}for($e=$e.child;$e!==null;){switch(Ue=$e,Ue.tag){case 0:case 11:case 15:rm(8,Ue,Ue.return),Yv(Ue);break;case 22:Ze=Ue.stateNode,Ze._visibility&4&&(Ze._visibility&=-5,Yv(Ue));break;default:Yv(Ue)}$e=$e.sibling}}function Ew($e,Ue){for(;zo!==null;){var Ze=zo;switch(Ze.tag){case 0:case 11:case 15:rm(8,Ze,Ue);break;case 23:case 22:if(Ze.memoizedState!==null&&Ze.memoizedState.cachePool!==null){var ss=Ze.memoizedState.cachePool.pool;ss!=null&&ss.refCount++}break;case 24:as(Ze.memoizedState.cache)}if(ss=Ze.child,ss!==null)ss.return=Ze,zo=ss;else e:for(Ze=$e;zo!==null;){ss=zo;var cs=ss.sibling,vs=ss.return;if(hw(ss),ss===Ze){zo=null;break e}if(cs!==null){cs.return=vs,zo=cs;break e}zo=vs}}}function a_($e,Ue,Ze,ss){this.tag=$e,this.key=Ze,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=Ue,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=ss,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ku($e,Ue,Ze,ss){return new a_($e,Ue,Ze,ss)}function q2($e){return $e=$e.prototype,!(!$e||!$e.isReactComponent)}function am($e,Ue){var Ze=$e.alternate;return Ze===null?(Ze=Ku($e.tag,Ue,$e.key,$e.mode),Ze.elementType=$e.elementType,Ze.type=$e.type,Ze.stateNode=$e.stateNode,Ze.alternate=$e,$e.alternate=Ze):(Ze.pendingProps=Ue,Ze.type=$e.type,Ze.flags=0,Ze.subtreeFlags=0,Ze.deletions=null),Ze.flags=$e.flags&31457280,Ze.childLanes=$e.childLanes,Ze.lanes=$e.lanes,Ze.child=$e.child,Ze.memoizedProps=$e.memoizedProps,Ze.memoizedState=$e.memoizedState,Ze.updateQueue=$e.updateQueue,Ue=$e.dependencies,Ze.dependencies=Ue===null?null:{lanes:Ue.lanes,firstContext:Ue.firstContext},Ze.sibling=$e.sibling,Ze.index=$e.index,Ze.ref=$e.ref,Ze.refCleanup=$e.refCleanup,Ze}function ww($e,Ue){$e.flags&=31457282;var Ze=$e.alternate;return Ze===null?($e.childLanes=0,$e.lanes=Ue,$e.child=null,$e.subtreeFlags=0,$e.memoizedProps=null,$e.memoizedState=null,$e.updateQueue=null,$e.dependencies=null,$e.stateNode=null):($e.childLanes=Ze.childLanes,$e.lanes=Ze.lanes,$e.child=Ze.child,$e.subtreeFlags=0,$e.deletions=null,$e.memoizedProps=Ze.memoizedProps,$e.memoizedState=Ze.memoizedState,$e.updateQueue=Ze.updateQueue,$e.type=Ze.type,Ue=Ze.dependencies,$e.dependencies=Ue===null?null:{lanes:Ue.lanes,firstContext:Ue.firstContext}),$e}function Xv($e,Ue,Ze,ss,cs,vs){var $s=0;if(ss=$e,typeof $e=="function")q2($e)&&($s=1);else if(typeof $e=="string")$s=q_($e,Ze,Ks.current)?26:$e==="html"||$e==="head"||$e==="body"?27:5;else e:switch($e){case Be:return Pf(Ze.children,cs,vs,Ue);case ze:$s=8,cs|=24;break;case Ve:return $e=Ku(12,Ze,Ue,cs|2),$e.elementType=Ve,$e.lanes=vs,$e;case Qe:return $e=Ku(13,Ze,Ue,cs),$e.elementType=Qe,$e.lanes=vs,$e;case ns:return $e=Ku(19,Ze,Ue,cs),$e.elementType=ns,$e.lanes=vs,$e;case ts:return Rw(Ze,cs,vs,Ue);default:if(typeof $e=="object"&&$e!==null)switch($e.$$typeof){case qe:case Ge:$s=10;break e;case We:$s=9;break e;case Je:$s=11;break e;case Ye:$s=14;break e;case rs:$s=16,ss=null;break e}$s=29,Ze=Error(Ce(130,$e===null?"null":typeof $e,"")),ss=null}return Ue=Ku($s,Ze,Ue,cs),Ue.elementType=$e,Ue.type=ss,Ue.lanes=vs,Ue}function Pf($e,Ue,Ze,ss){return $e=Ku(7,$e,ss,Ue),$e.lanes=Ze,$e}function Rw($e,Ue,Ze,ss){$e=Ku(22,$e,ss,Ue),$e.elementType=ts,$e.lanes=Ze;var cs={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var vs=cs._current;if(vs===null)throw Error(Ce(456));if((cs._pendingVisibility&2)===0){var $s=Qo(vs,2);$s!==null&&(cs._pendingVisibility|=2,ic($s,vs,2))}},attach:function(){var vs=cs._current;if(vs===null)throw Error(Ce(456));if((cs._pendingVisibility&2)!==0){var $s=Qo(vs,2);$s!==null&&(cs._pendingVisibility&=-3,ic($s,vs,2))}}};return $e.stateNode=cs,$e}function G2($e,Ue,Ze){return $e=Ku(6,$e,null,Ue),$e.lanes=Ze,$e}function W2($e,Ue,Ze){return Ue=Ku(4,$e.children!==null?$e.children:[],$e.key,Ue),Ue.lanes=Ze,Ue.stateNode={containerInfo:$e.containerInfo,pendingChildren:null,implementation:$e.implementation},Ue}function Xh($e){$e.flags|=4}function _w($e,Ue){if(Ue.type!=="stylesheet"||(Ue.state.loading&4)!==0)$e.flags&=-16777217;else if($e.flags|=16777216,!cR(Ue)){if(Ue=Nc.current,Ue!==null&&((xn&4194176)===xn?tu!==null:(xn&62914560)!==xn&&(xn&536870912)===0||Ue!==tu))throw Io=Uu,jo;$e.flags|=8192}}function Jv($e,Ue){Ue!==null&&($e.flags|=4),$e.flags&16384&&(Ue=$e.tag!==22?Si():536870912,$e.lanes|=Ue,yg|=Ue)}function jy($e,Ue){if(!Zs)switch($e.tailMode){case"hidden":Ue=$e.tail;for(var Ze=null;Ue!==null;)Ue.alternate!==null&&(Ze=Ue),Ue=Ue.sibling;Ze===null?$e.tail=null:Ze.sibling=null;break;case"collapsed":Ze=$e.tail;for(var ss=null;Ze!==null;)Ze.alternate!==null&&(ss=Ze),Ze=Ze.sibling;ss===null?Ue||$e.tail===null?$e.tail=null:$e.tail.sibling=null:ss.sibling=null}}function Na($e){var Ue=$e.alternate!==null&&$e.alternate.child===$e.child,Ze=0,ss=0;if(Ue)for(var cs=$e.child;cs!==null;)Ze|=cs.lanes|cs.childLanes,ss|=cs.subtreeFlags&31457280,ss|=cs.flags&31457280,cs.return=$e,cs=cs.sibling;else for(cs=$e.child;cs!==null;)Ze|=cs.lanes|cs.childLanes,ss|=cs.subtreeFlags,ss|=cs.flags,cs.return=$e,cs=cs.sibling;return $e.subtreeFlags|=ss,$e.childLanes=Ze,Ue}function o_($e,Ue,Ze){var ss=Ue.pendingProps;switch(ls(Ue),Ue.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Na(Ue),null;case 1:return Na(Ue),null;case 3:return Ze=Ue.stateNode,ss=null,$e!==null&&(ss=$e.memoizedState.cache),Ue.memoizedState.cache!==ss&&(Ue.flags|=2048),Wh(Wa),Er(),Ze.pendingContext&&(Ze.context=Ze.pendingContext,Ze.pendingContext=null),($e===null||$e.child===null)&&(Bi(Ue)?Xh(Ue):$e===null||$e.memoizedState.isDehydrated&&(Ue.flags&256)===0||(Ue.flags|=1024,dr!==null&&(tj(dr),dr=null))),Na(Ue),null;case 26:return Ze=Ue.memoizedState,$e===null?(Xh(Ue),Ze!==null?(Na(Ue),_w(Ue,Ze)):(Na(Ue),Ue.flags&=-16777217)):Ze?Ze!==$e.memoizedState?(Xh(Ue),Na(Ue),_w(Ue,Ze)):(Na(Ue),Ue.flags&=-16777217):($e.memoizedProps!==ss&&Xh(Ue),Na(Ue),Ue.flags&=-16777217),null;case 27:Or(Ue),Ze=rr.current;var cs=Ue.type;if($e!==null&&Ue.stateNode!=null)$e.memoizedProps!==ss&&Xh(Ue);else{if(!ss){if(Ue.stateNode===null)throw Error(Ce(166));return Na(Ue),null}$e=Ks.current,Bi(Ue)?hi(Ue):($e=tR(cs,ss,Ze),Ue.stateNode=$e,Xh(Ue))}return Na(Ue),null;case 5:if(Or(Ue),Ze=Ue.type,$e!==null&&Ue.stateNode!=null)$e.memoizedProps!==ss&&Xh(Ue);else{if(!ss){if(Ue.stateNode===null)throw Error(Ce(166));return Na(Ue),null}if($e=Ks.current,Bi(Ue))hi(Ue);else{switch(cs=ub(rr.current),$e){case 1:$e=cs.createElementNS("http://www.w3.org/2000/svg",Ze);break;case 2:$e=cs.createElementNS("http://www.w3.org/1998/Math/MathML",Ze);break;default:switch(Ze){case"svg":$e=cs.createElementNS("http://www.w3.org/2000/svg",Ze);break;case"math":$e=cs.createElementNS("http://www.w3.org/1998/Math/MathML",Ze);break;case"script":$e=cs.createElement("div"),$e.innerHTML="<script><\/script>",$e=$e.removeChild($e.firstChild);break;case"select":$e=typeof ss.is=="string"?cs.createElement("select",{is:ss.is}):cs.createElement("select"),ss.multiple?$e.multiple=!0:ss.size&&($e.size=ss.size);break;default:$e=typeof ss.is=="string"?cs.createElement(Ze,{is:ss.is}):cs.createElement(Ze)}}$e[Rn]=Ue,$e[Pn]=ss;e:for(cs=Ue.child;cs!==null;){if(cs.tag===5||cs.tag===6)$e.appendChild(cs.stateNode);else if(cs.tag!==4&&cs.tag!==27&&cs.child!==null){cs.child.return=cs,cs=cs.child;continue}if(cs===Ue)break e;for(;cs.sibling===null;){if(cs.return===null||cs.return===Ue)break e;cs=cs.return}cs.sibling.return=cs.return,cs=cs.sibling}Ue.stateNode=$e;e:switch(al($e,Ze,ss),Ze){case"button":case"input":case"select":case"textarea":$e=!!ss.autoFocus;break e;case"img":$e=!0;break e;default:$e=!1}$e&&Xh(Ue)}}return Na(Ue),Ue.flags&=-16777217,null;case 6:if($e&&Ue.stateNode!=null)$e.memoizedProps!==ss&&Xh(Ue);else{if(typeof ss!="string"&&Ue.stateNode===null)throw Error(Ce(166));if($e=rr.current,Bi(Ue)){if($e=Ue.stateNode,Ze=Ue.memoizedProps,ss=null,cs=Es,cs!==null)switch(cs.tag){case 27:case 5:ss=cs.memoizedProps}$e[Rn]=Ue,$e=!!($e.nodeValue===Ze||ss!==null&&ss.suppressHydrationWarning===!0||Kw($e.nodeValue,Ze)),$e||Zr(Ue)}else $e=ub($e).createTextNode(ss),$e[Rn]=Ue,Ue.stateNode=$e}return Na(Ue),null;case 13:if(ss=Ue.memoizedState,$e===null||$e.memoizedState!==null&&$e.memoizedState.dehydrated!==null){if(cs=Bi(Ue),ss!==null&&ss.dehydrated!==null){if($e===null){if(!cs)throw Error(Ce(318));if(cs=Ue.memoizedState,cs=cs!==null?cs.dehydrated:null,!cs)throw Error(Ce(317));cs[Rn]=Ue}else wa(),(Ue.flags&128)===0&&(Ue.memoizedState=null),Ue.flags|=4;Na(Ue),cs=!1}else dr!==null&&(tj(dr),dr=null),cs=!0;if(!cs)return Ue.flags&256?(vd(Ue),Ue):(vd(Ue),null)}if(vd(Ue),(Ue.flags&128)!==0)return Ue.lanes=Ze,Ue;if(Ze=ss!==null,$e=$e!==null&&$e.memoizedState!==null,Ze){ss=Ue.child,cs=null,ss.alternate!==null&&ss.alternate.memoizedState!==null&&ss.alternate.memoizedState.cachePool!==null&&(cs=ss.alternate.memoizedState.cachePool.pool);var vs=null;ss.memoizedState!==null&&ss.memoizedState.cachePool!==null&&(vs=ss.memoizedState.cachePool.pool),vs!==cs&&(ss.flags|=2048)}return Ze!==$e&&Ze&&(Ue.child.flags|=8192),Jv(Ue,Ue.updateQueue),Na(Ue),null;case 4:return Er(),$e===null&&hj(Ue.stateNode.containerInfo),Na(Ue),null;case 10:return Wh(Ue.type),Na(Ue),null;case 19:if(Is(Ga),cs=Ue.memoizedState,cs===null)return Na(Ue),null;if(ss=(Ue.flags&128)!==0,vs=cs.rendering,vs===null)if(ss)jy(cs,!1);else{if(Ma!==0||$e!==null&&($e.flags&128)!==0)for($e=Ue.child;$e!==null;){if(vs=sg($e),vs!==null){for(Ue.flags|=128,jy(cs,!1),$e=vs.updateQueue,Ue.updateQueue=$e,Jv(Ue,$e),Ue.subtreeFlags=0,$e=Ze,Ze=Ue.child;Ze!==null;)ww(Ze,$e),Ze=Ze.sibling;return Vs(Ga,Ga.current&1|2),Ue.child}$e=$e.sibling}cs.tail!==null&&Ar()>Qv&&(Ue.flags|=128,ss=!0,jy(cs,!1),Ue.lanes=4194304)}else{if(!ss)if($e=sg(vs),$e!==null){if(Ue.flags|=128,ss=!0,$e=$e.updateQueue,Ue.updateQueue=$e,Jv(Ue,$e),jy(cs,!0),cs.tail===null&&cs.tailMode==="hidden"&&!vs.alternate&&!Zs)return Na(Ue),null}else 2*Ar()-cs.renderingStartTime>Qv&&Ze!==536870912&&(Ue.flags|=128,ss=!0,jy(cs,!1),Ue.lanes=4194304);cs.isBackwards?(vs.sibling=Ue.child,Ue.child=vs):($e=cs.last,$e!==null?$e.sibling=vs:Ue.child=vs,cs.last=vs)}return cs.tail!==null?(Ue=cs.tail,cs.rendering=Ue,cs.tail=Ue.sibling,cs.renderingStartTime=Ar(),Ue.sibling=null,$e=Ga.current,Vs(Ga,ss?$e&1|2:$e&1),Ue):(Na(Ue),null);case 22:case 23:return vd(Ue),vf(),ss=Ue.memoizedState!==null,$e!==null?$e.memoizedState!==null!==ss&&(Ue.flags|=8192):ss&&(Ue.flags|=8192),ss?(Ze&536870912)!==0&&(Ue.flags&128)===0&&(Na(Ue),Ue.subtreeFlags&6&&(Ue.flags|=8192)):Na(Ue),Ze=Ue.updateQueue,Ze!==null&&Jv(Ue,Ze.retryQueue),Ze=null,$e!==null&&$e.memoizedState!==null&&$e.memoizedState.cachePool!==null&&(Ze=$e.memoizedState.cachePool.pool),ss=null,Ue.memoizedState!==null&&Ue.memoizedState.cachePool!==null&&(ss=Ue.memoizedState.cachePool.pool),ss!==Ze&&(Ue.flags|=2048),$e!==null&&Is(nr),null;case 24:return Ze=null,$e!==null&&(Ze=$e.memoizedState.cache),Ue.memoizedState.cache!==Ze&&(Ue.flags|=2048),Wh(Wa),Na(Ue),null;case 25:return null}throw Error(Ce(156,Ue.tag))}function l_($e,Ue){switch(ls(Ue),Ue.tag){case 1:return $e=Ue.flags,$e&65536?(Ue.flags=$e&-65537|128,Ue):null;case 3:return Wh(Wa),Er(),$e=Ue.flags,($e&65536)!==0&&($e&128)===0?(Ue.flags=$e&-65537|128,Ue):null;case 26:case 27:case 5:return Or(Ue),null;case 13:if(vd(Ue),$e=Ue.memoizedState,$e!==null&&$e.dehydrated!==null){if(Ue.alternate===null)throw Error(Ce(340));wa()}return $e=Ue.flags,$e&65536?(Ue.flags=$e&-65537|128,Ue):null;case 19:return Is(Ga),null;case 4:return Er(),null;case 10:return Wh(Ue.type),null;case 22:case 23:return vd(Ue),vf(),$e!==null&&Is(nr),$e=Ue.flags,$e&65536?(Ue.flags=$e&-65537|128,Ue):null;case 24:return Wh(Wa),null;case 25:return null;default:return null}}function Sw($e,Ue){switch(ls(Ue),Ue.tag){case 3:Wh(Wa),Er();break;case 26:case 27:case 5:Or(Ue);break;case 4:Er();break;case 13:vd(Ue);break;case 19:Is(Ga);break;case 10:Wh(Ue.type);break;case 22:case 23:vd(Ue),vf(),$e!==null&&Is(nr);break;case 24:Wh(Wa)}}var c_={getCacheForType:function($e){var Ue=Ol(Wa),Ze=Ue.data.get($e);return Ze===void 0&&(Ze=$e(),Ue.data.set($e,Ze)),Ze}},u_=typeof WeakMap=="function"?WeakMap:Map,Aa=0,ra=null,un=null,xn=0,ia=0,au=null,Jh=!1,gg=!1,Z2=!1,Qh=0,Ma=0,om=0,Tf=0,K2=0,Yu=0,yg=0,Ey=null,rh=null,Y2=!1,X2=0,Qv=1/0,eb=null,lm=null,tb=!1,kf=null,wy=0,J2=0,Q2=null,Ry=0,ej=null;function ou(){if((Aa&2)!==0&&xn!==0)return xn&-xn;if(xs.T!==null){var $e=Os;return $e!==0?$e:lj()}return ci()}function Nw(){Yu===0&&(Yu=(xn&536870912)===0||Zs?dn():536870912);var $e=Nc.current;return $e!==null&&($e.flags|=32),Yu}function ic($e,Ue,Ze){($e===ra&&ia===2||$e.cancelPendingCommit!==null)&&(vg($e,0),ep($e,xn,Yu,!1)),Xa($e,Ze),((Aa&2)===0||$e!==ra)&&($e===ra&&((Aa&2)===0&&(Tf|=Ze),Ma===4&&ep($e,xn,Yu,!1)),ih($e))}function Aw($e,Ue,Ze){if((Aa&6)!==0)throw Error(Ce(327));var ss=!Ze&&(Ue&60)===0&&(Ue&$e.expiredLanes)===0||Sn($e,Ue),cs=ss?p_($e,Ue):ij($e,Ue,!0),vs=ss;do{if(cs===0){gg&&!ss&&ep($e,Ue,0,!1);break}else if(cs===6)ep($e,Ue,0,!Jh);else{if(Ze=$e.current.alternate,vs&&!d_(Ze)){cs=ij($e,Ue,!1),vs=!1;continue}if(cs===2){if(vs=Ue,$e.errorRecoveryDisabledLanes&vs)var $s=0;else $s=$e.pendingLanes&-536870913,$s=$s!==0?$s:$s&536870912?536870912:0;if($s!==0){Ue=$s;e:{var Qs=$e;cs=Ey;var cr=Qs.current.memoizedState.isDehydrated;if(cr&&(vg(Qs,$s).flags|=256),$s=ij(Qs,$s,!1),$s!==2){if(Z2&&!cr){Qs.errorRecoveryDisabledLanes|=vs,Tf|=vs,cs=4;break e}vs=rh,rh=cs,vs!==null&&tj(vs)}cs=$s}if(vs=!1,cs!==2)continue}}if(cs===1){vg($e,0),ep($e,Ue,0,!0);break}e:{switch(ss=$e,cs){case 0:case 1:throw Error(Ce(345));case 4:if((Ue&4194176)===Ue){ep(ss,Ue,Yu,!Jh);break e}break;case 2:rh=null;break;case 3:case 5:break;default:throw Error(Ce(329))}if(ss.finishedWork=Ze,ss.finishedLanes=Ue,(Ue&62914560)===Ue&&(vs=X2+300-Ar(),10<vs)){if(ep(ss,Ue,Yu,!Jh),yi(ss,0)!==0)break e;ss.timeoutHandle=Jw(Cw.bind(null,ss,Ze,rh,eb,Y2,Ue,Yu,Tf,yg,Jh,2,-0,0),vs);break e}Cw(ss,Ze,rh,eb,Y2,Ue,Yu,Tf,yg,Jh,0,-0,0)}}break}while(!0);ih($e)}function tj($e){rh===null?rh=$e:rh.push.apply(rh,$e)}function Cw($e,Ue,Ze,ss,cs,vs,$s,Qs,cr,yr,Gr,si,Dr){var Hr=Ue.subtreeFlags;if((Hr&8192||(Hr&16785408)===16785408)&&(Py={stylesheets:null,count:0,unsuspend:G_},yw(Ue),Ue=Z_(),Ue!==null)){$e.cancelPendingCommit=Ue(Fw.bind(null,$e,Ze,ss,cs,$s,Qs,cr,1,si,Dr)),ep($e,vs,$s,!yr);return}Fw($e,Ze,ss,cs,$s,Qs,cr,Gr,si,Dr)}function d_($e){for(var Ue=$e;;){var Ze=Ue.tag;if((Ze===0||Ze===11||Ze===15)&&Ue.flags&16384&&(Ze=Ue.updateQueue,Ze!==null&&(Ze=Ze.stores,Ze!==null)))for(var ss=0;ss<Ze.length;ss++){var cs=Ze[ss],vs=cs.getSnapshot;cs=cs.value;try{if(!ea(vs(),cs))return!1}catch{return!1}}if(Ze=Ue.child,Ue.subtreeFlags&16384&&Ze!==null)Ze.return=Ue,Ue=Ze;else{if(Ue===$e)break;for(;Ue.sibling===null;){if(Ue.return===null||Ue.return===$e)return!0;Ue=Ue.return}Ue.sibling.return=Ue.return,Ue=Ue.sibling}}return!0}function ep($e,Ue,Ze,ss){Ue&=~K2,Ue&=~Tf,$e.suspendedLanes|=Ue,$e.pingedLanes&=~Ue,ss&&($e.warmLanes|=Ue),ss=$e.expirationTimes;for(var cs=Ue;0<cs;){var vs=31-Sr(cs),$s=1<<vs;ss[vs]=-1,cs&=~$s}Ze!==0&&Ja($e,Ze,Ue)}function sb(){return(Aa&6)===0?(_y(0),!1):!0}function sj(){if(un!==null){if(ia===0)var $e=un.return;else $e=un,Gh=Nf=null,sn($e),Hu=null,mn=0,$e=un;for(;$e!==null;)Sw($e.alternate,$e),$e=$e.return;un=null}}function vg($e,Ue){$e.finishedWork=null,$e.finishedLanes=0;var Ze=$e.timeoutHandle;Ze!==-1&&($e.timeoutHandle=-1,P_(Ze)),Ze=$e.cancelPendingCommit,Ze!==null&&($e.cancelPendingCommit=null,Ze()),sj(),ra=$e,un=Ze=am($e.current,null),xn=Ue,ia=0,au=null,Jh=!1,gg=Sn($e,Ue),Z2=!1,yg=Yu=K2=Tf=om=Ma=0,rh=Ey=null,Y2=!1,(Ue&8)!==0&&(Ue|=Ue&32);var ss=$e.entangledLanes;if(ss!==0)for($e=$e.entanglements,ss&=Ue;0<ss;){var cs=31-Sr(ss),vs=1<<cs;Ue|=$e[cs],ss&=~vs}return Qh=Ue,Jo(),Ze}function Pw($e,Ue){mr=null,xs.H=su,Ue===no?(Ue=tg(),ia=3):Ue===jo?(Ue=tg(),ia=4):ia=Ue===VE?8:Ue!==null&&typeof Ue=="object"&&typeof Ue.then=="function"?6:1,au=Ue,un===null&&(Ma=1,Jp($e,On(Ue,$e.current)))}function Tw(){var $e=xs.H;return xs.H=su,$e===null?su:$e}function kw(){var $e=xs.A;return xs.A=c_,$e}function rj(){Ma=4,Jh||(xn&4194176)!==xn&&Nc.current!==null||(gg=!0),(om&134217727)===0&&(Tf&134217727)===0||ra===null||ep(ra,xn,Yu,!1)}function ij($e,Ue,Ze){var ss=Aa;Aa|=2;var cs=Tw(),vs=kw();(ra!==$e||xn!==Ue)&&(eb=null,vg($e,Ue)),Ue=!1;var $s=Ma;e:do try{if(ia!==0&&un!==null){var Qs=un,cr=au;switch(ia){case 8:sj(),$s=6;break e;case 3:case 2:case 6:Nc.current===null&&(Ue=!0);var yr=ia;if(ia=0,au=null,bg($e,Qs,cr,yr),Ze&&gg){$s=0;break e}break;default:yr=ia,ia=0,au=null,bg($e,Qs,cr,yr)}}h_(),$s=Ma;break}catch(Gr){Pw($e,Gr)}while(!0);return Ue&&$e.shellSuspendCounter++,Gh=Nf=null,Aa=ss,xs.H=cs,xs.A=vs,un===null&&(ra=null,xn=0,Jo()),$s}function h_(){for(;un!==null;)Dw(un)}function p_($e,Ue){var Ze=Aa;Aa|=2;var ss=Tw(),cs=kw();ra!==$e||xn!==Ue?(eb=null,Qv=Ar()+500,vg($e,Ue)):gg=Sn($e,Ue);e:do try{if(ia!==0&&un!==null){Ue=un;var vs=au;t:switch(ia){case 1:ia=0,au=null,bg($e,Ue,vs,1);break;case 2:if(eg(vs)){ia=0,au=null,Lw(Ue);break}Ue=function(){ia===2&&ra===$e&&(ia=7),ih($e)},vs.then(Ue,Ue);break e;case 3:ia=7;break e;case 4:ia=5;break e;case 7:eg(vs)?(ia=0,au=null,Lw(Ue)):(ia=0,au=null,bg($e,Ue,vs,7));break;case 5:var $s=null;switch(un.tag){case 26:$s=un.memoizedState;case 5:case 27:var Qs=un;if(!$s||cR($s)){ia=0,au=null;var cr=Qs.sibling;if(cr!==null)un=cr;else{var yr=Qs.return;yr!==null?(un=yr,rb(yr)):un=null}break t}}ia=0,au=null,bg($e,Ue,vs,5);break;case 6:ia=0,au=null,bg($e,Ue,vs,6);break;case 8:sj(),Ma=6;break e;default:throw Error(Ce(462))}}m_();break}catch(Gr){Pw($e,Gr)}while(!0);return Gh=Nf=null,xs.H=ss,xs.A=cs,Aa=Ze,un!==null?0:(ra=null,xn=0,Jo(),Ma)}function m_(){for(;un!==null&&!lr();)Dw(un)}function Dw($e){var Ue=ew($e.alternate,$e,Qh);$e.memoizedProps=$e.pendingProps,Ue===null?rb($e):un=Ue}function Lw($e){var Ue=$e,Ze=Ue.alternate;switch(Ue.tag){case 15:case 0:Ue=ZE(Ze,Ue,Ue.pendingProps,Ue.type,void 0,xn);break;case 11:Ue=ZE(Ze,Ue,Ue.pendingProps,Ue.type.render,Ue.ref,xn);break;case 5:sn(Ue);default:Sw(Ze,Ue),Ue=un=ww(Ue,Qh),Ue=ew(Ze,Ue,Qh)}$e.memoizedProps=$e.pendingProps,Ue===null?rb($e):un=Ue}function bg($e,Ue,Ze,ss){Gh=Nf=null,sn(Ue),Hu=null,mn=0;var cs=Ue.return;try{if(s_($e,cs,Ue,Ze,xn)){Ma=1,Jp($e,On(Ze,$e.current)),un=null;return}}catch(vs){if(cs!==null)throw un=cs,vs;Ma=1,Jp($e,On(Ze,$e.current)),un=null;return}Ue.flags&32768?(Zs||ss===1?$e=!0:gg||(xn&536870912)!==0?$e=!1:(Jh=$e=!0,(ss===2||ss===3||ss===6)&&(ss=Nc.current,ss!==null&&ss.tag===13&&(ss.flags|=16384))),Mw(Ue,$e)):rb(Ue)}function rb($e){var Ue=$e;do{if((Ue.flags&32768)!==0){Mw(Ue,Jh);return}$e=Ue.return;var Ze=o_(Ue.alternate,Ue,Qh);if(Ze!==null){un=Ze;return}if(Ue=Ue.sibling,Ue!==null){un=Ue;return}un=Ue=$e}while(Ue!==null);Ma===0&&(Ma=5)}function Mw($e,Ue){do{var Ze=l_($e.alternate,$e);if(Ze!==null){Ze.flags&=32767,un=Ze;return}if(Ze=$e.return,Ze!==null&&(Ze.flags|=32768,Ze.subtreeFlags=0,Ze.deletions=null),!Ue&&($e=$e.sibling,$e!==null)){un=$e;return}un=$e=Ze}while($e!==null);Ma=6,un=null}function Fw($e,Ue,Ze,ss,cs,vs,$s,Qs,cr,yr){var Gr=xs.T,si=ks.p;try{ks.p=2,xs.T=null,f_($e,Ue,Ze,ss,si,cs,vs,$s,Qs,cr,yr)}finally{xs.T=Gr,ks.p=si}}function f_($e,Ue,Ze,ss,cs,vs,$s,Qs){do jg();while(kf!==null);if((Aa&6)!==0)throw Error(Ce(327));var cr=$e.finishedWork;if(ss=$e.finishedLanes,cr===null)return null;if($e.finishedWork=null,$e.finishedLanes=0,cr===$e.current)throw Error(Ce(177));$e.callbackNode=null,$e.callbackPriority=0,$e.cancelPendingCommit=null;var yr=cr.lanes|cr.childLanes;if(yr|=Gp,ml($e,ss,yr,vs,$s,Qs),$e===ra&&(un=ra=null,xn=0),(cr.subtreeFlags&10256)===0&&(cr.flags&10256)===0||tb||(tb=!0,J2=yr,Q2=Ze,v_(Qr,function(){return jg(),null})),Ze=(cr.flags&15990)!==0,(cr.subtreeFlags&15990)!==0||Ze?(Ze=xs.T,xs.T=null,vs=ks.p,ks.p=2,$s=Aa,Aa|=4,i_($e,cr),fw(cr,$e),sc(xj,$e.containerInfo),xb=!!fj,xj=fj=null,$e.current=cr,dw($e,cr.alternate,cr),hr(),Aa=$s,ks.p=vs,xs.T=Ze):$e.current=cr,tb?(tb=!1,kf=$e,wy=ss):Ow($e,yr),yr=$e.pendingLanes,yr===0&&(lm=null),Ci(cr.stateNode),ih($e),Ue!==null)for(cs=$e.onRecoverableError,cr=0;cr<Ue.length;cr++)yr=Ue[cr],cs(yr.value,{componentStack:yr.stack});return(wy&3)!==0&&jg(),yr=$e.pendingLanes,(ss&4194218)!==0&&(yr&42)!==0?$e===ej?Ry++:(Ry=0,ej=$e):Ry=0,_y(0),null}function Ow($e,Ue){($e.pooledCacheLanes&=Ue)===0&&(Ue=$e.pooledCache,Ue!=null&&($e.pooledCache=null,as(Ue)))}function jg(){if(kf!==null){var $e=kf,Ue=J2;J2=0;var Ze=Ji(wy),ss=xs.T,cs=ks.p;try{if(ks.p=32>Ze?32:Ze,xs.T=null,kf===null)var vs=!1;else{Ze=Q2,Q2=null;var $s=kf,Qs=wy;if(kf=null,wy=0,(Aa&6)!==0)throw Error(Ce(331));var cr=Aa;if(Aa|=4,jw($s.current),gw($s,$s.current,Qs,Ze),Aa=cr,_y(0,!1),mi&&typeof mi.onPostCommitFiberRoot=="function")try{mi.onPostCommitFiberRoot(_i,$s)}catch{}vs=!0}return vs}finally{ks.p=cs,xs.T=ss,Ow($e,Ue)}}return!1}function Iw($e,Ue,Ze){Ue=On(Ze,Ue),Ue=E2($e.stateNode,Ue,2),$e=sm($e,Ue,2),$e!==null&&(Xa($e,2),ih($e))}function Zn($e,Ue,Ze){if($e.tag===3)Iw($e,$e,Ze);else for(;Ue!==null;){if(Ue.tag===3){Iw(Ue,$e,Ze);break}else if(Ue.tag===1){var ss=Ue.stateNode;if(typeof Ue.type.getDerivedStateFromError=="function"||typeof ss.componentDidCatch=="function"&&(lm===null||!lm.has(ss))){$e=On(Ze,$e),Ze=zE(2),ss=sm(Ue,Ze,2),ss!==null&&($E(Ze,ss,Ue,$e),Xa(ss,2),ih(ss));break}}Ue=Ue.return}}function nj($e,Ue,Ze){var ss=$e.pingCache;if(ss===null){ss=$e.pingCache=new u_;var cs=new Set;ss.set(Ue,cs)}else cs=ss.get(Ue),cs===void 0&&(cs=new Set,ss.set(Ue,cs));cs.has(Ze)||(Z2=!0,cs.add(Ze),$e=x_.bind(null,$e,Ue,Ze),Ue.then($e,$e))}function x_($e,Ue,Ze){var ss=$e.pingCache;ss!==null&&ss.delete(Ue),$e.pingedLanes|=$e.suspendedLanes&Ze,$e.warmLanes&=~Ze,ra===$e&&(xn&Ze)===Ze&&(Ma===4||Ma===3&&(xn&62914560)===xn&&300>Ar()-X2?(Aa&2)===0&&vg($e,0):K2|=Ze,yg===xn&&(yg=0)),ih($e)}function Bw($e,Ue){Ue===0&&(Ue=Si()),$e=Qo($e,Ue),$e!==null&&(Xa($e,Ue),ih($e))}function g_($e){var Ue=$e.memoizedState,Ze=0;Ue!==null&&(Ze=Ue.retryLane),Bw($e,Ze)}function y_($e,Ue){var Ze=0;switch($e.tag){case 13:var ss=$e.stateNode,cs=$e.memoizedState;cs!==null&&(Ze=cs.retryLane);break;case 19:ss=$e.stateNode;break;case 22:ss=$e.stateNode._retryCache;break;default:throw Error(Ce(314))}ss!==null&&ss.delete(Ue),Bw($e,Ze)}function v_($e,Ue){return Lr($e,Ue)}var ib=null,Eg=null,aj=!1,nb=!1,oj=!1,Df=0;function ih($e){$e!==Eg&&$e.next===null&&(Eg===null?ib=Eg=$e:Eg=Eg.next=$e),nb=!0,aj||(aj=!0,j_(b_))}function _y($e,Ue){if(!oj&&nb){oj=!0;do for(var Ze=!1,ss=ib;ss!==null;){if($e!==0){var cs=ss.pendingLanes;if(cs===0)var vs=0;else{var $s=ss.suspendedLanes,Qs=ss.pingedLanes;vs=(1<<31-Sr(42|$e)+1)-1,vs&=cs&~($s&~Qs),vs=vs&201326677?vs&201326677|1:vs?vs|2:0}vs!==0&&(Ze=!0,Vw(ss,vs))}else vs=xn,vs=yi(ss,ss===ra?vs:0),(vs&3)===0||Sn(ss,vs)||(Ze=!0,Vw(ss,vs));ss=ss.next}while(Ze);oj=!1}}function b_(){nb=aj=!1;var $e=0;Df!==0&&(C_()&&($e=Df),Df=0);for(var Ue=Ar(),Ze=null,ss=ib;ss!==null;){var cs=ss.next,vs=zw(ss,Ue);vs===0?(ss.next=null,Ze===null?ib=cs:Ze.next=cs,cs===null&&(Eg=Ze)):(Ze=ss,($e!==0||(vs&3)!==0)&&(nb=!0)),ss=cs}_y($e)}function zw($e,Ue){for(var Ze=$e.suspendedLanes,ss=$e.pingedLanes,cs=$e.expirationTimes,vs=$e.pendingLanes&-62914561;0<vs;){var $s=31-Sr(vs),Qs=1<<$s,cr=cs[$s];cr===-1?((Qs&Ze)===0||(Qs&ss)!==0)&&(cs[$s]=$i(Qs,Ue)):cr<=Ue&&($e.expiredLanes|=Qs),vs&=~Qs}if(Ue=ra,Ze=xn,Ze=yi($e,$e===Ue?Ze:0),ss=$e.callbackNode,Ze===0||$e===Ue&&ia===2||$e.cancelPendingCommit!==null)return ss!==null&&ss!==null&&Js(ss),$e.callbackNode=null,$e.callbackPriority=0;if((Ze&3)===0||Sn($e,Ze)){if(Ue=Ze&-Ze,Ue===$e.callbackPriority)return Ue;switch(ss!==null&&Js(ss),Ji(Ze)){case 2:case 8:Ze=Mr;break;case 32:Ze=Qr;break;case 268435456:Ze=ti;break;default:Ze=Qr}return ss=$w.bind(null,$e),Ze=Lr(Ze,ss),$e.callbackPriority=Ue,$e.callbackNode=Ze,Ue}return ss!==null&&ss!==null&&Js(ss),$e.callbackPriority=2,$e.callbackNode=null,2}function $w($e,Ue){var Ze=$e.callbackNode;if(jg()&&$e.callbackNode!==Ze)return null;var ss=xn;return ss=yi($e,$e===ra?ss:0),ss===0?null:(Aw($e,ss,Ue),zw($e,Ar()),$e.callbackNode!=null&&$e.callbackNode===Ze?$w.bind(null,$e):null)}function Vw($e,Ue){if(jg())return null;Aw($e,Ue,!0)}function j_($e){T_(function(){(Aa&6)!==0?Lr(vr,$e):$e()})}function lj(){return Df===0&&(Df=dn()),Df}function Uw($e){return $e==null||typeof $e=="symbol"||typeof $e=="boolean"?null:typeof $e=="function"?$e:to(""+$e)}function Hw($e,Ue){var Ze=Ue.ownerDocument.createElement("input");return Ze.name=Ue.name,Ze.value=Ue.value,$e.id&&Ze.setAttribute("form",$e.id),Ue.parentNode.insertBefore(Ze,Ue),$e=new FormData($e),Ze.parentNode.removeChild(Ze),$e}function E_($e,Ue,Ze,ss,cs){if(Ue==="submit"&&Ze&&Ze.stateNode===cs){var vs=Uw((cs[Pn]||null).action),$s=ss.submitter;$s&&(Ue=(Ue=$s[Pn]||null)?Uw(Ue.formAction):$s.getAttribute("formAction"),Ue!==null&&(vs=Ue,$s=null));var Qs=new Uc("action","action",null,ss,cs);$e.push({event:Qs,listeners:[{instance:null,listener:function(){if(ss.defaultPrevented){if(Df!==0){var cr=$s?Hw(cs,$s):new FormData(cs);cg(Ze,{pending:!0,data:cr,method:cs.method,action:vs},null,cr)}}else typeof vs=="function"&&(Qs.preventDefault(),cr=$s?Hw(cs,$s):new FormData(cs),cg(Ze,{pending:!0,data:cr,method:cs.method,action:vs},vs,cr))},currentTarget:cs}]})}}for(var cj=0;cj<mf.length;cj++){var uj=mf[cj],w_=uj.toLowerCase(),R_=uj[0].toUpperCase()+uj.slice(1);ga(w_,"on"+R_)}ga(yo,"onAnimationEnd"),ga(Rc,"onAnimationIteration"),ga(Oh,"onAnimationStart"),ga("dblclick","onDoubleClick"),ga("focusin","onFocus"),ga("focusout","onBlur"),ga(Ih,"onTransitionRun"),ga(Qx,"onTransitionStart"),ga(hf,"onTransitionCancel"),ga(pf,"onTransitionEnd"),mc("onMouseEnter",["mouseout","mouseover"]),mc("onMouseLeave",["mouseout","mouseover"]),mc("onPointerEnter",["pointerout","pointerover"]),mc("onPointerLeave",["pointerout","pointerover"]),Ta("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ta("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ta("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ta("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ta("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),__=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Sy));function qw($e,Ue){Ue=(Ue&4)!==0;for(var Ze=0;Ze<$e.length;Ze++){var ss=$e[Ze],cs=ss.event;ss=ss.listeners;e:{var vs=void 0;if(Ue)for(var $s=ss.length-1;0<=$s;$s--){var Qs=ss[$s],cr=Qs.instance,yr=Qs.currentTarget;if(Qs=Qs.listener,cr!==vs&&cs.isPropagationStopped())break e;vs=Qs,cs.currentTarget=yr;try{vs(cs)}catch(Gr){Xp(Gr)}cs.currentTarget=null,vs=cr}else for($s=0;$s<ss.length;$s++){if(Qs=ss[$s],cr=Qs.instance,yr=Qs.currentTarget,Qs=Qs.listener,cr!==vs&&cs.isPropagationStopped())break e;vs=Qs,cs.currentTarget=yr;try{vs(cs)}catch(Gr){Xp(Gr)}cs.currentTarget=null,vs=cr}}}}function fn($e,Ue){var Ze=Ue[Co];Ze===void 0&&(Ze=Ue[Co]=new Set);var ss=$e+"__bubble";Ze.has(ss)||(Gw(Ue,$e,2,!1),Ze.add(ss))}function dj($e,Ue,Ze){var ss=0;Ue&&(ss|=4),Gw(Ze,$e,ss,Ue)}var ab="_reactListening"+Math.random().toString(36).slice(2);function hj($e){if(!$e[ab]){$e[ab]=!0,Th.forEach(function(Ze){Ze!=="selectionchange"&&(__.has(Ze)||dj(Ze,!1,$e),dj(Ze,!0,$e))});var Ue=$e.nodeType===9?$e:$e.ownerDocument;Ue===null||Ue[ab]||(Ue[ab]=!0,dj("selectionchange",!1,Ue))}}function Gw($e,Ue,Ze,ss){switch(fR(Ue)){case 2:var cs=X_;break;case 8:cs=J_;break;default:cs=_j}Ze=cs.bind(null,Ue,Ze,$e),cs=void 0,!Yo||Ue!=="touchstart"&&Ue!=="touchmove"&&Ue!=="wheel"||(cs=!0),ss?cs!==void 0?$e.addEventListener(Ue,Ze,{capture:!0,passive:cs}):$e.addEventListener(Ue,Ze,!0):cs!==void 0?$e.addEventListener(Ue,Ze,{passive:cs}):$e.addEventListener(Ue,Ze,!1)}function pj($e,Ue,Ze,ss,cs){var vs=ss;if((Ue&1)===0&&(Ue&2)===0&&ss!==null)e:for(;;){if(ss===null)return;var $s=ss.tag;if($s===3||$s===4){var Qs=ss.stateNode.containerInfo;if(Qs===cs||Qs.nodeType===8&&Qs.parentNode===cs)break;if($s===4)for($s=ss.return;$s!==null;){var cr=$s.tag;if((cr===3||cr===4)&&(cr=$s.stateNode.containerInfo,cr===cs||cr.nodeType===8&&cr.parentNode===cs))return;$s=$s.return}for(;Qs!==null;){if($s=xl(Qs),$s===null)return;if(cr=$s.tag,cr===5||cr===6||cr===26||cr===27){ss=vs=$s;continue e}Qs=Qs.parentNode}}ss=ss.return}gn(function(){var yr=vs,Gr=xc(Ze),si=[];e:{var Dr=yd.get($e);if(Dr!==void 0){var Hr=Uc,Ni=$e;switch($e){case"keypress":if(Nn(Ze)===0)break e;case"keydown":case"keyup":Hr=Li;break;case"focusin":Ni="focus",Hr=Ql;break;case"focusout":Ni="blur",Hr=Ql;break;case"beforeblur":case"afterblur":Hr=Ql;break;case"click":if(Ze.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Hr=vc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Hr=Hp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Hr=fa;break;case yo:case Rc:case Oh:Hr=fd;break;case pf:Hr=Ea;break;case"scroll":case"scrollend":Hr=Hc;break;case"wheel":Hr=ka;break;case"copy":case"cut":case"paste":Hr=Rs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Hr=Qi;break;case"toggle":case"beforetoggle":Hr=qa}var Ui=(Ue&4)!==0,Fa=!Ui&&($e==="scroll"||$e==="scrollend"),Rr=Ui?Dr!==null?Dr+"Capture":null:Dr;Ui=[];for(var gr=yr,Nr;gr!==null;){var Yr=gr;if(Nr=Yr.stateNode,Yr=Yr.tag,Yr!==5&&Yr!==26&&Yr!==27||Nr===null||Rr===null||(Yr=Lu(gr,Rr),Yr!=null&&Ui.push(Ny(gr,Yr,Nr))),Fa)break;gr=gr.return}0<Ui.length&&(Dr=new Hr(Dr,Ni,null,Ze,Gr),si.push({event:Dr,listeners:Ui}))}}if((Ue&7)===0){e:{if(Dr=$e==="mouseover"||$e==="pointerover",Hr=$e==="mouseout"||$e==="pointerout",Dr&&Ze!==ku&&(Ni=Ze.relatedTarget||Ze.fromElement)&&(xl(Ni)||Ni[Va]))break e;if((Hr||Dr)&&(Dr=Gr.window===Gr?Gr:(Dr=Gr.ownerDocument)?Dr.defaultView||Dr.parentWindow:window,Hr?(Ni=Ze.relatedTarget||Ze.toElement,Hr=yr,Ni=Ni?xl(Ni):null,Ni!==null&&(Fa=ps(Ni),Ui=Ni.tag,Ni!==Fa||Ui!==5&&Ui!==27&&Ui!==6)&&(Ni=null)):(Hr=null,Ni=yr),Hr!==Ni)){if(Ui=vc,Yr="onMouseLeave",Rr="onMouseEnter",gr="mouse",($e==="pointerout"||$e==="pointerover")&&(Ui=Qi,Yr="onPointerLeave",Rr="onPointerEnter",gr="pointer"),Fa=Hr==null?Dr:pc(Hr),Nr=Ni==null?Dr:pc(Ni),Dr=new Ui(Yr,gr+"leave",Hr,Ze,Gr),Dr.target=Fa,Dr.relatedTarget=Nr,Yr=null,xl(Gr)===yr&&(Ui=new Ui(Rr,gr+"enter",Ni,Ze,Gr),Ui.target=Nr,Ui.relatedTarget=Fa,Yr=Ui),Fa=Yr,Hr&&Ni)t:{for(Ui=Hr,Rr=Ni,gr=0,Nr=Ui;Nr;Nr=wg(Nr))gr++;for(Nr=0,Yr=Rr;Yr;Yr=wg(Yr))Nr++;for(;0<gr-Nr;)Ui=wg(Ui),gr--;for(;0<Nr-gr;)Rr=wg(Rr),Nr--;for(;gr--;){if(Ui===Rr||Rr!==null&&Ui===Rr.alternate)break t;Ui=wg(Ui),Rr=wg(Rr)}Ui=null}else Ui=null;Hr!==null&&Ww(si,Dr,Hr,Ui,!1),Ni!==null&&Fa!==null&&Ww(si,Fa,Ni,Ui,!0)}}e:{if(Dr=yr?pc(yr):window,Hr=Dr.nodeName&&Dr.nodeName.toLowerCase(),Hr==="select"||Hr==="input"&&Dr.type==="file")var wi=bc;else if(mo(Dr))if(jc)wi=ua;else{wi=Fh;var an=wc}else Hr=Dr.nodeName,!Hr||Hr.toLowerCase()!=="input"||Dr.type!=="checkbox"&&Dr.type!=="radio"?yr&&md(yr.elementType)&&(wi=bc):wi=Lo;if(wi&&(wi=wi($e,yr))){xd(si,wi,Ze,Gr);break e}an&&an($e,Dr,yr),$e==="focusout"&&yr&&Dr.type==="number"&&yr.memoizedProps.value!=null&&Gl(Dr,"number",Dr.value)}switch(an=yr?pc(yr):window,$e){case"focusin":(mo(an)||an.contentEditable==="true")&&(xo=an,Al=yr,Cl=null);break;case"focusout":Cl=Al=xo=null;break;case"mousedown":Mo=!0;break;case"contextmenu":case"mouseup":case"dragend":Mo=!1,Fo(si,Ze,Gr);break;case"selectionchange":if(Xo)break;case"keydown":case"keyup":Fo(si,Ze,Gr)}var Pi;if(ec)e:{switch($e){case"compositionstart":var Mi="onCompositionStart";break e;case"compositionend":Mi="onCompositionEnd";break e;case"compositionupdate":Mi="onCompositionUpdate";break e}Mi=void 0}else wl?xa($e,Ze)&&(Mi="onCompositionEnd"):$e==="keydown"&&Ze.keyCode===229&&(Mi="onCompositionStart");Mi&&(Zc&&Ze.locale!=="ko"&&(wl||Mi!=="onCompositionStart"?Mi==="onCompositionEnd"&&wl&&(Pi=gc()):(bl=Gr,Zl="value"in bl?bl.value:bl.textContent,wl=!0)),an=lb(yr,Mi),0<an.length&&(Mi=new ir(Mi,$e,null,Ze,Gr),si.push({event:Mi,listeners:an}),Pi?Mi.data=Pi:(Pi=Ou(Ze),Pi!==null&&(Mi.data=Pi)))),(Pi=Wc?Zd($e,Ze):Mh($e,Ze))&&(Mi=lb(yr,"onBeforeInput"),0<Mi.length&&(an=new ir("onBeforeInput","beforeinput",null,Ze,Gr),si.push({event:an,listeners:Mi}),an.data=Pi)),E_(si,$e,yr,Ze,Gr)}qw(si,Ue)})}function Ny($e,Ue,Ze){return{instance:$e,listener:Ue,currentTarget:Ze}}function lb($e,Ue){for(var Ze=Ue+"Capture",ss=[];$e!==null;){var cs=$e,vs=cs.stateNode;cs=cs.tag,cs!==5&&cs!==26&&cs!==27||vs===null||(cs=Lu($e,Ze),cs!=null&&ss.unshift(Ny($e,cs,vs)),cs=Lu($e,Ue),cs!=null&&ss.push(Ny($e,cs,vs))),$e=$e.return}return ss}function wg($e){if($e===null)return null;do $e=$e.return;while($e&&$e.tag!==5&&$e.tag!==27);return $e||null}function Ww($e,Ue,Ze,ss,cs){for(var vs=Ue._reactName,$s=[];Ze!==null&&Ze!==ss;){var Qs=Ze,cr=Qs.alternate,yr=Qs.stateNode;if(Qs=Qs.tag,cr!==null&&cr===ss)break;Qs!==5&&Qs!==26&&Qs!==27||yr===null||(cr=yr,cs?(yr=Lu(Ze,vs),yr!=null&&$s.unshift(Ny(Ze,yr,cr))):cs||(yr=Lu(Ze,vs),yr!=null&&$s.push(Ny(Ze,yr,cr)))),Ze=Ze.return}$s.length!==0&&$e.push({event:Ue,listeners:$s})}var S_=/\r\n?/g,N_=/\u0000|\uFFFD/g;function Zw($e){return(typeof $e=="string"?$e:""+$e).replace(S_,`
`).replace(N_,"")}function Kw($e,Ue){return Ue=Zw(Ue),Zw($e)===Ue}function cb(){}function Bn($e,Ue,Ze,ss,cs,vs){switch(Ze){case"children":typeof ss=="string"?Ue==="body"||Ue==="textarea"&&ss===""||ho($e,ss):(typeof ss=="number"||typeof ss=="bigint")&&Ue!=="body"&&ho($e,""+ss);break;case"className":hn($e,"class",ss);break;case"tabIndex":hn($e,"tabindex",ss);break;case"dir":case"role":case"viewBox":case"width":case"height":hn($e,Ze,ss);break;case"style":Gd($e,ss,vs);break;case"data":if(Ue!=="object"){hn($e,"data",ss);break}case"src":case"href":if(ss===""&&(Ue!=="a"||Ze!=="href")){$e.removeAttribute(Ze);break}if(ss==null||typeof ss=="function"||typeof ss=="symbol"||typeof ss=="boolean"){$e.removeAttribute(Ze);break}ss=to(""+ss),$e.setAttribute(Ze,ss);break;case"action":case"formAction":if(typeof ss=="function"){$e.setAttribute(Ze,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof vs=="function"&&(Ze==="formAction"?(Ue!=="input"&&Bn($e,Ue,"name",cs.name,cs,null),Bn($e,Ue,"formEncType",cs.formEncType,cs,null),Bn($e,Ue,"formMethod",cs.formMethod,cs,null),Bn($e,Ue,"formTarget",cs.formTarget,cs,null)):(Bn($e,Ue,"encType",cs.encType,cs,null),Bn($e,Ue,"method",cs.method,cs,null),Bn($e,Ue,"target",cs.target,cs,null)));if(ss==null||typeof ss=="symbol"||typeof ss=="boolean"){$e.removeAttribute(Ze);break}ss=to(""+ss),$e.setAttribute(Ze,ss);break;case"onClick":ss!=null&&($e.onclick=cb);break;case"onScroll":ss!=null&&fn("scroll",$e);break;case"onScrollEnd":ss!=null&&fn("scrollend",$e);break;case"dangerouslySetInnerHTML":if(ss!=null){if(typeof ss!="object"||!("__html"in ss))throw Error(Ce(61));if(Ze=ss.__html,Ze!=null){if(cs.children!=null)throw Error(Ce(60));$e.innerHTML=Ze}}break;case"multiple":$e.multiple=ss&&typeof ss!="function"&&typeof ss!="symbol";break;case"muted":$e.muted=ss&&typeof ss!="function"&&typeof ss!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(ss==null||typeof ss=="function"||typeof ss=="boolean"||typeof ss=="symbol"){$e.removeAttribute("xlink:href");break}Ze=to(""+ss),$e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",Ze);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":ss!=null&&typeof ss!="function"&&typeof ss!="symbol"?$e.setAttribute(Ze,""+ss):$e.removeAttribute(Ze);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":ss&&typeof ss!="function"&&typeof ss!="symbol"?$e.setAttribute(Ze,""):$e.removeAttribute(Ze);break;case"capture":case"download":ss===!0?$e.setAttribute(Ze,""):ss!==!1&&ss!=null&&typeof ss!="function"&&typeof ss!="symbol"?$e.setAttribute(Ze,ss):$e.removeAttribute(Ze);break;case"cols":case"rows":case"size":case"span":ss!=null&&typeof ss!="function"&&typeof ss!="symbol"&&!isNaN(ss)&&1<=ss?$e.setAttribute(Ze,ss):$e.removeAttribute(Ze);break;case"rowSpan":case"start":ss==null||typeof ss=="function"||typeof ss=="symbol"||isNaN(ss)?$e.removeAttribute(Ze):$e.setAttribute(Ze,ss);break;case"popover":fn("beforetoggle",$e),fn("toggle",$e),Fi($e,"popover",ss);break;case"xlinkActuate":ko($e,"http://www.w3.org/1999/xlink","xlink:actuate",ss);break;case"xlinkArcrole":ko($e,"http://www.w3.org/1999/xlink","xlink:arcrole",ss);break;case"xlinkRole":ko($e,"http://www.w3.org/1999/xlink","xlink:role",ss);break;case"xlinkShow":ko($e,"http://www.w3.org/1999/xlink","xlink:show",ss);break;case"xlinkTitle":ko($e,"http://www.w3.org/1999/xlink","xlink:title",ss);break;case"xlinkType":ko($e,"http://www.w3.org/1999/xlink","xlink:type",ss);break;case"xmlBase":ko($e,"http://www.w3.org/XML/1998/namespace","xml:base",ss);break;case"xmlLang":ko($e,"http://www.w3.org/XML/1998/namespace","xml:lang",ss);break;case"xmlSpace":ko($e,"http://www.w3.org/XML/1998/namespace","xml:space",ss);break;case"is":Fi($e,"is",ss);break;case"innerText":case"textContent":break;default:(!(2<Ze.length)||Ze[0]!=="o"&&Ze[0]!=="O"||Ze[1]!=="n"&&Ze[1]!=="N")&&(Ze=Tu.get(Ze)||Ze,Fi($e,Ze,ss))}}function mj($e,Ue,Ze,ss,cs,vs){switch(Ze){case"style":Gd($e,ss,vs);break;case"dangerouslySetInnerHTML":if(ss!=null){if(typeof ss!="object"||!("__html"in ss))throw Error(Ce(61));if(Ze=ss.__html,Ze!=null){if(cs.children!=null)throw Error(Ce(60));$e.innerHTML=Ze}}break;case"children":typeof ss=="string"?ho($e,ss):(typeof ss=="number"||typeof ss=="bigint")&&ho($e,""+ss);break;case"onScroll":ss!=null&&fn("scroll",$e);break;case"onScrollEnd":ss!=null&&fn("scrollend",$e);break;case"onClick":ss!=null&&($e.onclick=cb);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kh.hasOwnProperty(Ze))e:{if(Ze[0]==="o"&&Ze[1]==="n"&&(cs=Ze.endsWith("Capture"),Ue=Ze.slice(2,cs?Ze.length-7:void 0),vs=$e[Pn]||null,vs=vs!=null?vs[Ze]:null,typeof vs=="function"&&$e.removeEventListener(Ue,vs,cs),typeof ss=="function")){typeof vs!="function"&&vs!==null&&(Ze in $e?$e[Ze]=null:$e.hasAttribute(Ze)&&$e.removeAttribute(Ze)),$e.addEventListener(Ue,ss,cs);break e}Ze in $e?$e[Ze]=ss:ss===!0?$e.setAttribute(Ze,""):Fi($e,Ze,ss)}}}function al($e,Ue,Ze){switch(Ue){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fn("error",$e),fn("load",$e);var ss=!1,cs=!1,vs;for(vs in Ze)if(Ze.hasOwnProperty(vs)){var $s=Ze[vs];if($s!=null)switch(vs){case"src":ss=!0;break;case"srcSet":cs=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(Ce(137,Ue));default:Bn($e,Ue,vs,$s,Ze,null)}}cs&&Bn($e,Ue,"srcSet",Ze.srcSet,Ze,null),ss&&Bn($e,Ue,"src",Ze.src,Ze,null);return;case"input":fn("invalid",$e);var Qs=vs=$s=cs=null,cr=null,yr=null;for(ss in Ze)if(Ze.hasOwnProperty(ss)){var Gr=Ze[ss];if(Gr!=null)switch(ss){case"name":cs=Gr;break;case"type":$s=Gr;break;case"checked":cr=Gr;break;case"defaultChecked":yr=Gr;break;case"value":vs=Gr;break;case"defaultValue":Qs=Gr;break;case"children":case"dangerouslySetInnerHTML":if(Gr!=null)throw Error(Ce(137,Ue));break;default:Bn($e,Ue,ss,Gr,Ze,null)}}pd($e,vs,Qs,cr,yr,$s,cs,!1),ki($e);return;case"select":fn("invalid",$e),ss=$s=vs=null;for(cs in Ze)if(Ze.hasOwnProperty(cs)&&(Qs=Ze[cs],Qs!=null))switch(cs){case"value":vs=Qs;break;case"defaultValue":$s=Qs;break;case"multiple":ss=Qs;default:Bn($e,Ue,cs,Qs,Ze,null)}Ue=vs,Ze=$s,$e.multiple=!!ss,Ue!=null?tn($e,!!ss,Ue,!1):Ze!=null&&tn($e,!!ss,Ze,!0);return;case"textarea":fn("invalid",$e),vs=cs=ss=null;for($s in Ze)if(Ze.hasOwnProperty($s)&&(Qs=Ze[$s],Qs!=null))switch($s){case"value":ss=Qs;break;case"defaultValue":cs=Qs;break;case"children":vs=Qs;break;case"dangerouslySetInnerHTML":if(Qs!=null)throw Error(Ce(91));break;default:Bn($e,Ue,$s,Qs,Ze,null)}$c($e,ss,cs,vs),ki($e);return;case"option":for(cr in Ze)if(Ze.hasOwnProperty(cr)&&(ss=Ze[cr],ss!=null))switch(cr){case"selected":$e.selected=ss&&typeof ss!="function"&&typeof ss!="symbol";break;default:Bn($e,Ue,cr,ss,Ze,null)}return;case"dialog":fn("cancel",$e),fn("close",$e);break;case"iframe":case"object":fn("load",$e);break;case"video":case"audio":for(ss=0;ss<Sy.length;ss++)fn(Sy[ss],$e);break;case"image":fn("error",$e),fn("load",$e);break;case"details":fn("toggle",$e);break;case"embed":case"source":case"link":fn("error",$e),fn("load",$e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(yr in Ze)if(Ze.hasOwnProperty(yr)&&(ss=Ze[yr],ss!=null))switch(yr){case"children":case"dangerouslySetInnerHTML":throw Error(Ce(137,Ue));default:Bn($e,Ue,yr,ss,Ze,null)}return;default:if(md(Ue)){for(Gr in Ze)Ze.hasOwnProperty(Gr)&&(ss=Ze[Gr],ss!==void 0&&mj($e,Ue,Gr,ss,Ze,void 0));return}}for(Qs in Ze)Ze.hasOwnProperty(Qs)&&(ss=Ze[Qs],ss!=null&&Bn($e,Ue,Qs,ss,Ze,null))}function A_($e,Ue,Ze,ss){switch(Ue){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var cs=null,vs=null,$s=null,Qs=null,cr=null,yr=null,Gr=null;for(Hr in Ze){var si=Ze[Hr];if(Ze.hasOwnProperty(Hr)&&si!=null)switch(Hr){case"checked":break;case"value":break;case"defaultValue":cr=si;default:ss.hasOwnProperty(Hr)||Bn($e,Ue,Hr,null,ss,si)}}for(var Dr in ss){var Hr=ss[Dr];if(si=Ze[Dr],ss.hasOwnProperty(Dr)&&(Hr!=null||si!=null))switch(Dr){case"type":vs=Hr;break;case"name":cs=Hr;break;case"checked":yr=Hr;break;case"defaultChecked":Gr=Hr;break;case"value":$s=Hr;break;case"defaultValue":Qs=Hr;break;case"children":case"dangerouslySetInnerHTML":if(Hr!=null)throw Error(Ce(137,Ue));break;default:Hr!==si&&Bn($e,Ue,Dr,Hr,ss,si)}}qd($e,$s,Qs,cr,yr,Gr,vs,cs);return;case"select":Hr=$s=Qs=Dr=null;for(vs in Ze)if(cr=Ze[vs],Ze.hasOwnProperty(vs)&&cr!=null)switch(vs){case"value":break;case"multiple":Hr=cr;default:ss.hasOwnProperty(vs)||Bn($e,Ue,vs,null,ss,cr)}for(cs in ss)if(vs=ss[cs],cr=Ze[cs],ss.hasOwnProperty(cs)&&(vs!=null||cr!=null))switch(cs){case"value":Dr=vs;break;case"defaultValue":Qs=vs;break;case"multiple":$s=vs;default:vs!==cr&&Bn($e,Ue,cs,vs,ss,cr)}Ue=Qs,Ze=$s,ss=Hr,Dr!=null?tn($e,!!Ze,Dr,!1):!!ss!=!!Ze&&(Ue!=null?tn($e,!!Ze,Ue,!0):tn($e,!!Ze,Ze?[]:"",!1));return;case"textarea":Hr=Dr=null;for(Qs in Ze)if(cs=Ze[Qs],Ze.hasOwnProperty(Qs)&&cs!=null&&!ss.hasOwnProperty(Qs))switch(Qs){case"value":break;case"children":break;default:Bn($e,Ue,Qs,null,ss,cs)}for($s in ss)if(cs=ss[$s],vs=Ze[$s],ss.hasOwnProperty($s)&&(cs!=null||vs!=null))switch($s){case"value":Dr=cs;break;case"defaultValue":Hr=cs;break;case"children":break;case"dangerouslySetInnerHTML":if(cs!=null)throw Error(Ce(91));break;default:cs!==vs&&Bn($e,Ue,$s,cs,ss,vs)}Wl($e,Dr,Hr);return;case"option":for(var Ni in Ze)if(Dr=Ze[Ni],Ze.hasOwnProperty(Ni)&&Dr!=null&&!ss.hasOwnProperty(Ni))switch(Ni){case"selected":$e.selected=!1;break;default:Bn($e,Ue,Ni,null,ss,Dr)}for(cr in ss)if(Dr=ss[cr],Hr=Ze[cr],ss.hasOwnProperty(cr)&&Dr!==Hr&&(Dr!=null||Hr!=null))switch(cr){case"selected":$e.selected=Dr&&typeof Dr!="function"&&typeof Dr!="symbol";break;default:Bn($e,Ue,cr,Dr,ss,Hr)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ui in Ze)Dr=Ze[Ui],Ze.hasOwnProperty(Ui)&&Dr!=null&&!ss.hasOwnProperty(Ui)&&Bn($e,Ue,Ui,null,ss,Dr);for(yr in ss)if(Dr=ss[yr],Hr=Ze[yr],ss.hasOwnProperty(yr)&&Dr!==Hr&&(Dr!=null||Hr!=null))switch(yr){case"children":case"dangerouslySetInnerHTML":if(Dr!=null)throw Error(Ce(137,Ue));break;default:Bn($e,Ue,yr,Dr,ss,Hr)}return;default:if(md(Ue)){for(var Fa in Ze)Dr=Ze[Fa],Ze.hasOwnProperty(Fa)&&Dr!==void 0&&!ss.hasOwnProperty(Fa)&&mj($e,Ue,Fa,void 0,ss,Dr);for(Gr in ss)Dr=ss[Gr],Hr=Ze[Gr],!ss.hasOwnProperty(Gr)||Dr===Hr||Dr===void 0&&Hr===void 0||mj($e,Ue,Gr,Dr,ss,Hr);return}}for(var Rr in Ze)Dr=Ze[Rr],Ze.hasOwnProperty(Rr)&&Dr!=null&&!ss.hasOwnProperty(Rr)&&Bn($e,Ue,Rr,null,ss,Dr);for(si in ss)Dr=ss[si],Hr=Ze[si],!ss.hasOwnProperty(si)||Dr===Hr||Dr==null&&Hr==null||Bn($e,Ue,si,Dr,ss,Hr)}var fj=null,xj=null;function ub($e){return $e.nodeType===9?$e:$e.ownerDocument}function Yw($e){switch($e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xw($e,Ue){if($e===0)switch(Ue){case"svg":return 1;case"math":return 2;default:return 0}return $e===1&&Ue==="foreignObject"?0:$e}function gj($e,Ue){return $e==="textarea"||$e==="noscript"||typeof Ue.children=="string"||typeof Ue.children=="number"||typeof Ue.children=="bigint"||typeof Ue.dangerouslySetInnerHTML=="object"&&Ue.dangerouslySetInnerHTML!==null&&Ue.dangerouslySetInnerHTML.__html!=null}var yj=null;function C_(){var $e=window.event;return $e&&$e.type==="popstate"?$e===yj?!1:(yj=$e,!0):(yj=null,!1)}var Jw=typeof setTimeout=="function"?setTimeout:void 0,P_=typeof clearTimeout=="function"?clearTimeout:void 0,Qw=typeof Promise=="function"?Promise:void 0,T_=typeof queueMicrotask=="function"?queueMicrotask:typeof Qw<"u"?function($e){return Qw.resolve(null).then($e).catch(k_)}:Jw;function k_($e){setTimeout(function(){throw $e})}function vj($e,Ue){var Ze=Ue,ss=0;do{var cs=Ze.nextSibling;if($e.removeChild(Ze),cs&&cs.nodeType===8)if(Ze=cs.data,Ze==="/$"){if(ss===0){$e.removeChild(cs),My(Ue);return}ss--}else Ze!=="$"&&Ze!=="$?"&&Ze!=="$!"||ss++;Ze=cs}while(Ze);My(Ue)}function bj($e){var Ue=$e.firstChild;for(Ue&&Ue.nodeType===10&&(Ue=Ue.nextSibling);Ue;){var Ze=Ue;switch(Ue=Ue.nextSibling,Ze.nodeName){case"HTML":case"HEAD":case"BODY":bj(Ze),Bc(Ze);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(Ze.rel.toLowerCase()==="stylesheet")continue}$e.removeChild(Ze)}}function D_($e,Ue,Ze,ss){for(;$e.nodeType===1;){var cs=Ze;if($e.nodeName.toLowerCase()!==Ue.toLowerCase()){if(!ss&&($e.nodeName!=="INPUT"||$e.type!=="hidden"))break}else if(ss){if(!$e[Po])switch(Ue){case"meta":if(!$e.hasAttribute("itemprop"))break;return $e;case"link":if(vs=$e.getAttribute("rel"),vs==="stylesheet"&&$e.hasAttribute("data-precedence"))break;if(vs!==cs.rel||$e.getAttribute("href")!==(cs.href==null?null:cs.href)||$e.getAttribute("crossorigin")!==(cs.crossOrigin==null?null:cs.crossOrigin)||$e.getAttribute("title")!==(cs.title==null?null:cs.title))break;return $e;case"style":if($e.hasAttribute("data-precedence"))break;return $e;case"script":if(vs=$e.getAttribute("src"),(vs!==(cs.src==null?null:cs.src)||$e.getAttribute("type")!==(cs.type==null?null:cs.type)||$e.getAttribute("crossorigin")!==(cs.crossOrigin==null?null:cs.crossOrigin))&&vs&&$e.hasAttribute("async")&&!$e.hasAttribute("itemprop"))break;return $e;default:return $e}}else if(Ue==="input"&&$e.type==="hidden"){var vs=cs.name==null?null:""+cs.name;if(cs.type==="hidden"&&$e.getAttribute("name")===vs)return $e}else return $e;if($e=Sd($e.nextSibling),$e===null)break}return null}function L_($e,Ue,Ze){if(Ue==="")return null;for(;$e.nodeType!==3;)if(($e.nodeType!==1||$e.nodeName!=="INPUT"||$e.type!=="hidden")&&!Ze||($e=Sd($e.nextSibling),$e===null))return null;return $e}function Sd($e){for(;$e!=null;$e=$e.nextSibling){var Ue=$e.nodeType;if(Ue===1||Ue===3)break;if(Ue===8){if(Ue=$e.data,Ue==="$"||Ue==="$!"||Ue==="$?"||Ue==="F!"||Ue==="F")break;if(Ue==="/$")return null}}return $e}function eR($e){$e=$e.previousSibling;for(var Ue=0;$e;){if($e.nodeType===8){var Ze=$e.data;if(Ze==="$"||Ze==="$!"||Ze==="$?"){if(Ue===0)return $e;Ue--}else Ze==="/$"&&Ue++}$e=$e.previousSibling}return null}function tR($e,Ue,Ze){switch(Ue=ub(Ze),$e){case"html":if($e=Ue.documentElement,!$e)throw Error(Ce(452));return $e;case"head":if($e=Ue.head,!$e)throw Error(Ce(453));return $e;case"body":if($e=Ue.body,!$e)throw Error(Ce(454));return $e;default:throw Error(Ce(451))}}var Xu=new Map,sR=new Set;function db($e){return typeof $e.getRootNode=="function"?$e.getRootNode():$e.ownerDocument}var tp=ks.d;ks.d={f:M_,r:F_,D:O_,C:I_,L:B_,m:z_,X:V_,S:$_,M:U_};function M_(){var $e=tp.f(),Ue=sb();return $e||Ue}function F_($e){var Ue=gl($e);Ue!==null&&Ue.tag===5&&Ue.type==="form"?Sf(Ue):tp.r($e)}var Rg=typeof document>"u"?null:document;function rR($e,Ue,Ze){var ss=Rg;if(ss&&typeof Ue=="string"&&Ue){var cs=pn(Ue);cs='link[rel="'+$e+'"][href="'+cs+'"]',typeof Ze=="string"&&(cs+='[crossorigin="'+Ze+'"]'),sR.has(cs)||(sR.add(cs),$e={rel:$e,crossOrigin:Ze,href:Ue},ss.querySelector(cs)===null&&(Ue=ss.createElement("link"),al(Ue,"link",$e),Jn(Ue),ss.head.appendChild(Ue)))}}function O_($e){tp.D($e),rR("dns-prefetch",$e,null)}function I_($e,Ue){tp.C($e,Ue),rR("preconnect",$e,Ue)}function B_($e,Ue,Ze){tp.L($e,Ue,Ze);var ss=Rg;if(ss&&$e&&Ue){var cs='link[rel="preload"][as="'+pn(Ue)+'"]';Ue==="image"&&Ze&&Ze.imageSrcSet?(cs+='[imagesrcset="'+pn(Ze.imageSrcSet)+'"]',typeof Ze.imageSizes=="string"&&(cs+='[imagesizes="'+pn(Ze.imageSizes)+'"]')):cs+='[href="'+pn($e)+'"]';var vs=cs;switch(Ue){case"style":vs=_g($e);break;case"script":vs=Sg($e)}Xu.has(vs)||($e=Ss({rel:"preload",href:Ue==="image"&&Ze&&Ze.imageSrcSet?void 0:$e,as:Ue},Ze),Xu.set(vs,$e),ss.querySelector(cs)!==null||Ue==="style"&&ss.querySelector(Ay(vs))||Ue==="script"&&ss.querySelector(Cy(vs))||(Ue=ss.createElement("link"),al(Ue,"link",$e),Jn(Ue),ss.head.appendChild(Ue)))}}function z_($e,Ue){tp.m($e,Ue);var Ze=Rg;if(Ze&&$e){var ss=Ue&&typeof Ue.as=="string"?Ue.as:"script",cs='link[rel="modulepreload"][as="'+pn(ss)+'"][href="'+pn($e)+'"]',vs=cs;switch(ss){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":vs=Sg($e)}if(!Xu.has(vs)&&($e=Ss({rel:"modulepreload",href:$e},Ue),Xu.set(vs,$e),Ze.querySelector(cs)===null)){switch(ss){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(Ze.querySelector(Cy(vs)))return}ss=Ze.createElement("link"),al(ss,"link",$e),Jn(ss),Ze.head.appendChild(ss)}}}function $_($e,Ue,Ze){tp.S($e,Ue,Ze);var ss=Rg;if(ss&&$e){var cs=ql(ss).hoistableStyles,vs=_g($e);Ue=Ue||"default";var $s=cs.get(vs);if(!$s){var Qs={loading:0,preload:null};if($s=ss.querySelector(Ay(vs)))Qs.loading=5;else{$e=Ss({rel:"stylesheet",href:$e,"data-precedence":Ue},Ze),(Ze=Xu.get(vs))&&jj($e,Ze);var cr=$s=ss.createElement("link");Jn(cr),al(cr,"link",$e),cr._p=new Promise(function(yr,Gr){cr.onload=yr,cr.onerror=Gr}),cr.addEventListener("load",function(){Qs.loading|=1}),cr.addEventListener("error",function(){Qs.loading|=2}),Qs.loading|=4,hb($s,Ue,ss)}$s={type:"stylesheet",instance:$s,count:1,state:Qs},cs.set(vs,$s)}}}function V_($e,Ue){tp.X($e,Ue);var Ze=Rg;if(Ze&&$e){var ss=ql(Ze).hoistableScripts,cs=Sg($e),vs=ss.get(cs);vs||(vs=Ze.querySelector(Cy(cs)),vs||($e=Ss({src:$e,async:!0},Ue),(Ue=Xu.get(cs))&&Ej($e,Ue),vs=Ze.createElement("script"),Jn(vs),al(vs,"link",$e),Ze.head.appendChild(vs)),vs={type:"script",instance:vs,count:1,state:null},ss.set(cs,vs))}}function U_($e,Ue){tp.M($e,Ue);var Ze=Rg;if(Ze&&$e){var ss=ql(Ze).hoistableScripts,cs=Sg($e),vs=ss.get(cs);vs||(vs=Ze.querySelector(Cy(cs)),vs||($e=Ss({src:$e,async:!0,type:"module"},Ue),(Ue=Xu.get(cs))&&Ej($e,Ue),vs=Ze.createElement("script"),Jn(vs),al(vs,"link",$e),Ze.head.appendChild(vs)),vs={type:"script",instance:vs,count:1,state:null},ss.set(cs,vs))}}function iR($e,Ue,Ze,ss){var cs=(cs=rr.current)?db(cs):null;if(!cs)throw Error(Ce(446));switch($e){case"meta":case"title":return null;case"style":return typeof Ze.precedence=="string"&&typeof Ze.href=="string"?(Ue=_g(Ze.href),Ze=ql(cs).hoistableStyles,ss=Ze.get(Ue),ss||(ss={type:"style",instance:null,count:0,state:null},Ze.set(Ue,ss)),ss):{type:"void",instance:null,count:0,state:null};case"link":if(Ze.rel==="stylesheet"&&typeof Ze.href=="string"&&typeof Ze.precedence=="string"){$e=_g(Ze.href);var vs=ql(cs).hoistableStyles,$s=vs.get($e);if($s||(cs=cs.ownerDocument||cs,$s={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},vs.set($e,$s),(vs=cs.querySelector(Ay($e)))&&!vs._p&&($s.instance=vs,$s.state.loading=5),Xu.has($e)||(Ze={rel:"preload",as:"style",href:Ze.href,crossOrigin:Ze.crossOrigin,integrity:Ze.integrity,media:Ze.media,hrefLang:Ze.hrefLang,referrerPolicy:Ze.referrerPolicy},Xu.set($e,Ze),vs||H_(cs,$e,Ze,$s.state))),Ue&&ss===null)throw Error(Ce(528,""));return $s}if(Ue&&ss!==null)throw Error(Ce(529,""));return null;case"script":return Ue=Ze.async,Ze=Ze.src,typeof Ze=="string"&&Ue&&typeof Ue!="function"&&typeof Ue!="symbol"?(Ue=Sg(Ze),Ze=ql(cs).hoistableScripts,ss=Ze.get(Ue),ss||(ss={type:"script",instance:null,count:0,state:null},Ze.set(Ue,ss)),ss):{type:"void",instance:null,count:0,state:null};default:throw Error(Ce(444,$e))}}function _g($e){return'href="'+pn($e)+'"'}function Ay($e){return'link[rel="stylesheet"]['+$e+"]"}function nR($e){return Ss({},$e,{"data-precedence":$e.precedence,precedence:null})}function H_($e,Ue,Ze,ss){$e.querySelector('link[rel="preload"][as="style"]['+Ue+"]")?ss.loading=1:(Ue=$e.createElement("link"),ss.preload=Ue,Ue.addEventListener("load",function(){return ss.loading|=1}),Ue.addEventListener("error",function(){return ss.loading|=2}),al(Ue,"link",Ze),Jn(Ue),$e.head.appendChild(Ue))}function Sg($e){return'[src="'+pn($e)+'"]'}function Cy($e){return"script[async]"+$e}function aR($e,Ue,Ze){if(Ue.count++,Ue.instance===null)switch(Ue.type){case"style":var ss=$e.querySelector('style[data-href~="'+pn(Ze.href)+'"]');if(ss)return Ue.instance=ss,Jn(ss),ss;var cs=Ss({},Ze,{"data-href":Ze.href,"data-precedence":Ze.precedence,href:null,precedence:null});return ss=($e.ownerDocument||$e).createElement("style"),Jn(ss),al(ss,"style",cs),hb(ss,Ze.precedence,$e),Ue.instance=ss;case"stylesheet":cs=_g(Ze.href);var vs=$e.querySelector(Ay(cs));if(vs)return Ue.state.loading|=4,Ue.instance=vs,Jn(vs),vs;ss=nR(Ze),(cs=Xu.get(cs))&&jj(ss,cs),vs=($e.ownerDocument||$e).createElement("link"),Jn(vs);var $s=vs;return $s._p=new Promise(function(Qs,cr){$s.onload=Qs,$s.onerror=cr}),al(vs,"link",ss),Ue.state.loading|=4,hb(vs,Ze.precedence,$e),Ue.instance=vs;case"script":return vs=Sg(Ze.src),(cs=$e.querySelector(Cy(vs)))?(Ue.instance=cs,Jn(cs),cs):(ss=Ze,(cs=Xu.get(vs))&&(ss=Ss({},Ze),Ej(ss,cs)),$e=$e.ownerDocument||$e,cs=$e.createElement("script"),Jn(cs),al(cs,"link",ss),$e.head.appendChild(cs),Ue.instance=cs);case"void":return null;default:throw Error(Ce(443,Ue.type))}else Ue.type==="stylesheet"&&(Ue.state.loading&4)===0&&(ss=Ue.instance,Ue.state.loading|=4,hb(ss,Ze.precedence,$e));return Ue.instance}function hb($e,Ue,Ze){for(var ss=Ze.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),cs=ss.length?ss[ss.length-1]:null,vs=cs,$s=0;$s<ss.length;$s++){var Qs=ss[$s];if(Qs.dataset.precedence===Ue)vs=Qs;else if(vs!==cs)break}vs?vs.parentNode.insertBefore($e,vs.nextSibling):(Ue=Ze.nodeType===9?Ze.head:Ze,Ue.insertBefore($e,Ue.firstChild))}function jj($e,Ue){$e.crossOrigin==null&&($e.crossOrigin=Ue.crossOrigin),$e.referrerPolicy==null&&($e.referrerPolicy=Ue.referrerPolicy),$e.title==null&&($e.title=Ue.title)}function Ej($e,Ue){$e.crossOrigin==null&&($e.crossOrigin=Ue.crossOrigin),$e.referrerPolicy==null&&($e.referrerPolicy=Ue.referrerPolicy),$e.integrity==null&&($e.integrity=Ue.integrity)}var pb=null;function oR($e,Ue,Ze){if(pb===null){var ss=new Map,cs=pb=new Map;cs.set(Ze,ss)}else cs=pb,ss=cs.get(Ze),ss||(ss=new Map,cs.set(Ze,ss));if(ss.has($e))return ss;for(ss.set($e,null),Ze=Ze.getElementsByTagName($e),cs=0;cs<Ze.length;cs++){var vs=Ze[cs];if(!(vs[Po]||vs[Rn]||$e==="link"&&vs.getAttribute("rel")==="stylesheet")&&vs.namespaceURI!=="http://www.w3.org/2000/svg"){var $s=vs.getAttribute(Ue)||"";$s=$e+$s;var Qs=ss.get($s);Qs?Qs.push(vs):ss.set($s,[vs])}}return ss}function lR($e,Ue,Ze){$e=$e.ownerDocument||$e,$e.head.insertBefore(Ze,Ue==="title"?$e.querySelector("head > title"):null)}function q_($e,Ue,Ze){if(Ze===1||Ue.itemProp!=null)return!1;switch($e){case"meta":case"title":return!0;case"style":if(typeof Ue.precedence!="string"||typeof Ue.href!="string"||Ue.href==="")break;return!0;case"link":if(typeof Ue.rel!="string"||typeof Ue.href!="string"||Ue.href===""||Ue.onLoad||Ue.onError)break;switch(Ue.rel){case"stylesheet":return $e=Ue.disabled,typeof Ue.precedence=="string"&&$e==null;default:return!0}case"script":if(Ue.async&&typeof Ue.async!="function"&&typeof Ue.async!="symbol"&&!Ue.onLoad&&!Ue.onError&&Ue.src&&typeof Ue.src=="string")return!0}return!1}function cR($e){return!($e.type==="stylesheet"&&($e.state.loading&3)===0)}var Py=null;function G_(){}function W_($e,Ue,Ze){if(Py===null)throw Error(Ce(475));var ss=Py;if(Ue.type==="stylesheet"&&(typeof Ze.media!="string"||matchMedia(Ze.media).matches!==!1)&&(Ue.state.loading&4)===0){if(Ue.instance===null){var cs=_g(Ze.href),vs=$e.querySelector(Ay(cs));if(vs){$e=vs._p,$e!==null&&typeof $e=="object"&&typeof $e.then=="function"&&(ss.count++,ss=mb.bind(ss),$e.then(ss,ss)),Ue.state.loading|=4,Ue.instance=vs,Jn(vs);return}vs=$e.ownerDocument||$e,Ze=nR(Ze),(cs=Xu.get(cs))&&jj(Ze,cs),vs=vs.createElement("link"),Jn(vs);var $s=vs;$s._p=new Promise(function(Qs,cr){$s.onload=Qs,$s.onerror=cr}),al(vs,"link",Ze),Ue.instance=vs}ss.stylesheets===null&&(ss.stylesheets=new Map),ss.stylesheets.set(Ue,$e),($e=Ue.state.preload)&&(Ue.state.loading&3)===0&&(ss.count++,Ue=mb.bind(ss),$e.addEventListener("load",Ue),$e.addEventListener("error",Ue))}}function Z_(){if(Py===null)throw Error(Ce(475));var $e=Py;return $e.stylesheets&&$e.count===0&&wj($e,$e.stylesheets),0<$e.count?function(Ue){var Ze=setTimeout(function(){if($e.stylesheets&&wj($e,$e.stylesheets),$e.unsuspend){var ss=$e.unsuspend;$e.unsuspend=null,ss()}},6e4);return $e.unsuspend=Ue,function(){$e.unsuspend=null,clearTimeout(Ze)}}:null}function mb(){if(this.count--,this.count===0){if(this.stylesheets)wj(this,this.stylesheets);else if(this.unsuspend){var $e=this.unsuspend;this.unsuspend=null,$e()}}}var fb=null;function wj($e,Ue){$e.stylesheets=null,$e.unsuspend!==null&&($e.count++,fb=new Map,Ue.forEach(K_,$e),fb=null,mb.call($e))}function K_($e,Ue){if(!(Ue.state.loading&4)){var Ze=fb.get($e);if(Ze)var ss=Ze.get(null);else{Ze=new Map,fb.set($e,Ze);for(var cs=$e.querySelectorAll("link[data-precedence],style[data-precedence]"),vs=0;vs<cs.length;vs++){var $s=cs[vs];($s.nodeName==="LINK"||$s.getAttribute("media")!=="not all")&&(Ze.set($s.dataset.precedence,$s),ss=$s)}ss&&Ze.set(null,ss)}cs=Ue.instance,$s=cs.getAttribute("data-precedence"),vs=Ze.get($s)||ss,vs===ss&&Ze.set(null,cs),Ze.set($s,cs),this.count++,ss=mb.bind(this),cs.addEventListener("load",ss),cs.addEventListener("error",ss),vs?vs.parentNode.insertBefore(cs,vs.nextSibling):($e=$e.nodeType===9?$e.head:$e,$e.insertBefore(cs,$e.firstChild)),Ue.state.loading|=4}}var Ty={$$typeof:Ge,Provider:null,Consumer:null,_currentValue:zs,_currentValue2:zs,_threadCount:0};function Y_($e,Ue,Ze,ss,cs,vs,$s,Qs){this.tag=1,this.containerInfo=$e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=ss,this.onUncaughtError=cs,this.onCaughtError=vs,this.onRecoverableError=$s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Qs,this.incompleteTransitions=new Map}function uR($e,Ue,Ze,ss,cs,vs,$s,Qs,cr,yr,Gr,si){return $e=new Y_($e,Ue,Ze,$s,Qs,cr,yr,si),Ue=1,vs===!0&&(Ue|=24),vs=Ku(3,null,null,Ue),$e.current=vs,vs.stateNode=$e,Ue=ig(),Ue.refCount++,$e.pooledCache=Ue,Ue.refCount++,vs.memoizedState={element:ss,isDehydrated:Ze,cache:Ue},M2(vs),$e}function dR($e){return $e?($e=el,$e):el}function hR($e,Ue,Ze,ss,cs,vs){cs=dR(cs),ss.context===null?ss.context=cs:ss.pendingContext=cs,ss=tm(Ue),ss.payload={element:Ze},vs=vs===void 0?null:vs,vs!==null&&(ss.callback=vs),Ze=sm($e,ss,Ue),Ze!==null&&(ic(Ze,$e,Ue),my(Ze,$e,Ue))}function pR($e,Ue){if($e=$e.memoizedState,$e!==null&&$e.dehydrated!==null){var Ze=$e.retryLane;$e.retryLane=Ze!==0&&Ze<Ue?Ze:Ue}}function Rj($e,Ue){pR($e,Ue),($e=$e.alternate)&&pR($e,Ue)}function mR($e){if($e.tag===13){var Ue=Qo($e,67108864);Ue!==null&&ic(Ue,$e,67108864),Rj($e,67108864)}}var xb=!0;function X_($e,Ue,Ze,ss){var cs=xs.T;xs.T=null;var vs=ks.p;try{ks.p=2,_j($e,Ue,Ze,ss)}finally{ks.p=vs,xs.T=cs}}function J_($e,Ue,Ze,ss){var cs=xs.T;xs.T=null;var vs=ks.p;try{ks.p=8,_j($e,Ue,Ze,ss)}finally{ks.p=vs,xs.T=cs}}function _j($e,Ue,Ze,ss){if(xb){var cs=Sj(ss);if(cs===null)pj($e,Ue,ss,gb,Ze),xR($e,ss);else if(eS(cs,$e,Ue,Ze,ss))ss.stopPropagation();else if(xR($e,ss),Ue&4&&-1<Q_.indexOf($e)){for(;cs!==null;){var vs=gl(cs);if(vs!==null)switch(vs.tag){case 3:if(vs=vs.stateNode,vs.current.memoizedState.isDehydrated){var $s=ii(vs.pendingLanes);if($s!==0){var Qs=vs;for(Qs.pendingLanes|=2,Qs.entangledLanes|=2;$s;){var cr=1<<31-Sr($s);Qs.entanglements[1]|=cr,$s&=~cr}ih(vs),(Aa&6)===0&&(Qv=Ar()+500,_y(0))}}break;case 13:Qs=Qo(vs,2),Qs!==null&&ic(Qs,vs,2),sb(),Rj(vs,2)}if(vs=Sj(ss),vs===null&&pj($e,Ue,ss,gb,Ze),vs===cs)break;cs=vs}cs!==null&&ss.stopPropagation()}else pj($e,Ue,ss,null,Ze)}}function Sj($e){return $e=xc($e),Nj($e)}var gb=null;function Nj($e){if(gb=null,$e=xl($e),$e!==null){var Ue=ps($e);if(Ue===null)$e=null;else{var Ze=Ue.tag;if(Ze===13){if($e=_s(Ue),$e!==null)return $e;$e=null}else if(Ze===3){if(Ue.stateNode.current.memoizedState.isDehydrated)return Ue.tag===3?Ue.stateNode.containerInfo:null;$e=null}else Ue!==$e&&($e=null)}}return gb=$e,null}function fR($e){switch($e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pr()){case vr:return 2;case Mr:return 8;case Qr:case Ur:return 32;case ti:return 268435456;default:return 32}default:return 32}}var Aj=!1,cm=null,um=null,dm=null,ky=new Map,Dy=new Map,hm=[],Q_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function xR($e,Ue){switch($e){case"focusin":case"focusout":cm=null;break;case"dragenter":case"dragleave":um=null;break;case"mouseover":case"mouseout":dm=null;break;case"pointerover":case"pointerout":ky.delete(Ue.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dy.delete(Ue.pointerId)}}function Ly($e,Ue,Ze,ss,cs,vs){return $e===null||$e.nativeEvent!==vs?($e={blockedOn:Ue,domEventName:Ze,eventSystemFlags:ss,nativeEvent:vs,targetContainers:[cs]},Ue!==null&&(Ue=gl(Ue),Ue!==null&&mR(Ue)),$e):($e.eventSystemFlags|=ss,Ue=$e.targetContainers,cs!==null&&Ue.indexOf(cs)===-1&&Ue.push(cs),$e)}function eS($e,Ue,Ze,ss,cs){switch(Ue){case"focusin":return cm=Ly(cm,$e,Ue,Ze,ss,cs),!0;case"dragenter":return um=Ly(um,$e,Ue,Ze,ss,cs),!0;case"mouseover":return dm=Ly(dm,$e,Ue,Ze,ss,cs),!0;case"pointerover":var vs=cs.pointerId;return ky.set(vs,Ly(ky.get(vs)||null,$e,Ue,Ze,ss,cs)),!0;case"gotpointercapture":return vs=cs.pointerId,Dy.set(vs,Ly(Dy.get(vs)||null,$e,Ue,Ze,ss,cs)),!0}return!1}function gR($e){var Ue=xl($e.target);if(Ue!==null){var Ze=ps(Ue);if(Ze!==null){if(Ue=Ze.tag,Ue===13){if(Ue=_s(Ze),Ue!==null){$e.blockedOn=Ue,aa($e.priority,function(){if(Ze.tag===13){var ss=ou(),cs=Qo(Ze,ss);cs!==null&&ic(cs,Ze,ss),Rj(Ze,ss)}});return}}else if(Ue===3&&Ze.stateNode.current.memoizedState.isDehydrated){$e.blockedOn=Ze.tag===3?Ze.stateNode.containerInfo:null;return}}}$e.blockedOn=null}function yb($e){if($e.blockedOn!==null)return!1;for(var Ue=$e.targetContainers;0<Ue.length;){var Ze=Sj($e.nativeEvent);if(Ze===null){Ze=$e.nativeEvent;var ss=new Ze.constructor(Ze.type,Ze);ku=ss,Ze.target.dispatchEvent(ss),ku=null}else return Ue=gl(Ze),Ue!==null&&mR(Ue),$e.blockedOn=Ze,!1;Ue.shift()}return!0}function yR($e,Ue,Ze){yb($e)&&Ze.delete(Ue)}function tS(){Aj=!1,cm!==null&&yb(cm)&&(cm=null),um!==null&&yb(um)&&(um=null),dm!==null&&yb(dm)&&(dm=null),ky.forEach(yR),Dy.forEach(yR)}function vb($e,Ue){$e.blockedOn===Ue&&($e.blockedOn=null,Aj||(Aj=!0,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,tS)))}var bb=null;function vR($e){bb!==$e&&(bb=$e,Re.unstable_scheduleCallback(Re.unstable_NormalPriority,function(){bb===$e&&(bb=null);for(var Ue=0;Ue<$e.length;Ue+=3){var Ze=$e[Ue],ss=$e[Ue+1],cs=$e[Ue+2];if(typeof ss!="function"){if(Nj(ss||Ze)===null)continue;break}var vs=gl(Ze);vs!==null&&($e.splice(Ue,3),Ue-=3,cg(vs,{pending:!0,data:cs,method:Ze.method,action:ss},ss,cs))}}))}function My($e){function Ue(cr){return vb(cr,$e)}cm!==null&&vb(cm,$e),um!==null&&vb(um,$e),dm!==null&&vb(dm,$e),ky.forEach(Ue),Dy.forEach(Ue);for(var Ze=0;Ze<hm.length;Ze++){var ss=hm[Ze];ss.blockedOn===$e&&(ss.blockedOn=null)}for(;0<hm.length&&(Ze=hm[0],Ze.blockedOn===null);)gR(Ze),Ze.blockedOn===null&&hm.shift();if(Ze=($e.ownerDocument||$e).$$reactFormReplay,Ze!=null)for(ss=0;ss<Ze.length;ss+=3){var cs=Ze[ss],vs=Ze[ss+1],$s=cs[Pn]||null;if(typeof vs=="function")$s||vR(Ze);else if($s){var Qs=null;if(vs&&vs.hasAttribute("formAction")){if(cs=vs,$s=vs[Pn]||null)Qs=$s.formAction;else if(Nj(cs)!==null)continue}else Qs=$s.action;typeof Qs=="function"?Ze[ss+1]=Qs:(Ze.splice(ss,3),ss-=3),vR(Ze)}}}function Cj($e){this._internalRoot=$e}jb.prototype.render=Cj.prototype.render=function($e){var Ue=this._internalRoot;if(Ue===null)throw Error(Ce(409));var Ze=Ue.current,ss=ou();hR(Ze,ss,$e,Ue,null,null)},jb.prototype.unmount=Cj.prototype.unmount=function(){var $e=this._internalRoot;if($e!==null){this._internalRoot=null;var Ue=$e.containerInfo;$e.tag===0&&jg(),hR($e.current,2,null,$e,null,null),sb(),Ue[Va]=null}};function jb($e){this._internalRoot=$e}jb.prototype.unstable_scheduleHydration=function($e){if($e){var Ue=ci();$e={blockedOn:null,target:$e,priority:Ue};for(var Ze=0;Ze<hm.length&&Ue!==0&&Ue<hm[Ze].priority;Ze++);hm.splice(Ze,0,$e),Ze===0&&gR($e)}};var bR=e.version;if(bR!=="19.0.0")throw Error(Ce(527,bR,"19.0.0"));ks.findDOMNode=function($e){var Ue=$e._reactInternals;if(Ue===void 0)throw typeof $e.render=="function"?Error(Ce(188)):($e=Object.keys($e).join(","),Error(Ce(268,$e)));return $e=js(Ue),$e=$e!==null?ms($e):null,$e=$e===null?null:$e.stateNode,$e};var sS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:xs,findFiberByHostInstance:xl,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Eb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Eb.isDisabled&&Eb.supportsFiber)try{_i=Eb.inject(sS),mi=Eb}catch{}}return reactDomClient_production.createRoot=function($e,Ue){if(!Te($e))throw Error(Ce(299));var Ze=!1,ss="",cs=dy,vs=Gv,$s=pg,Qs=null;return Ue!=null&&(Ue.unstable_strictMode===!0&&(Ze=!0),Ue.identifierPrefix!==void 0&&(ss=Ue.identifierPrefix),Ue.onUncaughtError!==void 0&&(cs=Ue.onUncaughtError),Ue.onCaughtError!==void 0&&(vs=Ue.onCaughtError),Ue.onRecoverableError!==void 0&&($s=Ue.onRecoverableError),Ue.unstable_transitionCallbacks!==void 0&&(Qs=Ue.unstable_transitionCallbacks)),Ue=uR($e,1,!1,null,null,Ze,ss,cs,vs,$s,Qs,null),$e[Va]=Ue.current,hj($e.nodeType===8?$e.parentNode:$e),new Cj(Ue)},reactDomClient_production.hydrateRoot=function($e,Ue,Ze){if(!Te($e))throw Error(Ce(299));var ss=!1,cs="",vs=dy,$s=Gv,Qs=pg,cr=null,yr=null;return Ze!=null&&(Ze.unstable_strictMode===!0&&(ss=!0),Ze.identifierPrefix!==void 0&&(cs=Ze.identifierPrefix),Ze.onUncaughtError!==void 0&&(vs=Ze.onUncaughtError),Ze.onCaughtError!==void 0&&($s=Ze.onCaughtError),Ze.onRecoverableError!==void 0&&(Qs=Ze.onRecoverableError),Ze.unstable_transitionCallbacks!==void 0&&(cr=Ze.unstable_transitionCallbacks),Ze.formState!==void 0&&(yr=Ze.formState)),Ue=uR($e,1,!0,Ue,Ze??null,ss,cs,vs,$s,Qs,cr,yr),Ue.context=dR(null),Ze=Ue.current,ss=ou(),cs=tm(ss),cs.callback=null,sm(Ze,cs,ss),Ue.current.lanes=ss,Xa(Ue,ss),ih(Ue),$e[Va]=Ue.current,hj($e),new jb(Ue)},reactDomClient_production.version="19.0.0",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function Re(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Re)}catch(e){console.error(e)}}return Re(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();const Logo1="/assets/Logo1-VXkHv6gn.png";/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const toKebabCase=Re=>Re.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),toCamelCase$1=Re=>Re.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,Ee,Ce)=>Ce?Ce.toUpperCase():Ee.toLowerCase()),toPascalCase=Re=>{const e=toCamelCase$1(Re);return e.charAt(0).toUpperCase()+e.slice(1)},mergeClasses=(...Re)=>Re.filter((e,Ee,Ce)=>!!e&&e.trim()!==""&&Ce.indexOf(e)===Ee).join(" ").trim();/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Icon=reactExports.forwardRef(({color:Re="currentColor",size:e=24,strokeWidth:Ee=2,absoluteStrokeWidth:Ce,className:Te="",children:De,iconNode:Me,...Oe},Be)=>reactExports.createElement("svg",{ref:Be,...defaultAttributes,width:e,height:e,stroke:Re,strokeWidth:Ce?Number(Ee)*24/Number(e):Ee,className:mergeClasses("lucide",Te),...Oe},[...Me.map(([ze,Ve])=>reactExports.createElement(ze,Ve)),...Array.isArray(De)?De:[De]]));/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const createLucideIcon=(Re,e)=>{const Ee=reactExports.forwardRef(({className:Ce,...Te},De)=>reactExports.createElement(Icon,{ref:De,iconNode:e,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(Re))}`,`lucide-${Re}`,Ce),...Te}));return Ee.displayName=toPascalCase(Re),Ee};/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1j=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],ArrowRight=createLucideIcon("arrow-right",__iconNode$1j);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1i=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],BellRing=createLucideIcon("bell-ring",__iconNode$1i);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1h=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Bell=createLucideIcon("bell",__iconNode$1h);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1g=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Briefcase=createLucideIcon("briefcase",__iconNode$1g);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1f=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Building2=createLucideIcon("building-2",__iconNode$1f);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1e=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Building=createLucideIcon("building",__iconNode$1e);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1d=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Calendar=createLucideIcon("calendar",__iconNode$1d);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1c=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Check=createLucideIcon("check",__iconNode$1c);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1b=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$1b);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1a=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ChevronLeft=createLucideIcon("chevron-left",__iconNode$1a);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$19=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon("chevron-right",__iconNode$19);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$18=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],ChevronsRight=createLucideIcon("chevrons-right",__iconNode$18);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$17=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CircleAlert=createLucideIcon("circle-alert",__iconNode$17);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$16=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CircleCheckBig=createLucideIcon("circle-check-big",__iconNode$16);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$15=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],CircleCheck=createLucideIcon("circle-check",__iconNode$15);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$14=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],CirclePlay=createLucideIcon("circle-play",__iconNode$14);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$13=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],CirclePlus=createLucideIcon("circle-plus",__iconNode$13);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$12=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],CircleX=createLucideIcon("circle-x",__iconNode$12);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$11=[["path",{d:"M20.2 6 3 11l-.9-2.4c-.3-1.1.3-2.2 1.3-2.5l13.5-4c1.1-.3 2.2.3 2.5 1.3Z",key:"1tn4o7"}],["path",{d:"m6.2 5.3 3.1 3.9",key:"iuk76l"}],["path",{d:"m12.4 3.4 3.1 4",key:"6hsd6n"}],["path",{d:"M3 11h18v8a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2Z",key:"ltgou9"}]],Clapperboard=createLucideIcon("clapperboard",__iconNode$11);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$10=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Clock=createLucideIcon("clock",__iconNode$10);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$$=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],CreditCard=createLucideIcon("credit-card",__iconNode$$);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$_=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Download=createLucideIcon("download",__iconNode$_);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Z=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],EyeOff=createLucideIcon("eye-off",__iconNode$Z);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Y=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],ExternalLink=createLucideIcon("external-link",__iconNode$Y);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$X=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Eye=createLucideIcon("eye",__iconNode$X);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$W=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Facebook=createLucideIcon("facebook",__iconNode$W);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$V=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],FileCheck=createLucideIcon("file-check",__iconNode$V);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$U=[["path",{d:"m18 5-2.414-2.414A2 2 0 0 0 14.172 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2",key:"142zxg"}],["path",{d:"M21.378 12.626a1 1 0 0 0-3.004-3.004l-4.01 4.012a2 2 0 0 0-.506.854l-.837 2.87a.5.5 0 0 0 .62.62l2.87-.837a2 2 0 0 0 .854-.506z",key:"2t3380"}],["path",{d:"M8 18h1",key:"13wk12"}]],FilePenLine=createLucideIcon("file-pen-line",__iconNode$U);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$T=[["path",{d:"M21 7h-3a2 2 0 0 1-2-2V2",key:"9rb54x"}],["path",{d:"M21 6v6.5c0 .8-.7 1.5-1.5 1.5h-7c-.8 0-1.5-.7-1.5-1.5v-9c0-.8.7-1.5 1.5-1.5H17Z",key:"1059l0"}],["path",{d:"M7 8v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H15",key:"16874u"}],["path",{d:"M3 12v8.8c0 .3.2.6.4.8.2.2.5.4.8.4H11",key:"k2ox98"}]],FileStack=createLucideIcon("file-stack",__iconNode$T);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$S=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FileText=createLucideIcon("file-text",__iconNode$S);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$R=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],File$2=createLucideIcon("file",__iconNode$R);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$Q=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M7 3v18",key:"bbkbws"}],["path",{d:"M3 7.5h4",key:"zfgn84"}],["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 16.5h4",key:"1230mu"}],["path",{d:"M17 3v18",key:"in4fa5"}],["path",{d:"M17 7.5h4",key:"myr1c1"}],["path",{d:"M17 16.5h4",key:"go4c1d"}]],Film=createLucideIcon("film",__iconNode$Q);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$P=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Funnel=createLucideIcon("funnel",__iconNode$P);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$O=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Globe=createLucideIcon("globe",__iconNode$O);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$N=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],GraduationCap=createLucideIcon("graduation-cap",__iconNode$N);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$M=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Hash=createLucideIcon("hash",__iconNode$M);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$L=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Image$1=createLucideIcon("image",__iconNode$L);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$K=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Info=createLucideIcon("info",__iconNode$K);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$J=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],Instagram=createLucideIcon("instagram",__iconNode$J);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$I=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Key=createLucideIcon("key",__iconNode$I);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$H=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Layers=createLucideIcon("layers",__iconNode$H);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$G=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],LayoutDashboard=createLucideIcon("layout-dashboard",__iconNode$G);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$F=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Link=createLucideIcon("link",__iconNode$F);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$E=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],Linkedin=createLucideIcon("linkedin",__iconNode$E);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$D=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],LoaderCircle=createLucideIcon("loader-circle",__iconNode$D);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$C=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Loader=createLucideIcon("loader",__iconNode$C);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$B=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Lock=createLucideIcon("lock",__iconNode$B);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$A=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],LogIn=createLucideIcon("log-in",__iconNode$A);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$z=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],LogOut=createLucideIcon("log-out",__iconNode$z);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$y=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Mail=createLucideIcon("mail",__iconNode$y);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$x=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],MapPin=createLucideIcon("map-pin",__iconNode$x);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$w=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Menu=createLucideIcon("menu",__iconNode$w);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$v=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],MessageSquare=createLucideIcon("message-square",__iconNode$v);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$u=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Package=createLucideIcon("package",__iconNode$u);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$t=[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]],Palette=createLucideIcon("palette",__iconNode$t);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$s=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],PenLine=createLucideIcon("pen-line",__iconNode$s);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$r=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Pen=createLucideIcon("pen",__iconNode$r);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$q=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],Pencil=createLucideIcon("pencil",__iconNode$q);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$p=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Phone=createLucideIcon("phone",__iconNode$p);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$o=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],Play=createLucideIcon("play",__iconNode$o);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$n=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Plus=createLucideIcon("plus",__iconNode$n);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$m=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],RefreshCcw=createLucideIcon("refresh-ccw",__iconNode$m);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$l=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],RefreshCw=createLucideIcon("refresh-cw",__iconNode$l);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$k=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Save=createLucideIcon("save",__iconNode$k);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$j=[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]],ScrollText=createLucideIcon("scroll-text",__iconNode$j);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$i=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Search=createLucideIcon("search",__iconNode$i);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$h=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Send=createLucideIcon("send",__iconNode$h);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$g=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ShieldCheck=createLucideIcon("shield-check",__iconNode$g);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$f=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Sparkles=createLucideIcon("sparkles",__iconNode$f);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$e=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],SquarePen=createLucideIcon("square-pen",__iconNode$e);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$d=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M19.27 13.73A2.5 2.5 0 0 0 17.5 13h-11A2.5 2.5 0 0 0 4 15.5V17a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1v-1.5c0-.66-.26-1.3-.73-1.77Z",key:"1sy9ra"}],["path",{d:"M14 13V8.5C14 7 15 7 15 5a3 3 0 0 0-3-3c-1.66 0-3 1-3 3s1 2 1 3.5V13",key:"cnxgux"}]],Stamp=createLucideIcon("stamp",__iconNode$d);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$c=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Star=createLucideIcon("star",__iconNode$c);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$b=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],Store=createLucideIcon("store",__iconNode$b);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$a=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Tag=createLucideIcon("tag",__iconNode$a);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$9=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Trash2=createLucideIcon("trash-2",__iconNode$9);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$8=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TriangleAlert=createLucideIcon("triangle-alert",__iconNode$8);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$7=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],Twitter=createLucideIcon("twitter",__iconNode$7);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$6=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],Upload=createLucideIcon("upload",__iconNode$6);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$5=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],UserPlus=createLucideIcon("user-plus",__iconNode$5);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],User=createLucideIcon("user",__iconNode$4);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$3=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],Users=createLucideIcon("users",__iconNode$3);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$2=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],Video=createLucideIcon("video",__iconNode$2);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode$1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],X$1=createLucideIcon("x",__iconNode$1);/**
 * @license lucide-react v0.485.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const __iconNode=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]],ZoomIn=createLucideIcon("zoom-in",__iconNode),Navbar=()=>{const[Re,e]=reactExports.useState(!1),[Ee,Ce]=reactExports.useState(!1),[Te,De]=reactExports.useState(window.pageYOffset),[Me,Oe]=reactExports.useState(!0),[Be,ze]=reactExports.useState(!1),[Ve,qe]=reactExports.useState(!1),[We,Ge]=reactExports.useState(!1),[Je,Qe]=reactExports.useState(!1),[ns,Ye]=reactExports.useState(!1),[rs,ts]=reactExports.useState(!1),Xe=useNavigate(),is=useLocation(),os=(ds,gs=1200)=>{const Ts=window.pageYOffset,Ms=ds.getBoundingClientRect().top+Ts-Ts;let bs=null;const Ns=_s=>_s<.5?2*_s*_s:-1+(4-2*_s)*_s,ps=_s=>{bs||(bs=_s);const ws=_s-bs,js=Math.min(ws/gs,1),ms=Ns(js);window.scrollTo(0,Ts+Ms*ms),ws<gs&&requestAnimationFrame(ps)};requestAnimationFrame(ps)},hs=ds=>{if(!(ds==="notice"||ds==="documents"||ds==="home")){if(is.pathname!=="/")Xe("/",{state:{scrollTo:ds}});else{const gs=document.getElementById(ds);gs&&os(gs,2200)}Ee&&Ce(!1)}},fs=()=>{is.pathname!=="/"?Xe("/"):window.scrollTo({top:0,behavior:"smooth"}),Ce(!1)},xs=()=>{if(is.pathname!=="/apply-noc")Xe("/login");else{const ds=document.getElementById("FilmPolicy");ds&&ds.scrollIntoView({behavior:"smooth"})}};reactExports.useEffect(()=>{setTimeout(()=>e(!0),1e3);const ds=()=>{const gs=window.pageYOffset,Ts=Te>gs;gs===0?(Oe(!0),ze(!1)):(Oe(Ts),ze(!0)),De(gs)};return window.addEventListener("scroll",ds),()=>window.removeEventListener("scroll",ds)},[Te]),reactExports.useEffect(()=>(Ee?document.body.style.overflow="hidden":document.body.style.overflow="auto",()=>{document.body.style.overflow="auto"}),[Ee]);const Ss=[{id:"Vr",label:"VR"}];return jsxRuntimeExports.jsx("nav",{className:`fixed top-0 left-0 w-full z-50 transition-opacity duration-500 ${Re?"opacity-100":"opacity-0"} ${Me?"transform-none":"-translate-y-full"} group`,children:jsxRuntimeExports.jsxs("div",{className:`px-4 sm:px-6 lg:px-16 py-2 md:py-3 relative transition-colors duration-300 ${Me&&Be?"bg-white":"bg-transparent"}`,children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 w-full h-full bg-white opacity-0 group-hover:opacity-100 z-0 pointer-events-none transition-opacity duration-300"}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center relative z-10",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center cursor-pointer",onClick:fs,children:jsxRuntimeExports.jsx("img",{src:Logo1,alt:"logo",className:"h-14 w-20 md:h-16 md:w-24"})}),jsxRuntimeExports.jsxs("ul",{className:`hidden md:flex items-center gap-6 text-base relative z-10 transition-colors duration-300 ${Me&&Be?"text-black":"text-white"} group-hover:text-black`,children:[jsxRuntimeExports.jsx("li",{className:"relative cursor-pointer hover:text-red-600 font-semibold transition flex items-center",onClick:fs,children:"Home"}),jsxRuntimeExports.jsxs("li",{className:"relative cursor-pointer hover:text-red-600 font-semibold transition flex items-center",onMouseEnter:()=>Ge(!0),onMouseLeave:()=>Ge(!1),children:["About Us ",jsxRuntimeExports.jsx(ChevronDown,{size:16,className:"ml-1"}),We&&jsxRuntimeExports.jsxs("ul",{className:"absolute top-full left-0 w-40 bg-white text-black shadow-lg rounded-md overflow-hidden z-50",children:[jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/about-us"),Ce(!1)},className:"px-4 py-2 hover:bg-gray-200 hover:text-red-600",children:"BSFDFC Profile"}),jsxRuntimeExports.jsx("li",{onClick:()=>hs("GoverningBody"),className:"px-4 py-2 hover:bg-gray-200 hover:text-red-600",children:"Board of Directors"}),jsxRuntimeExports.jsx("li",{onClick:()=>hs("GoverningBody"),className:"px-4 py-2 hover:bg-gray-200 hover:text-red-600",children:"Organization structure"}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/contact-bsfdfc"),Ce(!1)},className:"px-4 py-2 hover:bg-gray-200 hover:text-red-600",children:"Contact Us"}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/gallery"),Ce(!1)},className:"px-4 py-2 hover:bg-gray-200 hover:text-red-600",children:"Gallery"})]})]}),Ss.map(ds=>jsxRuntimeExports.jsx("li",{onClick:()=>hs(ds.id),className:"cursor-pointer hover:text-red-600 font-semibold transition",children:ds.label},ds.id)),jsxRuntimeExports.jsxs("li",{className:"relative cursor-pointer hover:text-red-600 font-semibold transition flex items-center",onMouseEnter:()=>Qe(!0),onMouseLeave:()=>Qe(!1),children:["Policy & Forms",jsxRuntimeExports.jsx(ChevronDown,{size:16,className:"ml-1"}),Je&&jsxRuntimeExports.jsxs("ul",{className:"absolute top-full left-0 w-56 bg-white text-black shadow-lg rounded-md overflow-hidden z-50",children:[jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/document/film-policy"),Ce(!1)},className:"px-4 py-2 hover:bg-gray-200 hover:text-red-600",children:"Film Policy"}),jsxRuntimeExports.jsx("li",{className:"px-4 py-2 hover:bg-gray-200 hover:text-red-600",children:jsxRuntimeExports.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSddl9uk7rqu-_fl6N4U_vgYXlrL_pwUTQaY5Mm8AqjB4NRSYQ/viewform",target:"_blank",rel:"noopener noreferrer",onClick:()=>Ce(!1),className:"block w-full h-full",children:"Producer Registration Form"})}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/document/op-guidelines"),Ce(!1)},className:"px-4 py-2 hover:bg-gray-200 hover:text-red-600",children:"Operational Guidelines"}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/howToShootingPermission"),Ce(!1)},className:"px-4 py-2 hover:bg-gray-200 hover:text-red-600",children:"How to Apply for Shooting Permission"}),jsxRuntimeExports.jsx("li",{onClick:()=>{const ds=document.createElement("a");ds.href="/moa.pdf",ds.download="moa.pdf",ds.click()},className:"px-4 py-2 hover:bg-gray-200 hover:text-red-600",children:"MOA"})]})]}),jsxRuntimeExports.jsxs("li",{className:"relative cursor-pointer hover:text-red-600 font-semibold transition flex items-center",onMouseEnter:()=>ts(!0),onMouseLeave:()=>ts(!1),children:["Cinema Ecosystem ",jsxRuntimeExports.jsx(ChevronDown,{size:16,className:"ml-1"}),rs&&jsxRuntimeExports.jsxs("ul",{className:"absolute top-full left-0 w-56 bg-white text-black shadow-lg rounded-md overflow-hidden z-50",children:[jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/",{state:{scrollTo:"Cinemaecosystem",openPopup:"map"}}),Ce(!1)},className:"px-4 py-2 hover:bg-gray-200 hover:text-red-600",children:"Production Assets"}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/",{state:{scrollTo:"Cinemaecosystem",openPopup:"localArtist"}}),Ce(!1)},className:"px-4 py-2 hover:bg-gray-200 hover:text-red-600",children:"Local Artist"}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/",{state:{scrollTo:"Cinemaecosystem",openPopup:"security"}}),Ce(!1)},className:"px-4 py-2 hover:bg-gray-200 hover:text-red-600",children:"Local Technicians & Manpower"})]})]}),jsxRuntimeExports.jsxs("li",{className:"relative cursor-pointer hover:text-red-600 font-semibold transition flex items-center",onMouseEnter:()=>Ye(!0),onMouseLeave:()=>Ye(!1),children:["Impact ",jsxRuntimeExports.jsx(ChevronDown,{size:16,className:"ml-1"}),ns&&jsxRuntimeExports.jsxs("ul",{className:"absolute top-full left-0 w-56 bg-white text-black shadow-lg rounded-md overflow-hidden z-50",children:[jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/shooting-in-bihar"),Ce(!1)},className:"px-4 py-2 hover:bg-gray-200 hover:text-red-600",children:"Shooting in Bihar"}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/scholarship"),Ce(!1)},className:"px-4 py-2 hover:bg-gray-200 hover:text-red-600",children:"Scholarship"})]})]}),jsxRuntimeExports.jsx("li",{className:"relative cursor-pointer hover:text-red-600 font-semibold transition flex items-center",onClick:()=>{Xe("/ShootingLocation"),Ce(!1)},children:"Shooting Location"}),jsxRuntimeExports.jsxs("li",{className:"relative cursor-pointer hover:text-red-600 font-semibold transition flex items-center",onMouseEnter:()=>qe(!0),onMouseLeave:()=>qe(!1),children:["Documents ",jsxRuntimeExports.jsx(ChevronDown,{size:16,className:"ml-1"}),Ve&&jsxRuntimeExports.jsxs("ul",{className:"absolute top-full left-0 w-56 bg-white text-black shadow-lg rounded-md overflow-hidden z-50",children:[jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/notification"),Ce(!1)},className:"px-4 py-2 hover:bg-gray-200 hover:text-red-600",children:"Notification"}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/tender"),Ce(!1)},className:"px-4 py-2 hover:bg-gray-200 hover:text-red-600",children:"Tender"}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/document/bihar-baiscope"),Ce(!1)},className:"px-4 py-2 hover:bg-gray-200 hover:text-red-600",children:"Bihar Bioscope"}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/document/goa-film-brochure"),Ce(!1)},className:"px-4 py-2 hover:bg-gray-200 hover:text-red-600",children:"Goa Film Brochure"}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/document/promotion-policy"),Ce(!1)},className:"px-4 py-2 hover:bg-gray-200 hover:text-red-600",children:"Promotion Policy"})]})]}),jsxRuntimeExports.jsxs("li",{onClick:xs,className:"flex items-center gap-1 cursor-pointer hover:text-red-600 font-semibold transition",children:["Register",jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:"currentColor",className:"w-5 h-5",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"})})]})]}),jsxRuntimeExports.jsx("div",{className:"md:hidden relative z-[60]",children:!Ee&&jsxRuntimeExports.jsx("button",{onClick:()=>Ce(!0),className:`p-2 rounded-md focus:outline-none transition-colors duration-300 ${Me&&Be?"text-black":"text-white"}`,children:jsxRuntimeExports.jsx(Menu,{size:28})})})]}),jsxRuntimeExports.jsxs("div",{className:`md:hidden fixed top-0 left-0 w-full h-screen bg-black text-white p-6 z-[40] shadow-xl overflow-y-auto overscroll-contain transform transition-transform duration-500 ease-in-out ${Ee?"translate-y-0":"-translate-y-full"}`,children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ce(!1),className:"absolute top-5 right-5 text-white hover:text-red-500",children:jsxRuntimeExports.jsx(X$1,{size:32})}),jsxRuntimeExports.jsxs("ul",{className:"flex flex-col gap-6 mt-16 text-lg font-semibold",children:[jsxRuntimeExports.jsx("li",{className:"text-gray-300 border-b border-gray-700 pb-1",children:"Home"}),jsxRuntimeExports.jsxs("ul",{className:"ml-4 flex flex-col gap-3",children:[jsxRuntimeExports.jsx("li",{onClick:fs,className:"cursor-pointer hover:text-red-500 transition-colors",children:"Main"}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/about-us"),Ce(!1)},className:"cursor-pointer hover:text-red-500 transition-colors",children:"About Us"}),jsxRuntimeExports.jsx("li",{onClick:()=>Ce(!1),className:"cursor-pointer hover:text-red-500 transition-colors",children:"Vision"}),jsxRuntimeExports.jsx("li",{onClick:()=>Ce(!1),className:"cursor-pointer hover:text-red-500 transition-colors",children:"Mission"}),jsxRuntimeExports.jsx("li",{onClick:()=>{hs("GoverningBody")},className:"cursor-pointer hover:text-red-500 transition-colors",children:"Team"})]}),Ss.map(ds=>jsxRuntimeExports.jsx("li",{onClick:()=>hs(ds.id),className:"cursor-pointer hover:text-red-500 transition-colors",children:ds.label},ds.id)),jsxRuntimeExports.jsx("li",{className:"mt-2 text-gray-300 border-b border-gray-700 pb-1",children:"Policy & Forms"}),jsxRuntimeExports.jsxs("ul",{className:"ml-4 flex flex-col gap-3",children:[jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/document/film-policy"),Ce(!1)},className:"cursor-pointer hover:text-red-500 transition-colors",children:"Film Policy"}),jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSddl9uk7rqu-_fl6N4U_vgYXlrL_pwUTQaY5Mm8AqjB4NRSYQ/viewform",target:"_blank",rel:"noopener noreferrer",onClick:()=>Ce(!1),className:"cursor-pointer hover:text-red-500 transition-colors block",children:"Producer Registration Form"})}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/document/op-guidelines"),Ce(!1)},className:"cursor-pointer hover:text-red-500 transition-colors",children:"Operational Guidelines"}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/howToShootingPermission"),Ce(!1)},className:"cursor-pointer hover:text-red-500 transition-colors",children:"How to Apply for Shooting Permission"}),jsxRuntimeExports.jsx("li",{onClick:()=>{const ds=document.createElement("a");ds.href="/moa.pdf",ds.download="moa.pdf",ds.click(),Ce(!1)},className:"cursor-pointer hover:text-red-500 transition-colors",children:"MOA"})]}),jsxRuntimeExports.jsx("li",{className:"mt-2 text-gray-300 border-b border-gray-700 pb-1",children:"Cinema Ecosystem"}),jsxRuntimeExports.jsxs("ul",{className:"ml-4 flex flex-col gap-3",children:[jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/",{state:{scrollTo:"Cinemaecosystem",openPopup:"map"}}),Ce(!1)},className:"cursor-pointer hover:text-red-500 transition-colors",children:"Production Assets"}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/",{state:{scrollTo:"Cinemaecosystem",openPopup:"localArtist"}}),Ce(!1)},className:"cursor-pointer hover:text-red-500 transition-colors",children:"Local Artist"}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/",{state:{scrollTo:"Cinemaecosystem",openPopup:"security"}}),Ce(!1)},className:"cursor-pointer hover:text-red-500 transition-colors",children:"Local Technicians & Manpower"})]}),jsxRuntimeExports.jsx("li",{className:"mt-2 text-gray-300 border-b border-gray-700 pb-1",children:"Impact"}),jsxRuntimeExports.jsxs("ul",{className:"ml-4 flex flex-col gap-3",children:[jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/shooting-in-bihar"),Ce(!1)},className:"cursor-pointer hover:text-red-500 transition-colors",children:"Shooting in Bihar"}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/scholarship"),Ce(!1)},className:"cursor-pointer hover:text-red-500 transition-colors",children:"Scholarship"})]}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/ShootingLocation"),Ce(!1)},className:"cursor-pointer hover:text-red-500 transition-colors",children:"Shooting Location"}),jsxRuntimeExports.jsx("li",{className:"mt-2 text-gray-300 border-b border-gray-700 pb-1",children:"Documents"}),jsxRuntimeExports.jsxs("ul",{className:"ml-4 flex flex-col gap-3",children:[jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/notification"),Ce(!1)},className:"cursor-pointer hover:text-red-500 transition-colors",children:"Notification"}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/tender"),Ce(!1)},className:"cursor-pointer hover:text-red-500 transition-colors",children:"Tender"}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/document/bihar-baiscope"),Ce(!1)},className:"cursor-pointer hover:text-red-500 transition-colors",children:"Bihar Bioscope"}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/document/goa-film-brochure"),Ce(!1)},className:"cursor-pointer hover:text-red-500 transition-colors",children:"Goa Film Brochure"}),jsxRuntimeExports.jsx("li",{onClick:()=>{Xe("/document/promotion-policy"),Ce(!1)},className:"cursor-pointer hover:text-red-500 transition-colors",children:"Promotion Policy"})]}),jsxRuntimeExports.jsx("li",{onClick:xs,className:"cursor-pointer hover:text-red-500 transition-colors mt-4",children:"Login"})]})]})]})})},LayoutGroupContext=reactExports.createContext({});function useConstant(Re){const e=reactExports.useRef(null);return e.current===null&&(e.current=Re()),e.current}const isBrowser$1=typeof window<"u",useIsomorphicLayoutEffect$1=isBrowser$1?reactExports.useLayoutEffect:reactExports.useEffect,PresenceContext=reactExports.createContext(null),MotionConfigContext=reactExports.createContext({transformPagePoint:Re=>Re,isStatic:!1,reducedMotion:"never"});class PopChildMeasure extends reactExports.Component{getSnapshotBeforeUpdate(e){const Ee=this.props.childRef.current;if(Ee&&e.isPresent&&!this.props.isPresent){const Ce=Ee.offsetParent,Te=Ce instanceof HTMLElement&&Ce.offsetWidth||0,De=this.props.sizeRef.current;De.height=Ee.offsetHeight||0,De.width=Ee.offsetWidth||0,De.top=Ee.offsetTop,De.left=Ee.offsetLeft,De.right=Te-De.width-De.left}return null}componentDidUpdate(){}render(){return this.props.children}}function PopChild({children:Re,isPresent:e,anchorX:Ee}){const Ce=reactExports.useId(),Te=reactExports.useRef(null),De=reactExports.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:Me}=reactExports.useContext(MotionConfigContext);return reactExports.useInsertionEffect(()=>{const{width:Oe,height:Be,top:ze,left:Ve,right:qe}=De.current;if(e||!Te.current||!Oe||!Be)return;const We=Ee==="left"?`left: ${Ve}`:`right: ${qe}`;Te.current.dataset.motionPopId=Ce;const Ge=document.createElement("style");return Me&&(Ge.nonce=Me),document.head.appendChild(Ge),Ge.sheet&&Ge.sheet.insertRule(`
          [data-motion-pop-id="${Ce}"] {
            position: absolute !important;
            width: ${Oe}px !important;
            height: ${Be}px !important;
            ${We}px !important;
            top: ${ze}px !important;
          }
        `),()=>{document.head.removeChild(Ge)}},[e]),jsxRuntimeExports.jsx(PopChildMeasure,{isPresent:e,childRef:Te,sizeRef:De,children:reactExports.cloneElement(Re,{ref:Te})})}const PresenceChild=({children:Re,initial:e,isPresent:Ee,onExitComplete:Ce,custom:Te,presenceAffectsLayout:De,mode:Me,anchorX:Oe})=>{const Be=useConstant(newChildrenMap),ze=reactExports.useId(),Ve=reactExports.useCallback(We=>{Be.set(We,!0);for(const Ge of Be.values())if(!Ge)return;Ce&&Ce()},[Be,Ce]),qe=reactExports.useMemo(()=>({id:ze,initial:e,isPresent:Ee,custom:Te,onExitComplete:Ve,register:We=>(Be.set(We,!1),()=>Be.delete(We))}),De?[Math.random(),Ve]:[Ee,Ve]);return reactExports.useMemo(()=>{Be.forEach((We,Ge)=>Be.set(Ge,!1))},[Ee]),reactExports.useEffect(()=>{!Ee&&!Be.size&&Ce&&Ce()},[Ee]),Me==="popLayout"&&(Re=jsxRuntimeExports.jsx(PopChild,{isPresent:Ee,anchorX:Oe,children:Re})),jsxRuntimeExports.jsx(PresenceContext.Provider,{value:qe,children:Re})};function newChildrenMap(){return new Map}function usePresence(Re=!0){const e=reactExports.useContext(PresenceContext);if(e===null)return[!0,null];const{isPresent:Ee,onExitComplete:Ce,register:Te}=e,De=reactExports.useId();reactExports.useEffect(()=>{if(Re)return Te(De)},[Re]);const Me=reactExports.useCallback(()=>Re&&Ce&&Ce(De),[De,Ce,Re]);return!Ee&&Ce?[!1,Me]:[!0]}const getChildKey=Re=>Re.key||"";function onlyElements(Re){const e=[];return reactExports.Children.forEach(Re,Ee=>{reactExports.isValidElement(Ee)&&e.push(Ee)}),e}const AnimatePresence=({children:Re,custom:e,initial:Ee=!0,onExitComplete:Ce,presenceAffectsLayout:Te=!0,mode:De="sync",propagate:Me=!1,anchorX:Oe="left"})=>{const[Be,ze]=usePresence(Me),Ve=reactExports.useMemo(()=>onlyElements(Re),[Re]),qe=Me&&!Be?[]:Ve.map(getChildKey),We=reactExports.useRef(!0),Ge=reactExports.useRef(Ve),Je=useConstant(()=>new Map),[Qe,ns]=reactExports.useState(Ve),[Ye,rs]=reactExports.useState(Ve);useIsomorphicLayoutEffect$1(()=>{We.current=!1,Ge.current=Ve;for(let is=0;is<Ye.length;is++){const os=getChildKey(Ye[is]);qe.includes(os)?Je.delete(os):Je.get(os)!==!0&&Je.set(os,!1)}},[Ye,qe.length,qe.join("-")]);const ts=[];if(Ve!==Qe){let is=[...Ve];for(let os=0;os<Ye.length;os++){const hs=Ye[os],fs=getChildKey(hs);qe.includes(fs)||(is.splice(os,0,hs),ts.push(hs))}return De==="wait"&&ts.length&&(is=ts),rs(onlyElements(is)),ns(Ve),null}const{forceRender:Xe}=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Ye.map(is=>{const os=getChildKey(is),hs=Me&&!Be?!1:Ve===Ye||qe.includes(os),fs=()=>{if(Je.has(os))Je.set(os,!0);else return;let xs=!0;Je.forEach(Ss=>{Ss||(xs=!1)}),xs&&(Xe==null||Xe(),rs(Ge.current),Me&&(ze==null||ze()),Ce&&Ce())};return jsxRuntimeExports.jsx(PresenceChild,{isPresent:hs,initial:!We.current||Ee?void 0:!1,custom:e,presenceAffectsLayout:Te,mode:De,onExitComplete:hs?void 0:fs,anchorX:Oe,children:is},os)})})};function addUniqueItem(Re,e){Re.indexOf(e)===-1&&Re.push(e)}function removeItem(Re,e){const Ee=Re.indexOf(e);Ee>-1&&Re.splice(Ee,1)}const noop$1=Re=>Re;let invariant$1=noop$1;const MotionGlobalConfig={useManualTiming:!1};function memo(Re){let e;return()=>(e===void 0&&(e=Re()),e)}const progress=(Re,e,Ee)=>{const Ce=e-Re;return Ce===0?1:(Ee-Re)/Ce};class SubscriptionManager{constructor(){this.subscriptions=[]}add(e){return addUniqueItem(this.subscriptions,e),()=>removeItem(this.subscriptions,e)}notify(e,Ee,Ce){const Te=this.subscriptions.length;if(Te)if(Te===1)this.subscriptions[0](e,Ee,Ce);else for(let De=0;De<Te;De++){const Me=this.subscriptions[De];Me&&Me(e,Ee,Ce)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const secondsToMilliseconds=Re=>Re*1e3,millisecondsToSeconds=Re=>Re/1e3;function velocityPerSecond(Re,e){return e?Re*(1e3/e):0}const supportsScrollTimeline=memo(()=>window.ScrollTimeline!==void 0);class BaseGroupPlaybackControls{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,Ee){for(let Ce=0;Ce<this.animations.length;Ce++)this.animations[Ce][e]=Ee}attachTimeline(e,Ee){const Ce=this.animations.map(Te=>{if(supportsScrollTimeline()&&Te.attachTimeline)return Te.attachTimeline(e);if(typeof Ee=="function")return Ee(Te)});return()=>{Ce.forEach((Te,De)=>{Te&&Te(),this.animations[De].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let Ee=0;Ee<this.animations.length;Ee++)e=Math.max(e,this.animations[Ee].duration);return e}runAll(e){this.animations.forEach(Ee=>Ee[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class GroupPlaybackControls extends BaseGroupPlaybackControls{then(e,Ee){return Promise.all(this.animations).then(e).catch(Ee)}}function getValueTransition(Re,e){return Re?Re[e]||Re.default||Re:void 0}const maxGeneratorDuration=2e4;function calcGeneratorDuration(Re){let e=0;const Ee=50;let Ce=Re.next(e);for(;!Ce.done&&e<maxGeneratorDuration;)e+=Ee,Ce=Re.next(e);return e>=maxGeneratorDuration?1/0:e}function isGenerator(Re){return typeof Re=="function"}function attachTimeline(Re,e){Re.timeline=e,Re.onfinish=null}const isBezierDefinition=Re=>Array.isArray(Re)&&typeof Re[0]=="number",supportsFlags={linearEasing:void 0};function memoSupports(Re,e){const Ee=memo(Re);return()=>{var Ce;return(Ce=supportsFlags[e])!==null&&Ce!==void 0?Ce:Ee()}}const supportsLinearEasing=memoSupports(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),generateLinearEasing=(Re,e,Ee=10)=>{let Ce="";const Te=Math.max(Math.round(e/Ee),2);for(let De=0;De<Te;De++)Ce+=Re(progress(0,Te-1,De))+", ";return`linear(${Ce.substring(0,Ce.length-2)})`};function isWaapiSupportedEasing(Re){return!!(typeof Re=="function"&&supportsLinearEasing()||!Re||typeof Re=="string"&&(Re in supportedWaapiEasing||supportsLinearEasing())||isBezierDefinition(Re)||Array.isArray(Re)&&Re.every(isWaapiSupportedEasing))}const cubicBezierAsString=([Re,e,Ee,Ce])=>`cubic-bezier(${Re}, ${e}, ${Ee}, ${Ce})`,supportedWaapiEasing={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cubicBezierAsString([0,.65,.55,1]),circOut:cubicBezierAsString([.55,0,1,.45]),backIn:cubicBezierAsString([.31,.01,.66,-.59]),backOut:cubicBezierAsString([.33,1.53,.69,.99])};function mapEasingToNativeEasing(Re,e){if(Re)return typeof Re=="function"&&supportsLinearEasing()?generateLinearEasing(Re,e):isBezierDefinition(Re)?cubicBezierAsString(Re):Array.isArray(Re)?Re.map(Ee=>mapEasingToNativeEasing(Ee,e)||supportedWaapiEasing.easeOut):supportedWaapiEasing[Re]}const stepsOrder=["read","resolveKeyframes","update","preRender","render","postRender"],statsBuffer={value:null};function createRenderStep(Re,e){let Ee=new Set,Ce=new Set,Te=!1,De=!1;const Me=new WeakSet;let Oe={delta:0,timestamp:0,isProcessing:!1},Be=0;function ze(qe){Me.has(qe)&&(Ve.schedule(qe),Re()),Be++,qe(Oe)}const Ve={schedule:(qe,We=!1,Ge=!1)=>{const Qe=Ge&&Te?Ee:Ce;return We&&Me.add(qe),Qe.has(qe)||Qe.add(qe),qe},cancel:qe=>{Ce.delete(qe),Me.delete(qe)},process:qe=>{if(Oe=qe,Te){De=!0;return}Te=!0,[Ee,Ce]=[Ce,Ee],Ee.forEach(ze),e&&statsBuffer.value&&statsBuffer.value.frameloop[e].push(Be),Be=0,Ee.clear(),Te=!1,De&&(De=!1,Ve.process(qe))}};return Ve}const maxElapsed=40;function createRenderBatcher(Re,e){let Ee=!1,Ce=!0;const Te={delta:0,timestamp:0,isProcessing:!1},De=()=>Ee=!0,Me=stepsOrder.reduce((Ye,rs)=>(Ye[rs]=createRenderStep(De,e?rs:void 0),Ye),{}),{read:Oe,resolveKeyframes:Be,update:ze,preRender:Ve,render:qe,postRender:We}=Me,Ge=()=>{const Ye=performance.now();Ee=!1,Te.delta=Ce?1e3/60:Math.max(Math.min(Ye-Te.timestamp,maxElapsed),1),Te.timestamp=Ye,Te.isProcessing=!0,Oe.process(Te),Be.process(Te),ze.process(Te),Ve.process(Te),qe.process(Te),We.process(Te),Te.isProcessing=!1,Ee&&e&&(Ce=!1,Re(Ge))},Je=()=>{Ee=!0,Ce=!0,Te.isProcessing||Re(Ge)};return{schedule:stepsOrder.reduce((Ye,rs)=>{const ts=Me[rs];return Ye[rs]=(Xe,is=!1,os=!1)=>(Ee||Je(),ts.schedule(Xe,is,os)),Ye},{}),cancel:Ye=>{for(let rs=0;rs<stepsOrder.length;rs++)Me[stepsOrder[rs]].cancel(Ye)},state:Te,steps:Me}}const{schedule:frame,cancel:cancelFrame,state:frameData,steps:frameSteps}=createRenderBatcher(typeof requestAnimationFrame<"u"?requestAnimationFrame:noop$1,!0),{schedule:microtask}=createRenderBatcher(queueMicrotask,!1);let now;function clearTime(){now=void 0}const time$2={now:()=>(now===void 0&&time$2.set(frameData.isProcessing||MotionGlobalConfig.useManualTiming?frameData.timestamp:performance.now()),now),set:Re=>{now=Re,queueMicrotask(clearTime)}},isDragging={x:!1,y:!1};function isDragActive(){return isDragging.x||isDragging.y}function setDragLock(Re){return Re==="x"||Re==="y"?isDragging[Re]?null:(isDragging[Re]=!0,()=>{isDragging[Re]=!1}):isDragging.x||isDragging.y?null:(isDragging.x=isDragging.y=!0,()=>{isDragging.x=isDragging.y=!1})}function resolveElements(Re,e,Ee){var Ce;if(Re instanceof EventTarget)return[Re];if(typeof Re=="string"){let Te=document;const De=(Ce=void 0)!==null&&Ce!==void 0?Ce:Te.querySelectorAll(Re);return De?Array.from(De):[]}return Array.from(Re)}function setupGesture(Re,e){const Ee=resolveElements(Re),Ce=new AbortController,Te={passive:!0,...e,signal:Ce.signal};return[Ee,Te,()=>Ce.abort()]}function isValidHover(Re){return!(Re.pointerType==="touch"||isDragActive())}function hover(Re,e,Ee={}){const[Ce,Te,De]=setupGesture(Re,Ee),Me=Oe=>{if(!isValidHover(Oe))return;const{target:Be}=Oe,ze=e(Be,Oe);if(typeof ze!="function"||!Be)return;const Ve=qe=>{isValidHover(qe)&&(ze(qe),Be.removeEventListener("pointerleave",Ve))};Be.addEventListener("pointerleave",Ve,Te)};return Ce.forEach(Oe=>{Oe.addEventListener("pointerenter",Me,Te)}),De}const isNodeOrChild=(Re,e)=>e?Re===e?!0:isNodeOrChild(Re,e.parentElement):!1,isPrimaryPointer=Re=>Re.pointerType==="mouse"?typeof Re.button!="number"||Re.button<=0:Re.isPrimary!==!1,focusableElements=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function isElementKeyboardAccessible(Re){return focusableElements.has(Re.tagName)||Re.tabIndex!==-1}const isPressing=new WeakSet;function filterEvents(Re){return e=>{e.key==="Enter"&&Re(e)}}function firePointerEvent(Re,e){Re.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const enableKeyboardPress=(Re,e)=>{const Ee=Re.currentTarget;if(!Ee)return;const Ce=filterEvents(()=>{if(isPressing.has(Ee))return;firePointerEvent(Ee,"down");const Te=filterEvents(()=>{firePointerEvent(Ee,"up")}),De=()=>firePointerEvent(Ee,"cancel");Ee.addEventListener("keyup",Te,e),Ee.addEventListener("blur",De,e)});Ee.addEventListener("keydown",Ce,e),Ee.addEventListener("blur",()=>Ee.removeEventListener("keydown",Ce),e)};function isValidPressEvent(Re){return isPrimaryPointer(Re)&&!isDragActive()}function press(Re,e,Ee={}){const[Ce,Te,De]=setupGesture(Re,Ee),Me=Oe=>{const Be=Oe.currentTarget;if(!isValidPressEvent(Oe)||isPressing.has(Be))return;isPressing.add(Be);const ze=e(Be,Oe),Ve=(Ge,Je)=>{window.removeEventListener("pointerup",qe),window.removeEventListener("pointercancel",We),!(!isValidPressEvent(Ge)||!isPressing.has(Be))&&(isPressing.delete(Be),typeof ze=="function"&&ze(Ge,{success:Je}))},qe=Ge=>{Ve(Ge,Be===window||Be===document||Ee.useGlobalTarget||isNodeOrChild(Be,Ge.target))},We=Ge=>{Ve(Ge,!1)};window.addEventListener("pointerup",qe,Te),window.addEventListener("pointercancel",We,Te)};return Ce.forEach(Oe=>{(Ee.useGlobalTarget?window:Oe).addEventListener("pointerdown",Me,Te),Oe instanceof HTMLElement&&(Oe.addEventListener("focus",ze=>enableKeyboardPress(ze,Te)),!isElementKeyboardAccessible(Oe)&&Oe.tabIndex===null&&(Oe.tabIndex=0))}),De}const MAX_VELOCITY_DELTA=30,isFloat=Re=>!isNaN(parseFloat(Re));class MotionValue{constructor(e,Ee={}){this.version="12.6.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(Ce,Te=!0)=>{const De=time$2.now();this.updatedAt!==De&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(Ce),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),Te&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=Ee.owner}setCurrent(e){this.current=e,this.updatedAt=time$2.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=isFloat(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,Ee){this.events[e]||(this.events[e]=new SubscriptionManager);const Ce=this.events[e].add(Ee);return e==="change"?()=>{Ce(),frame.read(()=>{this.events.change.getSize()||this.stop()})}:Ce}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,Ee){this.passiveEffect=e,this.stopPassiveEffect=Ee}set(e,Ee=!0){!Ee||!this.passiveEffect?this.updateAndNotify(e,Ee):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,Ee,Ce){this.set(Ee),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-Ce}jump(e,Ee=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,Ee&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=time$2.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>MAX_VELOCITY_DELTA)return 0;const Ee=Math.min(this.updatedAt-this.prevUpdatedAt,MAX_VELOCITY_DELTA);return velocityPerSecond(parseFloat(this.current)-parseFloat(this.prevFrameValue),Ee)}start(e){return this.stop(),new Promise(Ee=>{this.hasAnimated=!0,this.animation=e(Ee),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function motionValue(Re,e){return new MotionValue(Re,e)}const LazyContext=reactExports.createContext({strict:!1}),featureProps={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},featureDefinitions={};for(const Re in featureProps)featureDefinitions[Re]={isEnabled:e=>featureProps[Re].some(Ee=>!!e[Ee])};function loadFeatures(Re){for(const e in Re)featureDefinitions[e]={...featureDefinitions[e],...Re[e]}}const validMotionProps=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function isValidMotionProp(Re){return Re.startsWith("while")||Re.startsWith("drag")&&Re!=="draggable"||Re.startsWith("layout")||Re.startsWith("onTap")||Re.startsWith("onPan")||Re.startsWith("onLayout")||validMotionProps.has(Re)}let shouldForward=Re=>!isValidMotionProp(Re);function loadExternalIsValidProp(Re){Re&&(shouldForward=e=>e.startsWith("on")?!isValidMotionProp(e):Re(e))}try{loadExternalIsValidProp(require("@emotion/is-prop-valid").default)}catch{}function filterProps(Re,e,Ee){const Ce={};for(const Te in Re)Te==="values"&&typeof Re.values=="object"||(shouldForward(Te)||Ee===!0&&isValidMotionProp(Te)||!e&&!isValidMotionProp(Te)||Re.draggable&&Te.startsWith("onDrag"))&&(Ce[Te]=Re[Te]);return Ce}function createDOMMotionComponentProxy(Re){if(typeof Proxy>"u")return Re;const e=new Map,Ee=(...Ce)=>Re(...Ce);return new Proxy(Ee,{get:(Ce,Te)=>Te==="create"?Re:(e.has(Te)||e.set(Te,Re(Te)),e.get(Te))})}const MotionContext=reactExports.createContext({});function isAnimationControls(Re){return Re!==null&&typeof Re=="object"&&typeof Re.start=="function"}function isVariantLabel(Re){return typeof Re=="string"||Array.isArray(Re)}const variantPriorityOrder=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],variantProps=["initial",...variantPriorityOrder];function isControllingVariants(Re){return isAnimationControls(Re.animate)||variantProps.some(e=>isVariantLabel(Re[e]))}function isVariantNode(Re){return!!(isControllingVariants(Re)||Re.variants)}function getCurrentTreeVariants(Re,e){if(isControllingVariants(Re)){const{initial:Ee,animate:Ce}=Re;return{initial:Ee===!1||isVariantLabel(Ee)?Ee:void 0,animate:isVariantLabel(Ce)?Ce:void 0}}return Re.inherit!==!1?e:{}}function useCreateMotionContext(Re){const{initial:e,animate:Ee}=getCurrentTreeVariants(Re,reactExports.useContext(MotionContext));return reactExports.useMemo(()=>({initial:e,animate:Ee}),[variantLabelsAsDependency(e),variantLabelsAsDependency(Ee)])}function variantLabelsAsDependency(Re){return Array.isArray(Re)?Re.join(" "):Re}const motionComponentSymbol=Symbol.for("motionComponentSymbol");function isRefObject(Re){return Re&&typeof Re=="object"&&Object.prototype.hasOwnProperty.call(Re,"current")}function useMotionRef(Re,e,Ee){return reactExports.useCallback(Ce=>{Ce&&Re.onMount&&Re.onMount(Ce),e&&(Ce?e.mount(Ce):e.unmount()),Ee&&(typeof Ee=="function"?Ee(Ce):isRefObject(Ee)&&(Ee.current=Ce))},[e])}const camelToDash=Re=>Re.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),optimizedAppearDataId="framerAppearId",optimizedAppearDataAttribute="data-"+camelToDash(optimizedAppearDataId),SwitchLayoutGroupContext=reactExports.createContext({});function useVisualElement(Re,e,Ee,Ce,Te){var De,Me;const{visualElement:Oe}=reactExports.useContext(MotionContext),Be=reactExports.useContext(LazyContext),ze=reactExports.useContext(PresenceContext),Ve=reactExports.useContext(MotionConfigContext).reducedMotion,qe=reactExports.useRef(null);Ce=Ce||Be.renderer,!qe.current&&Ce&&(qe.current=Ce(Re,{visualState:e,parent:Oe,props:Ee,presenceContext:ze,blockInitialAnimation:ze?ze.initial===!1:!1,reducedMotionConfig:Ve}));const We=qe.current,Ge=reactExports.useContext(SwitchLayoutGroupContext);We&&!We.projection&&Te&&(We.type==="html"||We.type==="svg")&&createProjectionNode$1(qe.current,Ee,Te,Ge);const Je=reactExports.useRef(!1);reactExports.useInsertionEffect(()=>{We&&Je.current&&We.update(Ee,ze)});const Qe=Ee[optimizedAppearDataAttribute],ns=reactExports.useRef(!!Qe&&!(!((De=window.MotionHandoffIsComplete)===null||De===void 0)&&De.call(window,Qe))&&((Me=window.MotionHasOptimisedAnimation)===null||Me===void 0?void 0:Me.call(window,Qe)));return useIsomorphicLayoutEffect$1(()=>{We&&(Je.current=!0,window.MotionIsMounted=!0,We.updateFeatures(),microtask.render(We.render),ns.current&&We.animationState&&We.animationState.animateChanges())}),reactExports.useEffect(()=>{We&&(!ns.current&&We.animationState&&We.animationState.animateChanges(),ns.current&&(queueMicrotask(()=>{var Ye;(Ye=window.MotionHandoffMarkAsComplete)===null||Ye===void 0||Ye.call(window,Qe)}),ns.current=!1))}),We}function createProjectionNode$1(Re,e,Ee,Ce){const{layoutId:Te,layout:De,drag:Me,dragConstraints:Oe,layoutScroll:Be,layoutRoot:ze}=e;Re.projection=new Ee(Re.latestValues,e["data-framer-portal-id"]?void 0:getClosestProjectingNode(Re.parent)),Re.projection.setOptions({layoutId:Te,layout:De,alwaysMeasureLayout:!!Me||Oe&&isRefObject(Oe),visualElement:Re,animationType:typeof De=="string"?De:"both",initialPromotionConfig:Ce,layoutScroll:Be,layoutRoot:ze})}function getClosestProjectingNode(Re){if(Re)return Re.options.allowProjection!==!1?Re.projection:getClosestProjectingNode(Re.parent)}function createRendererMotionComponent({preloadedFeatures:Re,createVisualElement:e,useRender:Ee,useVisualState:Ce,Component:Te}){var De,Me;Re&&loadFeatures(Re);function Oe(ze,Ve){let qe;const We={...reactExports.useContext(MotionConfigContext),...ze,layoutId:useLayoutId(ze)},{isStatic:Ge}=We,Je=useCreateMotionContext(ze),Qe=Ce(ze,Ge);if(!Ge&&isBrowser$1){useStrictMode();const ns=getProjectionFunctionality(We);qe=ns.MeasureLayout,Je.visualElement=useVisualElement(Te,Qe,We,e,ns.ProjectionNode)}return jsxRuntimeExports.jsxs(MotionContext.Provider,{value:Je,children:[qe&&Je.visualElement?jsxRuntimeExports.jsx(qe,{visualElement:Je.visualElement,...We}):null,Ee(Te,ze,useMotionRef(Qe,Je.visualElement,Ve),Qe,Ge,Je.visualElement)]})}Oe.displayName=`motion.${typeof Te=="string"?Te:`create(${(Me=(De=Te.displayName)!==null&&De!==void 0?De:Te.name)!==null&&Me!==void 0?Me:""})`}`;const Be=reactExports.forwardRef(Oe);return Be[motionComponentSymbol]=Te,Be}function useLayoutId({layoutId:Re}){const e=reactExports.useContext(LayoutGroupContext).id;return e&&Re!==void 0?e+"-"+Re:Re}function useStrictMode(Re,e){reactExports.useContext(LazyContext).strict}function getProjectionFunctionality(Re){const{drag:e,layout:Ee}=featureDefinitions;if(!e&&!Ee)return{};const Ce={...e,...Ee};return{MeasureLayout:e!=null&&e.isEnabled(Re)||Ee!=null&&Ee.isEnabled(Re)?Ce.MeasureLayout:void 0,ProjectionNode:Ce.ProjectionNode}}const checkStringStartsWith=Re=>e=>typeof e=="string"&&e.startsWith(Re),isCSSVariableName=checkStringStartsWith("--"),startsAsVariableToken=checkStringStartsWith("var(--"),isCSSVariableToken=Re=>startsAsVariableToken(Re)?singleCssVariableRegex.test(Re.split("/*")[0].trim()):!1,singleCssVariableRegex=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,scaleCorrectors={};function addScaleCorrector(Re){for(const e in Re)scaleCorrectors[e]=Re[e],isCSSVariableName(e)&&(scaleCorrectors[e].isCSSVariable=!0)}const transformPropOrder=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],transformProps=new Set(transformPropOrder);function isForcedMotionValue(Re,{layout:e,layoutId:Ee}){return transformProps.has(Re)||Re.startsWith("origin")||(e||Ee!==void 0)&&(!!scaleCorrectors[Re]||Re==="opacity")}const isMotionValue=Re=>!!(Re&&Re.getVelocity),getValueAsType=(Re,e)=>e&&typeof Re=="number"?e.transform(Re):Re,clamp$1=(Re,e,Ee)=>Ee>e?e:Ee<Re?Re:Ee,number$2={test:Re=>typeof Re=="number",parse:parseFloat,transform:Re=>Re},alpha={...number$2,transform:Re=>clamp$1(0,1,Re)},scale={...number$2,default:1},createUnitType=Re=>({test:e=>typeof e=="string"&&e.endsWith(Re)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${Re}`}),degrees=createUnitType("deg"),percent=createUnitType("%"),px=createUnitType("px"),vh=createUnitType("vh"),vw=createUnitType("vw"),progressPercentage={...percent,parse:Re=>percent.parse(Re)/100,transform:Re=>percent.transform(Re*100)},browserNumberValueTypes={borderWidth:px,borderTopWidth:px,borderRightWidth:px,borderBottomWidth:px,borderLeftWidth:px,borderRadius:px,radius:px,borderTopLeftRadius:px,borderTopRightRadius:px,borderBottomRightRadius:px,borderBottomLeftRadius:px,width:px,maxWidth:px,height:px,maxHeight:px,top:px,right:px,bottom:px,left:px,padding:px,paddingTop:px,paddingRight:px,paddingBottom:px,paddingLeft:px,margin:px,marginTop:px,marginRight:px,marginBottom:px,marginLeft:px,backgroundPositionX:px,backgroundPositionY:px},transformValueTypes={rotate:degrees,rotateX:degrees,rotateY:degrees,rotateZ:degrees,scale,scaleX:scale,scaleY:scale,scaleZ:scale,skew:degrees,skewX:degrees,skewY:degrees,distance:px,translateX:px,translateY:px,translateZ:px,x:px,y:px,z:px,perspective:px,transformPerspective:px,opacity:alpha,originX:progressPercentage,originY:progressPercentage,originZ:px},int$1={...number$2,transform:Math.round},numberValueTypes={...browserNumberValueTypes,...transformValueTypes,zIndex:int$1,size:px,fillOpacity:alpha,strokeOpacity:alpha,numOctaves:int$1},translateAlias={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},numTransforms=transformPropOrder.length;function buildTransform(Re,e,Ee){let Ce="",Te=!0;for(let De=0;De<numTransforms;De++){const Me=transformPropOrder[De],Oe=Re[Me];if(Oe===void 0)continue;let Be=!0;if(typeof Oe=="number"?Be=Oe===(Me.startsWith("scale")?1:0):Be=parseFloat(Oe)===0,!Be||Ee){const ze=getValueAsType(Oe,numberValueTypes[Me]);if(!Be){Te=!1;const Ve=translateAlias[Me]||Me;Ce+=`${Ve}(${ze}) `}Ee&&(e[Me]=ze)}}return Ce=Ce.trim(),Ee?Ce=Ee(e,Te?"":Ce):Te&&(Ce="none"),Ce}function buildHTMLStyles(Re,e,Ee){const{style:Ce,vars:Te,transformOrigin:De}=Re;let Me=!1,Oe=!1;for(const Be in e){const ze=e[Be];if(transformProps.has(Be)){Me=!0;continue}else if(isCSSVariableName(Be)){Te[Be]=ze;continue}else{const Ve=getValueAsType(ze,numberValueTypes[Be]);Be.startsWith("origin")?(Oe=!0,De[Be]=Ve):Ce[Be]=Ve}}if(e.transform||(Me||Ee?Ce.transform=buildTransform(e,Re.transform,Ee):Ce.transform&&(Ce.transform="none")),Oe){const{originX:Be="50%",originY:ze="50%",originZ:Ve=0}=De;Ce.transformOrigin=`${Be} ${ze} ${Ve}`}}const createHtmlRenderState=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function copyRawValuesOnly(Re,e,Ee){for(const Ce in e)!isMotionValue(e[Ce])&&!isForcedMotionValue(Ce,Ee)&&(Re[Ce]=e[Ce])}function useInitialMotionValues({transformTemplate:Re},e){return reactExports.useMemo(()=>{const Ee=createHtmlRenderState();return buildHTMLStyles(Ee,e,Re),Object.assign({},Ee.vars,Ee.style)},[e])}function useStyle(Re,e){const Ee=Re.style||{},Ce={};return copyRawValuesOnly(Ce,Ee,Re),Object.assign(Ce,useInitialMotionValues(Re,e)),Ce}function useHTMLProps(Re,e){const Ee={},Ce=useStyle(Re,e);return Re.drag&&Re.dragListener!==!1&&(Ee.draggable=!1,Ce.userSelect=Ce.WebkitUserSelect=Ce.WebkitTouchCallout="none",Ce.touchAction=Re.drag===!0?"none":`pan-${Re.drag==="x"?"y":"x"}`),Re.tabIndex===void 0&&(Re.onTap||Re.onTapStart||Re.whileTap)&&(Ee.tabIndex=0),Ee.style=Ce,Ee}const lowercaseSVGElements=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function isSVGComponent(Re){return typeof Re!="string"||Re.includes("-")?!1:!!(lowercaseSVGElements.indexOf(Re)>-1||/[A-Z]/u.test(Re))}const dashKeys={offset:"stroke-dashoffset",array:"stroke-dasharray"},camelKeys={offset:"strokeDashoffset",array:"strokeDasharray"};function buildSVGPath(Re,e,Ee=1,Ce=0,Te=!0){Re.pathLength=1;const De=Te?dashKeys:camelKeys;Re[De.offset]=px.transform(-Ce);const Me=px.transform(e),Oe=px.transform(Ee);Re[De.array]=`${Me} ${Oe}`}function calcOrigin$1(Re,e,Ee){return typeof Re=="string"?Re:px.transform(e+Ee*Re)}function calcSVGTransformOrigin(Re,e,Ee){const Ce=calcOrigin$1(e,Re.x,Re.width),Te=calcOrigin$1(Ee,Re.y,Re.height);return`${Ce} ${Te}`}function buildSVGAttrs(Re,{attrX:e,attrY:Ee,attrScale:Ce,originX:Te,originY:De,pathLength:Me,pathSpacing:Oe=1,pathOffset:Be=0,...ze},Ve,qe){if(buildHTMLStyles(Re,ze,qe),Ve){Re.style.viewBox&&(Re.attrs.viewBox=Re.style.viewBox);return}Re.attrs=Re.style,Re.style={};const{attrs:We,style:Ge,dimensions:Je}=Re;We.transform&&(Je&&(Ge.transform=We.transform),delete We.transform),Je&&(Te!==void 0||De!==void 0||Ge.transform)&&(Ge.transformOrigin=calcSVGTransformOrigin(Je,Te!==void 0?Te:.5,De!==void 0?De:.5)),e!==void 0&&(We.x=e),Ee!==void 0&&(We.y=Ee),Ce!==void 0&&(We.scale=Ce),Me!==void 0&&buildSVGPath(We,Me,Oe,Be,!1)}const createSvgRenderState=()=>({...createHtmlRenderState(),attrs:{}}),isSVGTag=Re=>typeof Re=="string"&&Re.toLowerCase()==="svg";function useSVGProps(Re,e,Ee,Ce){const Te=reactExports.useMemo(()=>{const De=createSvgRenderState();return buildSVGAttrs(De,e,isSVGTag(Ce),Re.transformTemplate),{...De.attrs,style:{...De.style}}},[e]);if(Re.style){const De={};copyRawValuesOnly(De,Re.style,Re),Te.style={...De,...Te.style}}return Te}function createUseRender(Re=!1){return(Ee,Ce,Te,{latestValues:De},Me)=>{const Be=(isSVGComponent(Ee)?useSVGProps:useHTMLProps)(Ce,De,Me,Ee),ze=filterProps(Ce,typeof Ee=="string",Re),Ve=Ee!==reactExports.Fragment?{...ze,...Be,ref:Te}:{},{children:qe}=Ce,We=reactExports.useMemo(()=>isMotionValue(qe)?qe.get():qe,[qe]);return reactExports.createElement(Ee,{...Ve,children:We})}}function getValueState(Re){const e=[{},{}];return Re==null||Re.values.forEach((Ee,Ce)=>{e[0][Ce]=Ee.get(),e[1][Ce]=Ee.getVelocity()}),e}function resolveVariantFromProps(Re,e,Ee,Ce){if(typeof e=="function"){const[Te,De]=getValueState(Ce);e=e(Ee!==void 0?Ee:Re.custom,Te,De)}if(typeof e=="string"&&(e=Re.variants&&Re.variants[e]),typeof e=="function"){const[Te,De]=getValueState(Ce);e=e(Ee!==void 0?Ee:Re.custom,Te,De)}return e}const isKeyframesTarget=Re=>Array.isArray(Re),isCustomValue=Re=>!!(Re&&typeof Re=="object"&&Re.mix&&Re.toValue),resolveFinalValueInKeyframes=Re=>isKeyframesTarget(Re)?Re[Re.length-1]||0:Re;function resolveMotionValue(Re){const e=isMotionValue(Re)?Re.get():Re;return isCustomValue(e)?e.toValue():e}function makeState({scrapeMotionValuesFromProps:Re,createRenderState:e,onUpdate:Ee},Ce,Te,De){const Me={latestValues:makeLatestValues(Ce,Te,De,Re),renderState:e()};return Ee&&(Me.onMount=Oe=>Ee({props:Ce,current:Oe,...Me}),Me.onUpdate=Oe=>Ee(Oe)),Me}const makeUseVisualState=Re=>(e,Ee)=>{const Ce=reactExports.useContext(MotionContext),Te=reactExports.useContext(PresenceContext),De=()=>makeState(Re,e,Ce,Te);return Ee?De():useConstant(De)};function makeLatestValues(Re,e,Ee,Ce){const Te={},De=Ce(Re,{});for(const We in De)Te[We]=resolveMotionValue(De[We]);let{initial:Me,animate:Oe}=Re;const Be=isControllingVariants(Re),ze=isVariantNode(Re);e&&ze&&!Be&&Re.inherit!==!1&&(Me===void 0&&(Me=e.initial),Oe===void 0&&(Oe=e.animate));let Ve=Ee?Ee.initial===!1:!1;Ve=Ve||Me===!1;const qe=Ve?Oe:Me;if(qe&&typeof qe!="boolean"&&!isAnimationControls(qe)){const We=Array.isArray(qe)?qe:[qe];for(let Ge=0;Ge<We.length;Ge++){const Je=resolveVariantFromProps(Re,We[Ge]);if(Je){const{transitionEnd:Qe,transition:ns,...Ye}=Je;for(const rs in Ye){let ts=Ye[rs];if(Array.isArray(ts)){const Xe=Ve?ts.length-1:0;ts=ts[Xe]}ts!==null&&(Te[rs]=ts)}for(const rs in Qe)Te[rs]=Qe[rs]}}}return Te}function scrapeMotionValuesFromProps$1(Re,e,Ee){var Ce;const{style:Te}=Re,De={};for(const Me in Te)(isMotionValue(Te[Me])||e.style&&isMotionValue(e.style[Me])||isForcedMotionValue(Me,Re)||((Ce=Ee==null?void 0:Ee.getValue(Me))===null||Ce===void 0?void 0:Ce.liveStyle)!==void 0)&&(De[Me]=Te[Me]);return De}const htmlMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps:scrapeMotionValuesFromProps$1,createRenderState:createHtmlRenderState})};function updateSVGDimensions(Re,e){try{e.dimensions=typeof Re.getBBox=="function"?Re.getBBox():Re.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}function renderHTML(Re,{style:e,vars:Ee},Ce,Te){Object.assign(Re.style,e,Te&&Te.getProjectionStyles(Ce));for(const De in Ee)Re.style.setProperty(De,Ee[De])}const camelCaseAttributes=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function renderSVG(Re,e,Ee,Ce){renderHTML(Re,e,void 0,Ce);for(const Te in e.attrs)Re.setAttribute(camelCaseAttributes.has(Te)?Te:camelToDash(Te),e.attrs[Te])}function scrapeMotionValuesFromProps(Re,e,Ee){const Ce=scrapeMotionValuesFromProps$1(Re,e,Ee);for(const Te in Re)if(isMotionValue(Re[Te])||isMotionValue(e[Te])){const De=transformPropOrder.indexOf(Te)!==-1?"attr"+Te.charAt(0).toUpperCase()+Te.substring(1):Te;Ce[De]=Re[Te]}return Ce}const layoutProps=["x","y","width","height","cx","cy","r"],svgMotionConfig={useVisualState:makeUseVisualState({scrapeMotionValuesFromProps,createRenderState:createSvgRenderState,onUpdate:({props:Re,prevProps:e,current:Ee,renderState:Ce,latestValues:Te})=>{if(!Ee)return;let De=!!Re.drag;if(!De){for(const Oe in Te)if(transformProps.has(Oe)){De=!0;break}}if(!De)return;let Me=!e;if(e)for(let Oe=0;Oe<layoutProps.length;Oe++){const Be=layoutProps[Oe];Re[Be]!==e[Be]&&(Me=!0)}Me&&frame.read(()=>{updateSVGDimensions(Ee,Ce),frame.render(()=>{buildSVGAttrs(Ce,Te,isSVGTag(Ee.tagName),Re.transformTemplate),renderSVG(Ee,Ce)})})}})};function createMotionComponentFactory(Re,e){return function(Ce,{forwardMotionProps:Te}={forwardMotionProps:!1}){const Me={...isSVGComponent(Ce)?svgMotionConfig:htmlMotionConfig,preloadedFeatures:Re,useRender:createUseRender(Te),createVisualElement:e,Component:Ce};return createRendererMotionComponent(Me)}}function resolveVariant(Re,e,Ee){const Ce=Re.getProps();return resolveVariantFromProps(Ce,e,Ee!==void 0?Ee:Ce.custom,Re)}const positionalKeys=new Set(["width","height","top","left","right","bottom",...transformPropOrder]);function setMotionValue(Re,e,Ee){Re.hasValue(e)?Re.getValue(e).set(Ee):Re.addValue(e,motionValue(Ee))}function setTarget(Re,e){const Ee=resolveVariant(Re,e);let{transitionEnd:Ce={},transition:Te={},...De}=Ee||{};De={...De,...Ce};for(const Me in De){const Oe=resolveFinalValueInKeyframes(De[Me]);setMotionValue(Re,Me,Oe)}}function isWillChangeMotionValue(Re){return!!(isMotionValue(Re)&&Re.add)}function addValueToWillChange(Re,e){const Ee=Re.getValue("willChange");if(isWillChangeMotionValue(Ee))return Ee.add(e)}function getOptimisedAppearId(Re){return Re.props[optimizedAppearDataAttribute]}const calcBezier=(Re,e,Ee)=>(((1-3*Ee+3*e)*Re+(3*Ee-6*e))*Re+3*e)*Re,subdivisionPrecision=1e-7,subdivisionMaxIterations=12;function binarySubdivide(Re,e,Ee,Ce,Te){let De,Me,Oe=0;do Me=e+(Ee-e)/2,De=calcBezier(Me,Ce,Te)-Re,De>0?Ee=Me:e=Me;while(Math.abs(De)>subdivisionPrecision&&++Oe<subdivisionMaxIterations);return Me}function cubicBezier(Re,e,Ee,Ce){if(Re===e&&Ee===Ce)return noop$1;const Te=De=>binarySubdivide(De,0,1,Re,Ee);return De=>De===0||De===1?De:calcBezier(Te(De),e,Ce)}const mirrorEasing=Re=>e=>e<=.5?Re(2*e)/2:(2-Re(2*(1-e)))/2,reverseEasing=Re=>e=>1-Re(1-e),backOut=cubicBezier(.33,1.53,.69,.99),backIn=reverseEasing(backOut),backInOut=mirrorEasing(backIn),anticipate=Re=>(Re*=2)<1?.5*backIn(Re):.5*(2-Math.pow(2,-10*(Re-1))),circIn=Re=>1-Math.sin(Math.acos(Re)),circOut=reverseEasing(circIn),circInOut=mirrorEasing(circIn),isZeroValueString=Re=>/^0[^.\s]+$/u.test(Re);function isNone(Re){return typeof Re=="number"?Re===0:Re!==null?Re==="none"||Re==="0"||isZeroValueString(Re):!0}const sanitize=Re=>Math.round(Re*1e5)/1e5,floatRegex=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function isNullish(Re){return Re==null}const singleColorRegex=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,isColorString=(Re,e)=>Ee=>!!(typeof Ee=="string"&&singleColorRegex.test(Ee)&&Ee.startsWith(Re)||e&&!isNullish(Ee)&&Object.prototype.hasOwnProperty.call(Ee,e)),splitColor=(Re,e,Ee)=>Ce=>{if(typeof Ce!="string")return Ce;const[Te,De,Me,Oe]=Ce.match(floatRegex);return{[Re]:parseFloat(Te),[e]:parseFloat(De),[Ee]:parseFloat(Me),alpha:Oe!==void 0?parseFloat(Oe):1}},clampRgbUnit=Re=>clamp$1(0,255,Re),rgbUnit={...number$2,transform:Re=>Math.round(clampRgbUnit(Re))},rgba={test:isColorString("rgb","red"),parse:splitColor("red","green","blue"),transform:({red:Re,green:e,blue:Ee,alpha:Ce=1})=>"rgba("+rgbUnit.transform(Re)+", "+rgbUnit.transform(e)+", "+rgbUnit.transform(Ee)+", "+sanitize(alpha.transform(Ce))+")"};function parseHex(Re){let e="",Ee="",Ce="",Te="";return Re.length>5?(e=Re.substring(1,3),Ee=Re.substring(3,5),Ce=Re.substring(5,7),Te=Re.substring(7,9)):(e=Re.substring(1,2),Ee=Re.substring(2,3),Ce=Re.substring(3,4),Te=Re.substring(4,5),e+=e,Ee+=Ee,Ce+=Ce,Te+=Te),{red:parseInt(e,16),green:parseInt(Ee,16),blue:parseInt(Ce,16),alpha:Te?parseInt(Te,16)/255:1}}const hex={test:isColorString("#"),parse:parseHex,transform:rgba.transform},hsla={test:isColorString("hsl","hue"),parse:splitColor("hue","saturation","lightness"),transform:({hue:Re,saturation:e,lightness:Ee,alpha:Ce=1})=>"hsla("+Math.round(Re)+", "+percent.transform(sanitize(e))+", "+percent.transform(sanitize(Ee))+", "+sanitize(alpha.transform(Ce))+")"},color={test:Re=>rgba.test(Re)||hex.test(Re)||hsla.test(Re),parse:Re=>rgba.test(Re)?rgba.parse(Re):hsla.test(Re)?hsla.parse(Re):hex.parse(Re),transform:Re=>typeof Re=="string"?Re:Re.hasOwnProperty("red")?rgba.transform(Re):hsla.transform(Re)},colorRegex=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function test$1(Re){var e,Ee;return isNaN(Re)&&typeof Re=="string"&&(((e=Re.match(floatRegex))===null||e===void 0?void 0:e.length)||0)+(((Ee=Re.match(colorRegex))===null||Ee===void 0?void 0:Ee.length)||0)>0}const NUMBER_TOKEN="number",COLOR_TOKEN="color",VAR_TOKEN="var",VAR_FUNCTION_TOKEN="var(",SPLIT_TOKEN="${}",complexRegex=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function analyseComplexValue(Re){const e=Re.toString(),Ee=[],Ce={color:[],number:[],var:[]},Te=[];let De=0;const Oe=e.replace(complexRegex,Be=>(color.test(Be)?(Ce.color.push(De),Te.push(COLOR_TOKEN),Ee.push(color.parse(Be))):Be.startsWith(VAR_FUNCTION_TOKEN)?(Ce.var.push(De),Te.push(VAR_TOKEN),Ee.push(Be)):(Ce.number.push(De),Te.push(NUMBER_TOKEN),Ee.push(parseFloat(Be))),++De,SPLIT_TOKEN)).split(SPLIT_TOKEN);return{values:Ee,split:Oe,indexes:Ce,types:Te}}function parseComplexValue(Re){return analyseComplexValue(Re).values}function createTransformer(Re){const{split:e,types:Ee}=analyseComplexValue(Re),Ce=e.length;return Te=>{let De="";for(let Me=0;Me<Ce;Me++)if(De+=e[Me],Te[Me]!==void 0){const Oe=Ee[Me];Oe===NUMBER_TOKEN?De+=sanitize(Te[Me]):Oe===COLOR_TOKEN?De+=color.transform(Te[Me]):De+=Te[Me]}return De}}const convertNumbersToZero=Re=>typeof Re=="number"?0:Re;function getAnimatableNone$1(Re){const e=parseComplexValue(Re);return createTransformer(Re)(e.map(convertNumbersToZero))}const complex={test:test$1,parse:parseComplexValue,createTransformer,getAnimatableNone:getAnimatableNone$1},maxDefaults=new Set(["brightness","contrast","saturate","opacity"]);function applyDefaultFilter(Re){const[e,Ee]=Re.slice(0,-1).split("(");if(e==="drop-shadow")return Re;const[Ce]=Ee.match(floatRegex)||[];if(!Ce)return Re;const Te=Ee.replace(Ce,"");let De=maxDefaults.has(e)?1:0;return Ce!==Ee&&(De*=100),e+"("+De+Te+")"}const functionRegex=/\b([a-z-]*)\(.*?\)/gu,filter={...complex,getAnimatableNone:Re=>{const e=Re.match(functionRegex);return e?e.map(applyDefaultFilter).join(" "):Re}},defaultValueTypes={...numberValueTypes,color,backgroundColor:color,outlineColor:color,fill:color,stroke:color,borderColor:color,borderTopColor:color,borderRightColor:color,borderBottomColor:color,borderLeftColor:color,filter,WebkitFilter:filter},getDefaultValueType=Re=>defaultValueTypes[Re];function getAnimatableNone(Re,e){let Ee=getDefaultValueType(Re);return Ee!==filter&&(Ee=complex),Ee.getAnimatableNone?Ee.getAnimatableNone(e):void 0}const invalidTemplates=new Set(["auto","none","0"]);function makeNoneKeyframesAnimatable(Re,e,Ee){let Ce=0,Te;for(;Ce<Re.length&&!Te;){const De=Re[Ce];typeof De=="string"&&!invalidTemplates.has(De)&&analyseComplexValue(De).values.length&&(Te=Re[Ce]),Ce++}if(Te&&Ee)for(const De of e)Re[De]=getAnimatableNone(Ee,Te)}const radToDeg=Re=>Re*180/Math.PI,rotate=Re=>{const e=radToDeg(Math.atan2(Re[1],Re[0]));return rebaseAngle(e)},matrix2dParsers={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:Re=>(Math.abs(Re[0])+Math.abs(Re[3]))/2,rotate,rotateZ:rotate,skewX:Re=>radToDeg(Math.atan(Re[1])),skewY:Re=>radToDeg(Math.atan(Re[2])),skew:Re=>(Math.abs(Re[1])+Math.abs(Re[2]))/2},rebaseAngle=Re=>(Re=Re%360,Re<0&&(Re+=360),Re),rotateZ=rotate,scaleX=Re=>Math.sqrt(Re[0]*Re[0]+Re[1]*Re[1]),scaleY=Re=>Math.sqrt(Re[4]*Re[4]+Re[5]*Re[5]),matrix3dParsers={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX,scaleY,scale:Re=>(scaleX(Re)+scaleY(Re))/2,rotateX:Re=>rebaseAngle(radToDeg(Math.atan2(Re[6],Re[5]))),rotateY:Re=>rebaseAngle(radToDeg(Math.atan2(-Re[2],Re[0]))),rotateZ,rotate:rotateZ,skewX:Re=>radToDeg(Math.atan(Re[4])),skewY:Re=>radToDeg(Math.atan(Re[1])),skew:Re=>(Math.abs(Re[1])+Math.abs(Re[4]))/2};function defaultTransformValue(Re){return Re.includes("scale")?1:0}function parseValueFromTransform(Re,e){if(!Re||Re==="none")return defaultTransformValue(e);const Ee=Re.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let Ce,Te;if(Ee)Ce=matrix3dParsers,Te=Ee;else{const Oe=Re.match(/^matrix\(([-\d.e\s,]+)\)$/u);Ce=matrix2dParsers,Te=Oe}if(!Te)return defaultTransformValue(e);const De=Ce[e],Me=Te[1].split(",").map(convertTransformToNumber);return typeof De=="function"?De(Me):Me[De]}const readTransformValue=(Re,e)=>{const{transform:Ee="none"}=getComputedStyle(Re);return parseValueFromTransform(Ee,e)};function convertTransformToNumber(Re){return parseFloat(Re.trim())}const isNumOrPxType=Re=>Re===number$2||Re===px,transformKeys=new Set(["x","y","z"]),nonTranslationalTransformKeys=transformPropOrder.filter(Re=>!transformKeys.has(Re));function removeNonTranslationalTransform(Re){const e=[];return nonTranslationalTransformKeys.forEach(Ee=>{const Ce=Re.getValue(Ee);Ce!==void 0&&(e.push([Ee,Ce.get()]),Ce.set(Ee.startsWith("scale")?1:0))}),e}const positionalValues={width:({x:Re},{paddingLeft:e="0",paddingRight:Ee="0"})=>Re.max-Re.min-parseFloat(e)-parseFloat(Ee),height:({y:Re},{paddingTop:e="0",paddingBottom:Ee="0"})=>Re.max-Re.min-parseFloat(e)-parseFloat(Ee),top:(Re,{top:e})=>parseFloat(e),left:(Re,{left:e})=>parseFloat(e),bottom:({y:Re},{top:e})=>parseFloat(e)+(Re.max-Re.min),right:({x:Re},{left:e})=>parseFloat(e)+(Re.max-Re.min),x:(Re,{transform:e})=>parseValueFromTransform(e,"x"),y:(Re,{transform:e})=>parseValueFromTransform(e,"y")};positionalValues.translateX=positionalValues.x;positionalValues.translateY=positionalValues.y;const toResolve=new Set;let isScheduled=!1,anyNeedsMeasurement=!1;function measureAllKeyframes(){if(anyNeedsMeasurement){const Re=Array.from(toResolve).filter(Ce=>Ce.needsMeasurement),e=new Set(Re.map(Ce=>Ce.element)),Ee=new Map;e.forEach(Ce=>{const Te=removeNonTranslationalTransform(Ce);Te.length&&(Ee.set(Ce,Te),Ce.render())}),Re.forEach(Ce=>Ce.measureInitialState()),e.forEach(Ce=>{Ce.render();const Te=Ee.get(Ce);Te&&Te.forEach(([De,Me])=>{var Oe;(Oe=Ce.getValue(De))===null||Oe===void 0||Oe.set(Me)})}),Re.forEach(Ce=>Ce.measureEndState()),Re.forEach(Ce=>{Ce.suspendedScrollY!==void 0&&window.scrollTo(0,Ce.suspendedScrollY)})}anyNeedsMeasurement=!1,isScheduled=!1,toResolve.forEach(Re=>Re.complete()),toResolve.clear()}function readAllKeyframes(){toResolve.forEach(Re=>{Re.readKeyframes(),Re.needsMeasurement&&(anyNeedsMeasurement=!0)})}function flushKeyframeResolvers(){readAllKeyframes(),measureAllKeyframes()}class KeyframeResolver{constructor(e,Ee,Ce,Te,De,Me=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=Ee,this.name=Ce,this.motionValue=Te,this.element=De,this.isAsync=Me}scheduleResolve(){this.isScheduled=!0,this.isAsync?(toResolve.add(this),isScheduled||(isScheduled=!0,frame.read(readAllKeyframes),frame.resolveKeyframes(measureAllKeyframes))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:Ee,element:Ce,motionValue:Te}=this;for(let De=0;De<e.length;De++)if(e[De]===null)if(De===0){const Me=Te==null?void 0:Te.get(),Oe=e[e.length-1];if(Me!==void 0)e[0]=Me;else if(Ce&&Ee){const Be=Ce.readValue(Ee,Oe);Be!=null&&(e[0]=Be)}e[0]===void 0&&(e[0]=Oe),Te&&Me===void 0&&Te.set(e[0])}else e[De]=e[De-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),toResolve.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,toResolve.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const isNumericalString=Re=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(Re),splitCSSVariableRegex=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function parseCSSVariable(Re){const e=splitCSSVariableRegex.exec(Re);if(!e)return[,];const[,Ee,Ce,Te]=e;return[`--${Ee??Ce}`,Te]}function getVariableValue(Re,e,Ee=1){const[Ce,Te]=parseCSSVariable(Re);if(!Ce)return;const De=window.getComputedStyle(e).getPropertyValue(Ce);if(De){const Me=De.trim();return isNumericalString(Me)?parseFloat(Me):Me}return isCSSVariableToken(Te)?getVariableValue(Te,e,Ee+1):Te}const testValueType=Re=>e=>e.test(Re),auto={test:Re=>Re==="auto",parse:Re=>Re},dimensionValueTypes=[number$2,px,percent,degrees,vw,vh,auto],findDimensionValueType=Re=>dimensionValueTypes.find(testValueType(Re));class DOMKeyframesResolver extends KeyframeResolver{constructor(e,Ee,Ce,Te,De){super(e,Ee,Ce,Te,De,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:Ee,name:Ce}=this;if(!Ee||!Ee.current)return;super.readKeyframes();for(let Be=0;Be<e.length;Be++){let ze=e[Be];if(typeof ze=="string"&&(ze=ze.trim(),isCSSVariableToken(ze))){const Ve=getVariableValue(ze,Ee.current);Ve!==void 0&&(e[Be]=Ve),Be===e.length-1&&(this.finalKeyframe=ze)}}if(this.resolveNoneKeyframes(),!positionalKeys.has(Ce)||e.length!==2)return;const[Te,De]=e,Me=findDimensionValueType(Te),Oe=findDimensionValueType(De);if(Me!==Oe)if(isNumOrPxType(Me)&&isNumOrPxType(Oe))for(let Be=0;Be<e.length;Be++){const ze=e[Be];typeof ze=="string"&&(e[Be]=parseFloat(ze))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:Ee}=this,Ce=[];for(let Te=0;Te<e.length;Te++)isNone(e[Te])&&Ce.push(Te);Ce.length&&makeNoneKeyframesAnimatable(e,Ce,Ee)}measureInitialState(){const{element:e,unresolvedKeyframes:Ee,name:Ce}=this;if(!e||!e.current)return;Ce==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=positionalValues[Ce](e.measureViewportBox(),window.getComputedStyle(e.current)),Ee[0]=this.measuredOrigin;const Te=Ee[Ee.length-1];Te!==void 0&&e.getValue(Ce,Te).jump(Te,!1)}measureEndState(){var e;const{element:Ee,name:Ce,unresolvedKeyframes:Te}=this;if(!Ee||!Ee.current)return;const De=Ee.getValue(Ce);De&&De.jump(this.measuredOrigin,!1);const Me=Te.length-1,Oe=Te[Me];Te[Me]=positionalValues[Ce](Ee.measureViewportBox(),window.getComputedStyle(Ee.current)),Oe!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=Oe),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([Be,ze])=>{Ee.getValue(Be).set(ze)}),this.resolveNoneKeyframes()}}const isAnimatable=(Re,e)=>e==="zIndex"?!1:!!(typeof Re=="number"||Array.isArray(Re)||typeof Re=="string"&&(complex.test(Re)||Re==="0")&&!Re.startsWith("url("));function hasKeyframesChanged(Re){const e=Re[0];if(Re.length===1)return!0;for(let Ee=0;Ee<Re.length;Ee++)if(Re[Ee]!==e)return!0}function canAnimate(Re,e,Ee,Ce){const Te=Re[0];if(Te===null)return!1;if(e==="display"||e==="visibility")return!0;const De=Re[Re.length-1],Me=isAnimatable(Te,e),Oe=isAnimatable(De,e);return!Me||!Oe?!1:hasKeyframesChanged(Re)||(Ee==="spring"||isGenerator(Ee))&&Ce}const isNotNull=Re=>Re!==null;function getFinalKeyframe(Re,{repeat:e,repeatType:Ee="loop"},Ce){const Te=Re.filter(isNotNull),De=e&&Ee!=="loop"&&e%2===1?0:Te.length-1;return!De||Ce===void 0?Te[De]:Ce}const MAX_RESOLVE_DELAY=40;class BaseAnimation{constructor({autoplay:e=!0,delay:Ee=0,type:Ce="keyframes",repeat:Te=0,repeatDelay:De=0,repeatType:Me="loop",...Oe}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=time$2.now(),this.options={autoplay:e,delay:Ee,type:Ce,repeat:Te,repeatDelay:De,repeatType:Me,...Oe},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>MAX_RESOLVE_DELAY?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&flushKeyframeResolvers(),this._resolved}onKeyframesResolved(e,Ee){this.resolvedAt=time$2.now(),this.hasAttemptedResolve=!0;const{name:Ce,type:Te,velocity:De,delay:Me,onComplete:Oe,onUpdate:Be,isGenerator:ze}=this.options;if(!ze&&!canAnimate(e,Ce,Te,De))if(Me)this.options.duration=0;else{Be&&Be(getFinalKeyframe(e,this.options,Ee)),Oe&&Oe(),this.resolveFinishedPromise();return}const Ve=this.initPlayback(e,Ee);Ve!==!1&&(this._resolved={keyframes:e,finalKeyframe:Ee,...Ve},this.onPostResolved())}onPostResolved(){}then(e,Ee){return this.currentFinishedPromise.then(e,Ee)}flatten(){this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear")}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const mixNumber$1=(Re,e,Ee)=>Re+(e-Re)*Ee;function hueToRgb(Re,e,Ee){return Ee<0&&(Ee+=1),Ee>1&&(Ee-=1),Ee<1/6?Re+(e-Re)*6*Ee:Ee<1/2?e:Ee<2/3?Re+(e-Re)*(2/3-Ee)*6:Re}function hslaToRgba({hue:Re,saturation:e,lightness:Ee,alpha:Ce}){Re/=360,e/=100,Ee/=100;let Te=0,De=0,Me=0;if(!e)Te=De=Me=Ee;else{const Oe=Ee<.5?Ee*(1+e):Ee+e-Ee*e,Be=2*Ee-Oe;Te=hueToRgb(Be,Oe,Re+1/3),De=hueToRgb(Be,Oe,Re),Me=hueToRgb(Be,Oe,Re-1/3)}return{red:Math.round(Te*255),green:Math.round(De*255),blue:Math.round(Me*255),alpha:Ce}}function mixImmediate(Re,e){return Ee=>Ee>0?e:Re}const mixLinearColor=(Re,e,Ee)=>{const Ce=Re*Re,Te=Ee*(e*e-Ce)+Ce;return Te<0?0:Math.sqrt(Te)},colorTypes=[hex,rgba,hsla],getColorType=Re=>colorTypes.find(e=>e.test(Re));function asRGBA(Re){const e=getColorType(Re);if(!e)return!1;let Ee=e.parse(Re);return e===hsla&&(Ee=hslaToRgba(Ee)),Ee}const mixColor=(Re,e)=>{const Ee=asRGBA(Re),Ce=asRGBA(e);if(!Ee||!Ce)return mixImmediate(Re,e);const Te={...Ee};return De=>(Te.red=mixLinearColor(Ee.red,Ce.red,De),Te.green=mixLinearColor(Ee.green,Ce.green,De),Te.blue=mixLinearColor(Ee.blue,Ce.blue,De),Te.alpha=mixNumber$1(Ee.alpha,Ce.alpha,De),rgba.transform(Te))},combineFunctions=(Re,e)=>Ee=>e(Re(Ee)),pipe$1=(...Re)=>Re.reduce(combineFunctions),invisibleValues=new Set(["none","hidden"]);function mixVisibility(Re,e){return invisibleValues.has(Re)?Ee=>Ee<=0?Re:e:Ee=>Ee>=1?e:Re}function mixNumber(Re,e){return Ee=>mixNumber$1(Re,e,Ee)}function getMixer(Re){return typeof Re=="number"?mixNumber:typeof Re=="string"?isCSSVariableToken(Re)?mixImmediate:color.test(Re)?mixColor:mixComplex:Array.isArray(Re)?mixArray:typeof Re=="object"?color.test(Re)?mixColor:mixObject:mixImmediate}function mixArray(Re,e){const Ee=[...Re],Ce=Ee.length,Te=Re.map((De,Me)=>getMixer(De)(De,e[Me]));return De=>{for(let Me=0;Me<Ce;Me++)Ee[Me]=Te[Me](De);return Ee}}function mixObject(Re,e){const Ee={...Re,...e},Ce={};for(const Te in Ee)Re[Te]!==void 0&&e[Te]!==void 0&&(Ce[Te]=getMixer(Re[Te])(Re[Te],e[Te]));return Te=>{for(const De in Ce)Ee[De]=Ce[De](Te);return Ee}}function matchOrder(Re,e){var Ee;const Ce=[],Te={color:0,var:0,number:0};for(let De=0;De<e.values.length;De++){const Me=e.types[De],Oe=Re.indexes[Me][Te[Me]],Be=(Ee=Re.values[Oe])!==null&&Ee!==void 0?Ee:0;Ce[De]=Be,Te[Me]++}return Ce}const mixComplex=(Re,e)=>{const Ee=complex.createTransformer(e),Ce=analyseComplexValue(Re),Te=analyseComplexValue(e);return Ce.indexes.var.length===Te.indexes.var.length&&Ce.indexes.color.length===Te.indexes.color.length&&Ce.indexes.number.length>=Te.indexes.number.length?invisibleValues.has(Re)&&!Te.values.length||invisibleValues.has(e)&&!Ce.values.length?mixVisibility(Re,e):pipe$1(mixArray(matchOrder(Ce,Te),Te.values),Ee):mixImmediate(Re,e)};function mix(Re,e,Ee){return typeof Re=="number"&&typeof e=="number"&&typeof Ee=="number"?mixNumber$1(Re,e,Ee):getMixer(Re)(Re,e)}const velocitySampleDuration=5;function calcGeneratorVelocity(Re,e,Ee){const Ce=Math.max(e-velocitySampleDuration,0);return velocityPerSecond(Ee-Re(Ce),e-Ce)}const springDefaults={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},safeMin=.001;function findSpring({duration:Re=springDefaults.duration,bounce:e=springDefaults.bounce,velocity:Ee=springDefaults.velocity,mass:Ce=springDefaults.mass}){let Te,De,Me=1-e;Me=clamp$1(springDefaults.minDamping,springDefaults.maxDamping,Me),Re=clamp$1(springDefaults.minDuration,springDefaults.maxDuration,millisecondsToSeconds(Re)),Me<1?(Te=ze=>{const Ve=ze*Me,qe=Ve*Re,We=Ve-Ee,Ge=calcAngularFreq(ze,Me),Je=Math.exp(-qe);return safeMin-We/Ge*Je},De=ze=>{const qe=ze*Me*Re,We=qe*Ee+Ee,Ge=Math.pow(Me,2)*Math.pow(ze,2)*Re,Je=Math.exp(-qe),Qe=calcAngularFreq(Math.pow(ze,2),Me);return(-Te(ze)+safeMin>0?-1:1)*((We-Ge)*Je)/Qe}):(Te=ze=>{const Ve=Math.exp(-ze*Re),qe=(ze-Ee)*Re+1;return-.001+Ve*qe},De=ze=>{const Ve=Math.exp(-ze*Re),qe=(Ee-ze)*(Re*Re);return Ve*qe});const Oe=5/Re,Be=approximateRoot(Te,De,Oe);if(Re=secondsToMilliseconds(Re),isNaN(Be))return{stiffness:springDefaults.stiffness,damping:springDefaults.damping,duration:Re};{const ze=Math.pow(Be,2)*Ce;return{stiffness:ze,damping:Me*2*Math.sqrt(Ce*ze),duration:Re}}}const rootIterations=12;function approximateRoot(Re,e,Ee){let Ce=Ee;for(let Te=1;Te<rootIterations;Te++)Ce=Ce-Re(Ce)/e(Ce);return Ce}function calcAngularFreq(Re,e){return Re*Math.sqrt(1-e*e)}const durationKeys=["duration","bounce"],physicsKeys=["stiffness","damping","mass"];function isSpringType(Re,e){return e.some(Ee=>Re[Ee]!==void 0)}function getSpringOptions(Re){let e={velocity:springDefaults.velocity,stiffness:springDefaults.stiffness,damping:springDefaults.damping,mass:springDefaults.mass,isResolvedFromDuration:!1,...Re};if(!isSpringType(Re,physicsKeys)&&isSpringType(Re,durationKeys))if(Re.visualDuration){const Ee=Re.visualDuration,Ce=2*Math.PI/(Ee*1.2),Te=Ce*Ce,De=2*clamp$1(.05,1,1-(Re.bounce||0))*Math.sqrt(Te);e={...e,mass:springDefaults.mass,stiffness:Te,damping:De}}else{const Ee=findSpring(Re);e={...e,...Ee,mass:springDefaults.mass},e.isResolvedFromDuration=!0}return e}function spring(Re=springDefaults.visualDuration,e=springDefaults.bounce){const Ee=typeof Re!="object"?{visualDuration:Re,keyframes:[0,1],bounce:e}:Re;let{restSpeed:Ce,restDelta:Te}=Ee;const De=Ee.keyframes[0],Me=Ee.keyframes[Ee.keyframes.length-1],Oe={done:!1,value:De},{stiffness:Be,damping:ze,mass:Ve,duration:qe,velocity:We,isResolvedFromDuration:Ge}=getSpringOptions({...Ee,velocity:-millisecondsToSeconds(Ee.velocity||0)}),Je=We||0,Qe=ze/(2*Math.sqrt(Be*Ve)),ns=Me-De,Ye=millisecondsToSeconds(Math.sqrt(Be/Ve)),rs=Math.abs(ns)<5;Ce||(Ce=rs?springDefaults.restSpeed.granular:springDefaults.restSpeed.default),Te||(Te=rs?springDefaults.restDelta.granular:springDefaults.restDelta.default);let ts;if(Qe<1){const is=calcAngularFreq(Ye,Qe);ts=os=>{const hs=Math.exp(-Qe*Ye*os);return Me-hs*((Je+Qe*Ye*ns)/is*Math.sin(is*os)+ns*Math.cos(is*os))}}else if(Qe===1)ts=is=>Me-Math.exp(-Ye*is)*(ns+(Je+Ye*ns)*is);else{const is=Ye*Math.sqrt(Qe*Qe-1);ts=os=>{const hs=Math.exp(-Qe*Ye*os),fs=Math.min(is*os,300);return Me-hs*((Je+Qe*Ye*ns)*Math.sinh(fs)+is*ns*Math.cosh(fs))/is}}const Xe={calculatedDuration:Ge&&qe||null,next:is=>{const os=ts(is);if(Ge)Oe.done=is>=qe;else{let hs=0;Qe<1&&(hs=is===0?secondsToMilliseconds(Je):calcGeneratorVelocity(ts,is,os));const fs=Math.abs(hs)<=Ce,xs=Math.abs(Me-os)<=Te;Oe.done=fs&&xs}return Oe.value=Oe.done?Me:os,Oe},toString:()=>{const is=Math.min(calcGeneratorDuration(Xe),maxGeneratorDuration),os=generateLinearEasing(hs=>Xe.next(is*hs).value,is,30);return is+"ms "+os}};return Xe}function inertia({keyframes:Re,velocity:e=0,power:Ee=.8,timeConstant:Ce=325,bounceDamping:Te=10,bounceStiffness:De=500,modifyTarget:Me,min:Oe,max:Be,restDelta:ze=.5,restSpeed:Ve}){const qe=Re[0],We={done:!1,value:qe},Ge=fs=>Oe!==void 0&&fs<Oe||Be!==void 0&&fs>Be,Je=fs=>Oe===void 0?Be:Be===void 0||Math.abs(Oe-fs)<Math.abs(Be-fs)?Oe:Be;let Qe=Ee*e;const ns=qe+Qe,Ye=Me===void 0?ns:Me(ns);Ye!==ns&&(Qe=Ye-qe);const rs=fs=>-Qe*Math.exp(-fs/Ce),ts=fs=>Ye+rs(fs),Xe=fs=>{const xs=rs(fs),Ss=ts(fs);We.done=Math.abs(xs)<=ze,We.value=We.done?Ye:Ss};let is,os;const hs=fs=>{Ge(We.value)&&(is=fs,os=spring({keyframes:[We.value,Je(We.value)],velocity:calcGeneratorVelocity(ts,fs,We.value),damping:Te,stiffness:De,restDelta:ze,restSpeed:Ve}))};return hs(0),{calculatedDuration:null,next:fs=>{let xs=!1;return!os&&is===void 0&&(xs=!0,Xe(fs),hs(fs)),is!==void 0&&fs>=is?os.next(fs-is):(!xs&&Xe(fs),We)}}}const easeIn=cubicBezier(.42,0,1,1),easeOut=cubicBezier(0,0,.58,1),easeInOut=cubicBezier(.42,0,.58,1),isEasingArray=Re=>Array.isArray(Re)&&typeof Re[0]!="number",easingLookup={linear:noop$1,easeIn,easeInOut,easeOut,circIn,circInOut,circOut,backIn,backInOut,backOut,anticipate},easingDefinitionToFunction=Re=>{if(isBezierDefinition(Re)){invariant$1(Re.length===4);const[e,Ee,Ce,Te]=Re;return cubicBezier(e,Ee,Ce,Te)}else if(typeof Re=="string")return easingLookup[Re];return Re};function createMixers(Re,e,Ee){const Ce=[],Te=Ee||mix,De=Re.length-1;for(let Me=0;Me<De;Me++){let Oe=Te(Re[Me],Re[Me+1]);if(e){const Be=Array.isArray(e)?e[Me]||noop$1:e;Oe=pipe$1(Be,Oe)}Ce.push(Oe)}return Ce}function interpolate(Re,e,{clamp:Ee=!0,ease:Ce,mixer:Te}={}){const De=Re.length;if(invariant$1(De===e.length),De===1)return()=>e[0];if(De===2&&e[0]===e[1])return()=>e[1];const Me=Re[0]===Re[1];Re[0]>Re[De-1]&&(Re=[...Re].reverse(),e=[...e].reverse());const Oe=createMixers(e,Ce,Te),Be=Oe.length,ze=Ve=>{if(Me&&Ve<Re[0])return e[0];let qe=0;if(Be>1)for(;qe<Re.length-2&&!(Ve<Re[qe+1]);qe++);const We=progress(Re[qe],Re[qe+1],Ve);return Oe[qe](We)};return Ee?Ve=>ze(clamp$1(Re[0],Re[De-1],Ve)):ze}function fillOffset(Re,e){const Ee=Re[Re.length-1];for(let Ce=1;Ce<=e;Ce++){const Te=progress(0,e,Ce);Re.push(mixNumber$1(Ee,1,Te))}}function defaultOffset(Re){const e=[0];return fillOffset(e,Re.length-1),e}function convertOffsetToTimes(Re,e){return Re.map(Ee=>Ee*e)}function defaultEasing(Re,e){return Re.map(()=>e||easeInOut).splice(0,Re.length-1)}function keyframes({duration:Re=300,keyframes:e,times:Ee,ease:Ce="easeInOut"}){const Te=isEasingArray(Ce)?Ce.map(easingDefinitionToFunction):easingDefinitionToFunction(Ce),De={done:!1,value:e[0]},Me=convertOffsetToTimes(Ee&&Ee.length===e.length?Ee:defaultOffset(e),Re),Oe=interpolate(Me,e,{ease:Array.isArray(Te)?Te:defaultEasing(e,Te)});return{calculatedDuration:Re,next:Be=>(De.value=Oe(Be),De.done=Be>=Re,De)}}const frameloopDriver=Re=>{const e=({timestamp:Ee})=>Re(Ee);return{start:()=>frame.update(e,!0),stop:()=>cancelFrame(e),now:()=>frameData.isProcessing?frameData.timestamp:time$2.now()}},generators={decay:inertia,inertia,tween:keyframes,keyframes,spring},percentToProgress=Re=>Re/100;class MainThreadAnimation extends BaseAnimation{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:Be}=this.options;Be&&Be()};const{name:Ee,motionValue:Ce,element:Te,keyframes:De}=this.options,Me=(Te==null?void 0:Te.KeyframeResolver)||KeyframeResolver,Oe=(Be,ze)=>this.onKeyframesResolved(Be,ze);this.resolver=new Me(De,Oe,Ee,Ce,Te),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:Ee="keyframes",repeat:Ce=0,repeatDelay:Te=0,repeatType:De,velocity:Me=0}=this.options,Oe=isGenerator(Ee)?Ee:generators[Ee]||keyframes;let Be,ze;Oe!==keyframes&&typeof e[0]!="number"&&(Be=pipe$1(percentToProgress,mix(e[0],e[1])),e=[0,100]);const Ve=Oe({...this.options,keyframes:e});De==="mirror"&&(ze=Oe({...this.options,keyframes:[...e].reverse(),velocity:-Me})),Ve.calculatedDuration===null&&(Ve.calculatedDuration=calcGeneratorDuration(Ve));const{calculatedDuration:qe}=Ve,We=qe+Te,Ge=We*(Ce+1)-Te;return{generator:Ve,mirroredGenerator:ze,mapPercentToKeyframes:Be,calculatedDuration:qe,resolvedDuration:We,totalDuration:Ge}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,Ee=!1){const{resolved:Ce}=this;if(!Ce){const{keyframes:fs}=this.options;return{done:!0,value:fs[fs.length-1]}}const{finalKeyframe:Te,generator:De,mirroredGenerator:Me,mapPercentToKeyframes:Oe,keyframes:Be,calculatedDuration:ze,totalDuration:Ve,resolvedDuration:qe}=Ce;if(this.startTime===null)return De.next(0);const{delay:We,repeat:Ge,repeatType:Je,repeatDelay:Qe,onUpdate:ns}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-Ve/this.speed,this.startTime)),Ee?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const Ye=this.currentTime-We*(this.speed>=0?1:-1),rs=this.speed>=0?Ye<0:Ye>Ve;this.currentTime=Math.max(Ye,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=Ve);let ts=this.currentTime,Xe=De;if(Ge){const fs=Math.min(this.currentTime,Ve)/qe;let xs=Math.floor(fs),Ss=fs%1;!Ss&&fs>=1&&(Ss=1),Ss===1&&xs--,xs=Math.min(xs,Ge+1),!!(xs%2)&&(Je==="reverse"?(Ss=1-Ss,Qe&&(Ss-=Qe/qe)):Je==="mirror"&&(Xe=Me)),ts=clamp$1(0,1,Ss)*qe}const is=rs?{done:!1,value:Be[0]}:Xe.next(ts);Oe&&(is.value=Oe(is.value));let{done:os}=is;!rs&&ze!==null&&(os=this.speed>=0?this.currentTime>=Ve:this.currentTime<=0);const hs=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&os);return hs&&Te!==void 0&&(is.value=getFinalKeyframe(Be,this.options,Te)),ns&&ns(is.value),hs&&this.finish(),is}get duration(){const{resolved:e}=this;return e?millisecondsToSeconds(e.calculatedDuration):0}get time(){return millisecondsToSeconds(this.currentTime)}set time(e){e=secondsToMilliseconds(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const Ee=this.playbackSpeed!==e;this.playbackSpeed=e,Ee&&(this.time=millisecondsToSeconds(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=frameloopDriver,onPlay:Ee,startTime:Ce}=this.options;this.driver||(this.driver=e(De=>this.tick(De))),Ee&&Ee();const Te=this.driver.now();this.holdTime!==null?this.startTime=Te-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=Te):this.startTime=Ce??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const acceleratedValues=new Set(["opacity","clipPath","filter","transform"]);function startWaapiAnimation(Re,e,Ee,{delay:Ce=0,duration:Te=300,repeat:De=0,repeatType:Me="loop",ease:Oe="easeInOut",times:Be}={}){const ze={[e]:Ee};Be&&(ze.offset=Be);const Ve=mapEasingToNativeEasing(Oe,Te);return Array.isArray(Ve)&&(ze.easing=Ve),Re.animate(ze,{delay:Ce,duration:Te,easing:Array.isArray(Ve)?"linear":Ve,fill:"both",iterations:De+1,direction:Me==="reverse"?"alternate":"normal"})}const supportsWaapi=memo(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sampleDelta=10,maxDuration=2e4;function requiresPregeneratedKeyframes(Re){return isGenerator(Re.type)||Re.type==="spring"||!isWaapiSupportedEasing(Re.ease)}function pregenerateKeyframes(Re,e){const Ee=new MainThreadAnimation({...e,keyframes:Re,repeat:0,delay:0,isGenerator:!0});let Ce={done:!1,value:Re[0]};const Te=[];let De=0;for(;!Ce.done&&De<maxDuration;)Ce=Ee.sample(De),Te.push(Ce.value),De+=sampleDelta;return{times:void 0,keyframes:Te,duration:De-sampleDelta,ease:"linear"}}const unsupportedEasingFunctions={anticipate,backInOut,circInOut};function isUnsupportedEase(Re){return Re in unsupportedEasingFunctions}class AcceleratedAnimation extends BaseAnimation{constructor(e){super(e);const{name:Ee,motionValue:Ce,element:Te,keyframes:De}=this.options;this.resolver=new DOMKeyframesResolver(De,(Me,Oe)=>this.onKeyframesResolved(Me,Oe),Ee,Ce,Te),this.resolver.scheduleResolve()}initPlayback(e,Ee){let{duration:Ce=300,times:Te,ease:De,type:Me,motionValue:Oe,name:Be,startTime:ze}=this.options;if(!Oe.owner||!Oe.owner.current)return!1;if(typeof De=="string"&&supportsLinearEasing()&&isUnsupportedEase(De)&&(De=unsupportedEasingFunctions[De]),requiresPregeneratedKeyframes(this.options)){const{onComplete:qe,onUpdate:We,motionValue:Ge,element:Je,...Qe}=this.options,ns=pregenerateKeyframes(e,Qe);e=ns.keyframes,e.length===1&&(e[1]=e[0]),Ce=ns.duration,Te=ns.times,De=ns.ease,Me="keyframes"}const Ve=startWaapiAnimation(Oe.owner.current,Be,e,{...this.options,duration:Ce,times:Te,ease:De});return Ve.startTime=ze??this.calcStartTime(),this.pendingTimeline?(attachTimeline(Ve,this.pendingTimeline),this.pendingTimeline=void 0):Ve.onfinish=()=>{const{onComplete:qe}=this.options;Oe.set(getFinalKeyframe(e,this.options,Ee)),qe&&qe(),this.cancel(),this.resolveFinishedPromise()},{animation:Ve,duration:Ce,times:Te,type:Me,ease:De,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:Ee}=e;return millisecondsToSeconds(Ee)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:Ee}=e;return millisecondsToSeconds(Ee.currentTime||0)}set time(e){const{resolved:Ee}=this;if(!Ee)return;const{animation:Ce}=Ee;Ce.currentTime=secondsToMilliseconds(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:Ee}=e;return Ee.playbackRate}set speed(e){const{resolved:Ee}=this;if(!Ee)return;const{animation:Ce}=Ee;Ce.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:Ee}=e;return Ee.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:Ee}=e;return Ee.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:Ee}=this;if(!Ee)return noop$1;const{animation:Ce}=Ee;attachTimeline(Ce,e)}return noop$1}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:Ee}=e;Ee.playState==="finished"&&this.updateFinishedPromise(),Ee.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:Ee}=e;Ee.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:Ee,keyframes:Ce,duration:Te,type:De,ease:Me,times:Oe}=e;if(Ee.playState==="idle"||Ee.playState==="finished")return;if(this.time){const{motionValue:ze,onUpdate:Ve,onComplete:qe,element:We,...Ge}=this.options,Je=new MainThreadAnimation({...Ge,keyframes:Ce,duration:Te,type:De,ease:Me,times:Oe,isGenerator:!0}),Qe=secondsToMilliseconds(this.time);ze.setWithVelocity(Je.sample(Qe-sampleDelta).value,Je.sample(Qe).value,sampleDelta)}const{onStop:Be}=this.options;Be&&Be(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:Ee,name:Ce,repeatDelay:Te,repeatType:De,damping:Me,type:Oe}=e;if(!Ee||!Ee.owner||!(Ee.owner.current instanceof HTMLElement))return!1;const{onUpdate:Be,transformTemplate:ze}=Ee.owner.getProps();return supportsWaapi()&&Ce&&acceleratedValues.has(Ce)&&(Ce!=="transform"||!ze)&&!Be&&!Te&&De!=="mirror"&&Me!==0&&Oe!=="inertia"}}const underDampedSpring={type:"spring",stiffness:500,damping:25,restSpeed:10},criticallyDampedSpring=Re=>({type:"spring",stiffness:550,damping:Re===0?2*Math.sqrt(550):30,restSpeed:10}),keyframesTransition={type:"keyframes",duration:.8},ease={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},getDefaultTransition=(Re,{keyframes:e})=>e.length>2?keyframesTransition:transformProps.has(Re)?Re.startsWith("scale")?criticallyDampedSpring(e[1]):underDampedSpring:ease;function isTransitionDefined({when:Re,delay:e,delayChildren:Ee,staggerChildren:Ce,staggerDirection:Te,repeat:De,repeatType:Me,repeatDelay:Oe,from:Be,elapsed:ze,...Ve}){return!!Object.keys(Ve).length}const animateMotionValue=(Re,e,Ee,Ce={},Te,De)=>Me=>{const Oe=getValueTransition(Ce,Re)||{},Be=Oe.delay||Ce.delay||0;let{elapsed:ze=0}=Ce;ze=ze-secondsToMilliseconds(Be);let Ve={keyframes:Array.isArray(Ee)?Ee:[null,Ee],ease:"easeOut",velocity:e.getVelocity(),...Oe,delay:-ze,onUpdate:We=>{e.set(We),Oe.onUpdate&&Oe.onUpdate(We)},onComplete:()=>{Me(),Oe.onComplete&&Oe.onComplete()},name:Re,motionValue:e,element:De?void 0:Te};isTransitionDefined(Oe)||(Ve={...Ve,...getDefaultTransition(Re,Ve)}),Ve.duration&&(Ve.duration=secondsToMilliseconds(Ve.duration)),Ve.repeatDelay&&(Ve.repeatDelay=secondsToMilliseconds(Ve.repeatDelay)),Ve.from!==void 0&&(Ve.keyframes[0]=Ve.from);let qe=!1;if((Ve.type===!1||Ve.duration===0&&!Ve.repeatDelay)&&(Ve.duration=0,Ve.delay===0&&(qe=!0)),Ve.allowFlatten=!Oe.type&&!Oe.ease,qe&&!De&&e.get()!==void 0){const We=getFinalKeyframe(Ve.keyframes,Oe);if(We!==void 0)return frame.update(()=>{Ve.onUpdate(We),Ve.onComplete()}),new GroupPlaybackControls([])}return!De&&AcceleratedAnimation.supports(Ve)?new AcceleratedAnimation(Ve):new MainThreadAnimation(Ve)};function shouldBlockAnimation({protectedKeys:Re,needsAnimating:e},Ee){const Ce=Re.hasOwnProperty(Ee)&&e[Ee]!==!0;return e[Ee]=!1,Ce}function animateTarget(Re,e,{delay:Ee=0,transitionOverride:Ce,type:Te}={}){var De;let{transition:Me=Re.getDefaultTransition(),transitionEnd:Oe,...Be}=e;Ce&&(Me=Ce);const ze=[],Ve=Te&&Re.animationState&&Re.animationState.getState()[Te];for(const qe in Be){const We=Re.getValue(qe,(De=Re.latestValues[qe])!==null&&De!==void 0?De:null),Ge=Be[qe];if(Ge===void 0||Ve&&shouldBlockAnimation(Ve,qe))continue;const Je={delay:Ee,...getValueTransition(Me||{},qe)};let Qe=!1;if(window.MotionHandoffAnimation){const Ye=getOptimisedAppearId(Re);if(Ye){const rs=window.MotionHandoffAnimation(Ye,qe,frame);rs!==null&&(Je.startTime=rs,Qe=!0)}}addValueToWillChange(Re,qe),We.start(animateMotionValue(qe,We,Ge,Re.shouldReduceMotion&&positionalKeys.has(qe)?{type:!1}:Je,Re,Qe));const ns=We.animation;ns&&ze.push(ns)}return Oe&&Promise.all(ze).then(()=>{frame.update(()=>{Oe&&setTarget(Re,Oe)})}),ze}function animateVariant(Re,e,Ee={}){var Ce;const Te=resolveVariant(Re,e,Ee.type==="exit"?(Ce=Re.presenceContext)===null||Ce===void 0?void 0:Ce.custom:void 0);let{transition:De=Re.getDefaultTransition()||{}}=Te||{};Ee.transitionOverride&&(De=Ee.transitionOverride);const Me=Te?()=>Promise.all(animateTarget(Re,Te,Ee)):()=>Promise.resolve(),Oe=Re.variantChildren&&Re.variantChildren.size?(ze=0)=>{const{delayChildren:Ve=0,staggerChildren:qe,staggerDirection:We}=De;return animateChildren(Re,e,Ve+ze,qe,We,Ee)}:()=>Promise.resolve(),{when:Be}=De;if(Be){const[ze,Ve]=Be==="beforeChildren"?[Me,Oe]:[Oe,Me];return ze().then(()=>Ve())}else return Promise.all([Me(),Oe(Ee.delay)])}function animateChildren(Re,e,Ee=0,Ce=0,Te=1,De){const Me=[],Oe=(Re.variantChildren.size-1)*Ce,Be=Te===1?(ze=0)=>ze*Ce:(ze=0)=>Oe-ze*Ce;return Array.from(Re.variantChildren).sort(sortByTreeOrder).forEach((ze,Ve)=>{ze.notify("AnimationStart",e),Me.push(animateVariant(ze,e,{...De,delay:Ee+Be(Ve)}).then(()=>ze.notify("AnimationComplete",e)))}),Promise.all(Me)}function sortByTreeOrder(Re,e){return Re.sortNodePosition(e)}function animateVisualElement(Re,e,Ee={}){Re.notify("AnimationStart",e);let Ce;if(Array.isArray(e)){const Te=e.map(De=>animateVariant(Re,De,Ee));Ce=Promise.all(Te)}else if(typeof e=="string")Ce=animateVariant(Re,e,Ee);else{const Te=typeof e=="function"?resolveVariant(Re,e,Ee.custom):e;Ce=Promise.all(animateTarget(Re,Te,Ee))}return Ce.then(()=>{Re.notify("AnimationComplete",e)})}function shallowCompare(Re,e){if(!Array.isArray(e))return!1;const Ee=e.length;if(Ee!==Re.length)return!1;for(let Ce=0;Ce<Ee;Ce++)if(e[Ce]!==Re[Ce])return!1;return!0}const numVariantProps=variantProps.length;function getVariantContext(Re){if(!Re)return;if(!Re.isControllingVariants){const Ee=Re.parent?getVariantContext(Re.parent)||{}:{};return Re.props.initial!==void 0&&(Ee.initial=Re.props.initial),Ee}const e={};for(let Ee=0;Ee<numVariantProps;Ee++){const Ce=variantProps[Ee],Te=Re.props[Ce];(isVariantLabel(Te)||Te===!1)&&(e[Ce]=Te)}return e}const reversePriorityOrder=[...variantPriorityOrder].reverse(),numAnimationTypes=variantPriorityOrder.length;function animateList(Re){return e=>Promise.all(e.map(({animation:Ee,options:Ce})=>animateVisualElement(Re,Ee,Ce)))}function createAnimationState(Re){let e=animateList(Re),Ee=createState(),Ce=!0;const Te=Be=>(ze,Ve)=>{var qe;const We=resolveVariant(Re,Ve,Be==="exit"?(qe=Re.presenceContext)===null||qe===void 0?void 0:qe.custom:void 0);if(We){const{transition:Ge,transitionEnd:Je,...Qe}=We;ze={...ze,...Qe,...Je}}return ze};function De(Be){e=Be(Re)}function Me(Be){const{props:ze}=Re,Ve=getVariantContext(Re.parent)||{},qe=[],We=new Set;let Ge={},Je=1/0;for(let ns=0;ns<numAnimationTypes;ns++){const Ye=reversePriorityOrder[ns],rs=Ee[Ye],ts=ze[Ye]!==void 0?ze[Ye]:Ve[Ye],Xe=isVariantLabel(ts),is=Ye===Be?rs.isActive:null;is===!1&&(Je=ns);let os=ts===Ve[Ye]&&ts!==ze[Ye]&&Xe;if(os&&Ce&&Re.manuallyAnimateOnMount&&(os=!1),rs.protectedKeys={...Ge},!rs.isActive&&is===null||!ts&&!rs.prevProp||isAnimationControls(ts)||typeof ts=="boolean")continue;const hs=checkVariantsDidChange(rs.prevProp,ts);let fs=hs||Ye===Be&&rs.isActive&&!os&&Xe||ns>Je&&Xe,xs=!1;const Ss=Array.isArray(ts)?ts:[ts];let ds=Ss.reduce(Te(Ye),{});is===!1&&(ds={});const{prevResolvedValues:gs={}}=rs,Ts={...gs,...ds},Ds=Ns=>{fs=!0,We.has(Ns)&&(xs=!0,We.delete(Ns)),rs.needsAnimating[Ns]=!0;const ps=Re.getValue(Ns);ps&&(ps.liveStyle=!1)};for(const Ns in Ts){const ps=ds[Ns],_s=gs[Ns];if(Ge.hasOwnProperty(Ns))continue;let ws=!1;isKeyframesTarget(ps)&&isKeyframesTarget(_s)?ws=!shallowCompare(ps,_s):ws=ps!==_s,ws?ps!=null?Ds(Ns):We.add(Ns):ps!==void 0&&We.has(Ns)?Ds(Ns):rs.protectedKeys[Ns]=!0}rs.prevProp=ts,rs.prevResolvedValues=ds,rs.isActive&&(Ge={...Ge,...ds}),Ce&&Re.blockInitialAnimation&&(fs=!1),fs&&(!(os&&hs)||xs)&&qe.push(...Ss.map(Ns=>({animation:Ns,options:{type:Ye}})))}if(We.size){const ns={};if(typeof ze.initial!="boolean"){const Ye=resolveVariant(Re,Array.isArray(ze.initial)?ze.initial[0]:ze.initial);Ye&&Ye.transition&&(ns.transition=Ye.transition)}We.forEach(Ye=>{const rs=Re.getBaseTarget(Ye),ts=Re.getValue(Ye);ts&&(ts.liveStyle=!0),ns[Ye]=rs??null}),qe.push({animation:ns})}let Qe=!!qe.length;return Ce&&(ze.initial===!1||ze.initial===ze.animate)&&!Re.manuallyAnimateOnMount&&(Qe=!1),Ce=!1,Qe?e(qe):Promise.resolve()}function Oe(Be,ze){var Ve;if(Ee[Be].isActive===ze)return Promise.resolve();(Ve=Re.variantChildren)===null||Ve===void 0||Ve.forEach(We=>{var Ge;return(Ge=We.animationState)===null||Ge===void 0?void 0:Ge.setActive(Be,ze)}),Ee[Be].isActive=ze;const qe=Me(Be);for(const We in Ee)Ee[We].protectedKeys={};return qe}return{animateChanges:Me,setActive:Oe,setAnimateFunction:De,getState:()=>Ee,reset:()=>{Ee=createState(),Ce=!0}}}function checkVariantsDidChange(Re,e){return typeof e=="string"?e!==Re:Array.isArray(e)?!shallowCompare(e,Re):!1}function createTypeState(Re=!1){return{isActive:Re,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function createState(){return{animate:createTypeState(!0),whileInView:createTypeState(),whileHover:createTypeState(),whileTap:createTypeState(),whileDrag:createTypeState(),whileFocus:createTypeState(),exit:createTypeState()}}class Feature{constructor(e){this.isMounted=!1,this.node=e}update(){}}class AnimationFeature extends Feature{constructor(e){super(e),e.animationState||(e.animationState=createAnimationState(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();isAnimationControls(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:Ee}=this.node.prevProps||{};e!==Ee&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let id$1=0;class ExitAnimationFeature extends Feature{constructor(){super(...arguments),this.id=id$1++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:Ee}=this.node.presenceContext,{isPresent:Ce}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===Ce)return;const Te=this.node.animationState.setActive("exit",!e);Ee&&!e&&Te.then(()=>{Ee(this.id)})}mount(){const{register:e,onExitComplete:Ee}=this.node.presenceContext||{};Ee&&Ee(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const animations={animation:{Feature:AnimationFeature},exit:{Feature:ExitAnimationFeature}};function addDomEvent(Re,e,Ee,Ce={passive:!0}){return Re.addEventListener(e,Ee,Ce),()=>Re.removeEventListener(e,Ee)}function extractEventInfo(Re){return{point:{x:Re.pageX,y:Re.pageY}}}const addPointerInfo=Re=>e=>isPrimaryPointer(e)&&Re(e,extractEventInfo(e));function addPointerEvent(Re,e,Ee,Ce){return addDomEvent(Re,e,addPointerInfo(Ee),Ce)}function convertBoundingBoxToBox({top:Re,left:e,right:Ee,bottom:Ce}){return{x:{min:e,max:Ee},y:{min:Re,max:Ce}}}function convertBoxToBoundingBox({x:Re,y:e}){return{top:e.min,right:Re.max,bottom:e.max,left:Re.min}}function transformBoxPoints(Re,e){if(!e)return Re;const Ee=e({x:Re.left,y:Re.top}),Ce=e({x:Re.right,y:Re.bottom});return{top:Ee.y,left:Ee.x,bottom:Ce.y,right:Ce.x}}const SCALE_PRECISION=1e-4,SCALE_MIN=1-SCALE_PRECISION,SCALE_MAX=1+SCALE_PRECISION,TRANSLATE_PRECISION=.01,TRANSLATE_MIN=0-TRANSLATE_PRECISION,TRANSLATE_MAX=0+TRANSLATE_PRECISION;function calcLength(Re){return Re.max-Re.min}function isNear(Re,e,Ee){return Math.abs(Re-e)<=Ee}function calcAxisDelta(Re,e,Ee,Ce=.5){Re.origin=Ce,Re.originPoint=mixNumber$1(e.min,e.max,Re.origin),Re.scale=calcLength(Ee)/calcLength(e),Re.translate=mixNumber$1(Ee.min,Ee.max,Re.origin)-Re.originPoint,(Re.scale>=SCALE_MIN&&Re.scale<=SCALE_MAX||isNaN(Re.scale))&&(Re.scale=1),(Re.translate>=TRANSLATE_MIN&&Re.translate<=TRANSLATE_MAX||isNaN(Re.translate))&&(Re.translate=0)}function calcBoxDelta(Re,e,Ee,Ce){calcAxisDelta(Re.x,e.x,Ee.x,Ce?Ce.originX:void 0),calcAxisDelta(Re.y,e.y,Ee.y,Ce?Ce.originY:void 0)}function calcRelativeAxis(Re,e,Ee){Re.min=Ee.min+e.min,Re.max=Re.min+calcLength(e)}function calcRelativeBox(Re,e,Ee){calcRelativeAxis(Re.x,e.x,Ee.x),calcRelativeAxis(Re.y,e.y,Ee.y)}function calcRelativeAxisPosition(Re,e,Ee){Re.min=e.min-Ee.min,Re.max=Re.min+calcLength(e)}function calcRelativePosition(Re,e,Ee){calcRelativeAxisPosition(Re.x,e.x,Ee.x),calcRelativeAxisPosition(Re.y,e.y,Ee.y)}const createAxisDelta=()=>({translate:0,scale:1,origin:0,originPoint:0}),createDelta=()=>({x:createAxisDelta(),y:createAxisDelta()}),createAxis=()=>({min:0,max:0}),createBox=()=>({x:createAxis(),y:createAxis()});function eachAxis(Re){return[Re("x"),Re("y")]}function isIdentityScale(Re){return Re===void 0||Re===1}function hasScale({scale:Re,scaleX:e,scaleY:Ee}){return!isIdentityScale(Re)||!isIdentityScale(e)||!isIdentityScale(Ee)}function hasTransform(Re){return hasScale(Re)||has2DTranslate(Re)||Re.z||Re.rotate||Re.rotateX||Re.rotateY||Re.skewX||Re.skewY}function has2DTranslate(Re){return is2DTranslate(Re.x)||is2DTranslate(Re.y)}function is2DTranslate(Re){return Re&&Re!=="0%"}function scalePoint(Re,e,Ee){const Ce=Re-Ee,Te=e*Ce;return Ee+Te}function applyPointDelta(Re,e,Ee,Ce,Te){return Te!==void 0&&(Re=scalePoint(Re,Te,Ce)),scalePoint(Re,Ee,Ce)+e}function applyAxisDelta(Re,e=0,Ee=1,Ce,Te){Re.min=applyPointDelta(Re.min,e,Ee,Ce,Te),Re.max=applyPointDelta(Re.max,e,Ee,Ce,Te)}function applyBoxDelta(Re,{x:e,y:Ee}){applyAxisDelta(Re.x,e.translate,e.scale,e.originPoint),applyAxisDelta(Re.y,Ee.translate,Ee.scale,Ee.originPoint)}const TREE_SCALE_SNAP_MIN=.999999999999,TREE_SCALE_SNAP_MAX=1.0000000000001;function applyTreeDeltas(Re,e,Ee,Ce=!1){const Te=Ee.length;if(!Te)return;e.x=e.y=1;let De,Me;for(let Oe=0;Oe<Te;Oe++){De=Ee[Oe],Me=De.projectionDelta;const{visualElement:Be}=De.options;Be&&Be.props.style&&Be.props.style.display==="contents"||(Ce&&De.options.layoutScroll&&De.scroll&&De!==De.root&&transformBox(Re,{x:-De.scroll.offset.x,y:-De.scroll.offset.y}),Me&&(e.x*=Me.x.scale,e.y*=Me.y.scale,applyBoxDelta(Re,Me)),Ce&&hasTransform(De.latestValues)&&transformBox(Re,De.latestValues))}e.x<TREE_SCALE_SNAP_MAX&&e.x>TREE_SCALE_SNAP_MIN&&(e.x=1),e.y<TREE_SCALE_SNAP_MAX&&e.y>TREE_SCALE_SNAP_MIN&&(e.y=1)}function translateAxis(Re,e){Re.min=Re.min+e,Re.max=Re.max+e}function transformAxis(Re,e,Ee,Ce,Te=.5){const De=mixNumber$1(Re.min,Re.max,Te);applyAxisDelta(Re,e,Ee,De,Ce)}function transformBox(Re,e){transformAxis(Re.x,e.x,e.scaleX,e.scale,e.originX),transformAxis(Re.y,e.y,e.scaleY,e.scale,e.originY)}function measureViewportBox(Re,e){return convertBoundingBoxToBox(transformBoxPoints(Re.getBoundingClientRect(),e))}function measurePageBox(Re,e,Ee){const Ce=measureViewportBox(Re,Ee),{scroll:Te}=e;return Te&&(translateAxis(Ce.x,Te.offset.x),translateAxis(Ce.y,Te.offset.y)),Ce}const getContextWindow=({current:Re})=>Re?Re.ownerDocument.defaultView:null,distance=(Re,e)=>Math.abs(Re-e);function distance2D(Re,e){const Ee=distance(Re.x,e.x),Ce=distance(Re.y,e.y);return Math.sqrt(Ee**2+Ce**2)}class PanSession{constructor(e,Ee,{transformPagePoint:Ce,contextWindow:Te,dragSnapToOrigin:De=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const qe=getPanInfo(this.lastMoveEventInfo,this.history),We=this.startEvent!==null,Ge=distance2D(qe.offset,{x:0,y:0})>=3;if(!We&&!Ge)return;const{point:Je}=qe,{timestamp:Qe}=frameData;this.history.push({...Je,timestamp:Qe});const{onStart:ns,onMove:Ye}=this.handlers;We||(ns&&ns(this.lastMoveEvent,qe),this.startEvent=this.lastMoveEvent),Ye&&Ye(this.lastMoveEvent,qe)},this.handlePointerMove=(qe,We)=>{this.lastMoveEvent=qe,this.lastMoveEventInfo=transformPoint(We,this.transformPagePoint),frame.update(this.updatePoint,!0)},this.handlePointerUp=(qe,We)=>{this.end();const{onEnd:Ge,onSessionEnd:Je,resumeAnimation:Qe}=this.handlers;if(this.dragSnapToOrigin&&Qe&&Qe(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const ns=getPanInfo(qe.type==="pointercancel"?this.lastMoveEventInfo:transformPoint(We,this.transformPagePoint),this.history);this.startEvent&&Ge&&Ge(qe,ns),Je&&Je(qe,ns)},!isPrimaryPointer(e))return;this.dragSnapToOrigin=De,this.handlers=Ee,this.transformPagePoint=Ce,this.contextWindow=Te||window;const Me=extractEventInfo(e),Oe=transformPoint(Me,this.transformPagePoint),{point:Be}=Oe,{timestamp:ze}=frameData;this.history=[{...Be,timestamp:ze}];const{onSessionStart:Ve}=Ee;Ve&&Ve(e,getPanInfo(Oe,this.history)),this.removeListeners=pipe$1(addPointerEvent(this.contextWindow,"pointermove",this.handlePointerMove),addPointerEvent(this.contextWindow,"pointerup",this.handlePointerUp),addPointerEvent(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),cancelFrame(this.updatePoint)}}function transformPoint(Re,e){return e?{point:e(Re.point)}:Re}function subtractPoint(Re,e){return{x:Re.x-e.x,y:Re.y-e.y}}function getPanInfo({point:Re},e){return{point:Re,delta:subtractPoint(Re,lastDevicePoint(e)),offset:subtractPoint(Re,startDevicePoint(e)),velocity:getVelocity(e,.1)}}function startDevicePoint(Re){return Re[0]}function lastDevicePoint(Re){return Re[Re.length-1]}function getVelocity(Re,e){if(Re.length<2)return{x:0,y:0};let Ee=Re.length-1,Ce=null;const Te=lastDevicePoint(Re);for(;Ee>=0&&(Ce=Re[Ee],!(Te.timestamp-Ce.timestamp>secondsToMilliseconds(e)));)Ee--;if(!Ce)return{x:0,y:0};const De=millisecondsToSeconds(Te.timestamp-Ce.timestamp);if(De===0)return{x:0,y:0};const Me={x:(Te.x-Ce.x)/De,y:(Te.y-Ce.y)/De};return Me.x===1/0&&(Me.x=0),Me.y===1/0&&(Me.y=0),Me}function applyConstraints(Re,{min:e,max:Ee},Ce){return e!==void 0&&Re<e?Re=Ce?mixNumber$1(e,Re,Ce.min):Math.max(Re,e):Ee!==void 0&&Re>Ee&&(Re=Ce?mixNumber$1(Ee,Re,Ce.max):Math.min(Re,Ee)),Re}function calcRelativeAxisConstraints(Re,e,Ee){return{min:e!==void 0?Re.min+e:void 0,max:Ee!==void 0?Re.max+Ee-(Re.max-Re.min):void 0}}function calcRelativeConstraints(Re,{top:e,left:Ee,bottom:Ce,right:Te}){return{x:calcRelativeAxisConstraints(Re.x,Ee,Te),y:calcRelativeAxisConstraints(Re.y,e,Ce)}}function calcViewportAxisConstraints(Re,e){let Ee=e.min-Re.min,Ce=e.max-Re.max;return e.max-e.min<Re.max-Re.min&&([Ee,Ce]=[Ce,Ee]),{min:Ee,max:Ce}}function calcViewportConstraints(Re,e){return{x:calcViewportAxisConstraints(Re.x,e.x),y:calcViewportAxisConstraints(Re.y,e.y)}}function calcOrigin(Re,e){let Ee=.5;const Ce=calcLength(Re),Te=calcLength(e);return Te>Ce?Ee=progress(e.min,e.max-Ce,Re.min):Ce>Te&&(Ee=progress(Re.min,Re.max-Te,e.min)),clamp$1(0,1,Ee)}function rebaseAxisConstraints(Re,e){const Ee={};return e.min!==void 0&&(Ee.min=e.min-Re.min),e.max!==void 0&&(Ee.max=e.max-Re.min),Ee}const defaultElastic=.35;function resolveDragElastic(Re=defaultElastic){return Re===!1?Re=0:Re===!0&&(Re=defaultElastic),{x:resolveAxisElastic(Re,"left","right"),y:resolveAxisElastic(Re,"top","bottom")}}function resolveAxisElastic(Re,e,Ee){return{min:resolvePointElastic(Re,e),max:resolvePointElastic(Re,Ee)}}function resolvePointElastic(Re,e){return typeof Re=="number"?Re:Re[e]||0}const elementDragControls=new WeakMap;class VisualElementDragControls{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=createBox(),this.visualElement=e}start(e,{snapToCursor:Ee=!1}={}){const{presenceContext:Ce}=this.visualElement;if(Ce&&Ce.isPresent===!1)return;const Te=Ve=>{const{dragSnapToOrigin:qe}=this.getProps();qe?this.pauseAnimation():this.stopAnimation(),Ee&&this.snapToCursor(extractEventInfo(Ve).point)},De=(Ve,qe)=>{const{drag:We,dragPropagation:Ge,onDragStart:Je}=this.getProps();if(We&&!Ge&&(this.openDragLock&&this.openDragLock(),this.openDragLock=setDragLock(We),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),eachAxis(ns=>{let Ye=this.getAxisMotionValue(ns).get()||0;if(percent.test(Ye)){const{projection:rs}=this.visualElement;if(rs&&rs.layout){const ts=rs.layout.layoutBox[ns];ts&&(Ye=calcLength(ts)*(parseFloat(Ye)/100))}}this.originPoint[ns]=Ye}),Je&&frame.postRender(()=>Je(Ve,qe)),addValueToWillChange(this.visualElement,"transform");const{animationState:Qe}=this.visualElement;Qe&&Qe.setActive("whileDrag",!0)},Me=(Ve,qe)=>{const{dragPropagation:We,dragDirectionLock:Ge,onDirectionLock:Je,onDrag:Qe}=this.getProps();if(!We&&!this.openDragLock)return;const{offset:ns}=qe;if(Ge&&this.currentDirection===null){this.currentDirection=getCurrentDirection(ns),this.currentDirection!==null&&Je&&Je(this.currentDirection);return}this.updateAxis("x",qe.point,ns),this.updateAxis("y",qe.point,ns),this.visualElement.render(),Qe&&Qe(Ve,qe)},Oe=(Ve,qe)=>this.stop(Ve,qe),Be=()=>eachAxis(Ve=>{var qe;return this.getAnimationState(Ve)==="paused"&&((qe=this.getAxisMotionValue(Ve).animation)===null||qe===void 0?void 0:qe.play())}),{dragSnapToOrigin:ze}=this.getProps();this.panSession=new PanSession(e,{onSessionStart:Te,onStart:De,onMove:Me,onSessionEnd:Oe,resumeAnimation:Be},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:ze,contextWindow:getContextWindow(this.visualElement)})}stop(e,Ee){const Ce=this.isDragging;if(this.cancel(),!Ce)return;const{velocity:Te}=Ee;this.startAnimation(Te);const{onDragEnd:De}=this.getProps();De&&frame.postRender(()=>De(e,Ee))}cancel(){this.isDragging=!1;const{projection:e,animationState:Ee}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:Ce}=this.getProps();!Ce&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),Ee&&Ee.setActive("whileDrag",!1)}updateAxis(e,Ee,Ce){const{drag:Te}=this.getProps();if(!Ce||!shouldDrag(e,Te,this.currentDirection))return;const De=this.getAxisMotionValue(e);let Me=this.originPoint[e]+Ce[e];this.constraints&&this.constraints[e]&&(Me=applyConstraints(Me,this.constraints[e],this.elastic[e])),De.set(Me)}resolveConstraints(){var e;const{dragConstraints:Ee,dragElastic:Ce}=this.getProps(),Te=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,De=this.constraints;Ee&&isRefObject(Ee)?this.constraints||(this.constraints=this.resolveRefConstraints()):Ee&&Te?this.constraints=calcRelativeConstraints(Te.layoutBox,Ee):this.constraints=!1,this.elastic=resolveDragElastic(Ce),De!==this.constraints&&Te&&this.constraints&&!this.hasMutatedConstraints&&eachAxis(Me=>{this.constraints!==!1&&this.getAxisMotionValue(Me)&&(this.constraints[Me]=rebaseAxisConstraints(Te.layoutBox[Me],this.constraints[Me]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:Ee}=this.getProps();if(!e||!isRefObject(e))return!1;const Ce=e.current,{projection:Te}=this.visualElement;if(!Te||!Te.layout)return!1;const De=measurePageBox(Ce,Te.root,this.visualElement.getTransformPagePoint());let Me=calcViewportConstraints(Te.layout.layoutBox,De);if(Ee){const Oe=Ee(convertBoxToBoundingBox(Me));this.hasMutatedConstraints=!!Oe,Oe&&(Me=convertBoundingBoxToBox(Oe))}return Me}startAnimation(e){const{drag:Ee,dragMomentum:Ce,dragElastic:Te,dragTransition:De,dragSnapToOrigin:Me,onDragTransitionEnd:Oe}=this.getProps(),Be=this.constraints||{},ze=eachAxis(Ve=>{if(!shouldDrag(Ve,Ee,this.currentDirection))return;let qe=Be&&Be[Ve]||{};Me&&(qe={min:0,max:0});const We=Te?200:1e6,Ge=Te?40:1e7,Je={type:"inertia",velocity:Ce?e[Ve]:0,bounceStiffness:We,bounceDamping:Ge,timeConstant:750,restDelta:1,restSpeed:10,...De,...qe};return this.startAxisValueAnimation(Ve,Je)});return Promise.all(ze).then(Oe)}startAxisValueAnimation(e,Ee){const Ce=this.getAxisMotionValue(e);return addValueToWillChange(this.visualElement,e),Ce.start(animateMotionValue(e,Ce,0,Ee,this.visualElement,!1))}stopAnimation(){eachAxis(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){eachAxis(e=>{var Ee;return(Ee=this.getAxisMotionValue(e).animation)===null||Ee===void 0?void 0:Ee.pause()})}getAnimationState(e){var Ee;return(Ee=this.getAxisMotionValue(e).animation)===null||Ee===void 0?void 0:Ee.state}getAxisMotionValue(e){const Ee=`_drag${e.toUpperCase()}`,Ce=this.visualElement.getProps(),Te=Ce[Ee];return Te||this.visualElement.getValue(e,(Ce.initial?Ce.initial[e]:void 0)||0)}snapToCursor(e){eachAxis(Ee=>{const{drag:Ce}=this.getProps();if(!shouldDrag(Ee,Ce,this.currentDirection))return;const{projection:Te}=this.visualElement,De=this.getAxisMotionValue(Ee);if(Te&&Te.layout){const{min:Me,max:Oe}=Te.layout.layoutBox[Ee];De.set(e[Ee]-mixNumber$1(Me,Oe,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:Ee}=this.getProps(),{projection:Ce}=this.visualElement;if(!isRefObject(Ee)||!Ce||!this.constraints)return;this.stopAnimation();const Te={x:0,y:0};eachAxis(Me=>{const Oe=this.getAxisMotionValue(Me);if(Oe&&this.constraints!==!1){const Be=Oe.get();Te[Me]=calcOrigin({min:Be,max:Be},this.constraints[Me])}});const{transformTemplate:De}=this.visualElement.getProps();this.visualElement.current.style.transform=De?De({},""):"none",Ce.root&&Ce.root.updateScroll(),Ce.updateLayout(),this.resolveConstraints(),eachAxis(Me=>{if(!shouldDrag(Me,e,null))return;const Oe=this.getAxisMotionValue(Me),{min:Be,max:ze}=this.constraints[Me];Oe.set(mixNumber$1(Be,ze,Te[Me]))})}addListeners(){if(!this.visualElement.current)return;elementDragControls.set(this.visualElement,this);const e=this.visualElement.current,Ee=addPointerEvent(e,"pointerdown",Be=>{const{drag:ze,dragListener:Ve=!0}=this.getProps();ze&&Ve&&this.start(Be)}),Ce=()=>{const{dragConstraints:Be}=this.getProps();isRefObject(Be)&&Be.current&&(this.constraints=this.resolveRefConstraints())},{projection:Te}=this.visualElement,De=Te.addEventListener("measure",Ce);Te&&!Te.layout&&(Te.root&&Te.root.updateScroll(),Te.updateLayout()),frame.read(Ce);const Me=addDomEvent(window,"resize",()=>this.scalePositionWithinConstraints()),Oe=Te.addEventListener("didUpdate",({delta:Be,hasLayoutChanged:ze})=>{this.isDragging&&ze&&(eachAxis(Ve=>{const qe=this.getAxisMotionValue(Ve);qe&&(this.originPoint[Ve]+=Be[Ve].translate,qe.set(qe.get()+Be[Ve].translate))}),this.visualElement.render())});return()=>{Me(),Ee(),De(),Oe&&Oe()}}getProps(){const e=this.visualElement.getProps(),{drag:Ee=!1,dragDirectionLock:Ce=!1,dragPropagation:Te=!1,dragConstraints:De=!1,dragElastic:Me=defaultElastic,dragMomentum:Oe=!0}=e;return{...e,drag:Ee,dragDirectionLock:Ce,dragPropagation:Te,dragConstraints:De,dragElastic:Me,dragMomentum:Oe}}}function shouldDrag(Re,e,Ee){return(e===!0||e===Re)&&(Ee===null||Ee===Re)}function getCurrentDirection(Re,e=10){let Ee=null;return Math.abs(Re.y)>e?Ee="y":Math.abs(Re.x)>e&&(Ee="x"),Ee}class DragGesture extends Feature{constructor(e){super(e),this.removeGroupControls=noop$1,this.removeListeners=noop$1,this.controls=new VisualElementDragControls(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||noop$1}unmount(){this.removeGroupControls(),this.removeListeners()}}const asyncHandler=Re=>(e,Ee)=>{Re&&frame.postRender(()=>Re(e,Ee))};class PanGesture extends Feature{constructor(){super(...arguments),this.removePointerDownListener=noop$1}onPointerDown(e){this.session=new PanSession(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:getContextWindow(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:Ee,onPan:Ce,onPanEnd:Te}=this.node.getProps();return{onSessionStart:asyncHandler(e),onStart:asyncHandler(Ee),onMove:Ce,onEnd:(De,Me)=>{delete this.session,Te&&frame.postRender(()=>Te(De,Me))}}}mount(){this.removePointerDownListener=addPointerEvent(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const globalProjectionState={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function pixelsToPercent(Re,e){return e.max===e.min?0:Re/(e.max-e.min)*100}const correctBorderRadius={correct:(Re,e)=>{if(!e.target)return Re;if(typeof Re=="string")if(px.test(Re))Re=parseFloat(Re);else return Re;const Ee=pixelsToPercent(Re,e.target.x),Ce=pixelsToPercent(Re,e.target.y);return`${Ee}% ${Ce}%`}},correctBoxShadow={correct:(Re,{treeScale:e,projectionDelta:Ee})=>{const Ce=Re,Te=complex.parse(Re);if(Te.length>5)return Ce;const De=complex.createTransformer(Re),Me=typeof Te[0]!="number"?1:0,Oe=Ee.x.scale*e.x,Be=Ee.y.scale*e.y;Te[0+Me]/=Oe,Te[1+Me]/=Be;const ze=mixNumber$1(Oe,Be,.5);return typeof Te[2+Me]=="number"&&(Te[2+Me]/=ze),typeof Te[3+Me]=="number"&&(Te[3+Me]/=ze),De(Te)}};class MeasureLayoutWithContext extends reactExports.Component{componentDidMount(){const{visualElement:e,layoutGroup:Ee,switchLayoutGroup:Ce,layoutId:Te}=this.props,{projection:De}=e;addScaleCorrector(defaultScaleCorrectors),De&&(Ee.group&&Ee.group.add(De),Ce&&Ce.register&&Te&&Ce.register(De),De.root.didUpdate(),De.addEventListener("animationComplete",()=>{this.safeToRemove()}),De.setOptions({...De.options,onExitComplete:()=>this.safeToRemove()})),globalProjectionState.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:Ee,visualElement:Ce,drag:Te,isPresent:De}=this.props,Me=Ce.projection;return Me&&(Me.isPresent=De,Te||e.layoutDependency!==Ee||Ee===void 0||e.isPresent!==De?Me.willUpdate():this.safeToRemove(),e.isPresent!==De&&(De?Me.promote():Me.relegate()||frame.postRender(()=>{const Oe=Me.getStack();(!Oe||!Oe.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),microtask.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:Ee,switchLayoutGroup:Ce}=this.props,{projection:Te}=e;Te&&(Te.scheduleCheckAfterUnmount(),Ee&&Ee.group&&Ee.group.remove(Te),Ce&&Ce.deregister&&Ce.deregister(Te))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function MeasureLayout(Re){const[e,Ee]=usePresence(),Ce=reactExports.useContext(LayoutGroupContext);return jsxRuntimeExports.jsx(MeasureLayoutWithContext,{...Re,layoutGroup:Ce,switchLayoutGroup:reactExports.useContext(SwitchLayoutGroupContext),isPresent:e,safeToRemove:Ee})}const defaultScaleCorrectors={borderRadius:{...correctBorderRadius,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:correctBorderRadius,borderTopRightRadius:correctBorderRadius,borderBottomLeftRadius:correctBorderRadius,borderBottomRightRadius:correctBorderRadius,boxShadow:correctBoxShadow};function animateSingleValue(Re,e,Ee){const Ce=isMotionValue(Re)?Re:motionValue(Re);return Ce.start(animateMotionValue("",Ce,e,Ee)),Ce.animation}function isSVGElement(Re){return Re instanceof SVGElement&&Re.tagName!=="svg"}const compareByDepth=(Re,e)=>Re.depth-e.depth;class FlatTree{constructor(){this.children=[],this.isDirty=!1}add(e){addUniqueItem(this.children,e),this.isDirty=!0}remove(e){removeItem(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(compareByDepth),this.isDirty=!1,this.children.forEach(e)}}function delay(Re,e){const Ee=time$2.now(),Ce=({timestamp:Te})=>{const De=Te-Ee;De>=e&&(cancelFrame(Ce),Re(De-e))};return frame.read(Ce,!0),()=>cancelFrame(Ce)}const borders=["TopLeft","TopRight","BottomLeft","BottomRight"],numBorders=borders.length,asNumber=Re=>typeof Re=="string"?parseFloat(Re):Re,isPx=Re=>typeof Re=="number"||px.test(Re);function mixValues(Re,e,Ee,Ce,Te,De){Te?(Re.opacity=mixNumber$1(0,Ee.opacity!==void 0?Ee.opacity:1,easeCrossfadeIn(Ce)),Re.opacityExit=mixNumber$1(e.opacity!==void 0?e.opacity:1,0,easeCrossfadeOut(Ce))):De&&(Re.opacity=mixNumber$1(e.opacity!==void 0?e.opacity:1,Ee.opacity!==void 0?Ee.opacity:1,Ce));for(let Me=0;Me<numBorders;Me++){const Oe=`border${borders[Me]}Radius`;let Be=getRadius(e,Oe),ze=getRadius(Ee,Oe);if(Be===void 0&&ze===void 0)continue;Be||(Be=0),ze||(ze=0),Be===0||ze===0||isPx(Be)===isPx(ze)?(Re[Oe]=Math.max(mixNumber$1(asNumber(Be),asNumber(ze),Ce),0),(percent.test(ze)||percent.test(Be))&&(Re[Oe]+="%")):Re[Oe]=ze}(e.rotate||Ee.rotate)&&(Re.rotate=mixNumber$1(e.rotate||0,Ee.rotate||0,Ce))}function getRadius(Re,e){return Re[e]!==void 0?Re[e]:Re.borderRadius}const easeCrossfadeIn=compress(0,.5,circOut),easeCrossfadeOut=compress(.5,.95,noop$1);function compress(Re,e,Ee){return Ce=>Ce<Re?0:Ce>e?1:Ee(progress(Re,e,Ce))}function copyAxisInto(Re,e){Re.min=e.min,Re.max=e.max}function copyBoxInto(Re,e){copyAxisInto(Re.x,e.x),copyAxisInto(Re.y,e.y)}function copyAxisDeltaInto(Re,e){Re.translate=e.translate,Re.scale=e.scale,Re.originPoint=e.originPoint,Re.origin=e.origin}function removePointDelta(Re,e,Ee,Ce,Te){return Re-=e,Re=scalePoint(Re,1/Ee,Ce),Te!==void 0&&(Re=scalePoint(Re,1/Te,Ce)),Re}function removeAxisDelta(Re,e=0,Ee=1,Ce=.5,Te,De=Re,Me=Re){if(percent.test(e)&&(e=parseFloat(e),e=mixNumber$1(Me.min,Me.max,e/100)-Me.min),typeof e!="number")return;let Oe=mixNumber$1(De.min,De.max,Ce);Re===De&&(Oe-=e),Re.min=removePointDelta(Re.min,e,Ee,Oe,Te),Re.max=removePointDelta(Re.max,e,Ee,Oe,Te)}function removeAxisTransforms(Re,e,[Ee,Ce,Te],De,Me){removeAxisDelta(Re,e[Ee],e[Ce],e[Te],e.scale,De,Me)}const xKeys=["x","scaleX","originX"],yKeys=["y","scaleY","originY"];function removeBoxTransforms(Re,e,Ee,Ce){removeAxisTransforms(Re.x,e,xKeys,Ee?Ee.x:void 0,Ce?Ce.x:void 0),removeAxisTransforms(Re.y,e,yKeys,Ee?Ee.y:void 0,Ce?Ce.y:void 0)}function isAxisDeltaZero(Re){return Re.translate===0&&Re.scale===1}function isDeltaZero(Re){return isAxisDeltaZero(Re.x)&&isAxisDeltaZero(Re.y)}function axisEquals(Re,e){return Re.min===e.min&&Re.max===e.max}function boxEquals(Re,e){return axisEquals(Re.x,e.x)&&axisEquals(Re.y,e.y)}function axisEqualsRounded(Re,e){return Math.round(Re.min)===Math.round(e.min)&&Math.round(Re.max)===Math.round(e.max)}function boxEqualsRounded(Re,e){return axisEqualsRounded(Re.x,e.x)&&axisEqualsRounded(Re.y,e.y)}function aspectRatio(Re){return calcLength(Re.x)/calcLength(Re.y)}function axisDeltaEquals(Re,e){return Re.translate===e.translate&&Re.scale===e.scale&&Re.originPoint===e.originPoint}class NodeStack{constructor(){this.members=[]}add(e){addUniqueItem(this.members,e),e.scheduleRender()}remove(e){if(removeItem(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const Ee=this.members[this.members.length-1];Ee&&this.promote(Ee)}}relegate(e){const Ee=this.members.findIndex(Te=>e===Te);if(Ee===0)return!1;let Ce;for(let Te=Ee;Te>=0;Te--){const De=this.members[Te];if(De.isPresent!==!1){Ce=De;break}}return Ce?(this.promote(Ce),!0):!1}promote(e,Ee){const Ce=this.lead;if(e!==Ce&&(this.prevLead=Ce,this.lead=e,e.show(),Ce)){Ce.instance&&Ce.scheduleRender(),e.scheduleRender(),e.resumeFrom=Ce,Ee&&(e.resumeFrom.preserveOpacity=!0),Ce.snapshot&&(e.snapshot=Ce.snapshot,e.snapshot.latestValues=Ce.animationValues||Ce.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:Te}=e.options;Te===!1&&Ce.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:Ee,resumingFrom:Ce}=e;Ee.onExitComplete&&Ee.onExitComplete(),Ce&&Ce.options.onExitComplete&&Ce.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function buildProjectionTransform(Re,e,Ee){let Ce="";const Te=Re.x.translate/e.x,De=Re.y.translate/e.y,Me=(Ee==null?void 0:Ee.z)||0;if((Te||De||Me)&&(Ce=`translate3d(${Te}px, ${De}px, ${Me}px) `),(e.x!==1||e.y!==1)&&(Ce+=`scale(${1/e.x}, ${1/e.y}) `),Ee){const{transformPerspective:ze,rotate:Ve,rotateX:qe,rotateY:We,skewX:Ge,skewY:Je}=Ee;ze&&(Ce=`perspective(${ze}px) ${Ce}`),Ve&&(Ce+=`rotate(${Ve}deg) `),qe&&(Ce+=`rotateX(${qe}deg) `),We&&(Ce+=`rotateY(${We}deg) `),Ge&&(Ce+=`skewX(${Ge}deg) `),Je&&(Ce+=`skewY(${Je}deg) `)}const Oe=Re.x.scale*e.x,Be=Re.y.scale*e.y;return(Oe!==1||Be!==1)&&(Ce+=`scale(${Oe}, ${Be})`),Ce||"none"}const transformAxes=["","X","Y","Z"],hiddenVisibility={visibility:"hidden"},animationTarget=1e3;let id=0;function resetDistortingTransform(Re,e,Ee,Ce){const{latestValues:Te}=e;Te[Re]&&(Ee[Re]=Te[Re],e.setStaticValue(Re,0),Ce&&(Ce[Re]=0))}function cancelTreeOptimisedTransformAnimations(Re){if(Re.hasCheckedOptimisedAppear=!0,Re.root===Re)return;const{visualElement:e}=Re.options;if(!e)return;const Ee=getOptimisedAppearId(e);if(window.MotionHasOptimisedAnimation(Ee,"transform")){const{layout:Te,layoutId:De}=Re.options;window.MotionCancelOptimisedAnimation(Ee,"transform",frame,!(Te||De))}const{parent:Ce}=Re;Ce&&!Ce.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(Ce)}function createProjectionNode({attachResizeListener:Re,defaultParent:e,measureScroll:Ee,checkIsScrollRoot:Ce,resetTransform:Te}){return class{constructor(Me={},Oe=e==null?void 0:e()){this.id=id++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(propagateDirtyNodes),this.nodes.forEach(resolveTargetDelta),this.nodes.forEach(calcProjection),this.nodes.forEach(cleanDirtyNodes)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=Me,this.root=Oe?Oe.root||Oe:this,this.path=Oe?[...Oe.path,Oe]:[],this.parent=Oe,this.depth=Oe?Oe.depth+1:0;for(let Be=0;Be<this.path.length;Be++)this.path[Be].shouldResetTransform=!0;this.root===this&&(this.nodes=new FlatTree)}addEventListener(Me,Oe){return this.eventHandlers.has(Me)||this.eventHandlers.set(Me,new SubscriptionManager),this.eventHandlers.get(Me).add(Oe)}notifyListeners(Me,...Oe){const Be=this.eventHandlers.get(Me);Be&&Be.notify(...Oe)}hasListeners(Me){return this.eventHandlers.has(Me)}mount(Me,Oe=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=isSVGElement(Me),this.instance=Me;const{layoutId:Be,layout:ze,visualElement:Ve}=this.options;if(Ve&&!Ve.current&&Ve.mount(Me),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),Oe&&(ze||Be)&&(this.isLayoutDirty=!0),Re){let qe;const We=()=>this.root.updateBlockedByResize=!1;Re(Me,()=>{this.root.updateBlockedByResize=!0,qe&&qe(),qe=delay(We,250),globalProjectionState.hasAnimatedSinceResize&&(globalProjectionState.hasAnimatedSinceResize=!1,this.nodes.forEach(finishAnimation))})}Be&&this.root.registerSharedNode(Be,this),this.options.animate!==!1&&Ve&&(Be||ze)&&this.addEventListener("didUpdate",({delta:qe,hasLayoutChanged:We,hasRelativeLayoutChanged:Ge,layout:Je})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const Qe=this.options.transition||Ve.getDefaultTransition()||defaultLayoutTransition,{onLayoutAnimationStart:ns,onLayoutAnimationComplete:Ye}=Ve.getProps(),rs=!this.targetLayout||!boxEqualsRounded(this.targetLayout,Je),ts=!We&&Ge;if(this.options.layoutRoot||this.resumeFrom||ts||We&&(rs||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(qe,ts);const Xe={...getValueTransition(Qe,"layout"),onPlay:ns,onComplete:Ye};(Ve.shouldReduceMotion||this.options.layoutRoot)&&(Xe.delay=0,Xe.type=!1),this.startAnimation(Xe)}else We||finishAnimation(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=Je})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const Me=this.getStack();Me&&Me.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,cancelFrame(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(resetSkewAndRotation),this.animationId++)}getTransformTemplate(){const{visualElement:Me}=this.options;return Me&&Me.getProps().transformTemplate}willUpdate(Me=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cancelTreeOptimisedTransformAnimations(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let Ve=0;Ve<this.path.length;Ve++){const qe=this.path[Ve];qe.shouldResetTransform=!0,qe.updateScroll("snapshot"),qe.options.layoutRoot&&qe.willUpdate(!1)}const{layoutId:Oe,layout:Be}=this.options;if(Oe===void 0&&!Be)return;const ze=this.getTransformTemplate();this.prevTransformTemplateValue=ze?ze(this.latestValues,""):void 0,this.updateSnapshot(),Me&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(clearMeasurements);return}this.isUpdating||this.nodes.forEach(clearIsLayoutDirty),this.isUpdating=!1,this.nodes.forEach(resetTransformStyle),this.nodes.forEach(updateLayout),this.nodes.forEach(notifyLayoutUpdate),this.clearAllSnapshots();const Oe=time$2.now();frameData.delta=clamp$1(0,1e3/60,Oe-frameData.timestamp),frameData.timestamp=Oe,frameData.isProcessing=!0,frameSteps.update.process(frameData),frameSteps.preRender.process(frameData),frameSteps.render.process(frameData),frameData.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,microtask.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(clearSnapshot),this.sharedNodes.forEach(removeLeadSnapshots)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,frame.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){frame.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!calcLength(this.snapshot.measuredBox.x)&&!calcLength(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let Be=0;Be<this.path.length;Be++)this.path[Be].updateScroll();const Me=this.layout;this.layout=this.measure(!1),this.layoutCorrected=createBox(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:Oe}=this.options;Oe&&Oe.notify("LayoutMeasure",this.layout.layoutBox,Me?Me.layoutBox:void 0)}updateScroll(Me="measure"){let Oe=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===Me&&(Oe=!1),Oe){const Be=Ce(this.instance);this.scroll={animationId:this.root.animationId,phase:Me,isRoot:Be,offset:Ee(this.instance),wasRoot:this.scroll?this.scroll.isRoot:Be}}}resetTransform(){if(!Te)return;const Me=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,Oe=this.projectionDelta&&!isDeltaZero(this.projectionDelta),Be=this.getTransformTemplate(),ze=Be?Be(this.latestValues,""):void 0,Ve=ze!==this.prevTransformTemplateValue;Me&&(Oe||hasTransform(this.latestValues)||Ve)&&(Te(this.instance,ze),this.shouldResetTransform=!1,this.scheduleRender())}measure(Me=!0){const Oe=this.measurePageBox();let Be=this.removeElementScroll(Oe);return Me&&(Be=this.removeTransform(Be)),roundBox(Be),{animationId:this.root.animationId,measuredBox:Oe,layoutBox:Be,latestValues:{},source:this.id}}measurePageBox(){var Me;const{visualElement:Oe}=this.options;if(!Oe)return createBox();const Be=Oe.measureViewportBox();if(!(((Me=this.scroll)===null||Me===void 0?void 0:Me.wasRoot)||this.path.some(checkNodeWasScrollRoot))){const{scroll:Ve}=this.root;Ve&&(translateAxis(Be.x,Ve.offset.x),translateAxis(Be.y,Ve.offset.y))}return Be}removeElementScroll(Me){var Oe;const Be=createBox();if(copyBoxInto(Be,Me),!((Oe=this.scroll)===null||Oe===void 0)&&Oe.wasRoot)return Be;for(let ze=0;ze<this.path.length;ze++){const Ve=this.path[ze],{scroll:qe,options:We}=Ve;Ve!==this.root&&qe&&We.layoutScroll&&(qe.wasRoot&&copyBoxInto(Be,Me),translateAxis(Be.x,qe.offset.x),translateAxis(Be.y,qe.offset.y))}return Be}applyTransform(Me,Oe=!1){const Be=createBox();copyBoxInto(Be,Me);for(let ze=0;ze<this.path.length;ze++){const Ve=this.path[ze];!Oe&&Ve.options.layoutScroll&&Ve.scroll&&Ve!==Ve.root&&transformBox(Be,{x:-Ve.scroll.offset.x,y:-Ve.scroll.offset.y}),hasTransform(Ve.latestValues)&&transformBox(Be,Ve.latestValues)}return hasTransform(this.latestValues)&&transformBox(Be,this.latestValues),Be}removeTransform(Me){const Oe=createBox();copyBoxInto(Oe,Me);for(let Be=0;Be<this.path.length;Be++){const ze=this.path[Be];if(!ze.instance||!hasTransform(ze.latestValues))continue;hasScale(ze.latestValues)&&ze.updateSnapshot();const Ve=createBox(),qe=ze.measurePageBox();copyBoxInto(Ve,qe),removeBoxTransforms(Oe,ze.latestValues,ze.snapshot?ze.snapshot.layoutBox:void 0,Ve)}return hasTransform(this.latestValues)&&removeBoxTransforms(Oe,this.latestValues),Oe}setTargetDelta(Me){this.targetDelta=Me,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(Me){this.options={...this.options,...Me,crossfade:Me.crossfade!==void 0?Me.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==frameData.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(Me=!1){var Oe;const Be=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=Be.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=Be.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=Be.isSharedProjectionDirty);const ze=!!this.resumingFrom||this!==Be;if(!(Me||ze&&this.isSharedProjectionDirty||this.isProjectionDirty||!((Oe=this.parent)===null||Oe===void 0)&&Oe.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:qe,layoutId:We}=this.options;if(!(!this.layout||!(qe||We))){if(this.resolvedRelativeTargetAt=frameData.timestamp,!this.targetDelta&&!this.relativeTarget){const Ge=this.getClosestProjectingParent();Ge&&Ge.layout&&this.animationProgress!==1?(this.relativeParent=Ge,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.layout.layoutBox,Ge.layout.layoutBox),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=createBox(),this.targetWithTransforms=createBox()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),calcRelativeBox(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):copyBoxInto(this.target,this.layout.layoutBox),applyBoxDelta(this.target,this.targetDelta)):copyBoxInto(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const Ge=this.getClosestProjectingParent();Ge&&!!Ge.resumingFrom==!!this.resumingFrom&&!Ge.options.layoutScroll&&Ge.target&&this.animationProgress!==1?(this.relativeParent=Ge,this.forceRelativeParentToResolveTarget(),this.relativeTarget=createBox(),this.relativeTargetOrigin=createBox(),calcRelativePosition(this.relativeTargetOrigin,this.target,Ge.target),copyBoxInto(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||hasScale(this.parent.latestValues)||has2DTranslate(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var Me;const Oe=this.getLead(),Be=!!this.resumingFrom||this!==Oe;let ze=!0;if((this.isProjectionDirty||!((Me=this.parent)===null||Me===void 0)&&Me.isProjectionDirty)&&(ze=!1),Be&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(ze=!1),this.resolvedRelativeTargetAt===frameData.timestamp&&(ze=!1),ze)return;const{layout:Ve,layoutId:qe}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(Ve||qe))return;copyBoxInto(this.layoutCorrected,this.layout.layoutBox);const We=this.treeScale.x,Ge=this.treeScale.y;applyTreeDeltas(this.layoutCorrected,this.treeScale,this.path,Be),Oe.layout&&!Oe.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(Oe.target=Oe.layout.layoutBox,Oe.targetWithTransforms=createBox());const{target:Je}=Oe;if(!Je){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(copyAxisDeltaInto(this.prevProjectionDelta.x,this.projectionDelta.x),copyAxisDeltaInto(this.prevProjectionDelta.y,this.projectionDelta.y)),calcBoxDelta(this.projectionDelta,this.layoutCorrected,Je,this.latestValues),(this.treeScale.x!==We||this.treeScale.y!==Ge||!axisDeltaEquals(this.projectionDelta.x,this.prevProjectionDelta.x)||!axisDeltaEquals(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",Je))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(Me=!0){var Oe;if((Oe=this.options.visualElement)===null||Oe===void 0||Oe.scheduleRender(),Me){const Be=this.getStack();Be&&Be.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=createDelta(),this.projectionDelta=createDelta(),this.projectionDeltaWithTransform=createDelta()}setAnimationOrigin(Me,Oe=!1){const Be=this.snapshot,ze=Be?Be.latestValues:{},Ve={...this.latestValues},qe=createDelta();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!Oe;const We=createBox(),Ge=Be?Be.source:void 0,Je=this.layout?this.layout.source:void 0,Qe=Ge!==Je,ns=this.getStack(),Ye=!ns||ns.members.length<=1,rs=!!(Qe&&!Ye&&this.options.crossfade===!0&&!this.path.some(hasOpacityCrossfade));this.animationProgress=0;let ts;this.mixTargetDelta=Xe=>{const is=Xe/1e3;mixAxisDelta(qe.x,Me.x,is),mixAxisDelta(qe.y,Me.y,is),this.setTargetDelta(qe),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(calcRelativePosition(We,this.layout.layoutBox,this.relativeParent.layout.layoutBox),mixBox(this.relativeTarget,this.relativeTargetOrigin,We,is),ts&&boxEquals(this.relativeTarget,ts)&&(this.isProjectionDirty=!1),ts||(ts=createBox()),copyBoxInto(ts,this.relativeTarget)),Qe&&(this.animationValues=Ve,mixValues(Ve,ze,this.latestValues,is,rs,Ye)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=is},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(Me){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(cancelFrame(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=frame.update(()=>{globalProjectionState.hasAnimatedSinceResize=!0,this.currentAnimation=animateSingleValue(0,animationTarget,{...Me,onUpdate:Oe=>{this.mixTargetDelta(Oe),Me.onUpdate&&Me.onUpdate(Oe)},onStop:()=>{},onComplete:()=>{Me.onComplete&&Me.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const Me=this.getStack();Me&&Me.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(animationTarget),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const Me=this.getLead();let{targetWithTransforms:Oe,target:Be,layout:ze,latestValues:Ve}=Me;if(!(!Oe||!Be||!ze)){if(this!==Me&&this.layout&&ze&&shouldAnimatePositionOnly(this.options.animationType,this.layout.layoutBox,ze.layoutBox)){Be=this.target||createBox();const qe=calcLength(this.layout.layoutBox.x);Be.x.min=Me.target.x.min,Be.x.max=Be.x.min+qe;const We=calcLength(this.layout.layoutBox.y);Be.y.min=Me.target.y.min,Be.y.max=Be.y.min+We}copyBoxInto(Oe,Be),transformBox(Oe,Ve),calcBoxDelta(this.projectionDeltaWithTransform,this.layoutCorrected,Oe,Ve)}}registerSharedNode(Me,Oe){this.sharedNodes.has(Me)||this.sharedNodes.set(Me,new NodeStack),this.sharedNodes.get(Me).add(Oe);const ze=Oe.options.initialPromotionConfig;Oe.promote({transition:ze?ze.transition:void 0,preserveFollowOpacity:ze&&ze.shouldPreserveFollowOpacity?ze.shouldPreserveFollowOpacity(Oe):void 0})}isLead(){const Me=this.getStack();return Me?Me.lead===this:!0}getLead(){var Me;const{layoutId:Oe}=this.options;return Oe?((Me=this.getStack())===null||Me===void 0?void 0:Me.lead)||this:this}getPrevLead(){var Me;const{layoutId:Oe}=this.options;return Oe?(Me=this.getStack())===null||Me===void 0?void 0:Me.prevLead:void 0}getStack(){const{layoutId:Me}=this.options;if(Me)return this.root.sharedNodes.get(Me)}promote({needsReset:Me,transition:Oe,preserveFollowOpacity:Be}={}){const ze=this.getStack();ze&&ze.promote(this,Be),Me&&(this.projectionDelta=void 0,this.needsReset=!0),Oe&&this.setOptions({transition:Oe})}relegate(){const Me=this.getStack();return Me?Me.relegate(this):!1}resetSkewAndRotation(){const{visualElement:Me}=this.options;if(!Me)return;let Oe=!1;const{latestValues:Be}=Me;if((Be.z||Be.rotate||Be.rotateX||Be.rotateY||Be.rotateZ||Be.skewX||Be.skewY)&&(Oe=!0),!Oe)return;const ze={};Be.z&&resetDistortingTransform("z",Me,ze,this.animationValues);for(let Ve=0;Ve<transformAxes.length;Ve++)resetDistortingTransform(`rotate${transformAxes[Ve]}`,Me,ze,this.animationValues),resetDistortingTransform(`skew${transformAxes[Ve]}`,Me,ze,this.animationValues);Me.render();for(const Ve in ze)Me.setStaticValue(Ve,ze[Ve]),this.animationValues&&(this.animationValues[Ve]=ze[Ve]);Me.scheduleRender()}getProjectionStyles(Me){var Oe,Be;if(!this.instance||this.isSVG)return;if(!this.isVisible)return hiddenVisibility;const ze={visibility:""},Ve=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,ze.opacity="",ze.pointerEvents=resolveMotionValue(Me==null?void 0:Me.pointerEvents)||"",ze.transform=Ve?Ve(this.latestValues,""):"none",ze;const qe=this.getLead();if(!this.projectionDelta||!this.layout||!qe.target){const Qe={};return this.options.layoutId&&(Qe.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,Qe.pointerEvents=resolveMotionValue(Me==null?void 0:Me.pointerEvents)||""),this.hasProjected&&!hasTransform(this.latestValues)&&(Qe.transform=Ve?Ve({},""):"none",this.hasProjected=!1),Qe}const We=qe.animationValues||qe.latestValues;this.applyTransformsToTarget(),ze.transform=buildProjectionTransform(this.projectionDeltaWithTransform,this.treeScale,We),Ve&&(ze.transform=Ve(We,ze.transform));const{x:Ge,y:Je}=this.projectionDelta;ze.transformOrigin=`${Ge.origin*100}% ${Je.origin*100}% 0`,qe.animationValues?ze.opacity=qe===this?(Be=(Oe=We.opacity)!==null&&Oe!==void 0?Oe:this.latestValues.opacity)!==null&&Be!==void 0?Be:1:this.preserveOpacity?this.latestValues.opacity:We.opacityExit:ze.opacity=qe===this?We.opacity!==void 0?We.opacity:"":We.opacityExit!==void 0?We.opacityExit:0;for(const Qe in scaleCorrectors){if(We[Qe]===void 0)continue;const{correct:ns,applyTo:Ye,isCSSVariable:rs}=scaleCorrectors[Qe],ts=ze.transform==="none"?We[Qe]:ns(We[Qe],qe);if(Ye){const Xe=Ye.length;for(let is=0;is<Xe;is++)ze[Ye[is]]=ts}else rs?this.options.visualElement.renderState.vars[Qe]=ts:ze[Qe]=ts}return this.options.layoutId&&(ze.pointerEvents=qe===this?resolveMotionValue(Me==null?void 0:Me.pointerEvents)||"":"none"),ze}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(Me=>{var Oe;return(Oe=Me.currentAnimation)===null||Oe===void 0?void 0:Oe.stop()}),this.root.nodes.forEach(clearMeasurements),this.root.sharedNodes.clear()}}}function updateLayout(Re){Re.updateLayout()}function notifyLayoutUpdate(Re){var e;const Ee=((e=Re.resumeFrom)===null||e===void 0?void 0:e.snapshot)||Re.snapshot;if(Re.isLead()&&Re.layout&&Ee&&Re.hasListeners("didUpdate")){const{layoutBox:Ce,measuredBox:Te}=Re.layout,{animationType:De}=Re.options,Me=Ee.source!==Re.layout.source;De==="size"?eachAxis(qe=>{const We=Me?Ee.measuredBox[qe]:Ee.layoutBox[qe],Ge=calcLength(We);We.min=Ce[qe].min,We.max=We.min+Ge}):shouldAnimatePositionOnly(De,Ee.layoutBox,Ce)&&eachAxis(qe=>{const We=Me?Ee.measuredBox[qe]:Ee.layoutBox[qe],Ge=calcLength(Ce[qe]);We.max=We.min+Ge,Re.relativeTarget&&!Re.currentAnimation&&(Re.isProjectionDirty=!0,Re.relativeTarget[qe].max=Re.relativeTarget[qe].min+Ge)});const Oe=createDelta();calcBoxDelta(Oe,Ce,Ee.layoutBox);const Be=createDelta();Me?calcBoxDelta(Be,Re.applyTransform(Te,!0),Ee.measuredBox):calcBoxDelta(Be,Ce,Ee.layoutBox);const ze=!isDeltaZero(Oe);let Ve=!1;if(!Re.resumeFrom){const qe=Re.getClosestProjectingParent();if(qe&&!qe.resumeFrom){const{snapshot:We,layout:Ge}=qe;if(We&&Ge){const Je=createBox();calcRelativePosition(Je,Ee.layoutBox,We.layoutBox);const Qe=createBox();calcRelativePosition(Qe,Ce,Ge.layoutBox),boxEqualsRounded(Je,Qe)||(Ve=!0),qe.options.layoutRoot&&(Re.relativeTarget=Qe,Re.relativeTargetOrigin=Je,Re.relativeParent=qe)}}}Re.notifyListeners("didUpdate",{layout:Ce,snapshot:Ee,delta:Be,layoutDelta:Oe,hasLayoutChanged:ze,hasRelativeLayoutChanged:Ve})}else if(Re.isLead()){const{onExitComplete:Ce}=Re.options;Ce&&Ce()}Re.options.transition=void 0}function propagateDirtyNodes(Re){Re.parent&&(Re.isProjecting()||(Re.isProjectionDirty=Re.parent.isProjectionDirty),Re.isSharedProjectionDirty||(Re.isSharedProjectionDirty=!!(Re.isProjectionDirty||Re.parent.isProjectionDirty||Re.parent.isSharedProjectionDirty)),Re.isTransformDirty||(Re.isTransformDirty=Re.parent.isTransformDirty))}function cleanDirtyNodes(Re){Re.isProjectionDirty=Re.isSharedProjectionDirty=Re.isTransformDirty=!1}function clearSnapshot(Re){Re.clearSnapshot()}function clearMeasurements(Re){Re.clearMeasurements()}function clearIsLayoutDirty(Re){Re.isLayoutDirty=!1}function resetTransformStyle(Re){const{visualElement:e}=Re.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),Re.resetTransform()}function finishAnimation(Re){Re.finishAnimation(),Re.targetDelta=Re.relativeTarget=Re.target=void 0,Re.isProjectionDirty=!0}function resolveTargetDelta(Re){Re.resolveTargetDelta()}function calcProjection(Re){Re.calcProjection()}function resetSkewAndRotation(Re){Re.resetSkewAndRotation()}function removeLeadSnapshots(Re){Re.removeLeadSnapshot()}function mixAxisDelta(Re,e,Ee){Re.translate=mixNumber$1(e.translate,0,Ee),Re.scale=mixNumber$1(e.scale,1,Ee),Re.origin=e.origin,Re.originPoint=e.originPoint}function mixAxis(Re,e,Ee,Ce){Re.min=mixNumber$1(e.min,Ee.min,Ce),Re.max=mixNumber$1(e.max,Ee.max,Ce)}function mixBox(Re,e,Ee,Ce){mixAxis(Re.x,e.x,Ee.x,Ce),mixAxis(Re.y,e.y,Ee.y,Ce)}function hasOpacityCrossfade(Re){return Re.animationValues&&Re.animationValues.opacityExit!==void 0}const defaultLayoutTransition={duration:.45,ease:[.4,0,.1,1]},userAgentContains=Re=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(Re),roundPoint=userAgentContains("applewebkit/")&&!userAgentContains("chrome/")?Math.round:noop$1;function roundAxis(Re){Re.min=roundPoint(Re.min),Re.max=roundPoint(Re.max)}function roundBox(Re){roundAxis(Re.x),roundAxis(Re.y)}function shouldAnimatePositionOnly(Re,e,Ee){return Re==="position"||Re==="preserve-aspect"&&!isNear(aspectRatio(e),aspectRatio(Ee),.2)}function checkNodeWasScrollRoot(Re){var e;return Re!==Re.root&&((e=Re.scroll)===null||e===void 0?void 0:e.wasRoot)}const DocumentProjectionNode=createProjectionNode({attachResizeListener:(Re,e)=>addDomEvent(Re,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),rootProjectionNode={current:void 0},HTMLProjectionNode=createProjectionNode({measureScroll:Re=>({x:Re.scrollLeft,y:Re.scrollTop}),defaultParent:()=>{if(!rootProjectionNode.current){const Re=new DocumentProjectionNode({});Re.mount(window),Re.setOptions({layoutScroll:!0}),rootProjectionNode.current=Re}return rootProjectionNode.current},resetTransform:(Re,e)=>{Re.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:Re=>window.getComputedStyle(Re).position==="fixed"}),drag={pan:{Feature:PanGesture},drag:{Feature:DragGesture,ProjectionNode:HTMLProjectionNode,MeasureLayout}};function handleHoverEvent(Re,e,Ee){const{props:Ce}=Re;Re.animationState&&Ce.whileHover&&Re.animationState.setActive("whileHover",Ee==="Start");const Te="onHover"+Ee,De=Ce[Te];De&&frame.postRender(()=>De(e,extractEventInfo(e)))}class HoverGesture extends Feature{mount(){const{current:e}=this.node;e&&(this.unmount=hover(e,(Ee,Ce)=>(handleHoverEvent(this.node,Ce,"Start"),Te=>handleHoverEvent(this.node,Te,"End"))))}unmount(){}}class FocusGesture extends Feature{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=pipe$1(addDomEvent(this.node.current,"focus",()=>this.onFocus()),addDomEvent(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function handlePressEvent(Re,e,Ee){const{props:Ce}=Re;if(Re.current instanceof HTMLButtonElement&&Re.current.disabled)return;Re.animationState&&Ce.whileTap&&Re.animationState.setActive("whileTap",Ee==="Start");const Te="onTap"+(Ee==="End"?"":Ee),De=Ce[Te];De&&frame.postRender(()=>De(e,extractEventInfo(e)))}class PressGesture extends Feature{mount(){const{current:e}=this.node;e&&(this.unmount=press(e,(Ee,Ce)=>(handlePressEvent(this.node,Ce,"Start"),(Te,{success:De})=>handlePressEvent(this.node,Te,De?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const observerCallbacks=new WeakMap,observers=new WeakMap,fireObserverCallback=Re=>{const e=observerCallbacks.get(Re.target);e&&e(Re)},fireAllObserverCallbacks=Re=>{Re.forEach(fireObserverCallback)};function initIntersectionObserver({root:Re,...e}){const Ee=Re||document;observers.has(Ee)||observers.set(Ee,{});const Ce=observers.get(Ee),Te=JSON.stringify(e);return Ce[Te]||(Ce[Te]=new IntersectionObserver(fireAllObserverCallbacks,{root:Re,...e})),Ce[Te]}function observeIntersection(Re,e,Ee){const Ce=initIntersectionObserver(e);return observerCallbacks.set(Re,Ee),Ce.observe(Re),()=>{observerCallbacks.delete(Re),Ce.unobserve(Re)}}const thresholdNames={some:0,all:1};class InViewFeature extends Feature{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:Ee,margin:Ce,amount:Te="some",once:De}=e,Me={root:Ee?Ee.current:void 0,rootMargin:Ce,threshold:typeof Te=="number"?Te:thresholdNames[Te]},Oe=Be=>{const{isIntersecting:ze}=Be;if(this.isInView===ze||(this.isInView=ze,De&&!ze&&this.hasEnteredView))return;ze&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",ze);const{onViewportEnter:Ve,onViewportLeave:qe}=this.node.getProps(),We=ze?Ve:qe;We&&We(Be)};return observeIntersection(this.node.current,Me,Oe)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:Ee}=this.node;["amount","margin","root"].some(hasViewportOptionChanged(e,Ee))&&this.startObserver()}unmount(){}}function hasViewportOptionChanged({viewport:Re={}},{viewport:e={}}={}){return Ee=>Re[Ee]!==e[Ee]}const gestureAnimations={inView:{Feature:InViewFeature},tap:{Feature:PressGesture},focus:{Feature:FocusGesture},hover:{Feature:HoverGesture}},layout={layout:{ProjectionNode:HTMLProjectionNode,MeasureLayout}},prefersReducedMotion={current:null},hasReducedMotionListener={current:!1};function initPrefersReducedMotion(){if(hasReducedMotionListener.current=!0,!!isBrowser$1)if(window.matchMedia){const Re=window.matchMedia("(prefers-reduced-motion)"),e=()=>prefersReducedMotion.current=Re.matches;Re.addListener(e),e()}else prefersReducedMotion.current=!1}const valueTypes=[...dimensionValueTypes,color,complex],findValueType=Re=>valueTypes.find(testValueType(Re)),visualElementStore=new WeakMap;function updateMotionValuesFromProps(Re,e,Ee){for(const Ce in e){const Te=e[Ce],De=Ee[Ce];if(isMotionValue(Te))Re.addValue(Ce,Te);else if(isMotionValue(De))Re.addValue(Ce,motionValue(Te,{owner:Re}));else if(De!==Te)if(Re.hasValue(Ce)){const Me=Re.getValue(Ce);Me.liveStyle===!0?Me.jump(Te):Me.hasAnimated||Me.set(Te)}else{const Me=Re.getStaticValue(Ce);Re.addValue(Ce,motionValue(Me!==void 0?Me:Te,{owner:Re}))}}for(const Ce in Ee)e[Ce]===void 0&&Re.removeValue(Ce);return e}const propEventHandlers=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class VisualElement{scrapeMotionValuesFromProps(e,Ee,Ce){return{}}constructor({parent:e,props:Ee,presenceContext:Ce,reducedMotionConfig:Te,blockInitialAnimation:De,visualState:Me},Oe={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=KeyframeResolver,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const Ge=time$2.now();this.renderScheduledAt<Ge&&(this.renderScheduledAt=Ge,frame.render(this.render,!1,!0))};const{latestValues:Be,renderState:ze,onUpdate:Ve}=Me;this.onUpdate=Ve,this.latestValues=Be,this.baseTarget={...Be},this.initialValues=Ee.initial?{...Be}:{},this.renderState=ze,this.parent=e,this.props=Ee,this.presenceContext=Ce,this.depth=e?e.depth+1:0,this.reducedMotionConfig=Te,this.options=Oe,this.blockInitialAnimation=!!De,this.isControllingVariants=isControllingVariants(Ee),this.isVariantNode=isVariantNode(Ee),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:qe,...We}=this.scrapeMotionValuesFromProps(Ee,{},this);for(const Ge in We){const Je=We[Ge];Be[Ge]!==void 0&&isMotionValue(Je)&&Je.set(Be[Ge],!1)}}mount(e){this.current=e,visualElementStore.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((Ee,Ce)=>this.bindToMotionValue(Ce,Ee)),hasReducedMotionListener.current||initPrefersReducedMotion(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:prefersReducedMotion.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),cancelFrame(this.notifyUpdate),cancelFrame(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const Ee=this.features[e];Ee&&(Ee.unmount(),Ee.isMounted=!1)}this.current=null}bindToMotionValue(e,Ee){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const Ce=transformProps.has(e);Ce&&this.onBindTransform&&this.onBindTransform();const Te=Ee.on("change",Oe=>{this.latestValues[e]=Oe,this.props.onUpdate&&frame.preRender(this.notifyUpdate),Ce&&this.projection&&(this.projection.isTransformDirty=!0)}),De=Ee.on("renderRequest",this.scheduleRender);let Me;window.MotionCheckAppearSync&&(Me=window.MotionCheckAppearSync(this,e,Ee)),this.valueSubscriptions.set(e,()=>{Te(),De(),Me&&Me(),Ee.owner&&Ee.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in featureDefinitions){const Ee=featureDefinitions[e];if(!Ee)continue;const{isEnabled:Ce,Feature:Te}=Ee;if(!this.features[e]&&Te&&Ce(this.props)&&(this.features[e]=new Te(this)),this.features[e]){const De=this.features[e];De.isMounted?De.update():(De.mount(),De.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):createBox()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,Ee){this.latestValues[e]=Ee}update(e,Ee){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=Ee;for(let Ce=0;Ce<propEventHandlers.length;Ce++){const Te=propEventHandlers[Ce];this.propEventSubscriptions[Te]&&(this.propEventSubscriptions[Te](),delete this.propEventSubscriptions[Te]);const De="on"+Te,Me=e[De];Me&&(this.propEventSubscriptions[Te]=this.on(Te,Me))}this.prevMotionValues=updateMotionValuesFromProps(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const Ee=this.getClosestVariantNode();if(Ee)return Ee.variantChildren&&Ee.variantChildren.add(e),()=>Ee.variantChildren.delete(e)}addValue(e,Ee){const Ce=this.values.get(e);Ee!==Ce&&(Ce&&this.removeValue(e),this.bindToMotionValue(e,Ee),this.values.set(e,Ee),this.latestValues[e]=Ee.get())}removeValue(e){this.values.delete(e);const Ee=this.valueSubscriptions.get(e);Ee&&(Ee(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,Ee){if(this.props.values&&this.props.values[e])return this.props.values[e];let Ce=this.values.get(e);return Ce===void 0&&Ee!==void 0&&(Ce=motionValue(Ee===null?void 0:Ee,{owner:this}),this.addValue(e,Ce)),Ce}readValue(e,Ee){var Ce;let Te=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(Ce=this.getBaseTargetFromProps(this.props,e))!==null&&Ce!==void 0?Ce:this.readValueFromInstance(this.current,e,this.options);return Te!=null&&(typeof Te=="string"&&(isNumericalString(Te)||isZeroValueString(Te))?Te=parseFloat(Te):!findValueType(Te)&&complex.test(Ee)&&(Te=getAnimatableNone(e,Ee)),this.setBaseTarget(e,isMotionValue(Te)?Te.get():Te)),isMotionValue(Te)?Te.get():Te}setBaseTarget(e,Ee){this.baseTarget[e]=Ee}getBaseTarget(e){var Ee;const{initial:Ce}=this.props;let Te;if(typeof Ce=="string"||typeof Ce=="object"){const Me=resolveVariantFromProps(this.props,Ce,(Ee=this.presenceContext)===null||Ee===void 0?void 0:Ee.custom);Me&&(Te=Me[e])}if(Ce&&Te!==void 0)return Te;const De=this.getBaseTargetFromProps(this.props,e);return De!==void 0&&!isMotionValue(De)?De:this.initialValues[e]!==void 0&&Te===void 0?void 0:this.baseTarget[e]}on(e,Ee){return this.events[e]||(this.events[e]=new SubscriptionManager),this.events[e].add(Ee)}notify(e,...Ee){this.events[e]&&this.events[e].notify(...Ee)}}class DOMVisualElement extends VisualElement{constructor(){super(...arguments),this.KeyframeResolver=DOMKeyframesResolver}sortInstanceNodePosition(e,Ee){return e.compareDocumentPosition(Ee)&2?1:-1}getBaseTargetFromProps(e,Ee){return e.style?e.style[Ee]:void 0}removeValueFromRenderState(e,{vars:Ee,style:Ce}){delete Ee[e],delete Ce[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;isMotionValue(e)&&(this.childSubscription=e.on("change",Ee=>{this.current&&(this.current.textContent=`${Ee}`)}))}}function getComputedStyle$1(Re){return window.getComputedStyle(Re)}class HTMLVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="html",this.renderInstance=renderHTML}readValueFromInstance(e,Ee){if(transformProps.has(Ee))return readTransformValue(e,Ee);{const Ce=getComputedStyle$1(e),Te=(isCSSVariableName(Ee)?Ce.getPropertyValue(Ee):Ce[Ee])||0;return typeof Te=="string"?Te.trim():Te}}measureInstanceViewportBox(e,{transformPagePoint:Ee}){return measureViewportBox(e,Ee)}build(e,Ee,Ce){buildHTMLStyles(e,Ee,Ce.transformTemplate)}scrapeMotionValuesFromProps(e,Ee,Ce){return scrapeMotionValuesFromProps$1(e,Ee,Ce)}}class SVGVisualElement extends DOMVisualElement{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=createBox,this.updateDimensions=()=>{this.current&&!this.renderState.dimensions&&updateSVGDimensions(this.current,this.renderState)}}getBaseTargetFromProps(e,Ee){return e[Ee]}readValueFromInstance(e,Ee){if(transformProps.has(Ee)){const Ce=getDefaultValueType(Ee);return Ce&&Ce.default||0}return Ee=camelCaseAttributes.has(Ee)?Ee:camelToDash(Ee),e.getAttribute(Ee)}scrapeMotionValuesFromProps(e,Ee,Ce){return scrapeMotionValuesFromProps(e,Ee,Ce)}onBindTransform(){this.current&&!this.renderState.dimensions&&frame.postRender(this.updateDimensions)}build(e,Ee,Ce){buildSVGAttrs(e,Ee,this.isSVGTag,Ce.transformTemplate)}renderInstance(e,Ee,Ce,Te){renderSVG(e,Ee,Ce,Te)}mount(e){this.isSVGTag=isSVGTag(e.tagName),super.mount(e)}}const createDomVisualElement=(Re,e)=>isSVGComponent(Re)?new SVGVisualElement(e):new HTMLVisualElement(e,{allowProjection:Re!==reactExports.Fragment}),createMotionComponent=createMotionComponentFactory({...animations,...gestureAnimations,...drag,...layout},createDomVisualElement),motion=createDOMMotionComponentProxy(createMotionComponent),videoData=[{url:"/HeroVideos/BuddhaSamyak.webm",overlays:[{title:"The Director's Canvas",description:"Raw, authentic locations that breathe life into your narrative.",top:"35%",left:"25%"},{title:"Heritage Meets Horizon",description:"A blank slate of natural wonder for your next masterpiece.",top:"60%",left:"75%"}]},{url:"/HeroVideos/Snow.webm",overlays:[{title:"Rolling Reels. Living Landscapes.",description:"From rivers to highways, Bihar opens up as one continuous tracking shot.",top:"25%",left:"10%"},{title:"Every Road Is a Storyboard",description:"Highways, village paths, misty mornings â€” your next scene is already waiting here.",top:"50%",left:"50%"}]},{url:"/HeroVideos/beach.webm",overlays:[{title:"Where the River Writes the First Line",description:"Quiet banks, soft light, endless horizon â€” a natural set for your opening frame.",top:"30%",left:"20%"},{title:"River Rhythms of Bihar",description:"Crystal water, sand, and laughter â€” the kind of texture cameras love to linger on.",top:"55%",left:"70%"}]},{url:"/HeroVideos/Snow_1.webm",overlays:[{title:"Rohtas in Reflection",description:"Still waters, rugged hills â€” a mirror for every mood from romance to rebellion.",top:"60%",left:"25%"},{title:"A Frame for Every Genre",description:"Thriller, drama, docu or dreamscape â€” this blue expanse bends to your story.",top:"30%",left:"82%"}]},{url:"/HeroVideos/karamchat.webm",overlays:[{title:"Plateaus that Feel Like Sets",description:"Wind, rock, horizon â€” minimal, powerful, and made for wide-angle storytelling.",top:"45%",left:"30%"},{title:"Roots of Bihar. Scale of Cinema.",description:"Ancient plateaus and emerald ridges that turn every frame into a poster shot.",top:"75%",left:"60%"}]},{url:"/vrvideos/VrvideoHQ6.mp4",overlays:[{title:"New Perspectives Unfold",description:"Fresh angles and unseen corners waiting to be captured.",top:"40%",left:"15%"},{title:"Cinematic Horizons",description:"Expand your visual vocabulary with these stunning vistas.",top:"65%",left:"65%"}]}];function App$1(){const[Re,e]=reactExports.useState({x:0,y:0}),[Ee,Ce]=reactExports.useState({x:0,y:0}),[Te,De]=reactExports.useState(0),[Me,Oe]=reactExports.useState([!1,!1]),Be=Ve=>{const{clientX:qe,clientY:We,currentTarget:Ge}=Ve,{width:Je,height:Qe}=Ge.getBoundingClientRect();e({x:(qe/Je-.5)*50,y:(We/Qe-.5)*25})};reactExports.useEffect(()=>{const Ve=()=>{Ce(qe=>({x:qe.x+(Re.x-qe.x)*.1,y:qe.y+(Re.y-qe.y)*.1})),requestAnimationFrame(Ve)};Ve()},[Re]),reactExports.useEffect(()=>{Oe([!1,!1]),setTimeout(()=>Oe([!0,!1]),1e3),setTimeout(()=>Oe([!0,!0]),5e3)},[Te]);const ze=()=>{De(Ve=>(Ve+1)%videoData.length)};return jsxRuntimeExports.jsxs(motion.div,{className:"min-h-screen flex flex-col bg-black scroll-hidden",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsxs("div",{className:"flex-1 relative overflow-hidden",onMouseMove:Be,children:[jsxRuntimeExports.jsxs("div",{className:"absolute w-[150vw] h-[150vh] md:w-[120vw] md:h-[120vh] -top-[10vh] -left-[10vw]",style:{transform:`translate(${Ee.x}px, ${Ee.y}px)`},children:[jsxRuntimeExports.jsx("video",{id:"videoPlayer",className:"absolute w-full h-full object-cover top-0 left-0 transition-opacity duration-700 opacity-100",src:videoData[Te].url,autoPlay:!0,muted:!0,onEnded:ze},Te),jsxRuntimeExports.jsx("video",{className:"hidden",src:videoData[(Te+1)%videoData.length].url,preload:"auto"})]}),videoData[Te].overlays.map((Ve,qe)=>jsxRuntimeExports.jsxs("div",{className:`absolute text-white font-bold text-sm sm:text-base md:text-lg lg:text-xl transition-opacity duration-500 group z-10 max-w-[80%] md:max-w-[30%] text-center sm:text-left ${Me[qe]?"opacity-100":"opacity-0"}`,style:{top:Ve.top,left:Ve.left,transform:`translate(${Ee.x}px, ${Ee.y}px)`,transition:"transform 0.2s ease-out"},children:[Ve.title,jsxRuntimeExports.jsx("div",{className:"absolute left-1/2 -translate-x-1/2 mt-2 w-48 p-2 bg-black/70 text-xs sm:text-sm text-gray-300 opacity-0 group-hover:opacity-100 transition-opacity duration-300 border border-gray-300",children:Ve.description})]},qe)),jsxRuntimeExports.jsx("div",{className:"absolute bottom-4 sm:bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-2 sm:space-x-3 z-20",children:videoData.map((Ve,qe)=>jsxRuntimeExports.jsx("button",{onClick:()=>De(qe),className:`w-2 h-2 rounded-full transition-all duration-300 ${Te===qe?"bg-gray-900 scale-125":"bg-gray-400"}`},qe))})]})]})}var DefaultContext={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},IconContext=React.createContext&&React.createContext(DefaultContext),_excluded$2=["attr","size","title"];function _objectWithoutProperties$1(Re,e){if(Re==null)return{};var Ee=_objectWithoutPropertiesLoose$1(Re,e),Ce,Te;if(Object.getOwnPropertySymbols){var De=Object.getOwnPropertySymbols(Re);for(Te=0;Te<De.length;Te++)Ce=De[Te],!(e.indexOf(Ce)>=0)&&Object.prototype.propertyIsEnumerable.call(Re,Ce)&&(Ee[Ce]=Re[Ce])}return Ee}function _objectWithoutPropertiesLoose$1(Re,e){if(Re==null)return{};var Ee={};for(var Ce in Re)if(Object.prototype.hasOwnProperty.call(Re,Ce)){if(e.indexOf(Ce)>=0)continue;Ee[Ce]=Re[Ce]}return Ee}function _extends(){return _extends=Object.assign?Object.assign.bind():function(Re){for(var e=1;e<arguments.length;e++){var Ee=arguments[e];for(var Ce in Ee)Object.prototype.hasOwnProperty.call(Ee,Ce)&&(Re[Ce]=Ee[Ce])}return Re},_extends.apply(this,arguments)}function ownKeys$1(Re,e){var Ee=Object.keys(Re);if(Object.getOwnPropertySymbols){var Ce=Object.getOwnPropertySymbols(Re);e&&(Ce=Ce.filter(function(Te){return Object.getOwnPropertyDescriptor(Re,Te).enumerable})),Ee.push.apply(Ee,Ce)}return Ee}function _objectSpread(Re){for(var e=1;e<arguments.length;e++){var Ee=arguments[e]!=null?arguments[e]:{};e%2?ownKeys$1(Object(Ee),!0).forEach(function(Ce){_defineProperty$1(Re,Ce,Ee[Ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(Ee)):ownKeys$1(Object(Ee)).forEach(function(Ce){Object.defineProperty(Re,Ce,Object.getOwnPropertyDescriptor(Ee,Ce))})}return Re}function _defineProperty$1(Re,e,Ee){return e=_toPropertyKey$1(e),e in Re?Object.defineProperty(Re,e,{value:Ee,enumerable:!0,configurable:!0,writable:!0}):Re[e]=Ee,Re}function _toPropertyKey$1(Re){var e=_toPrimitive$1(Re,"string");return typeof e=="symbol"?e:e+""}function _toPrimitive$1(Re,e){if(typeof Re!="object"||!Re)return Re;var Ee=Re[Symbol.toPrimitive];if(Ee!==void 0){var Ce=Ee.call(Re,e);if(typeof Ce!="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(Re)}function Tree2Element(Re){return Re&&Re.map((e,Ee)=>React.createElement(e.tag,_objectSpread({key:Ee},e.attr),Tree2Element(e.child)))}function GenIcon(Re){return e=>React.createElement(IconBase,_extends({attr:_objectSpread({},Re.attr)},e),Tree2Element(Re.child))}function IconBase(Re){var e=Ee=>{var{attr:Ce,size:Te,title:De}=Re,Me=_objectWithoutProperties$1(Re,_excluded$2),Oe=Te||Ee.size||"1em",Be;return Ee.className&&(Be=Ee.className),Re.className&&(Be=(Be?Be+" ":"")+Re.className),React.createElement("svg",_extends({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},Ee.attr,Ce,Me,{className:Be,style:_objectSpread(_objectSpread({color:Re.color||Ee.color},Ee.style),Re.style),height:Oe,width:Oe,xmlns:"http://www.w3.org/2000/svg"}),De&&React.createElement("title",null,De),Re.children)};return IconContext!==void 0?React.createElement(IconContext.Consumer,null,Ee=>e(Ee)):e(DefaultContext)}function IoIosArrowBack(Re){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M217.9 256L345 129c9.4-9.4 9.4-24.6 0-33.9-9.4-9.4-24.6-9.3-34 0L167 239c-9.1 9.1-9.3 23.7-.7 33.1L310.9 417c4.7 4.7 10.9 7 17 7s12.3-2.3 17-7c9.4-9.4 9.4-24.6 0-33.9L217.9 256z"},child:[]}]})(Re)}function IoIosArrowForward(Re){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M294.1 256L167 129c-9.4-9.4-9.4-24.6 0-33.9s24.6-9.3 34 0L345 239c9.1 9.1 9.3 23.7.7 33.1L201.1 417c-4.7 4.7-10.9 7-17 7s-12.3-2.3-17-7c-9.4-9.4-9.4-24.6 0-33.9l127-127.1z"},child:[]}]})(Re)}function IoIosArrowRoundForward(Re){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M295.6 163.7c-5.1 5-5.1 13.3-.1 18.4l60.8 60.9H124.9c-7.1 0-12.9 5.8-12.9 13s5.8 13 12.9 13h231.3l-60.8 60.9c-5 5.1-4.9 13.3.1 18.4 5.1 5 13.2 5 18.3-.1l82.4-83c1.1-1.2 2-2.5 2.7-4.1.7-1.6 1-3.3 1-5 0-3.4-1.3-6.6-3.7-9.1l-82.4-83c-4.9-5.2-13.1-5.3-18.2-.3z"},child:[]}]})(Re)}function IoIosLock(Re){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M376 192h-24v-46.7c0-52.7-42-96.5-94.7-97.3-53.4-.7-97.3 42.8-97.3 96v48h-24c-22 0-40 18-40 40v192c0 22 18 40 40 40h240c22 0 40-18 40-40V232c0-22-18-40-40-40zM270 316.8v68.8c0 7.5-5.8 14-13.3 14.4-8 .4-14.7-6-14.7-14v-69.2c-11.5-5.6-19.1-17.8-17.9-31.7 1.4-15.5 14.1-27.9 29.6-29 18.7-1.3 34.3 13.5 34.3 31.9 0 12.7-7.3 23.6-18 28.8zM324 192H188v-48c0-18.1 7.1-35.1 20-48s29.9-20 48-20 35.1 7.1 48 20 20 29.9 20 48v48z"},child:[]}]})(Re)}function IoIosLogOut(Re){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M312 372c-7.7 0-14 6.3-14 14 0 9.9-8.1 18-18 18H94c-9.9 0-18-8.1-18-18V126c0-9.9 8.1-18 18-18h186c9.9 0 18 8.1 18 18 0 7.7 6.3 14 14 14s14-6.3 14-14c0-25.4-20.6-46-46-46H94c-25.4 0-46 20.6-46 46v260c0 25.4 20.6 46 46 46h186c25.4 0 46-20.6 46-46 0-7.7-6.3-14-14-14z"},child:[]},{tag:"path",attr:{d:"M372.9 158.1c-2.6-2.6-6.1-4.1-9.9-4.1-3.7 0-7.3 1.4-9.9 4.1-5.5 5.5-5.5 14.3 0 19.8l65.2 64.2H162c-7.7 0-14 6.3-14 14s6.3 14 14 14h256.6L355 334.2c-5.4 5.4-5.4 14.3 0 19.8l.1.1c2.7 2.5 6.2 3.9 9.8 3.9 3.8 0 7.3-1.4 9.9-4.1l82.6-82.4c4.3-4.3 6.5-9.3 6.5-14.7 0-5.3-2.3-10.3-6.5-14.5l-84.5-84.2z"},child:[]}]})(Re)}const videoList=[{high:"/vrvideos/VrvideoHQ.mp4",low:"/vrvideos/VrvideoHQ2.mp4",title:"Glass Bridge, Rajgir",description:"Embark on a breathtaking virtual journey across the Glass Bridge of Rajgir, a marvel suspended between the hills. This architectural feat offers panoramic views of the lush valley and serene landscape below, giving the sensation of walking amidst the clouds. Perfect for thrill-seekers and nature lovers, the experience captures the tranquil grandeur of Rajgirâ€™s natural beauty combined with the thrill of height and modern engineering."},{high:"/vrvideos/VrvideoHQ2.mp4",low:"/vrvideos/VrvideoLQ2.mp4",title:"Ghora Katora, Rajgir",description:"Immerse yourself in the peaceful aura of Ghora Katora, a natural horse-shaped lake nestled among the hills of Rajgir. Surrounded by lush forests and often graced by migratory birds, this sacred and scenic waterbody is a hidden gem of Bihar. The VR experience lets you witness the stillness of the lake, the chirping of birds, and the gentle whispers of the wind through surrounding treesâ€”ideal for those seeking serenity in natureâ€™s lap."},{high:"/vrvideos/VrvideoHQ3.mp4",low:"/vrvideos/VrvideoLQ3.mp4",title:"Jungle Safari Entry, Rajgir",description:"Begin your adventure through the gateway of Rajgirâ€™s Jungle Safari, where the wilderness greets you with open arms. This VR experience captures the excitement of entering a dense forest reserve with curated animal zones, nature trails, and eco-friendly walkways. Feel the anticipation build as you cross into an area teeming with wildlife, blending education, conservation, and adventure into one memorable virtual journey."},{high:"/vrvideos/VrvideoHQ4.mp4",low:"/vrvideos/VrvideoLQ4.mp4",title:"Pawapuri, Nalanda",description:"Take a spiritual deep dive into the sacred town of Pawapuri in Nalanda, where Lord Mahavira, the 24th Jain Tirthankara, attained nirvana. In this VR experience, float virtually to the heart of Jal Mandirâ€”a marble temple surrounded by a lotus-filled lake. Feel the holiness, heritage, and tranquility as you walk across the stone bridge leading to the temple, immersed in centuries-old devotion and peace."},{high:"/vrvideos/VrvideoHQ5.mp4",low:"/vrvideos/VrvideoLQ5.mp4",title:"Bapu Tower, Patna",description:"Relive Biharâ€™s revolutionary spirit through the towering structure of Bapu Tower in Patna, a tribute to Mahatma Gandhiâ€™s influence on the freedom movement in Bihar. The VR experience walks you through the symbolic architecture, plaques, and scenic surroundings, letting you sense the historic weight and inspiring atmosphere. Itâ€™s more than a monumentâ€”itâ€™s a reminder of struggle, unity, and vision."},{high:"/vrvideos/VrvideoHQ6.mp4",low:"/vrvideos/VrvideoLQ6.mp4",title:"Hiuen Tsang Memorial Hall, Nalanda",description:"Travel back in time to the ancient seat of learning through the Hiuen Tsang Memorial Hall in Nalanda. This VR journey narrates the story of the legendary Chinese traveler and scholar who spent years absorbing the teachings of Nalanda University. Walk through intricately carved corridors, ancient manuscripts, and statues that reflect Indo-Chinese cultural synergy. A tribute to knowledge and global exchange, this memorial is both artistic and intellectually enriching."},{high:"/vrvideos/VrvideoHQ.mp4",low:"/vrvideos/VrvideoLQ.mp4",title:"Glass Bridge, Rajgir",description:"Embark on a breathtaking virtual journey across the Glass Bridge of Rajgir, a marvel suspended between the hills. This architectural feat offers panoramic views of the lush valley and serene landscape below, giving the sensation of walking amidst the clouds. Perfect for thrill-seekers and nature lovers, the experience captures the tranquil grandeur of Rajgirâ€™s natural beauty combined with the thrill of height and modern engineering."},{high:"/vrvideos/VrvideoHQ2.mp4",low:"/vrvideos/VrvideoLQ2.mp4",title:"Ghora Katora, Rajgir",description:"Immerse yourself in the peaceful aura of Ghora Katora, a natural horse-shaped lake nestled among the hills of Rajgir. Surrounded by lush forests and often graced by migratory birds, this sacred and scenic waterbody is a hidden gem of Bihar. The VR experience lets you witness the stillness of the lake, the chirping of birds, and the gentle whispers of the wind through surrounding treesâ€”ideal for those seeking serenity in natureâ€™s lap."},{high:"/vrvideos/VrvideoHQ3.mp4",low:"/vrvideos/VrvideoLQ3.mp4",title:"Jungle Safari Entry, Rajgir",description:"Begin your adventure through the gateway of Rajgirâ€™s Jungle Safari, where the wilderness greets you with open arms. This VR experience captures the excitement of entering a dense forest reserve with curated animal zones, nature trails, and eco-friendly walkways. Feel the anticipation build as you cross into an area teeming with wildlife, blending education, conservation, and adventure into one memorable virtual journey."},{high:"/vrvideos/VrvideoHQ4.mp4",low:"/vrvideos/VrvideoLQ4.mp4",title:"Pawapuri, Nalanda",description:"Take a spiritual deep dive into the sacred town of Pawapuri in Nalanda, where Lord Mahavira, the 24th Jain Tirthankara, attained nirvana. In this VR experience, float virtually to the heart of Jal Mandirâ€”a marble temple surrounded by a lotus-filled lake. Feel the holiness, heritage, and tranquility as you walk across the stone bridge leading to the temple, immersed in centuries-old devotion and peace."},{high:"/vrvideos/VrvideoHQ5.mp4",low:"/vrvideos/VrvideoLQ5.mp4",title:"Bapu Tower, Patna",description:"Relive Biharâ€™s revolutionary spirit through the towering structure of Bapu Tower in Patna, a tribute to Mahatma Gandhiâ€™s influence on the freedom movement in Bihar. The VR experience walks you through the symbolic architecture, plaques, and scenic surroundings, letting you sense the historic weight and inspiring atmosphere. Itâ€™s more than a monumentâ€”itâ€™s a reminder of struggle, unity, and vision."},{high:"/vrvideos/VrvideoHQ6.mp4",low:"/vrvideos/VrvideoLQ6.mp4",title:"Hiuen Tsang Memorial Hall, Nalanda",description:"Travel back in time to the ancient seat of learning through the Hiuen Tsang Memorial Hall in Nalanda. This VR journey narrates the story of the legendary Chinese traveler and scholar who spent years absorbing the teachings of Nalanda University. Walk through intricately carved corridors, ancient manuscripts, and statues that reflect Indo-Chinese cultural synergy. A tribute to knowledge and global exchange, this memorial is both artistic and intellectually enriching."}];function Vr(){const[Re,e]=reactExports.useState(videoList[0].high),[Ee,Ce]=reactExports.useState(0),Te=useNavigate(),De=(Me,Oe)=>{e(Me.high),Ce(Oe)};return jsxRuntimeExports.jsxs("div",{id:"Vr",className:"bg-[#190108] pt-16 px-4 md:px-10 pb-24 relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 left-0 w-[500px] h-[500px] bg-[#4f0419] rounded-full blur-[150px] opacity-20 pointer-events-none"}),jsxRuntimeExports.jsx("h2",{className:"text-white text-2xl sm:text-3xl md:text-6xl bebas-neue-regular pl-4 md:pl-24 relative z-10 mb-8 drop-shadow-xl",children:"Bihar Film Location in VR"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8 items-center mt-10 mb-12 relative z-10",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,x:-30},whileInView:{opacity:1,x:0},transition:{duration:.8,ease:"easeOut"},className:"pl-4 md:pl-24",children:jsxRuntimeExports.jsxs("div",{className:"bg-white/5 backdrop-blur-md border border-white/10 p-6 md:p-8 rounded-2xl shadow-2xl relative overflow-hidden group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-500"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-300 text-base leading-relaxed text-justify relative z-10",children:[jsxRuntimeExports.jsxs("strong",{className:"text-white block mb-3 text-xl tracking-wide",children:["Experience ",videoList[Ee].title," in Virtual Reality (VR):"]}),videoList[Ee].description]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Te("/vrpage"),className:"group mt-8 px-8 py-3 rounded-full bg-white/5 border border-white/10 hover:bg-[#4f0419] hover:border-[#4f0419] transition-all duration-300 flex items-center gap-3 backdrop-blur-md shadow-lg hover:shadow-[#4f0419]/30",children:[jsxRuntimeExports.jsx("span",{className:"text-white font-medium tracking-wide",children:"Learn more"}),jsxRuntimeExports.jsx(IoIosArrowRoundForward,{className:"text-white text-2xl transition-transform duration-300 group-hover:translate-x-1"})]})]})}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.95},whileInView:{opacity:1,scale:1},transition:{duration:.8,ease:"easeOut"},className:"w-full h-[25rem] rounded-2xl shadow-2xl overflow-hidden bg-black border border-white/10 relative group mx-auto md:mx-0 max-w-[95%]",children:[jsxRuntimeExports.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-[#4f0419] to-purple-900 opacity-20 blur-xl group-hover:opacity-40 transition-opacity duration-500"}),jsxRuntimeExports.jsx("video",{className:"w-full h-full object-cover relative z-10",src:Re,autoPlay:!0,muted:!0,loop:!0,controls:!0})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-hidden group mt-12 px-4 relative z-10",children:jsxRuntimeExports.jsx("div",{className:"flex w-max space-x-6 animate-scrollVideos group-hover:pause-scroll py-4 pl-4",children:videoList.map((Me,Oe)=>Oe!==Ee&&jsxRuntimeExports.jsxs(motion.div,{whileHover:{scale:1.05,y:-5},className:"cursor-pointer rounded-xl overflow-hidden shadow-lg border border-white/10 w-64 h-40 relative flex-shrink-0",onClick:()=>De(Me,Oe),children:[jsxRuntimeExports.jsx("video",{className:"w-full h-full object-cover opacity-80 hover:opacity-100 transition-opacity duration-300",src:Me.low,muted:!0,loop:!0,autoPlay:!0}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/20 hover:bg-transparent transition-colors duration-300"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-full p-2 bg-gradient-to-t from-black/80 to-transparent",children:jsxRuntimeExports.jsx("p",{className:"text-white text-xs font-medium truncate",children:Me.title})})]},Oe))})})]})}function CardWithText({imageUrl:Re,title:e,description:Ee,onClick:Ce}){return jsxRuntimeExports.jsx("div",{onClick:Ce,className:"group relative w-[22rem] h-[28rem] cursor-pointer",children:jsxRuntimeExports.jsxs("div",{className:"relative h-full overflow-hidden rounded-2xl bg-gradient-to-br from-[#1a0509] to-[#0d0305] shadow-xl transition-all duration-500 ease-out group-hover:shadow-2xl group-hover:shadow-[#4f0419]/20 group-hover:-translate-y-2",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-2xl bg-gradient-to-br from-[#4f0419]/40 via-transparent to-transparent opacity-0 transition-opacity duration-500 group-hover:opacity-100 pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 rounded-2xl border border-[#3a0d1a]/50 group-hover:border-[#4f0419]/60 transition-colors duration-500"}),jsxRuntimeExports.jsxs("div",{className:"relative h-[55%] overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:Re,alt:e,className:"absolute inset-0 w-full h-full object-cover transition-all duration-700 ease-out group-hover:scale-110 group-hover:brightness-110"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-[#1a0509]/90"}),jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-4 px-3 py-1.5 rounded-full bg-white/10 backdrop-blur-md border border-white/20 opacity-0 group-hover:opacity-100 transition-all duration-500",children:jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-white",children:"Explore"})})]}),jsxRuntimeExports.jsxs("div",{className:"relative h-[45%] p-6 flex flex-col justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent transition-all duration-300 group-hover:from-[#f5e6ea] group-hover:to-white",children:e}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 leading-relaxed line-clamp-3 transition-colors duration-300 group-hover:text-gray-300",children:Ee})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mt-4",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-[#4f0419] opacity-0 -translate-x-2 transition-all duration-500 group-hover:opacity-100 group-hover:translate-x-0",children:"Learn More"}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-10 h-10 rounded-full bg-[#4f0419]/10 border border-[#4f0419]/30 transition-all duration-500 group-hover:bg-[#4f0419] group-hover:border-[#4f0419] group-hover:translate-x-1",children:jsxRuntimeExports.jsx(IoIosArrowRoundForward,{className:"text-2xl text-[#4f0419] transition-colors duration-500 group-hover:text-white"})})]}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 h-1 bg-gradient-to-r from-[#4f0419] to-transparent w-0 transition-all duration-500 group-hover:w-full rounded-bl-2xl"})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/5 to-transparent pointer-events-none"})]})})}function FiArrowLeft(Re){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(Re)}function FiChevronDown(Re){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(Re)}function FiChevronRight(Re){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(Re)}function FiExternalLink(Re){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"},child:[]},{tag:"polyline",attr:{points:"15 3 21 3 21 9"},child:[]},{tag:"line",attr:{x1:"10",y1:"14",x2:"21",y2:"3"},child:[]}]})(Re)}function FiMapPin(Re){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"10",r:"3"},child:[]}]})(Re)}function FiPackage(Re){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"16.5",y1:"9.4",x2:"7.5",y2:"4.21"},child:[]},{tag:"path",attr:{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"},child:[]},{tag:"polyline",attr:{points:"3.27 6.96 12 12.01 20.73 6.96"},child:[]},{tag:"line",attr:{x1:"12",y1:"22.08",x2:"12",y2:"12"},child:[]}]})(Re)}function FiRefreshCw(Re){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(Re)}function FiSearch(Re){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(Re)}function FiShield(Re){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(Re)}function FiUser(Re){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(Re)}function FiX(Re){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"},child:[]},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"},child:[]}]})(Re)}function bind(Re,e){return function(){return Re.apply(e,arguments)}}const{toString:toString$1}=Object.prototype,{getPrototypeOf}=Object,{iterator,toStringTag}=Symbol,kindOf=(Re=>e=>{const Ee=toString$1.call(e);return Re[Ee]||(Re[Ee]=Ee.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest=Re=>(Re=Re.toLowerCase(),e=>kindOf(e)===Re),typeOfTest=Re=>e=>typeof e===Re,{isArray}=Array,isUndefined$1=typeOfTest("undefined");function isBuffer(Re){return Re!==null&&!isUndefined$1(Re)&&Re.constructor!==null&&!isUndefined$1(Re.constructor)&&isFunction$1(Re.constructor.isBuffer)&&Re.constructor.isBuffer(Re)}const isArrayBuffer$1=kindOfTest("ArrayBuffer");function isArrayBufferView(Re){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(Re):e=Re&&Re.buffer&&isArrayBuffer$1(Re.buffer),e}const isString$2=typeOfTest("string"),isFunction$1=typeOfTest("function"),isNumber=typeOfTest("number"),isObject$2=Re=>Re!==null&&typeof Re=="object",isBoolean$1=Re=>Re===!0||Re===!1,isPlainObject$2=Re=>{if(kindOf(Re)!=="object")return!1;const e=getPrototypeOf(Re);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(toStringTag in Re)&&!(iterator in Re)},isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob$1=kindOfTest("Blob"),isFileList=kindOfTest("FileList"),isStream=Re=>isObject$2(Re)&&isFunction$1(Re.pipe),isFormData=Re=>{let e;return Re&&(typeof FormData=="function"&&Re instanceof FormData||isFunction$1(Re.append)&&((e=kindOf(Re))==="formdata"||e==="object"&&isFunction$1(Re.toString)&&Re.toString()==="[object FormData]"))},isURLSearchParams=kindOfTest("URLSearchParams"),[isReadableStream,isRequest,isResponse,isHeaders]=["ReadableStream","Request","Response","Headers"].map(kindOfTest),trim=Re=>Re.trim?Re.trim():Re.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach(Re,e,{allOwnKeys:Ee=!1}={}){if(Re===null||typeof Re>"u")return;let Ce,Te;if(typeof Re!="object"&&(Re=[Re]),isArray(Re))for(Ce=0,Te=Re.length;Ce<Te;Ce++)e.call(null,Re[Ce],Ce,Re);else{const De=Ee?Object.getOwnPropertyNames(Re):Object.keys(Re),Me=De.length;let Oe;for(Ce=0;Ce<Me;Ce++)Oe=De[Ce],e.call(null,Re[Oe],Oe,Re)}}function findKey(Re,e){e=e.toLowerCase();const Ee=Object.keys(Re);let Ce=Ee.length,Te;for(;Ce-- >0;)if(Te=Ee[Ce],e===Te.toLowerCase())return Te;return null}const _global=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,isContextDefined=Re=>!isUndefined$1(Re)&&Re!==_global;function merge$1(){const{caseless:Re}=isContextDefined(this)&&this||{},e={},Ee=(Ce,Te)=>{const De=Re&&findKey(e,Te)||Te;isPlainObject$2(e[De])&&isPlainObject$2(Ce)?e[De]=merge$1(e[De],Ce):isPlainObject$2(Ce)?e[De]=merge$1({},Ce):isArray(Ce)?e[De]=Ce.slice():e[De]=Ce};for(let Ce=0,Te=arguments.length;Ce<Te;Ce++)arguments[Ce]&&forEach(arguments[Ce],Ee);return e}const extend$1=(Re,e,Ee,{allOwnKeys:Ce}={})=>(forEach(e,(Te,De)=>{Ee&&isFunction$1(Te)?Re[De]=bind(Te,Ee):Re[De]=Te},{allOwnKeys:Ce}),Re),stripBOM=Re=>(Re.charCodeAt(0)===65279&&(Re=Re.slice(1)),Re),inherits=(Re,e,Ee,Ce)=>{Re.prototype=Object.create(e.prototype,Ce),Re.prototype.constructor=Re,Object.defineProperty(Re,"super",{value:e.prototype}),Ee&&Object.assign(Re.prototype,Ee)},toFlatObject=(Re,e,Ee,Ce)=>{let Te,De,Me;const Oe={};if(e=e||{},Re==null)return e;do{for(Te=Object.getOwnPropertyNames(Re),De=Te.length;De-- >0;)Me=Te[De],(!Ce||Ce(Me,Re,e))&&!Oe[Me]&&(e[Me]=Re[Me],Oe[Me]=!0);Re=Ee!==!1&&getPrototypeOf(Re)}while(Re&&(!Ee||Ee(Re,e))&&Re!==Object.prototype);return e},endsWith=(Re,e,Ee)=>{Re=String(Re),(Ee===void 0||Ee>Re.length)&&(Ee=Re.length),Ee-=e.length;const Ce=Re.indexOf(e,Ee);return Ce!==-1&&Ce===Ee},toArray=Re=>{if(!Re)return null;if(isArray(Re))return Re;let e=Re.length;if(!isNumber(e))return null;const Ee=new Array(e);for(;e-- >0;)Ee[e]=Re[e];return Ee},isTypedArray=(Re=>e=>Re&&e instanceof Re)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(Re,e)=>{const Ce=(Re&&Re[iterator]).call(Re);let Te;for(;(Te=Ce.next())&&!Te.done;){const De=Te.value;e.call(Re,De[0],De[1])}},matchAll=(Re,e)=>{let Ee;const Ce=[];for(;(Ee=Re.exec(e))!==null;)Ce.push(Ee);return Ce},isHTMLForm=kindOfTest("HTMLFormElement"),toCamelCase=Re=>Re.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(Ee,Ce,Te){return Ce.toUpperCase()+Te}),hasOwnProperty=(({hasOwnProperty:Re})=>(e,Ee)=>Re.call(e,Ee))(Object.prototype),isRegExp=kindOfTest("RegExp"),reduceDescriptors=(Re,e)=>{const Ee=Object.getOwnPropertyDescriptors(Re),Ce={};forEach(Ee,(Te,De)=>{let Me;(Me=e(Te,De,Re))!==!1&&(Ce[De]=Me||Te)}),Object.defineProperties(Re,Ce)},freezeMethods=Re=>{reduceDescriptors(Re,(e,Ee)=>{if(isFunction$1(Re)&&["arguments","caller","callee"].indexOf(Ee)!==-1)return!1;const Ce=Re[Ee];if(isFunction$1(Ce)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+Ee+"'")})}})},toObjectSet=(Re,e)=>{const Ee={},Ce=Te=>{Te.forEach(De=>{Ee[De]=!0})};return isArray(Re)?Ce(Re):Ce(String(Re).split(e)),Ee},noop=()=>{},toFiniteNumber=(Re,e)=>Re!=null&&Number.isFinite(Re=+Re)?Re:e;function isSpecCompliantForm(Re){return!!(Re&&isFunction$1(Re.append)&&Re[toStringTag]==="FormData"&&Re[iterator])}const toJSONObject=Re=>{const e=new Array(10),Ee=(Ce,Te)=>{if(isObject$2(Ce)){if(e.indexOf(Ce)>=0)return;if(!("toJSON"in Ce)){e[Te]=Ce;const De=isArray(Ce)?[]:{};return forEach(Ce,(Me,Oe)=>{const Be=Ee(Me,Te+1);!isUndefined$1(Be)&&(De[Oe]=Be)}),e[Te]=void 0,De}}return Ce};return Ee(Re,0)},isAsyncFn=kindOfTest("AsyncFunction"),isThenable=Re=>Re&&(isObject$2(Re)||isFunction$1(Re))&&isFunction$1(Re.then)&&isFunction$1(Re.catch),_setImmediate=((Re,e)=>Re?setImmediate:e?((Ee,Ce)=>(_global.addEventListener("message",({source:Te,data:De})=>{Te===_global&&De===Ee&&Ce.length&&Ce.shift()()},!1),Te=>{Ce.push(Te),_global.postMessage(Ee,"*")}))(`axios@${Math.random()}`,[]):Ee=>setTimeout(Ee))(typeof setImmediate=="function",isFunction$1(_global.postMessage)),asap=typeof queueMicrotask<"u"?queueMicrotask.bind(_global):typeof process<"u"&&process.nextTick||_setImmediate,isIterable=Re=>Re!=null&&isFunction$1(Re[iterator]),utils$1={isArray,isArrayBuffer:isArrayBuffer$1,isBuffer,isFormData,isArrayBufferView,isString:isString$2,isNumber,isBoolean:isBoolean$1,isObject:isObject$2,isPlainObject:isPlainObject$2,isReadableStream,isRequest,isResponse,isHeaders,isUndefined:isUndefined$1,isDate,isFile,isBlob:isBlob$1,isRegExp,isFunction:isFunction$1,isStream,isURLSearchParams,isTypedArray,isFileList,forEach,merge:merge$1,extend:extend$1,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,forEachEntry,matchAll,isHTMLForm,hasOwnProperty,hasOwnProp:hasOwnProperty,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop,toFiniteNumber,findKey,global:_global,isContextDefined,isSpecCompliantForm,toJSONObject,isAsyncFn,isThenable,setImmediate:_setImmediate,asap,isIterable};function AxiosError$1(Re,e,Ee,Ce,Te){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=Re,this.name="AxiosError",e&&(this.code=e),Ee&&(this.config=Ee),Ce&&(this.request=Ce),Te&&(this.response=Te,this.status=Te.status?Te.status:null)}utils$1.inherits(AxiosError$1,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$1.toJSONObject(this.config),code:this.code,status:this.status}}});const prototype$1=AxiosError$1.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(Re=>{descriptors[Re]={value:Re}});Object.defineProperties(AxiosError$1,descriptors);Object.defineProperty(prototype$1,"isAxiosError",{value:!0});AxiosError$1.from=(Re,e,Ee,Ce,Te,De)=>{const Me=Object.create(prototype$1);return utils$1.toFlatObject(Re,Me,function(Be){return Be!==Error.prototype},Oe=>Oe!=="isAxiosError"),AxiosError$1.call(Me,Re.message,e,Ee,Ce,Te),Me.cause=Re,Me.name=Re.name,De&&Object.assign(Me,De),Me};const httpAdapter=null;function isVisitable(Re){return utils$1.isPlainObject(Re)||utils$1.isArray(Re)}function removeBrackets(Re){return utils$1.endsWith(Re,"[]")?Re.slice(0,-2):Re}function renderKey(Re,e,Ee){return Re?Re.concat(e).map(function(Te,De){return Te=removeBrackets(Te),!Ee&&De?"["+Te+"]":Te}).join(Ee?".":""):e}function isFlatArray(Re){return utils$1.isArray(Re)&&!Re.some(isVisitable)}const predicates=utils$1.toFlatObject(utils$1,{},null,function(e){return/^is[A-Z]/.test(e)});function toFormData$1(Re,e,Ee){if(!utils$1.isObject(Re))throw new TypeError("target must be an object");e=e||new FormData,Ee=utils$1.toFlatObject(Ee,{metaTokens:!0,dots:!1,indexes:!1},!1,function(Qe,ns){return!utils$1.isUndefined(ns[Qe])});const Ce=Ee.metaTokens,Te=Ee.visitor||Ve,De=Ee.dots,Me=Ee.indexes,Be=(Ee.Blob||typeof Blob<"u"&&Blob)&&utils$1.isSpecCompliantForm(e);if(!utils$1.isFunction(Te))throw new TypeError("visitor must be a function");function ze(Je){if(Je===null)return"";if(utils$1.isDate(Je))return Je.toISOString();if(utils$1.isBoolean(Je))return Je.toString();if(!Be&&utils$1.isBlob(Je))throw new AxiosError$1("Blob is not supported. Use a Buffer instead.");return utils$1.isArrayBuffer(Je)||utils$1.isTypedArray(Je)?Be&&typeof Blob=="function"?new Blob([Je]):Buffer.from(Je):Je}function Ve(Je,Qe,ns){let Ye=Je;if(Je&&!ns&&typeof Je=="object"){if(utils$1.endsWith(Qe,"{}"))Qe=Ce?Qe:Qe.slice(0,-2),Je=JSON.stringify(Je);else if(utils$1.isArray(Je)&&isFlatArray(Je)||(utils$1.isFileList(Je)||utils$1.endsWith(Qe,"[]"))&&(Ye=utils$1.toArray(Je)))return Qe=removeBrackets(Qe),Ye.forEach(function(ts,Xe){!(utils$1.isUndefined(ts)||ts===null)&&e.append(Me===!0?renderKey([Qe],Xe,De):Me===null?Qe:Qe+"[]",ze(ts))}),!1}return isVisitable(Je)?!0:(e.append(renderKey(ns,Qe,De),ze(Je)),!1)}const qe=[],We=Object.assign(predicates,{defaultVisitor:Ve,convertValue:ze,isVisitable});function Ge(Je,Qe){if(!utils$1.isUndefined(Je)){if(qe.indexOf(Je)!==-1)throw Error("Circular reference detected in "+Qe.join("."));qe.push(Je),utils$1.forEach(Je,function(Ye,rs){(!(utils$1.isUndefined(Ye)||Ye===null)&&Te.call(e,Ye,utils$1.isString(rs)?rs.trim():rs,Qe,We))===!0&&Ge(Ye,Qe?Qe.concat(rs):[rs])}),qe.pop()}}if(!utils$1.isObject(Re))throw new TypeError("data must be an object");return Ge(Re),e}function encode$3(Re){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(Re).replace(/[!'()~]|%20|%00/g,function(Ce){return e[Ce]})}function AxiosURLSearchParams(Re,e){this._pairs=[],Re&&toFormData$1(Re,this,e)}const prototype=AxiosURLSearchParams.prototype;prototype.append=function(e,Ee){this._pairs.push([e,Ee])};prototype.toString=function(e){const Ee=e?function(Ce){return e.call(this,Ce,encode$3)}:encode$3;return this._pairs.map(function(Te){return Ee(Te[0])+"="+Ee(Te[1])},"").join("&")};function encode$2(Re){return encodeURIComponent(Re).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL(Re,e,Ee){if(!e)return Re;const Ce=Ee&&Ee.encode||encode$2;utils$1.isFunction(Ee)&&(Ee={serialize:Ee});const Te=Ee&&Ee.serialize;let De;if(Te?De=Te(e,Ee):De=utils$1.isURLSearchParams(e)?e.toString():new AxiosURLSearchParams(e,Ee).toString(Ce),De){const Me=Re.indexOf("#");Me!==-1&&(Re=Re.slice(0,Me)),Re+=(Re.indexOf("?")===-1?"?":"&")+De}return Re}class InterceptorManager{constructor(){this.handlers=[]}use(e,Ee,Ce){return this.handlers.push({fulfilled:e,rejected:Ee,synchronous:Ce?Ce.synchronous:!1,runWhen:Ce?Ce.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){utils$1.forEach(this.handlers,function(Ce){Ce!==null&&e(Ce)})}}const transitionalDefaults={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=typeof FormData<"u"?FormData:null,Blob$1=typeof Blob<"u"?Blob:null,platform$1={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob:Blob$1},protocols:["http","https","file","blob","url","data"]},hasBrowserEnv=typeof window<"u"&&typeof document<"u",_navigator=typeof navigator=="object"&&navigator||void 0,hasStandardBrowserEnv=hasBrowserEnv&&(!_navigator||["ReactNative","NativeScript","NS"].indexOf(_navigator.product)<0),hasStandardBrowserWebWorkerEnv=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",origin=hasBrowserEnv&&window.location.href||"http://localhost",utils=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv,hasStandardBrowserEnv,hasStandardBrowserWebWorkerEnv,navigator:_navigator,origin},Symbol.toStringTag,{value:"Module"})),platform={...utils,...platform$1};function toURLEncodedForm(Re,e){return toFormData$1(Re,new platform.classes.URLSearchParams,Object.assign({visitor:function(Ee,Ce,Te,De){return platform.isNode&&utils$1.isBuffer(Ee)?(this.append(Ce,Ee.toString("base64")),!1):De.defaultVisitor.apply(this,arguments)}},e))}function parsePropPath(Re){return utils$1.matchAll(/\w+|\[(\w*)]/g,Re).map(e=>e[0]==="[]"?"":e[1]||e[0])}function arrayToObject(Re){const e={},Ee=Object.keys(Re);let Ce;const Te=Ee.length;let De;for(Ce=0;Ce<Te;Ce++)De=Ee[Ce],e[De]=Re[De];return e}function formDataToJSON(Re){function e(Ee,Ce,Te,De){let Me=Ee[De++];if(Me==="__proto__")return!0;const Oe=Number.isFinite(+Me),Be=De>=Ee.length;return Me=!Me&&utils$1.isArray(Te)?Te.length:Me,Be?(utils$1.hasOwnProp(Te,Me)?Te[Me]=[Te[Me],Ce]:Te[Me]=Ce,!Oe):((!Te[Me]||!utils$1.isObject(Te[Me]))&&(Te[Me]=[]),e(Ee,Ce,Te[Me],De)&&utils$1.isArray(Te[Me])&&(Te[Me]=arrayToObject(Te[Me])),!Oe)}if(utils$1.isFormData(Re)&&utils$1.isFunction(Re.entries)){const Ee={};return utils$1.forEachEntry(Re,(Ce,Te)=>{e(parsePropPath(Ce),Te,Ee,0)}),Ee}return null}function stringifySafely(Re,e,Ee){if(utils$1.isString(Re))try{return(e||JSON.parse)(Re),utils$1.trim(Re)}catch(Ce){if(Ce.name!=="SyntaxError")throw Ce}return(Ee||JSON.stringify)(Re)}const defaults={transitional:transitionalDefaults,adapter:["xhr","http","fetch"],transformRequest:[function(e,Ee){const Ce=Ee.getContentType()||"",Te=Ce.indexOf("application/json")>-1,De=utils$1.isObject(e);if(De&&utils$1.isHTMLForm(e)&&(e=new FormData(e)),utils$1.isFormData(e))return Te?JSON.stringify(formDataToJSON(e)):e;if(utils$1.isArrayBuffer(e)||utils$1.isBuffer(e)||utils$1.isStream(e)||utils$1.isFile(e)||utils$1.isBlob(e)||utils$1.isReadableStream(e))return e;if(utils$1.isArrayBufferView(e))return e.buffer;if(utils$1.isURLSearchParams(e))return Ee.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let Oe;if(De){if(Ce.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(e,this.formSerializer).toString();if((Oe=utils$1.isFileList(e))||Ce.indexOf("multipart/form-data")>-1){const Be=this.env&&this.env.FormData;return toFormData$1(Oe?{"files[]":e}:e,Be&&new Be,this.formSerializer)}}return De||Te?(Ee.setContentType("application/json",!1),stringifySafely(e)):e}],transformResponse:[function(e){const Ee=this.transitional||defaults.transitional,Ce=Ee&&Ee.forcedJSONParsing,Te=this.responseType==="json";if(utils$1.isResponse(e)||utils$1.isReadableStream(e))return e;if(e&&utils$1.isString(e)&&(Ce&&!this.responseType||Te)){const Me=!(Ee&&Ee.silentJSONParsing)&&Te;try{return JSON.parse(e)}catch(Oe){if(Me)throw Oe.name==="SyntaxError"?AxiosError$1.from(Oe,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):Oe}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};utils$1.forEach(["delete","get","head","post","put","patch"],Re=>{defaults.headers[Re]={}});const ignoreDuplicateOf=utils$1.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders=Re=>{const e={};let Ee,Ce,Te;return Re&&Re.split(`
`).forEach(function(Me){Te=Me.indexOf(":"),Ee=Me.substring(0,Te).trim().toLowerCase(),Ce=Me.substring(Te+1).trim(),!(!Ee||e[Ee]&&ignoreDuplicateOf[Ee])&&(Ee==="set-cookie"?e[Ee]?e[Ee].push(Ce):e[Ee]=[Ce]:e[Ee]=e[Ee]?e[Ee]+", "+Ce:Ce)}),e},$internals=Symbol("internals");function normalizeHeader(Re){return Re&&String(Re).trim().toLowerCase()}function normalizeValue(Re){return Re===!1||Re==null?Re:utils$1.isArray(Re)?Re.map(normalizeValue):String(Re)}function parseTokens(Re){const e=Object.create(null),Ee=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let Ce;for(;Ce=Ee.exec(Re);)e[Ce[1]]=Ce[2];return e}const isValidHeaderName=Re=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(Re.trim());function matchHeaderValue(Re,e,Ee,Ce,Te){if(utils$1.isFunction(Ce))return Ce.call(this,e,Ee);if(Te&&(e=Ee),!!utils$1.isString(e)){if(utils$1.isString(Ce))return e.indexOf(Ce)!==-1;if(utils$1.isRegExp(Ce))return Ce.test(e)}}function formatHeader(Re){return Re.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,Ee,Ce)=>Ee.toUpperCase()+Ce)}function buildAccessors(Re,e){const Ee=utils$1.toCamelCase(" "+e);["get","set","has"].forEach(Ce=>{Object.defineProperty(Re,Ce+Ee,{value:function(Te,De,Me){return this[Ce].call(this,e,Te,De,Me)},configurable:!0})})}let AxiosHeaders$1=class{constructor(e){e&&this.set(e)}set(e,Ee,Ce){const Te=this;function De(Oe,Be,ze){const Ve=normalizeHeader(Be);if(!Ve)throw new Error("header name must be a non-empty string");const qe=utils$1.findKey(Te,Ve);(!qe||Te[qe]===void 0||ze===!0||ze===void 0&&Te[qe]!==!1)&&(Te[qe||Be]=normalizeValue(Oe))}const Me=(Oe,Be)=>utils$1.forEach(Oe,(ze,Ve)=>De(ze,Ve,Be));if(utils$1.isPlainObject(e)||e instanceof this.constructor)Me(e,Ee);else if(utils$1.isString(e)&&(e=e.trim())&&!isValidHeaderName(e))Me(parseHeaders(e),Ee);else if(utils$1.isObject(e)&&utils$1.isIterable(e)){let Oe={},Be,ze;for(const Ve of e){if(!utils$1.isArray(Ve))throw TypeError("Object iterator must return a key-value pair");Oe[ze=Ve[0]]=(Be=Oe[ze])?utils$1.isArray(Be)?[...Be,Ve[1]]:[Be,Ve[1]]:Ve[1]}Me(Oe,Ee)}else e!=null&&De(Ee,e,Ce);return this}get(e,Ee){if(e=normalizeHeader(e),e){const Ce=utils$1.findKey(this,e);if(Ce){const Te=this[Ce];if(!Ee)return Te;if(Ee===!0)return parseTokens(Te);if(utils$1.isFunction(Ee))return Ee.call(this,Te,Ce);if(utils$1.isRegExp(Ee))return Ee.exec(Te);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,Ee){if(e=normalizeHeader(e),e){const Ce=utils$1.findKey(this,e);return!!(Ce&&this[Ce]!==void 0&&(!Ee||matchHeaderValue(this,this[Ce],Ce,Ee)))}return!1}delete(e,Ee){const Ce=this;let Te=!1;function De(Me){if(Me=normalizeHeader(Me),Me){const Oe=utils$1.findKey(Ce,Me);Oe&&(!Ee||matchHeaderValue(Ce,Ce[Oe],Oe,Ee))&&(delete Ce[Oe],Te=!0)}}return utils$1.isArray(e)?e.forEach(De):De(e),Te}clear(e){const Ee=Object.keys(this);let Ce=Ee.length,Te=!1;for(;Ce--;){const De=Ee[Ce];(!e||matchHeaderValue(this,this[De],De,e,!0))&&(delete this[De],Te=!0)}return Te}normalize(e){const Ee=this,Ce={};return utils$1.forEach(this,(Te,De)=>{const Me=utils$1.findKey(Ce,De);if(Me){Ee[Me]=normalizeValue(Te),delete Ee[De];return}const Oe=e?formatHeader(De):String(De).trim();Oe!==De&&delete Ee[De],Ee[Oe]=normalizeValue(Te),Ce[Oe]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const Ee=Object.create(null);return utils$1.forEach(this,(Ce,Te)=>{Ce!=null&&Ce!==!1&&(Ee[Te]=e&&utils$1.isArray(Ce)?Ce.join(", "):Ce)}),Ee}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,Ee])=>e+": "+Ee).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...Ee){const Ce=new this(e);return Ee.forEach(Te=>Ce.set(Te)),Ce}static accessor(e){const Ce=(this[$internals]=this[$internals]={accessors:{}}).accessors,Te=this.prototype;function De(Me){const Oe=normalizeHeader(Me);Ce[Oe]||(buildAccessors(Te,Me),Ce[Oe]=!0)}return utils$1.isArray(e)?e.forEach(De):De(e),this}};AxiosHeaders$1.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$1.reduceDescriptors(AxiosHeaders$1.prototype,({value:Re},e)=>{let Ee=e[0].toUpperCase()+e.slice(1);return{get:()=>Re,set(Ce){this[Ee]=Ce}}});utils$1.freezeMethods(AxiosHeaders$1);function transformData(Re,e){const Ee=this||defaults,Ce=e||Ee,Te=AxiosHeaders$1.from(Ce.headers);let De=Ce.data;return utils$1.forEach(Re,function(Oe){De=Oe.call(Ee,De,Te.normalize(),e?e.status:void 0)}),Te.normalize(),De}function isCancel$1(Re){return!!(Re&&Re.__CANCEL__)}function CanceledError$1(Re,e,Ee){AxiosError$1.call(this,Re??"canceled",AxiosError$1.ERR_CANCELED,e,Ee),this.name="CanceledError"}utils$1.inherits(CanceledError$1,AxiosError$1,{__CANCEL__:!0});function settle(Re,e,Ee){const Ce=Ee.config.validateStatus;!Ee.status||!Ce||Ce(Ee.status)?Re(Ee):e(new AxiosError$1("Request failed with status code "+Ee.status,[AxiosError$1.ERR_BAD_REQUEST,AxiosError$1.ERR_BAD_RESPONSE][Math.floor(Ee.status/100)-4],Ee.config,Ee.request,Ee))}function parseProtocol(Re){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(Re);return e&&e[1]||""}function speedometer(Re,e){Re=Re||10;const Ee=new Array(Re),Ce=new Array(Re);let Te=0,De=0,Me;return e=e!==void 0?e:1e3,function(Be){const ze=Date.now(),Ve=Ce[De];Me||(Me=ze),Ee[Te]=Be,Ce[Te]=ze;let qe=De,We=0;for(;qe!==Te;)We+=Ee[qe++],qe=qe%Re;if(Te=(Te+1)%Re,Te===De&&(De=(De+1)%Re),ze-Me<e)return;const Ge=Ve&&ze-Ve;return Ge?Math.round(We*1e3/Ge):void 0}}function throttle(Re,e){let Ee=0,Ce=1e3/e,Te,De;const Me=(ze,Ve=Date.now())=>{Ee=Ve,Te=null,De&&(clearTimeout(De),De=null),Re.apply(null,ze)};return[(...ze)=>{const Ve=Date.now(),qe=Ve-Ee;qe>=Ce?Me(ze,Ve):(Te=ze,De||(De=setTimeout(()=>{De=null,Me(Te)},Ce-qe)))},()=>Te&&Me(Te)]}const progressEventReducer=(Re,e,Ee=3)=>{let Ce=0;const Te=speedometer(50,250);return throttle(De=>{const Me=De.loaded,Oe=De.lengthComputable?De.total:void 0,Be=Me-Ce,ze=Te(Be),Ve=Me<=Oe;Ce=Me;const qe={loaded:Me,total:Oe,progress:Oe?Me/Oe:void 0,bytes:Be,rate:ze||void 0,estimated:ze&&Oe&&Ve?(Oe-Me)/ze:void 0,event:De,lengthComputable:Oe!=null,[e?"download":"upload"]:!0};Re(qe)},Ee)},progressEventDecorator=(Re,e)=>{const Ee=Re!=null;return[Ce=>e[0]({lengthComputable:Ee,total:Re,loaded:Ce}),e[1]]},asyncDecorator=Re=>(...e)=>utils$1.asap(()=>Re(...e)),isURLSameOrigin=platform.hasStandardBrowserEnv?((Re,e)=>Ee=>(Ee=new URL(Ee,platform.origin),Re.protocol===Ee.protocol&&Re.host===Ee.host&&(e||Re.port===Ee.port)))(new URL(platform.origin),platform.navigator&&/(msie|trident)/i.test(platform.navigator.userAgent)):()=>!0,cookies=platform.hasStandardBrowserEnv?{write(Re,e,Ee,Ce,Te,De){const Me=[Re+"="+encodeURIComponent(e)];utils$1.isNumber(Ee)&&Me.push("expires="+new Date(Ee).toGMTString()),utils$1.isString(Ce)&&Me.push("path="+Ce),utils$1.isString(Te)&&Me.push("domain="+Te),De===!0&&Me.push("secure"),document.cookie=Me.join("; ")},read(Re){const e=document.cookie.match(new RegExp("(^|;\\s*)("+Re+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(Re){this.write(Re,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function isAbsoluteURL(Re){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(Re)}function combineURLs(Re,e){return e?Re.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):Re}function buildFullPath(Re,e,Ee){let Ce=!isAbsoluteURL(e);return Re&&(Ce||Ee==!1)?combineURLs(Re,e):e}const headersToObject=Re=>Re instanceof AxiosHeaders$1?{...Re}:Re;function mergeConfig$1(Re,e){e=e||{};const Ee={};function Ce(ze,Ve,qe,We){return utils$1.isPlainObject(ze)&&utils$1.isPlainObject(Ve)?utils$1.merge.call({caseless:We},ze,Ve):utils$1.isPlainObject(Ve)?utils$1.merge({},Ve):utils$1.isArray(Ve)?Ve.slice():Ve}function Te(ze,Ve,qe,We){if(utils$1.isUndefined(Ve)){if(!utils$1.isUndefined(ze))return Ce(void 0,ze,qe,We)}else return Ce(ze,Ve,qe,We)}function De(ze,Ve){if(!utils$1.isUndefined(Ve))return Ce(void 0,Ve)}function Me(ze,Ve){if(utils$1.isUndefined(Ve)){if(!utils$1.isUndefined(ze))return Ce(void 0,ze)}else return Ce(void 0,Ve)}function Oe(ze,Ve,qe){if(qe in e)return Ce(ze,Ve);if(qe in Re)return Ce(void 0,ze)}const Be={url:De,method:De,data:De,baseURL:Me,transformRequest:Me,transformResponse:Me,paramsSerializer:Me,timeout:Me,timeoutMessage:Me,withCredentials:Me,withXSRFToken:Me,adapter:Me,responseType:Me,xsrfCookieName:Me,xsrfHeaderName:Me,onUploadProgress:Me,onDownloadProgress:Me,decompress:Me,maxContentLength:Me,maxBodyLength:Me,beforeRedirect:Me,transport:Me,httpAgent:Me,httpsAgent:Me,cancelToken:Me,socketPath:Me,responseEncoding:Me,validateStatus:Oe,headers:(ze,Ve,qe)=>Te(headersToObject(ze),headersToObject(Ve),qe,!0)};return utils$1.forEach(Object.keys(Object.assign({},Re,e)),function(Ve){const qe=Be[Ve]||Te,We=qe(Re[Ve],e[Ve],Ve);utils$1.isUndefined(We)&&qe!==Oe||(Ee[Ve]=We)}),Ee}const resolveConfig=Re=>{const e=mergeConfig$1({},Re);let{data:Ee,withXSRFToken:Ce,xsrfHeaderName:Te,xsrfCookieName:De,headers:Me,auth:Oe}=e;e.headers=Me=AxiosHeaders$1.from(Me),e.url=buildURL(buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls),Re.params,Re.paramsSerializer),Oe&&Me.set("Authorization","Basic "+btoa((Oe.username||"")+":"+(Oe.password?unescape(encodeURIComponent(Oe.password)):"")));let Be;if(utils$1.isFormData(Ee)){if(platform.hasStandardBrowserEnv||platform.hasStandardBrowserWebWorkerEnv)Me.setContentType(void 0);else if((Be=Me.getContentType())!==!1){const[ze,...Ve]=Be?Be.split(";").map(qe=>qe.trim()).filter(Boolean):[];Me.setContentType([ze||"multipart/form-data",...Ve].join("; "))}}if(platform.hasStandardBrowserEnv&&(Ce&&utils$1.isFunction(Ce)&&(Ce=Ce(e)),Ce||Ce!==!1&&isURLSameOrigin(e.url))){const ze=Te&&De&&cookies.read(De);ze&&Me.set(Te,ze)}return e},isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(Re){return new Promise(function(Ee,Ce){const Te=resolveConfig(Re);let De=Te.data;const Me=AxiosHeaders$1.from(Te.headers).normalize();let{responseType:Oe,onUploadProgress:Be,onDownloadProgress:ze}=Te,Ve,qe,We,Ge,Je;function Qe(){Ge&&Ge(),Je&&Je(),Te.cancelToken&&Te.cancelToken.unsubscribe(Ve),Te.signal&&Te.signal.removeEventListener("abort",Ve)}let ns=new XMLHttpRequest;ns.open(Te.method.toUpperCase(),Te.url,!0),ns.timeout=Te.timeout;function Ye(){if(!ns)return;const ts=AxiosHeaders$1.from("getAllResponseHeaders"in ns&&ns.getAllResponseHeaders()),is={data:!Oe||Oe==="text"||Oe==="json"?ns.responseText:ns.response,status:ns.status,statusText:ns.statusText,headers:ts,config:Re,request:ns};settle(function(hs){Ee(hs),Qe()},function(hs){Ce(hs),Qe()},is),ns=null}"onloadend"in ns?ns.onloadend=Ye:ns.onreadystatechange=function(){!ns||ns.readyState!==4||ns.status===0&&!(ns.responseURL&&ns.responseURL.indexOf("file:")===0)||setTimeout(Ye)},ns.onabort=function(){ns&&(Ce(new AxiosError$1("Request aborted",AxiosError$1.ECONNABORTED,Re,ns)),ns=null)},ns.onerror=function(){Ce(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,Re,ns)),ns=null},ns.ontimeout=function(){let Xe=Te.timeout?"timeout of "+Te.timeout+"ms exceeded":"timeout exceeded";const is=Te.transitional||transitionalDefaults;Te.timeoutErrorMessage&&(Xe=Te.timeoutErrorMessage),Ce(new AxiosError$1(Xe,is.clarifyTimeoutError?AxiosError$1.ETIMEDOUT:AxiosError$1.ECONNABORTED,Re,ns)),ns=null},De===void 0&&Me.setContentType(null),"setRequestHeader"in ns&&utils$1.forEach(Me.toJSON(),function(Xe,is){ns.setRequestHeader(is,Xe)}),utils$1.isUndefined(Te.withCredentials)||(ns.withCredentials=!!Te.withCredentials),Oe&&Oe!=="json"&&(ns.responseType=Te.responseType),ze&&([We,Je]=progressEventReducer(ze,!0),ns.addEventListener("progress",We)),Be&&ns.upload&&([qe,Ge]=progressEventReducer(Be),ns.upload.addEventListener("progress",qe),ns.upload.addEventListener("loadend",Ge)),(Te.cancelToken||Te.signal)&&(Ve=ts=>{ns&&(Ce(!ts||ts.type?new CanceledError$1(null,Re,ns):ts),ns.abort(),ns=null)},Te.cancelToken&&Te.cancelToken.subscribe(Ve),Te.signal&&(Te.signal.aborted?Ve():Te.signal.addEventListener("abort",Ve)));const rs=parseProtocol(Te.url);if(rs&&platform.protocols.indexOf(rs)===-1){Ce(new AxiosError$1("Unsupported protocol "+rs+":",AxiosError$1.ERR_BAD_REQUEST,Re));return}ns.send(De||null)})},composeSignals=(Re,e)=>{const{length:Ee}=Re=Re?Re.filter(Boolean):[];if(e||Ee){let Ce=new AbortController,Te;const De=function(ze){if(!Te){Te=!0,Oe();const Ve=ze instanceof Error?ze:this.reason;Ce.abort(Ve instanceof AxiosError$1?Ve:new CanceledError$1(Ve instanceof Error?Ve.message:Ve))}};let Me=e&&setTimeout(()=>{Me=null,De(new AxiosError$1(`timeout ${e} of ms exceeded`,AxiosError$1.ETIMEDOUT))},e);const Oe=()=>{Re&&(Me&&clearTimeout(Me),Me=null,Re.forEach(ze=>{ze.unsubscribe?ze.unsubscribe(De):ze.removeEventListener("abort",De)}),Re=null)};Re.forEach(ze=>ze.addEventListener("abort",De));const{signal:Be}=Ce;return Be.unsubscribe=()=>utils$1.asap(Oe),Be}},streamChunk=function*(Re,e){let Ee=Re.byteLength;if(Ee<e){yield Re;return}let Ce=0,Te;for(;Ce<Ee;)Te=Ce+e,yield Re.slice(Ce,Te),Ce=Te},readBytes=async function*(Re,e){for await(const Ee of readStream(Re))yield*streamChunk(Ee,e)},readStream=async function*(Re){if(Re[Symbol.asyncIterator]){yield*Re;return}const e=Re.getReader();try{for(;;){const{done:Ee,value:Ce}=await e.read();if(Ee)break;yield Ce}}finally{await e.cancel()}},trackStream=(Re,e,Ee,Ce)=>{const Te=readBytes(Re,e);let De=0,Me,Oe=Be=>{Me||(Me=!0,Ce&&Ce(Be))};return new ReadableStream({async pull(Be){try{const{done:ze,value:Ve}=await Te.next();if(ze){Oe(),Be.close();return}let qe=Ve.byteLength;if(Ee){let We=De+=qe;Ee(We)}Be.enqueue(new Uint8Array(Ve))}catch(ze){throw Oe(ze),ze}},cancel(Be){return Oe(Be),Te.return()}},{highWaterMark:2})},isFetchSupported=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",isReadableStreamSupported=isFetchSupported&&typeof ReadableStream=="function",encodeText=isFetchSupported&&(typeof TextEncoder=="function"?(Re=>e=>Re.encode(e))(new TextEncoder):async Re=>new Uint8Array(await new Response(Re).arrayBuffer())),test=(Re,...e)=>{try{return!!Re(...e)}catch{return!1}},supportsRequestStream=isReadableStreamSupported&&test(()=>{let Re=!1;const e=new Request(platform.origin,{body:new ReadableStream,method:"POST",get duplex(){return Re=!0,"half"}}).headers.has("Content-Type");return Re&&!e}),DEFAULT_CHUNK_SIZE=64*1024,supportsResponseStream=isReadableStreamSupported&&test(()=>utils$1.isReadableStream(new Response("").body)),resolvers={stream:supportsResponseStream&&(Re=>Re.body)};isFetchSupported&&(Re=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!resolvers[e]&&(resolvers[e]=utils$1.isFunction(Re[e])?Ee=>Ee[e]():(Ee,Ce)=>{throw new AxiosError$1(`Response type '${e}' is not supported`,AxiosError$1.ERR_NOT_SUPPORT,Ce)})})})(new Response);const getBodyLength=async Re=>{if(Re==null)return 0;if(utils$1.isBlob(Re))return Re.size;if(utils$1.isSpecCompliantForm(Re))return(await new Request(platform.origin,{method:"POST",body:Re}).arrayBuffer()).byteLength;if(utils$1.isArrayBufferView(Re)||utils$1.isArrayBuffer(Re))return Re.byteLength;if(utils$1.isURLSearchParams(Re)&&(Re=Re+""),utils$1.isString(Re))return(await encodeText(Re)).byteLength},resolveBodyLength=async(Re,e)=>{const Ee=utils$1.toFiniteNumber(Re.getContentLength());return Ee??getBodyLength(e)},fetchAdapter=isFetchSupported&&(async Re=>{let{url:e,method:Ee,data:Ce,signal:Te,cancelToken:De,timeout:Me,onDownloadProgress:Oe,onUploadProgress:Be,responseType:ze,headers:Ve,withCredentials:qe="same-origin",fetchOptions:We}=resolveConfig(Re);ze=ze?(ze+"").toLowerCase():"text";let Ge=composeSignals([Te,De&&De.toAbortSignal()],Me),Je;const Qe=Ge&&Ge.unsubscribe&&(()=>{Ge.unsubscribe()});let ns;try{if(Be&&supportsRequestStream&&Ee!=="get"&&Ee!=="head"&&(ns=await resolveBodyLength(Ve,Ce))!==0){let is=new Request(e,{method:"POST",body:Ce,duplex:"half"}),os;if(utils$1.isFormData(Ce)&&(os=is.headers.get("content-type"))&&Ve.setContentType(os),is.body){const[hs,fs]=progressEventDecorator(ns,progressEventReducer(asyncDecorator(Be)));Ce=trackStream(is.body,DEFAULT_CHUNK_SIZE,hs,fs)}}utils$1.isString(qe)||(qe=qe?"include":"omit");const Ye="credentials"in Request.prototype;Je=new Request(e,{...We,signal:Ge,method:Ee.toUpperCase(),headers:Ve.normalize().toJSON(),body:Ce,duplex:"half",credentials:Ye?qe:void 0});let rs=await fetch(Je,We);const ts=supportsResponseStream&&(ze==="stream"||ze==="response");if(supportsResponseStream&&(Oe||ts&&Qe)){const is={};["status","statusText","headers"].forEach(xs=>{is[xs]=rs[xs]});const os=utils$1.toFiniteNumber(rs.headers.get("content-length")),[hs,fs]=Oe&&progressEventDecorator(os,progressEventReducer(asyncDecorator(Oe),!0))||[];rs=new Response(trackStream(rs.body,DEFAULT_CHUNK_SIZE,hs,()=>{fs&&fs(),Qe&&Qe()}),is)}ze=ze||"text";let Xe=await resolvers[utils$1.findKey(resolvers,ze)||"text"](rs,Re);return!ts&&Qe&&Qe(),await new Promise((is,os)=>{settle(is,os,{data:Xe,headers:AxiosHeaders$1.from(rs.headers),status:rs.status,statusText:rs.statusText,config:Re,request:Je})})}catch(Ye){throw Qe&&Qe(),Ye&&Ye.name==="TypeError"&&/Load failed|fetch/i.test(Ye.message)?Object.assign(new AxiosError$1("Network Error",AxiosError$1.ERR_NETWORK,Re,Je),{cause:Ye.cause||Ye}):AxiosError$1.from(Ye,Ye&&Ye.code,Re,Je)}}),knownAdapters={http:httpAdapter,xhr:xhrAdapter,fetch:fetchAdapter};utils$1.forEach(knownAdapters,(Re,e)=>{if(Re){try{Object.defineProperty(Re,"name",{value:e})}catch{}Object.defineProperty(Re,"adapterName",{value:e})}});const renderReason=Re=>`- ${Re}`,isResolvedHandle=Re=>utils$1.isFunction(Re)||Re===null||Re===!1,adapters={getAdapter:Re=>{Re=utils$1.isArray(Re)?Re:[Re];const{length:e}=Re;let Ee,Ce;const Te={};for(let De=0;De<e;De++){Ee=Re[De];let Me;if(Ce=Ee,!isResolvedHandle(Ee)&&(Ce=knownAdapters[(Me=String(Ee)).toLowerCase()],Ce===void 0))throw new AxiosError$1(`Unknown adapter '${Me}'`);if(Ce)break;Te[Me||"#"+De]=Ce}if(!Ce){const De=Object.entries(Te).map(([Oe,Be])=>`adapter ${Oe} `+(Be===!1?"is not supported by the environment":"is not available in the build"));let Me=e?De.length>1?`since :
`+De.map(renderReason).join(`
`):" "+renderReason(De[0]):"as no adapter specified";throw new AxiosError$1("There is no suitable adapter to dispatch the request "+Me,"ERR_NOT_SUPPORT")}return Ce},adapters:knownAdapters};function throwIfCancellationRequested(Re){if(Re.cancelToken&&Re.cancelToken.throwIfRequested(),Re.signal&&Re.signal.aborted)throw new CanceledError$1(null,Re)}function dispatchRequest(Re){return throwIfCancellationRequested(Re),Re.headers=AxiosHeaders$1.from(Re.headers),Re.data=transformData.call(Re,Re.transformRequest),["post","put","patch"].indexOf(Re.method)!==-1&&Re.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(Re.adapter||defaults.adapter)(Re).then(function(Ce){return throwIfCancellationRequested(Re),Ce.data=transformData.call(Re,Re.transformResponse,Ce),Ce.headers=AxiosHeaders$1.from(Ce.headers),Ce},function(Ce){return isCancel$1(Ce)||(throwIfCancellationRequested(Re),Ce&&Ce.response&&(Ce.response.data=transformData.call(Re,Re.transformResponse,Ce.response),Ce.response.headers=AxiosHeaders$1.from(Ce.response.headers))),Promise.reject(Ce)})}const VERSION$1="1.10.0",validators$1={};["object","boolean","number","function","string","symbol"].forEach((Re,e)=>{validators$1[Re]=function(Ce){return typeof Ce===Re||"a"+(e<1?"n ":" ")+Re}});const deprecatedWarnings={};validators$1.transitional=function(e,Ee,Ce){function Te(De,Me){return"[Axios v"+VERSION$1+"] Transitional option '"+De+"'"+Me+(Ce?". "+Ce:"")}return(De,Me,Oe)=>{if(e===!1)throw new AxiosError$1(Te(Me," has been removed"+(Ee?" in "+Ee:"")),AxiosError$1.ERR_DEPRECATED);return Ee&&!deprecatedWarnings[Me]&&(deprecatedWarnings[Me]=!0,console.warn(Te(Me," has been deprecated since v"+Ee+" and will be removed in the near future"))),e?e(De,Me,Oe):!0}};validators$1.spelling=function(e){return(Ee,Ce)=>(console.warn(`${Ce} is likely a misspelling of ${e}`),!0)};function assertOptions(Re,e,Ee){if(typeof Re!="object")throw new AxiosError$1("options must be an object",AxiosError$1.ERR_BAD_OPTION_VALUE);const Ce=Object.keys(Re);let Te=Ce.length;for(;Te-- >0;){const De=Ce[Te],Me=e[De];if(Me){const Oe=Re[De],Be=Oe===void 0||Me(Oe,De,Re);if(Be!==!0)throw new AxiosError$1("option "+De+" must be "+Be,AxiosError$1.ERR_BAD_OPTION_VALUE);continue}if(Ee!==!0)throw new AxiosError$1("Unknown option "+De,AxiosError$1.ERR_BAD_OPTION)}}const validator={assertOptions,validators:validators$1},validators=validator.validators;let Axios$1=class{constructor(e){this.defaults=e||{},this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}async request(e,Ee){try{return await this._request(e,Ee)}catch(Ce){if(Ce instanceof Error){let Te={};Error.captureStackTrace?Error.captureStackTrace(Te):Te=new Error;const De=Te.stack?Te.stack.replace(/^.+\n/,""):"";try{Ce.stack?De&&!String(Ce.stack).endsWith(De.replace(/^.+\n.+\n/,""))&&(Ce.stack+=`
`+De):Ce.stack=De}catch{}}throw Ce}}_request(e,Ee){typeof e=="string"?(Ee=Ee||{},Ee.url=e):Ee=e||{},Ee=mergeConfig$1(this.defaults,Ee);const{transitional:Ce,paramsSerializer:Te,headers:De}=Ee;Ce!==void 0&&validator.assertOptions(Ce,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1),Te!=null&&(utils$1.isFunction(Te)?Ee.paramsSerializer={serialize:Te}:validator.assertOptions(Te,{encode:validators.function,serialize:validators.function},!0)),Ee.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?Ee.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:Ee.allowAbsoluteUrls=!0),validator.assertOptions(Ee,{baseUrl:validators.spelling("baseURL"),withXsrfToken:validators.spelling("withXSRFToken")},!0),Ee.method=(Ee.method||this.defaults.method||"get").toLowerCase();let Me=De&&utils$1.merge(De.common,De[Ee.method]);De&&utils$1.forEach(["delete","get","head","post","put","patch","common"],Je=>{delete De[Je]}),Ee.headers=AxiosHeaders$1.concat(Me,De);const Oe=[];let Be=!0;this.interceptors.request.forEach(function(Qe){typeof Qe.runWhen=="function"&&Qe.runWhen(Ee)===!1||(Be=Be&&Qe.synchronous,Oe.unshift(Qe.fulfilled,Qe.rejected))});const ze=[];this.interceptors.response.forEach(function(Qe){ze.push(Qe.fulfilled,Qe.rejected)});let Ve,qe=0,We;if(!Be){const Je=[dispatchRequest.bind(this),void 0];for(Je.unshift.apply(Je,Oe),Je.push.apply(Je,ze),We=Je.length,Ve=Promise.resolve(Ee);qe<We;)Ve=Ve.then(Je[qe++],Je[qe++]);return Ve}We=Oe.length;let Ge=Ee;for(qe=0;qe<We;){const Je=Oe[qe++],Qe=Oe[qe++];try{Ge=Je(Ge)}catch(ns){Qe.call(this,ns);break}}try{Ve=dispatchRequest.call(this,Ge)}catch(Je){return Promise.reject(Je)}for(qe=0,We=ze.length;qe<We;)Ve=Ve.then(ze[qe++],ze[qe++]);return Ve}getUri(e){e=mergeConfig$1(this.defaults,e);const Ee=buildFullPath(e.baseURL,e.url,e.allowAbsoluteUrls);return buildURL(Ee,e.params,e.paramsSerializer)}};utils$1.forEach(["delete","get","head","options"],function(e){Axios$1.prototype[e]=function(Ee,Ce){return this.request(mergeConfig$1(Ce||{},{method:e,url:Ee,data:(Ce||{}).data}))}});utils$1.forEach(["post","put","patch"],function(e){function Ee(Ce){return function(De,Me,Oe){return this.request(mergeConfig$1(Oe||{},{method:e,headers:Ce?{"Content-Type":"multipart/form-data"}:{},url:De,data:Me}))}}Axios$1.prototype[e]=Ee(),Axios$1.prototype[e+"Form"]=Ee(!0)});let CancelToken$1=class RR{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let Ee;this.promise=new Promise(function(De){Ee=De});const Ce=this;this.promise.then(Te=>{if(!Ce._listeners)return;let De=Ce._listeners.length;for(;De-- >0;)Ce._listeners[De](Te);Ce._listeners=null}),this.promise.then=Te=>{let De;const Me=new Promise(Oe=>{Ce.subscribe(Oe),De=Oe}).then(Te);return Me.cancel=function(){Ce.unsubscribe(De)},Me},e(function(De,Me,Oe){Ce.reason||(Ce.reason=new CanceledError$1(De,Me,Oe),Ee(Ce.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const Ee=this._listeners.indexOf(e);Ee!==-1&&this._listeners.splice(Ee,1)}toAbortSignal(){const e=new AbortController,Ee=Ce=>{e.abort(Ce)};return this.subscribe(Ee),e.signal.unsubscribe=()=>this.unsubscribe(Ee),e.signal}static source(){let e;return{token:new RR(function(Te){e=Te}),cancel:e}}};function spread$1(Re){return function(Ee){return Re.apply(null,Ee)}}function isAxiosError$1(Re){return utils$1.isObject(Re)&&Re.isAxiosError===!0}const HttpStatusCode$1={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode$1).forEach(([Re,e])=>{HttpStatusCode$1[e]=Re});function createInstance(Re){const e=new Axios$1(Re),Ee=bind(Axios$1.prototype.request,e);return utils$1.extend(Ee,Axios$1.prototype,e,{allOwnKeys:!0}),utils$1.extend(Ee,e,null,{allOwnKeys:!0}),Ee.create=function(Te){return createInstance(mergeConfig$1(Re,Te))},Ee}const axios=createInstance(defaults);axios.Axios=Axios$1;axios.CanceledError=CanceledError$1;axios.CancelToken=CancelToken$1;axios.isCancel=isCancel$1;axios.VERSION=VERSION$1;axios.toFormData=toFormData$1;axios.AxiosError=AxiosError$1;axios.Cancel=axios.CanceledError;axios.all=function(e){return Promise.all(e)};axios.spread=spread$1;axios.isAxiosError=isAxiosError$1;axios.mergeConfig=mergeConfig$1;axios.AxiosHeaders=AxiosHeaders$1;axios.formToJSON=Re=>formDataToJSON(utils$1.isHTMLForm(Re)?new FormData(Re):Re);axios.getAdapter=adapters.getAdapter;axios.HttpStatusCode=HttpStatusCode$1;axios.default=axios;const{Axios,AxiosError,CanceledError,isCancel,CancelToken,VERSION,all,Cancel,isAxiosError,spread,toFormData,AxiosHeaders,HttpStatusCode,formToJSON,getAdapter,mergeConfig}=axios,api=axios.create({baseURL:"https://film.bihar.gov.in",withCredentials:!0}),vendorCategories=JSON.parse('[{"name":"Camera & Imaging Equipment","subcategories":[{"name":"Digital Cinema Cameras"},{"name":"Film Cameras"},{"name":"Mirrorless / DSLR"},{"name":"Cine Lenses"},{"name":"Anamorphic Lenses"},{"name":"Zoom Lenses"},{"name":"Prime Lenses"},{"name":"Camera Filters"},{"name":"Matte Box"},{"name":"Follow Focus"},{"name":"Camera Monitors"},{"name":"Wireless Video Systems"},{"name":"Gimbals & Stabilizers"},{"name":"Steadicam Systems"},{"name":"Tripods & Heads"},{"name":"Sliders & Dollies"},{"name":"Jib / Crane"},{"name":"Drone Cameras"},{"name":"Action Cameras"},{"name":"DIT Equipment"},{"name":"Camera Batteries & Media"}]},{"name":"Sound & Audio Equipment","subcategories":[{"name":"Boom Microphones"},{"name":"Lavalier Microphones"},{"name":"Wireless Mic Systems"},{"name":"Shotgun Microphones"},{"name":"Field Audio Recorders"},{"name":"Sound Mixers"},{"name":"Audio Interfaces"},{"name":"Monitoring Headphones"},{"name":"Timecode Devices"},{"name":"Foley Recording Equipment"}]},{"name":"Lighting Equipment","subcategories":[{"name":"HMI Lights"},{"name":"LED Panel Lights"},{"name":"Fresnel Lights"},{"name":"Tungsten Lights"},{"name":"Tube Lights"},{"name":"Skypanels"},{"name":"Softboxes"},{"name":"Reflectors & Diffusers"},{"name":"Light Stands"},{"name":"C-Stands"},{"name":"Flags & Cutters"},{"name":"Grip Equipment"},{"name":"Generators"},{"name":"Power Distribution Boxes"}]},{"name":"Production Vehicles","subcategories":[{"name":"Vanity Vans"},{"name":"Makeup Vans"},{"name":"Production Caravans"},{"name":"Camera Trucks"},{"name":"Lighting Trucks"},{"name":"Generator Vans"},{"name":"Equipment Transport Vehicles"}]},{"name":"Art Department & Set Design","subcategories":[{"name":"Set Construction"},{"name":"Set Fabrication"},{"name":"Carpentry Services"},{"name":"Prop Suppliers"},{"name":"Furniture Rental"},{"name":"Background Props"},{"name":"Set Decoration"},{"name":"Scenic Painting"},{"name":"Green Screen Setup"}]},{"name":"Costume & Styling","subcategories":[{"name":"Costume Designers"},{"name":"Costume Rental"},{"name":"Jewelry Rental"},{"name":"Period Costumes"},{"name":"Uniform Suppliers"},{"name":"Tailoring Services"},{"name":"Laundry Services"}]},{"name":"Makeup & Hair","subcategories":[{"name":"Makeup Artists"},{"name":"Hair Stylists"},{"name":"Prosthetic Makeup"},{"name":"Special Effects Makeup"},{"name":"Wig Suppliers"},{"name":"Vanity Setup Equipment"}]},{"name":"Catering & Hospitality","subcategories":[{"name":"Film Catering Services"},{"name":"Craft Services"},{"name":"Tea / Coffee Services"},{"name":"Packed Meal Suppliers"},{"name":"Outdoor Catering"},{"name":"Hotel Accommodation"},{"name":"Guest House Providers"},{"name":"Artist Hospitality"}]},{"name":"Location & Studio Facilities","subcategories":[{"name":"Location Scouting"},{"name":"Farmhouse Rental"},{"name":"Studio Floors"},{"name":"Shooting Studios"},{"name":"Sound Stages"},{"name":"Green Screen Studios"},{"name":"Virtual Production Studios"},{"name":"Rehearsal Halls"}]},{"name":"Post Production Services","subcategories":[{"name":"Video Editing"},{"name":"Color Grading"},{"name":"DI Studio"},{"name":"VFX Services"},{"name":"CGI Animation"},{"name":"Motion Graphics"},{"name":"Title Design"},{"name":"Sound Design"},{"name":"Background Score"},{"name":"Dubbing Studio"},{"name":"ADR Studio"},{"name":"Subtitle Services"},{"name":"Trailer Editing"}]},{"name":"Crew & Talent Services","subcategories":[{"name":"Line Producers"},{"name":"Production Managers"},{"name":"Assistant Directors"},{"name":"Cinematographers"},{"name":"Camera Operators"},{"name":"Sound Engineers"},{"name":"Light Technicians"},{"name":"Spot Boys"},{"name":"Casting Agencies"},{"name":"Actors"},{"name":"Junior Artists"},{"name":"Stunt Coordinators"},{"name":"Choreographers"},{"name":"Script Writers"},{"name":"Dialogue Writers"}]},{"name":"Legal & Compliance","subcategories":[{"name":"Shooting Permissions"},{"name":"Police Permissions"},{"name":"Drone Permissions"},{"name":"Film Insurance"},{"name":"Equipment Insurance"},{"name":"Copyright Registration"},{"name":"Music Licensing"}]}]'),Disclaimer$2=()=>jsxRuntimeExports.jsx("div",{className:"pt-8 pb-4",children:jsxRuntimeExports.jsx("div",{className:"bg-gray-50 border border-gray-100 rounded-2xl p-6",children:jsxRuntimeExports.jsxs("p",{className:"text-[10px] leading-relaxed text-gray-400 font-medium text-center italic",children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-gray-500 uppercase tracking-widest not-italic mr-1",children:"Disclaimer:"}),"The information and data displayed on this portal are provided solely by the respective individuals/applicants. The Department makes no representations or warranties regarding the accuracy, completeness, or reliability of the submitted information and shall not be held responsible or liable for any errors, omissions, or claims arising from its use."]})})}),safeArray=Re=>Array.isArray(Re)?Re:[],norm=Re=>String(Re||"").trim().toLowerCase(),BASE_URL="https://film.bihar.gov.in",getImageUrl=Re=>{if(!Re)return"https://via.placeholder.com/600x400?text=No+Image";if(String(Re).startsWith("http"))return Re;const e=String(Re).startsWith("/")?String(Re).slice(1):String(Re);return`${BASE_URL}/${e}`},ProductionAssets=({onClose:Re})=>{const[e,Ee]=reactExports.useState([]),[Ce,Te]=reactExports.useState(!0),[De,Me]=reactExports.useState(""),[Oe,Be]=reactExports.useState(null),[ze,Ve]=reactExports.useState(()=>new Set),[qe,We]=reactExports.useState([]),[Ge,Je]=reactExports.useState(!1),[Qe,ns]=reactExports.useState(""),[Ye,rs]=reactExports.useState(!1),[ts,Xe]=reactExports.useState("products"),[is,os]=reactExports.useState(null),[hs,fs]=reactExports.useState([]),[xs,Ss]=reactExports.useState(!1),ds=reactExports.useRef(null),[gs,Ts]=reactExports.useState(""),Ds=reactExports.useMemo(()=>{const Ps=new Map;return safeArray(vendorCategories).forEach(Us=>{var Ks;const Is=(Ks=Us==null?void 0:Us.name)==null?void 0:Ks.trim();if(!Is)return;const Vs=safeArray(Us==null?void 0:Us.subcategories).map(or=>{var rr;return(rr=or==null?void 0:or.name)==null?void 0:rr.trim()}).filter(Boolean);Ps.set(Is,Vs)}),Ps},[]),Ms=async()=>{var Ps;Te(!0);try{const Us=await api.get("/api/products/menu?onlyVendorVerified=true",{validateStatus:()=>!0});Us.status>=200&&Us.status<300?Ee(safeArray((Ps=Us.data)==null?void 0:Ps.data)):Ee([])}catch{Ee([])}finally{Te(!1)}},bs=reactExports.useMemo(()=>{const Ps=new Map;safeArray(e).forEach(Vs=>{var or;const Ks=(or=Vs==null?void 0:Vs.type)==null?void 0:or.trim();Ks&&Ps.set(Ks,{type:Ks,total:Number((Vs==null?void 0:Vs.total)||0),subTypes:safeArray(Vs==null?void 0:Vs.subTypes).map(rr=>{var ur;return{subType:(ur=rr==null?void 0:rr.subType)==null?void 0:ur.trim(),count:Number((rr==null?void 0:rr.count)||0)}}).filter(rr=>rr.subType)})});const Us=new Set([...Array.from(Ds.keys()),...Array.from(Ps.keys())]),Is=Array.from(Us).map(Vs=>{const Ks=Ps.get(Vs),or=Ds.get(Vs)||[],rr=((Ks==null?void 0:Ks.subTypes)||[]).map(Er=>Er.subType),ur=new Set([...or,...rr].filter(Boolean)),Ws=Array.from(ur).sort((Er,zr)=>Er.localeCompare(zr)).map(Er=>{var zr,Or;return{subType:Er,count:((Or=(zr=Ks==null?void 0:Ks.subTypes)==null?void 0:zr.find(tr=>tr.subType===Er))==null?void 0:Or.count)||0}});return{type:Vs,total:(Ks==null?void 0:Ks.total)??0,subTypes:Ws}});return Is.sort((Vs,Ks)=>{const or=(Ks.total||0)-(Vs.total||0);return or!==0?or:Vs.type.localeCompare(Ks.type)}),Is},[e,Ds]),Ns=reactExports.useMemo(()=>{const Ps=norm(gs);if(!Ps)return bs;const Us=new Set,Is=new Map;return safeArray(qe).forEach(Vs=>{var Or,tr,Lr,Js,lr,hr;const Ks=(Or=Vs==null?void 0:Vs.type)==null?void 0:Or.trim(),or=(tr=Vs==null?void 0:Vs.subType)==null?void 0:tr.trim(),rr=(Lr=Vs==null?void 0:Vs.vendor)==null?void 0:Lr.vendorName,ur=Vs==null?void 0:Vs.name,Ws=Vs==null?void 0:Vs.description,Er=(Js=Vs==null?void 0:Vs.vendor)==null?void 0:Js.address;[Ks,or,rr,ur,Ws,Er,(lr=Vs==null?void 0:Vs.vendor)==null?void 0:lr.email,(hr=Vs==null?void 0:Vs.vendor)==null?void 0:hr.phoneNumber].map(norm).join(" | ").includes(Ps)&&(Ks&&Us.add(Ks),Ks&&or&&(Is.has(Ks)||Is.set(Ks,new Set),Is.get(Ks).add(or)))}),safeArray(bs).map(Vs=>{const Ks=norm(Vs.type).includes(Ps),or=safeArray(Vs.subTypes).filter(ur=>{var zr;const Ws=norm(ur.subType).includes(Ps),Er=(zr=Is.get(Vs.type))==null?void 0:zr.has(ur.subType);return Ks||Ws||Er});return Ks||or.length>0||Us.has(Vs.type)?{...Vs,subTypes:or}:null}).filter(Boolean)},[bs,gs,qe]),ps=async({type:Ps,subType:Us})=>{var Ks;if(!Ps)return[];const Is=new URLSearchParams({type:String(Ps),onlyVendorVerified:"true"});Us&&Is.set("subType",String(Us));const Vs=await api.get(`/api/products?${Is.toString()}`,{validateStatus:()=>!0});return Vs.status>=200&&Vs.status<300?safeArray((Ks=Vs.data)==null?void 0:Ks.data):[]},_s=async Ps=>{var Vs;const Us=Ps||null;if(!Us)return;os(Us),Xe("vendor"),Ss(!0),fs([]);const Is=(Us==null?void 0:Us.id)||(Us==null?void 0:Us.vendorId)||(Us==null?void 0:Us._id);try{if(Is){const or=new URLSearchParams({onlyVendorVerified:"true",vendorId:String(Is)}),rr=await api.get(`/api/products?${or.toString()}`,{validateStatus:()=>!0});if(rr.status>=200&&rr.status<300){fs(safeArray((Vs=rr.data)==null?void 0:Vs.data));return}}const Ks=safeArray(qe).filter(or=>{const rr=or==null?void 0:or.vendor,ur=Is&&((rr==null?void 0:rr.id)===Is||(rr==null?void 0:rr.vendorId)===Is||(rr==null?void 0:rr._id)===Is)||!1,Ws=(rr==null?void 0:rr.vendorName)&&(Us==null?void 0:Us.vendorName)&&norm(rr.vendorName)===norm(Us.vendorName);return ur||Ws});fs(Ks)}catch{fs([])}finally{Ss(!1)}},ws=()=>{Xe("products"),os(null),fs([]),Ss(!1)};reactExports.useEffect(()=>{Ms()},[]),reactExports.useEffect(()=>{if(!bs.length||bs.some(Is=>Is.type===De))return;const Us=bs.find(Is=>(Is.total||0)>0)||bs[0];Us!=null&&Us.type&&(Me(Us.type),Be(null),Ve(new Set([Us.type])))},[bs]),reactExports.useEffect(()=>{const Ps=async()=>{if(De){Je(!0);try{const Us=await ps({type:De,subType:Oe});We(Us)}finally{Je(!1)}}};ts==="vendor"&&ws(),Ps()},[De,Oe]),reactExports.useEffect(()=>(ds.current&&clearTimeout(ds.current),ds.current=setTimeout(()=>Ts(Qe),120),()=>{ds.current&&clearTimeout(ds.current)}),[Qe]);const js=reactExports.useMemo(()=>{const Ps=norm(gs);return Ps?safeArray(qe).filter(Us=>{var Or,tr,Lr,Js;const Is=norm(Us==null?void 0:Us.name),Vs=norm(Us==null?void 0:Us.type),Ks=norm(Us==null?void 0:Us.subType),or=norm((Or=Us==null?void 0:Us.vendor)==null?void 0:Or.vendorName),rr=norm(Us==null?void 0:Us.description),ur=norm((tr=Us==null?void 0:Us.vendor)==null?void 0:tr.address),Ws=norm((Lr=Us==null?void 0:Us.vendor)==null?void 0:Lr.email),Er=norm((Js=Us==null?void 0:Us.vendor)==null?void 0:Js.phoneNumber),zr=norm(Us==null?void 0:Us.productLink);return Is.includes(Ps)||Vs.includes(Ps)||Ks.includes(Ps)||or.includes(Ps)||rr.includes(Ps)||ur.includes(Ps)||Ws.includes(Ps)||Er.includes(Ps)||zr.includes(Ps)}):qe},[qe,gs]),ms=(Ps,Us)=>{Ve(Is=>{const Vs=new Set(Is);return Vs.add(Ps),Vs})},ys=Ps=>{Ve(Us=>{const Is=new Set(Us);return Is.has(Ps)?Is.delete(Ps):Is.add(Ps),Is})},ks=Ps=>{Me(Ps),Be(null),ms(Ps),rs(!1)},zs=(Ps,Us)=>{Me(Ps),Be(Us),ms(Ps),rs(!1)},Cs=({p:Ps})=>{var zr,Or,tr,Lr;const Us=(Ps==null?void 0:Ps.imageUrl)||(Ps==null?void 0:Ps.image)||((zr=Ps==null?void 0:Ps.vendor)==null?void 0:zr.logoUrl)||((Or=Ps==null?void 0:Ps.vendor)==null?void 0:Or.logo)||null,Is=(Ps==null?void 0:Ps.name)||"Unnamed Product",Vs=((tr=Ps==null?void 0:Ps.vendor)==null?void 0:tr.vendorName)||"Vendor",Ks=(Ps==null?void 0:Ps.type)||"Type",or=(Ps==null?void 0:Ps.subType)||null,rr=(Ps==null?void 0:Ps.description)||"No description provided.",ur=((Lr=Ps==null?void 0:Ps.vendor)==null?void 0:Lr.address)||"Address not provided",Ws=(Ps==null?void 0:Ps.price)===null||(Ps==null?void 0:Ps.price)===void 0||(Ps==null?void 0:Ps.price)===""?"On Request":String(Ps.price),Er=Ws==="On Request"?"On Request":Ws.startsWith("â‚¹")?Ws:`â‚¹${Ws}`;return jsxRuntimeExports.jsx("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-sm hover:shadow-md hover:border-[#891737]/25 transition-all overflow-hidden",children:jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-[15px] sm:text-[16px] font-bold text-gray-900 leading-snug line-clamp-2",children:Is}),jsxRuntimeExports.jsx("p",{className:"mt-1 text-[13px] font-semibold text-[#891737] truncate",children:Er}),jsxRuntimeExports.jsx("div",{className:"mt-3 h-px bg-gray-100"}),jsxRuntimeExports.jsxs("div",{className:"mt-3 flex gap-3 items-start",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] font-semibold px-2 py-1 rounded-full bg-gray-50 border border-gray-100 text-gray-700",children:Ks}),or?jsxRuntimeExports.jsx("span",{className:"text-[10px] font-semibold px-2 py-1 rounded-full bg-gray-50 border border-gray-100 text-gray-700",children:or}):null]}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-[12px] font-semibold text-gray-700 truncate",children:Vs}),jsxRuntimeExports.jsxs("div",{className:"mt-1 flex items-start gap-2 min-w-0",children:[jsxRuntimeExports.jsx(FiMapPin,{className:"w-4 h-4 text-gray-400 mt-[2px] shrink-0"}),jsxRuntimeExports.jsx("p",{className:"text-[12px] text-gray-600 leading-snug line-clamp-2",children:ur})]}),jsxRuntimeExports.jsx("p",{className:"mt-2 text-[12px] text-gray-600 leading-relaxed line-clamp-2",children:rr})]}),jsxRuntimeExports.jsx("div",{className:"w-24 h-24 sm:w-28 sm:h-28 shrink-0 rounded-xl overflow-hidden bg-gray-100 border border-gray-100",children:jsxRuntimeExports.jsx("img",{src:getImageUrl(Us),alt:Is,className:"w-full h-full object-cover",loading:"lazy"})})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 h-px bg-gray-100"}),jsxRuntimeExports.jsxs("div",{className:"mt-3 flex items-center gap-2",children:[Ps!=null&&Ps.productLink?jsxRuntimeExports.jsxs("a",{href:Ps.productLink,target:"_blank",rel:"noopener noreferrer",className:"flex-1 inline-flex items-center justify-center gap-2 px-3 py-2 rounded-xl bg-[#891737] text-white text-xs font-semibold hover:opacity-95 transition",children:["View Link ",jsxRuntimeExports.jsx(FiExternalLink,{className:"w-4 h-4"})]}):jsxRuntimeExports.jsxs("button",{type:"button",disabled:!0,className:"flex-1 inline-flex items-center justify-center gap-2 px-3 py-2 rounded-xl bg-gray-100 text-gray-400 text-xs font-semibold cursor-not-allowed",children:["View Link ",jsxRuntimeExports.jsx(FiExternalLink,{className:"w-4 h-4"})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>_s(Ps==null?void 0:Ps.vendor),className:"flex-1 inline-flex items-center justify-center gap-2 px-3 py-2 rounded-xl border border-gray-200 bg-white hover:bg-gray-50 text-xs font-semibold text-gray-800 transition",children:[jsxRuntimeExports.jsx(FiUser,{className:"w-4 h-4 text-gray-500"}),"View Vendor"]})]})]})})};return jsxRuntimeExports.jsxs("div",{className:"w-full min-h-screen bg-[#FDFCFD] flex relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[40%] h-[40%] bg-[#891737]/5 rounded-full blur-[120px] pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[30%] h-[30%] bg-[#891737]/3 rounded-full blur-[100px] pointer-events-none"}),jsxRuntimeExports.jsx("button",{onClick:Re,className:"absolute top-4 right-4 z-[80] p-2 bg-white/90 backdrop-blur-md rounded-full text-gray-400 hover:text-[#891737] hover:bg-[#891737]/5 transition-all shadow-sm border border-gray-100/50",title:"Close",children:jsxRuntimeExports.jsx(FiX,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:`fixed inset-0 z-[70] lg:hidden transition-all ${Ye?"pointer-events-auto":"pointer-events-none"}`,children:[jsxRuntimeExports.jsx("div",{className:`absolute inset-0 bg-black/30 transition-opacity ${Ye?"opacity-100":"opacity-0"}`,onClick:()=>rs(!1)}),jsxRuntimeExports.jsxs("div",{className:`absolute left-0 top-0 bottom-0 w-[90%] max-w-sm bg-white shadow-2xl border-r border-gray-100 transition-transform ${Ye?"translate-x-0":"-translate-x-full"}`,children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-gray-100 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-extrabold text-gray-900",children:"Categories"}),jsxRuntimeExports.jsx("p",{className:"text-[11px] text-gray-400",children:"Type â†’ Subtype"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>rs(!1),className:"p-2 rounded-lg hover:bg-gray-50 text-gray-500",title:"Close menu",children:jsxRuntimeExports.jsx(FiX,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"p-3 border-b border-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(FiSearch,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),jsxRuntimeExports.jsx("input",{value:Qe,onChange:Ps=>ns(Ps.target.value),placeholder:"Search product/vendor/type/subtype...",className:"w-full placeholder:text-gray-400 pl-9 pr-3 py-2.5 text-sm rounded-xl bg-gray-50 border border-gray-100 focus:bg-white focus:border-[#891737] focus:ring-2 focus:ring-[#891737]/10 outline-none"})]})}),jsxRuntimeExports.jsx("div",{className:"overflow-y-auto h-[calc(100vh-120px)] p-3",children:Ce?jsxRuntimeExports.jsx("div",{className:"px-2 py-6",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:"Loading menu..."})}):jsxRuntimeExports.jsx("div",{className:"space-y-2",children:Ns.map(Ps=>{const Us=ze.has(Ps.type),Is=De===Ps.type;return jsxRuntimeExports.jsxs("div",{className:"rounded-2xl border border-gray-100 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:`w-full px-3 py-3 flex items-center justify-between ${Is?"bg-[#891737]/10":"bg-white"}`,children:[jsxRuntimeExports.jsx("button",{onClick:()=>ks(Ps.type),className:"min-w-0 text-left flex-1",title:Ps.type,children:jsxRuntimeExports.jsx("div",{className:`text-sm font-bold truncate ${Is?"text-[#891737]":"text-gray-800"}`,children:Ps.type})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-[11px] font-extrabold px-2 py-0.5 rounded-full border bg-gray-50 border-gray-100 text-gray-600",children:Ps.total||0}),jsxRuntimeExports.jsx("button",{onClick:()=>ys(Ps.type),className:"p-1.5 rounded-lg hover:bg-gray-50 text-gray-500",title:Us?"Collapse":"Expand",children:Us?jsxRuntimeExports.jsx(FiChevronDown,{}):jsxRuntimeExports.jsx(FiChevronRight,{})})]})]}),Us&&jsxRuntimeExports.jsx("div",{className:"px-3 pb-3 bg-white",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ks(Ps.type),className:`text-[12px] font-bold px-3 py-1.5 rounded-full border ${Is&&Oe===null?"bg-[#891737] text-white border-[#891737]":"bg-white text-gray-700 border-gray-200"}`,children:"All"}),safeArray(Ps.subTypes).map(Vs=>{const Ks=Is&&Oe===Vs.subType;return jsxRuntimeExports.jsxs("button",{onClick:()=>zs(Ps.type,Vs.subType),className:`text-[12px] font-bold px-3 py-1.5 rounded-full border inline-flex items-center gap-2 ${Ks?"bg-[#891737] text-white border-[#891737]":"bg-white text-gray-700 border-gray-200"}`,children:[jsxRuntimeExports.jsx("span",{className:"truncate max-w-[180px]",children:Vs.subType}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-extrabold px-2 py-0.5 rounded-full border bg-gray-50 border-gray-100 text-gray-600",children:Vs.count||0})]},`${Ps.type}-${Vs.subType}`)})]})})]},Ps.type)})})})]})]}),jsxRuntimeExports.jsxs("aside",{className:"hidden lg:flex w-80 border-r border-gray-100 bg-white/60 backdrop-blur-xl h-screen sticky top-0 flex-col z-40",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-gray-100/60 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-extrabold text-gray-900",children:"Product Registry"}),jsxRuntimeExports.jsx("p",{className:"text-[11px] text-gray-400",children:"Browse Products & Services"})]}),jsxRuntimeExports.jsx("button",{onClick:Ms,className:"p-2 rounded-lg hover:bg-gray-50 text-gray-500",title:"Refresh menu",children:jsxRuntimeExports.jsx(FiRefreshCw,{className:`w-4 h-4 ${Ce?"animate-spin":""}`})})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(FiSearch,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),jsxRuntimeExports.jsx("input",{value:Qe,onChange:Ps=>ns(Ps.target.value),placeholder:"Search product/vendor/type/subtype...",className:"w-full placeholder:text-gray-400 pl-9 pr-3 py-2.5 text-xs rounded-xl bg-gray-50 border border-gray-100 focus:bg-white focus:border-[#891737] focus:ring-2 focus:ring-[#891737]/10 outline-none"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-3 custom-scrollbar",children:Ce?jsxRuntimeExports.jsx("div",{className:"px-2 py-6",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:"Loading menu..."})}):Ns.length===0?jsxRuntimeExports.jsx("div",{className:"px-2 py-6",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:"No categories available."})}):jsxRuntimeExports.jsx("div",{className:"space-y-2 pb-6",children:Ns.map(Ps=>{const Us=ze.has(Ps.type),Is=De===Ps.type;return jsxRuntimeExports.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:`w-full px-3 py-2.5 flex items-center justify-between ${Is?"bg-[#891737]/10":"hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsx("button",{onClick:()=>ks(Ps.type),className:"min-w-0 text-left flex-1",title:Ps.type,children:jsxRuntimeExports.jsx("div",{className:`text-xs font-extrabold truncate ${Is?"text-[#891737]":"text-gray-800"}`,children:Ps.type})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-[10px] font-extrabold px-2 py-0.5 rounded-full border bg-gray-50 border-gray-100 text-gray-600",children:Ps.total||0}),jsxRuntimeExports.jsx("button",{onClick:()=>ys(Ps.type),className:"p-1.5 rounded-lg hover:bg-white text-gray-500",title:Us?"Collapse":"Expand",children:Us?jsxRuntimeExports.jsx(FiChevronDown,{className:"w-4 h-4 text-gray-400"}):jsxRuntimeExports.jsx(FiChevronRight,{className:"w-4 h-4 text-gray-400"})})]})]}),Us&&jsxRuntimeExports.jsx("div",{className:"px-3 pb-3 bg-white",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 pt-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ks(Ps.type),className:`text-[11px] font-bold px-2.5 py-1.5 rounded-full border ${Is&&Oe===null?"bg-[#891737] text-white border-[#891737]":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"}`,children:"All"}),safeArray(Ps.subTypes).map(Vs=>{const Ks=Is&&Oe===Vs.subType;return jsxRuntimeExports.jsxs("button",{onClick:()=>zs(Ps.type,Vs.subType),className:`text-[11px] font-bold px-2.5 py-1.5 rounded-full border inline-flex items-center gap-2 ${Ks?"bg-[#891737] text-white border-[#891737]":"bg-white text-gray-700 border-gray-200 hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsx("span",{className:"truncate max-w-[140px]",children:Vs.subType}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-extrabold px-2 py-0.5 rounded-full border bg-gray-50 border-gray-100 text-gray-600",children:Vs.count||0})]},`${Ps.type}-${Vs.subType}`)})]})})]},Ps.type)})})}),jsxRuntimeExports.jsx("div",{className:"p-3 border-t border-gray-100/60 text-center",children:jsxRuntimeExports.jsx("p",{className:"text-[10px] text-gray-400",children:Ge?"Loading...":`${js.length} Products`})})]}),jsxRuntimeExports.jsxs("main",{className:"flex-1 h-screen overflow-y-auto relative z-10 w-full",children:[jsxRuntimeExports.jsxs("div",{className:"lg:hidden sticky top-0 z-30 bg-white/95 backdrop-blur-md border-b border-gray-100 px-4 py-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-extrabold text-gray-900 truncate",children:ts==="vendor"?(is==null?void 0:is.vendorName)||"Vendor":"Product Registry"}),jsxRuntimeExports.jsx("p",{className:"text-[11px] text-gray-400 truncate",children:ts==="vendor"?"Vendor details":`${De||"Select a type"}${Oe?` â€¢ ${Oe}`:""}`})]}),ts==="vendor"?jsxRuntimeExports.jsx("button",{onClick:ws,className:"px-3 py-2 rounded-xl bg-gray-50 border border-gray-100 text-xs font-extrabold text-gray-700",children:"Back"}):jsxRuntimeExports.jsx("button",{onClick:()=>rs(!0),className:"px-3 py-2 rounded-xl bg-gray-50 border border-gray-100 text-xs font-extrabold text-gray-700",children:"Categories"})]}),jsxRuntimeExports.jsx("div",{className:"mt-3",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(FiSearch,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 w-4 h-4"}),jsxRuntimeExports.jsx("input",{value:Qe,onChange:Ps=>ns(Ps.target.value),placeholder:"Search product/vendor/type/subtype...",className:"w-full pl-9 pr-3 py-2.5 text-sm rounded-xl bg-gray-50 border border-gray-100 focus:border-[#891737] focus:ring-2 focus:ring-[#891737]/10 outline-none"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8 max-w-7xl mx-auto min-h-full",children:[jsxRuntimeExports.jsxs("div",{className:"hidden lg:flex items-end justify-between mb-8 pb-4 border-b border-gray-100",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-extrabold text-gray-700 tracking-tight leading-none mb-2",children:ts==="vendor"?"Vendor Details":"Product Registry"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:ts==="vendor"?jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-600",children:(is==null?void 0:is.vendorName)||"Vendor"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Browse Products & Services"," ",De?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["â€¢ ",jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-600",children:De}),Oe?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[" ","â€¢ ",jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-600",children:Oe})]}):null]}):null]})})]}),jsxRuntimeExports.jsx("div",{className:"text-right pr-10 md:pr-0",children:ts==="vendor"?jsxRuntimeExports.jsxs("button",{onClick:ws,className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl border border-gray-200 bg-white hover:bg-gray-50 text-xs font-extrabold text-gray-800 transition",children:[jsxRuntimeExports.jsx(FiArrowLeft,{className:"w-4 h-4"}),"Back to Products"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-extrabold text-[#891737] uppercase tracking-wide",children:Oe||De||"Select a Type"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-gray-400 font-medium",children:Ge?"Loading...":`${js.length} Result(s)`})]})})]}),Ce||Ge?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 border-[3px] border-[#891737]/10 border-t-[#891737] rounded-full animate-spin"}),jsxRuntimeExports.jsx("p",{className:"text-xs font-extrabold text-gray-400 uppercase tracking-widest",children:"Loading..."})]}):ts==="vendor"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"bg-white border border-gray-100 rounded-2xl p-6 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4 items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gray-50 border border-gray-100 p-0.5 overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:getImageUrl((is==null?void 0:is.image)||(is==null?void 0:is.logoUrl)||(is==null?void 0:is.logo)||(is==null?void 0:is.vendorLogo)),alt:(is==null?void 0:is.vendorName)||"Vendor",className:"w-full h-full object-cover rounded-xl"})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-xl font-extrabold text-gray-900 truncate",children:(is==null?void 0:is.vendorName)||"Vendor"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 truncate",children:(is==null?void 0:is.address)||"Address not provided"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] font-extrabold text-gray-500 uppercase tracking-widest",children:"Email"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-gray-900 break-all",children:(is==null?void 0:is.email)||"N/A"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] font-extrabold text-gray-500 uppercase tracking-widest",children:"Phone"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-gray-900",children:(is==null?void 0:is.phoneNumber)||"N/A"})]}),is!=null&&is.website?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] font-extrabold text-gray-500 uppercase tracking-widest",children:"Website"}),jsxRuntimeExports.jsxs("a",{href:is.website,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-extrabold text-[#891737] hover:underline inline-flex items-center gap-1",children:["Visit ",jsxRuntimeExports.jsx(FiExternalLink,{className:"w-3 h-3"})]})]}):null]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-end justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-extrabold text-gray-900",children:"Products & Services"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 font-semibold",children:xs?"Loading...":`${hs.length} item(s)`})]}),xs?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-16 space-y-4 bg-white/60 rounded-3xl border border-gray-100/60",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 border-[3px] border-[#891737]/10 border-t-[#891737] rounded-full animate-spin"}),jsxRuntimeExports.jsx("p",{className:"text-xs font-extrabold text-gray-400 uppercase tracking-widest",children:"Loading..."})]}):hs.length===0?jsxRuntimeExports.jsxs("div",{className:"py-16 text-center bg-white/60 rounded-3xl border border-gray-100/60",children:[jsxRuntimeExports.jsx(FiPackage,{className:"text-3xl text-gray-300 mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 font-semibold text-sm",children:"No products listed for this vendor."})]}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2  md:gap-6",children:hs.map(Ps=>jsxRuntimeExports.jsx(Cs,{p:Ps},Ps.id||`${Ps==null?void 0:Ps.name}-${(Ps==null?void 0:Ps.productLink)||""}`))})]}),jsxRuntimeExports.jsx(Disclaimer$2,{})]}):js.length===0?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center bg-white/60 rounded-3xl border border-gray-100/60",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mb-4 border border-gray-100",children:jsxRuntimeExports.jsx(FiPackage,{className:"text-2xl text-gray-300"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-extrabold text-gray-900 mb-1",children:"No products found"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 max-w-xs mx-auto",children:"Try adjusting search or select a different type/subtype."})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-2 gap-4 md:gap-6",children:js.map(Ps=>jsxRuntimeExports.jsx(Cs,{p:Ps},Ps.id||`${Ps==null?void 0:Ps.name}-${(Ps==null?void 0:Ps.productLink)||""}`))}),jsxRuntimeExports.jsx(Disclaimer$2,{})]})]})]})]})};function FaFacebookF(Re){return GenIcon({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279.14 288l14.22-92.66h-88.91v-60.13c0-25.35 12.42-50.06 52.24-50.06h40.42V6.26S260.43 0 225.36 0c-73.22 0-121.08 44.38-121.08 124.72v70.62H22.89V288h81.39v224h100.17V288z"},child:[]}]})(Re)}function FaFacebook(Re){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(Re)}function FaImdb(Re){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zM21.3 229.2H21c.1-.1.2-.3.3-.4zM97 319.8H64V192h33zm113.2 0h-28.7v-86.4l-11.6 86.4h-20.6l-12.2-84.5v84.5h-29V192h42.8c3.3 19.8 6 39.9 8.7 59.9l7.6-59.9h43zm11.4 0V192h24.6c17.6 0 44.7-1.6 49 20.9 1.7 7.6 1.4 16.3 1.4 24.4 0 88.5 11.1 82.6-75 82.5zm160.9-29.2c0 15.7-2.4 30.9-22.2 30.9-9 0-15.2-3-20.9-9.8l-1.9 8.1h-29.8V192h31.7v41.7c6-6.5 12-9.2 20.9-9.2 21.4 0 22.2 12.8 22.2 30.1zM265 229.9c0-9.7 1.6-16-10.3-16v83.7c12.2.3 10.3-8.7 10.3-18.4zm85.5 26.1c0-5.4 1.1-12.7-6.2-12.7-6 0-4.9 8.9-4.9 12.7 0 .6-1.1 39.6 1.1 44.7.8 1.6 2.2 2.4 3.8 2.4 7.8 0 6.2-9 6.2-14.4z"},child:[]}]})(Re)}function FaInstagram(Re){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(Re)}function FaLinkedinIn(Re){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M100.28 448H7.4V148.9h92.88zM53.79 108.1C24.09 108.1 0 83.5 0 53.8a53.79 53.79 0 0 1 107.58 0c0 29.7-24.1 54.3-53.79 54.3zM447.9 448h-92.68V302.4c0-34.7-.7-79.2-48.29-79.2-48.29 0-55.69 37.7-55.69 76.7V448h-92.78V148.9h89.08v40.8h1.3c12.4-23.5 42.69-48.3 87.88-48.3 94 0 111.28 61.9 111.28 142.3V448z"},child:[]}]})(Re)}function FaTwitter(Re){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(Re)}function FaYoutube(Re){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(Re)}function FaArrowLeft(Re){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(Re)}function FaCheckCircle(Re){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(Re)}function FaChevronDown(Re){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(Re)}function FaClock(Re){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(Re)}function FaDownload(Re){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(Re)}function FaEdit(Re){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(Re)}function FaExternalLinkAlt(Re){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"},child:[]}]})(Re)}function FaEyeSlash(Re){return GenIcon({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(Re)}function FaEye(Re){return GenIcon({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(Re)}function FaFilePdf(Re){return GenIcon({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(Re)}function FaInfoCircle(Re){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(Re)}function FaTimes(Re){return GenIcon({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(Re)}function FaUser(Re){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(Re)}const AlertBox=({isOpen:Re,onClose:e,type:Ee="info",title:Ce,message:Te,confirmText:De="OK",cancelText:Me="Cancel",showCancel:Oe=!1,onConfirm:Be,autoClose:ze=!1,duration:Ve=5e3})=>{React.useEffect(()=>{if(ze&&Re){const Je=setTimeout(()=>{e()},Ve);return()=>clearTimeout(Je)}},[ze,Re,Ve,e]);const qe=()=>{switch(Ee){case"success":return{icon:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-6 h-6",strokeWidth:2}),color:"text-green-600",bgColor:"bg-green-50",borderColor:"border-green-100"};case"error":return{icon:jsxRuntimeExports.jsx(CircleAlert,{className:"w-6 h-6",strokeWidth:2}),color:"text-red-600",bgColor:"bg-red-50",borderColor:"border-red-100"};case"warning":return{icon:jsxRuntimeExports.jsx(TriangleAlert,{className:"w-6 h-6",strokeWidth:2}),color:"text-amber-600",bgColor:"bg-amber-50",borderColor:"border-amber-100"};default:return{icon:jsxRuntimeExports.jsx(Info,{className:"w-6 h-6",strokeWidth:2}),color:"text-[#891737]",bgColor:"bg-[#891737]/5",borderColor:"border-[#891737]/10"}}},We=()=>{Be&&Be(),e()},Ge=qe();return jsxRuntimeExports.jsx(AnimatePresence,{children:Re&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9998]",onClick:e}),jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,scale:.95,y:10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:10},transition:{duration:.2,ease:"easeOut"},className:"bg-white rounded-xl shadow-2xl max-w-sm w-full border border-gray-100 overflow-hidden",onClick:Je=>Je.stopPropagation(),children:[jsxRuntimeExports.jsxs("div",{className:"px-4 py-3 border-b border-gray-100 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-7 h-7 bg-gray-50 rounded-lg border border-gray-100 flex items-center justify-center p-1",children:jsxRuntimeExports.jsx("img",{src:"/Logo1.png",alt:"BSFDFC",className:"w-full h-full object-contain"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-semibold text-gray-900",children:"BSFDFC"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Bihar State Film Development Corporation"})]})]}),jsxRuntimeExports.jsx("button",{onClick:e,className:"w-7 h-7 rounded-lg hover:bg-gray-100 flex items-center justify-center transition-colors flex-shrink-0","aria-label":"Close",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4 text-gray-500",strokeWidth:2})})]}),jsxRuntimeExports.jsxs("div",{className:"px-5 py-5",children:[jsxRuntimeExports.jsx("div",{className:`flex items-center justify-center w-12 h-12 rounded-lg ${Ge.bgColor} ${Ge.color} mx-auto mb-3`,children:Ge.icon}),Ce&&jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-900 text-center mb-1.5",children:Ce}),Te&&jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 text-center leading-relaxed",children:Te})]}),jsxRuntimeExports.jsxs("div",{className:"px-4 py-3 border-t border-gray-100 flex gap-2 justify-end",children:[Oe&&jsxRuntimeExports.jsx("button",{onClick:e,className:"px-3 py-1.5 text-xs font-medium text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors focus:outline-none",children:Me}),jsxRuntimeExports.jsx("button",{onClick:We,className:"px-3 py-1.5 text-xs font-medium text-white bg-[#891737] hover:bg-[#891737]/90 rounded-lg transition-colors focus:outline-none",children:De})]})]})})]})})},validateFile=(Re,e=5,Ee=["image/jpeg","image/png","application/pdf","image/jpg"],Ce=["jpg","jpeg","png","pdf"])=>{if(!Re)return{isValid:!1,error:"No file selected."};const Te=e*1024*1024,De=Re.name.split(".").pop().toLowerCase();return Re.size>Te?{isValid:!1,error:`File size exceeds ${e}MB limit.`}:!Ee.includes(Re.type)&&!Ce.includes(De)?{isValid:!1,error:`Invalid file type. Allowed: ${Ce.join(", ")}`}:{isValid:!0,error:null}},PREDEFINED_ROLES$2=["Acting","Music","Dance","Production","Direction","Writing","Cinematography","Sound","Editing","Production Designing","Costume","Make-up","DI Colourist","Others"],PREDEFINED_SPECIALIZATIONS$1=["Actor/Actress","Anchor","Voice Artist (Dubbing)","Junior Artist","Music Director (Songs)","Music Director (Background)","Arranger","Musician","Singer Male","Singer Female","Choreographer","Assistant Choreographer","Dancer Male","Dancer Female","Group Dancer Male","Group Dancer Female","Line Producer","Production Manager","Production Assistant","Director","Assistant Director","Casting Director","Story Writer","Screenplay Writer","Dialogue Writer","Voice Over Writer","Director of Photography (DOP)","Camera Assistant","Lighting Assistant","Light Man","Sound Designer","Sound Recordist","Effects & Foley Artist","Sound Mixing Master (RR)","Editor","Editing Assistant","Production Designer","Art Director","Art Director Assistant","Costume Designer","Dress Man","Make Up Man","Make Up Assistant","Hair Stylist","Wig Maker","Others"],AddSectionForm=({onClose:Re,onProfileCreated:e,artist:Ee,isCreatingProfile:Ce})=>{var Ps,Us;const[Te,De]=reactExports.useState(Ce?"contact":null),[Me,Oe]=reactExports.useState(!1),[Be,ze]=reactExports.useState((Ee==null?void 0:Ee.description)||""),[Ve,qe]=reactExports.useState({name:(Ee==null?void 0:Ee.fullName)||"",email:(Ee==null?void 0:Ee.email)||"",phone:(Ee==null?void 0:Ee.phoneNumber)||"",address:(Ee==null?void 0:Ee.address)||"",gender:(Ee==null?void 0:Ee.gender)||"",dob:Ee!=null&&Ee.dob?new Date(Ee.dob).toISOString().split("T")[0]:"",bestFilm:(Ee==null?void 0:Ee.bestFilm)||""}),[We,Ge]=reactExports.useState(((Ps=Ee==null?void 0:Ee.professions)==null?void 0:Ps.map(Is=>typeof Is=="object"?Is.name:Is))||[]),[Je,Qe]=reactExports.useState(((Us=Ee==null?void 0:Ee.specializations)==null?void 0:Us.map(Is=>typeof Is=="object"?Is.name:Is))||[]),[ns,Ye]=reactExports.useState(""),[rs,ts]=reactExports.useState(""),[Xe,is]=reactExports.useState(""),[os,hs]=reactExports.useState(""),[fs,xs]=reactExports.useState({facebook:(Ee==null?void 0:Ee.facebook)||"",instagram:(Ee==null?void 0:Ee.instagram)||"",twitter:(Ee==null?void 0:Ee.twitter)||"",linkedIn:(Ee==null?void 0:Ee.linkedIn)||"",imdb:(Ee==null?void 0:Ee.imdbLink)||""}),[Ss,ds]=reactExports.useState({filmTitle:"",roleInFilm:"",durationFrom:"",durationTo:"",description:"",awards:"",link:""}),[gs,Ts]=reactExports.useState({}),[Ds,Ms]=reactExports.useState({isOpen:!1,type:"info",title:"",message:"",confirmText:"OK"}),bs=({type:Is,title:Vs,message:Ks,onConfirm:or})=>{Ms({isOpen:!0,type:Is||"info",title:Vs||"",message:Ks||"",confirmText:"OK",onConfirm:or||null})},Ns=()=>Ms(Is=>({...Is,isOpen:!1})),ps=(Is,Vs)=>{let Ks="";switch(Is){case"name":/^[A-Za-z\s]+$/.test(Vs)||(Ks="Name must contain only alphabets");break;case"email":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Vs)||(Ks="Invalid email address");break;case"phone":/^\d*$/.test(Vs)?Vs.length!==10&&Vs.length!==12&&(Ks="Phone number must be 10 or 12 digits"):Ks="Phone number must contain only digits";break}return Ts(or=>({...or,[Is]:Ks})),Ks},_s=(Is,Vs)=>{qe(Ks=>({...Ks,[Is]:Vs})),ps(Is,Vs)},ws=(Is,Vs,Ks,or)=>{Ks&&!Is.includes(Ks)&&(Vs(rr=>[...rr,Ks]),or(""))},js=(Is,Vs,Ks)=>{Vs(or=>Is.filter((rr,ur)=>ur!==Ks))},ms=async()=>{Oe(!0);try{if(!Ve.name||!Ve.email||!Ve.phone||!Ve.dob||!Ve.gender||!Ve.address){bs({type:"warning",title:"Missing Information",message:"Please fill all required contact details."}),Oe(!1);return}if(We.length===0){bs({type:"warning",title:"Missing Information",message:"Please add at least one profession."}),Oe(!1);return}const Is=ps("name",Ve.name),Vs=ps("email",Ve.email),Ks=ps("phone",Ve.phone);if(Is||Vs||Ks){bs({type:"warning",title:"Validation Error",message:"Please fix validation errors."}),Oe(!1);return}const or=new FormData;or.append("fullName",Ve.name),or.append("email",Ve.email),or.append("phoneNumber",Ve.phone),or.append("address",Ve.address),or.append("gender",Ve.gender),or.append("dob",Ve.dob),or.append("bestFilm",Ve.bestFilm),or.append("description",Be||""),or.append("professions",JSON.stringify(We)),or.append("specializations",JSON.stringify(Je)),or.append("videoLinks",JSON.stringify([])),fs.facebook&&or.append("facebook",fs.facebook),fs.instagram&&or.append("instagram",fs.instagram),fs.twitter&&or.append("twitter",fs.twitter),fs.linkedin&&or.append("linkedIn",fs.linkedin),fs.imdb&&or.append("imdbLink",fs.imdb);const rr=document.createElement("canvas");rr.width=200,rr.height=200;const ur=rr.getContext("2d");ur.fillStyle="#891737",ur.fillRect(0,0,200,200),ur.fillStyle="white",ur.font="bold 80px Arial",ur.textAlign="center",ur.textBaseline="middle",ur.fillText(Ve.name.charAt(0).toUpperCase(),100,100),rr.toBlob(async Ws=>{or.append("image",Ws,"avatar.png"),await ys(or)})}catch(Is){console.error("Prep error",Is),Oe(!1)}},ys=async Is=>{var Vs,Ks;try{const or=await api.post("/api/artist/addArtist",Is,{headers:{"Content-Type":"multipart/form-data"}});or.data&&bs({type:"success",title:"Success!",message:"Artist profile created successfully!",onConfirm:()=>{e(or.data.data),Re()}})}catch(or){bs({type:"error",title:"Creation Failed",message:((Ks=(Vs=or.response)==null?void 0:Vs.data)==null?void 0:Ks.message)||or.message})}finally{Oe(!1)}},ks=async()=>{var Is,Vs,Ks,or;Oe(!0);try{const rr=new FormData;rr.append("fullName",Ve.name),rr.append("email",Ve.email),rr.append("phoneNumber",Ve.phone),rr.append("address",Ve.address),rr.append("gender",Ve.gender),rr.append("dob",Ve.dob),rr.append("bestFilm",Ve.bestFilm),rr.append("description",Be);const ur=new Set(((Is=Ee.professions)==null?void 0:Is.map(tr=>typeof tr=="object"?tr.name:tr))||[]),Ws=We.filter(tr=>!ur.has(tr));rr.append("professions",JSON.stringify(Ws));const Er=new Set(((Vs=Ee.specializations)==null?void 0:Vs.map(tr=>typeof tr=="object"?tr.name:tr))||[]),zr=Je.filter(tr=>!Er.has(tr));rr.append("specializations",JSON.stringify(zr)),fs.facebook&&rr.append("facebook",fs.facebook),fs.instagram&&rr.append("instagram",fs.instagram),fs.twitter&&rr.append("twitter",fs.twitter),fs.linkedin&&rr.append("linkedIn",fs.linkedin),fs.imdb&&rr.append("imdbLink",fs.imdb);const Or=await api.put("/api/artist/updateMyProfile",rr,{headers:{"Content-Type":"multipart/form-data"}});Or.data&&bs({type:"success",title:"Updated!",message:"Profile updated successfully!",onConfirm:()=>{e(Or.data.data),Re()}})}catch(rr){bs({type:"error",title:"Update Failed",message:((or=(Ks=rr.response)==null?void 0:Ks.data)==null?void 0:or.message)||rr.message})}finally{Oe(!1)}},zs=async()=>{var Is,Vs;Oe(!0);try{if(!Ss.filmTitle||!Ss.roleInFilm||!Ss.durationFrom){bs({type:"warning",title:"Missing Info",message:"Fill Film Title, Role, and Start Date."}),Oe(!1);return}const Ks=await api.post("/api/artist/addExperience",{filmTitle:Ss.filmTitle,roleInFilm:Ss.roleInFilm,durationFrom:Ss.durationFrom,durationTo:Ss.durationTo||null,description:Ss.description,awards:Ss.awards,link:Ss.link});(Ks.status===200||Ks.status===201)&&bs({type:"success",title:"Success!",message:"Experience added!",onConfirm:()=>{ds({filmTitle:"",roleInFilm:"",durationFrom:"",durationTo:"",description:"",awards:"",link:""}),De(null),window.location.reload()}})}catch(Ks){bs({type:"error",title:"Failed",message:((Vs=(Is=Ks.response)==null?void 0:Is.data)==null?void 0:Vs.message)||"Failed to add experience"})}finally{Oe(!1)}},Cs=async()=>{Ce&&!Ee?Te==="contact"?await ms():(bs({type:"warning",title:"Incomplete",message:"Complete Contact Details first."}),De("contact")):Ee&&(Te==="experience"?await zs():await ks())};return jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex justify-center items-center p-4 animate-in fade-in duration-200",children:[jsxRuntimeExports.jsx(AlertBox,{...Ds,onClose:Ns}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl w-full max-w-lg max-h-[90vh] overflow-hidden shadow-2xl flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-base font-bold text-gray-900",children:Ce?"Create Artist Profile":"Update Profile"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:Ce?"Complete your profile information":"Edit your details"})]}),jsxRuntimeExports.jsx("button",{onClick:Re,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4 text-gray-500"})})]}),Ce&&!Ee&&jsxRuntimeExports.jsxs("div",{className:"mx-6 mt-4 p-3 bg-blue-50 border border-blue-100 rounded-lg flex items-start gap-2",children:[jsxRuntimeExports.jsx(Info,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-blue-800",children:["Please fill ",jsxRuntimeExports.jsx("strong",{children:"Contact & Professional Details"})," to create your profile."]})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 overflow-y-auto custom-scrollbar space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>De(Te==="contact"?null:"contact"),className:`w-full px-4 py-3 flex items-center justify-between text-left transition-colors ${Te==="contact"?"bg-gray-50":"hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(User,{className:"w-4 h-4 text-gray-600"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-gray-900",children:Ce?"Basic Information":"Update Basic Info"})]}),jsxRuntimeExports.jsx(ChevronDown,{className:`w-4 h-4 text-gray-400 transition-transform ${Te==="contact"?"rotate-180":""}`})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:Te==="contact"&&jsxRuntimeExports.jsx(motion.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"overflow-hidden border-t border-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1 block",children:"Full Name *"}),jsxRuntimeExports.jsx("input",{type:"text",value:Ve.name,onChange:Is=>_s("name",Is.target.value),className:"w-full p-2 border rounded-lg text-sm outline-none focus:border-[#891737]",placeholder:"Required"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1 block",children:"Email *"}),jsxRuntimeExports.jsx("input",{type:"email",value:Ve.email,onChange:Is=>_s("email",Is.target.value),className:"w-full p-2 border rounded-lg text-sm outline-none focus:border-[#891737]",placeholder:"Required"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1 block",children:"Phone *"}),jsxRuntimeExports.jsx("input",{type:"tel",value:Ve.phone,onChange:Is=>_s("phone",Is.target.value),className:"w-full p-2 border rounded-lg text-sm outline-none focus:border-[#891737]",placeholder:"Required"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1 block",children:"DOB *"}),jsxRuntimeExports.jsx("input",{type:"date",value:Ve.dob,onChange:Is=>_s("dob",Is.target.value),className:"w-full p-2 border rounded-lg text-sm outline-none focus:border-[#891737]"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1 block",children:"Gender *"}),jsxRuntimeExports.jsxs("select",{value:Ve.gender,onChange:Is=>_s("gender",Is.target.value),className:"w-full p-2 border rounded-lg text-sm outline-none focus:border-[#891737]",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select"}),jsxRuntimeExports.jsx("option",{value:"Male",children:"Male"}),jsxRuntimeExports.jsx("option",{value:"Female",children:"Female"}),jsxRuntimeExports.jsx("option",{value:"Other",children:"Other"})]})]}),jsxRuntimeExports.jsxs("div",{className:"col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-gray-500 mb-1 block",children:"Address *"}),jsxRuntimeExports.jsx("textarea",{value:Ve.address,onChange:Is=>_s("address",Is.target.value),rows:2,className:"w-full p-2 border rounded-lg text-sm outline-none focus:border-[#891737] resize-none",placeholder:"Full Address"})]})]}),jsxRuntimeExports.jsxs("div",{className:"pt-2 border-t border-gray-100",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-semibold text-gray-700 mb-2 block uppercase",children:"Professions *"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2 mb-2",children:jsxRuntimeExports.jsxs("select",{value:ns,onChange:Is=>{const Vs=Is.target.value;Vs==="Others"?Ye("Others"):ws(We,Ge,Vs,Ye)},className:"p-2 border rounded-lg text-sm w-full",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Add Profession"}),PREDEFINED_ROLES$2.map(Is=>jsxRuntimeExports.jsx("option",{value:Is,children:Is},Is))]})}),ns==="Others"&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:rs,onChange:Is=>ts(Is.target.value),placeholder:"Specify Profession",className:"p-2 border rounded-lg text-sm flex-1 outline-none focus:border-[#891737]"}),jsxRuntimeExports.jsx("button",{onClick:()=>{rs.trim()&&(ws(We,Ge,rs,Ye),ts(""),Ye(""))},className:"bg-gray-900 text-white px-3 rounded-lg text-xs",children:"Add"})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:We.map((Is,Vs)=>jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-xs rounded border flex items-center gap-1",children:[Is," ",jsxRuntimeExports.jsx("button",{onClick:()=>js(We,Ge,Vs),children:jsxRuntimeExports.jsx(X$1,{size:10})})]},Vs))})]}),jsxRuntimeExports.jsxs("div",{className:"pt-2",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-semibold text-gray-700 mb-2 block uppercase",children:"Specializations"}),jsxRuntimeExports.jsx("div",{className:"flex gap-2 mb-2",children:jsxRuntimeExports.jsxs("select",{value:Xe,onChange:Is=>{const Vs=Is.target.value;Vs==="Others"?is("Others"):ws(Je,Qe,Vs,is)},className:"p-2 border rounded-lg text-sm w-full",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Add Specialization"}),PREDEFINED_SPECIALIZATIONS$1.map(Is=>jsxRuntimeExports.jsx("option",{value:Is,children:Is},Is))]})}),Xe==="Others"&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-2",children:[jsxRuntimeExports.jsx("input",{type:"text",value:os,onChange:Is=>hs(Is.target.value),placeholder:"Specify Specialization",className:"p-2 border rounded-lg text-sm flex-1 outline-none focus:border-[#891737]"}),jsxRuntimeExports.jsx("button",{onClick:()=>{os.trim()&&(ws(Je,Qe,os,is),hs(""),is(""))},className:"bg-gray-900 text-white px-3 rounded-lg text-xs",children:"Add"})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:Je.map((Is,Vs)=>jsxRuntimeExports.jsxs("span",{className:"px-2 py-1 bg-gray-100 text-xs rounded border flex items-center gap-1",children:[Is," ",jsxRuntimeExports.jsx("button",{onClick:()=>js(Je,Qe,Vs),children:jsxRuntimeExports.jsx(X$1,{size:10})})]},Vs))})]}),jsxRuntimeExports.jsx("button",{onClick:Cs,disabled:Me,className:"w-full py-2.5 bg-[#891737] text-white rounded-lg text-sm font-medium hover:bg-[#a01b41] flex justify-center items-center",children:Me?jsxRuntimeExports.jsx(Loader,{className:"animate-spin w-4 h-4"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-4 h-4 mr-2"})," Save Basic Info"]})})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>De(Te==="social"?null:"social"),className:`w-full px-4 py-3 flex items-center justify-between text-left transition-colors ${Te==="social"?"bg-gray-50":"hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(Globe,{className:"w-4 h-4 text-gray-600"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"Social Media"})]}),jsxRuntimeExports.jsx(ChevronDown,{className:`w-4 h-4 text-gray-400 transition-transform ${Te==="social"?"rotate-180":""}`})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:Te==="social"&&jsxRuntimeExports.jsx(motion.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"overflow-hidden border-t border-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-3",children:[["facebook","instagram","twitter","linkedin","imdb"].map(Is=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-gray-500 capitalize mb-1 block",children:Is}),jsxRuntimeExports.jsx("input",{type:"url",value:fs[Is],onChange:Vs=>xs({...fs,[Is]:Vs.target.value}),className:"w-full p-2 border rounded-lg text-sm outline-none focus:border-[#891737]",placeholder:"https://..."})]},Is)),jsxRuntimeExports.jsx("button",{onClick:ks,disabled:Me,className:"w-full py-2 bg-gray-900 text-white rounded-lg text-sm mt-2",children:"Save Socials"})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>De(Te==="about"?null:"about"),className:`w-full px-4 py-3 flex items-center justify-between text-left transition-colors ${Te==="about"?"bg-gray-50":"hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(Info,{className:"w-4 h-4 text-gray-600"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-gray-900",children:"About Me"})]}),jsxRuntimeExports.jsx(ChevronDown,{className:`w-4 h-4 text-gray-400 transition-transform ${Te==="about"?"rotate-180":""}`})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:Te==="about"&&jsxRuntimeExports.jsx(motion.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"overflow-hidden border-t border-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("textarea",{value:Be,onChange:Is=>ze(Is.target.value),rows:6,className:"w-full p-3 border rounded-lg text-sm outline-none focus:border-[#891737] resize-none leading-relaxed",placeholder:"Write something about yourself..."}),jsxRuntimeExports.jsx("button",{onClick:ks,disabled:Me,className:"w-full py-2 bg-gray-900 text-white rounded-lg text-sm mt-3",children:"Save Description"})]})})})]}),Ee&&jsxRuntimeExports.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>De(Te==="experience"?null:"experience"),className:`w-full px-4 py-3 flex items-center justify-between text-left transition-colors ${Te==="experience"?"bg-gray-50":"hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(Briefcase,{className:"w-4 h-4 text-gray-600"})}),jsxRuntimeExports.jsxs("span",{className:"text-sm font-semibold text-gray-900",children:["Add Experience"," ",jsxRuntimeExports.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional)"})]})]}),jsxRuntimeExports.jsx(ChevronDown,{className:`w-4 h-4 text-gray-400 transition-transform ${Te==="experience"?"rotate-180":""}`})]}),jsxRuntimeExports.jsx(AnimatePresence,{children:Te==="experience"&&jsxRuntimeExports.jsx(motion.div,{initial:{height:0},animate:{height:"auto"},exit:{height:0},className:"overflow-hidden border-t border-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"p-4 space-y-3",children:[jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Film Title *",value:Ss.filmTitle,onChange:Is=>ds({...Ss,filmTitle:Is.target.value}),className:"w-full p-2 border rounded-lg text-sm"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Role in Film *",value:Ss.roleInFilm,onChange:Is=>ds({...Ss,roleInFilm:Is.target.value}),className:"w-full p-2 border rounded-lg text-sm"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] text-gray-500 uppercase",children:"From"}),jsxRuntimeExports.jsx("input",{type:"date",value:Ss.durationFrom,onChange:Is=>ds({...Ss,durationFrom:Is.target.value}),className:"w-full p-2 border rounded-lg text-sm"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] text-gray-500 uppercase",children:"To (Optional)"}),jsxRuntimeExports.jsx("input",{type:"date",value:Ss.durationTo,onChange:Is=>ds({...Ss,durationTo:Is.target.value}),className:"w-full p-2 border rounded-lg text-sm"})]})]}),jsxRuntimeExports.jsx("textarea",{placeholder:"Description",rows:2,value:Ss.description,onChange:Is=>ds({...Ss,description:Is.target.value}),className:"w-full p-2 border rounded-lg text-sm resize-none"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Awards",value:Ss.awards,onChange:Is=>ds({...Ss,awards:Is.target.value}),className:"w-full p-2 border rounded-lg text-sm"}),jsxRuntimeExports.jsx("input",{type:"url",placeholder:"Project Link",value:Ss.link,onChange:Is=>ds({...Ss,link:Is.target.value}),className:"w-full p-2 border rounded-lg text-sm"}),jsxRuntimeExports.jsx("button",{onClick:zs,disabled:Me,className:"w-full py-2 bg-[#891737] text-white rounded-lg text-sm mt-2",children:"Add Experience"})]})})})]})]})]})]})};var extendStatics$1=function(Re,e){return extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ee,Ce){Ee.__proto__=Ce}||function(Ee,Ce){for(var Te in Ce)Object.prototype.hasOwnProperty.call(Ce,Te)&&(Ee[Te]=Ce[Te])},extendStatics$1(Re,e)};function __extends$1(Re,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");extendStatics$1(Re,e);function Ee(){this.constructor=Re}Re.prototype=e===null?Object.create(e):(Ee.prototype=e.prototype,new Ee)}var __assign=function(){return __assign=Object.assign||function(e){for(var Ee,Ce=1,Te=arguments.length;Ce<Te;Ce++){Ee=arguments[Ce];for(var De in Ee)Object.prototype.hasOwnProperty.call(Ee,De)&&(e[De]=Ee[De])}return e},__assign.apply(this,arguments)};typeof SuppressedError=="function"&&SuppressedError;var UserAgent_DEPRECATED_1,hasRequiredUserAgent_DEPRECATED;function requireUserAgent_DEPRECATED(){if(hasRequiredUserAgent_DEPRECATED)return UserAgent_DEPRECATED_1;hasRequiredUserAgent_DEPRECATED=1;var Re=!1,e,Ee,Ce,Te,De,Me,Oe,Be,ze,Ve,qe,We,Ge,Je,Qe;function ns(){if(!Re){Re=!0;var rs=navigator.userAgent,ts=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(rs),Xe=/(Mac OS X)|(Windows)|(Linux)/.exec(rs);if(We=/\b(iPhone|iP[ao]d)/.exec(rs),Ge=/\b(iP[ao]d)/.exec(rs),Ve=/Android/i.exec(rs),Je=/FBAN\/\w+;/i.exec(rs),Qe=/Mobile/i.exec(rs),qe=!!/Win64/.exec(rs),ts){e=ts[1]?parseFloat(ts[1]):ts[5]?parseFloat(ts[5]):NaN,e&&document&&document.documentMode&&(e=document.documentMode);var is=/(?:Trident\/(\d+.\d+))/.exec(rs);Me=is?parseFloat(is[1])+4:e,Ee=ts[2]?parseFloat(ts[2]):NaN,Ce=ts[3]?parseFloat(ts[3]):NaN,Te=ts[4]?parseFloat(ts[4]):NaN,Te?(ts=/(?:Chrome\/(\d+\.\d+))/.exec(rs),De=ts&&ts[1]?parseFloat(ts[1]):NaN):De=NaN}else e=Ee=Ce=De=Te=NaN;if(Xe){if(Xe[1]){var os=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(rs);Oe=os?parseFloat(os[1].replace("_",".")):!0}else Oe=!1;Be=!!Xe[2],ze=!!Xe[3]}else Oe=Be=ze=!1}}var Ye={ie:function(){return ns()||e},ieCompatibilityMode:function(){return ns()||Me>e},ie64:function(){return Ye.ie()&&qe},firefox:function(){return ns()||Ee},opera:function(){return ns()||Ce},webkit:function(){return ns()||Te},safari:function(){return Ye.webkit()},chrome:function(){return ns()||De},windows:function(){return ns()||Be},osx:function(){return ns()||Oe},linux:function(){return ns()||ze},iphone:function(){return ns()||We},mobile:function(){return ns()||We||Ge||Ve||Qe},nativeApp:function(){return ns()||Je},android:function(){return ns()||Ve},ipad:function(){return ns()||Ge}};return UserAgent_DEPRECATED_1=Ye,UserAgent_DEPRECATED_1}var ExecutionEnvironment_1,hasRequiredExecutionEnvironment;function requireExecutionEnvironment(){if(hasRequiredExecutionEnvironment)return ExecutionEnvironment_1;hasRequiredExecutionEnvironment=1;var Re=!!(typeof window<"u"&&window.document&&window.document.createElement),e={canUseDOM:Re,canUseWorkers:typeof Worker<"u",canUseEventListeners:Re&&!!(window.addEventListener||window.attachEvent),canUseViewport:Re&&!!window.screen,isInWorker:!Re};return ExecutionEnvironment_1=e,ExecutionEnvironment_1}var isEventSupported_1,hasRequiredIsEventSupported;function requireIsEventSupported(){if(hasRequiredIsEventSupported)return isEventSupported_1;hasRequiredIsEventSupported=1;var Re=requireExecutionEnvironment(),e;Re.canUseDOM&&(e=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function Ee(Ce,Te){if(!Re.canUseDOM||Te&&!("addEventListener"in document))return!1;var De="on"+Ce,Me=De in document;if(!Me){var Oe=document.createElement("div");Oe.setAttribute(De,"return;"),Me=typeof Oe[De]=="function"}return!Me&&e&&Ce==="wheel"&&(Me=document.implementation.hasFeature("Events.wheel","3.0")),Me}return isEventSupported_1=Ee,isEventSupported_1}var normalizeWheel_1,hasRequiredNormalizeWheel$1;function requireNormalizeWheel$1(){if(hasRequiredNormalizeWheel$1)return normalizeWheel_1;hasRequiredNormalizeWheel$1=1;var Re=requireUserAgent_DEPRECATED(),e=requireIsEventSupported(),Ee=10,Ce=40,Te=800;function De(Me){var Oe=0,Be=0,ze=0,Ve=0;return"detail"in Me&&(Be=Me.detail),"wheelDelta"in Me&&(Be=-Me.wheelDelta/120),"wheelDeltaY"in Me&&(Be=-Me.wheelDeltaY/120),"wheelDeltaX"in Me&&(Oe=-Me.wheelDeltaX/120),"axis"in Me&&Me.axis===Me.HORIZONTAL_AXIS&&(Oe=Be,Be=0),ze=Oe*Ee,Ve=Be*Ee,"deltaY"in Me&&(Ve=Me.deltaY),"deltaX"in Me&&(ze=Me.deltaX),(ze||Ve)&&Me.deltaMode&&(Me.deltaMode==1?(ze*=Ce,Ve*=Ce):(ze*=Te,Ve*=Te)),ze&&!Oe&&(Oe=ze<1?-1:1),Ve&&!Be&&(Be=Ve<1?-1:1),{spinX:Oe,spinY:Be,pixelX:ze,pixelY:Ve}}return De.getEventType=function(){return Re.firefox()?"DOMMouseScroll":e("wheel")?"wheel":"mousewheel"},normalizeWheel_1=De,normalizeWheel_1}var normalizeWheel$1,hasRequiredNormalizeWheel;function requireNormalizeWheel(){return hasRequiredNormalizeWheel||(hasRequiredNormalizeWheel=1,normalizeWheel$1=requireNormalizeWheel$1()),normalizeWheel$1}var normalizeWheelExports=requireNormalizeWheel();const normalizeWheel=getDefaultExportFromCjs(normalizeWheelExports);function getCropSize(Re,e,Ee,Ce,Te,De){De===void 0&&(De=0);var Me=rotateSize(Re,e,De),Oe=Me.width,Be=Me.height,ze=Math.min(Oe,Ee),Ve=Math.min(Be,Ce);return ze>Ve*Te?{width:Ve*Te,height:Ve}:{width:ze,height:ze/Te}}function getMediaZoom(Re){return Re.width>Re.height?Re.width/Re.naturalWidth:Re.height/Re.naturalHeight}function restrictPosition(Re,e,Ee,Ce,Te){Te===void 0&&(Te=0);var De=rotateSize(e.width,e.height,Te),Me=De.width,Oe=De.height;return{x:restrictPositionCoord(Re.x,Me,Ee.width,Ce),y:restrictPositionCoord(Re.y,Oe,Ee.height,Ce)}}function restrictPositionCoord(Re,e,Ee,Ce){var Te=e*Ce/2-Ee/2;return clamp(Re,-Te,Te)}function getDistanceBetweenPoints(Re,e){return Math.sqrt(Math.pow(Re.y-e.y,2)+Math.pow(Re.x-e.x,2))}function getRotationBetweenPoints(Re,e){return Math.atan2(e.y-Re.y,e.x-Re.x)*180/Math.PI}function computeCroppedArea(Re,e,Ee,Ce,Te,De,Me){De===void 0&&(De=0),Me===void 0&&(Me=!0);var Oe=Me?limitArea:noOp,Be=rotateSize(e.width,e.height,De),ze=rotateSize(e.naturalWidth,e.naturalHeight,De),Ve={x:Oe(100,((Be.width-Ee.width/Te)/2-Re.x/Te)/Be.width*100),y:Oe(100,((Be.height-Ee.height/Te)/2-Re.y/Te)/Be.height*100),width:Oe(100,Ee.width/Be.width*100/Te),height:Oe(100,Ee.height/Be.height*100/Te)},qe=Math.round(Oe(ze.width,Ve.width*ze.width/100)),We=Math.round(Oe(ze.height,Ve.height*ze.height/100)),Ge=ze.width>=ze.height*Ce,Je=Ge?{width:Math.round(We*Ce),height:We}:{width:qe,height:Math.round(qe/Ce)},Qe=__assign(__assign({},Je),{x:Math.round(Oe(ze.width-Je.width,Ve.x*ze.width/100)),y:Math.round(Oe(ze.height-Je.height,Ve.y*ze.height/100))});return{croppedAreaPercentages:Ve,croppedAreaPixels:Qe}}function limitArea(Re,e){return Math.min(Re,Math.max(0,e))}function noOp(Re,e){return e}function getInitialCropFromCroppedAreaPercentages(Re,e,Ee,Ce,Te,De){var Me=rotateSize(e.width,e.height,Ee),Oe=clamp(Ce.width/Me.width*(100/Re.width),Te,De),Be={x:Oe*Me.width/2-Ce.width/2-Me.width*Oe*(Re.x/100),y:Oe*Me.height/2-Ce.height/2-Me.height*Oe*(Re.y/100)};return{crop:Be,zoom:Oe}}function getZoomFromCroppedAreaPixels(Re,e,Ee){var Ce=getMediaZoom(e);return Ee.height>Ee.width?Ee.height/(Re.height*Ce):Ee.width/(Re.width*Ce)}function getInitialCropFromCroppedAreaPixels(Re,e,Ee,Ce,Te,De){Ee===void 0&&(Ee=0);var Me=rotateSize(e.naturalWidth,e.naturalHeight,Ee),Oe=clamp(getZoomFromCroppedAreaPixels(Re,e,Ce),Te,De),Be=Ce.height>Ce.width?Ce.height/Re.height:Ce.width/Re.width,ze={x:((Me.width-Re.width)/2-Re.x)*Be,y:((Me.height-Re.height)/2-Re.y)*Be};return{crop:ze,zoom:Oe}}function getCenter$1(Re,e){return{x:(e.x+Re.x)/2,y:(e.y+Re.y)/2}}function getRadianAngle(Re){return Re*Math.PI/180}function rotateSize(Re,e,Ee){var Ce=getRadianAngle(Ee);return{width:Math.abs(Math.cos(Ce)*Re)+Math.abs(Math.sin(Ce)*e),height:Math.abs(Math.sin(Ce)*Re)+Math.abs(Math.cos(Ce)*e)}}function clamp(Re,e,Ee){return Math.min(Math.max(Re,e),Ee)}function classNames(){for(var Re=[],e=0;e<arguments.length;e++)Re[e]=arguments[e];return Re.filter(function(Ee){return typeof Ee=="string"&&Ee.length>0}).join(" ").trim()}var css_248z=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,MIN_ZOOM=1,MAX_ZOOM=3,KEYBOARD_STEP=1,Cropper=function(Re){__extends$1(e,Re);function e(){var Ee=Re!==null&&Re.apply(this,arguments)||this;return Ee.cropperRef=reactExports.createRef(),Ee.imageRef=reactExports.createRef(),Ee.videoRef=reactExports.createRef(),Ee.containerPosition={x:0,y:0},Ee.containerRef=null,Ee.styleRef=null,Ee.containerRect=null,Ee.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},Ee.dragStartPosition={x:0,y:0},Ee.dragStartCrop={x:0,y:0},Ee.gestureZoomStart=0,Ee.gestureRotationStart=0,Ee.isTouching=!1,Ee.lastPinchDistance=0,Ee.lastPinchRotation=0,Ee.rafDragTimeout=null,Ee.rafPinchTimeout=null,Ee.wheelTimer=null,Ee.currentDoc=typeof document<"u"?document:null,Ee.currentWindow=typeof window<"u"?window:null,Ee.resizeObserver=null,Ee.previousCropSize=null,Ee.isInitialized=!1,Ee.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},Ee.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!Ee.containerRef)){var Ce=!0;Ee.resizeObserver=new window.ResizeObserver(function(Te){if(Ce){Ce=!1;return}Ee.computeSizes()}),Ee.resizeObserver.observe(Ee.containerRef)}},Ee.preventZoomSafari=function(Ce){return Ce.preventDefault()},Ee.cleanEvents=function(){Ee.currentDoc&&(Ee.currentDoc.removeEventListener("mousemove",Ee.onMouseMove),Ee.currentDoc.removeEventListener("mouseup",Ee.onDragStopped),Ee.currentDoc.removeEventListener("touchmove",Ee.onTouchMove),Ee.currentDoc.removeEventListener("touchend",Ee.onDragStopped),Ee.currentDoc.removeEventListener("gesturechange",Ee.onGestureChange),Ee.currentDoc.removeEventListener("gestureend",Ee.onGestureEnd),Ee.currentDoc.removeEventListener("scroll",Ee.onScroll))},Ee.clearScrollEvent=function(){Ee.containerRef&&Ee.containerRef.removeEventListener("wheel",Ee.onWheel),Ee.wheelTimer&&clearTimeout(Ee.wheelTimer)},Ee.onMediaLoad=function(){var Ce=Ee.computeSizes();Ce&&(Ee.previousCropSize=Ce,Ee.emitCropData(),Ee.setInitialCrop(Ce),Ee.isInitialized=!0),Ee.props.onMediaLoaded&&Ee.props.onMediaLoaded(Ee.mediaSize)},Ee.setInitialCrop=function(Ce){if(Ee.props.initialCroppedAreaPercentages){var Te=getInitialCropFromCroppedAreaPercentages(Ee.props.initialCroppedAreaPercentages,Ee.mediaSize,Ee.props.rotation,Ce,Ee.props.minZoom,Ee.props.maxZoom),De=Te.crop,Me=Te.zoom;Ee.props.onCropChange(De),Ee.props.onZoomChange&&Ee.props.onZoomChange(Me)}else if(Ee.props.initialCroppedAreaPixels){var Oe=getInitialCropFromCroppedAreaPixels(Ee.props.initialCroppedAreaPixels,Ee.mediaSize,Ee.props.rotation,Ce,Ee.props.minZoom,Ee.props.maxZoom),De=Oe.crop,Me=Oe.zoom;Ee.props.onCropChange(De),Ee.props.onZoomChange&&Ee.props.onZoomChange(Me)}},Ee.computeSizes=function(){var Ce,Te,De,Me,Oe,Be,ze=Ee.imageRef.current||Ee.videoRef.current;if(ze&&Ee.containerRef){Ee.containerRect=Ee.containerRef.getBoundingClientRect(),Ee.saveContainerPosition();var Ve=Ee.containerRect.width/Ee.containerRect.height,qe=((Ce=Ee.imageRef.current)===null||Ce===void 0?void 0:Ce.naturalWidth)||((Te=Ee.videoRef.current)===null||Te===void 0?void 0:Te.videoWidth)||0,We=((De=Ee.imageRef.current)===null||De===void 0?void 0:De.naturalHeight)||((Me=Ee.videoRef.current)===null||Me===void 0?void 0:Me.videoHeight)||0,Ge=ze.offsetWidth<qe||ze.offsetHeight<We,Je=qe/We,Qe=void 0;if(Ge)switch(Ee.state.mediaObjectFit){default:case"contain":Qe=Ve>Je?{width:Ee.containerRect.height*Je,height:Ee.containerRect.height}:{width:Ee.containerRect.width,height:Ee.containerRect.width/Je};break;case"horizontal-cover":Qe={width:Ee.containerRect.width,height:Ee.containerRect.width/Je};break;case"vertical-cover":Qe={width:Ee.containerRect.height*Je,height:Ee.containerRect.height};break}else Qe={width:ze.offsetWidth,height:ze.offsetHeight};Ee.mediaSize=__assign(__assign({},Qe),{naturalWidth:qe,naturalHeight:We}),Ee.props.setMediaSize&&Ee.props.setMediaSize(Ee.mediaSize);var ns=Ee.props.cropSize?Ee.props.cropSize:getCropSize(Ee.mediaSize.width,Ee.mediaSize.height,Ee.containerRect.width,Ee.containerRect.height,Ee.props.aspect,Ee.props.rotation);return(((Oe=Ee.state.cropSize)===null||Oe===void 0?void 0:Oe.height)!==ns.height||((Be=Ee.state.cropSize)===null||Be===void 0?void 0:Be.width)!==ns.width)&&Ee.props.onCropSizeChange&&Ee.props.onCropSizeChange(ns),Ee.setState({cropSize:ns},Ee.recomputeCropPosition),Ee.props.setCropSize&&Ee.props.setCropSize(ns),ns}},Ee.saveContainerPosition=function(){if(Ee.containerRef){var Ce=Ee.containerRef.getBoundingClientRect();Ee.containerPosition={x:Ce.left,y:Ce.top}}},Ee.onMouseDown=function(Ce){Ee.currentDoc&&(Ce.preventDefault(),Ee.currentDoc.addEventListener("mousemove",Ee.onMouseMove),Ee.currentDoc.addEventListener("mouseup",Ee.onDragStopped),Ee.saveContainerPosition(),Ee.onDragStart(e.getMousePoint(Ce)))},Ee.onMouseMove=function(Ce){return Ee.onDrag(e.getMousePoint(Ce))},Ee.onScroll=function(Ce){Ee.currentDoc&&(Ce.preventDefault(),Ee.saveContainerPosition())},Ee.onTouchStart=function(Ce){Ee.currentDoc&&(Ee.isTouching=!0,!(Ee.props.onTouchRequest&&!Ee.props.onTouchRequest(Ce))&&(Ee.currentDoc.addEventListener("touchmove",Ee.onTouchMove,{passive:!1}),Ee.currentDoc.addEventListener("touchend",Ee.onDragStopped),Ee.saveContainerPosition(),Ce.touches.length===2?Ee.onPinchStart(Ce):Ce.touches.length===1&&Ee.onDragStart(e.getTouchPoint(Ce.touches[0]))))},Ee.onTouchMove=function(Ce){Ce.preventDefault(),Ce.touches.length===2?Ee.onPinchMove(Ce):Ce.touches.length===1&&Ee.onDrag(e.getTouchPoint(Ce.touches[0]))},Ee.onGestureStart=function(Ce){Ee.currentDoc&&(Ce.preventDefault(),Ee.currentDoc.addEventListener("gesturechange",Ee.onGestureChange),Ee.currentDoc.addEventListener("gestureend",Ee.onGestureEnd),Ee.gestureZoomStart=Ee.props.zoom,Ee.gestureRotationStart=Ee.props.rotation)},Ee.onGestureChange=function(Ce){if(Ce.preventDefault(),!Ee.isTouching){var Te=e.getMousePoint(Ce),De=Ee.gestureZoomStart-1+Ce.scale;if(Ee.setNewZoom(De,Te,{shouldUpdatePosition:!0}),Ee.props.onRotationChange){var Me=Ee.gestureRotationStart+Ce.rotation;Ee.props.onRotationChange(Me)}}},Ee.onGestureEnd=function(Ce){Ee.cleanEvents()},Ee.onDragStart=function(Ce){var Te,De,Me=Ce.x,Oe=Ce.y;Ee.dragStartPosition={x:Me,y:Oe},Ee.dragStartCrop=__assign({},Ee.props.crop),(De=(Te=Ee.props).onInteractionStart)===null||De===void 0||De.call(Te)},Ee.onDrag=function(Ce){var Te=Ce.x,De=Ce.y;Ee.currentWindow&&(Ee.rafDragTimeout&&Ee.currentWindow.cancelAnimationFrame(Ee.rafDragTimeout),Ee.rafDragTimeout=Ee.currentWindow.requestAnimationFrame(function(){if(Ee.state.cropSize&&!(Te===void 0||De===void 0)){var Me=Te-Ee.dragStartPosition.x,Oe=De-Ee.dragStartPosition.y,Be={x:Ee.dragStartCrop.x+Me,y:Ee.dragStartCrop.y+Oe},ze=Ee.props.restrictPosition?restrictPosition(Be,Ee.mediaSize,Ee.state.cropSize,Ee.props.zoom,Ee.props.rotation):Be;Ee.props.onCropChange(ze)}}))},Ee.onDragStopped=function(){var Ce,Te;Ee.isTouching=!1,Ee.cleanEvents(),Ee.emitCropData(),(Te=(Ce=Ee.props).onInteractionEnd)===null||Te===void 0||Te.call(Ce)},Ee.onWheel=function(Ce){if(Ee.currentWindow&&!(Ee.props.onWheelRequest&&!Ee.props.onWheelRequest(Ce))){Ce.preventDefault();var Te=e.getMousePoint(Ce),De=normalizeWheel(Ce).pixelY,Me=Ee.props.zoom-De*Ee.props.zoomSpeed/200;Ee.setNewZoom(Me,Te,{shouldUpdatePosition:!0}),Ee.state.hasWheelJustStarted||Ee.setState({hasWheelJustStarted:!0},function(){var Oe,Be;return(Be=(Oe=Ee.props).onInteractionStart)===null||Be===void 0?void 0:Be.call(Oe)}),Ee.wheelTimer&&clearTimeout(Ee.wheelTimer),Ee.wheelTimer=Ee.currentWindow.setTimeout(function(){return Ee.setState({hasWheelJustStarted:!1},function(){var Oe,Be;return(Be=(Oe=Ee.props).onInteractionEnd)===null||Be===void 0?void 0:Be.call(Oe)})},250)}},Ee.getPointOnContainer=function(Ce,Te){var De=Ce.x,Me=Ce.y;if(!Ee.containerRect)throw new Error("The Cropper is not mounted");return{x:Ee.containerRect.width/2-(De-Te.x),y:Ee.containerRect.height/2-(Me-Te.y)}},Ee.getPointOnMedia=function(Ce){var Te=Ce.x,De=Ce.y,Me=Ee.props,Oe=Me.crop,Be=Me.zoom;return{x:(Te+Oe.x)/Be,y:(De+Oe.y)/Be}},Ee.setNewZoom=function(Ce,Te,De){var Me=De===void 0?{}:De,Oe=Me.shouldUpdatePosition,Be=Oe===void 0?!0:Oe;if(!(!Ee.state.cropSize||!Ee.props.onZoomChange)){var ze=clamp(Ce,Ee.props.minZoom,Ee.props.maxZoom);if(Be){var Ve=Ee.getPointOnContainer(Te,Ee.containerPosition),qe=Ee.getPointOnMedia(Ve),We={x:qe.x*ze-Ve.x,y:qe.y*ze-Ve.y},Ge=Ee.props.restrictPosition?restrictPosition(We,Ee.mediaSize,Ee.state.cropSize,ze,Ee.props.rotation):We;Ee.props.onCropChange(Ge)}Ee.props.onZoomChange(ze)}},Ee.getCropData=function(){if(!Ee.state.cropSize)return null;var Ce=Ee.props.restrictPosition?restrictPosition(Ee.props.crop,Ee.mediaSize,Ee.state.cropSize,Ee.props.zoom,Ee.props.rotation):Ee.props.crop;return computeCroppedArea(Ce,Ee.mediaSize,Ee.state.cropSize,Ee.getAspect(),Ee.props.zoom,Ee.props.rotation,Ee.props.restrictPosition)},Ee.emitCropData=function(){var Ce=Ee.getCropData();if(Ce){var Te=Ce.croppedAreaPercentages,De=Ce.croppedAreaPixels;Ee.props.onCropComplete&&Ee.props.onCropComplete(Te,De),Ee.props.onCropAreaChange&&Ee.props.onCropAreaChange(Te,De)}},Ee.emitCropAreaChange=function(){var Ce=Ee.getCropData();if(Ce){var Te=Ce.croppedAreaPercentages,De=Ce.croppedAreaPixels;Ee.props.onCropAreaChange&&Ee.props.onCropAreaChange(Te,De)}},Ee.recomputeCropPosition=function(){var Ce,Te;if(Ee.state.cropSize){var De=Ee.props.crop;if(Ee.isInitialized&&(!((Ce=Ee.previousCropSize)===null||Ce===void 0)&&Ce.width)&&(!((Te=Ee.previousCropSize)===null||Te===void 0)&&Te.height)){var Me=Math.abs(Ee.previousCropSize.width-Ee.state.cropSize.width)>1e-6||Math.abs(Ee.previousCropSize.height-Ee.state.cropSize.height)>1e-6;if(Me){var Oe=Ee.state.cropSize.width/Ee.previousCropSize.width,Be=Ee.state.cropSize.height/Ee.previousCropSize.height;De={x:Ee.props.crop.x*Oe,y:Ee.props.crop.y*Be}}}var ze=Ee.props.restrictPosition?restrictPosition(De,Ee.mediaSize,Ee.state.cropSize,Ee.props.zoom,Ee.props.rotation):De;Ee.previousCropSize=Ee.state.cropSize,Ee.props.onCropChange(ze),Ee.emitCropData()}},Ee.onKeyDown=function(Ce){var Te,De,Me=Ee.props,Oe=Me.crop,Be=Me.onCropChange,ze=Me.keyboardStep,Ve=Me.zoom,qe=Me.rotation,We=ze;if(Ee.state.cropSize){Ce.shiftKey&&(We*=.2);var Ge=__assign({},Oe);switch(Ce.key){case"ArrowUp":Ge.y-=We,Ce.preventDefault();break;case"ArrowDown":Ge.y+=We,Ce.preventDefault();break;case"ArrowLeft":Ge.x-=We,Ce.preventDefault();break;case"ArrowRight":Ge.x+=We,Ce.preventDefault();break;default:return}Ee.props.restrictPosition&&(Ge=restrictPosition(Ge,Ee.mediaSize,Ee.state.cropSize,Ve,qe)),Ce.repeat||(De=(Te=Ee.props).onInteractionStart)===null||De===void 0||De.call(Te),Be(Ge)}},Ee.onKeyUp=function(Ce){var Te,De;switch(Ce.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":Ce.preventDefault();break;default:return}Ee.emitCropData(),(De=(Te=Ee.props).onInteractionEnd)===null||De===void 0||De.call(Te)},Ee}return e.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=css_248z,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},e.prototype.componentWillUnmount=function(){var Ee,Ce;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(Ee=this.resizeObserver)===null||Ee===void 0||Ee.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((Ce=this.styleRef.parentNode)===null||Ce===void 0||Ce.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},e.prototype.componentDidUpdate=function(Ee){var Ce,Te,De,Me,Oe,Be,ze,Ve,qe;Ee.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):Ee.aspect!==this.props.aspect?this.computeSizes():Ee.objectFit!==this.props.objectFit?this.computeSizes():Ee.zoom!==this.props.zoom?this.recomputeCropPosition():((Ce=Ee.cropSize)===null||Ce===void 0?void 0:Ce.height)!==((Te=this.props.cropSize)===null||Te===void 0?void 0:Te.height)||((De=Ee.cropSize)===null||De===void 0?void 0:De.width)!==((Me=this.props.cropSize)===null||Me===void 0?void 0:Me.width)?this.computeSizes():(((Oe=Ee.crop)===null||Oe===void 0?void 0:Oe.x)!==((Be=this.props.crop)===null||Be===void 0?void 0:Be.x)||((ze=Ee.crop)===null||ze===void 0?void 0:ze.y)!==((Ve=this.props.crop)===null||Ve===void 0?void 0:Ve.y))&&this.emitCropAreaChange(),Ee.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),Ee.video!==this.props.video&&((qe=this.videoRef.current)===null||qe===void 0||qe.load());var We=this.getObjectFit();We!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:We},this.computeSizes)},e.prototype.getAspect=function(){var Ee=this.props,Ce=Ee.cropSize,Te=Ee.aspect;return Ce?Ce.width/Ce.height:Te},e.prototype.getObjectFit=function(){var Ee,Ce,Te,De;if(this.props.objectFit==="cover"){var Me=this.imageRef.current||this.videoRef.current;if(Me&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var Oe=this.containerRect.width/this.containerRect.height,Be=((Ee=this.imageRef.current)===null||Ee===void 0?void 0:Ee.naturalWidth)||((Ce=this.videoRef.current)===null||Ce===void 0?void 0:Ce.videoWidth)||0,ze=((Te=this.imageRef.current)===null||Te===void 0?void 0:Te.naturalHeight)||((De=this.videoRef.current)===null||De===void 0?void 0:De.videoHeight)||0,Ve=Be/ze;return Ve<Oe?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},e.prototype.onPinchStart=function(Ee){var Ce=e.getTouchPoint(Ee.touches[0]),Te=e.getTouchPoint(Ee.touches[1]);this.lastPinchDistance=getDistanceBetweenPoints(Ce,Te),this.lastPinchRotation=getRotationBetweenPoints(Ce,Te),this.onDragStart(getCenter$1(Ce,Te))},e.prototype.onPinchMove=function(Ee){var Ce=this;if(!(!this.currentDoc||!this.currentWindow)){var Te=e.getTouchPoint(Ee.touches[0]),De=e.getTouchPoint(Ee.touches[1]),Me=getCenter$1(Te,De);this.onDrag(Me),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var Oe=getDistanceBetweenPoints(Te,De),Be=Ce.props.zoom*(Oe/Ce.lastPinchDistance);Ce.setNewZoom(Be,Me,{shouldUpdatePosition:!1}),Ce.lastPinchDistance=Oe;var ze=getRotationBetweenPoints(Te,De),Ve=Ce.props.rotation+(ze-Ce.lastPinchRotation);Ce.props.onRotationChange&&Ce.props.onRotationChange(Ve),Ce.lastPinchRotation=ze})}},e.prototype.render=function(){var Ee=this,Ce,Te=this.props,De=Te.image,Me=Te.video,Oe=Te.mediaProps,Be=Te.cropperProps,ze=Te.transform,Ve=Te.crop,qe=Ve.x,We=Ve.y,Ge=Te.rotation,Je=Te.zoom,Qe=Te.cropShape,ns=Te.showGrid,Ye=Te.roundCropAreaPixels,rs=Te.style,ts=rs.containerStyle,Xe=rs.cropAreaStyle,is=rs.mediaStyle,os=Te.classes,hs=os.containerClassName,fs=os.cropAreaClassName,xs=os.mediaClassName,Ss=(Ce=this.state.mediaObjectFit)!==null&&Ce!==void 0?Ce:this.getObjectFit();return reactExports.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(gs){return Ee.containerRef=gs},"data-testid":"container",style:ts,className:classNames("reactEasyCrop_Container",hs)},De?reactExports.createElement("img",__assign({alt:"",className:classNames("reactEasyCrop_Image",Ss==="contain"&&"reactEasyCrop_Contain",Ss==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",Ss==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",xs)},Oe,{src:De,ref:this.imageRef,style:__assign(__assign({},is),{transform:ze||"translate(".concat(qe,"px, ").concat(We,"px) rotate(").concat(Ge,"deg) scale(").concat(Je,")")}),onLoad:this.onMediaLoad})):Me&&reactExports.createElement("video",__assign({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:classNames("reactEasyCrop_Video",Ss==="contain"&&"reactEasyCrop_Contain",Ss==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",Ss==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",xs)},Oe,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:__assign(__assign({},is),{transform:ze||"translate(".concat(qe,"px, ").concat(We,"px) rotate(").concat(Ge,"deg) scale(").concat(Je,")")}),controls:!1}),(Array.isArray(Me)?Me:[{src:Me}]).map(function(ds){return reactExports.createElement("source",__assign({key:ds.src},ds))})),this.state.cropSize&&reactExports.createElement("div",__assign({ref:this.cropperRef,style:__assign(__assign({},Xe),{width:Ye?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:Ye?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:classNames("reactEasyCrop_CropArea",Qe==="round"&&"reactEasyCrop_CropAreaRound",ns&&"reactEasyCrop_CropAreaGrid",fs)},Be)))},e.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:MAX_ZOOM,minZoom:MIN_ZOOM,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:KEYBOARD_STEP},e.getMousePoint=function(Ee){return{x:Number(Ee.clientX),y:Number(Ee.clientY)}},e.getTouchPoint=function(Ee){return{x:Number(Ee.clientX),y:Number(Ee.clientY)}},e}(reactExports.Component);const ImageCropper=({imageSrc:Re,aspect:e=1,onCropComplete:Ee,onCancel:Ce})=>{const[Te,De]=reactExports.useState({x:0,y:0}),[Me,Oe]=reactExports.useState(1),[Be,ze]=reactExports.useState(null),[Ve,qe]=reactExports.useState(!1),We=rs=>{De(rs)},Ge=rs=>{Oe(rs)},Je=reactExports.useCallback((rs,ts)=>{ze(ts)},[]),Qe=rs=>new Promise((ts,Xe)=>{const is=new Image;is.addEventListener("load",()=>ts(is)),is.addEventListener("error",os=>Xe(os)),is.setAttribute("crossOrigin","anonymous"),is.src=rs}),ns=async(rs,ts)=>{const Xe=await Qe(rs),is=document.createElement("canvas"),os=is.getContext("2d");if(!os)return null;is.width=Xe.width,is.height=Xe.height,os.drawImage(Xe,0,0);const hs=os.getImageData(ts.x,ts.y,ts.width,ts.height);return is.width=ts.width,is.height=ts.height,os.putImageData(hs,0,0),new Promise(fs=>{is.toBlob(xs=>{const Ss=new File([xs],"profile-cropped.jpg",{type:"image/jpeg",lastModified:Date.now()});fs(Ss)},"image/jpeg")})},Ye=async()=>{qe(!0);try{const rs=await ns(Re,Be);Ee(rs)}catch(rs){console.error(rs)}finally{qe(!1)}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-[10000] bg-black/80 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-lg overflow-hidden shadow-2xl flex flex-col h-[500px]",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Crop Image"}),jsxRuntimeExports.jsx("button",{onClick:Ce,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5 text-gray-500"})})]}),jsxRuntimeExports.jsx("div",{className:"relative flex-1 bg-black",children:jsxRuntimeExports.jsx(Cropper,{image:Re,crop:Te,zoom:Me,aspect:e,onCropChange:We,onZoomChange:Ge,onCropComplete:Je,classes:{containerClassName:"relative w-full h-full",mediaClassName:"",cropAreaClassName:"border-2 border-white/50"}})}),jsxRuntimeExports.jsxs("div",{className:"p-6 bg-white space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx(ZoomIn,{className:"w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"range",value:Me,min:1,max:3,step:.1,"aria-labelledby":"Zoom",onChange:rs=>Oe(rs.target.value),className:"w-full h-1 bg-gray-200 rounded-lg appearance-none cursor-pointer accent-[#891737]"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:Ce,className:"flex-1 py-2.5 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:Ye,disabled:Ve,className:"flex-1 py-2.5 text-sm font-medium text-white bg-[#891737] rounded-lg hover:bg-[#a01b41] transition-colors flex items-center justify-center gap-2",children:Ve?jsxRuntimeExports.jsx(Loader,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"})," Save Crop"]})})]})]})]})})},ARTIST_ROLES=["Acting","Music","Dance"],TECHNICIAN_ROLES=["Production","Direction","Writing","Cinematography","Sound","Editing","Production Designing","Costume","Make-up","DI Colourist","Others"],ROLE_SPECIALIZATIONS={Acting:["Actor/Actress","Anchor","Voice Artist (Dubbing)","Junior Artist"],Music:["Music Director (Songs)","Music Director (Background)","Arranger","Musician","Singer Male","Singer Female"],Dance:["Choreographer","Assistant Choreographer","Dancer Male","Dancer Female","Group Dancer Male","Group Dancer Female"],Production:["Line Producer","Production Manager","Production Assistant"],Direction:["Director","Assistant Director","Casting Director"],Writing:["Story Writer","Screenplay Writer","Dialogue Writer","Voice Over Writer"],Cinematography:["Director of Photography (DOP)","Camera Assistant","Lighting Assistant","Light Man"],Sound:["Sound Designer","Sound Recordist","Effects & Foley Artist","Sound Mixing Master (RR)"],Editing:["Editor","Editing Assistant"],"Production Designing":["Production Designer","Art Director","Art Director Assistant"],Costume:["Costume Designer","Dress Man"],"Make-up":["Make Up Man","Make Up Assistant","Hair Stylist","Wig Maker"],"DI Colourist":[],Others:[]},PREDEFINED_SPECIALIZATIONS=[...new Set(Object.values(ROLE_SPECIALIZATIONS).flat()),"Others"],SKELETON_ARTIST={fullName:"Your Name",email:"youremail@example.com",phoneNumber:"+91 XXXXXXXXXX",address:"Your Address",gender:"Gender",dob:null,professions:[],specializations:[],videoLinks:[],galleryImages:[],image:null,description:"Your bio will appear here once created.",facebook:"",twitter:"",instagram:"",linkedIn:"",imdbLink:"",experiences:[]},updateProfile=async(Re,e)=>{var Be,ze,Ve,qe;const Ee=new FormData,Ce={...Re,...e};["fullName","dob","phoneNumber","email","gender","address","description","imdbLink","instagram","facebook","twitter","linkedIn","bestFilm","showPhonePublic"].forEach(We=>{Ce[We]!==void 0&&Ce[We]!==null&&Ee.append(We,Ce[We])});const Te=((Be=Ce.professions)==null?void 0:Be.map(We=>typeof We=="object"?We.name:We))||[],De=((ze=Ce.specializations)==null?void 0:ze.map(We=>typeof We=="object"?We.name:We))||[],Me=((Ve=Ce.videoLinks)==null?void 0:Ve.map(We=>typeof We=="object"?We.link||We.url:We))||[],Oe=((qe=Ce.galleryImages)==null?void 0:qe.map(We=>typeof We=="object"?We.url||We.link:We))||[];return Ee.append("professions",JSON.stringify(Te)),Ee.append("specializations",JSON.stringify(De)),Ee.append("videoLinks",JSON.stringify(Me)),Ee.append("galleryImages",JSON.stringify(Oe)),await api.put("/api/artist/updateMyProfile",Ee,{headers:{"Content-Type":"multipart/form-data"}})},VideoLinksCard=({artist:Re,onUpdate:e,readOnly:Ee=!1})=>{const[Ce,Te]=reactExports.useState(!1),[De,Me]=reactExports.useState(Re.videoLinks||[]),[Oe,Be]=reactExports.useState(""),[ze,Ve]=reactExports.useState(!1);reactExports.useEffect(()=>{Me(Re.videoLinks||[])},[Re]);const qe=async()=>{Ve(!0);try{const Je=await updateProfile(Re,{videoLinks:De});e(Je.data.data),Te(!1)}catch{alert("Failed to update videos")}finally{Ve(!1)}},We=()=>{if(De.length>=5){alert("You can add up to 5 video links.");return}if(Oe){try{new URL(Oe)}catch{alert("Please enter a valid URL (must start with http:// or https://)");return}De.includes(Oe)||(Me([...De,Oe]),Be(""))}},Ge=Je=>{Me(De.filter((Qe,ns)=>ns!==Je))};return Ce?jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-5 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-bold text-gray-900",children:"Manage Videos"}),jsxRuntimeExports.jsx("button",{onClick:()=>Te(!1),children:jsxRuntimeExports.jsx(X$1,{size:16})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("input",{value:Oe,onChange:Je=>Be(Je.target.value),placeholder:"Video Link",className:"flex-1 px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-rose-500"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:We,className:"px-3 py-2 bg-gray-900 text-white rounded-lg text-xs hover:bg-black transition-colors",children:"Add"})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto",children:De.map((Je,Qe)=>jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded text-xs",children:[jsxRuntimeExports.jsx("span",{className:"truncate flex-1",children:Je}),jsxRuntimeExports.jsx("button",{onClick:()=>Ge(Qe),className:"text-red-500 p-1",children:jsxRuntimeExports.jsx(Trash2,{size:13})})]},Qe))}),jsxRuntimeExports.jsxs("button",{onClick:qe,disabled:ze,className:"w-full py-2 bg-[#891737] text-white rounded-lg text-sm font-medium mt-2 flex justify-center items-center gap-2",children:[ze&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin w-4 h-4"})," Save Videos"]})]})]}):jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-5 shadow-sm relative group",children:[!Ee&&jsxRuntimeExports.jsx("button",{onClick:()=>Te(!0),className:"absolute top-4 right-4 p-1.5 bg-gray-100 rounded-full text-gray-600 hover:text-rose-600 hover:bg-rose-50 transition-all opacity-100 md:opacity-0 group-hover:opacity-100",children:jsxRuntimeExports.jsx(Pencil,{size:12})}),jsxRuntimeExports.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-4 flex items-center gap-2",children:"Video Showreels"}),Re.videoLinks&&Re.videoLinks.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-2.5",children:Re.videoLinks.map((Je,Qe)=>jsxRuntimeExports.jsxs("a",{href:Je,target:"_blank",rel:"noreferrer",className:"flex items-center gap-3 p-2.5 rounded-xl bg-gray-50 hover:bg-white hover:shadow-sm border border-gray-100",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-lg bg-red-50 text-red-600 flex items-center justify-center",children:jsxRuntimeExports.jsx(Film,{size:14})}),jsxRuntimeExports.jsxs("div",{className:"overflow-hidden min-w-0 flex-1",children:[jsxRuntimeExports.jsxs("p",{className:"text-xs font-bold text-gray-900 truncate",children:["Video ",Qe+1]}),jsxRuntimeExports.jsx("p",{className:"text-[9px] text-gray-500 truncate",children:Je})]})]},Qe))}):jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 italic",children:"No videos added."})]})},BioDataCard=({artist:Re,onUpdate:e,readOnly:Ee=!1})=>{const[Ce,Te]=reactExports.useState(!1),[De,Me]=reactExports.useState(null),[Oe,Be]=reactExports.useState(!1),ze=qe=>{const We=qe.target.files[0];if(We){const Ge=validateFile(We);if(!Ge.isValid){alert(Ge.error);return}Me(We)}},Ve=async()=>{if(!De){Te(!1);return}Be(!0);try{const qe=await updateProfile(Re,{bestFilm:De});e(qe.data.data),Te(!1),Me(null)}catch{alert("Failed to update Bio Data")}finally{Be(!1)}};return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-5 shadow-sm relative group mt-6",children:[!Ee&&jsxRuntimeExports.jsx("button",{onClick:()=>Te(!Ce),className:"absolute top-4 right-4 p-1.5 bg-gray-100 rounded-full text-gray-600 hover:text-rose-600 hover:bg-rose-50 transition-all opacity-100 md:opacity-0 group-hover:opacity-100",children:jsxRuntimeExports.jsx(Pencil,{size:12})}),jsxRuntimeExports.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-4 flex items-center gap-2",children:"Bio Data"}),!Ce&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Re.bestFilm?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsxs("a",{href:Re.bestFilm,target:"_blank",rel:"noreferrer",className:"flex-1 flex items-center gap-3 p-3 rounded-xl bg-gray-50 hover:bg-white hover:shadow-sm border border-gray-100 group/file transition-all",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-rose-50 text-[#891737] flex items-center justify-center group-hover/file:bg-[#891737] group-hover/file:text-white transition-colors",children:jsxRuntimeExports.jsx(ExternalLink,{size:18})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-bold text-gray-900 truncate",children:"View Bio Data"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-gray-500 truncate",children:"Click to open"})]})]}),!Ee&&jsxRuntimeExports.jsx("button",{onClick:async()=>{if(confirm("Are you sure you want to delete your Bio Data?")){Be(!0);try{console.log("Deleting Bio Data...");const qe=await updateProfile(Re,{bestFilm:""});console.log("Delete Response:",qe.data);const We=qe.data.data;!We.bestFilm||We.bestFilm===""?e(We):(console.warn("Backend didn't clear bestFilm, Forcing UI update."),e({...We,bestFilm:""}))}catch(qe){console.error("Delete failed",qe),alert("Failed to delete Bio Data")}finally{Be(!1)}}},disabled:Oe,className:"p-3 rounded-xl bg-gray-50 text-gray-400 hover:bg-rose-50 hover:text-rose-600 border border-gray-100 transition-colors",title:"Delete Bio Data",children:Oe?jsxRuntimeExports.jsx(Loader,{className:"animate-spin",size:18}):jsxRuntimeExports.jsx(Trash2,{size:18})})]}):!Ee&&jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsxs("button",{onClick:()=>Te(!0),className:"text-xs font-medium text-[#891737] hover:underline flex items-center gap-1",children:[jsxRuntimeExports.jsx(Plus,{size:14})," Add Bio Data"]})})}),Ce&&jsxRuntimeExports.jsxs("div",{className:"space-y-4 animate-in fade-in slide-in-from-top-2 duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"border-2 border-dashed border-gray-200 rounded-xl p-6 flex flex-col items-center justify-center bg-gray-50 hover:bg-white hover:border-[#891737]/30 transition-all",children:[jsxRuntimeExports.jsx("input",{type:"file",onChange:ze,accept:".jpg,.jpeg,.png,.pdf",className:"hidden",id:"bio-data-upload"}),jsxRuntimeExports.jsxs("label",{htmlFor:"bio-data-upload",className:"cursor-pointer flex flex-col items-center",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-full bg-white shadow-sm flex items-center justify-center text-[#891737] mb-2",children:jsxRuntimeExports.jsx(Upload,{size:18})}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-gray-700",children:De?De.name:"Click to upload Bio Data"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-gray-400 mt-1",children:"PDF, JPG, PNG (Max 5MB)"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{Te(!1),Me(null)},className:"flex-1 py-2 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:Ve,disabled:Oe||!De,className:"flex-1 py-2 bg-[#891737] text-white rounded-lg text-xs font-medium hover:bg-[#a01b41] transition-colors flex justify-center items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[Oe&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin w-3 h-3"}),"Upload & Save"]})]})]})]})},getSmartUrl=(Re,e)=>{if(!e)return"";let Ee=e.trim();if(Ee.startsWith("http://")||Ee.startsWith("https://"))return Ee;const Ce={instagram:"instagram.com",facebook:"facebook.com",twitter:"twitter.com",linkedIn:"linkedin.com",imdbLink:"imdb.com"};if(Ce[Re]&&Ee.includes(Ce[Re]))return Ee.startsWith("www.")?`https://${Ee}`:`https://${Ee}`;const Te={instagram:"https://instagram.com/",facebook:"https://facebook.com/",twitter:"https://twitter.com/",linkedIn:"https://linkedin.com/in/",imdbLink:"https://imdb.com/name/"};return Te[Re]?`${Te[Re]}${Ee}`:Ee},SocialMediaCard=({artist:Re,onUpdate:e,readOnly:Ee=!1})=>{const[Ce,Te]=reactExports.useState(!1),[De,Me]=reactExports.useState({facebook:Re.facebook||"",twitter:Re.twitter||"",instagram:Re.instagram||"",linkedIn:Re.linkedIn||"",imdbLink:Re.imdbLink||""}),[Oe,Be]=reactExports.useState(!1);reactExports.useEffect(()=>{Me({facebook:Re.facebook||"",twitter:Re.twitter||"",instagram:Re.instagram||"",linkedIn:Re.linkedIn||"",imdbLink:Re.imdbLink||""})},[Re]);const ze=async()=>{Be(!0);try{const qe={facebook:getSmartUrl("facebook",De.facebook),twitter:getSmartUrl("twitter",De.twitter),instagram:getSmartUrl("instagram",De.instagram),linkedIn:getSmartUrl("linkedIn",De.linkedIn),imdbLink:getSmartUrl("imdbLink",De.imdbLink)},We=await updateProfile(Re,qe);e(We.data.data),Te(!1)}catch{alert("Failed to update social links")}finally{Be(!1)}},Ve=qe=>{Me({...De,[qe.target.name]:qe.target.value})};return Ce?jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-5 shadow-sm sticky top-24",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-bold text-gray-900",children:"Edit Socials"}),jsxRuntimeExports.jsx("button",{onClick:()=>Te(!1),children:jsxRuntimeExports.jsx(X$1,{size:16})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[[{name:"instagram",icon:FaInstagram,color:"text-pink-600"},{name:"facebook",icon:FaFacebookF,color:"text-blue-600"},{name:"twitter",icon:FaTwitter,color:"text-blue-400"},{name:"linkedIn",icon:FaLinkedinIn,color:"text-blue-700"},{name:"imdbLink",icon:FaImdb,color:"text-yellow-600"}].map(qe=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(qe.icon,{className:qe.color}),jsxRuntimeExports.jsx("input",{name:qe.name,value:De[qe.name],onChange:Ve,placeholder:`${qe.name} link`,className:"flex-1 px-3 py-1.5 border border-gray-300 rounded-lg text-xs outline-none focus:border-rose-500"})]},qe.name)),jsxRuntimeExports.jsxs("button",{onClick:ze,disabled:Oe,className:"w-full py-2 bg-[#891737] text-white rounded-lg text-sm font-medium mt-2 flex justify-center items-center gap-2",children:[Oe&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin w-4 h-4"})," Save Socials"]})]})]}):jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-5 shadow-sm sticky top-24 relative group",children:[!Ee&&jsxRuntimeExports.jsx("button",{onClick:()=>Te(!0),className:"absolute top-4 right-4 p-1.5 bg-gray-100 rounded-full text-gray-600 hover:text-rose-600 hover:bg-rose-50 transition-all opacity-100 md:opacity-0 group-hover:opacity-100",children:jsxRuntimeExports.jsx(Pencil,{size:12})}),jsxRuntimeExports.jsx("h3",{className:"text-sm font-bold text-gray-900 mb-4",children:"Social Media"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[De.facebook&&jsxRuntimeExports.jsx("a",{href:getSmartUrl("facebook",De.facebook),target:"_blank",className:"aspect-square rounded-xl bg-[#1877F2]/5 text-[#891737] hover:bg-[#1877F2] hover:text-white flex items-center justify-center transition-all",children:jsxRuntimeExports.jsx(FaFacebookF,{size:16})}),De.twitter&&jsxRuntimeExports.jsx("a",{href:getSmartUrl("twitter",De.twitter),target:"_blank",className:"aspect-square rounded-xl bg-[#1DA1F2]/5 text-[#891737] hover:bg-[#1DA1F2] hover:text-white flex items-center justify-center transition-all",children:jsxRuntimeExports.jsx(FaTwitter,{size:16})}),De.instagram&&jsxRuntimeExports.jsx("a",{href:getSmartUrl("instagram",De.instagram),target:"_blank",className:"aspect-square rounded-xl bg-[#E4405F]/5 text-[#891737] hover:bg-[#E4405F] hover:text-white flex items-center justify-center transition-all",children:jsxRuntimeExports.jsx(FaInstagram,{size:16})}),De.linkedIn&&jsxRuntimeExports.jsx("a",{href:getSmartUrl("linkedIn",De.linkedIn),target:"_blank",className:"aspect-square rounded-xl bg-[#0A66C2]/5 text-[#891737] hover:bg-[#0A66C2] hover:text-white flex items-center justify-center transition-all",children:jsxRuntimeExports.jsx(FaLinkedinIn,{size:16})}),De.imdbLink&&jsxRuntimeExports.jsx("a",{href:getSmartUrl("imdbLink",De.imdbLink),target:"_blank",className:"aspect-square rounded-xl bg-[#F5C518]/10 text-[#891737] hover:bg-[#F5C518] hover:text-white flex items-center justify-center transition-all",children:jsxRuntimeExports.jsx(FaImdb,{size:18})}),!Object.values(De).some(Boolean)&&jsxRuntimeExports.jsx("span",{className:"col-span-5 text-xs text-gray-400 italic text-center py-4",children:"No social links added"})]})]})},AboutMeCard=({artist:Re,onUpdate:e,readOnly:Ee=!1})=>{const[Ce,Te]=reactExports.useState(!1),[De,Me]=reactExports.useState({description:Re.description||""}),[Oe,Be]=reactExports.useState(!1);reactExports.useEffect(()=>{Me({description:Re.description||""})},[Re]);const ze=async()=>{Be(!0);try{const Ve=await updateProfile(Re,De);e(Ve.data.data),Te(!1)}catch{alert("Failed to update About Me")}finally{Be(!1)}};return Ce?jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 shadow-sm relative",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Edit About Me"}),jsxRuntimeExports.jsx("button",{onClick:()=>Te(!1),children:jsxRuntimeExports.jsx(X$1,{size:18})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Bio / Description"}),jsxRuntimeExports.jsx("textarea",{value:De.description,onChange:Ve=>Me({...De,description:Ve.target.value}),rows:4,className:"w-full p-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-[#891737]"})]}),jsxRuntimeExports.jsx("button",{onClick:ze,disabled:Oe,className:"w-full py-2 bg-[#891737] text-white rounded-lg text-sm font-medium",children:Oe?"Saving...":"Save About Me"})]})]}):jsxRuntimeExports.jsxs("section",{className:"bg-white rounded-2xl border border-gray-100 p-6 shadow-sm relative group",children:[!Ee&&jsxRuntimeExports.jsx("button",{onClick:()=>Te(!0),className:"absolute top-4 right-4 p-1.5 bg-gray-100 rounded-full text-gray-600 hover:text-rose-600 hover:bg-rose-50 transition-all opacity-100 md:opacity-0 group-hover:opacity-100",children:jsxRuntimeExports.jsx(Pencil,{size:14})}),jsxRuntimeExports.jsx("h3",{className:"text-base font-bold text-gray-900 mb-4 flex items-center gap-2",children:"About Me"}),jsxRuntimeExports.jsx("div",{className:"prose prose-sm max-w-none text-gray-600 leading-relaxed whitespace-pre-wrap text-[13px] md:text-sm",children:Re.description||"No description added yet. Tell people about your journey!"}),Re.specializations&&Re.specializations.length>0&&jsxRuntimeExports.jsxs("div",{className:"mt-6 pt-5 border-t border-gray-100",children:[jsxRuntimeExports.jsx("h4",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider mb-3",children:"Specializations & Skills"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:Re.specializations.map((Ve,qe)=>jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-gray-50 text-gray-700 rounded-lg text-[11px] md:text-xs font-medium border border-gray-100",children:typeof Ve=="object"?Ve.name:Ve},qe))})]})]})},GalleryCard=({artist:Re,onUpdate:e,readOnly:Ee=!1})=>{const[Ce,Te]=reactExports.useState(!1),[De,Me]=reactExports.useState([]),[Oe,Be]=reactExports.useState([]),[ze,Ve]=reactExports.useState([]),[qe,We]=reactExports.useState(!1);reactExports.useEffect(()=>{const rs=(Re.galleryImages||Re.images||[]).map(ts=>typeof ts=="object"?ts.url||ts.link||"":ts).filter(Boolean);Me(rs),Be([]),Ve([])},[Re,Re.galleryImages]);const Ge=Ye=>{const rs=Array.from(Ye.target.files);if(De.length+Oe.length+rs.length>5){alert("Max 5 images allowed.");return}const ts=rs.filter(Xe=>validateFile(Xe).isValid);Be([...Oe,...ts]),Ve([...ze,...ts.map(Xe=>URL.createObjectURL(Xe))])},Je=Ye=>Me(De.filter((rs,ts)=>ts!==Ye)),Qe=Ye=>{Be(Oe.filter((rs,ts)=>ts!==Ye)),Ve(ze.filter((rs,ts)=>ts!==Ye))},ns=async()=>{var Ye,rs,ts;We(!0);try{const Xe=new FormData,is=De.map(Ss=>typeof Ss=="object"?Ss.url||Ss.link:Ss).filter(Boolean);Xe.append("galleryImages",JSON.stringify(is)),Oe.forEach(Ss=>Xe.append("galleryFiles",Ss)),["fullName","dob","phoneNumber","email","gender","address","description","bestFilm","imdbLink","instagram","facebook","twitter","linkedIn","showPhonePublic"].forEach(Ss=>{Re[Ss]!==void 0&&Re[Ss]!==null&&Xe.append(Ss,Re[Ss])});const os=((Ye=Re.professions)==null?void 0:Ye.map(Ss=>typeof Ss=="object"?Ss.name:Ss))||[],hs=((rs=Re.specializations)==null?void 0:rs.map(Ss=>typeof Ss=="object"?Ss.name:Ss))||[],fs=((ts=Re.videoLinks)==null?void 0:ts.map(Ss=>typeof Ss=="object"?Ss.link||Ss.url:Ss))||[];Xe.append("professions",JSON.stringify(os)),Xe.append("specializations",JSON.stringify(hs)),Xe.append("videoLinks",JSON.stringify(fs));const xs=await api.put("/api/artist/updateMyProfile",Xe,{headers:{"Content-Type":"multipart/form-data"}});xs.data&&xs.data.data?(alert("Gallery updated successfully!"),e(xs.data.data),Be([]),Ve([])):(alert("Gallery updated! Refreshing..."),window.location.reload()),Te(!1)}catch(Xe){console.error(Xe),alert("Failed to update gallery")}finally{We(!1)}};return Ce?jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between mb-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-bold text-gray-900",children:"Manage Gallery"}),jsxRuntimeExports.jsx("button",{onClick:()=>Te(!1),children:jsxRuntimeExports.jsx(X$1,{size:18})})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 overflow-x-auto pb-4 custom-scrollbar",children:[De.map((Ye,rs)=>jsxRuntimeExports.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0 group",children:[jsxRuntimeExports.jsx("img",{src:Ye,className:"w-full h-full object-cover rounded-lg border border-gray-100"}),jsxRuntimeExports.jsx("button",{onClick:()=>Je(rs),className:"absolute -top-1.5 -right-1.5 bg-white text-red-500 p-1 rounded-full shadow-md hover:bg-red-50 transition-colors border border-gray-100",children:jsxRuntimeExports.jsx(X$1,{size:12})})]},`ex-${rs}`)),ze.map((Ye,rs)=>jsxRuntimeExports.jsxs("div",{className:"relative w-20 h-20 flex-shrink-0 group",children:[jsxRuntimeExports.jsx("img",{src:Ye,className:"w-full h-full object-cover rounded-lg border-2 border-[#891737]"}),jsxRuntimeExports.jsx("button",{onClick:()=>Qe(rs),className:"absolute -top-1.5 -right-1.5 bg-white text-red-500 p-1 rounded-full shadow-md hover:bg-red-50 transition-colors border border-gray-100",children:jsxRuntimeExports.jsx(X$1,{size:12})})]},`new-${rs}`)),De.length+Oe.length<5&&jsxRuntimeExports.jsxs("label",{className:"w-20 h-20 flex flex-col items-center justify-center border-2 border-dashed border-gray-200 rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[jsxRuntimeExports.jsx(Plus,{size:20,className:"text-gray-400"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-gray-500 font-medium mt-1",children:"Add Photo"}),jsxRuntimeExports.jsx("input",{type:"file",multiple:!0,accept:"image/*",onChange:Ge,className:"hidden"})]})]}),jsxRuntimeExports.jsxs("button",{onClick:ns,disabled:qe,className:"w-full py-2.5 bg-[#891737] text-white rounded-lg text-sm font-medium hover:bg-[#a01b41] transition-colors flex justify-center items-center gap-2 shadow-lg shadow-[#891737]/20",children:[qe&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin w-4 h-4"})," Save Gallery"]})]}):jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6 shadow-sm relative group",children:[!Ee&&jsxRuntimeExports.jsx("button",{onClick:()=>Te(!0),className:"absolute top-4 right-4 p-2 bg-gray-50 rounded-full text-gray-500 hover:text-[#891737] hover:bg-[#891737]/5 transition-all opacity-0 group-hover:opacity-100",children:jsxRuntimeExports.jsx(Pencil,{size:14})}),jsxRuntimeExports.jsx("h3",{className:"text-base font-bold text-gray-900 mb-6 flex items-center gap-2",children:"Gallery"}),Re.galleryImages&&Re.galleryImages.length>0?jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-2",children:Re.galleryImages.map((Ye,rs)=>{const ts=typeof Ye=="object"?Ye.url||Ye.link:Ye;return jsxRuntimeExports.jsx("div",{className:"aspect-square rounded-lg overflow-hidden bg-gray-100 cursor-pointer hover:opacity-90 transition-opacity",children:jsxRuntimeExports.jsx("img",{src:ts,className:"w-full h-full object-cover",alt:`Gallery ${rs}`})},rs)})}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-10 text-center bg-gray-50 rounded-xl border border-dashed border-gray-200",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-full flex items-center justify-center mb-3",children:jsxRuntimeExports.jsx(Image$1,{className:"text-gray-400",size:18})}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"No photos added yet."})]})]})},ExperienceCard=({artist:Re,onUpdate:e,readOnly:Ee=!1})=>{var Qe;const[Ce,Te]=reactExports.useState(!1),[De,Me]=reactExports.useState(!1),[Oe,Be]=reactExports.useState({filmTitle:"",roleInFilm:"",durationFrom:"",durationTo:"",description:"",awards:"",link:""}),ze=ns=>Be({...Oe,[ns.target.name]:ns.target.value}),Ve=async ns=>{if(!window.confirm("Are you sure you want to delete this experience?"))return;const Ye=Re.experiences[ns];console.log("Attempting to delete experience:",Ye);const rs=Ye._id||Ye.id;if(!rs){console.error("Experience ID missing in object:",Ye),alert("Experience ID missing. Cannot identify which item to delete.");return}Me(!0);try{await api.delete(`/api/artist/deleteExperience/${rs}`);const ts=Re.experiences.filter((Xe,is)=>is!==ns);e({...Re,experiences:ts})}catch(ts){if(console.error("Delete failed:",ts),ts.response&&ts.response.status===404)try{await api.post("/api/artist/deleteExperience",{id:rs});const Xe=Re.experiences.filter((is,os)=>os!==ns);e({...Re,experiences:Xe});return}catch(Xe){console.error("Fallback delete failed:",Xe)}alert("Failed to delete experience. Backend support might be missing.")}finally{Me(!1)}},[qe,We]=reactExports.useState(null),Ge=(ns,Ye)=>{console.log("Editing experience:",Ye),Be({filmTitle:Ye.filmTitle||"",roleInFilm:Ye.roleInFilm||"",durationFrom:Ye.durationFrom?new Date(Ye.durationFrom).toISOString().split("T")[0]:"",durationTo:Ye.durationTo?new Date(Ye.durationTo).toISOString().split("T")[0]:"",description:Ye.description||"",awards:Ye.awards||"",link:Ye.link||""}),We(ns),Te(!0)},Je=async()=>{if(!Oe.filmTitle||!Oe.roleInFilm||!Oe.durationFrom){alert("Please fill required fields (Title, Role, Start Date)");return}if(Oe.durationTo&&Oe.durationFrom>Oe.durationTo){alert("Start date cannot be after end date");return}Me(!0);try{const ns={...Oe,durationFrom:Oe.durationFrom?new Date(Oe.durationFrom).toISOString():null,durationTo:Oe.durationTo?new Date(Oe.durationTo).toISOString():null};if(qe===null){await api.post("/api/artist/addExperience",ns);const Ye=await api.get("/api/artist/myProfileWithExperiences");Ye.data&&Ye.data.data?e(Ye.data.data):window.location.reload()}else{const Ye=Re.experiences[qe];console.log("Attempting to update experience:",Ye);const rs=Ye._id||Ye.id;if(!rs){console.error("Experience ID missing in object:",Ye),alert("Experience ID missing. Cannot update."),Me(!1);return}await api.put(`/api/artist/updateExperience/${rs}`,ns);const ts=await api.get("/api/artist/myProfileWithExperiences");if(ts.data&&ts.data.data)e(ts.data.data);else{const Xe=[...Re.experiences];Xe[qe]={...Ye,...Oe,durationTo:Oe.durationTo||null},e({...Re,experiences:Xe})}}Te(!1),We(null),Be({filmTitle:"",roleInFilm:"",durationFrom:"",durationTo:"",description:"",awards:"",link:""})}catch(ns){console.error(ns),alert("Failed to save experience. Backend support might be missing.")}finally{Me(!1)}};return jsxRuntimeExports.jsxs("section",{className:"bg-white rounded-2xl border border-gray-100 p-6 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-bold text-gray-900 flex items-center gap-2",children:"Experience"}),!Ce&&!Ee&&jsxRuntimeExports.jsxs("button",{onClick:()=>Te(!0),className:"text-xs font-medium text-gray-500 hover:text-gray-900 hover:bg-gray-50 px-3 py-1.5 rounded-md transition-colors flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(Plus,{size:14})," Add position"]})]}),Ce&&jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 mb-8 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Film / Project *"}),jsxRuntimeExports.jsx("input",{name:"filmTitle",value:Oe.filmTitle,onChange:ze,placeholder:"Ex: The Dark Knight",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm outline-none focus:border-gray-400 focus:ring-1 focus:ring-gray-200 transition-all"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Role in Project *"}),jsxRuntimeExports.jsx("input",{name:"roleInFilm",value:Oe.roleInFilm,onChange:ze,placeholder:"Ex: Lead Actor",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm outline-none focus:border-gray-400 focus:ring-1 focus:ring-gray-200 transition-all"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Role Category"}),jsxRuntimeExports.jsx("input",{disabled:!0,value:((Qe=Re.professions)==null?void 0:Qe[0])||"Artist",className:"w-full px-3 py-2 bg-gray-100 border border-gray-200 rounded-lg text-sm text-gray-500 cursor-not-allowed"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Start Date *"}),jsxRuntimeExports.jsx("input",{type:"date",name:"durationFrom",value:Oe.durationFrom,onChange:ze,className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm outline-none focus:border-gray-400 focus:ring-1 focus:ring-gray-200 transition-all"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"End Date"}),jsxRuntimeExports.jsx("input",{type:"date",name:"durationTo",value:Oe.durationTo,min:Oe.durationFrom,onChange:ze,className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm outline-none focus:border-gray-400 focus:ring-1 focus:ring-gray-200 transition-all"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Description"}),jsxRuntimeExports.jsx("textarea",{name:"description",value:Oe.description,onChange:ze,rows:3,placeholder:"Describe your responsibilities, achievements, etc.",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm outline-none focus:border-gray-400 focus:ring-1 focus:ring-gray-200 transition-all resize-none"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-semibold text-gray-600 mb-1 block",children:"Awards / Recognition"}),jsxRuntimeExports.jsx("input",{name:"awards",value:Oe.awards,onChange:ze,placeholder:"Ex: Best Actor, National Award",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm outline-none focus:border-gray-400 focus:ring-1 focus:ring-gray-200 transition-all"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t border-gray-200",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{Te(!1),We(null)},className:"px-4 py-2 text-sm font-medium text-gray-600 hover:bg-gray-100 rounded-lg transition-colors",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:Je,disabled:De,className:"px-4 py-2 text-sm font-medium text-white bg-gray-900 hover:bg-black rounded-lg shadow-sm transition-colors flex items-center gap-2",children:[De&&jsxRuntimeExports.jsx(Loader,{className:"animate-spin w-3 h-3"})," ",qe!==null?"Update":"Save"]})]})]}),Re.experiences&&Re.experiences.length>0?jsxRuntimeExports.jsx("div",{className:"space-y-6",children:Re.experiences.map((ns,Ye)=>jsxRuntimeExports.jsxs("div",{className:"group relative pl-4 border-l-2 border-gray-100 last:border-transparent pb-6 last:pb-0",children:[jsxRuntimeExports.jsx("div",{className:"absolute -left-[5px] top-1.5 w-2.5 h-2.5 rounded-full bg-gray-300 border-2 border-white ring-1 ring-gray-100 group-hover:bg-gray-900 group-hover:ring-gray-200 transition-all"}),!Ee&&jsxRuntimeExports.jsxs("div",{className:"absolute right-0 top-0 flex gap-2 opacity-0 group-hover:opacity-100 transition-opacity z-10",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ge(Ye,ns),className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-full transition-colors",title:"Edit Experience",children:jsxRuntimeExports.jsx(Pencil,{size:14})}),jsxRuntimeExports.jsx("button",{onClick:()=>Ve(Ye),className:"p-1.5 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-full transition-colors",title:"Delete Experience",children:jsxRuntimeExports.jsx(Trash2,{size:14})})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-1",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-base font-bold text-gray-900 leading-snug",children:ns.roleInFilm}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-gray-700 mt-0.5",children:[ns.filmTitle,ns.role&&jsxRuntimeExports.jsxs("span",{className:"text-gray-400 font-normal",children:[" ","Â· ",ns.role]})]}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-1 flex items-center gap-1",children:[new Date(ns.durationFrom).getFullYear()," -"," ",ns.durationTo?new Date(ns.durationTo).getFullYear():"Present"]})]})}),ns.description&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-3 leading-relaxed max-w-2xl",children:ns.description}),ns.awards&&jsxRuntimeExports.jsx("div",{className:"mt-3 flex flex-wrap gap-2",children:jsxRuntimeExports.jsx("div",{className:"inline-flex items-center text-xs font-medium text-gray-700 bg-gray-100 px-2.5 py-1 rounded-md",children:ns.awards})})]},Ye))}):!Ce&&jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-12 text-center bg-gray-50/50 rounded-xl border border-dashed border-gray-200",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mb-3",children:jsxRuntimeExports.jsx(Briefcase,{className:"text-gray-400",size:20})}),jsxRuntimeExports.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"No experience added"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 max-w-[200px] mt-1",children:"Add your film projects and roles to showcase your career journey."})]})]})},MAX_PHONE_DIGITS=12,getMaxDobDate=()=>{const Re=new Date;return Re.setFullYear(Re.getFullYear()-8),Re.toISOString().split("T")[0]},calcAge=Re=>{if(!Re)return null;const e=new Date(Re),Ee=new Date;let Ce=Ee.getFullYear()-e.getFullYear();const Te=Ee.getMonth()-e.getMonth();return(Te<0||Te===0&&Ee.getDate()<e.getDate())&&Ce--,Ce},EditProfileModal=({artist:Re,onClose:e,onUpdate:Ee,isCreating:Ce=!1})=>{var _s,ws;const Te=Ce?{}:Re||{},[De,Me]=reactExports.useState({fullName:Te.fullName||"",email:Te.email||"",phoneNumber:Te.phoneNumber||"",gender:Te.gender||"",dob:Te.dob?new Date(Te.dob).toISOString().split("T")[0]:"",address:Te.address||"",showPhonePublic:Te.showPhonePublic===!0||Te.showPhonePublic==="true",image:null,professions:((_s=Te.professions)==null?void 0:_s.map(js=>typeof js=="object"?js.name:js))||[],specializations:((ws=Te.specializations)==null?void 0:ws.map(js=>typeof js=="object"?js.name:js))||[]}),[Oe,Be]=reactExports.useState(""),[ze,Ve]=reactExports.useState(""),[qe,We]=reactExports.useState(""),[Ge,Je]=reactExports.useState(""),[Qe,ns]=reactExports.useState(""),[Ye,rs]=reactExports.useState(Te.image||null),[ts,Xe]=reactExports.useState(!1),[is,os]=reactExports.useState(null),[hs,fs]=reactExports.useState(!1),[xs,Ss]=reactExports.useState(!1);reactExports.useEffect(()=>{(async()=>{if(Ce){Ss(!0);try{const ms=await api.get("/api/auth/me");ms.data&&ms.data.user&&Me(ys=>({...ys,fullName:ms.data.user.name||ys.fullName,email:ms.data.user.email||ys.email}))}catch(ms){console.error("Failed to fetch auth details",ms)}finally{Ss(!1)}}})()},[Ce]),reactExports.useEffect(()=>{!Oe&&De.professions.length>0&&(De.professions.some(ms=>ARTIST_ROLES.includes(ms))?Be("Artist"):De.professions.some(ys=>TECHNICIAN_ROLES.includes(ys))&&Be("Technician"))},[De.professions]);const ds=React.useMemo(()=>{if(!De.professions.length)return PREDEFINED_SPECIALIZATIONS;const js=De.professions.flatMap(ms=>ROLE_SPECIALIZATIONS[ms]||[]);return js.length>0?[...new Set(js),"Others"]:["Others"]},[De.professions]),gs=(js,ms,ys,ks)=>{ms&&!ys.includes(ms)&&ks(zs=>({...zs,[js]:[...ys,ms]}))},Ts=(js,ms)=>{const ys=De[js];Me(ks=>({...ks,[js]:ys.filter((zs,Cs)=>Cs!==ms)}))},Ds=js=>{const{name:ms,value:ys}=js.target;if(ms==="phoneNumber"){const ks=String(ys).replace(/\D/g,"").slice(0,MAX_PHONE_DIGITS);Me(zs=>({...zs,phoneNumber:ks}));return}Me(ks=>({...ks,[ms]:ys}))},Ms=js=>{const ms=js.target.files[0];if(ms){const ys=validateFile(ms);if(ys.isValid){const ks=new FileReader;ks.addEventListener("load",()=>{os(ks.result),Xe(!0)}),ks.readAsDataURL(ms)}else alert(ys.error)}js.target.value=""},bs=js=>{Me(ms=>({...ms,image:js})),rs(URL.createObjectURL(js)),Xe(!1),os(null)},Ns=()=>{Xe(!1),os(null)},ps=async js=>{var ys,ks,zs,Cs,Ps,Us;js.preventDefault(),fs(!0);const ms=calcAge(De.dob);if(ms!==null&&ms<8){alert("Age must be at least 8 years."),fs(!1);return}if(!De.fullName||!De.email||!De.phoneNumber||!De.dob||!De.gender||!De.address){alert("Please fill all required fields (Name, Email, Phone, DOB, Gender, Address)."),fs(!1);return}if(String(De.phoneNumber).replace(/\D/g,"").length>MAX_PHONE_DIGITS){alert("Phone number should not exceed 12 digits."),fs(!1);return}try{const Is=new FormData;Object.entries(De).forEach(([Ks,or])=>{Ks==="image"?(or instanceof Blob||or instanceof File)&&Is.append("image",or):or!=null&&or!==""&&(Ks==="professions"||Ks==="specializations"||Is.append(Ks,or))}),Is.append("professions",JSON.stringify(De.professions)),Is.append("specializations",JSON.stringify(De.specializations)),console.log("ðŸ“¤ Submitting Profile Update:");for(let[Ks,or]of Is.entries())console.log(`${Ks}:`,or);if(!Ce){const Ks=((ys=Te.professions)==null?void 0:ys.map(Ws=>typeof Ws=="object"?Ws.name:Ws))||[],or=((ks=Te.specializations)==null?void 0:ks.map(Ws=>typeof Ws=="object"?Ws.name:Ws))||[],rr=((zs=Te.videoLinks)==null?void 0:zs.map(Ws=>typeof Ws=="object"?Ws.link||Ws.url:Ws))||[],ur=((Cs=Te.galleryImages)==null?void 0:Cs.map(Ws=>typeof Ws=="object"?Ws.url||Ws.link:Ws))||[];Is.append("professions",JSON.stringify(Ks)),Is.append("specializations",JSON.stringify(or)),Is.append("videoLinks",JSON.stringify(rr)),Is.append("existingGalleryImages",JSON.stringify(ur))}let Vs;Ce?Vs=await api.post("/api/artist/addArtist",Is,{headers:{"Content-Type":"multipart/form-data"}}):Vs=await api.put("/api/artist/updateMyProfile",Is,{headers:{"Content-Type":"multipart/form-data"}}),Ee(Vs.data.data),e()}catch(Is){console.error("Save error",Is),alert(((Us=(Ps=Is.response)==null?void 0:Ps.data)==null?void 0:Us.message)||"Failed to save profile")}finally{fs(!1)}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex justify-center items-center p-4 animate-in fade-in duration-200",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl w-full max-w-2xl max-h-[90vh] overflow-hidden shadow-2xl flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-gray-900",children:Ce?"Create Profile":"Edit Profile"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:Ce?"Fill in your details to get started":"Update your personal and professional details"})]}),jsxRuntimeExports.jsx("button",{onClick:e,className:"p-2 hover:bg-gray-200 rounded-full transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5 text-gray-500"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:ps,className:"flex-1 overflow-y-auto custom-scrollbar",children:[jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden border-4 border-gray-100 shadow-md",children:jsxRuntimeExports.jsx("img",{src:Ye||"/placeholderProfile.jpg",alt:"Profile Preview",className:"w-full h-full object-cover"})}),jsxRuntimeExports.jsxs("label",{className:"absolute bottom-0 right-0 p-1.5 bg-[#891737] text-white rounded-full cursor-pointer hover:bg-[#a01b41] transition-colors shadow-sm",children:[jsxRuntimeExports.jsx(Pencil,{size:12}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:Ms,className:"hidden"})]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:Ce?"Upload a profile picture":"Click pencil to change photo"})]}),ts&&is&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black/80 p-4",children:jsxRuntimeExports.jsx("div",{className:"bg-white p-4 rounded-xl w-full max-w-md",children:jsxRuntimeExports.jsx(ImageCropper,{imageSrc:is,onCropComplete:bs,onCancel:Ns,aspect:1})})}),jsxRuntimeExports.jsxs("div",{className:"pt-2",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Basic Information"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Full Name *"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{name:"fullName",value:De.fullName,onChange:Ds,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-[#891737]",placeholder:"Required"}),xs&&Ce&&jsxRuntimeExports.jsx(Loader,{className:"absolute right-2 top-2.5 w-4 h-4 animate-spin text-gray-400"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{name:"email",value:De.email,onChange:Ds,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-[#891737]",placeholder:"Required"}),xs&&Ce&&jsxRuntimeExports.jsx(Loader,{className:"absolute right-2 top-2.5 w-4 h-4 animate-spin text-gray-400"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Phone *"}),jsxRuntimeExports.jsx("input",{name:"phoneNumber",value:De.phoneNumber,onChange:Ds,inputMode:"numeric",pattern:"\\d*",maxLength:MAX_PHONE_DIGITS,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-[#891737]",placeholder:"Required"}),jsxRuntimeExports.jsxs("div",{className:"mt-2 flex items-center gap-4",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-500",children:"Would you like to show your phone number publicly?"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"showPhonePublic",checked:De.showPhonePublic===!0,onChange:()=>Me(js=>({...js,showPhonePublic:!0})),className:"text-[#891737] focus:ring-[#891737]"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-700",children:"Yes"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-1.5 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"radio",name:"showPhonePublic",checked:De.showPhonePublic===!1,onChange:()=>Me(js=>({...js,showPhonePublic:!1})),className:"text-[#891737] focus:ring-[#891737]"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-700",children:"No"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"DOB *"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("input",{type:"date",name:"dob",value:De.dob,onChange:Ds,max:getMaxDobDate(),className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-[#891737]"}),De.dob&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-600 whitespace-nowrap",children:["Age:"," ",jsxRuntimeExports.jsx("span",{className:"font-semibold",children:calcAge(De.dob)})]})]}),jsxRuntimeExports.jsx("p",{className:"text-[11px] text-gray-500 mt-1",children:"Minimum age: 8 years"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Gender *"}),jsxRuntimeExports.jsxs("select",{name:"gender",value:De.gender,onChange:Ds,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-[#891737]",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select"}),jsxRuntimeExports.jsx("option",{value:"Male",children:"Male"}),jsxRuntimeExports.jsx("option",{value:"Female",children:"Female"}),jsxRuntimeExports.jsx("option",{value:"Other",children:"Other"})]})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2 space-y-4 border-t border-gray-100 pt-4 mt-2",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profession / Role *"}),jsxRuntimeExports.jsx("div",{className:"flex gap-4 mb-3",children:["Artist","Technician"].map(js=>jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"radio",checked:Oe===js,onChange:()=>{Be(js),Ve("")},className:"text-[#891737] focus:ring-[#891737]"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-700",children:js})]},js))}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-2",children:[jsxRuntimeExports.jsxs("select",{value:ze,onChange:js=>{const ms=js.target.value;ms==="Others"?Ve("Others"):(gs("professions",ms,De.professions,Me),Ve(""))},disabled:!Oe,className:"p-2 border border-gray-300 rounded-lg text-sm flex-1 outline-none focus:border-[#891737]",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Profession"}),Oe==="Artist"&&ARTIST_ROLES.map(js=>jsxRuntimeExports.jsx("option",{value:js,children:js},js)),Oe==="Technician"&&TECHNICIAN_ROLES.map(js=>jsxRuntimeExports.jsx("option",{value:js,children:js},js))]}),ze==="Others"&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2 flex-1",children:[jsxRuntimeExports.jsx("input",{value:qe,onChange:js=>We(js.target.value),placeholder:"Specify",className:"p-2 border border-gray-300 rounded-lg text-sm w-full outline-none focus:border-[#891737]"}),jsxRuntimeExports.jsx("button",{onClick:()=>{gs("professions",qe,De.professions,Me),We(""),Ve("")},type:"button",className:"bg-black text-white px-3 rounded-lg text-xs hover:bg-gray-800 transition-colors",children:"Add"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:De.professions.map((js,ms)=>jsxRuntimeExports.jsxs("span",{className:"bg-rose-50 text-rose-700 px-2.5 py-1 rounded-full text-xs font-medium flex items-center gap-1.5 border border-rose-100",children:[js," ",jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ts("professions",ms),className:"hover:text-rose-900",children:jsxRuntimeExports.jsx(X$1,{size:12})})]},ms))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Specializations *"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 mb-2",children:[jsxRuntimeExports.jsxs("select",{value:Ge,onChange:js=>{const ms=js.target.value;ms==="Others"?Je("Others"):(gs("specializations",ms,De.specializations,Me),Je(""))},disabled:!De.professions.length,className:"p-2 border border-gray-300 rounded-lg text-sm flex-1 outline-none focus:border-[#891737]",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Specialization"}),ds.map(js=>jsxRuntimeExports.jsx("option",{value:js,children:js},js))]}),Ge==="Others"&&jsxRuntimeExports.jsxs("div",{className:"flex gap-2 flex-1",children:[jsxRuntimeExports.jsx("input",{value:Qe,onChange:js=>ns(js.target.value),placeholder:"Specify",className:"p-2 border border-gray-300 rounded-lg text-sm w-full outline-none focus:border-[#891737]"}),jsxRuntimeExports.jsx("button",{onClick:()=>{gs("specializations",Qe,De.specializations,Me),ns(""),Je("")},type:"button",className:"bg-black text-white px-3 rounded-lg text-xs hover:bg-gray-800 transition-colors",children:"Add"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:De.specializations.map((js,ms)=>jsxRuntimeExports.jsxs("span",{className:"bg-gray-100 text-gray-700 px-2.5 py-1 rounded-full text-xs font-medium flex items-center gap-1.5 border border-gray-200",children:[js," ",jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ts("specializations",ms),className:"hover:text-gray-900",children:jsxRuntimeExports.jsx(X$1,{size:12})})]},ms))})]})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address *"}),jsxRuntimeExports.jsx("textarea",{name:"address",rows:2,value:De.address,onChange:Ds,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm outline-none focus:border-[#891737]",placeholder:"Full Address with Pin Code"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-gray-100 bg-gray-50 flex justify-end gap-3 flex-shrink-0 z-10",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:e,className:"px-5 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:hs,className:"px-5 py-2.5 text-sm font-medium text-white bg-[#891737] rounded-lg hover:bg-[#a01b41] transition-colors flex items-center gap-2 shadow-lg shadow-[#891737]/20",children:hs?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader,{className:"w-4 h-4 animate-spin"})," ",Ce?"Creating...":"Saving..."]}):Ce?"Create Profile":"Save Changes"})]})]})]})})},Disclaimer$1=()=>jsxRuntimeExports.jsx("div",{className:"pt-8 pb-4",children:jsxRuntimeExports.jsx("div",{className:"bg-gray-50 border border-gray-100 rounded-2xl p-6",children:jsxRuntimeExports.jsxs("p",{className:"text-[10px] leading-relaxed text-gray-400 font-medium text-center italic",children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-gray-500 uppercase tracking-widest not-italic mr-1",children:"Disclaimer:"}),"The information and data displayed on this portal are provided solely by the respective individuals/applicants . The Department makes no representations or warranties regarding the accuracy, completeness, or reliability of the submitted information and shall not be held responsible or liable for any errors, omissions, or claims arising from its use."]})})}),LocalArtist=({onClose:Re})=>{const[e,Ee]=reactExports.useState([]),[Ce,Te]=reactExports.useState(""),[De,Me]=reactExports.useState("All"),[Oe,Be]=reactExports.useState(null),[ze,Ve]=reactExports.useState(!0),qe=["All","Actor/Actress","Anchor","Voice Artist (Dubbing)","Junior Artist","Music Director (Songs)","Music Director (Background)","Arranger","Musician","Singer Male","Singer Female","Choreographer","Assistant Choreographer","Dancer Male","Dancer Female","Group Dancer Male","Group Dancer Female","Other"];reactExports.useEffect(()=>{(async()=>{try{Ve(!0);const[Ye,rs]=await Promise.all([api.get("/api/admin/artist/allArtists"),api.get("/api/artist/verifiedartists")]);let ts=[];if(Ye.data.success&&(ts=[...Ye.data.data]),rs.data.success){const Xe=rs.data.data.map(os=>({...os,emailId:os.emailId||os.email,isVerifiedSource:!0})),is=new Set(ts.map(os=>os.id));Xe.forEach(os=>{if(!is.has(os.id))ts.push(os);else{const hs=ts.findIndex(fs=>fs.id===os.id);ts[hs]={...ts[hs],...os}}})}Ee(ts)}catch(Ye){console.error("Error fetching artists:",Ye)}finally{Ve(!1)}})()},[]);const We=ns=>{try{let Ye=[];return typeof ns.experiences=="string"?Ye=JSON.parse(ns.experiences):Ye=ns.experiences||[],Ye.map(rs=>({...rs,role:rs.role||rs.roleInFilm}))}catch{return[]}},Ge=ns=>{if(ns.professions&&Array.isArray(ns.professions)&&ns.professions.length>0)return ns.professions.map(rs=>typeof rs=="object"&&rs.name||rs).join(", ");if(ns.specializations&&Array.isArray(ns.specializations)&&ns.specializations.length>0)return ns.specializations.map(rs=>typeof rs=="object"&&rs.name||rs).join(", ");const Ye=We(ns);return Ye.length>0?Ye[0].role||Ye[0].roleInFilm||"Artist":"Artist Profile"},Je=ns=>{if(!ns)return"N/A";const Ye=new Date(ns),rs=new Date;let ts=rs.getFullYear()-Ye.getFullYear();const Xe=rs.getMonth()-Ye.getMonth();return(Xe<0||Xe===0&&rs.getDate()<Ye.getDate())&&ts--,ts+" Years"},Qe=e.filter(ns=>{const Ye=ns.fullName&&ns.fullName.toLowerCase().includes(Ce.toLowerCase());if(De==="All")return Ye;const rs=Xe=>{if(!Xe)return!1;const is=typeof Xe=="string"?Xe:Xe.name;return is&&is.toLowerCase()===De.toLowerCase()},ts=ns.professions&&ns.professions.some(rs)||ns.specializations&&ns.specializations.some(rs)||We(ns).some(Xe=>rs(Xe.role)||rs(Xe.roleInFilm));return Ye&&ts});return jsxRuntimeExports.jsxs("div",{className:"w-full min-h-screen bg-[#FDFCFD] flex relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[40%] h-[40%] bg-[#891737]/5 rounded-full blur-[120px] pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[30%] h-[30%] bg-[#891737]/3 rounded-full blur-[100px] pointer-events-none"}),jsxRuntimeExports.jsx("button",{onClick:Re,className:"absolute top-4 right-4 z-[60] p-2 bg-white/90 backdrop-blur-md rounded-full text-gray-400 hover:text-[#891737] hover:bg-[#891737]/5 transition-all shadow-sm border border-gray-100/50",title:"Close Directory",children:jsxRuntimeExports.jsx(FiX,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"w-72 border-r border-gray-100 bg-white/50 backdrop-blur-xl h-screen sticky top-0 flex flex-col z-40 hidden lg:flex",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-gray-100/50",children:jsxRuntimeExports.jsxs("div",{className:"relative group w-full",children:[jsxRuntimeExports.jsx(FiSearch,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-[#891737] transition-colors w-4 h-4"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search artist...",value:Ce,onChange:ns=>Te(ns.target.value),className:"w-full placeholder:text-gray-400 pl-9 pr-3 py-2 text-xs rounded-lg bg-gray-50 border border-gray-100 focus:bg-white focus:border-[#891737] focus:ring-2 focus:ring-[#891737]/5 transition-all outline-none"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-0.5 custom-scrollbar",children:[jsxRuntimeExports.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider px-2 mb-2",children:"Categories"}),qe.map(ns=>jsxRuntimeExports.jsxs("button",{onClick:()=>{Me(ns),Be(null)},className:`w-full text-left px-3 py-2 rounded-md text-xs font-medium transition-all duration-200 flex items-center justify-between group ${De===ns?"bg-[#891737] text-white shadow-sm":"text-gray-600 hover:bg-white hover:shadow-sm"}`,children:[jsxRuntimeExports.jsx("span",{children:ns==="All"?"All Artists":ns}),De===ns&&jsxRuntimeExports.jsx("div",{className:"w-1 h-1 rounded-full bg-white"})]},ns))]}),jsxRuntimeExports.jsx("div",{className:"p-3 border-t border-gray-100/50 text-center",children:jsxRuntimeExports.jsxs("p",{className:"text-[10px] text-gray-400",children:[Qe.length," Artists Found"]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 h-screen overflow-y-auto relative z-10 w-full",children:[jsxRuntimeExports.jsxs("div",{className:"lg:hidden sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-gray-100 px-4 py-3 flex flex-col gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Artist Directory"}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:[Qe.length," artists"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative group flex-1",children:[jsxRuntimeExports.jsx(FiSearch,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:Ce,onChange:ns=>Te(ns.target.value),className:"w-full pl-9 pr-3 py-2 text-sm rounded-lg bg-gray-50 border border-gray-100 focus:border-[#891737] focus:ring-2 focus:ring-[#891737]/10 outline-none"})]}),jsxRuntimeExports.jsxs("div",{className:"relative w-40",children:[jsxRuntimeExports.jsx("select",{value:De,onChange:ns=>{Me(ns.target.value),Be(null)},className:"w-full appearance-none bg-gray-50 border border-gray-100 text-gray-700 py-2 pl-3 pr-8 rounded-lg text-sm focus:outline-none focus:border-[#891737] font-medium",children:qe.map(ns=>jsxRuntimeExports.jsx("option",{value:ns,children:ns},ns))}),jsxRuntimeExports.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-400",children:jsxRuntimeExports.jsx(FiChevronDown,{className:"w-4 h-4"})})]})]})]}),jsxRuntimeExports.jsx("div",{className:"p-6 md:p-8 max-w-7xl mx-auto min-h-full",children:Oe?jsxRuntimeExports.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-500 relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Be(null),className:"mb-6 flex items-center gap-2 text-sm font-medium text-gray-500 hover:text-[#891737] transition-colors group px-4 py-2 rounded-lg hover:bg-white/80 border border-transparent hover:border-gray-100",children:[jsxRuntimeExports.jsx(FiArrowLeft,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to List"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-white border border-gray-100 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"h-32 md:h-48 bg-gray-900 relative",children:[jsxRuntimeExports.jsx("img",{src:"/newBannerArtist.jpg",alt:"Banner",className:"w-full h-full object-cover opacity-50"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"})]}),jsxRuntimeExports.jsx("div",{className:"px-6 pb-6 md:px-8 md:pb-8 relative",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start md:items-end -mt-12 md:-mt-16",children:[jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-2xl border-4 border-white shadow-lg bg-gray-100 overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:Oe.image||"https://via.placeholder.com/300",alt:Oe.fullName,className:"w-full h-full object-cover"})})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 space-y-2 mt-2 md:mt-0",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 truncate",children:Oe.fullName}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsx("span",{className:"bg-[#891737] text-white px-3 py-1 rounded-full text-xs font-semibold",children:Ge(Oe).split(",")[0]}),Oe.district&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-xs font-semibold",children:[jsxRuntimeExports.jsx(FiMapPin,{className:"w-3 h-3"})," ",Oe.district]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2 pt-4 md:pt-0",children:[{link:Oe.imdbLink,icon:FaImdb,color:"text-yellow-600 bg-yellow-50"},{link:Oe.instagram,icon:FaInstagram,color:"text-rose-600 bg-rose-50"},{link:Oe.facebook,icon:FaFacebookF,color:"text-blue-600 bg-blue-50"},{link:Oe.twitter,icon:FaTwitter,color:"text-blue-400 bg-blue-50"},{link:Oe.linkedIn,icon:FaLinkedinIn,color:"text-blue-700 bg-blue-50"}].map((ns,Ye)=>ns.link?jsxRuntimeExports.jsx("a",{href:ns.link,target:"_blank",rel:"noopener noreferrer",className:`p-2.5 rounded-xl transition-all hover:scale-110 ${ns.color}`,children:jsxRuntimeExports.jsx(ns.icon,{size:16})},Ye):null)})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold tracking-wider mb-1",children:"Email"}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900 truncate text-sm",title:Oe.emailId||Oe.email,children:Oe.emailId||Oe.email||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold tracking-wider mb-1",children:"Phone"}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:Oe.phoneNumber||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold tracking-wider mb-1",children:"Gender"}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:Oe.gender||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold tracking-wider mb-1",children:"Age"}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:Je(Oe.dob)})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"xl:col-span-8 space-y-6",children:[jsxRuntimeExports.jsx(AboutMeCard,{artist:Oe,readOnly:!0}),jsxRuntimeExports.jsx(ExperienceCard,{artist:Oe,readOnly:!0}),jsxRuntimeExports.jsx(GalleryCard,{artist:Oe,readOnly:!0})]}),jsxRuntimeExports.jsxs("div",{className:"xl:col-span-4 space-y-6",children:[jsxRuntimeExports.jsx(VideoLinksCard,{artist:Oe,readOnly:!0}),jsxRuntimeExports.jsx(BioDataCard,{artist:Oe,readOnly:!0}),jsxRuntimeExports.jsx(SocialMediaCard,{artist:Oe,readOnly:!0})]})]}),jsxRuntimeExports.jsx(Disclaimer$1,{})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-8 pb-4 border-b border-gray-100",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-700 tracking-tight leading-none mb-2",children:"Artist Directory"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:"Official BSFDFC Talent Registry"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 md:mt-0 text-right",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-bold text-[#891737] uppercase tracking-wide",children:De==="All"?"All Categories":De}),jsxRuntimeExports.jsxs("p",{className:"text-[10px] text-gray-400 font-medium",children:[Qe.length," Result",Qe.length!==1?"s":""," ","Found"]})]})]}),ze?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 border-[3px] border-[#891737]/10 border-t-[#891737] rounded-full animate-spin"}),jsxRuntimeExports.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Loading Artists..."})]}):Qe.length===0?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center animate-in fade-in zoom-in-95 duration-500 bg-white/50 rounded-3xl border border-gray-100/50",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mb-4 border border-gray-100",children:jsxRuntimeExports.jsx(FiUser,{className:"text-2xl text-gray-300"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"No artists found"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 max-w-xs mx-auto",children:"Try adjusting your search or category filter."})]}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:Qe.map((ns,Ye)=>jsxRuntimeExports.jsx("div",{onClick:()=>Be(ns),className:"group relative bg-white rounded-2xl overflow-hidden transition-all duration-300 hover:-translate-y-1 cursor-pointer shadow-sm hover:shadow-xl border border-gray-100 hover:border-[#891737]/20",children:jsxRuntimeExports.jsxs("div",{className:"aspect-[3/4] overflow-hidden relative bg-gray-100",children:[jsxRuntimeExports.jsx("img",{src:ns.image||"https://via.placeholder.com/400x533",alt:ns.fullName,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-x-0 bottom-0 h-2/3 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-90"}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 transform translate-y-1 group-hover:translate-y-0 transition-transform duration-300",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm md:text-base font-bold text-white mb-0.5 leading-tight truncate",children:ns.fullName}),jsxRuntimeExports.jsx("p",{className:"text-[10px] md:text-xs text-gray-300 font-medium  uppercase tracking-wide truncate",children:[...(ns.professions||[]).map(rs=>rs.name||rs),...(ns.specializations||[]).map(rs=>rs.name||rs)].join(", ")||"Artist"})]})]})},ns.id||Ye))}),jsxRuntimeExports.jsx(Disclaimer$1,{})]})})]})]})},Disclaimer=()=>jsxRuntimeExports.jsx("div",{className:"pt-8 pb-4",children:jsxRuntimeExports.jsx("div",{className:"bg-gray-50 border border-gray-100 rounded-2xl p-6",children:jsxRuntimeExports.jsxs("p",{className:"text-[10px] leading-relaxed text-gray-400 font-medium text-center italic",children:[jsxRuntimeExports.jsx("span",{className:"font-bold text-gray-500 uppercase tracking-widest not-italic mr-1",children:"Disclaimer:"}),"The information and data displayed on this portal are provided solely by the respective individuals/applicants. The Department makes no representations or warranties regarding the accuracy, completeness, or reliability of the submitted information and shall not be held responsible or liable for any errors, omissions, or claims arising from its use."]})})}),Security=({onClose:Re})=>{const[e,Ee]=reactExports.useState([]),[Ce,Te]=reactExports.useState(""),[De,Me]=reactExports.useState("All"),[Oe,Be]=reactExports.useState(null),[ze,Ve]=reactExports.useState(!0),qe="https://film.bihar.gov.in/api/vendor/securityvendors",We=["Story Writer","Screenplay Writer","Dialogue Writer","Voice Over Writer","Director of Photography (DOP)","Camera Assistant","Lighting Assistant","Light Man","Sound Designer","Sound Recordist","Effects & Foley Artist","Sound Mixing Master (RR)","Editor","Editing Assistant","Production Designer","Art Director","Art Director Assistant","Costume Designer","Dress Man","Make Up Man","Make Up Assistant","Hair Stylist","Wig Maker","DI Colourist","Director","Assistant Director","Casting Director","Line Producer","Production Manager","Production Assistant","Spot Boys","Animation-Graphic & Special Effect Artist","Still Photographer","BTS Maker","Action Director(Fight Master)","Fighter",""];reactExports.useEffect(()=>{(async()=>{try{Ve(!0);const[rs,ts]=await Promise.all([fetch(qe).then(is=>is.json()),api.get("/api/artist/verifiedartists")]);let Xe=[];if(rs.success&&Array.isArray(rs.data)&&(Xe=[...rs.data.map(os=>({...os,id:os.id||`sec_${Math.random()}`,fullName:os.vendorName,professions:os.category?[{name:os.category}]:[],image:os.logoUrl||os.image,isSecurityProvider:!0}))]),ts.data.success){const is=ts.data.data.map(hs=>({...hs,emailId:hs.emailId||hs.email,isVerifiedSource:!0})),os=new Set(Xe.map(hs=>hs.id));is.forEach(hs=>{os.has(hs.id)||Xe.push(hs)})}Ee(Xe)}catch(rs){console.error("Error fetching data:",rs)}finally{Ve(!1)}})()},[]);const Ge=Ye=>{try{let rs=[];return typeof Ye.experiences=="string"?rs=JSON.parse(Ye.experiences):rs=Ye.experiences||[],rs.map(ts=>({...ts,role:ts.role||ts.roleInFilm}))}catch{return[]}},Je=Ye=>{if(Ye.isSecurityProvider&&Ye.category)return Ye.category;if(Ye.professions&&Array.isArray(Ye.professions)&&Ye.professions.length>0)return Ye.professions.map(ts=>typeof ts=="object"&&ts.name||ts).join(", ");if(Ye.specializations&&Array.isArray(Ye.specializations)&&Ye.specializations.length>0)return Ye.specializations.map(ts=>typeof ts=="object"&&ts.name||ts).join(", ");const rs=Ge(Ye);return rs.length>0?rs[0].role||rs[0].roleInFilm||"Artist":"Security Profile"},Qe=Ye=>{if(!Ye)return"N/A";const rs=new Date(Ye),ts=new Date;let Xe=ts.getFullYear()-rs.getFullYear();const is=ts.getMonth()-rs.getMonth();return(is<0||is===0&&ts.getDate()<rs.getDate())&&Xe--,Xe+" Years"},ns=e.filter(Ye=>{const rs=hs=>{if(!hs)return!1;const fs=typeof hs=="string"?hs:hs.name;return We.some(xs=>xs.toLowerCase()===fs.toLowerCase())};if(!(Ye.isSecurityProvider||Ye.professions&&Ye.professions.some(rs)||Ye.specializations&&Ye.specializations.some(rs)||Ge(Ye).some(hs=>rs(hs.role)||rs(hs.roleInFilm))))return!1;const Xe=Ye.fullName&&Ye.fullName.toLowerCase().includes(Ce.toLowerCase());if(De==="All")return Xe;const is=hs=>{if(!hs)return!1;const fs=typeof hs=="string"?hs:hs.name;return fs&&fs.toLowerCase()===De.toLowerCase()},os=Ye.isSecurityProvider&&Ye.category&&Ye.category.toLowerCase()===De.toLowerCase()||Ye.professions&&Ye.professions.some(is)||Ye.specializations&&Ye.specializations.some(is)||Ge(Ye).some(hs=>is(hs.role)||is(hs.roleInFilm));return Xe&&os});return jsxRuntimeExports.jsxs("div",{className:"w-full min-h-screen flex bg-[#FDFCFD] relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-[-10%] right-[-10%] w-[40%] h-[40%] bg-[#891737]/5 rounded-full blur-[120px] pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-[-10%] left-[-10%] w-[30%] h-[30%] bg-[#891737]/3 rounded-full blur-[100px] pointer-events-none"}),jsxRuntimeExports.jsx("button",{onClick:Re,className:"absolute top-4 right-4 z-[60] p-2 bg-white/90 backdrop-blur-md rounded-full text-gray-400 hover:text-[#891737] hover:bg-[#891737]/5 transition-all shadow-sm border border-gray-100/50",title:"Close Directory",children:jsxRuntimeExports.jsx(FiX,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"w-72 border-r border-gray-100 bg-white/50 backdrop-blur-xl h-screen sticky top-0 flex flex-col z-40 hidden lg:flex",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-gray-100/50",children:jsxRuntimeExports.jsxs("div",{className:"relative group w-full",children:[jsxRuntimeExports.jsx(FiSearch,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-[#891737] transition-colors w-4 h-4"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search technician...",value:Ce,onChange:Ye=>Te(Ye.target.value),className:"w-full placeholder:text-gray-400 pl-9 pr-3 py-2 text-xs rounded-lg bg-gray-50 border border-gray-100 focus:bg-white focus:border-[#891737] focus:ring-2 focus:ring-[#891737]/5 transition-all outline-none"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-3 space-y-0.5 custom-scrollbar",children:[jsxRuntimeExports.jsx("h3",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider px-2 mb-2",children:"Categories"}),jsxRuntimeExports.jsxs("button",{onClick:()=>{Me("All"),Be(null)},className:`w-full text-left px-3 py-2 rounded-md text-xs font-medium transition-all duration-200 flex items-center justify-between group ${De==="All"?"bg-[#891737] text-white shadow-sm":"text-gray-600 hover:bg-white hover:shadow-sm"}`,children:[jsxRuntimeExports.jsx("span",{children:"All Categories"}),De==="All"&&jsxRuntimeExports.jsx("div",{className:"w-1 h-1 rounded-full bg-white"})]}),We.map(Ye=>jsxRuntimeExports.jsxs("button",{onClick:()=>{Me(Ye),Be(null)},className:`w-full text-left px-3 py-2 rounded-md text-xs font-medium transition-all duration-200 flex items-center justify-between group ${De===Ye?"bg-[#891737] text-white shadow-sm":"text-gray-600 hover:bg-white hover:shadow-sm"}`,children:[jsxRuntimeExports.jsx("span",{children:Ye}),De===Ye&&jsxRuntimeExports.jsx("div",{className:"w-1 h-1 rounded-full bg-white"})]},Ye))]}),jsxRuntimeExports.jsx("div",{className:"p-3 border-t border-gray-100/50 text-center",children:jsxRuntimeExports.jsxs("p",{className:"text-[10px] text-gray-400",children:[ns.length," Profiles Found"]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 h-screen overflow-y-auto relative z-10 w-full",children:[jsxRuntimeExports.jsxs("div",{className:"lg:hidden sticky top-0 z-30 bg-white/80 backdrop-blur-md border-b border-gray-100 px-4 py-3 flex flex-col gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-gray-900",children:"Local Technicians & Manpower"}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:[ns.length," profiles"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative group flex-1",children:[jsxRuntimeExports.jsx(FiSearch,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:Ce,onChange:Ye=>Te(Ye.target.value),className:"w-full pl-9 pr-3 py-2 text-sm rounded-lg bg-gray-50 border border-gray-100 focus:border-[#891737] focus:ring-2 focus:ring-[#891737]/10 outline-none"})]}),jsxRuntimeExports.jsxs("div",{className:"relative w-40",children:[jsxRuntimeExports.jsxs("select",{value:De,onChange:Ye=>{Me(Ye.target.value),Be(null)},className:"w-full appearance-none bg-gray-50 border border-gray-100 text-gray-700 py-2 pl-3 pr-8 rounded-lg text-sm focus:outline-none focus:border-[#891737] font-medium",children:[jsxRuntimeExports.jsx("option",{value:"All",children:"All Categories"}),We.map(Ye=>jsxRuntimeExports.jsx("option",{value:Ye,children:Ye},Ye))]}),jsxRuntimeExports.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-400",children:jsxRuntimeExports.jsx(FiChevronDown,{className:"w-4 h-4"})})]})]})]}),jsxRuntimeExports.jsx("div",{className:"p-6 md:p-8 max-w-7xl mx-auto min-h-full",children:Oe?jsxRuntimeExports.jsxs("div",{className:"animate-in fade-in slide-in-from-right-4 duration-500 relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Be(null),className:"mb-6 flex items-center gap-2 text-sm font-medium text-gray-500 hover:text-[#891737] transition-colors group px-4 py-2 rounded-lg hover:bg-white/80 border border-transparent hover:border-gray-100",children:[jsxRuntimeExports.jsx(FiArrowLeft,{className:"w-4 h-4 group-hover:-translate-x-1 transition-transform"}),"Back to List"]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"relative overflow-hidden rounded-3xl bg-white border border-gray-100 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"h-32 md:h-48 bg-gray-900 relative",children:[jsxRuntimeExports.jsx("img",{src:"/newBannerArtist.jpg",alt:"Banner",className:"w-full h-full object-cover opacity-50"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"})]}),jsxRuntimeExports.jsx("div",{className:"px-6 pb-6 md:px-8 md:pb-8 relative",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-6 items-start md:items-end -mt-12 md:-mt-16",children:[jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-2xl border-4 border-white shadow-lg bg-gray-100 overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:Oe.image||"https://via.placeholder.com/300",alt:Oe.fullName,className:"w-full h-full object-cover"})})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0 space-y-2 mt-2 md:mt-0",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 truncate",children:Oe.fullName}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2",children:[jsxRuntimeExports.jsx("span",{className:"bg-[#891737] text-white px-3 py-1 rounded-full text-xs font-semibold",children:Je(Oe).split(",")[0]}),!Oe.isSecurityProvider&&(Oe.professions||[]).slice(1).map((Ye,rs)=>jsxRuntimeExports.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-xs font-semibold border border-gray-200",children:Ye.name||Ye},rs)),Oe.district&&jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1 bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-xs font-semibold",children:[jsxRuntimeExports.jsx(FiMapPin,{className:"w-3 h-3"})," ",Oe.district]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-2 pt-4 md:pt-0",children:[{link:Oe.imdbLink,icon:FaImdb,color:"text-yellow-600 bg-yellow-50"},{link:Oe.instagram,icon:FaInstagram,color:"text-rose-600 bg-rose-50"},{link:Oe.facebook,icon:FaFacebookF,color:"text-blue-600 bg-blue-50"},{link:Oe.twitter,icon:FaTwitter,color:"text-blue-400 bg-blue-50"},{link:Oe.linkedIn,icon:FaLinkedinIn,color:"text-blue-700 bg-blue-50"}].map((Ye,rs)=>Ye.link?jsxRuntimeExports.jsx("a",{href:Ye.link,target:"_blank",rel:"noopener noreferrer",className:`p-2.5 rounded-xl transition-all hover:scale-110 ${Ye.color}`,children:jsxRuntimeExports.jsx(Ye.icon,{size:16})},rs):null)})]})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold tracking-wider mb-1",children:"Email"}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900 truncate text-sm",title:Oe.emailId||Oe.email,children:Oe.emailId||Oe.email||"N/A"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold tracking-wider mb-1",children:"Phone"}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:Oe.phoneNumber||"Confidential"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold tracking-wider mb-1",children:"Gender"}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:Oe.gender||"Not Specified"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 rounded-2xl border border-gray-100 shadow-sm",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold tracking-wider mb-1",children:"Age"}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900 text-sm",children:Qe(Oe.dob)})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-12 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"xl:col-span-8 space-y-6",children:Oe.isSecurityProvider?jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[jsxRuntimeExports.jsx(FiShield,{className:"text-[#891737]"}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Security Service Details"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Category"}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-gray-900",children:Oe.category})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 bg-gray-50 rounded-xl",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mb-1",children:"Status"}),jsxRuntimeExports.jsx("p",{className:"font-semibold text-green-600",children:"Verified Vendor"})]})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AboutMeCard,{artist:Oe,readOnly:!0}),jsxRuntimeExports.jsx(ExperienceCard,{artist:Oe,readOnly:!0}),jsxRuntimeExports.jsx(GalleryCard,{artist:Oe,readOnly:!0})]})}),jsxRuntimeExports.jsx("div",{className:"xl:col-span-4 space-y-6",children:!Oe.isSecurityProvider&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(VideoLinksCard,{artist:Oe,readOnly:!0}),jsxRuntimeExports.jsx(BioDataCard,{artist:Oe,readOnly:!0}),jsxRuntimeExports.jsx(SocialMediaCard,{artist:Oe,readOnly:!0})]})})]}),jsxRuntimeExports.jsx(Disclaimer,{})]})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between mb-8 pb-4 border-b border-gray-100",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-700 tracking-tight leading-none mb-2",children:"Local Technicians & Manpower"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:"Official BSFDFC Registry"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 md:mt-0 text-right pr-10 md:pr-0",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-bold text-[#891737] uppercase tracking-wide",children:De==="All"?"All Categories":De}),jsxRuntimeExports.jsxs("p",{className:"text-[10px] text-gray-400 font-medium",children:[ns.length," Result",ns.length!==1?"s":""," ","Found"]})]})]}),ze?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center min-h-[50vh] space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 border-[3px] border-[#891737]/10 border-t-[#891737] rounded-full animate-spin"}),jsxRuntimeExports.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Curating Directory..."})]}):ns.length===0?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center animate-in fade-in zoom-in-95 duration-500 bg-white/50 rounded-3xl border border-gray-100/50",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-full flex items-center justify-center mb-4 border border-gray-100",children:jsxRuntimeExports.jsx(FiShield,{className:"text-2xl text-gray-300"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"No Records Found"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 max-w-xs mx-auto leading-relaxed",children:"There are currently no registered technicians or security providers available in this category. Please check back later for updates."})]}):jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4 md:gap-6",children:ns.map((Ye,rs)=>jsxRuntimeExports.jsx("div",{onClick:()=>Be(Ye),className:"group relative bg-white rounded-2xl overflow-hidden transition-all duration-300 hover:-translate-y-1 cursor-pointer shadow-sm hover:shadow-xl border border-gray-100 hover:border-[#891737]/20",children:jsxRuntimeExports.jsxs("div",{className:"aspect-[3/4] overflow-hidden relative bg-gray-100",children:[jsxRuntimeExports.jsx("img",{src:Ye.image||"https://via.placeholder.com/400x533",alt:Ye.fullName,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-x-0 bottom-0 h-2/3 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-90"}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 transform translate-y-1 group-hover:translate-y-0 transition-transform duration-300",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm md:text-base font-bold text-white mb-0.5 leading-tight truncate",children:Ye.fullName}),jsxRuntimeExports.jsx("p",{className:"text-[10px] md:text-xs text-gray-300 font-medium  uppercase tracking-wide truncate",children:Je(Ye)})]})]})},Ye.id||rs))}),jsxRuntimeExports.jsx(Disclaimer,{})]})})]}),jsxRuntimeExports.jsx("style",{jsx:!0,global:!0,children:`
        .custom-scrollbar::-webkit-scrollbar {
          width: 5px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
          background: transparent;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
          background: #e5e7eb;
          border-radius: 20px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
          background: #d1d5db;
        }
      `})]})};function Cinemaecosystem(){const[Re,e]=reactExports.useState(null),Ee=useLocation(),Ce=reactExports.useRef(!1);reactExports.useEffect(()=>(Re?document.body.classList.add("overflow-hidden"):document.body.classList.remove("overflow-hidden"),()=>document.body.classList.remove("overflow-hidden")),[Re]),reactExports.useEffect(()=>{const Oe=Ee&&Ee.state&&Ee.state.openPopup;if(Oe&&!Ce.current){const Be=setTimeout(()=>{e(Oe)},300);Ce.current=!0;try{window.history.replaceState(null,document.title,window.location.pathname)}catch{}return()=>clearTimeout(Be)}},[Ee]);const Te=Oe=>{e(Oe)},De=()=>{e(null),Ce.current=!1},Me=Oe=>{Oe.target===Oe.currentTarget&&De()};return jsxRuntimeExports.jsxs("div",{id:"Cinemaecosystem",className:"relative pt-12 bg-[#190108] overflow-hidden px-4 sm:px-8 md:px-16 lg:px-24 xl:px-32 pb-18",children:[jsxRuntimeExports.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-5 bg-center bg-contain bg-no-repeat",style:{backgroundImage:"url(/doodles.png)",backgroundSize:"cover",backgroundPosition:"center",filter:"blur(1.5px)",maskImage:"radial-gradient(circle at center, black 45%, transparent 100%)",WebkitMaskImage:"radial-gradient(circle at center, black 45%, transparent 100%)"}}),jsxRuntimeExports.jsxs("div",{className:"text-center text-white max-w-3xl mx-auto",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl md:text-7xl tapestry-regular mb-4",children:"Cinema Ecosystem"}),jsxRuntimeExports.jsx("p",{className:"text-base md:text-lg text-gray-300",children:"Explore the vibrant ecosystem that supports filmmaking from props and production assets to local artists and technician. Each element plays a crucial role in shaping authentic cinematic experiences."})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:.8,scale:.95},whileInView:{opacity:1,scale:1,transition:{duration:1.5,ease:"easeInOut",type:"tween"}},exit:{opacity:0,y:20,transition:{duration:.8,ease:"easeInOut",type:"tween"}},viewport:{amount:.3},className:`
          flex
          flex-col items-stretch
          md:flex-row md:justify-center md:items-stretch
          gap-6 sm:gap-8 lg:gap-10
          pt-10 pb-14
          md:mx-auto md:max-w-6xl xl:max-w-7xl
        `,children:[jsxRuntimeExports.jsx("div",{className:"w-full md:basis-1/3 md:max-w-[32%]",children:jsxRuntimeExports.jsx(CardWithText,{imageUrl:"/vendor2.png",title:"Production Assets",description:"Access a comprehensive inventory of props and production equipment tailored for diverse cinematic requirements.",onClick:()=>Te("map")})}),jsxRuntimeExports.jsx("div",{className:"w-full md:basis-1/3 md:max-w-[32%]",children:jsxRuntimeExports.jsx(CardWithText,{imageUrl:"/localArtist.png",title:"Local Artists",description:"Connect with a pool of talented local actors, singers, music and dance artists to bring authentic regional flavour to your productions.",onClick:()=>Te("localArtist")})}),jsxRuntimeExports.jsx("div",{className:"w-full md:basis-1/3 md:max-w-[32%]",children:jsxRuntimeExports.jsx(CardWithText,{imageUrl:"/securityEcosystem.png",title:"Local Technicians & Manpower",description:"Ensure a secure filming environment with professional safety services and on-location security management.",onClick:()=>Te("security")})})]}),Re&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60  flex items-center justify-center z-50 p-4",onClick:Me,children:jsxRuntimeExports.jsx("div",{className:"relative bg-gray-900 rounded-2xl border border-gray-700 shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden",children:jsxRuntimeExports.jsxs("div",{className:"h-full overflow-hidden",onClick:Oe=>Oe.stopPropagation(),children:[Re==="map"&&jsxRuntimeExports.jsx(ProductionAssets,{onClose:De}),Re==="localArtist"&&jsxRuntimeExports.jsx(LocalArtist,{onClose:De}),Re==="security"&&jsxRuntimeExports.jsx(Security,{onClose:De})]})})})]})}function CiCoffeeCup(Re){return GenIcon({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Coffee_Cup"},child:[{tag:"path",attr:{d:"M18.79,5.67a1.5,1.5,0,0,0-1.16-1.46l-.38-1.38a1.081,1.081,0,0,0-1.05-.76H7.79a1.06,1.06,0,0,0-1.04.76L6.37,4.21A1.537,1.537,0,0,0,5.21,5.76,1.476,1.476,0,0,0,6.27,7.18l.1,2.77a.75.75,0,0,0-.42.22.768.768,0,0,0-.21.56l.24,5.76a.759.759,0,0,0,.65.72l.08,2.22a2.579,2.579,0,0,0,2.59,2.5h5.39a2.581,2.581,0,0,0,2.6-2.5l.08-2.22a.76.76,0,0,0,.64-.72l.24-5.76a.768.768,0,0,0-.21-.56.72.72,0,0,0-.41-.22l.1-2.77A1.534,1.534,0,0,0,18.79,5.67Zm-11-2.6,8.49.03.3,1.07H7.44Zm8.5,16.33a1.578,1.578,0,0,1-1.6,1.53H9.3A1.575,1.575,0,0,1,7.71,19.4l-.08-2.18h8.74ZM9.9,13.58a2.1,2.1,0,1,1,2.1,2.1A2.1,2.1,0,0,1,9.9,13.58Zm6.73-3.65H7.37l-.1-2.67h9.45Zm.66-3.67H6.71a.522.522,0,0,1-.5-.59.5.5,0,0,1,.5-.5H17.29a.528.528,0,0,1,.5.59A.5.5,0,0,1,17.29,6.26Z"},child:[]}]}]})(Re)}function CiLocationOn(Re){return GenIcon({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Location_On"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M12,21.933a1.715,1.715,0,0,1-1.384-.691L5.555,14.5a7.894,7.894,0,1,1,12.885-.009L13.385,21.24A1.717,1.717,0,0,1,12,21.933ZM11.992,3.066A6.81,6.81,0,0,0,7.414,4.815a6.891,6.891,0,0,0-1.05,9.1l5.051,6.727a.725.725,0,0,0,.584.292h0a.732.732,0,0,0,.586-.292l5.044-6.734A6.874,6.874,0,0,0,12.81,3.113,7.277,7.277,0,0,0,11.992,3.066Z"},child:[]},{tag:"path",attr:{d:"M12,12.5A2.5,2.5,0,1,1,14.5,10,2.5,2.5,0,0,1,12,12.5Zm0-4A1.5,1.5,0,1,0,13.5,10,1.5,1.5,0,0,0,12,8.5Z"},child:[]}]}]}]})(Re)}function CiMail(Re){return GenIcon({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Mail"},child:[{tag:"path",attr:{d:"M19.435,4.065H4.565a2.5,2.5,0,0,0-2.5,2.5v10.87a2.5,2.5,0,0,0,2.5,2.5h14.87a2.5,2.5,0,0,0,2.5-2.5V6.565A2.5,2.5,0,0,0,19.435,4.065Zm-14.87,1h14.87a1.489,1.489,0,0,1,1.49,1.39c-2.47,1.32-4.95,2.63-7.43,3.95a6.172,6.172,0,0,1-1.06.53,2.083,2.083,0,0,1-1.67-.39c-1.42-.75-2.84-1.51-4.25-2.26-1.14-.6-2.3-1.21-3.44-1.82A1.491,1.491,0,0,1,4.565,5.065Zm16.37,12.37a1.5,1.5,0,0,1-1.5,1.5H4.565a1.5,1.5,0,0,1-1.5-1.5V7.6c2.36,1.24,4.71,2.5,7.07,3.75a5.622,5.622,0,0,0,1.35.6,2.872,2.872,0,0,0,2-.41c1.45-.76,2.89-1.53,4.34-2.29,1.04-.56,2.07-1.1,3.11-1.65Z"},child:[]}]}]})(Re)}function CiPhone(Re){return GenIcon({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Phone"},child:[{tag:"path",attr:{d:"M14.436,20.938A11.384,11.384,0,0,1,4.572,3.9a1.668,1.668,0,0,1,1.241-.822,1.716,1.716,0,0,1,1.454.492l3.139,3.14a1.715,1.715,0,0,1,0,2.427l-.295.3a1.937,1.937,0,0,0,0,2.736l1.72,1.721a1.983,1.983,0,0,0,2.736,0l.29-.29a1.719,1.719,0,0,1,2.428,0l3.139,3.139a1.724,1.724,0,0,1,.492,1.455,1.669,1.669,0,0,1-.822,1.239A11.327,11.327,0,0,1,14.436,20.938ZM6.042,4.063a.793.793,0,0,0-.1.006.673.673,0,0,0-.5.331A10.375,10.375,0,0,0,19.594,18.567a.674.674,0,0,0,.331-.5.734.734,0,0,0-.208-.618l-3.139-3.139a.717.717,0,0,0-1.014,0l-.29.29a3.006,3.006,0,0,1-4.15,0L9.4,12.876a2.939,2.939,0,0,1,0-4.149l.3-.3a.717.717,0,0,0,0-1.014L6.56,4.277A.729.729,0,0,0,6.042,4.063Z"},child:[]}]}]})(Re)}function RiContractFill(Re){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M16 2H4C3.44772 2 3 2.44772 3 3V21C3 21.5523 3.44772 22 4 22H12.2547C11.4638 20.8662 11 19.4872 11 18C11 14.134 14.134 11 18 11C19.0736 11 20.0907 11.2417 21 11.6736V7L16 2ZM13.7857 15.3269C13.8246 14.5997 14.3858 14.0083 15.11 13.9313L15.9807 13.8389C16.0841 13.8279 16.1815 13.7845 16.2589 13.715L16.9102 13.1299C17.4519 12.6431 18.2669 12.6218 18.8334 13.0795L19.5145 13.6298C19.5954 13.6951 19.6949 13.7333 19.7988 13.7389L20.6731 13.7857C21.4003 13.8246 21.9917 14.3858 22.0687 15.11L22.1611 15.9807C22.1721 16.0841 22.2155 16.1815 22.285 16.2589L22.8701 16.9102C23.3569 17.4519 23.3782 18.2669 22.9205 18.8334L22.3702 19.5145C22.3049 19.5954 22.2667 19.6949 22.2611 19.7988L22.2143 20.6731C22.1754 21.4003 21.6142 21.9917 20.89 22.0687L20.0193 22.1611C19.9159 22.1721 19.8185 22.2155 19.7411 22.285L19.0898 22.8701C18.5481 23.3569 17.7331 23.3782 17.1666 22.9205L16.4855 22.3702C16.4046 22.3049 16.3051 22.2667 16.2012 22.2611L15.3269 22.2143C14.5997 22.1754 14.0083 21.6142 13.9313 20.89L13.8389 20.0193C13.8279 19.9159 13.7845 19.8185 13.715 19.7411L13.1299 19.0898C12.6431 18.5481 12.6218 17.733 13.0795 17.1666L13.6298 16.4855C13.6951 16.4046 13.7333 16.3051 13.7389 16.2012L13.7857 15.3269ZM21.0303 17.0303L19.9697 15.9697L17.5 18.4393L16.0303 16.9697L14.9697 18.0303L16.9697 20.0303L17.5 20.5607L18.0303 20.0303L21.0303 17.0303Z"},child:[]}]})(Re)}function RiFileExcel2Fill(Re){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M2.85858 2.87732L15.4293 1.0815C15.7027 1.04245 15.9559 1.2324 15.995 1.50577C15.9983 1.52919 16 1.55282 16 1.57648V22.4235C16 22.6996 15.7761 22.9235 15.5 22.9235C15.4763 22.9235 15.4527 22.9218 15.4293 22.9184L2.85858 21.1226C2.36593 21.0522 2 20.6303 2 20.1327V3.86727C2 3.36962 2.36593 2.9477 2.85858 2.87732ZM17 2.99997H21C21.5523 2.99997 22 3.44769 22 3.99997V20C22 20.5523 21.5523 21 21 21H17V2.99997ZM10.2 12L13 7.99997H10.6L9 10.2857L7.39999 7.99997H5L7.8 12L5 16H7.39999L9 13.7143L10.6 16H13L10.2 12Z"},child:[]}]})(Re)}function RiFilmAiFill(Re){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M20.4668 8.69379L20.7134 8.12811C21.1529 7.11947 21.9445 6.31641 22.9323 5.87708L23.6919 5.53922C24.1027 5.35653 24.1027 4.75881 23.6919 4.57612L22.9748 4.25714C21.9616 3.80651 21.1558 2.97373 20.7238 1.93083L20.4706 1.31953C20.2942 0.893489 19.7058 0.893489 19.5293 1.31953L19.2761 1.93083C18.8442 2.97373 18.0384 3.80651 17.0252 4.25714L16.308 4.57612C15.8973 4.75881 15.8973 5.35653 16.308 5.53922L17.0677 5.87708C18.0555 6.31641 18.8471 7.11947 19.2866 8.12811L19.5331 8.69379C19.7136 9.10792 20.2864 9.10792 20.4668 8.69379ZM20 11C20.7013 11 21.3744 10.8797 22 10.6586V20.0066C22 20.5552 21.5447 21 21.0082 21H2.9918C2.44405 21 2 20.5551 2 20.0066V3.9934C2 3.44476 2.45531 3 2.9918 3H14.3414C14.1203 3.62556 14 4.29873 14 5C14 8.31371 16.6863 11 20 11ZM4 5V7H6V5H4ZM4 9V11H6V9H4ZM4 13V15H6V13H4ZM18 13V15H20V13H18ZM4 17V19H6V17H4ZM18 17V19H20V17H18Z"},child:[]}]})(Re)}function RiMovie2Line(Re){return GenIcon({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M12 20H20V22H12C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 14.2512 21.2561 16.3287 20.0007 18H17.2916C18.9525 16.5341 20 14.3894 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM12 10C10.8954 10 10 9.10457 10 8C10 6.89543 10.8954 6 12 6C13.1046 6 14 6.89543 14 8C14 9.10457 13.1046 10 12 10ZM8 14C6.89543 14 6 13.1046 6 12C6 10.8954 6.89543 10 8 10C9.10457 10 10 10.8954 10 12C10 13.1046 9.10457 14 8 14ZM16 14C14.8954 14 14 13.1046 14 12C14 10.8954 14.8954 10 16 10C17.1046 10 18 10.8954 18 12C18 13.1046 17.1046 14 16 14ZM12 18C10.8954 18 10 17.1046 10 16C10 14.8954 10.8954 14 12 14C13.1046 14 14 14.8954 14 16C14 17.1046 13.1046 18 12 18Z"},child:[]}]})(Re)}const FilmClubUI=()=>{const Re=useNavigate(),e=[{title:"Coffee With Film",description:"Think critically to improve young people's imagination and creativity skills through cinematic discussions.",icon:jsxRuntimeExports.jsx(CiCoffeeCup,{className:"text-white text-3xl"}),slug:"coffee-with-film"},{title:"Cine Samvad",description:"Explore engaging content and the vibrant film industry of Bihar through interactive sessions.",icon:jsxRuntimeExports.jsx(RiFilmAiFill,{className:"text-white text-3xl"}),slug:"cine-samvad"},{title:"Cine Activites",description:"Engage in detailed movie discussions with presentations, embedded clips, and interactive worksheets.",icon:jsxRuntimeExports.jsx(RiMovie2Line,{className:"text-white text-3xl"}),slug:"cineactivities"}];return jsxRuntimeExports.jsxs("div",{id:"FilmClubUI",className:"relative w-full min-h-screen bg-[#190108] flex flex-col items-center justify-start md:justify-center px-4 py-20 md:py-8 overflow-y-auto md:overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 z-0",children:[jsxRuntimeExports.jsx("video",{className:"absolute top-0 left-0 w-full h-full object-cover",src:"/Filmclub.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[#190108]/70 backdrop-blur-[1px]"})]}),jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"relative z-10 text-center text-white max-w-3xl mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl great-vibes-regular mb-3 text-white drop-shadow-2xl",children:"FilmClub"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base text-gray-300 max-w-2xl mx-auto leading-relaxed px-4",children:"Discover, explore, and celebrate the art of cinema through immersive experiences and meaningful conversations."})]}),jsxRuntimeExports.jsx("div",{className:"relative z-10 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full max-w-6xl px-4",children:e.map((Ee,Ce)=>jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:Ce*.1,ease:"easeOut"},whileHover:{y:-6},className:"group relative cursor-pointer",onClick:()=>Re(`/filmclub/${Ee.slug}`),children:jsxRuntimeExports.jsxs("div",{className:"relative h-[320px] overflow-hidden rounded-2xl bg-white/10 backdrop-blur-md border border-white/20 shadow-xl transition-all duration-300 group-hover:border-white/40 group-hover:shadow-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"relative h-full p-6 flex flex-col justify-between z-10",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-[#4f0419] flex items-center justify-center rounded-xl shadow-lg transition-transform duration-300 group-hover:scale-105",children:Ee.icon}),jsxRuntimeExports.jsx("div",{className:"px-2.5 py-1 rounded-full bg-white/10 border border-white/20",children:jsxRuntimeExports.jsxs("span",{className:"text-xs font-medium text-white/70",children:["0",Ce+1]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 mt-5 mb-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-white mb-2.5",children:Ee.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300 leading-relaxed",children:Ee.description})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-white/10",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-300 transition-all duration-300 group-hover:text-white",children:"Explore Program"}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center w-9 h-9 rounded-full bg-white/10 border border-white/20 transition-all duration-300 group-hover:bg-[#4f0419] group-hover:border-[#4f0419] group-hover:translate-x-1",children:jsxRuntimeExports.jsx(IoIosArrowRoundForward,{className:"text-xl text-white"})})]})]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 bg-gradient-to-r from-transparent via-white/5 to-transparent pointer-events-none"})]})},Ce))})]})};function FaLocationArrow(Re){return GenIcon({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M429.6 92.1c4.9-11.9 2.1-25.6-7-34.7s-22.8-11.9-34.7-7l-352 144c-14.2 5.8-22.2 20.8-19.3 35.8s16.1 25.8 31.4 25.8l176 0 0 176c0 15.3 10.8 28.4 25.8 31.4s30-5.1 35.8-19.3l144-352z"},child:[]}]})(Re)}const Footer=()=>{const Re=useNavigate(),e=useLocation(),Ee=()=>{e.pathname!=="/"?Re("/"):window.scrollTo({top:0,behavior:"smooth"})},Ce=(Te,De)=>{Te&&Re(Te),window.scrollTo(0,0)};return jsxRuntimeExports.jsxs("footer",{className:"relative overflow-hidden bg-[#190108] text-gray-100 border-t border-[#190108]",id:"about",children:[jsxRuntimeExports.jsx("div",{className:"pointer-events-none absolute inset-0 opacity-3 bg-center bg-contain bg-no-repeat",style:{backgroundImage:"url(/doodles.jpg)",backgroundSize:"cover",backgroundPosition:"center"}}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-10",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row lg:justify-between lg:space-x-12 space-y-8 lg:space-y-0",children:[jsxRuntimeExports.jsxs("div",{className:"lg:w-1/3",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold mb-4",children:"About BSFDFC"}),jsxRuntimeExports.jsx("p",{className:"text-sm sm:text-base leading-relaxed",children:"The Bihar State Film Development & Finance Corporation Ltd. (BSFDFC) promotes film culture and incentivizes regional cinema. Through landmark initiatives, it provides a dynamic platform for national and international filmmakers, redefining Biharâ€™s cinematic identity."})]}),jsxRuntimeExports.jsxs("div",{className:"lg:w-1/3 grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-2",children:"Quick Links"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2 text-sm",children:[{label:"Home",path:"/"},{label:"About Us",path:"/about-us"},{label:"VR Experience",path:"/vrpage"},{label:"Film Policy",path:"/document/film-policy"},{label:"Shooting Location",path:"/ShootingLocation"}].map((Te,De)=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{onClick:()=>Ce(Te.path),className:"hover:text-red-300 transition-colors text-left",children:Te.label})},De))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-2",children:"Documents"}),jsxRuntimeExports.jsx("ul",{className:"space-y-2 text-sm",children:[{label:"Notification",path:"/notification"},{label:"Tender",path:"/tender"},{label:"Bihar Bioscope",path:"/document/bihar-baiscop"},{label:"Promotion Policy",path:"/document/promotion-policy"}].map((Te,De)=>jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{onClick:()=>Ce(Te.path),className:"hover:text-red-300 transition-colors text-left",children:Te.label})},De))})]})]}),jsxRuntimeExports.jsxs("div",{className:"lg:w-1/3",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold mb-2",children:"Contact"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("a",{className:"",children:"The Bihar State Film Development & Finance Corporation Ltd."}),jsxRuntimeExports.jsx("br",{}),jsxRuntimeExports.jsxs("span",{children:["Morisson Building, Near Golghar ",jsxRuntimeExports.jsx("br",{}),"Patna-800001, Bihar, India"]})]}),jsxRuntimeExports.jsx("li",{className:"flex items-center gap-2"}),jsxRuntimeExports.jsxs("li",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(CiMail,{className:"text-lg"}),jsxRuntimeExports.jsx("span",{children:"biharfilmnigam@gmail.com"})]}),jsxRuntimeExports.jsx("li",{className:"cursor-pointer",children:jsxRuntimeExports.jsxs("a",{href:"https://maps.app.goo.gl/fyEtuxLv422Kz8s2A",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 text-red-300 hover:text-red-100 transition-colors",children:[jsxRuntimeExports.jsx(FaLocationArrow,{}),jsxRuntimeExports.jsx("span",{children:"Get Location"})]})})]})]})]})}),jsxRuntimeExports.jsx("hr",{className:"border-gray-700"}),jsxRuntimeExports.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center space-y-6 md:space-y-0",children:[jsxRuntimeExports.jsx("div",{className:"w-full md:w-1/3 flex flex-col items-start",children:jsxRuntimeExports.jsx("img",{src:Logo1,alt:"Logo",className:"h-16 w-auto cursor-pointer hover:opacity-80 transition-opacity",onClick:Ee})}),jsxRuntimeExports.jsxs("div",{className:"w-full md:w-2/3",children:[jsxRuntimeExports.jsx("h4",{className:"text-lg font-semibold mb-3",children:"Follow us"}),jsxRuntimeExports.jsxs("div",{className:"flex space-x-4 text-2xl",children:[jsxRuntimeExports.jsx("a",{href:"https://www.facebook.com/BSFDFCL/",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-blue-500 transition",children:jsxRuntimeExports.jsx(FaFacebook,{})}),jsxRuntimeExports.jsx("a",{href:"https://www.instagram.com/artcultureyouth?igsh=YWI1aG9rNGOyaTZy",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-pink-400 transition",children:jsxRuntimeExports.jsx(FaInstagram,{})}),jsxRuntimeExports.jsx("a",{href:"https://x.com/bfilmnigam",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-blue-400 transition",children:jsxRuntimeExports.jsx(FaTwitter,{})}),jsxRuntimeExports.jsx("a",{href:"https://www.youtube.com/@ArtCultureYouth",target:"_blank",rel:"noopener noreferrer",className:"text-gray-300 hover:text-red-400 transition",children:jsxRuntimeExports.jsx(FaYoutube,{})})]})]})]})})]})]})},topImages=[{src:"https://firebasestorage.googleapis.com/v0/b/gatishaktibihar.firebasestorage.app/o/startup_bihar%2FOfficers%2FACS%20Industry.jpeg?alt=media&token=48a4ed7a-4f70-4113-b59b-de5ecb9aa6c3",alt:"Leader 1",name:"Shri Mihir Kumar Singh, IAS",namee:"Director-cum-Chairman, BSFDFC",nameee:"(Development Commissioner, Government of Bihar)"},{src:"https://firebasestorage.googleapis.com/v0/b/gatishaktibihar.firebasestorage.app/o/biharfilm%2Fhome_secy.jpeg?alt=media&token=2f9b010e-0fed-4627-949d-a4779308a995",alt:"Leader 2",name:"Shri Pranav Kumar, IAS",namee:"Managing Director, BSFDFC",nameee:"Secretary (Art & Culture Department)"}],boardMembers=[{name:"Shri Mihir Kumar Singh, IAS",role:"Development Commissioner, Govt. of Bihar, & Director-cum-Chairman, Bihar State Film Development and Finance Corporation Limited",img:"https://firebasestorage.googleapis.com/v0/b/gatishaktibihar.firebasestorage.app/o/startup_bihar%2FOfficers%2FACS%20Industry.jpeg?alt=media&token=48a4ed7a-4f70-4113-b59b-de5ecb9aa6c3"},{name:"Shri Pranav Kumar, IAS",role:"Secretary, Department of Art & Culture, Govt. of Bihar & Managing Director, Bihar State Film Development and Finance Corporation Limited",img:"https://firebasestorage.googleapis.com/v0/b/gatishaktibihar.firebasestorage.app/o/biharfilm%2Fhome_secy.jpeg?alt=media&token=2f9b010e-0fed-4627-949d-a4779308a995"},{name:"Shri Kundan Kumar, IAS",role:"Secretary, Department of Industries, Govt. of Bihar & Nominee Director, Bihar State Film Development and Finance Corporation Limited",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSkiPticRwETbwqYFSc-9QSq31XbbnW7pzyxw&s"},{name:"Shri Anupam Kumar, IAS",role:"Secretary, Information and Public Relations Department, Govt. of Bihar & Nominee Director, Bihar State Film Development and Finance Corporation Limited",img:"https://www.witnessinthecorridors.com/ImgNewsPolitical/240306161437635.png"},{name:"Shri Mukesh Kumar Lal, IAAS",role:"Special Secretary, Department of Finance, Govt. of Bihar & Nominee Director, Bihar State Film Development and Finance Corporation Limited",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTEYTm34Dhbakb6IOciOhFU0pL_hU2xe6PCjA&s"}],bodyMembers=[{img:"https://firebasestorage.googleapis.com/v0/b/gatishaktibihar.firebasestorage.app/o/biharfilm%2Fgeneral_manger.jpeg?alt=media&token=d2df1145-cfd1-466b-ad41-2436c2692255",name:"Smt. Ruby, IAS",role:"General Manager, BSFDFC",description:""},{img:"https://firebasestorage.googleapis.com/v0/b/gatishaktibihar.firebasestorage.app/o/biharfilm%2Farvind-ranjan-das.jpeg?alt=media&token=3c9c7c30-d276-4d65-aacc-bbe00bc4ca9a",name:"Shri Arvind Ranjan Das",role:"Consultant(Film)",description:"0612-2219213"},{img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png",name:"V.D.Mishra",role:"Consultant (Fin. & Account)",description:"7482075777"},{img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png",name:"Sonika Kumari",role:"Assistant Section Officer",description:""},{img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png",name:"Kumar Gaurav",role:"Junior Consultant (Communication and Networking)",description:""},{img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png",name:"Leela Kumari Prasad",role:"Data Entry Operator",description:""},{img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png",name:"Amit Ranjan",role:"Data Entry Operator",description:""}],nodalOfficers=[{name:"Sri Ujjwal Kumar",role:"ADM Disaster Mgmt (Araria)",contact:"9470701828",email:"arariaddmo@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Mr. Om Prakash Kumar",role:"ADM (Arwal)",contact:"9473191477",email:"adm-arwal-bih@nic.in",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Lalit Bhushan Shanu",role:"ADM & District Public Grievance Officer (Aurangabad)",contact:"9473191262",email:"adm.rev.aurangabad@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Smt. Pratibha Kumari",role:"ADM, Departmental Enquiry (Banka)",contact:"8544423663",email:"admpgrobanka@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Rajesh Kumar Singh",role:"ADM (Begusarai)",contact:"9473191413",email:"adm.beg.bih@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Manas Kumar Jha",role:"ADM (Bhojpur)",contact:"9473191235",email:"adm.bhojpur29@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Smt. Kumari Anupam Singh",role:"ADM & District Public Grievance Officer (Buxar)",contact:"9473191240",email:"admbxr@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Paritosh Kumar",role:"ADM (Gaya)",contact:"9473191245",email:"adm.rev.gaya@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Ashish Kumar Sinha",role:"ADM (Gopalganj)",contact:"9473191279",email:"adm.gopalganj@bihar.gov.in",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Subhash Chandra Mandal",role:"ADM (Jamui)",contact:"9473191405",email:"adm.rev.jamui@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Paritosh Kumar Singh",role:"District Public Grievance Officer (Jehanabad)",contact:"8873969356",email:"dpgrojeh@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Saurabh Suman Yadav",role:"ADM (Katihar)",contact:"9473191376",email:"adm.rev.katihar@gmil.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Smt. Aarti Kumari",role:"ADM (Khagaria)",contact:"9473191421",email:"adm.rev.khagaria@gmil.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Anuj Kumar Bharti",role:"ADM & PGRO (Kishanganj)",contact:"9473191372",email:"districtrevenuekne@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Arun Kumar Singh",role:"ADM & PGRO (Madhepura)",contact:"9473191354",email:"adm.madhepura-bih@gov.in",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Shailesh Kumar",role:"ADM & PGRO (Madhubani)",contact:"9473191325",email:"adm.rev.madhubani@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Manas Kumar",role:"ADM (Munger)",contact:"9473191392",email:"admmunger.bih@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Manji Kumar",role:"ADM (Nalanda)",contact:"9473191215",email:"ac-nalanda-bih@gov.in",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Chandrashekhar Azad",role:"ADM & PGRO (Nawada)",contact:"9473191257",email:"adm.rev.nawada@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Ravi Rakesh",role:"ADM (Purnia)",contact:"9473191359",email:"adm.rev.purnia@gamil.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Chandrashekhar Prasad Singh",role:"ADM & PGRO (Rohtas)",contact:"9473191222",email:"adm.rev.rohtas@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Ajay Kumar Tiwari",role:"ADM (Samastipur)",contact:"9473191333",email:"adm-samastipur-bih@gov.in",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Shambhu Sharan Pandey",role:"ADM (Saran)",contact:"9473191268",email:"admchapra@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Sanjay Kumar",role:"ADM (Sheikhpura)",contact:"7004622556",email:"adm-she-bih@nic.in",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Krishna Kumar",role:"In-charge ADM (Sheohar)",contact:"9473191492",email:"adm-rev-shr-bih@gov.in",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Sandeep Kumar",role:"District Public Grievance Officer (Sitamarhi)",contact:"9473191289",email:"edcgensit@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Raushan Kumar Singh",role:"ADM & PGRO (Vaishali)",contact:"9473191311",email:"adm.rev.vaishali@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Javed Ahsan",role:"ADM (Siwan)",contact:"9473191274",email:"siwanadm@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Rasheed Nayeem",role:"ADM (Supaul)",contact:"9473191346",email:"adm.rev.supaul-bih@gov.in",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Amresh Kumar Amar",role:"District Revenue Officer (Kaimur)",contact:"9473191228",email:"adm.rev.bhabhua@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri K.K. Singh",role:"ADM (Law & Order) & PGRO (Patna)",contact:"6205801411",email:"khageshjhabas@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Sudhanshu Shekhar",role:"ADM & District Revenue Officer (Lakhisarai)",contact:"9473191398",email:"adm.rev.lakhisarai@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Rajeev Kumar Singh",role:"ADM (West Champaran)",contact:"9473191295",email:"adm-bettiah-bih@nic.in",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Mahadev Kumar",role:"ADM Disaster Mgmt (Bhagalpur)",contact:"7903620279",email:"sdc.aapda.bgp@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Salim Kumar Jha",role:"ADM & PGRO (Darbhanga)",contact:"9473191318",email:"admdbg@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Jyoti Kumar",role:"PGRO & ADM (Saharsa)",contact:"9473191341",email:"adm.rev.saharsa@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{name:"Sri Manas Kumar",role:"ADM Disaster Mgmt (Muzaffarpur)",contact:"9771564176",email:"dism.muz@gmail.com",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"}],districtOfficers=[{district:"Bhagalpur",officer:"ANKIT RANJAN",designation:"District Art & Culture Officer",contact:"9431020456",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Araria",officer:"SANIYAL KUMAR",designation:"District Art & Culture Officer",contact:"8434553767",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Aurangabad",officer:"KUMAR PAPPU RAJ",designation:"District Art & Culture Officer",contact:"7488153690",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Begusarai",officer:"SHYAM KUMAR SAHANI",designation:"District Art & Culture Officer",contact:"9582088060",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Bhojpur",officer:"ANUPRIYA",designation:"District Art & Culture Officer",contact:"7004260621",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Gaya",officer:"SURBHI BALA",designation:"District Art & Culture Officer",contact:"8252347604",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Gopalganj",officer:"CHANDRAMAULI KUMAR",designation:"District Art & Culture Officer",contact:"7982579634",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Katihar",officer:"KUMARI RINA GUPTA",designation:"District Art & Culture Officer",contact:"7906809506",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Sitamarhi",officer:"GHANSHYAM KUMAR",designation:"District Art & Culture Officer",contact:"9123437298",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Kishanganj",officer:"PRAHALAD KUMAR",designation:"District Art & Culture Officer",contact:"8409401938",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Madhepura",officer:"AMRAPALI KUMARI",designation:"District Art & Culture Officer",contact:"9334819118",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Munger",officer:"SUKANYA",designation:"District Art & Culture Officer",contact:"7584953429",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Nawada",officer:"PRATIBHA KUMARI",designation:"District Art & Culture Officer",contact:"9123168934",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Patna",officer:"KIRTY AALOK",designation:"District Art & Culture Officer",contact:"9576656757",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Rohtas",officer:"PANKAJ KUMAR",designation:"District Art & Culture Officer",contact:"8709664245",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Samastipur",officer:"JUHI KUMARI",designation:"District Art & Culture Officer",contact:"8448369635",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Saran",officer:"VIBHA BHARTI",designation:"District Art & Culture Officer",contact:"9031291904",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Sheikhpura",officer:"SUJEET KUMAR SUMAN",designation:"District Art & Culture Officer",contact:"9110090570",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Vaishali",officer:"SHALINI SHARMA",designation:"District Art & Culture Officer",contact:"9504437983",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"West Champaran",officer:"RAKESH KUMAR",designation:"District Art & Culture Officer",contact:"8972595783",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Muzaffarpur",officer:"SUSHMITA KUMARI",designation:"District Art & Culture Officer",contact:"7091172375",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Jehanabad",officer:"CHANDANI KUMARI",designation:"District Art & Culture Officer",contact:"9142416449",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Lakhisarai",officer:"MRINAL RANJAN",designation:"District Art & Culture Officer",contact:"9852836524",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Purnea",officer:"PANKAJ PATEL",designation:"District Art & Culture Officer",contact:"7985487243",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Siwan",officer:"RICHA VERMA",designation:"District Art & Culture Officer",contact:"9450100910",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Jamui",officer:"VIKESH KUMAR",designation:"District Art & Culture Officer",contact:"9973720710",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Banka",officer:"PRITY KUMARI",designation:"District Art & Culture Officer",contact:"7979911553",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Arwal",officer:"SUNAINA KUMARI",designation:"District Art & Culture Officer",contact:"8271163637",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Buxar",officer:"PRATIMA KUMARI",designation:"District Art & Culture Officer",contact:"7970629396",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Supaul",officer:"TARKESHWAR PATEL",designation:"District Art & Culture Officer",contact:"8092281780",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Kaimur",officer:"SUMAN SAURAV",designation:"District Art & Culture Officer",contact:"7677515231",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Darbhanga",officer:"CHANDAN KUMAR",designation:"District Art & Culture Officer",contact:"9315822497",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Nalanda",officer:"SHALINI PRAKASH",designation:"District Art & Culture Officer",contact:"8982773558",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Madhubani",officer:"NITISH KUMAR",designation:"District Art & Culture Officer",contact:"9958601845",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"Saharsa",officer:"SNEHA KUMARI",designation:"District Art & Culture Officer",contact:"7549717814",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"},{district:"East Champaran",officer:"FAHAD SIDDIQUI",designation:"District Art & Culture Officer",contact:"9660688737",img:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_1280.png"}],MemberRow=({img:Re,name:e,role:Ee,description:Ce})=>jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-[60px_1fr_1fr_1fr] items-center px-6 sm:px-10 lg:px-16 py-3 hover:bg-gray-50 transition border-b border-gray-100 last:border-0",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:Re,alt:e,className:"w-full h-full object-cover"})}),jsxRuntimeExports.jsx("p",{className:"text-gray-800 font-medium truncate pr-4",children:e}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm pr-4",children:Ee}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm truncate",children:Ce})]}),MobileMemberCard=({img:Re,name:e,role:Ee,description:Ce})=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow p-4 flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-14 h-14 rounded-full overflow-hidden flex-shrink-0",children:jsxRuntimeExports.jsx("img",{src:Re,alt:e,className:"w-full h-full object-cover"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-gray-900 font-semibold",children:e}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:Ee}),Ce&&jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm mt-1",children:Ce})]})]}),GoverningComponent=()=>{const[Re,e]=reactExports.useState("board"),Ee=[{id:"board",label:"Board of Directors"},{id:"management",label:"Management"},{id:"nodal",label:"Nodal Officers"},{id:"districts",label:"District Art and Culture Officers"}];return jsxRuntimeExports.jsxs("div",{className:"px-4 sm:px-6 lg:px-20 pt-10 pb-20 bg-[#190108] w-full rounded-tl-4xl rounded-tr-4xl -mt-10 relative z-10 overflow-x-hidden",id:"GoverningBody",children:[jsxRuntimeExports.jsx("p",{className:"text-white text-3xl sm:text-4xl md:text-7xl lg:text-8xl bebas-neue-regular pb-12 text-center sm:text-left sm:pl-12",children:"Organizational Structure"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-center gap-8 sm:gap-16 mb-12",children:topImages.map((Ce,Te)=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center text-center max-w-[240px]",children:[jsxRuntimeExports.jsx("div",{className:"bg-white w-28 h-28 sm:w-36 sm:h-36 md:w-40 md:h-40 rounded-full overflow-hidden shadow-lg hover:scale-105 transition",children:jsxRuntimeExports.jsx("img",{src:Ce.src,alt:Ce.alt,className:"w-full h-full object-cover"})}),jsxRuntimeExports.jsx("p",{className:"mt-3 text-white text-base sm:text-lg font-semibold",children:Ce.name}),jsxRuntimeExports.jsx("p",{className:"text-zinc-400 text-sm",children:Ce.namee}),Ce.nameee&&jsxRuntimeExports.jsx("p",{className:"text-zinc-400 text-sm",children:Ce.nameee})]},Te))}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-12",children:Ee.map(Ce=>jsxRuntimeExports.jsx("button",{onClick:()=>e(Ce.id),className:`px-6 py-3 rounded-lg text-sm sm:text-base font-medium transition-all duration-300 ${Re===Ce.id?"bg-[#4f0419] text-white shadow-lg scale-105":"bg-slate-700/50 text-gray-300 hover:bg-slate-600 hover:text-white"}`,children:Ce.label},Ce.id))}),jsxRuntimeExports.jsxs("div",{className:"min-h-[300px]",children:[jsxRuntimeExports.jsx("div",{className:"hidden sm:block bg-white rounded-xl shadow-md overflow-hidden",children:jsxRuntimeExports.jsxs("div",{className:"divide-y divide-gray-200",children:[Re==="board"&&boardMembers.map((Ce,Te)=>jsxRuntimeExports.jsx(MemberRow,{img:Ce.img,name:Ce.name,role:Ce.role,description:""},Te)),Re==="management"&&bodyMembers.map((Ce,Te)=>jsxRuntimeExports.jsx(MemberRow,{img:Ce.img,name:Ce.name,role:Ce.role,description:Ce.description},Te)),Re==="nodal"&&nodalOfficers.map((Ce,Te)=>jsxRuntimeExports.jsx(MemberRow,{img:Ce.img,name:Ce.name,role:Ce.role,description:`${Ce.contact} | ${Ce.email}`},Te)),Re==="districts"&&districtOfficers.map((Ce,Te)=>jsxRuntimeExports.jsx(MemberRow,{img:Ce.img,name:Ce.officer,role:`${Ce.designation}, ${Ce.district}`,description:Ce.contact},Te))]})}),jsxRuntimeExports.jsxs("div",{className:"block sm:hidden space-y-6",children:[Re==="board"&&boardMembers.map((Ce,Te)=>jsxRuntimeExports.jsx(MobileMemberCard,{img:Ce.img,name:Ce.name,role:Ce.role,description:""},Te)),Re==="management"&&bodyMembers.map((Ce,Te)=>jsxRuntimeExports.jsx(MobileMemberCard,{img:Ce.img,name:Ce.name,role:Ce.role,description:Ce.description},Te)),Re==="nodal"&&nodalOfficers.map((Ce,Te)=>jsxRuntimeExports.jsx(MobileMemberCard,{img:Ce.img,name:Ce.name,role:Ce.role,description:`${Ce.contact} | ${Ce.email}`},Te)),Re==="districts"&&districtOfficers.map((Ce,Te)=>jsxRuntimeExports.jsx(MobileMemberCard,{img:Ce.img,name:Ce.officer,role:`${Ce.designation}, ${Ce.district}`,description:Ce.contact},Te))]})]})]})},FilmSubsidyTable=()=>{const Re=[{filmNo:"1st Film",ranges:[{subsidy:"Up to â‚¹2 Crore or 25% of total film cost, whichever is lower",criteria:"Minimum 50% of total shooting days in the State"},{subsidy:"Up to â‚¹2.50 Crore or 25% of total film cost, whichever is lower",criteria:"Minimum 75% of total shooting days in the State"}]},{filmNo:"2nd Film",ranges:[{subsidy:"Up to â‚¹2.75 Crore or 25% of total film cost, whichever is lower",criteria:"Minimum 50% of total shooting days in the State"},{subsidy:"Up to â‚¹3.00 Crore or 25% of total film cost, whichever is lower",criteria:"Minimum 75% of total shooting days in the State"}]},{filmNo:"3rd Film",ranges:[{subsidy:"Up to â‚¹3.50 Crore or 25% of total film cost, whichever is lower",criteria:"Minimum 50% of total shooting days in the State"},{subsidy:"Up to â‚¹4.00 Crore or 25% of total film cost, whichever is lower",criteria:"Minimum 75% of total shooting days in the State"}]}];return jsxRuntimeExports.jsx("div",{className:"p-4 overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm text-left border border-gray-300",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-3 border",children:"Film Category"}),jsxRuntimeExports.jsx("th",{className:"p-3 border",children:"Grant / Subsidy"}),jsxRuntimeExports.jsx("th",{className:"p-3 border",children:"Criteria"})]})}),jsxRuntimeExports.jsx("tbody",{children:Re.map((e,Ee)=>e.ranges.map((Ce,Te)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50",children:[Te===0&&jsxRuntimeExports.jsx("td",{rowSpan:e.ranges.length,className:"p-3 border font-medium bg-gray-50 align-middle text-center",children:e.filmNo}),jsxRuntimeExports.jsx("td",{className:"p-3 border",children:Ce.subsidy}),jsxRuntimeExports.jsx("td",{className:"p-3 border",children:Ce.criteria})]},`${Ee}-${Te}`)))})]})})},InvestmentSubsidyTable=()=>{const Re=[{slNo:1,purpose:"For setting up infrastructure like Film Set / Film City / Theme Park / Theme Village, Film Studio for VFX, Animation, Sound Recording / Dubbing, Color Correction.",minInvestment:"200",subsidyPercent:"25%",maxSubsidy:"150"},{slNo:2,purpose:"For Film Lighting, High Resolution Camera, Sound System, Dubbing etc. for film production and processing.",minInvestment:"100",subsidyPercent:"25%",maxSubsidy:"100"},{slNo:3,purpose:"For the establishment of a fully equipped studio.",minInvestment:"50",subsidyPercent:"25%",maxSubsidy:"25"},{slNo:4,purpose:"For the establishment of Animation and Computer Graphics Center and other technical facilities etc.",minInvestment:"50",subsidyPercent:"25%",maxSubsidy:"25"}];return jsxRuntimeExports.jsx("div",{className:"p-4 overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm text-left border border-gray-300",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-3 border",children:"Sl. No."}),jsxRuntimeExports.jsx("th",{className:"p-3 border",children:"Grant Scheme"}),jsxRuntimeExports.jsx("th",{className:"p-3 border",children:"Min Project Cost (in Lakhs)"}),jsxRuntimeExports.jsx("th",{className:"p-3 border",children:"Max Incentive (%)"}),jsxRuntimeExports.jsx("th",{className:"p-3 border",children:"Max Grant Limit (in Lakhs)"})]})}),jsxRuntimeExports.jsx("tbody",{children:Re.map((e,Ee)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"p-3 border text-center",children:e.slNo}),jsxRuntimeExports.jsx("td",{className:"p-3 border",children:e.purpose}),jsxRuntimeExports.jsx("td",{className:"p-3 border text-center",children:e.minInvestment}),jsxRuntimeExports.jsx("td",{className:"p-3 border text-center",children:e.subsidyPercent}),jsxRuntimeExports.jsx("td",{className:"p-3 border text-center",children:e.maxSubsidy})]},Ee))})]})})},FilmSubsidy=()=>{const Re=[{slNo:1,subsidy:"Up to 50 Lakhs or 25% of Total Production Cost (COP), whichever is lower",criteria:"Minimum 45 days shooting inside the State"},{slNo:2,subsidy:"Up to 1 Crore or 25% of Total Production Cost (COP), whichever is lower",criteria:"Minimum 90 days shooting inside the State"}];return jsxRuntimeExports.jsx("div",{className:"p-4 overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm text-left border border-gray-300 mb-4",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-3 border",children:"Sl. No."}),jsxRuntimeExports.jsx("th",{className:"p-3 border",children:"Subsidy (Financial Assistance)"}),jsxRuntimeExports.jsx("th",{className:"p-3 border",children:"Criteria"})]})}),jsxRuntimeExports.jsx("tbody",{children:Re.map((e,Ee)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"p-3 border text-center",children:e.slNo}),jsxRuntimeExports.jsx("td",{className:"p-3 border",children:e.subsidy}),jsxRuntimeExports.jsx("td",{className:"p-3 border",children:e.criteria})]},Ee))})]})})},OTTSubsidy=()=>{const Re=[{slNo:1,subsidy:"Up to 2 Crores or 25% of Production Cost (COP)",criteria:"Minimum 50% of total shooting days or 30 days of shooting in the state"},{slNo:2,subsidy:"Up to 3 Crores or 25% of Production Cost (COP)",criteria:"Minimum 70% of total shooting days or 60 days of shooting in the state"}];return jsxRuntimeExports.jsx("div",{className:"p-4 overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full text-sm text-left border border-gray-300 mb-4",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"p-3 border",children:"Sl. No."}),jsxRuntimeExports.jsx("th",{className:"p-3 border",children:"Subsidy (Financial Assistance)"}),jsxRuntimeExports.jsx("th",{className:"p-3 border",children:"Criteria"})]})}),jsxRuntimeExports.jsx("tbody",{children:Re.map((e,Ee)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50",children:[jsxRuntimeExports.jsx("td",{className:"p-3 border text-center",children:e.slNo}),jsxRuntimeExports.jsx("td",{className:"p-3 border",children:e.subsidy}),jsxRuntimeExports.jsx("td",{className:"p-3 border",children:e.criteria})]},Ee))})]})})};function FilmPolicyNOC(){return jsxRuntimeExports.jsxs("div",{id:"FilmPolicy",className:"min-h-screen h-fit w-full bg-[#190108] px-4 sm:px-6 xl:px-16 py-10 flex flex-col items-center justify-start overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12 px-2",children:[jsxRuntimeExports.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl great-vibes-regular text-white tracking-wide leading-tight",children:"Film Policy"}),jsxRuntimeExports.jsx("p",{className:"text-gray-100 text-base sm:text-lg mt-4 max-w-3xl mx-auto px-2",children:"Discover the policies and subsidies powering Bihar's cinematic future â€” explore financial incentives and production support."}),jsxRuntimeExports.jsx("div",{className:"h-1 w-24 bg-[#a92b4e] mx-auto mt-4 rounded-full"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row gap-8 lg:gap-10 w-full max-w-7xl",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 bg-white shadow-xl rounded-2xl p-4 sm:p-6 transition hover:scale-[1.01] hover:shadow-[#a92b4e] duration-300 border-t-4 border-[#a92b4e]",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-[#891737] mb-4",children:"Film Subsidy Table"}),jsxRuntimeExports.jsx(FilmSubsidyTable,{})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 bg-white shadow-xl rounded-2xl p-4 sm:p-6 transition hover:scale-[1.01] hover:shadow-[#a92b4e] duration-300 border-t-4 border-[#a92b4e]",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl sm:text-2xl font-semibold text-[#891737] mb-4",children:"Investment Subsidy Table"}),jsxRuntimeExports.jsx(InvestmentSubsidyTable,{})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-10 w-full max-w-4xl space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-xl rounded-2xl p-4 sm:p-6 border-l-4 border-[#a92b4e] transition hover:scale-[1.01] hover:shadow-[#a92b4e] duration-300",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg sm:text-xl font-medium text-[#891737] mb-4",children:"Financial assistance for shooting of TV serials/shows in the State"}),jsxRuntimeExports.jsx(FilmSubsidy,{})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white shadow-xl rounded-2xl p-4 sm:p-6 border-l-4 border-[#a92b4e] transition hover:scale-[1.01] hover:shadow-[#a92b4e] duration-300",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg sm:text-xl font-medium text-[#891737] mb-4",children:"Financial assistance for web series to be exhibited on OTT platforms"}),jsxRuntimeExports.jsx(OTTSubsidy,{})]})]}),jsxRuntimeExports.jsx("div",{className:"w-full flex justify-center mt-12",children:jsxRuntimeExports.jsxs("button",{onClick:()=>{const Re=document.createElement("a");Re.href="/filmPolicy.pdf",Re.download="Bihar_Film_Policy.pdf",Re.click()},className:"bg-[#4f0419] hover:bg-[#891737] text-white text-base sm:text-lg font-medium px-8 py-3 rounded-full shadow-xl transition-all duration-300 hover:shadow-[#a92b4e]/50 hover:scale-105 flex items-center gap-2",children:[jsxRuntimeExports.jsx(File$2,{}),"Download Complete Bihar New Film Policy (PDF)"]})})]})}const people=[{id:1,name:"Manoj Bajpayee",occupation:"Actor",dob:"23 April 1969",district:"West Champaran",img:"https://th-i.thgim.com/public/incoming/n3k61b/article68075789.ece/alternates/FREE_1200/MANOJ-SHHHH.jpg",description:"Renowned for powerful roles in independent and commercial films.",imdb:"https://www.imdb.com/name/nm0048075/?ref_=ext_shr_lnk"},{id:2,name:"Pankaj Tripathi",occupation:"Actor",dob:"5 September 1976",district:"Gopalganj",img:"https://media.assettype.com/freepressjournal/2022-01/bdc02614-b127-4db2-a440-2f44b9f5f284/Screenshot_2022_01_25_at_5_43_01_AM.png?width=1200",description:"Famous for his versatility and natural acting style.",imdb:"https://www.imdb.com/name/nm2690647/?ref_=ext_shr_lnk"},{id:3,name:"Prakash Jha",occupation:"Producer & Actor",dob:"27 February 1952",district:"Bettiah, West Champaran",img:"https://m.media-amazon.com/images/M/MV5BMTc1NjMwNDE4Ml5BMl5BanBnXkFtZTgwODA1ODA0OTE@._V1_.jpg",description:"Renowned filmmaker known for his political and socio-political films.",imdb:"https://www.imdb.com/name/nm0422552/"},{id:4,name:"Shatrughan Sinha",occupation:"Actor",dob:"15 July 1946",district:"Patna",img:"https://sm.mashable.com/mashable_in/seo/8/88864/88864_trrd.png",description:"Veteran actor and politician, iconic in 70s-80s cinema.",imdb:"https://www.imdb.com/name/nm0802374/?ref_=ext_shr_lnk"},{id:5,name:"Sushant Singh Rajput",occupation:"Actor",dob:"21 January 1986",district:"Patna",img:"https://i.pinimg.com/736x/40/60/63/406063a5d7bf517313bf00ee5d6ab840.jpg",description:"Talented actor known for heartfelt performances.",imdb:"https://www.imdb.com/name/nm3818286/?ref_=ext_shr_lnk"},{id:6,name:"Neha Sharma",occupation:"Actress",dob:"21 November 1987",district:"Bhagalpur",img:"https://akm-img-a-in.tosshub.com/aajtak/images/video/202403/6600096b7e220-will-neha-sharma-contest-elections-from-bihar-240722280-16x9.png",description:"Actress and model with presence in films and web series.",imdb:"https://www.imdb.com/name/nm2777281/?ref_=ext_shr_lnk"},{id:7,name:"Nitu Chandra",occupation:"Actress",dob:"20 June 1984",district:"Patna",img:"https://www.filmibeat.com/wimg/desktop/2019/08/neetu-chandra_10.jpg",description:"Indian actress known for her roles in Hindi, Tamil, and Telugu cinema. ",imdb:"https://www.imdb.com/name/nm1911617/?ref_=ext_shr_lnk"},{id:8,name:"Vinay Pathak",occupation:"Actor",dob:"27 July 1968",district:"Bhojpur, Bihar ",img:"https://akm-img-a-in.tosshub.com/indiatoday/images/story/201808/Vinay_Pathak-BAN-08052018.jpeg",description:"Actor known for comedy roles in Bheja Fry and Khosla Ka Ghosla. ",imdb:"https://www.imdb.com/name/nm0665555/?ref_=ext_shr_lnk"},{id:9,name:"Imtiaz Ali",occupation:"Film Director & Writer",dob:"16 June 1971",district:"Jamshedpur (then Bihar)",img:"https://m.media-amazon.com/images/M/MV5BMTYwOTUwMTk3MF5BMl5BanBnXkFtZTgwMjA1NDEzMTE@._V1_.jpg",description:"Renowned Indian film director, producer, and writer known for his brilliant work",imdb:"https://www.imdb.com/name/nm1665004/"},{id:10,name:"Sanjay Mishra",occupation:"Actor",dob:"6 October 1963",district:"Darbhangha",img:"https://i.pinimg.com/564x/33/cf/5a/33cf5a9baf45e25e6b8ce5adc89f8b54.jpg",description:"Celebrated for comic timing and strong character roles.",imdb:"https://www.imdb.com/name/nm0592799/?ref_=ext_shr_lnk"},{id:11,name:"Arunabh Kumar",occupation:"Entrepreneur, Producer, Director, Actor",dob:"26 November 1982",district:"Muzaffarpur",img:"https://www.iwmbuzz.com/wp-content/uploads/2025/06/arunabh-kumar-shares-a-heartfelt-note-on-his-wedding-anniversary-15.jpg",description:"Founder of TVF, known for web series like 'Permanent Roommates' and 'Pitchers'.",imdb:"https://www.imdb.com/name/nm2837311/?ref_=ext_shr_lnk"},{id:12,name:"Gurmeet Choudhary",occupation:"Actor",dob:"22 February 1984",district:"Bhagalpur",img:"https://www.gethucinema.com/tmdb/eCeElyYgPm1ZvV1NWlBeQbUCp8c.jpg",description:"TV and film actor popular for mythological and action roles.",imdb:"https://www.imdb.com/name/nm3073211/?ref_=ext_shr_lnk"},{id:13,name:"Chandan Roy",occupation:"Actor",dob:"20 December 1995",district:"Mahnar (Vaishali district)",img:"https://assets.telegraphindia.com/telegraph/2024/May/1714709299_chandan-roy.jpg",description:"Known for his warm, authentic portrayal of Vikas Shukla in 'Panchayat'..",imdb:"https://www.imdb.com/name/nm10881552/"},{id:14,name:"Ashok Pathak",occupation:"Actor",dob:"3 January 1985",district:"Darveshpur, near Siwan",img:"https://image.tmdb.org/t/p/w500/a60LOKJd2FTNxfLSo7QCQEyjZgO.jpg",description:"Bihari-born actor known for winning hearts as 'Binod' in Panchayat.",imdb:"https://www.imdb.com/name/nm5131331/"},{id:15,name:"Chandan Tiwari",occupation:"Actor, Painter, Writer, Director",dob:"2 February 1970",district:"Saharsa",img:"https://m.media-amazon.com/images/M/MV5BMGE5ZWY1YzctYTA3Ni00MWU0LWE3OWUtZDY1MjBiNjUzYmFmXkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg",description:"Actor, acclaimed for his grounded portrayal of MLA Chandu Singh in Panchayat",imdb:"https://www.imdb.com/name/nm13792834/?ref_=ext_shr_lnk"},{id:16,name:"Durgesh Kumar",occupation:"Actor",dob:"21 October 1984",district:"Darbhanga, Bihar",img:"https://m.media-amazon.com/images/M/MV5BYzVmZTgyODctNDBiZC00YzM2LWExYzAtODQzYjBkMjI5NmY3XkEyXkFqcGc@._V1_FMjpg_UX1000_.jpg",description:"Actor known for playing Bhushan in Panchayat .",imdb:"https://www.imdb.com/name/nm6294201/?ref_=ext_shr_lnk"},{id:17,name:"Bulloo Kumar",occupation:"Actor",dob:"5 February 1986",district:"Nawada",img:"https://m.media-amazon.com/images/M/MV5BYmM2NTBiOGEtNmMzMC00ZTY3LTllOTAtZjVkNWJjM2U0ZTMwXkEyXkFqcGc@._V1_.jpg",description:"Actor from Bihar, known for his comical role as Madhav in  Panchayat.",imdb:"https://www.imdb.com/name/nm12872303/?ref_=ext_shr_lnk"},{id:18,name:"Ustad Bismillah Khan",occupation:"Shehnai Maestro",dob:"21 March 1916",district:"Dumraon (Buxar)",img:"https://akm-img-a-in.tosshub.com/indiatoday/bismillah-khan-647_032116095003.jpg",description:"Legendary Shehnai player, Bharat Ratna awardee.",imdb:"https://www.imdb.com/name/nm0451190/?ref_=ext_shr_lnk"},{id:19,name:"Sharda Sinha",occupation:"Folk Singer",dob:"1 October 1952",district:"Samastipur",img:"https://cf-img-a-in.tosshub.com/sites/visualstory/wp/2024/11/India-Today_Sharda-Sinha-YIM6937-1-1-scaled.jpg?size=*:900",description:"Voice of Bihar's folk heritage, especially during Chhath.",imdb:"https://www.imdb.com/name/nm0788686/?ref_=ext_shr_lnk"},{id:20,name:"Maithili Thakur",occupation:"Folk/Classic Singer",dob:"25 July 2000",district:"Madhubani",img:"https://c.saavncdn.com/artists/Maithili_Thakur_002_20230227072619_500x500.jpg",description:"Young prodigy promoting Indian classical and folk music.",imdb:"https://www.imdb.com/name/nm9859083/?ref_=ext_shr_lnk"},{id:21,name:"Chandan Tiwari",occupation:"Folk Singer",dob:"15 August 1985",district:"Patna",img:"https://chandantiwari.in/wp-content/uploads/2024/11/PHOTO-2024-03-27-16-07-40-1.jpg",description:"Folk singer reviving Bhojpuri and regional traditions.",imdb:"https://www.imdb.com/name/nm13792834/?ref_=ext_shr_lnk"}],CarouselOfCelebs=()=>{const[Re,e]=reactExports.useState(0),[Ee,Ce]=reactExports.useState(!1),[Te,De]=reactExports.useState(null),Me=reactExports.useRef(null),Oe=people.length;reactExports.useEffect(()=>{const rs=()=>{const ts=window.innerWidth<640;Ce(ts),ts&&Re>=Oe&&e(0),De(null)};return rs(),window.addEventListener("resize",rs),()=>window.removeEventListener("resize",rs)},[Re,Oe]);const Be=()=>{var rs;Ee?(e(ts=>(ts+1)%Oe),De(null)):(rs=Me.current)==null||rs.scrollBy({left:340,behavior:"smooth"})},ze=()=>{var rs;Ee?(e(ts=>(ts-1+Oe)%Oe),De(null)):(rs=Me.current)==null||rs.scrollBy({left:-340,behavior:"smooth"})},Ve=rs=>{Ee&&De(Te===rs?null:rs)},[qe,We]=reactExports.useState(0),[Ge,Je]=reactExports.useState(0),Qe=rs=>{We(rs.targetTouches[0].clientX)},ns=rs=>{Je(rs.targetTouches[0].clientX)},Ye=()=>{if(!qe||!Ge)return;const rs=qe-Ge,ts=rs>50,Xe=rs<-50;ts&&Ee&&Be(),Xe&&Ee&&ze()};return jsxRuntimeExports.jsxs("div",{className:"w-full flex flex-col items-center justify-center bg-[#190108] py-10 h-screen",children:[jsxRuntimeExports.jsx("h2",{className:"text-white text-3xl sm:text-3xl md:text-4xl lg:text-5xl playwrite-mx-guides-regular mb-10 pt-10 pb-8 text-center px-4",children:"Celebrities of Bihar"}),jsxRuntimeExports.jsxs("div",{className:"relative mx-auto max-w-full px-4 sm:px-6 md:px-8 lg:px-10",children:[!Ee&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"pointer-events-none absolute left-0 top-0 h-full w-8 sm:w-12 bg-gradient-to-r from-[#190108] to-transparent z-10"}),jsxRuntimeExports.jsx("div",{className:"pointer-events-none absolute right-0 top-0 h-full w-8 sm:w-12 bg-gradient-to-l from-[#190108] to-transparent z-10"})]}),Ee?jsxRuntimeExports.jsx("div",{className:"flex justify-center items-center",onTouchStart:Qe,onTouchMove:ns,onTouchEnd:Ye,children:jsxRuntimeExports.jsx(motion.div,{className:"w-[280px] h-96 flex-shrink-0 cursor-pointer",initial:{opacity:0,x:50},animate:{opacity:1,x:0},exit:{opacity:0,x:-50},transition:{duration:.3},onClick:()=>Ve(people[Re].id),children:jsxRuntimeExports.jsx("div",{className:"w-full h-full perspective group",children:jsxRuntimeExports.jsx("div",{className:"card-animated-border w-full h-full",children:jsxRuntimeExports.jsxs("div",{className:`relative w-full h-full transition-transform duration-700 transform-style preserve-3d ${Te===people[Re].id?"rotate-y-180":""}`,children:[jsxRuntimeExports.jsxs("div",{className:"absolute w-full h-full backface-hidden bg-white/40 backdrop-blur-3xl text-white rounded-2xl overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:people[Re].img,alt:people[Re].name,className:"w-full h-full object-cover rounded-2xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-24 bg-gradient-to-t from-black/70 to-transparent z-10"}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-3 left-3 z-20 text-sm",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:people[Re].name}),jsxRuntimeExports.jsx("p",{children:people[Re].occupation})]})]}),jsxRuntimeExports.jsxs("div",{className:"absolute w-full h-full backface-hidden rotate-y-180 bg-[#0a1020] text-white rounded-2xl p-4 flex flex-col justify-start items-center text-left text-sm",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 w-32 h-32 rounded-full bg-white/90 flex items-center justify-center shadow-md",children:jsxRuntimeExports.jsx("img",{src:people[Re].img,alt:people[Re].name,className:"w-[120px] h-[120px] rounded-full object-cover"})}),jsxRuntimeExports.jsxs("div",{className:"mt-36 w-full px-2",children:[jsxRuntimeExports.jsx("p",{className:"mb-1 italic ",children:people[Re].occupation}),jsxRuntimeExports.jsxs("p",{className:"mb-1",children:["Date of Birth: ",people[Re].dob]}),jsxRuntimeExports.jsxs("p",{className:"mb-1",children:["District: ",people[Re].district]}),jsxRuntimeExports.jsx("p",{className:"mb-1",children:people[Re].description}),jsxRuntimeExports.jsx("a",{href:people[Re].imdb,target:"_blank",rel:"noopener noreferrer",className:"mt-2 inline-block",onClick:rs=>rs.stopPropagation(),children:jsxRuntimeExports.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/69/IMDB_Logo_2016.svg",alt:"IMDb",className:"w-16 h-auto mt-4"})})]})]})]})})})},Re)}):jsxRuntimeExports.jsx("div",{ref:Me,className:"flex gap-6 overflow-x-auto overflow-y-hidden scroll-smooth pb-4 no-scrollbar px-8",children:people.map(rs=>jsxRuntimeExports.jsx(motion.div,{className:"w-[240px] md:w-[280px] lg:w-[300px] xl:w-[320px] h-80 sm:h-96 flex-shrink-0",initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},transition:{duration:.5},viewport:{once:!0},children:jsxRuntimeExports.jsx("div",{className:"w-full h-full perspective group",children:jsxRuntimeExports.jsx("div",{className:"card-animated-border w-full h-full",children:jsxRuntimeExports.jsxs("div",{className:"relative w-full h-full transition-transform duration-700 transform-style preserve-3d group-hover:rotate-y-180",children:[jsxRuntimeExports.jsxs("div",{className:"absolute w-full h-full backface-hidden bg-white/40 backdrop-blur-3xl text-white rounded-2xl overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:rs.img,alt:rs.name,className:"w-full h-full object-cover rounded-2xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-20 sm:h-24 bg-gradient-to-t from-black/70 to-transparent z-10"}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-3 left-3 z-20 text-xs sm:text-sm",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold",children:rs.name}),jsxRuntimeExports.jsx("p",{children:rs.occupation})]})]}),jsxRuntimeExports.jsxs("div",{className:"absolute w-full h-full backface-hidden rotate-y-180 bg-[#190108] border border-white/10 text-white rounded-2xl overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 opacity-5",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white rounded-full blur-3xl"}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white rounded-full blur-3xl"})]}),jsxRuntimeExports.jsxs("div",{className:"relative h-full flex flex-col p-6",children:[jsxRuntimeExports.jsx("div",{className:"flex justify-center mb-3",children:jsxRuntimeExports.jsx("img",{src:rs.img,alt:rs.name,className:"w-24 h-24 rounded-full object-cover shadow-2xl"})}),jsxRuntimeExports.jsx("div",{className:"text-center mb-3",children:jsxRuntimeExports.jsx("span",{className:"inline-block px-3 py-1 text-xs font-medium border border-white/20 text-white bg-[#190108]/50 rounded-full",children:rs.occupation})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col justify-center space-y-2 text-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-xs w-16",children:"DOB"}),jsxRuntimeExports.jsx("span",{className:"text-white font-medium",children:rs.dob})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-xs w-16",children:"District"}),jsxRuntimeExports.jsx("span",{className:"text-white font-medium",children:rs.district})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-xs w-16 pt-0.5",children:"About"}),jsxRuntimeExports.jsx("p",{className:"text-gray-200 text-xs leading-relaxed flex-1",children:rs.description})]})]}),jsxRuntimeExports.jsx("div",{className:"mt-3 pt-3",children:jsxRuntimeExports.jsxs("a",{href:rs.imdb,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 py-2 px-4 rounded-lg bg-yellow-500/10 hover:bg-yellow-500/20 border border-yellow-500/30 transition-all group",onClick:ts=>ts.stopPropagation(),children:[jsxRuntimeExports.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/6/69/IMDB_Logo_2016.svg",alt:"IMDb",className:"h-4 opacity-80 group-hover:opacity-100 transition-opacity"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-yellow-200",children:"View Profile"})]})})]})]})]})})})},rs.id))}),jsxRuntimeExports.jsx("div",{className:"absolute left-1 sm:left-2 top-1/2 transform -translate-y-1/2 z-20",children:jsxRuntimeExports.jsx("button",{onClick:ze,className:"p-2 sm:p-3 bg-gray-800 text-white rounded-full hover:bg-gray-600 transition-colors duration-200",children:jsxRuntimeExports.jsx(IoIosArrowBack,{size:Ee?20:24})})}),jsxRuntimeExports.jsx("div",{className:"absolute right-1 sm:right-2 top-1/2 transform -translate-y-1/2 z-20",children:jsxRuntimeExports.jsx("button",{onClick:Be,className:"p-2 sm:p-3 bg-gray-800 text-white rounded-full hover:bg-gray-600 transition-colors duration-200",children:jsxRuntimeExports.jsx(IoIosArrowForward,{size:Ee?20:24})})})]})]})},Bgpatter="/assets/Bgpatter-BWcllH2d.svg",Adminsvgg="/assets/adminsvgg-DbryH0qH.svg";function MdCheckCircle(Re){return GenIcon({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},child:[]}]})(Re)}function MdEmail(Re){return GenIcon({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"},child:[]}]})(Re)}function MdCancel(Re){return GenIcon({attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"},child:[]}]})(Re)}const LoginPage=()=>{const Re=useNavigate(),[e,Ee]=reactExports.useState(!1),[Ce,Te]=reactExports.useState(!1),[De,Me]=reactExports.useState(!1),Oe=async Be=>{var qe,We,Ge,Je;Be.preventDefault(),Me(!0);const ze=Be.target.email.value,Ve=Be.target.password.value;console.log("ðŸ”µ Login button clicked");try{console.log("ðŸ“¡ Sending login request...");const Qe=await api.post("/api/auth/login",{email:ze,password:Ve});if(console.log("âœ… Login response:",Qe.data),Qe.data.success){const ns=Qe.data.user;console.log("ðŸŽ‰ Login successful, user role:",ns.role);const rs={filmmaker:"/dashboard-user",artist:"/dashboard-user",vendor:"/dashboard-user",admin:"/dashboard",district_admin:"/MainDash"}[ns.role]||"/";console.log("ðŸ”€ Navigating to:",rs),setTimeout(()=>{Re(rs,{replace:!0})},100)}else alert("Login failed. Please try again."),Me(!1)}catch(Qe){console.error("âŒ Login failed:",((qe=Qe.response)==null?void 0:qe.data)||Qe.message),Qe.response?Qe.response.status===429?alert("Too many login attempts. Please try again in 15 minutes."):Qe.response.status===401&&((Ge=(We=Qe.response.data)==null?void 0:We.message)!=null&&Ge.toLowerCase().includes("locked"))?alert(Qe.response.data.message):alert(((Je=Qe.response.data)==null?void 0:Je.message)||"Invalid credentials"):alert("Network error or server unreachable"),Me(!1)}};return jsxRuntimeExports.jsxs("div",{className:"flex h-screen w-full items-center justify-center px-4 relative",children:[jsxRuntimeExports.jsx("img",{src:"/Bgg.svg",alt:"Background",className:"fixed inset-0 w-full h-full object-cover opacity-60 z-[-1]"}),jsxRuntimeExports.jsxs("div",{className:"flex max-w-5xl w-full h-[39rem] rounded-3xl bg-white shadow-2xl overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"hidden w-1/2 bg-zinc-100 p-10 md:flex items-center justify-center",children:jsxRuntimeExports.jsx("img",{src:e?Adminsvgg:Bgpatter,alt:"Pattern",className:"w-full h-auto transition-all duration-300"})}),jsxRuntimeExports.jsxs("div",{className:"w-full md:w-1/2 p-8 md:p-14",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center mb-6",children:[jsxRuntimeExports.jsx("img",{src:"/Logo1.png",alt:"Startup Bihar Logo",className:"w-32 mb-4"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Login in to your account"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-6",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ee(!1),className:`px-6 py-2 rounded-full border text-sm font-medium transition ${e?"border-gray-300 text-gray-600":"border-[#a92b43] text-[#a92b43]"}`,children:"User"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ee(!0),className:`px-6 py-2 rounded-full border text-sm font-medium transition ${e?"border-[#a92b43] text-[#a92b43]":"border-gray-300 text-gray-600"}`,children:"Admin"})]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Oe,children:[jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"text-sm font-medium text-gray-700",children:"User ID"}),jsxRuntimeExports.jsxs("div",{className:"relative mt-1",children:[jsxRuntimeExports.jsx("input",{type:"email",id:"email",name:"email",className:"w-full rounded-md border border-gray-300 bg-gray-50 px-4 py-2 pl-10 text-sm text-gray-700 focus:border-[#a43f5c] focus:outline-none",placeholder:"example@gmail.com",required:!0,disabled:De}),jsxRuntimeExports.jsx("span",{className:"absolute text-lg left-3 top-1/2 -translate-y-1/2 text-gray-400",children:jsxRuntimeExports.jsx(MdEmail,{})})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("label",{htmlFor:"password",className:"text-sm font-medium text-gray-700",children:"Password"}),jsxRuntimeExports.jsxs("div",{className:"relative mt-1",children:[jsxRuntimeExports.jsx("input",{type:Ce?"text":"password",id:"password",name:"password",className:"w-full rounded-md border border-gray-300 bg-gray-50 px-4 py-2 pl-10 pr-10 text-sm text-gray-700 focus:border-[#a43f5c] focus:outline-none",placeholder:"********",required:!0,disabled:De,autocomplete:"current-password"}),jsxRuntimeExports.jsx("span",{className:"absolute text-lg left-3 top-1/2 -translate-y-1/2 text-gray-400",children:jsxRuntimeExports.jsx(IoIosLock,{})}),jsxRuntimeExports.jsx("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 cursor-pointer",onClick:()=>Te(Be=>!Be),children:Ce?jsxRuntimeExports.jsx(FaEyeSlash,{}):jsxRuntimeExports.jsx(FaEye,{})})]})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:De,className:`mb-6 w-full rounded-full bg-[#a92b43] py-2 shadow-[0_4px_8px_#802d44] font-semibold text-white hover:bg-[#891737] active:scale-95 transition-transform duration-150 flex justify-center items-center ${De?"opacity-70 cursor-not-allowed":""}`,children:De?jsxRuntimeExports.jsx("div",{className:"w-6 h-6 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Login"}),jsxRuntimeExports.jsxs("p",{className:"text-center text-sm text-gray-600",children:["Don't have an account?"," ",jsxRuntimeExports.jsx(Link$1,{to:"/signup",className:"text-[#a92b43] hover:underline",children:"Sign up"})]})]})]})]})]})},Logo="/Logo1.png";function IoClose(Re){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(Re)}function IoEyeOutline(Re){return GenIcon({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M255.66 112c-77.94 0-157.89 45.11-220.83 135.33a16 16 0 0 0-.27 17.77C82.92 340.8 161.8 400 255.66 400c92.84 0 173.34-59.38 221.79-135.25a16.14 16.14 0 0 0 0-17.47C428.89 172.28 347.8 112 255.66 112z"},child:[]},{tag:"circle",attr:{cx:"256",cy:"256",r:"80",fill:"none",strokeMiterlimit:"10",strokeWidth:"32"},child:[]}]})(Re)}const SignupPage=()=>{const Re=useNavigate(),[e,Ee]=reactExports.useState(""),[Ce,Te]=reactExports.useState(!1),[De,Me]=reactExports.useState(!1),[Oe,Be]=reactExports.useState({isOpen:!1,type:"info",title:"",message:"",onClose:()=>Be(ds=>({...ds,isOpen:!1}))}),[ze,Ve]=reactExports.useState({name:"",email:"",password:"",confirmPassword:""}),[qe,We]=reactExports.useState(!1),[Ge,Je]=reactExports.useState(!1),[Qe,ns]=reactExports.useState(null),[Ye,rs]=reactExports.useState({length:!1,upper:!1,lower:!1,number:!1,special:!1}),[ts,Xe]=reactExports.useState(null),is=ds=>{const{name:gs,value:Ts}=ds.target;Ve(Ds=>({...Ds,[gs]:Ts}))};reactExports.useEffect(()=>{const ds=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;ze.email?ns(ds.test(ze.email)):ns(null)},[ze.email]),reactExports.useEffect(()=>{const ds=ze.password;rs({length:ds.length>=8,upper:/[A-Z]/.test(ds),lower:/[a-z]/.test(ds),number:/\d/.test(ds),special:/[@$!%*?&]/.test(ds)})},[ze.password]),reactExports.useEffect(()=>{ze.confirmPassword?Xe(ze.password===ze.confirmPassword):Xe(null)},[ze.password,ze.confirmPassword]);const os=Object.values(Ye).every(Boolean),hs=async ds=>{var gs,Ts;if(ds.preventDefault(),!ze.name.trim()){Be({isOpen:!0,type:"error",title:"Missing Name",message:"Please enter your name.",onClose:()=>Be(Ds=>({...Ds,isOpen:!1}))});return}if(!e){Be({isOpen:!0,type:"error",title:"Role Required",message:"Please select a role before signing up.",onClose:()=>Be(Ds=>({...Ds,isOpen:!1}))});return}if(!Qe){Be({isOpen:!0,type:"error",title:"Invalid Email",message:"Please enter a valid email address.",onClose:()=>Be(Ds=>({...Ds,isOpen:!1}))});return}if(!os){Be({isOpen:!0,type:"error",title:"Weak Password",message:"Password does not meet all security requirements.",onClose:()=>Be(Ds=>({...Ds,isOpen:!1}))});return}if(!ts){Be({isOpen:!0,type:"error",title:"Password Mismatch",message:"Passwords do not match!",onClose:()=>Be(Ds=>({...Ds,isOpen:!1}))});return}try{Te(!0),console.log("ðŸ“¤ Signing up user...");const Ds=await api.post("/api/auth/signup",{name:ze.name,email:ze.email,password:ze.password,confirmPassword:ze.confirmPassword,role:e});console.log("âœ… Signup successful:",Ds.data),Be({isOpen:!0,type:"success",title:"Account Created Successfully",message:"Your account has been created. Please proceed to your dashboard.",confirmText:"Go to Your Account",onConfirm:()=>{Be(Ms=>({...Ms,isOpen:!1})),e.toLowerCase(),Re("/dashboard-user")},onClose:()=>Be(Ms=>({...Ms,isOpen:!1}))})}catch(Ds){console.error("âŒ Signup failed:",Ds),Be({isOpen:!0,type:"error",title:"Signup Failed",message:((Ts=(gs=Ds.response)==null?void 0:gs.data)==null?void 0:Ts.message)||"Something went wrong. Please try again.",onClose:()=>Be(Ms=>({...Ms,isOpen:!1}))})}finally{Te(!1)}},fs=ds=>ds===0?"bg-gray-200":ds<=2?"bg-red-500":ds<=4?"bg-orange-500":"bg-green-500",xs=Object.values(Ye).filter(Boolean).length,Ss=({fulfilled:ds,text:gs})=>jsxRuntimeExports.jsxs("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-medium border flex items-center gap-1 transition-colors ${ds?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-500 border-gray-200"}`,children:[ds?jsxRuntimeExports.jsx(MdCheckCircle,{className:"text-xs"}):null,gs]});return jsxRuntimeExports.jsxs("div",{className:"flex h-screen w-full items-center justify-center px-4 relative",children:[jsxRuntimeExports.jsx("img",{src:"/Bgg.svg",alt:"Background",className:"fixed inset-0 w-full h-full object-cover opacity-60 z-[-1]"}),jsxRuntimeExports.jsxs("div",{className:"flex max-w-5xl w-full h-auto md:h-[85vh] md:max-h-[800px] lg:max-h-[900px] rounded-3xl bg-white shadow-2xl overflow-hidden transition-all duration-300",children:[jsxRuntimeExports.jsx("div",{className:"hidden w-1/2 bg-zinc-100 relative md:flex items-center justify-center overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:"signup.png",alt:"Signup",className:"w-full h-full object-cover absolute inset-0"})}),jsxRuntimeExports.jsxs("div",{className:"w-full md:w-1/2 relative flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"sticky top-0 z-20 bg-white/95 backdrop-blur border-b border-gray-100 px-6 md:px-8 lg:px-12 pt-6 pb-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Me(!0),className:"absolute top-6 right-6 p-2 text-gray-500 hover:text-[#a92b43] bg-gray-100 hover:bg-[#a92b43]/10 rounded-full transition-all duration-300",title:"Registration Information",type:"button",children:jsxRuntimeExports.jsx(FaInfoCircle,{size:18})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsx("img",{src:Logo,alt:"Logo",className:"w-24 object-contain"})}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900 mt-4 text-center tracking-tight",children:"Create your account"})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto px-6 md:px-8 lg:px-12 py-6",children:jsxRuntimeExports.jsxs("form",{onSubmit:hs,className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-semibold text-gray-600 uppercase tracking-wide",children:"I am a"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Me(!0),className:"inline-flex items-center gap-1 text-xs font-semibold text-gray-600 hover:text-[#a92b43] bg-gray-100 hover:bg-[#a92b43]/10 border border-gray-200 px-2.5 py-1 rounded-full transition-all",title:"See role guidelines",children:[jsxRuntimeExports.jsx("span",{className:"w-4 h-4 inline-flex items-center justify-center rounded-full bg-gray-200 text-gray-700 text-[10px] font-bold",children:"i"}),"Info"]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[{label:"Producer",value:"filmmaker"},{label:"Vendor",value:"vendor"},{label:"Performer",value:"artist"}].map(ds=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ee(ds.value),className:`py-2.5 rounded-lg border text-sm font-medium transition-all duration-200 ${e===ds.value?"border-[#a92b43] bg-[#a92b43] text-white shadow-md transform scale-[1.02]":"border-gray-200 text-gray-600 hover:border-[#a92b43]/50 hover:bg-gray-50"}`,children:ds.label},ds.value))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"name",className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1.5",children:"Full Name"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",id:"name",name:"name",value:ze.name,onChange:is,className:"w-full rounded-lg border border-gray-200 bg-gray-50/30 px-4 py-3 pl-11 text-sm text-gray-900 placeholder:text-gray-400 focus:border-[#a92b43] focus:bg-white focus:outline-none focus:ring-4 focus:ring-[#a92b43]/10 transition-all duration-200",placeholder:"e.g. Abhishek Anand",required:!0}),jsxRuntimeExports.jsx("span",{className:"absolute text-lg left-3.5 top-1/2 -translate-y-1/2 text-gray-400",children:jsxRuntimeExports.jsx(FaUser,{})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"email",className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1.5",children:"Email Address"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"email",id:"email",name:"email",value:ze.email,onChange:is,className:`w-full rounded-lg border bg-gray-50/30 px-4 py-3 pl-11 pr-10 text-sm text-gray-900 placeholder:text-gray-400 focus:outline-none focus:bg-white focus:ring-4 transition-all duration-200 ${Qe===!1?"border-red-500 focus:border-red-500 focus:ring-red-100":Qe===!0?"border-green-500 focus:border-green-500 focus:ring-green-100":"border-gray-200 focus:border-[#a92b43] focus:ring-[#a92b43]/10"}`,placeholder:"name@example.com",required:!0}),jsxRuntimeExports.jsx("span",{className:"absolute text-lg left-3.5 top-1/2 -translate-y-1/2 text-gray-400",children:jsxRuntimeExports.jsx(MdEmail,{})}),Qe===!0&&jsxRuntimeExports.jsx("span",{className:"absolute text-lg right-3.5 top-1/2 -translate-y-1/2 text-green-500",children:jsxRuntimeExports.jsx(MdCheckCircle,{})}),Qe===!1&&jsxRuntimeExports.jsx("span",{className:"absolute text-lg right-3.5 top-1/2 -translate-y-1/2 text-red-500",title:"Invalid email format",children:jsxRuntimeExports.jsx(MdCancel,{})})]}),Qe===!1&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1.5 ml-1",children:"Please enter a valid email address."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center mb-1.5",children:jsxRuntimeExports.jsx("label",{htmlFor:"password",className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Password"})}),jsxRuntimeExports.jsxs("div",{className:"relative mb-3",children:[jsxRuntimeExports.jsx("input",{type:qe?"text":"password",id:"password",name:"password",value:ze.password,onChange:is,className:"w-full rounded-lg border border-gray-200 bg-gray-50/30 px-4 py-3 pl-11 pr-10 text-sm text-gray-900 placeholder:text-gray-400 focus:border-[#a92b43] focus:bg-white focus:outline-none focus:ring-4 focus:ring-[#a92b43]/10 transition-all duration-200",placeholder:"Create a strong password",required:!0,autoComplete:"new-password"}),jsxRuntimeExports.jsx("span",{className:"absolute text-lg left-3.5 top-1/2 -translate-y-1/2 text-gray-400",children:jsxRuntimeExports.jsx(IoIosLock,{})}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>We(!qe),className:"absolute right-3.5 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none bg-transparent p-1 rounded-full hover:bg-gray-100 transition-colors",children:qe?jsxRuntimeExports.jsx(FaEyeSlash,{}):jsxRuntimeExports.jsx(FaEye,{})})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsx("p",{className:"text-xs font-semibold text-gray-600",children:"Password must contain:"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[jsxRuntimeExports.jsx(Ss,{fulfilled:Ye.length,text:"8+ Chars"}),jsxRuntimeExports.jsx(Ss,{fulfilled:Ye.upper,text:"Upper"}),jsxRuntimeExports.jsx(Ss,{fulfilled:Ye.lower,text:"Lower"}),jsxRuntimeExports.jsx(Ss,{fulfilled:Ye.number,text:"Number"}),jsxRuntimeExports.jsx(Ss,{fulfilled:Ye.special,text:"Special"})]}),jsxRuntimeExports.jsx("div",{className:"h-1.5 w-full bg-gray-200 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:`h-full transition-all duration-300 ${fs(xs)}`,style:{width:`${xs/5*100}%`}})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{htmlFor:"confirmPassword",className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1.5",children:"Confirm Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:Ge?"text":"password",id:"confirmPassword",name:"confirmPassword",value:ze.confirmPassword,onChange:is,className:`w-full rounded-lg border bg-gray-50/30 px-4 py-3 pl-11 pr-10 text-sm text-gray-900 focus:outline-none focus:bg-white focus:ring-4 transition-all duration-200 ${ts===!1?"border-red-500 focus:border-red-500 focus:ring-red-100":ts===!0?"border-green-500 focus:border-green-500 focus:ring-green-100":"border-gray-200 focus:border-[#a92b43] focus:ring-[#a92b43]/10"}`,placeholder:"Repeat your password",required:!0,autoComplete:"new-password"}),jsxRuntimeExports.jsx("span",{className:"absolute text-lg left-3.5 top-1/2 -translate-y-1/2 text-gray-400",children:jsxRuntimeExports.jsx(IoIosLock,{})}),jsxRuntimeExports.jsxs("div",{className:"absolute right-3.5 top-1/2 -translate-y-1/2 flex items-center gap-2",children:[ts===!0&&jsxRuntimeExports.jsx(MdCheckCircle,{className:"text-green-500 text-lg"}),ts===!1&&jsxRuntimeExports.jsx(MdCancel,{className:"text-red-500 text-lg"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Je(!Ge),className:"text-gray-400 hover:text-gray-600 focus:outline-none bg-transparent p-1 rounded-full hover:bg-gray-100 transition-colors",children:Ge?jsxRuntimeExports.jsx(FaEyeSlash,{}):jsxRuntimeExports.jsx(FaEye,{})})]})]}),ts===!1&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1.5 ml-1",children:"Passwords do not match."})]}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:Ce,className:`w-full rounded-full bg-[#a92b43] py-3.5 font-bold text-white shadow-lg shadow-[#a92b43]/30 hover:bg-[#891737] hover:shadow-xl hover:-translate-y-0.5 active:scale-[0.98] transition-all duration-200 flex justify-center items-center mt-8 text-sm uppercase tracking-wide ${Ce?"opacity-70 cursor-not-allowed":""}`,children:Ce?jsxRuntimeExports.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):"Create Account"}),jsxRuntimeExports.jsxs("p",{className:"text-center text-sm text-gray-600 mt-4",children:["Already have an account?"," ",jsxRuntimeExports.jsx(Link$1,{to:"/login",className:"text-[#a92b43] font-medium hover:underline",children:"Log in"})]})]})})]})]}),De&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:jsxRuntimeExports.jsxs("div",{className:"bg-white w-full max-w-6xl rounded-xl shadow-2xl overflow-hidden animate-fadeIn scale-100 transition-all border border-gray-100 flex flex-col max-h-[90vh]",children:[jsxRuntimeExports.jsxs("div",{className:"px-8 py-6 border-b border-gray-100 flex justify-between items-start bg-white",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-gray-900 tracking-tight",children:"Registration Guidelines"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-1 max-w-2xl",children:"Please review the role definitions below to ensure you select the correct account type. Using separate email addresses is mandatory for multiple accounts."})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Me(!1),className:"text-gray-400 hover:text-white bg-gray-50 hover:bg-[#a92b43] p-2 rounded-full transition-all duration-200",children:jsxRuntimeExports.jsx(IoClose,{size:20})})]}),jsxRuntimeExports.jsx("div",{className:"p-8 overflow-y-auto bg-white",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 divide-y md:divide-y-0 md:divide-x divide-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"md:pr-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-l-4 border-[#a92b43] pl-3",children:"Producer"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 leading-relaxed mb-6",children:["For individuals or production houses intending to"," ",jsxRuntimeExports.jsx("strong",{children:"produce films in Bihar"}),". This account type allows you to apply for official shooting permissions, and access government grants."]}),jsxRuntimeExports.jsx("div",{className:"text-xs font-semibold text-gray-900 mb-2",children:"Key Functionalities"}),jsxRuntimeExports.jsxs("ul",{className:"text-xs text-gray-500 space-y-2",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"mt-1 w-1 h-1 rounded-full bg-gray-400"})," ","Shooting Permit Applications"]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"mt-1 w-1 h-1 rounded-full bg-gray-400"})," ","Subsidy Management"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"md:px-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-l-4 border-[#a92b43] pl-3",children:"Vendor"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mb-6",children:"For businesses and service providers catering to the film industry. Register here to list your services and get discovered by production teams."}),jsxRuntimeExports.jsx("div",{className:"text-xs font-semibold text-gray-900 mb-2",children:"Eligible Categories"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 gap-x-2 gap-y-1.5",children:["Studios","Editing","Animation","Costumes","Props","Catering","Equipment","Hospitality","Transport","Security","Logistics","Travel"].map((ds,gs)=>jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500 truncate",children:["â€¢ ",ds]},gs))})]}),jsxRuntimeExports.jsxs("div",{className:"md:pl-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-bold text-gray-900 uppercase tracking-wider mb-4 border-l-4 border-[#a92b43] pl-3",children:"Performer"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 leading-relaxed mb-6",children:"For artists, technicians, and creative professionals. Create a portfolio to showcase your work to filmmakers and recruiters."}),jsxRuntimeExports.jsx("div",{className:"text-xs font-semibold text-gray-900 mb-3",children:"Roles & Specializations"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:["Acting","Directing","Cinematography","Music","Dance","Writing","Sound Design","Editing","Art Direction","Makeup/Hair","Costume Design","VFX"].map((ds,gs)=>jsxRuntimeExports.jsx("span",{className:"px-2.5 py-1 bg-gray-50 text-gray-600 text-[11px] font-medium rounded border border-gray-100",children:ds},gs))})]})]})}),jsxRuntimeExports.jsx("div",{className:"px-8 py-5 border-t border-gray-50 bg-white flex justify-end",children:jsxRuntimeExports.jsx("button",{onClick:()=>Me(!1),className:"text-sm font-semibold text-gray-600 hover:text-gray-900 px-6 py-2 transition-colors",children:"Close"})})]})}),jsxRuntimeExports.jsx(AlertBox,{isOpen:Oe.isOpen,type:Oe.type,title:Oe.title,message:Oe.message,onClose:Oe.onClose,autoClose:Oe.autoClose,duration:Oe.duration,confirmText:Oe.confirmText,onConfirm:Oe.onConfirm})]})},Response$1=()=>{const[Re,e]=reactExports.useState({projectInformation:{typeOfProject:"",language:"",genre:"",duration:"",title:"",directorAndMainCast:""},productionHouseDetails:{producerHouse:"",synopsis:"",contactOfProductionHouse:"",productionHouseAddress:"",emailOfProductionHouse:"",productionHouseConstitution:""},applicantDetails:{registrationNumber:"",representativeName:"",designationOfApplicant:"",addressOfApplicant:"",contactOfApplicant:"",emailOfApplicant:""},creativeandcast:{briefSynopsis:"",mainArtistsAtLocation:"",numberOfShootingLocations:"",dronePermissionRequired:"",animalPartOfShooting:""},technicalRequirements:{fireOrBlastingScene:"",temporaryStructureCreation:"",otherDetails:"",lineProducerDetails:"",policeOrSecurityRequirements:"",siteContactPersonalDetails:""},legalAndBranding:{mibCertificate:"",meaCertificate:"",inFilmBrandingOrAssetUse:"",otherParticulars:""},declaration:{authorizedApplicantName:"",seal:"",date:"",signature:""},annexureA:{location:"",landmark:"",locationType:"",startDateTime:"",endDateTime:"",crewInvolvement:"",personCount:"",permissionDetails:"",locationFee:"",securityDeposit:"",paymentRef:"",locationManager:"",sceneDetails:"",forestType:"",forestDetails:""}}),[Ee,Ce]=reactExports.useState(!1),[Te,De]=reactExports.useState(!1),[Me,Oe]=reactExports.useState("projectinformation"),[Be,ze]=reactExports.useState({show:!1,message:"",type:""}),[Ve,qe]=reactExports.useState("idle"),We=async()=>{var ds,gs,Ts,Ds,Ms,bs;try{qe("saving");const Ns=new FormData;Object.entries(Re).forEach(([ws,js])=>{Object.entries(js).forEach(([ms,ys])=>{(ys instanceof File||ys&&ys!=="")&&Ns.append(ms,ys)})});const ps=await api.post("/api/noc/submit",Ns,{headers:{"Content-Type":"multipart/form-data"}});console.log("âœ… Form submitted:",ps.data),qe("success"),ze({show:!0,message:"Application submitted successfully!",type:"success"}),["projectInformation","productionHouseDetails","applicantDetails","creativeandcast","technicalRequirements","legalAndBranding","declaration","annexureA"].forEach(ws=>localStorage.removeItem(ws)),e({projectInformation:{typeOfProject:"",language:"",genre:"",duration:"",title:"",directorAndMainCast:""},productionHouseDetails:{producerHouse:"",synopsis:"",contactOfProductionHouse:"",productionHouseAddress:"",emailOfProductionHouse:"",productionHouseConstitution:""},applicantDetails:{registrationNumber:"",representativeName:"",designationOfApplicant:"",addressOfApplicant:"",contactOfApplicant:"",emailOfApplicant:""},creativeandcast:{briefSynopsis:"",mainArtistsAtLocation:"",numberOfShootingLocations:"",dronePermissionRequired:"",animalPartOfShooting:""},technicalRequirements:{fireOrBlastingScene:"",temporaryStructureCreation:"",otherDetails:"",lineProducerDetails:"",policeOrSecurityRequirements:"",siteContactPersonalDetails:""},legalAndBranding:{mibCertificate:"",meaCertificate:"",inFilmBrandingOrAssetUse:"",otherParticulars:""},declaration:{authorizedApplicantName:"",seal:"",date:"",signature:""},annexureA:{location:"",landmark:"",locationType:"",startDateTime:"",endDateTime:"",crewInvolvement:"",personCount:"",permissionDetails:"",locationFee:"",securityDeposit:"",paymentRef:"",locationManager:"",sceneDetails:"",forestType:"",forestDetails:""}}),Oe("projectinformation"),window.onNOCSubmitSuccess&&window.onNOCSubmitSuccess(ps.data.data)}catch(Ns){console.error("âŒ Error submitting form:",Ns),console.error("Error response:",(ds=Ns.response)==null?void 0:ds.data),qe("error");let ps="Failed to submit application. Please try again.";((gs=Ns.response)==null?void 0:gs.status)===401?(ps="Session expired. Please login again.",setTimeout(()=>{window.location.href="/login"},2e3)):((Ts=Ns.response)==null?void 0:Ts.status)===400?ps=((Ds=Ns.response.data)==null?void 0:Ds.message)||"Invalid form data. Please check all fields.":(bs=(Ms=Ns.response)==null?void 0:Ms.data)!=null&&bs.message&&(ps=Ns.response.data.message),ze({show:!0,message:ps,type:"error"})}finally{setTimeout(()=>{ze({show:!1,message:"",type:""}),qe("idle")},5e3)}},Ge=(ds,gs,Ts)=>{e(Ds=>({...Ds,[ds]:{...Ds[ds],[gs]:Ts}}))},Je=(ds,gs,Ts)=>{if(!Ts)return;if(Ts.size>5*1024*1024){ze({show:!0,message:"File size must be less than 5MB",type:"warning"}),setTimeout(()=>ze({show:!1,message:"",type:""}),3e3);return}if(!["image/jpeg","image/png","image/jpg","application/pdf"].includes(Ts.type)){ze({show:!0,message:"Please upload a valid file format (PDF, JPG, PNG)",type:"warning"}),setTimeout(()=>ze({show:!1,message:"",type:""}),3e3);return}e(Ms=>({...Ms,[ds]:{...Ms[ds],[gs]:Ts}})),ze({show:!0,message:`File uploaded successfully: ${Ts.name}`,type:"success"}),setTimeout(()=>ze({show:!1,message:"",type:""}),2e3)};reactExports.useEffect(()=>{["projectInformation","productionHouseDetails","applicantDetails","creativeandcast","technicalRequirements","legalAndBranding","declaration","annexureA"].forEach(gs=>{const Ts=localStorage.getItem(gs);if(Ts)try{const Ds=JSON.parse(Ts);Object.keys(Ds).forEach(Ms=>{Ds[Ms]&&typeof Ds[Ms]=="object"&&Ds[Ms].isFile&&(Ds[Ms]={name:Ds[Ms].name,size:Ds[Ms].size,type:Ds[Ms].type,lastModified:Ds[Ms].lastModified,isStoredFile:!0})}),e(Ms=>({...Ms,[gs]:Ds}))}catch(Ds){console.warn(`Error parsing stored data for ${gs}:`,Ds)}}),Ce(!1)},[]);const Qe=(ds,gs,Ts,Ds)=>{const Ms=ds.replace(/([A-Z])/g," $1").replace(/^./,Ps=>Ps.toUpperCase()),Ns={language:"Language Of The Film/Project",synopsis:"Synopsis Of Project (250 words)",emailOfProductionHouse:"Email ID of Production House",emailOfApplicant:"Email ID of Applicant",briefSynopsis:"Brief Synopsis (500 Words)",mainArtistsAtLocation:"Main Artist(s) at location",numberOfShootingLocations:"No. of Shooting Locations (Annexure A)",fireOrBlastingScene:"Fire/Blasting Scene",otherDetails:"Other Details (Road Blocks etc.)",policeOrSecurityRequirements:"Police/Security Requirements",mibCertificate:"MIB Certificate (for International Film)",meaCertificate:"MEA Certificate (for Documentary, AV, Music)",inFilmBrandingOrAssetUse:"In-Film Branding or Assets Use",authorizedApplicantName:"Authorized Applicant Name",startDateTime:"Start Date & Time",endDateTime:"Expected End Date & Time",crewInvolvement:"Crew/Public Involvement",personCount:"Tentative count of persons at site",permissionDetails:"Details of Permission Required",locationFee:"Location Fee",securityDeposit:"Security Deposit",paymentRef:"Payment Ref/DD Number",locationManager:"Location Manager Details",sceneDetails:"Scene Details (100 words)",forestType:"Forest Area Type (if applicable)",forestDetails:"Forest Area Details"}[ds]||Ms;let ps="text";ds.toLowerCase().includes("datetime")||ds.toLowerCase().includes("date")&&ds.toLowerCase().includes("time")?ps="datetime-local":ds.toLowerCase().includes("date")?ps="date":ds.toLowerCase().includes("email")?ps="email":ds.toLowerCase().includes("contact")?ps="tel":["personCount","locationFee","securityDeposit"].includes(ds)&&(ps="number");const _s=["dronePermissionRequired","animalPartOfShooting","fireOrBlastingScene","policeOrSecurityRequirements","temporaryStructureCreation"],ws=["mibCertificate","meaCertificate","seal","signature"],js=["synopsis","briefSynopsis","sceneDetails","permissionDetails","locationManager","forestDetails","otherDetails","otherParticulars"],ms={locationType:["Indoor","Outdoor","Both"],forestType:["","Reserved Forest","Protected Forest","National Park","Wildlife Sanctuary","Not Applicable"]};let ys;const ks="block w-full px-4 py-2 rounded-md border border-gray-300 shadow-sm focus:outline-none focus:ring-1 focus:ring-[#800000] focus:border-[#800000] transition-all duration-200 text-base bg-gray-50 hover:bg-white focus:bg-white caret-[#800000] leading-normal",zs="block w-full px-4 py-2 rounded-md border border-gray-300 shadow-sm focus:outline-none focus:ring-1 focus:ring-[#800000] focus:border-[#800000] transition-all duration-200 text-base bg-gray-50 hover:bg-white focus:bg-white leading-normal";return _s.includes(ds)?ys=jsxRuntimeExports.jsxs("select",{id:`${Ts}-${ds}`,value:gs,onChange:Ps=>Ge(Ts,ds,Ps.target.value),className:zs,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select an option"}),jsxRuntimeExports.jsx("option",{value:"Yes",children:"Yes"}),jsxRuntimeExports.jsx("option",{value:"No",children:"No"})]}):ms[ds]?ys=jsxRuntimeExports.jsxs("select",{id:`${Ts}-${ds}`,value:gs,onChange:Ps=>Ge(Ts,ds,Ps.target.value),className:zs,children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select an option"}),ms[ds].map(Ps=>jsxRuntimeExports.jsx("option",{value:Ps,children:Ps||"Not Applicable"},Ps))]}):js.includes(ds)?ys=jsxRuntimeExports.jsx("textarea",{id:`${Ts}-${ds}`,value:gs,onChange:Ps=>Ge(Ts,ds,Ps.target.value),rows:ds==="briefSynopsis"||ds==="synopsis"?4:3,className:"block w-full px-4 py-2 rounded-md border border-gray-300 shadow-sm focus:outline-none focus:ring-1 focus:ring-[#800000] focus:border-[#800000] transition-all duration-200 resize-none text-base bg-gray-50 hover:bg-white focus:bg-white caret-[#800000] leading-normal",placeholder:ds==="briefSynopsis"?"Max 500 words":ds==="synopsis"?"Max 250 words":ds==="sceneDetails"?"Max 100 words":""}):ws.includes(ds)?ys=jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsx("input",{type:"file",id:`${Ts}-${ds}`,accept:"image/*,application/pdf",onChange:Ps=>Je(Ts,ds,Ps.target.files[0]),className:"block w-full text-base text-gray-600 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-[#800000]/10 file:text-[#800000] hover:file:bg-[#800000]/20 transition-all duration-200 border border-gray-300 rounded-md p-2 bg-gray-50 hover:bg-white focus:bg-white focus:outline-none focus:border-[#800000] focus:ring-1 focus:ring-[#800000]"})}),jsxRuntimeExports.jsx("small",{className:"text-gray-500 text-sm block",children:"Accepted formats: PDF, JPG, PNG (Max 5MB)"}),gs&&jsxRuntimeExports.jsx("div",{className:"mt-3 p-3 bg-green-50 border border-green-200 rounded-md text-sm text-green-700",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center",children:[jsxRuntimeExports.jsx("span",{className:"inline-block w-2.5 h-2.5 bg-green-500 rounded-full mr-3"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("p",{className:"font-medium",children:["File uploaded: ",gs.name||gs]}),gs.isStoredFile&&jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-xs mt-1",children:"(Previously uploaded)"})]})]})})]}):ys=jsxRuntimeExports.jsx("input",{type:ps,id:`${Ts}-${ds}`,value:gs,onChange:Ps=>Ge(Ts,ds,Ps.target.value),className:ks}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{htmlFor:`${Ts}-${ds}`,className:"block text-sm font-semibold text-gray-700",children:[Ns,ds==="email"||ds==="emailOfProductionHouse"||ds==="emailOfApplicant"?jsxRuntimeExports.jsx("span",{className:"text-red-500 ml-1",children:"*"}):null]}),ys]},ds)},ns=(ds,gs,Ts,Ds)=>{const bs={projectInformation:"projectinformation",productionHouseDetails:"productionhousedetails",applicantDetails:"applicantdetails",creativeandcast:"creativeandcast",technicalRequirements:"technicalrequirements",legalAndBranding:"legalandbranding",declaration:"declaration",annexureA:"annexurea"}[Ds]||Ds;if(Me!=="all"&&Me!==bs)return null;const Ns=bs==="annexurea",ps=bs==="projectinformation";return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-100 p-8 mb-8 transition-all duration-300 hover:shadow-md",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center mb-8 pb-4 border-b border-gray-100",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-[#a92b4e] to-[#8a2340] rounded-lg flex items-center justify-center mr-4",children:jsxRuntimeExports.jsx("span",{className:"text-white text-lg font-bold",children:bs==="projectinformation"?"1":bs==="productionhousedetails"?"2":bs==="applicantdetails"?"3":bs==="creativeandcast"?"4":bs==="technicalrequirements"?"5":bs==="legalandbranding"?"6":bs==="declaration"?"7":"8"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:ds}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Please fill all required fields"})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:Object.entries(gs).map(([_s,ws])=>Qe(_s,ws,Ds))}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-10 pt-6 border-t border-gray-100",children:[jsxRuntimeExports.jsx("div",{children:!ps&&jsxRuntimeExports.jsx("button",{type:"button",onClick:fs,className:"inline-flex items-center px-6 py-3 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#a92b4e] transition-all duration-200",children:"â† Go Back"})}),jsxRuntimeExports.jsx("div",{children:Ns?jsxRuntimeExports.jsx("button",{type:"submit",className:`inline-flex items-center px-8 py-3 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white bg-gradient-to-r from-[#a92b4e] to-[#8a2340] hover:from-[#8a2340] hover:to-[#a92b4e] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#a92b4e] transition-all duration-200 ${Ve==="saving"?"opacity-70 cursor-wait":""}`,disabled:Ve==="saving",children:Ve==="saving"?"Submitting...":Ve==="success"?"âœ“ Submitted!":"Submit Application â†’"}):jsxRuntimeExports.jsx("button",{type:"button",onClick:Ss,className:"inline-flex items-center px-8 py-3 border border-transparent text-sm font-medium rounded-lg shadow-sm text-white bg-gradient-to-r from-[#a92b4e] to-[#8a2340] hover:from-[#8a2340] hover:to-[#a92b4e] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#a92b4e] transition-all duration-200",children:"Save & Continue â†’"})})]})]})},Ye=()=>{const ds=xs();if(ds.length>0){ze({show:!0,message:`Please fill all required fields: ${ds.slice(0,3).join(", ")}${ds.length>3?"...":""}`,type:"warning"}),setTimeout(()=>ze({show:!1,message:"",type:""}),5e3);return}De(!0)},rs=()=>{if(!Te)return null;const ds={typeOfProject:"Type",language:"Language",genre:"Genre",duration:"Duration",title:"Title",directorAndMainCast:"Director & Cast",producerHouse:"Production House",synopsis:"Synopsis",contactOfProductionHouse:"Contact",productionHouseAddress:"Address",emailOfProductionHouse:"Email",productionHouseConstitution:"Constitution",registrationNumber:"Registration No",representativeName:"Representative",designationOfApplicant:"Designation",addressOfApplicant:"Address",contactOfApplicant:"Contact",emailOfApplicant:"Email",briefSynopsis:"Brief Synopsis",mainArtistsAtLocation:"Main Artists",numberOfShootingLocations:"No. of Locations",dronePermissionRequired:"Drone Used",animalPartOfShooting:"Animal Involved",fireOrBlastingScene:"Fire Scene",temporaryStructureCreation:"Structure",otherDetails:"Other Details",lineProducerDetails:"Line Producer",policeOrSecurityRequirements:"Security",siteContactPersonalDetails:"Site Contact",mibCertificate:"MIB Certificate",meaCertificate:"MEA Certificate",inFilmBrandingOrAssetUse:"Branding",otherParticulars:"Other Particulars",authorizedApplicantName:"Authorized Applicant",seal:"Seal",date:"Date",signature:"Signature",location:"Location",landmark:"Landmark",locationType:"Location Type",startDateTime:"Start Time",endDateTime:"End Time",crewInvolvement:"Crew Involvement",personCount:"Person Count",permissionDetails:"Permission",locationFee:"Fee",securityDeposit:"Security Deposit",paymentRef:"Payment Ref",locationManager:"Manager",sceneDetails:"Scene Details",forestType:"Forest Type",forestDetails:"Forest Info"},gs=[{title:"Project Information",data:Re.projectInformation},{title:"Production Details",data:Re.productionHouseDetails},{title:"Applicant Information",data:Re.applicantDetails},{title:"Creative Details",data:Re.creativeandcast},{title:"Technical & Security",data:Re.technicalRequirements},{title:"Legal/Branding",data:Re.legalAndBranding},{title:"Declaration",data:Re.declaration},{title:"Location Details (Annexure A)",data:Re.annexureA}];return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden border border-gray-200 flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"bg-gray-50 border-b border-gray-200 p-5",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-white rounded-xl shadow-md flex items-center justify-center p-2 border-2 border-[#891737]/20",children:jsxRuntimeExports.jsx("img",{src:"/Logo1.png",alt:"BSFDFC Logo",className:"w-full h-full object-contain",onError:Ts=>{Ts.target.style.display="none"}})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-[#891737]",children:"BSFDFC Application Preview"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:"Department of Art & Culture, Govt. of Bihar"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-[#891737] rounded-full"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-gray-700",children:"NOC Application - Review Before Submission"})]})]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>De(!1),className:"w-10 h-10 bg-gray-100 hover:bg-[#891737]/10 rounded-full flex items-center justify-center transition-colors duration-200","aria-label":"Close",children:jsxRuntimeExports.jsx("span",{className:"text-gray-600 hover:text-[#891737] text-2xl transition-colors duration-200",children:"Ã—"})})]})}),jsxRuntimeExports.jsx("div",{className:"overflow-y-auto flex-1 p-6 space-y-5",children:gs.map((Ts,Ds)=>{const Ms=Object.entries(Ts.data).filter(([bs,Ns])=>Ns&&Ns!==""&&Ns!=="N/A");return Ms.length===0?null:jsxRuntimeExports.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"px-4 py-3 border-b border-[#891737]/20 bg-gray-50",children:jsxRuntimeExports.jsxs("h3",{className:"text-lg font-bold text-[#891737] flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-1 h-5 bg-[#891737] rounded-full"}),Ts.title]})}),jsxRuntimeExports.jsx("div",{className:"p-4",children:jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-4 gap-y-3",children:Ms.map(([bs,Ns],ps)=>{const _s=ds[bs]||bs.replace(/([A-Z])/g," $1").replace(/^./,js=>js.toUpperCase());let ws=Ns;return(Ns instanceof File||typeof Ns=="object"&&Ns!==null&&Ns.name)&&(ws=Ns.name),jsxRuntimeExports.jsxs("div",{className:"flex flex-col space-y-1",children:[jsxRuntimeExports.jsx("dt",{className:"text-sm font-semibold text-[#891737] uppercase tracking-wide",children:_s}),jsxRuntimeExports.jsx("dd",{className:"text-base text-gray-900 font-medium",children:typeof ws=="string"&&ws.length>60?jsxRuntimeExports.jsxs("details",{className:"cursor-pointer",children:[jsxRuntimeExports.jsxs("summary",{className:"hover:text-[#891737] transition-colors",children:[ws.substring(0,60),"..."]}),jsxRuntimeExports.jsx("div",{className:"mt-1 text-gray-700 leading-relaxed",children:ws})]}):jsxRuntimeExports.jsx("span",{children:ws})})]},ps)})})})]},Ds)})}),jsxRuntimeExports.jsx("div",{className:"border-t border-gray-200 bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-center gap-3 py-4",children:[jsxRuntimeExports.jsx("button",{onClick:()=>De(!1),className:"bg-white hover:bg-gray-50 text-[#891737] border border-[#891737] hover:border-[#6e1129] px-8 py-3 rounded-lg font-semibold transition-colors duration-200",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:()=>De(!1),className:"bg-white hover:bg-gray-50 text-[#891737] border border-[#891737] hover:border-[#6e1129] px-8 py-3 rounded-lg font-semibold transition-colors duration-200",children:"Edit"}),jsxRuntimeExports.jsx("button",{onClick:We,disabled:Ve==="saving",className:`bg-[#891737] hover:bg-[#6e1129] text-white px-8 py-3 rounded-lg font-semibold transition-colors duration-200 shadow-sm hover:shadow-md ${Ve==="saving"?"opacity-70 cursor-wait":""}`,children:Ve==="saving"?"Submitting...":"Confirm & Submit"})]})})]})})},ts=()=>{const ds=[{id:"projectinformation",label:"Project Info",step:1},{id:"productionhousedetails",label:"Production House",step:2},{id:"applicantdetails",label:"Applicant Details",step:3},{id:"creativeandcast",label:"Creative & Cast",step:4},{id:"technicalrequirements",label:"Technical",step:5},{id:"legalandbranding",label:"Legal & Branding",step:6},{id:"declaration",label:"Declaration",step:7},{id:"annexurea",label:"Annexure A",step:8}];return jsxRuntimeExports.jsx("div",{className:"mb-10",children:jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 justify-center",children:ds.map((gs,Ts)=>jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Oe(gs.id),className:`relative px-4 py-3 rounded-lg text-sm font-medium transition-all duration-200 ${Me===gs.id?"bg-gradient-to-r from-[#a92b4e] to-[#8a2340] text-white shadow-lg transform scale-105":Xe(gs.id)?"bg-green-50 text-green-700 border border-green-200 hover:bg-green-100":"bg-white text-gray-700 border border-gray-200 hover:bg-gray-50"}`,children:jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center",children:[jsxRuntimeExports.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-xs mr-2 ${Me===gs.id?"bg-white/20 text-white":Xe(gs.id)?"bg-green-500 text-white":"bg-gray-200 text-gray-600"}`,children:Xe(gs.id)?"âœ“":gs.step}),gs.label]})},gs.id))})})},Xe=ds=>{const Ts={projectinformation:Re.projectInformation,productionhousedetails:Re.productionHouseDetails,applicantdetails:Re.applicantDetails,creativeandcast:Re.creativeandcast,technicalrequirements:Re.technicalRequirements,legalandbranding:Re.legalAndBranding,declaration:Re.declaration,annexurea:Re.annexureA}[ds];return Ts?Object.keys(Ts).filter(Ms=>!["otherDetails","otherParticulars","forestDetails"].includes(Ms)).every(Ms=>{const bs=Ts[Ms];return bs&&bs!==""}):!1},is=ds=>{const gs=["projectinformation","productionhousedetails","applicantdetails","creativeandcast","technicalrequirements","legalandbranding","declaration","annexurea"],Ts=gs.indexOf(ds);return Ts<gs.length-1?gs[Ts+1]:null},os=ds=>{const gs=["projectinformation","productionhousedetails","applicantdetails","creativeandcast","technicalrequirements","legalandbranding","declaration","annexurea"],Ts=gs.indexOf(ds);return Ts>0?gs[Ts-1]:null},hs=()=>{const ds=Object.keys(Re).find(gs=>({projectInformation:"projectinformation",productionHouseDetails:"productionhousedetails",applicantDetails:"applicantdetails",creativeandcast:"creativeandcast",technicalRequirements:"technicalrequirements",legalAndBranding:"legalandbranding",declaration:"declaration",annexureA:"annexurea"})[gs]===Me);if(ds){const gs={...Re[ds]};Object.keys(gs).forEach(Ts=>{gs[Ts]instanceof File&&(gs[Ts]={name:gs[Ts].name,size:gs[Ts].size,type:gs[Ts].type,lastModified:gs[Ts].lastModified,isFile:!0})}),localStorage.setItem(ds,JSON.stringify(gs)),ze({show:!0,message:"Section saved successfully!",type:"success"}),setTimeout(()=>ze({show:!1,message:"",type:""}),2e3)}},fs=()=>{const ds=os(Me);ds&&Oe(ds)},xs=()=>{const gs={projectinformation:Re.projectInformation,productionhousedetails:Re.productionHouseDetails,applicantdetails:Re.applicantDetails,creativeandcast:Re.creativeandcast,technicalrequirements:Re.technicalRequirements,legalandbranding:Re.legalAndBranding,declaration:Re.declaration,annexurea:Re.annexureA}[Me];if(!gs)return["Section data not found"];const Ts=[];return Object.entries(gs).forEach(([Ds,Ms])=>{if(!Ms||Ms===""){const bs=Ds.replace(/([A-Z])/g," $1").replace(/^./,Ns=>Ns.toUpperCase());Ts.push(`${bs} is required`)}}),Ts},Ss=()=>{const ds=xs();if(ds.length>0){ze({show:!0,message:`Please fill all required fields: ${ds.slice(0,3).join(", ")}${ds.length>3?"...":""}`,type:"warning"}),setTimeout(()=>ze({show:!1,message:"",type:""}),5e3);return}hs();const gs=is(Me);gs&&setTimeout(()=>{Oe(gs)},300)};return Ee?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 border-4 border-[#a92b4e] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Loading form..."})]})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen py-8 px-4 sm:px-6 lg:px-8 bg-gradient-to-br from-gray-50 to-gray-100",children:[rs(),Be.show&&jsxRuntimeExports.jsxs("div",{className:`fixed top-4 right-4 z-50 px-6 py-4 rounded-lg shadow-lg flex items-center max-w-sm ${Be.type==="success"?"bg-green-500 text-white":Be.type==="warning"?"bg-yellow-500 text-white":"bg-red-500 text-white"}`,children:[jsxRuntimeExports.jsx("span",{className:"mr-3",children:Be.type==="success"?"âœ“":Be.type==="warning"?"âš ":"âœ—"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:Be.message})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-12",children:[jsxRuntimeExports.jsxs("div",{className:"mb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-3",children:"Bihar State Film Development"}),jsxRuntimeExports.jsx("h2",{className:"text-2xl font-semibold text-[#a92b4e] mb-4",children:"& Finance Corporation Ltd"}),jsxRuntimeExports.jsx("div",{className:"w-24 h-1 bg-gradient-to-r from-[#a92b4e] to-[#8a2340] mx-auto rounded-full"})]}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Application Form for Seeking Permission to Shoot in Bihar"})]}),ts(),jsxRuntimeExports.jsxs("form",{onSubmit:ds=>{ds.preventDefault(),Ye()},children:[ns("Project Information",Re.projectInformation,"","projectInformation"),ns("Production House Details",Re.productionHouseDetails,"","productionHouseDetails"),ns("Applicant Details",Re.applicantDetails,"","applicantDetails"),ns("Creative And Cast",Re.creativeandcast,"","creativeandcast"),ns("Technical Requirements",Re.technicalRequirements,"","technicalRequirements"),ns("Legal And Branding",Re.legalAndBranding,"","legalAndBranding"),ns("Declaration",Re.declaration,"","declaration"),ns("Annexure A - Location Details",Re.annexureA,"","annexureA")]})]})]})},scriptRel="modulepreload",assetsURL=function(Re){return"/"+Re},seen={},__vitePreload=function(e,Ee,Ce){let Te=Promise.resolve();if(Ee&&Ee.length>0){document.getElementsByTagName("link");const Me=document.querySelector("meta[property=csp-nonce]"),Oe=(Me==null?void 0:Me.nonce)||(Me==null?void 0:Me.getAttribute("nonce"));Te=Promise.allSettled(Ee.map(Be=>{if(Be=assetsURL(Be),Be in seen)return;seen[Be]=!0;const ze=Be.endsWith(".css"),Ve=ze?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${Be}"]${Ve}`))return;const qe=document.createElement("link");if(qe.rel=ze?"stylesheet":scriptRel,ze||(qe.as="script"),qe.crossOrigin="",qe.href=Be,Oe&&qe.setAttribute("nonce",Oe),document.head.appendChild(qe),ze)return new Promise((We,Ge)=>{qe.addEventListener("load",We),qe.addEventListener("error",()=>Ge(new Error(`Unable to preload CSS for ${Be}`)))})}))}function De(Me){const Oe=new Event("vite:preloadError",{cancelable:!0});if(Oe.payload=Me,window.dispatchEvent(Oe),!Oe.defaultPrevented)throw Me}return Te.then(Me=>{for(const Oe of Me||[])Oe.status==="rejected"&&De(Oe.reason);return e().catch(De)})};function _typeof(Re){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(Re)}var u8=Uint8Array,u16=Uint16Array,i32=Int32Array,fleb=new u8([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),fdeb=new u8([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),clim=new u8([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),freb=function(Re,e){for(var Ee=new u16(31),Ce=0;Ce<31;++Ce)Ee[Ce]=e+=1<<Re[Ce-1];for(var Te=new i32(Ee[30]),Ce=1;Ce<30;++Ce)for(var De=Ee[Ce];De<Ee[Ce+1];++De)Te[De]=De-Ee[Ce]<<5|Ce;return{b:Ee,r:Te}},_a$2=freb(fleb,2),fl=_a$2.b,revfl=_a$2.r;fl[28]=258,revfl[258]=28;var _b=freb(fdeb,0),revfd=_b.r,rev=new u16(32768);for(var i$3=0;i$3<32768;++i$3){var x$1=(i$3&43690)>>1|(i$3&21845)<<1;x$1=(x$1&52428)>>2|(x$1&13107)<<2,x$1=(x$1&61680)>>4|(x$1&3855)<<4,rev[i$3]=((x$1&65280)>>8|(x$1&255)<<8)>>1}var hMap=function(Re,e,Ee){for(var Ce=Re.length,Te=0,De=new u16(e);Te<Ce;++Te)Re[Te]&&++De[Re[Te]-1];var Me=new u16(e);for(Te=1;Te<e;++Te)Me[Te]=Me[Te-1]+De[Te-1]<<1;var Oe;if(Ee){Oe=new u16(1<<e);var Be=15-e;for(Te=0;Te<Ce;++Te)if(Re[Te])for(var ze=Te<<4|Re[Te],Ve=e-Re[Te],qe=Me[Re[Te]-1]++<<Ve,We=qe|(1<<Ve)-1;qe<=We;++qe)Oe[rev[qe]>>Be]=ze}else for(Oe=new u16(Ce),Te=0;Te<Ce;++Te)Re[Te]&&(Oe[Te]=rev[Me[Re[Te]-1]++]>>15-Re[Te]);return Oe},flt=new u8(288);for(var i$3=0;i$3<144;++i$3)flt[i$3]=8;for(var i$3=144;i$3<256;++i$3)flt[i$3]=9;for(var i$3=256;i$3<280;++i$3)flt[i$3]=7;for(var i$3=280;i$3<288;++i$3)flt[i$3]=8;var fdt=new u8(32);for(var i$3=0;i$3<32;++i$3)fdt[i$3]=5;var flm=hMap(flt,9,0),fdm=hMap(fdt,5,0),shft=function(Re){return(Re+7)/8|0},slc=function(Re,e,Ee){return(Ee==null||Ee>Re.length)&&(Ee=Re.length),new u8(Re.subarray(e,Ee))},wbits=function(Re,e,Ee){Ee<<=e&7;var Ce=e/8|0;Re[Ce]|=Ee,Re[Ce+1]|=Ee>>8},wbits16=function(Re,e,Ee){Ee<<=e&7;var Ce=e/8|0;Re[Ce]|=Ee,Re[Ce+1]|=Ee>>8,Re[Ce+2]|=Ee>>16},hTree=function(Re,e){for(var Ee=[],Ce=0;Ce<Re.length;++Ce)Re[Ce]&&Ee.push({s:Ce,f:Re[Ce]});var Te=Ee.length,De=Ee.slice();if(!Te)return{t:et$1,l:0};if(Te==1){var Me=new u8(Ee[0].s+1);return Me[Ee[0].s]=1,{t:Me,l:1}}Ee.sort(function(is,os){return is.f-os.f}),Ee.push({s:-1,f:25001});var Oe=Ee[0],Be=Ee[1],ze=0,Ve=1,qe=2;for(Ee[0]={s:-1,f:Oe.f+Be.f,l:Oe,r:Be};Ve!=Te-1;)Oe=Ee[Ee[ze].f<Ee[qe].f?ze++:qe++],Be=Ee[ze!=Ve&&Ee[ze].f<Ee[qe].f?ze++:qe++],Ee[Ve++]={s:-1,f:Oe.f+Be.f,l:Oe,r:Be};for(var We=De[0].s,Ce=1;Ce<Te;++Ce)De[Ce].s>We&&(We=De[Ce].s);var Ge=new u16(We+1),Je=ln(Ee[Ve-1],Ge,0);if(Je>e){var Ce=0,Qe=0,ns=Je-e,Ye=1<<ns;for(De.sort(function(os,hs){return Ge[hs.s]-Ge[os.s]||os.f-hs.f});Ce<Te;++Ce){var rs=De[Ce].s;if(Ge[rs]>e)Qe+=Ye-(1<<Je-Ge[rs]),Ge[rs]=e;else break}for(Qe>>=ns;Qe>0;){var ts=De[Ce].s;Ge[ts]<e?Qe-=1<<e-Ge[ts]++-1:++Ce}for(;Ce>=0&&Qe;--Ce){var Xe=De[Ce].s;Ge[Xe]==e&&(--Ge[Xe],++Qe)}Je=e}return{t:new u8(Ge),l:Je}},ln=function(Re,e,Ee){return Re.s==-1?Math.max(ln(Re.l,e,Ee+1),ln(Re.r,e,Ee+1)):e[Re.s]=Ee},lc=function(Re){for(var e=Re.length;e&&!Re[--e];);for(var Ee=new u16(++e),Ce=0,Te=Re[0],De=1,Me=function(Be){Ee[Ce++]=Be},Oe=1;Oe<=e;++Oe)if(Re[Oe]==Te&&Oe!=e)++De;else{if(!Te&&De>2){for(;De>138;De-=138)Me(32754);De>2&&(Me(De>10?De-11<<5|28690:De-3<<5|12305),De=0)}else if(De>3){for(Me(Te),--De;De>6;De-=6)Me(8304);De>2&&(Me(De-3<<5|8208),De=0)}for(;De--;)Me(Te);De=1,Te=Re[Oe]}return{c:Ee.subarray(0,Ce),n:e}},clen=function(Re,e){for(var Ee=0,Ce=0;Ce<e.length;++Ce)Ee+=Re[Ce]*e[Ce];return Ee},wfblk=function(Re,e,Ee){var Ce=Ee.length,Te=shft(e+2);Re[Te]=Ce&255,Re[Te+1]=Ce>>8,Re[Te+2]=Re[Te]^255,Re[Te+3]=Re[Te+1]^255;for(var De=0;De<Ce;++De)Re[Te+De+4]=Ee[De];return(Te+4+Ce)*8},wblk=function(Re,e,Ee,Ce,Te,De,Me,Oe,Be,ze,Ve){wbits(e,Ve++,Ee),++Te[256];for(var qe=hTree(Te,15),We=qe.t,Ge=qe.l,Je=hTree(De,15),Qe=Je.t,ns=Je.l,Ye=lc(We),rs=Ye.c,ts=Ye.n,Xe=lc(Qe),is=Xe.c,os=Xe.n,hs=new u16(19),fs=0;fs<rs.length;++fs)++hs[rs[fs]&31];for(var fs=0;fs<is.length;++fs)++hs[is[fs]&31];for(var xs=hTree(hs,7),Ss=xs.t,ds=xs.l,gs=19;gs>4&&!Ss[clim[gs-1]];--gs);var Ts=ze+5<<3,Ds=clen(Te,flt)+clen(De,fdt)+Me,Ms=clen(Te,We)+clen(De,Qe)+Me+14+3*gs+clen(hs,Ss)+2*hs[16]+3*hs[17]+7*hs[18];if(Be>=0&&Ts<=Ds&&Ts<=Ms)return wfblk(e,Ve,Re.subarray(Be,Be+ze));var bs,Ns,ps,_s;if(wbits(e,Ve,1+(Ms<Ds)),Ve+=2,Ms<Ds){bs=hMap(We,Ge,0),Ns=We,ps=hMap(Qe,ns,0),_s=Qe;var ws=hMap(Ss,ds,0);wbits(e,Ve,ts-257),wbits(e,Ve+5,os-1),wbits(e,Ve+10,gs-4),Ve+=14;for(var fs=0;fs<gs;++fs)wbits(e,Ve+3*fs,Ss[clim[fs]]);Ve+=3*gs;for(var js=[rs,is],ms=0;ms<2;++ms)for(var ys=js[ms],fs=0;fs<ys.length;++fs){var ks=ys[fs]&31;wbits(e,Ve,ws[ks]),Ve+=Ss[ks],ks>15&&(wbits(e,Ve,ys[fs]>>5&127),Ve+=ys[fs]>>12)}}else bs=flm,Ns=flt,ps=fdm,_s=fdt;for(var fs=0;fs<Oe;++fs){var zs=Ce[fs];if(zs>255){var ks=zs>>18&31;wbits16(e,Ve,bs[ks+257]),Ve+=Ns[ks+257],ks>7&&(wbits(e,Ve,zs>>23&31),Ve+=fleb[ks]);var Cs=zs&31;wbits16(e,Ve,ps[Cs]),Ve+=_s[Cs],Cs>3&&(wbits16(e,Ve,zs>>5&8191),Ve+=fdeb[Cs])}else wbits16(e,Ve,bs[zs]),Ve+=Ns[zs]}return wbits16(e,Ve,bs[256]),Ve+Ns[256]},deo=new i32([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),et$1=new u8(0),dflt=function(Re,e,Ee,Ce,Te,De){var Me=De.z||Re.length,Oe=new u8(Ce+Me+5*(1+Math.ceil(Me/7e3))+Te),Be=Oe.subarray(Ce,Oe.length-Te),ze=De.l,Ve=(De.r||0)&7;if(e){Ve&&(Be[0]=De.r>>3);for(var qe=deo[e-1],We=qe>>13,Ge=qe&8191,Je=(1<<Ee)-1,Qe=De.p||new u16(32768),ns=De.h||new u16(Je+1),Ye=Math.ceil(Ee/3),rs=2*Ye,ts=function(ur){return(Re[ur]^Re[ur+1]<<Ye^Re[ur+2]<<rs)&Je},Xe=new i32(25e3),is=new u16(288),os=new u16(32),hs=0,fs=0,xs=De.i||0,Ss=0,ds=De.w||0,gs=0;xs+2<Me;++xs){var Ts=ts(xs),Ds=xs&32767,Ms=ns[Ts];if(Qe[Ds]=Ms,ns[Ts]=Ds,ds<=xs){var bs=Me-xs;if((hs>7e3||Ss>24576)&&(bs>423||!ze)){Ve=wblk(Re,Be,0,Xe,is,os,fs,Ss,gs,xs-gs,Ve),Ss=hs=fs=0,gs=xs;for(var Ns=0;Ns<286;++Ns)is[Ns]=0;for(var Ns=0;Ns<30;++Ns)os[Ns]=0}var ps=2,_s=0,ws=Ge,js=Ds-Ms&32767;if(bs>2&&Ts==ts(xs-js))for(var ms=Math.min(We,bs)-1,ys=Math.min(32767,xs),ks=Math.min(258,bs);js<=ys&&--ws&&Ds!=Ms;){if(Re[xs+ps]==Re[xs+ps-js]){for(var zs=0;zs<ks&&Re[xs+zs]==Re[xs+zs-js];++zs);if(zs>ps){if(ps=zs,_s=js,zs>ms)break;for(var Cs=Math.min(js,zs-2),Ps=0,Ns=0;Ns<Cs;++Ns){var Us=xs-js+Ns&32767,Is=Qe[Us],Vs=Us-Is&32767;Vs>Ps&&(Ps=Vs,Ms=Us)}}}Ds=Ms,Ms=Qe[Ds],js+=Ds-Ms&32767}if(_s){Xe[Ss++]=268435456|revfl[ps]<<18|revfd[_s];var Ks=revfl[ps]&31,or=revfd[_s]&31;fs+=fleb[Ks]+fdeb[or],++is[257+Ks],++os[or],ds=xs+ps,++hs}else Xe[Ss++]=Re[xs],++is[Re[xs]]}}for(xs=Math.max(xs,ds);xs<Me;++xs)Xe[Ss++]=Re[xs],++is[Re[xs]];Ve=wblk(Re,Be,ze,Xe,is,os,fs,Ss,gs,xs-gs,Ve),ze||(De.r=Ve&7|Be[Ve/8|0]<<3,Ve-=7,De.h=ns,De.p=Qe,De.i=xs,De.w=ds)}else{for(var xs=De.w||0;xs<Me+ze;xs+=65535){var rr=xs+65535;rr>=Me&&(Be[Ve/8|0]=ze,rr=Me),Ve=wfblk(Be,Ve+1,Re.subarray(xs,rr))}De.i=Me}return slc(Oe,0,Ce+shft(Ve)+Te)},adler=function(){var Re=1,e=0;return{p:function(Ee){for(var Ce=Re,Te=e,De=Ee.length|0,Me=0;Me!=De;){for(var Oe=Math.min(Me+2655,De);Me<Oe;++Me)Te+=Ce+=Ee[Me];Ce=(Ce&65535)+15*(Ce>>16),Te=(Te&65535)+15*(Te>>16)}Re=Ce,e=Te},d:function(){return Re%=65521,e%=65521,(Re&255)<<24|(Re&65280)<<8|(e&255)<<8|e>>8}}},dopt=function(Re,e,Ee,Ce,Te){if(!Te&&(Te={l:1},e.dictionary)){var De=e.dictionary.subarray(-32768),Me=new u8(De.length+Re.length);Me.set(De),Me.set(Re,De.length),Re=Me,Te.w=De.length}return dflt(Re,e.level==null?6:e.level,e.mem==null?Te.l?Math.ceil(Math.max(8,Math.min(13,Math.log(Re.length)))*1.5):20:12+e.mem,Ee,Ce,Te)},wbytes=function(Re,e,Ee){for(;Ee;++e)Re[e]=Ee,Ee>>>=8},zlh=function(Re,e){var Ee=e.level,Ce=Ee==0?0:Ee<6?1:Ee==9?3:2;if(Re[0]=120,Re[1]=Ce<<6|(e.dictionary&&32),Re[1]|=31-(Re[0]<<8|Re[1])%31,e.dictionary){var Te=adler();Te.p(e.dictionary),wbytes(Re,2,Te.d())}};function zlibSync(Re,e){e||(e={});var Ee=adler();Ee.p(Re);var Ce=dopt(Re,e,e.dictionary?6:2,4);return zlh(Ce,e),wbytes(Ce,Ce.length-4,Ee.d()),Ce}var td=typeof TextDecoder<"u"&&new TextDecoder,tds=0;try{td.decode(et$1,{stream:!0}),tds=1}catch{}function _arrayWithHoles$1(Re){if(Array.isArray(Re))return Re}function _iterableToArrayLimit$1(Re,e){var Ee=Re==null?null:typeof Symbol<"u"&&Re[Symbol.iterator]||Re["@@iterator"];if(Ee!=null){var Ce,Te,De,Me,Oe=[],Be=!0,ze=!1;try{if(De=(Ee=Ee.call(Re)).next,e!==0)for(;!(Be=(Ce=De.call(Ee)).done)&&(Oe.push(Ce.value),Oe.length!==e);Be=!0);}catch(Ve){ze=!0,Te=Ve}finally{try{if(!Be&&Ee.return!=null&&(Me=Ee.return(),Object(Me)!==Me))return}finally{if(ze)throw Te}}return Oe}}function _arrayLikeToArray$1(Re,e){(e==null||e>Re.length)&&(e=Re.length);for(var Ee=0,Ce=Array(e);Ee<e;Ee++)Ce[Ee]=Re[Ee];return Ce}function _unsupportedIterableToArray$1(Re,e){if(Re){if(typeof Re=="string")return _arrayLikeToArray$1(Re,e);var Ee={}.toString.call(Re).slice(8,-1);return Ee==="Object"&&Re.constructor&&(Ee=Re.constructor.name),Ee==="Map"||Ee==="Set"?Array.from(Re):Ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ee)?_arrayLikeToArray$1(Re,e):void 0}}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray$1(Re,e){return _arrayWithHoles$1(Re)||_iterableToArrayLimit$1(Re,e)||_unsupportedIterableToArray$1(Re,e)||_nonIterableRest$1()}function decode$1(Re,e="utf8"){return new TextDecoder(e).decode(Re)}const encoder=new TextEncoder;function encode$1(Re){return encoder.encode(Re)}const defaultByteLength=1024*8,hostBigEndian=(()=>{const Re=new Uint8Array(4),e=new Uint32Array(Re.buffer);return!((e[0]=1)&Re[0])})(),typedArrays={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class IOBuffer{constructor(e=defaultByteLength,Ee={}){qr(this,"buffer");qr(this,"byteLength");qr(this,"byteOffset");qr(this,"length");qr(this,"offset");qr(this,"lastWrittenByte");qr(this,"littleEndian");qr(this,"_data");qr(this,"_mark");qr(this,"_marks");let Ce=!1;typeof e=="number"?e=new ArrayBuffer(e):(Ce=!0,this.lastWrittenByte=e.byteLength);const Te=Ee.offset?Ee.offset>>>0:0,De=e.byteLength-Te;let Me=Te;(ArrayBuffer.isView(e)||e instanceof IOBuffer)&&(e.byteLength!==e.buffer.byteLength&&(Me=e.byteOffset+Te),e=e.buffer),Ce?this.lastWrittenByte=De:this.lastWrittenByte=0,this.buffer=e,this.length=De,this.byteLength=De,this.byteOffset=Me,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,Me,De),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const Ce=(this.offset+e)*2,Te=new Uint8Array(Ce);Te.set(new Uint8Array(this.buffer)),this.buffer=Te.buffer,this.length=Ce,this.byteLength=Ce,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,Ee){const Ce=typedArrays[Ee].BYTES_PER_ELEMENT*e,Te=this.byteOffset+this.offset,De=this.buffer.slice(Te,Te+Ce);if(this.littleEndian===hostBigEndian&&Ee!=="uint8"&&Ee!=="int8"){const Oe=new Uint8Array(this.buffer.slice(Te,Te+Ce));Oe.reverse();const Be=new typedArrays[Ee](Oe.buffer);return this.offset+=Ce,Be.reverse(),Be}const Me=new typedArrays[Ee](De);return this.offset+=Ce,Me}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let Ee="";for(let Ce=0;Ce<e;Ce++)Ee+=this.readChar();return Ee}readUtf8(e=1){return decode$1(this.readBytes(e))}decodeText(e=1,Ee="utf8"){return decode$1(this.readBytes(e),Ee)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let Ee=0;Ee<e.length;Ee++)this._data.setUint8(this.offset++,e[Ee]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let Ee=0;Ee<e.length;Ee++)this.writeUint8(e.charCodeAt(Ee));return this}writeUtf8(e){return this.writeBytes(encode$1(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function zero$1(Re){let e=Re.length;for(;--e>=0;)Re[e]=0}const MIN_MATCH$1=3,MAX_MATCH$1=258,LENGTH_CODES$1=29,LITERALS$1=256,L_CODES$1=LITERALS$1+1+LENGTH_CODES$1,D_CODES$1=30,DIST_CODE_LEN=512,static_ltree=new Array((L_CODES$1+2)*2);zero$1(static_ltree);const static_dtree=new Array(D_CODES$1*2);zero$1(static_dtree);const _dist_code=new Array(DIST_CODE_LEN);zero$1(_dist_code);const _length_code=new Array(MAX_MATCH$1-MIN_MATCH$1+1);zero$1(_length_code);const base_length=new Array(LENGTH_CODES$1);zero$1(base_length);const base_dist=new Array(D_CODES$1);zero$1(base_dist);const adler32=(Re,e,Ee,Ce)=>{let Te=Re&65535|0,De=Re>>>16&65535|0,Me=0;for(;Ee!==0;){Me=Ee>2e3?2e3:Ee,Ee-=Me;do Te=Te+e[Ce++]|0,De=De+Te|0;while(--Me);Te%=65521,De%=65521}return Te|De<<16|0};var adler32_1=adler32;const makeTable=()=>{let Re,e=[];for(var Ee=0;Ee<256;Ee++){Re=Ee;for(var Ce=0;Ce<8;Ce++)Re=Re&1?3988292384^Re>>>1:Re>>>1;e[Ee]=Re}return e},crcTable$1=new Uint32Array(makeTable()),crc32=(Re,e,Ee,Ce)=>{const Te=crcTable$1,De=Ce+Ee;Re^=-1;for(let Me=Ce;Me<De;Me++)Re=Re>>>8^Te[(Re^e[Me])&255];return Re^-1};var crc32_1=crc32,messages={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},constants$2={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const _has=(Re,e)=>Object.prototype.hasOwnProperty.call(Re,e);var assign$1=function(Re){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const Ee=e.shift();if(Ee){if(typeof Ee!="object")throw new TypeError(Ee+"must be non-object");for(const Ce in Ee)_has(Ee,Ce)&&(Re[Ce]=Ee[Ce])}}return Re},flattenChunks=Re=>{let e=0;for(let Ce=0,Te=Re.length;Ce<Te;Ce++)e+=Re[Ce].length;const Ee=new Uint8Array(e);for(let Ce=0,Te=0,De=Re.length;Ce<De;Ce++){let Me=Re[Ce];Ee.set(Me,Te),Te+=Me.length}return Ee},common={assign:assign$1,flattenChunks};let STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{STR_APPLY_UIA_OK=!1}const _utf8len=new Uint8Array(256);for(let Re=0;Re<256;Re++)_utf8len[Re]=Re>=252?6:Re>=248?5:Re>=240?4:Re>=224?3:Re>=192?2:1;_utf8len[254]=_utf8len[254]=1;var string2buf=Re=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(Re);let e,Ee,Ce,Te,De,Me=Re.length,Oe=0;for(Te=0;Te<Me;Te++)Ee=Re.charCodeAt(Te),(Ee&64512)===55296&&Te+1<Me&&(Ce=Re.charCodeAt(Te+1),(Ce&64512)===56320&&(Ee=65536+(Ee-55296<<10)+(Ce-56320),Te++)),Oe+=Ee<128?1:Ee<2048?2:Ee<65536?3:4;for(e=new Uint8Array(Oe),De=0,Te=0;De<Oe;Te++)Ee=Re.charCodeAt(Te),(Ee&64512)===55296&&Te+1<Me&&(Ce=Re.charCodeAt(Te+1),(Ce&64512)===56320&&(Ee=65536+(Ee-55296<<10)+(Ce-56320),Te++)),Ee<128?e[De++]=Ee:Ee<2048?(e[De++]=192|Ee>>>6,e[De++]=128|Ee&63):Ee<65536?(e[De++]=224|Ee>>>12,e[De++]=128|Ee>>>6&63,e[De++]=128|Ee&63):(e[De++]=240|Ee>>>18,e[De++]=128|Ee>>>12&63,e[De++]=128|Ee>>>6&63,e[De++]=128|Ee&63);return e};const buf2binstring=(Re,e)=>{if(e<65534&&Re.subarray&&STR_APPLY_UIA_OK)return String.fromCharCode.apply(null,Re.length===e?Re:Re.subarray(0,e));let Ee="";for(let Ce=0;Ce<e;Ce++)Ee+=String.fromCharCode(Re[Ce]);return Ee};var buf2string=(Re,e)=>{const Ee=e||Re.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(Re.subarray(0,e));let Ce,Te;const De=new Array(Ee*2);for(Te=0,Ce=0;Ce<Ee;){let Me=Re[Ce++];if(Me<128){De[Te++]=Me;continue}let Oe=_utf8len[Me];if(Oe>4){De[Te++]=65533,Ce+=Oe-1;continue}for(Me&=Oe===2?31:Oe===3?15:7;Oe>1&&Ce<Ee;)Me=Me<<6|Re[Ce++]&63,Oe--;if(Oe>1){De[Te++]=65533;continue}Me<65536?De[Te++]=Me:(Me-=65536,De[Te++]=55296|Me>>10&1023,De[Te++]=56320|Me&1023)}return buf2binstring(De,Te)},utf8border=(Re,e)=>{e=e||Re.length,e>Re.length&&(e=Re.length);let Ee=e-1;for(;Ee>=0&&(Re[Ee]&192)===128;)Ee--;return Ee<0||Ee===0?e:Ee+_utf8len[Re[Ee]]>e?Ee:e},strings={string2buf,buf2string,utf8border};function ZStream(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var zstream=ZStream;const BAD$1=16209,TYPE$1=16191;var inffast=function(e,Ee){let Ce,Te,De,Me,Oe,Be,ze,Ve,qe,We,Ge,Je,Qe,ns,Ye,rs,ts,Xe,is,os,hs,fs,xs,Ss;const ds=e.state;Ce=e.next_in,xs=e.input,Te=Ce+(e.avail_in-5),De=e.next_out,Ss=e.output,Me=De-(Ee-e.avail_out),Oe=De+(e.avail_out-257),Be=ds.dmax,ze=ds.wsize,Ve=ds.whave,qe=ds.wnext,We=ds.window,Ge=ds.hold,Je=ds.bits,Qe=ds.lencode,ns=ds.distcode,Ye=(1<<ds.lenbits)-1,rs=(1<<ds.distbits)-1;e:do{Je<15&&(Ge+=xs[Ce++]<<Je,Je+=8,Ge+=xs[Ce++]<<Je,Je+=8),ts=Qe[Ge&Ye];t:for(;;){if(Xe=ts>>>24,Ge>>>=Xe,Je-=Xe,Xe=ts>>>16&255,Xe===0)Ss[De++]=ts&65535;else if(Xe&16){is=ts&65535,Xe&=15,Xe&&(Je<Xe&&(Ge+=xs[Ce++]<<Je,Je+=8),is+=Ge&(1<<Xe)-1,Ge>>>=Xe,Je-=Xe),Je<15&&(Ge+=xs[Ce++]<<Je,Je+=8,Ge+=xs[Ce++]<<Je,Je+=8),ts=ns[Ge&rs];s:for(;;){if(Xe=ts>>>24,Ge>>>=Xe,Je-=Xe,Xe=ts>>>16&255,Xe&16){if(os=ts&65535,Xe&=15,Je<Xe&&(Ge+=xs[Ce++]<<Je,Je+=8,Je<Xe&&(Ge+=xs[Ce++]<<Je,Je+=8)),os+=Ge&(1<<Xe)-1,os>Be){e.msg="invalid distance too far back",ds.mode=BAD$1;break e}if(Ge>>>=Xe,Je-=Xe,Xe=De-Me,os>Xe){if(Xe=os-Xe,Xe>Ve&&ds.sane){e.msg="invalid distance too far back",ds.mode=BAD$1;break e}if(hs=0,fs=We,qe===0){if(hs+=ze-Xe,Xe<is){is-=Xe;do Ss[De++]=We[hs++];while(--Xe);hs=De-os,fs=Ss}}else if(qe<Xe){if(hs+=ze+qe-Xe,Xe-=qe,Xe<is){is-=Xe;do Ss[De++]=We[hs++];while(--Xe);if(hs=0,qe<is){Xe=qe,is-=Xe;do Ss[De++]=We[hs++];while(--Xe);hs=De-os,fs=Ss}}}else if(hs+=qe-Xe,Xe<is){is-=Xe;do Ss[De++]=We[hs++];while(--Xe);hs=De-os,fs=Ss}for(;is>2;)Ss[De++]=fs[hs++],Ss[De++]=fs[hs++],Ss[De++]=fs[hs++],is-=3;is&&(Ss[De++]=fs[hs++],is>1&&(Ss[De++]=fs[hs++]))}else{hs=De-os;do Ss[De++]=Ss[hs++],Ss[De++]=Ss[hs++],Ss[De++]=Ss[hs++],is-=3;while(is>2);is&&(Ss[De++]=Ss[hs++],is>1&&(Ss[De++]=Ss[hs++]))}}else if((Xe&64)===0){ts=ns[(ts&65535)+(Ge&(1<<Xe)-1)];continue s}else{e.msg="invalid distance code",ds.mode=BAD$1;break e}break}}else if((Xe&64)===0){ts=Qe[(ts&65535)+(Ge&(1<<Xe)-1)];continue t}else if(Xe&32){ds.mode=TYPE$1;break e}else{e.msg="invalid literal/length code",ds.mode=BAD$1;break e}break}}while(Ce<Te&&De<Oe);is=Je>>3,Ce-=is,Je-=is<<3,Ge&=(1<<Je)-1,e.next_in=Ce,e.next_out=De,e.avail_in=Ce<Te?5+(Te-Ce):5-(Ce-Te),e.avail_out=De<Oe?257+(Oe-De):257-(De-Oe),ds.hold=Ge,ds.bits=Je};const MAXBITS=15,ENOUGH_LENS$1=852,ENOUGH_DISTS$1=592,CODES$1=0,LENS$1=1,DISTS$1=2,lbase=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),lext=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),dbase=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),dext=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),inflate_table=(Re,e,Ee,Ce,Te,De,Me,Oe)=>{const Be=Oe.bits;let ze=0,Ve=0,qe=0,We=0,Ge=0,Je=0,Qe=0,ns=0,Ye=0,rs=0,ts,Xe,is,os,hs,fs=null,xs;const Ss=new Uint16Array(MAXBITS+1),ds=new Uint16Array(MAXBITS+1);let gs=null,Ts,Ds,Ms;for(ze=0;ze<=MAXBITS;ze++)Ss[ze]=0;for(Ve=0;Ve<Ce;Ve++)Ss[e[Ee+Ve]]++;for(Ge=Be,We=MAXBITS;We>=1&&Ss[We]===0;We--);if(Ge>We&&(Ge=We),We===0)return Te[De++]=1<<24|64<<16|0,Te[De++]=1<<24|64<<16|0,Oe.bits=1,0;for(qe=1;qe<We&&Ss[qe]===0;qe++);for(Ge<qe&&(Ge=qe),ns=1,ze=1;ze<=MAXBITS;ze++)if(ns<<=1,ns-=Ss[ze],ns<0)return-1;if(ns>0&&(Re===CODES$1||We!==1))return-1;for(ds[1]=0,ze=1;ze<MAXBITS;ze++)ds[ze+1]=ds[ze]+Ss[ze];for(Ve=0;Ve<Ce;Ve++)e[Ee+Ve]!==0&&(Me[ds[e[Ee+Ve]]++]=Ve);if(Re===CODES$1?(fs=gs=Me,xs=20):Re===LENS$1?(fs=lbase,gs=lext,xs=257):(fs=dbase,gs=dext,xs=0),rs=0,Ve=0,ze=qe,hs=De,Je=Ge,Qe=0,is=-1,Ye=1<<Ge,os=Ye-1,Re===LENS$1&&Ye>ENOUGH_LENS$1||Re===DISTS$1&&Ye>ENOUGH_DISTS$1)return 1;for(;;){Ts=ze-Qe,Me[Ve]+1<xs?(Ds=0,Ms=Me[Ve]):Me[Ve]>=xs?(Ds=gs[Me[Ve]-xs],Ms=fs[Me[Ve]-xs]):(Ds=96,Ms=0),ts=1<<ze-Qe,Xe=1<<Je,qe=Xe;do Xe-=ts,Te[hs+(rs>>Qe)+Xe]=Ts<<24|Ds<<16|Ms|0;while(Xe!==0);for(ts=1<<ze-1;rs&ts;)ts>>=1;if(ts!==0?(rs&=ts-1,rs+=ts):rs=0,Ve++,--Ss[ze]===0){if(ze===We)break;ze=e[Ee+Me[Ve]]}if(ze>Ge&&(rs&os)!==is){for(Qe===0&&(Qe=Ge),hs+=qe,Je=ze-Qe,ns=1<<Je;Je+Qe<We&&(ns-=Ss[Je+Qe],!(ns<=0));)Je++,ns<<=1;if(Ye+=1<<Je,Re===LENS$1&&Ye>ENOUGH_LENS$1||Re===DISTS$1&&Ye>ENOUGH_DISTS$1)return 1;is=rs&os,Te[is]=Ge<<24|Je<<16|hs-De|0}}return rs!==0&&(Te[hs+rs]=ze-Qe<<24|64<<16|0),Oe.bits=Ge,0};var inftrees=inflate_table;const CODES=0,LENS=1,DISTS=2,{Z_FINISH:Z_FINISH$1,Z_BLOCK,Z_TREES,Z_OK:Z_OK$1,Z_STREAM_END:Z_STREAM_END$1,Z_NEED_DICT:Z_NEED_DICT$1,Z_STREAM_ERROR:Z_STREAM_ERROR$1,Z_DATA_ERROR:Z_DATA_ERROR$1,Z_MEM_ERROR:Z_MEM_ERROR$1,Z_BUF_ERROR,Z_DEFLATED}=constants$2,HEAD=16180,FLAGS=16181,TIME=16182,OS=16183,EXLEN=16184,EXTRA=16185,NAME=16186,COMMENT=16187,HCRC=16188,DICTID=16189,DICT=16190,TYPE=16191,TYPEDO=16192,STORED=16193,COPY_=16194,COPY=16195,TABLE=16196,LENLENS=16197,CODELENS=16198,LEN_=16199,LEN=16200,LENEXT=16201,DIST=16202,DISTEXT=16203,MATCH=16204,LIT=16205,CHECK=16206,LENGTH=16207,DONE=16208,BAD=16209,MEM=16210,SYNC=16211,ENOUGH_LENS=852,ENOUGH_DISTS=592,MAX_WBITS=15,DEF_WBITS=MAX_WBITS,zswap32=Re=>(Re>>>24&255)+(Re>>>8&65280)+((Re&65280)<<8)+((Re&255)<<24);function InflateState(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const inflateStateCheck=Re=>{if(!Re)return 1;const e=Re.state;return!e||e.strm!==Re||e.mode<HEAD||e.mode>SYNC?1:0},inflateResetKeep=Re=>{if(inflateStateCheck(Re))return Z_STREAM_ERROR$1;const e=Re.state;return Re.total_in=Re.total_out=e.total=0,Re.msg="",e.wrap&&(Re.adler=e.wrap&1),e.mode=HEAD,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ENOUGH_LENS),e.distcode=e.distdyn=new Int32Array(ENOUGH_DISTS),e.sane=1,e.back=-1,Z_OK$1},inflateReset=Re=>{if(inflateStateCheck(Re))return Z_STREAM_ERROR$1;const e=Re.state;return e.wsize=0,e.whave=0,e.wnext=0,inflateResetKeep(Re)},inflateReset2=(Re,e)=>{let Ee;if(inflateStateCheck(Re))return Z_STREAM_ERROR$1;const Ce=Re.state;return e<0?(Ee=0,e=-e):(Ee=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Z_STREAM_ERROR$1:(Ce.window!==null&&Ce.wbits!==e&&(Ce.window=null),Ce.wrap=Ee,Ce.wbits=e,inflateReset(Re))},inflateInit2=(Re,e)=>{if(!Re)return Z_STREAM_ERROR$1;const Ee=new InflateState;Re.state=Ee,Ee.strm=Re,Ee.window=null,Ee.mode=HEAD;const Ce=inflateReset2(Re,e);return Ce!==Z_OK$1&&(Re.state=null),Ce},inflateInit=Re=>inflateInit2(Re,DEF_WBITS);let virgin=!0,lenfix,distfix;const fixedtables=Re=>{if(virgin){lenfix=new Int32Array(512),distfix=new Int32Array(32);let e=0;for(;e<144;)Re.lens[e++]=8;for(;e<256;)Re.lens[e++]=9;for(;e<280;)Re.lens[e++]=7;for(;e<288;)Re.lens[e++]=8;for(inftrees(LENS,Re.lens,0,288,lenfix,0,Re.work,{bits:9}),e=0;e<32;)Re.lens[e++]=5;inftrees(DISTS,Re.lens,0,32,distfix,0,Re.work,{bits:5}),virgin=!1}Re.lencode=lenfix,Re.lenbits=9,Re.distcode=distfix,Re.distbits=5},updatewindow=(Re,e,Ee,Ce)=>{let Te;const De=Re.state;return De.window===null&&(De.wsize=1<<De.wbits,De.wnext=0,De.whave=0,De.window=new Uint8Array(De.wsize)),Ce>=De.wsize?(De.window.set(e.subarray(Ee-De.wsize,Ee),0),De.wnext=0,De.whave=De.wsize):(Te=De.wsize-De.wnext,Te>Ce&&(Te=Ce),De.window.set(e.subarray(Ee-Ce,Ee-Ce+Te),De.wnext),Ce-=Te,Ce?(De.window.set(e.subarray(Ee-Ce,Ee),0),De.wnext=Ce,De.whave=De.wsize):(De.wnext+=Te,De.wnext===De.wsize&&(De.wnext=0),De.whave<De.wsize&&(De.whave+=Te))),0},inflate$2=(Re,e)=>{let Ee,Ce,Te,De,Me,Oe,Be,ze,Ve,qe,We,Ge,Je,Qe,ns=0,Ye,rs,ts,Xe,is,os,hs,fs;const xs=new Uint8Array(4);let Ss,ds;const gs=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(inflateStateCheck(Re)||!Re.output||!Re.input&&Re.avail_in!==0)return Z_STREAM_ERROR$1;Ee=Re.state,Ee.mode===TYPE&&(Ee.mode=TYPEDO),Me=Re.next_out,Te=Re.output,Be=Re.avail_out,De=Re.next_in,Ce=Re.input,Oe=Re.avail_in,ze=Ee.hold,Ve=Ee.bits,qe=Oe,We=Be,fs=Z_OK$1;e:for(;;)switch(Ee.mode){case HEAD:if(Ee.wrap===0){Ee.mode=TYPEDO;break}for(;Ve<16;){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}if(Ee.wrap&2&&ze===35615){Ee.wbits===0&&(Ee.wbits=15),Ee.check=0,xs[0]=ze&255,xs[1]=ze>>>8&255,Ee.check=crc32_1(Ee.check,xs,2,0),ze=0,Ve=0,Ee.mode=FLAGS;break}if(Ee.head&&(Ee.head.done=!1),!(Ee.wrap&1)||(((ze&255)<<8)+(ze>>8))%31){Re.msg="incorrect header check",Ee.mode=BAD;break}if((ze&15)!==Z_DEFLATED){Re.msg="unknown compression method",Ee.mode=BAD;break}if(ze>>>=4,Ve-=4,hs=(ze&15)+8,Ee.wbits===0&&(Ee.wbits=hs),hs>15||hs>Ee.wbits){Re.msg="invalid window size",Ee.mode=BAD;break}Ee.dmax=1<<Ee.wbits,Ee.flags=0,Re.adler=Ee.check=1,Ee.mode=ze&512?DICTID:TYPE,ze=0,Ve=0;break;case FLAGS:for(;Ve<16;){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}if(Ee.flags=ze,(Ee.flags&255)!==Z_DEFLATED){Re.msg="unknown compression method",Ee.mode=BAD;break}if(Ee.flags&57344){Re.msg="unknown header flags set",Ee.mode=BAD;break}Ee.head&&(Ee.head.text=ze>>8&1),Ee.flags&512&&Ee.wrap&4&&(xs[0]=ze&255,xs[1]=ze>>>8&255,Ee.check=crc32_1(Ee.check,xs,2,0)),ze=0,Ve=0,Ee.mode=TIME;case TIME:for(;Ve<32;){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}Ee.head&&(Ee.head.time=ze),Ee.flags&512&&Ee.wrap&4&&(xs[0]=ze&255,xs[1]=ze>>>8&255,xs[2]=ze>>>16&255,xs[3]=ze>>>24&255,Ee.check=crc32_1(Ee.check,xs,4,0)),ze=0,Ve=0,Ee.mode=OS;case OS:for(;Ve<16;){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}Ee.head&&(Ee.head.xflags=ze&255,Ee.head.os=ze>>8),Ee.flags&512&&Ee.wrap&4&&(xs[0]=ze&255,xs[1]=ze>>>8&255,Ee.check=crc32_1(Ee.check,xs,2,0)),ze=0,Ve=0,Ee.mode=EXLEN;case EXLEN:if(Ee.flags&1024){for(;Ve<16;){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}Ee.length=ze,Ee.head&&(Ee.head.extra_len=ze),Ee.flags&512&&Ee.wrap&4&&(xs[0]=ze&255,xs[1]=ze>>>8&255,Ee.check=crc32_1(Ee.check,xs,2,0)),ze=0,Ve=0}else Ee.head&&(Ee.head.extra=null);Ee.mode=EXTRA;case EXTRA:if(Ee.flags&1024&&(Ge=Ee.length,Ge>Oe&&(Ge=Oe),Ge&&(Ee.head&&(hs=Ee.head.extra_len-Ee.length,Ee.head.extra||(Ee.head.extra=new Uint8Array(Ee.head.extra_len)),Ee.head.extra.set(Ce.subarray(De,De+Ge),hs)),Ee.flags&512&&Ee.wrap&4&&(Ee.check=crc32_1(Ee.check,Ce,Ge,De)),Oe-=Ge,De+=Ge,Ee.length-=Ge),Ee.length))break e;Ee.length=0,Ee.mode=NAME;case NAME:if(Ee.flags&2048){if(Oe===0)break e;Ge=0;do hs=Ce[De+Ge++],Ee.head&&hs&&Ee.length<65536&&(Ee.head.name+=String.fromCharCode(hs));while(hs&&Ge<Oe);if(Ee.flags&512&&Ee.wrap&4&&(Ee.check=crc32_1(Ee.check,Ce,Ge,De)),Oe-=Ge,De+=Ge,hs)break e}else Ee.head&&(Ee.head.name=null);Ee.length=0,Ee.mode=COMMENT;case COMMENT:if(Ee.flags&4096){if(Oe===0)break e;Ge=0;do hs=Ce[De+Ge++],Ee.head&&hs&&Ee.length<65536&&(Ee.head.comment+=String.fromCharCode(hs));while(hs&&Ge<Oe);if(Ee.flags&512&&Ee.wrap&4&&(Ee.check=crc32_1(Ee.check,Ce,Ge,De)),Oe-=Ge,De+=Ge,hs)break e}else Ee.head&&(Ee.head.comment=null);Ee.mode=HCRC;case HCRC:if(Ee.flags&512){for(;Ve<16;){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}if(Ee.wrap&4&&ze!==(Ee.check&65535)){Re.msg="header crc mismatch",Ee.mode=BAD;break}ze=0,Ve=0}Ee.head&&(Ee.head.hcrc=Ee.flags>>9&1,Ee.head.done=!0),Re.adler=Ee.check=0,Ee.mode=TYPE;break;case DICTID:for(;Ve<32;){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}Re.adler=Ee.check=zswap32(ze),ze=0,Ve=0,Ee.mode=DICT;case DICT:if(Ee.havedict===0)return Re.next_out=Me,Re.avail_out=Be,Re.next_in=De,Re.avail_in=Oe,Ee.hold=ze,Ee.bits=Ve,Z_NEED_DICT$1;Re.adler=Ee.check=1,Ee.mode=TYPE;case TYPE:if(e===Z_BLOCK||e===Z_TREES)break e;case TYPEDO:if(Ee.last){ze>>>=Ve&7,Ve-=Ve&7,Ee.mode=CHECK;break}for(;Ve<3;){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}switch(Ee.last=ze&1,ze>>>=1,Ve-=1,ze&3){case 0:Ee.mode=STORED;break;case 1:if(fixedtables(Ee),Ee.mode=LEN_,e===Z_TREES){ze>>>=2,Ve-=2;break e}break;case 2:Ee.mode=TABLE;break;case 3:Re.msg="invalid block type",Ee.mode=BAD}ze>>>=2,Ve-=2;break;case STORED:for(ze>>>=Ve&7,Ve-=Ve&7;Ve<32;){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}if((ze&65535)!==(ze>>>16^65535)){Re.msg="invalid stored block lengths",Ee.mode=BAD;break}if(Ee.length=ze&65535,ze=0,Ve=0,Ee.mode=COPY_,e===Z_TREES)break e;case COPY_:Ee.mode=COPY;case COPY:if(Ge=Ee.length,Ge){if(Ge>Oe&&(Ge=Oe),Ge>Be&&(Ge=Be),Ge===0)break e;Te.set(Ce.subarray(De,De+Ge),Me),Oe-=Ge,De+=Ge,Be-=Ge,Me+=Ge,Ee.length-=Ge;break}Ee.mode=TYPE;break;case TABLE:for(;Ve<14;){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}if(Ee.nlen=(ze&31)+257,ze>>>=5,Ve-=5,Ee.ndist=(ze&31)+1,ze>>>=5,Ve-=5,Ee.ncode=(ze&15)+4,ze>>>=4,Ve-=4,Ee.nlen>286||Ee.ndist>30){Re.msg="too many length or distance symbols",Ee.mode=BAD;break}Ee.have=0,Ee.mode=LENLENS;case LENLENS:for(;Ee.have<Ee.ncode;){for(;Ve<3;){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}Ee.lens[gs[Ee.have++]]=ze&7,ze>>>=3,Ve-=3}for(;Ee.have<19;)Ee.lens[gs[Ee.have++]]=0;if(Ee.lencode=Ee.lendyn,Ee.lenbits=7,Ss={bits:Ee.lenbits},fs=inftrees(CODES,Ee.lens,0,19,Ee.lencode,0,Ee.work,Ss),Ee.lenbits=Ss.bits,fs){Re.msg="invalid code lengths set",Ee.mode=BAD;break}Ee.have=0,Ee.mode=CODELENS;case CODELENS:for(;Ee.have<Ee.nlen+Ee.ndist;){for(;ns=Ee.lencode[ze&(1<<Ee.lenbits)-1],Ye=ns>>>24,rs=ns>>>16&255,ts=ns&65535,!(Ye<=Ve);){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}if(ts<16)ze>>>=Ye,Ve-=Ye,Ee.lens[Ee.have++]=ts;else{if(ts===16){for(ds=Ye+2;Ve<ds;){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}if(ze>>>=Ye,Ve-=Ye,Ee.have===0){Re.msg="invalid bit length repeat",Ee.mode=BAD;break}hs=Ee.lens[Ee.have-1],Ge=3+(ze&3),ze>>>=2,Ve-=2}else if(ts===17){for(ds=Ye+3;Ve<ds;){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}ze>>>=Ye,Ve-=Ye,hs=0,Ge=3+(ze&7),ze>>>=3,Ve-=3}else{for(ds=Ye+7;Ve<ds;){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}ze>>>=Ye,Ve-=Ye,hs=0,Ge=11+(ze&127),ze>>>=7,Ve-=7}if(Ee.have+Ge>Ee.nlen+Ee.ndist){Re.msg="invalid bit length repeat",Ee.mode=BAD;break}for(;Ge--;)Ee.lens[Ee.have++]=hs}}if(Ee.mode===BAD)break;if(Ee.lens[256]===0){Re.msg="invalid code -- missing end-of-block",Ee.mode=BAD;break}if(Ee.lenbits=9,Ss={bits:Ee.lenbits},fs=inftrees(LENS,Ee.lens,0,Ee.nlen,Ee.lencode,0,Ee.work,Ss),Ee.lenbits=Ss.bits,fs){Re.msg="invalid literal/lengths set",Ee.mode=BAD;break}if(Ee.distbits=6,Ee.distcode=Ee.distdyn,Ss={bits:Ee.distbits},fs=inftrees(DISTS,Ee.lens,Ee.nlen,Ee.ndist,Ee.distcode,0,Ee.work,Ss),Ee.distbits=Ss.bits,fs){Re.msg="invalid distances set",Ee.mode=BAD;break}if(Ee.mode=LEN_,e===Z_TREES)break e;case LEN_:Ee.mode=LEN;case LEN:if(Oe>=6&&Be>=258){Re.next_out=Me,Re.avail_out=Be,Re.next_in=De,Re.avail_in=Oe,Ee.hold=ze,Ee.bits=Ve,inffast(Re,We),Me=Re.next_out,Te=Re.output,Be=Re.avail_out,De=Re.next_in,Ce=Re.input,Oe=Re.avail_in,ze=Ee.hold,Ve=Ee.bits,Ee.mode===TYPE&&(Ee.back=-1);break}for(Ee.back=0;ns=Ee.lencode[ze&(1<<Ee.lenbits)-1],Ye=ns>>>24,rs=ns>>>16&255,ts=ns&65535,!(Ye<=Ve);){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}if(rs&&(rs&240)===0){for(Xe=Ye,is=rs,os=ts;ns=Ee.lencode[os+((ze&(1<<Xe+is)-1)>>Xe)],Ye=ns>>>24,rs=ns>>>16&255,ts=ns&65535,!(Xe+Ye<=Ve);){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}ze>>>=Xe,Ve-=Xe,Ee.back+=Xe}if(ze>>>=Ye,Ve-=Ye,Ee.back+=Ye,Ee.length=ts,rs===0){Ee.mode=LIT;break}if(rs&32){Ee.back=-1,Ee.mode=TYPE;break}if(rs&64){Re.msg="invalid literal/length code",Ee.mode=BAD;break}Ee.extra=rs&15,Ee.mode=LENEXT;case LENEXT:if(Ee.extra){for(ds=Ee.extra;Ve<ds;){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}Ee.length+=ze&(1<<Ee.extra)-1,ze>>>=Ee.extra,Ve-=Ee.extra,Ee.back+=Ee.extra}Ee.was=Ee.length,Ee.mode=DIST;case DIST:for(;ns=Ee.distcode[ze&(1<<Ee.distbits)-1],Ye=ns>>>24,rs=ns>>>16&255,ts=ns&65535,!(Ye<=Ve);){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}if((rs&240)===0){for(Xe=Ye,is=rs,os=ts;ns=Ee.distcode[os+((ze&(1<<Xe+is)-1)>>Xe)],Ye=ns>>>24,rs=ns>>>16&255,ts=ns&65535,!(Xe+Ye<=Ve);){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}ze>>>=Xe,Ve-=Xe,Ee.back+=Xe}if(ze>>>=Ye,Ve-=Ye,Ee.back+=Ye,rs&64){Re.msg="invalid distance code",Ee.mode=BAD;break}Ee.offset=ts,Ee.extra=rs&15,Ee.mode=DISTEXT;case DISTEXT:if(Ee.extra){for(ds=Ee.extra;Ve<ds;){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}Ee.offset+=ze&(1<<Ee.extra)-1,ze>>>=Ee.extra,Ve-=Ee.extra,Ee.back+=Ee.extra}if(Ee.offset>Ee.dmax){Re.msg="invalid distance too far back",Ee.mode=BAD;break}Ee.mode=MATCH;case MATCH:if(Be===0)break e;if(Ge=We-Be,Ee.offset>Ge){if(Ge=Ee.offset-Ge,Ge>Ee.whave&&Ee.sane){Re.msg="invalid distance too far back",Ee.mode=BAD;break}Ge>Ee.wnext?(Ge-=Ee.wnext,Je=Ee.wsize-Ge):Je=Ee.wnext-Ge,Ge>Ee.length&&(Ge=Ee.length),Qe=Ee.window}else Qe=Te,Je=Me-Ee.offset,Ge=Ee.length;Ge>Be&&(Ge=Be),Be-=Ge,Ee.length-=Ge;do Te[Me++]=Qe[Je++];while(--Ge);Ee.length===0&&(Ee.mode=LEN);break;case LIT:if(Be===0)break e;Te[Me++]=Ee.length,Be--,Ee.mode=LEN;break;case CHECK:if(Ee.wrap){for(;Ve<32;){if(Oe===0)break e;Oe--,ze|=Ce[De++]<<Ve,Ve+=8}if(We-=Be,Re.total_out+=We,Ee.total+=We,Ee.wrap&4&&We&&(Re.adler=Ee.check=Ee.flags?crc32_1(Ee.check,Te,We,Me-We):adler32_1(Ee.check,Te,We,Me-We)),We=Be,Ee.wrap&4&&(Ee.flags?ze:zswap32(ze))!==Ee.check){Re.msg="incorrect data check",Ee.mode=BAD;break}ze=0,Ve=0}Ee.mode=LENGTH;case LENGTH:if(Ee.wrap&&Ee.flags){for(;Ve<32;){if(Oe===0)break e;Oe--,ze+=Ce[De++]<<Ve,Ve+=8}if(Ee.wrap&4&&ze!==(Ee.total&4294967295)){Re.msg="incorrect length check",Ee.mode=BAD;break}ze=0,Ve=0}Ee.mode=DONE;case DONE:fs=Z_STREAM_END$1;break e;case BAD:fs=Z_DATA_ERROR$1;break e;case MEM:return Z_MEM_ERROR$1;case SYNC:default:return Z_STREAM_ERROR$1}return Re.next_out=Me,Re.avail_out=Be,Re.next_in=De,Re.avail_in=Oe,Ee.hold=ze,Ee.bits=Ve,(Ee.wsize||We!==Re.avail_out&&Ee.mode<BAD&&(Ee.mode<CHECK||e!==Z_FINISH$1))&&updatewindow(Re,Re.output,Re.next_out,We-Re.avail_out),qe-=Re.avail_in,We-=Re.avail_out,Re.total_in+=qe,Re.total_out+=We,Ee.total+=We,Ee.wrap&4&&We&&(Re.adler=Ee.check=Ee.flags?crc32_1(Ee.check,Te,We,Re.next_out-We):adler32_1(Ee.check,Te,We,Re.next_out-We)),Re.data_type=Ee.bits+(Ee.last?64:0)+(Ee.mode===TYPE?128:0)+(Ee.mode===LEN_||Ee.mode===COPY_?256:0),(qe===0&&We===0||e===Z_FINISH$1)&&fs===Z_OK$1&&(fs=Z_BUF_ERROR),fs},inflateEnd=Re=>{if(inflateStateCheck(Re))return Z_STREAM_ERROR$1;let e=Re.state;return e.window&&(e.window=null),Re.state=null,Z_OK$1},inflateGetHeader=(Re,e)=>{if(inflateStateCheck(Re))return Z_STREAM_ERROR$1;const Ee=Re.state;return(Ee.wrap&2)===0?Z_STREAM_ERROR$1:(Ee.head=e,e.done=!1,Z_OK$1)},inflateSetDictionary=(Re,e)=>{const Ee=e.length;let Ce,Te,De;return inflateStateCheck(Re)||(Ce=Re.state,Ce.wrap!==0&&Ce.mode!==DICT)?Z_STREAM_ERROR$1:Ce.mode===DICT&&(Te=1,Te=adler32_1(Te,e,Ee,0),Te!==Ce.check)?Z_DATA_ERROR$1:(De=updatewindow(Re,e,Ee,Ee),De?(Ce.mode=MEM,Z_MEM_ERROR$1):(Ce.havedict=1,Z_OK$1))};var inflateReset_1=inflateReset,inflateReset2_1=inflateReset2,inflateResetKeep_1=inflateResetKeep,inflateInit_1=inflateInit,inflateInit2_1=inflateInit2,inflate_2$1=inflate$2,inflateEnd_1=inflateEnd,inflateGetHeader_1=inflateGetHeader,inflateSetDictionary_1=inflateSetDictionary,inflateInfo="pako inflate (from Nodeca project)",inflate_1$2={inflateReset:inflateReset_1,inflateReset2:inflateReset2_1,inflateResetKeep:inflateResetKeep_1,inflateInit:inflateInit_1,inflateInit2:inflateInit2_1,inflate:inflate_2$1,inflateEnd:inflateEnd_1,inflateGetHeader:inflateGetHeader_1,inflateSetDictionary:inflateSetDictionary_1,inflateInfo};function GZheader(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var gzheader=GZheader;const toString=Object.prototype.toString,{Z_NO_FLUSH,Z_FINISH,Z_OK,Z_STREAM_END,Z_NEED_DICT,Z_STREAM_ERROR,Z_DATA_ERROR,Z_MEM_ERROR}=constants$2;function Inflate$1(Re){this.options=common.assign({chunkSize:1024*64,windowBits:15,to:""},Re||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(Re&&Re.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new zstream,this.strm.avail_out=0;let Ee=inflate_1$2.inflateInit2(this.strm,e.windowBits);if(Ee!==Z_OK)throw new Error(messages[Ee]);if(this.header=new gzheader,inflate_1$2.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=strings.string2buf(e.dictionary):toString.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(Ee=inflate_1$2.inflateSetDictionary(this.strm,e.dictionary),Ee!==Z_OK)))throw new Error(messages[Ee])}Inflate$1.prototype.push=function(Re,e){const Ee=this.strm,Ce=this.options.chunkSize,Te=this.options.dictionary;let De,Me,Oe;if(this.ended)return!1;for(e===~~e?Me=e:Me=e===!0?Z_FINISH:Z_NO_FLUSH,toString.call(Re)==="[object ArrayBuffer]"?Ee.input=new Uint8Array(Re):Ee.input=Re,Ee.next_in=0,Ee.avail_in=Ee.input.length;;){for(Ee.avail_out===0&&(Ee.output=new Uint8Array(Ce),Ee.next_out=0,Ee.avail_out=Ce),De=inflate_1$2.inflate(Ee,Me),De===Z_NEED_DICT&&Te&&(De=inflate_1$2.inflateSetDictionary(Ee,Te),De===Z_OK?De=inflate_1$2.inflate(Ee,Me):De===Z_DATA_ERROR&&(De=Z_NEED_DICT));Ee.avail_in>0&&De===Z_STREAM_END&&Ee.state.wrap>0&&Re[Ee.next_in]!==0;)inflate_1$2.inflateReset(Ee),De=inflate_1$2.inflate(Ee,Me);switch(De){case Z_STREAM_ERROR:case Z_DATA_ERROR:case Z_NEED_DICT:case Z_MEM_ERROR:return this.onEnd(De),this.ended=!0,!1}if(Oe=Ee.avail_out,Ee.next_out&&(Ee.avail_out===0||De===Z_STREAM_END))if(this.options.to==="string"){let Be=strings.utf8border(Ee.output,Ee.next_out),ze=Ee.next_out-Be,Ve=strings.buf2string(Ee.output,Be);Ee.next_out=ze,Ee.avail_out=Ce-ze,ze&&Ee.output.set(Ee.output.subarray(Be,Be+ze),0),this.onData(Ve)}else this.onData(Ee.output.length===Ee.next_out?Ee.output:Ee.output.subarray(0,Ee.next_out));if(!(De===Z_OK&&Oe===0)){if(De===Z_STREAM_END)return De=inflate_1$2.inflateEnd(this.strm),this.onEnd(De),this.ended=!0,!0;if(Ee.avail_in===0)break}}return!0};Inflate$1.prototype.onData=function(Re){this.chunks.push(Re)};Inflate$1.prototype.onEnd=function(Re){Re===Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=common.flattenChunks(this.chunks)),this.chunks=[],this.err=Re,this.msg=this.strm.msg};function inflate$1(Re,e){const Ee=new Inflate$1(e);if(Ee.push(Re),Ee.err)throw Ee.msg||messages[Ee.err];return Ee.result}var Inflate_1$1=Inflate$1,inflate_2=inflate$1,inflate_1$1={Inflate:Inflate_1$1,inflate:inflate_2};const{Inflate,inflate}=inflate_1$1;var Inflate_1=Inflate,inflate_1=inflate;const crcTable=[];for(let Re=0;Re<256;Re++){let e=Re;for(let Ee=0;Ee<8;Ee++)e&1?e=3988292384^e>>>1:e=e>>>1;crcTable[Re]=e}const initialCrc=4294967295;function updateCrc(Re,e,Ee){let Ce=Re;for(let Te=0;Te<Ee;Te++)Ce=crcTable[(Ce^e[Te])&255]^Ce>>>8;return Ce}function crc(Re,e){return(updateCrc(initialCrc,Re,e)^initialCrc)>>>0}function checkCrc(Re,e,Ee){const Ce=Re.readUint32(),Te=crc(new Uint8Array(Re.buffer,Re.byteOffset+Re.offset-e-4,e),e);if(Te!==Ce)throw new Error(`CRC mismatch for chunk ${Ee}. Expected ${Ce}, found ${Te}`)}function unfilterNone(Re,e,Ee){for(let Ce=0;Ce<Ee;Ce++)e[Ce]=Re[Ce]}function unfilterSub(Re,e,Ee,Ce){let Te=0;for(;Te<Ce;Te++)e[Te]=Re[Te];for(;Te<Ee;Te++)e[Te]=Re[Te]+e[Te-Ce]&255}function unfilterUp(Re,e,Ee,Ce){let Te=0;if(Ee.length===0)for(;Te<Ce;Te++)e[Te]=Re[Te];else for(;Te<Ce;Te++)e[Te]=Re[Te]+Ee[Te]&255}function unfilterAverage(Re,e,Ee,Ce,Te){let De=0;if(Ee.length===0){for(;De<Te;De++)e[De]=Re[De];for(;De<Ce;De++)e[De]=Re[De]+(e[De-Te]>>1)&255}else{for(;De<Te;De++)e[De]=Re[De]+(Ee[De]>>1)&255;for(;De<Ce;De++)e[De]=Re[De]+(e[De-Te]+Ee[De]>>1)&255}}function unfilterPaeth(Re,e,Ee,Ce,Te){let De=0;if(Ee.length===0){for(;De<Te;De++)e[De]=Re[De];for(;De<Ce;De++)e[De]=Re[De]+e[De-Te]&255}else{for(;De<Te;De++)e[De]=Re[De]+Ee[De]&255;for(;De<Ce;De++)e[De]=Re[De]+paethPredictor(e[De-Te],Ee[De],Ee[De-Te])&255}}function paethPredictor(Re,e,Ee){const Ce=Re+e-Ee,Te=Math.abs(Ce-Re),De=Math.abs(Ce-e),Me=Math.abs(Ce-Ee);return Te<=De&&Te<=Me?Re:De<=Me?e:Ee}function applyUnfilter(Re,e,Ee,Ce,Te,De){switch(Re){case 0:unfilterNone(e,Ee,Te);break;case 1:unfilterSub(e,Ee,Te,De);break;case 2:unfilterUp(e,Ee,Ce,Te);break;case 3:unfilterAverage(e,Ee,Ce,Te,De);break;case 4:unfilterPaeth(e,Ee,Ce,Te,De);break;default:throw new Error(`Unsupported filter: ${Re}`)}}const uint16$1=new Uint16Array([255]),uint8$1=new Uint8Array(uint16$1.buffer),osIsLittleEndian$1=uint8$1[0]===255;function decodeInterlaceAdam7(Re){const{data:e,width:Ee,height:Ce,channels:Te,depth:De}=Re,Me=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],Oe=Math.ceil(De/8)*Te,Be=new Uint8Array(Ce*Ee*Oe);let ze=0;for(let Ve=0;Ve<7;Ve++){const qe=Me[Ve],We=Math.ceil((Ee-qe.x)/qe.xStep),Ge=Math.ceil((Ce-qe.y)/qe.yStep);if(We<=0||Ge<=0)continue;const Je=We*Oe,Qe=new Uint8Array(Je);for(let ns=0;ns<Ge;ns++){const Ye=e[ze++],rs=e.subarray(ze,ze+Je);ze+=Je;const ts=new Uint8Array(Je);applyUnfilter(Ye,rs,ts,Qe,Je,Oe),Qe.set(ts);for(let Xe=0;Xe<We;Xe++){const is=qe.x+Xe*qe.xStep,os=qe.y+ns*qe.yStep;if(!(is>=Ee||os>=Ce))for(let hs=0;hs<Oe;hs++)Be[(os*Ee+is)*Oe+hs]=ts[Xe*Oe+hs]}}}if(De===16){const Ve=new Uint16Array(Be.buffer);if(osIsLittleEndian$1)for(let qe=0;qe<Ve.length;qe++)Ve[qe]=swap16$1(Ve[qe]);return Ve}else return Be}function swap16$1(Re){return(Re&255)<<8|Re>>8&255}const uint16=new Uint16Array([255]),uint8=new Uint8Array(uint16.buffer),osIsLittleEndian=uint8[0]===255,empty=new Uint8Array(0);function decodeInterlaceNull(Re){const{data:e,width:Ee,height:Ce,channels:Te,depth:De}=Re,Me=Math.ceil(De/8)*Te,Oe=Math.ceil(De/8*Te*Ee),Be=new Uint8Array(Ce*Oe);let ze=empty,Ve=0,qe,We;for(let Ge=0;Ge<Ce;Ge++){switch(qe=e.subarray(Ve+1,Ve+1+Oe),We=Be.subarray(Ge*Oe,(Ge+1)*Oe),e[Ve]){case 0:unfilterNone(qe,We,Oe);break;case 1:unfilterSub(qe,We,Oe,Me);break;case 2:unfilterUp(qe,We,ze,Oe);break;case 3:unfilterAverage(qe,We,ze,Oe,Me);break;case 4:unfilterPaeth(qe,We,ze,Oe,Me);break;default:throw new Error(`Unsupported filter: ${e[Ve]}`)}ze=We,Ve+=Oe+1}if(De===16){const Ge=new Uint16Array(Be.buffer);if(osIsLittleEndian)for(let Je=0;Je<Ge.length;Je++)Ge[Je]=swap16(Ge[Je]);return Ge}else return Be}function swap16(Re){return(Re&255)<<8|Re>>8&255}const pngSignature=Uint8Array.of(137,80,78,71,13,10,26,10);function checkSignature(Re){if(!hasPngSignature(Re.readBytes(pngSignature.length)))throw new Error("wrong PNG signature")}function hasPngSignature(Re){if(Re.length<pngSignature.length)return!1;for(let e=0;e<pngSignature.length;e++)if(Re[e]!==pngSignature[e])return!1;return!0}const textChunkName="tEXt",NULL=0,latin1Decoder=new TextDecoder("latin1");function validateKeyword(Re){if(validateLatin1(Re),Re.length===0||Re.length>79)throw new Error("keyword length must be between 1 and 79")}const latin1Regex=/^[\u0000-\u00FF]*$/;function validateLatin1(Re){if(!latin1Regex.test(Re))throw new Error("invalid latin1 text")}function decodetEXt(Re,e,Ee){const Ce=readKeyword(e);Re[Ce]=readLatin1(e,Ee-Ce.length-1)}function readKeyword(Re){for(Re.mark();Re.readByte()!==NULL;);const e=Re.offset;Re.reset();const Ee=latin1Decoder.decode(Re.readBytes(e-Re.offset-1));return Re.skip(1),validateKeyword(Ee),Ee}function readLatin1(Re,e){return latin1Decoder.decode(Re.readBytes(e))}const ColorType={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},CompressionMethod={UNKNOWN:-1,DEFLATE:0},FilterMethod={UNKNOWN:-1,ADAPTIVE:0},InterlaceMethod={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},DisposeOpType={NONE:0,BACKGROUND:1,PREVIOUS:2},BlendOpType={SOURCE:0,OVER:1};class PngDecoder extends IOBuffer{constructor(Ee,Ce={}){super(Ee);qr(this,"_checkCrc");qr(this,"_inflator");qr(this,"_png");qr(this,"_apng");qr(this,"_end");qr(this,"_hasPalette");qr(this,"_palette");qr(this,"_hasTransparency");qr(this,"_transparency");qr(this,"_compressionMethod");qr(this,"_filterMethod");qr(this,"_interlaceMethod");qr(this,"_colorType");qr(this,"_isAnimated");qr(this,"_numberOfFrames");qr(this,"_numberOfPlays");qr(this,"_frames");qr(this,"_writingDataChunks");const{checkCrc:Te=!1}=Ce;this._checkCrc=Te,this._inflator=new Inflate_1,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=CompressionMethod.UNKNOWN,this._filterMethod=FilterMethod.UNKNOWN,this._interlaceMethod=InterlaceMethod.UNKNOWN,this._colorType=ColorType.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(checkSignature(this);!this._end;){const Ee=this.readUint32(),Ce=this.readChars(4);this.decodeChunk(Ee,Ce)}return this.decodeImage(),this._png}decodeApng(){for(checkSignature(this);!this._end;){const Ee=this.readUint32(),Ce=this.readChars(4);this.decodeApngChunk(Ee,Ce)}return this.decodeApngImage(),this._apng}decodeChunk(Ee,Ce){const Te=this.offset;switch(Ce){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(Ee);break;case"IDAT":this.decodeIDAT(Ee);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(Ee);break;case"iCCP":this.decodeiCCP(Ee);break;case textChunkName:decodetEXt(this._png.text,this,Ee);break;case"pHYs":this.decodepHYs();break;default:this.skip(Ee);break}if(this.offset-Te!==Ee)throw new Error(`Length mismatch while decoding chunk ${Ce}`);this._checkCrc?checkCrc(this,Ee+4,Ce):this.skip(4)}decodeApngChunk(Ee,Ce){const Te=this.offset;switch(Ce!=="fdAT"&&Ce!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),Ce){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(Ee);break;default:this.decodeChunk(Ee,Ce),this.offset=Te+Ee;break}if(this.offset-Te!==Ee)throw new Error(`Length mismatch while decoding chunk ${Ce}`);this._checkCrc?checkCrc(this,Ee+4,Ce):this.skip(4)}decodeIHDR(){const Ee=this._png;Ee.width=this.readUint32(),Ee.height=this.readUint32(),Ee.depth=checkBitDepth(this.readUint8());const Ce=this.readUint8();this._colorType=Ce;let Te;switch(Ce){case ColorType.GREYSCALE:Te=1;break;case ColorType.TRUECOLOUR:Te=3;break;case ColorType.INDEXED_COLOUR:Te=1;break;case ColorType.GREYSCALE_ALPHA:Te=2;break;case ColorType.TRUECOLOUR_ALPHA:Te=4;break;case ColorType.UNKNOWN:default:throw new Error(`Unknown color type: ${Ce}`)}if(this._png.channels=Te,this._compressionMethod=this.readUint8(),this._compressionMethod!==CompressionMethod.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const Ee={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(Ee)}decodePLTE(Ee){if(Ee%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${Ee}`);const Ce=Ee/3;this._hasPalette=!0;const Te=[];this._palette=Te;for(let De=0;De<Ce;De++)Te.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(Ee){this._writingDataChunks=!0;const Ce=Ee,Te=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,Te,Ce)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(Ee)}decodeFDAT(Ee){this._writingDataChunks=!0;let Ce=Ee,Te=this.offset+this.byteOffset;if(Te+=4,Ce-=4,this._inflator.push(new Uint8Array(this.buffer,Te,Ce)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(Ee)}decodetRNS(Ee){switch(this._colorType){case ColorType.GREYSCALE:case ColorType.TRUECOLOUR:{if(Ee%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${Ee}`);if(Ee/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${Ee/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(Ee/2);for(let Ce=0;Ce<Ee/2;Ce++)this._transparency[Ce]=this.readUint16();break}case ColorType.INDEXED_COLOUR:{if(Ee>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${Ee} vs ${this._palette.length})`);let Ce=0;for(;Ce<Ee;Ce++){const Te=this.readByte();this._palette[Ce].push(Te)}for(;Ce<this._palette.length;Ce++)this._palette[Ce].push(255);break}case ColorType.UNKNOWN:case ColorType.GREYSCALE_ALPHA:case ColorType.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(Ee){const Ce=readKeyword(this),Te=this.readUint8();if(Te!==CompressionMethod.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${Te}`);const De=this.readBytes(Ee-Ce.length-2);this._png.iccEmbeddedProfile={name:Ce,profile:inflate_1(De)}}decodepHYs(){const Ee=this.readUint32(),Ce=this.readUint32(),Te=this.readByte();this._png.resolution={x:Ee,y:Ce,unit:Te}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let Ee=0;Ee<this._numberOfFrames;Ee++){const Ce={sequenceNumber:this._frames[Ee].sequenceNumber,delayNumber:this._frames[Ee].delayNumber,delayDenominator:this._frames[Ee].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},Te=this._frames.at(Ee);if(Te){if(Te.data=decodeInterlaceNull({data:Te.data,width:Te.width,height:Te.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),Ee===0||Te.xOffset===0&&Te.yOffset===0&&Te.width===this._png.width&&Te.height===this._png.height)Ce.data=Te.data;else{const De=this._apng.frames.at(Ee-1);this.disposeFrame(Te,De,Ce),this.addFrameDataToCanvas(Ce,Te)}this._apng.frames.push(Ce)}}return this._apng}disposeFrame(Ee,Ce,Te){switch(Ee.disposeOp){case DisposeOpType.NONE:break;case DisposeOpType.BACKGROUND:for(let De=0;De<this._png.height;De++)for(let Me=0;Me<this._png.width;Me++){const Oe=(De*Ee.width+Me)*this._png.channels;for(let Be=0;Be<this._png.channels;Be++)Te.data[Oe+Be]=0}break;case DisposeOpType.PREVIOUS:Te.data.set(Ce.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(Ee,Ce){const Te=1<<this._png.depth,De=(Me,Oe)=>{const Be=((Me+Ce.yOffset)*this._png.width+Ce.xOffset+Oe)*this._png.channels,ze=(Me*Ce.width+Oe)*this._png.channels;return{index:Be,frameIndex:ze}};switch(Ce.blendOp){case BlendOpType.SOURCE:for(let Me=0;Me<Ce.height;Me++)for(let Oe=0;Oe<Ce.width;Oe++){const{index:Be,frameIndex:ze}=De(Me,Oe);for(let Ve=0;Ve<this._png.channels;Ve++)Ee.data[Be+Ve]=Ce.data[ze+Ve]}break;case BlendOpType.OVER:for(let Me=0;Me<Ce.height;Me++)for(let Oe=0;Oe<Ce.width;Oe++){const{index:Be,frameIndex:ze}=De(Me,Oe);for(let Ve=0;Ve<this._png.channels;Ve++){const qe=Ce.data[ze+this._png.channels-1]/Te,We=Ve%(this._png.channels-1)===0?1:Ce.data[ze+Ve],Ge=Math.floor(qe*We+(1-qe)*Ee.data[Be+Ve]);Ee.data[Be+Ve]+=Ge}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var Ce;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const Ee=this._isAnimated?((Ce=this._frames)==null?void 0:Ce.at(0)).data:this._inflator.result;if(this._filterMethod!==FilterMethod.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===InterlaceMethod.NO_INTERLACE)this._png.data=decodeInterlaceNull({data:Ee,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===InterlaceMethod.ADAM7)this._png.data=decodeInterlaceAdam7({data:Ee,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const Ee=this._inflator.result,Ce=this._frames.at(-1);Ce?Ce.data=Ee:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:DisposeOpType.NONE,blendOp:BlendOpType.SOURCE,data:Ee}),this._inflator=new Inflate_1,this._writingDataChunks=!1}}function checkBitDepth(Re){if(Re!==1&&Re!==2&&Re!==4&&Re!==8&&Re!==16)throw new Error(`invalid bit depth: ${Re}`);return Re}var ResolutionUnitSpecifier;(function(Re){Re[Re.UNKNOWN=0]="UNKNOWN",Re[Re.METRE=1]="METRE"})(ResolutionUnitSpecifier||(ResolutionUnitSpecifier={}));function decodePng(Re,e){return new PngDecoder(Re,e).decode()}var i$2=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function a$1(){i$2.console&&typeof i$2.console.log=="function"&&i$2.console.log.apply(i$2.console,arguments)}var o$1={log:a$1,warn:function(Re){i$2.console&&(typeof i$2.console.warn=="function"?i$2.console.warn.apply(i$2.console,arguments):a$1.call(null,arguments))},error:function(Re){i$2.console&&(typeof i$2.console.error=="function"?i$2.console.error.apply(i$2.console,arguments):a$1(Re))}};function s$2(Re,e,Ee){var Ce=new XMLHttpRequest;Ce.open("GET",Re),Ce.responseType="blob",Ce.onload=function(){l(Ce.response,e,Ee)},Ce.onerror=function(){o$1.error("could not download file")},Ce.send()}function u(Re){var e=new XMLHttpRequest;e.open("HEAD",Re,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function c(Re){try{Re.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),Re.dispatchEvent(e)}}var l=i$2.saveAs||((typeof window>"u"?"undefined":_typeof(window))!=="object"||window!==i$2?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(Re,e,Ee){var Ce=i$2.URL||i$2.webkitURL,Te=document.createElement("a");e=e||Re.name||"download",Te.download=e,Te.rel="noopener",typeof Re=="string"?(Te.href=Re,Te.origin!==location.origin?u(Te.href)?s$2(Re,e,Ee):c(Te,Te.target="_blank"):c(Te)):(Te.href=Ce.createObjectURL(Re),setTimeout(function(){Ce.revokeObjectURL(Te.href)},4e4),setTimeout(function(){c(Te)},0))}:"msSaveOrOpenBlob"in navigator?function(Re,e,Ee){if(e=e||Re.name||"download",typeof Re=="string")if(u(Re))s$2(Re,e,Ee);else{var Ce=document.createElement("a");Ce.href=Re,Ce.target="_blank",setTimeout(function(){c(Ce)})}else navigator.msSaveOrOpenBlob(function(Te,De){return De===void 0?De={autoBom:!1}:_typeof(De)!=="object"&&(o$1.warn("Deprecated: Expected third argument to be a object"),De={autoBom:!De}),De.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(Te.type)?new Blob(["\uFEFF",Te],{type:Te.type}):Te}(Re,Ee),e)}:function(Re,e,Ee,Ce){if((Ce=Ce||open("","_blank"))&&(Ce.document.title=Ce.document.body.innerText="downloading..."),typeof Re=="string")return s$2(Re,e,Ee);var Te=Re.type==="application/octet-stream",De=/constructor/i.test(i$2.HTMLElement)||i$2.safari,Me=/CriOS\/[\d]+/.test(navigator.userAgent);if((Me||Te&&De)&&(typeof FileReader>"u"?"undefined":_typeof(FileReader))==="object"){var Oe=new FileReader;Oe.onloadend=function(){var Ve=Oe.result;Ve=Me?Ve:Ve.replace(/^data:[^;]*;/,"data:attachment/file;"),Ce?Ce.location.href=Ve:location=Ve,Ce=null},Oe.readAsDataURL(Re)}else{var Be=i$2.URL||i$2.webkitURL,ze=Be.createObjectURL(Re);Ce?Ce.location=ze:location.href=ze,Ce=null,setTimeout(function(){Be.revokeObjectURL(ze)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function h(Re){var e;Re=Re||"",this.ok=!1,Re.charAt(0)=="#"&&(Re=Re.substr(1,6)),Re={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[Re=(Re=Re.replace(/ /g,"")).toLowerCase()]||Re;for(var Ee=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(Oe){return[parseInt(Oe[1]),parseInt(Oe[2]),parseInt(Oe[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(Oe){return[parseInt(Oe[1],16),parseInt(Oe[2],16),parseInt(Oe[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(Oe){return[parseInt(Oe[1]+Oe[1],16),parseInt(Oe[2]+Oe[2],16),parseInt(Oe[3]+Oe[3],16)]}}],Ce=0;Ce<Ee.length;Ce++){var Te=Ee[Ce].re,De=Ee[Ce].process,Me=Te.exec(Re);Me&&(e=De(Me),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var Oe=this.r.toString(16),Be=this.g.toString(16),ze=this.b.toString(16);return Oe.length==1&&(Oe="0"+Oe),Be.length==1&&(Be="0"+Be),ze.length==1&&(ze="0"+ze),"#"+Oe+Be+ze}}var f=i$2.atob.bind(i$2),d=i$2.btoa.bind(i$2);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function p(Re,e){var Ee=Re[0],Ce=Re[1],Te=Re[2],De=Re[3];Ee=m(Ee,Ce,Te,De,e[0],7,-680876936),De=m(De,Ee,Ce,Te,e[1],12,-389564586),Te=m(Te,De,Ee,Ce,e[2],17,606105819),Ce=m(Ce,Te,De,Ee,e[3],22,-1044525330),Ee=m(Ee,Ce,Te,De,e[4],7,-176418897),De=m(De,Ee,Ce,Te,e[5],12,1200080426),Te=m(Te,De,Ee,Ce,e[6],17,-1473231341),Ce=m(Ce,Te,De,Ee,e[7],22,-45705983),Ee=m(Ee,Ce,Te,De,e[8],7,1770035416),De=m(De,Ee,Ce,Te,e[9],12,-1958414417),Te=m(Te,De,Ee,Ce,e[10],17,-42063),Ce=m(Ce,Te,De,Ee,e[11],22,-1990404162),Ee=m(Ee,Ce,Te,De,e[12],7,1804603682),De=m(De,Ee,Ce,Te,e[13],12,-40341101),Te=m(Te,De,Ee,Ce,e[14],17,-1502002290),Ee=v(Ee,Ce=m(Ce,Te,De,Ee,e[15],22,1236535329),Te,De,e[1],5,-165796510),De=v(De,Ee,Ce,Te,e[6],9,-1069501632),Te=v(Te,De,Ee,Ce,e[11],14,643717713),Ce=v(Ce,Te,De,Ee,e[0],20,-373897302),Ee=v(Ee,Ce,Te,De,e[5],5,-701558691),De=v(De,Ee,Ce,Te,e[10],9,38016083),Te=v(Te,De,Ee,Ce,e[15],14,-660478335),Ce=v(Ce,Te,De,Ee,e[4],20,-405537848),Ee=v(Ee,Ce,Te,De,e[9],5,568446438),De=v(De,Ee,Ce,Te,e[14],9,-1019803690),Te=v(Te,De,Ee,Ce,e[3],14,-187363961),Ce=v(Ce,Te,De,Ee,e[8],20,1163531501),Ee=v(Ee,Ce,Te,De,e[13],5,-1444681467),De=v(De,Ee,Ce,Te,e[2],9,-51403784),Te=v(Te,De,Ee,Ce,e[7],14,1735328473),Ee=b(Ee,Ce=v(Ce,Te,De,Ee,e[12],20,-1926607734),Te,De,e[5],4,-378558),De=b(De,Ee,Ce,Te,e[8],11,-2022574463),Te=b(Te,De,Ee,Ce,e[11],16,1839030562),Ce=b(Ce,Te,De,Ee,e[14],23,-35309556),Ee=b(Ee,Ce,Te,De,e[1],4,-1530992060),De=b(De,Ee,Ce,Te,e[4],11,1272893353),Te=b(Te,De,Ee,Ce,e[7],16,-155497632),Ce=b(Ce,Te,De,Ee,e[10],23,-1094730640),Ee=b(Ee,Ce,Te,De,e[13],4,681279174),De=b(De,Ee,Ce,Te,e[0],11,-358537222),Te=b(Te,De,Ee,Ce,e[3],16,-722521979),Ce=b(Ce,Te,De,Ee,e[6],23,76029189),Ee=b(Ee,Ce,Te,De,e[9],4,-640364487),De=b(De,Ee,Ce,Te,e[12],11,-421815835),Te=b(Te,De,Ee,Ce,e[15],16,530742520),Ee=y(Ee,Ce=b(Ce,Te,De,Ee,e[2],23,-995338651),Te,De,e[0],6,-198630844),De=y(De,Ee,Ce,Te,e[7],10,1126891415),Te=y(Te,De,Ee,Ce,e[14],15,-1416354905),Ce=y(Ce,Te,De,Ee,e[5],21,-57434055),Ee=y(Ee,Ce,Te,De,e[12],6,1700485571),De=y(De,Ee,Ce,Te,e[3],10,-1894986606),Te=y(Te,De,Ee,Ce,e[10],15,-1051523),Ce=y(Ce,Te,De,Ee,e[1],21,-2054922799),Ee=y(Ee,Ce,Te,De,e[8],6,1873313359),De=y(De,Ee,Ce,Te,e[15],10,-30611744),Te=y(Te,De,Ee,Ce,e[6],15,-1560198380),Ce=y(Ce,Te,De,Ee,e[13],21,1309151649),Ee=y(Ee,Ce,Te,De,e[4],6,-145523070),De=y(De,Ee,Ce,Te,e[11],10,-1120210379),Te=y(Te,De,Ee,Ce,e[2],15,718787259),Ce=y(Ce,Te,De,Ee,e[9],21,-343485551),Re[0]=P(Ee,Re[0]),Re[1]=P(Ce,Re[1]),Re[2]=P(Te,Re[2]),Re[3]=P(De,Re[3])}function g(Re,e,Ee,Ce,Te,De){return e=P(P(e,Re),P(Ce,De)),P(e<<Te|e>>>32-Te,Ee)}function m(Re,e,Ee,Ce,Te,De,Me){return g(e&Ee|~e&Ce,Re,e,Te,De,Me)}function v(Re,e,Ee,Ce,Te,De,Me){return g(e&Ce|Ee&~Ce,Re,e,Te,De,Me)}function b(Re,e,Ee,Ce,Te,De,Me){return g(e^Ee^Ce,Re,e,Te,De,Me)}function y(Re,e,Ee,Ce,Te,De,Me){return g(Ee^(e|~Ce),Re,e,Te,De,Me)}function w(Re){var e,Ee=Re.length,Ce=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=Re.length;e+=64)p(Ce,N(Re.substring(e-64,e)));Re=Re.substring(e-64);var Te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<Re.length;e++)Te[e>>2]|=Re.charCodeAt(e)<<(e%4<<3);if(Te[e>>2]|=128<<(e%4<<3),e>55)for(p(Ce,Te),e=0;e<16;e++)Te[e]=0;return Te[14]=8*Ee,p(Ce,Te),Ce}function N(Re){var e,Ee=[];for(e=0;e<64;e+=4)Ee[e>>2]=Re.charCodeAt(e)+(Re.charCodeAt(e+1)<<8)+(Re.charCodeAt(e+2)<<16)+(Re.charCodeAt(e+3)<<24);return Ee}var L$2="0123456789abcdef".split("");function x(Re){for(var e="",Ee=0;Ee<4;Ee++)e+=L$2[Re>>8*Ee+4&15]+L$2[Re>>8*Ee&15];return e}function A(Re){return String.fromCharCode(255&Re,(65280&Re)>>8,(16711680&Re)>>16,(4278190080&Re)>>24)}function S(Re){return w(Re).map(A).join("")}var _=function(Re){for(var e=0;e<Re.length;e++)Re[e]=x(Re[e]);return Re.join("")}(w("hello"))!="5d41402abc4b2a76b9719d911017c592";function P(Re,e){if(_){var Ee=(65535&Re)+(65535&e);return(Re>>16)+(e>>16)+(Ee>>16)<<16|65535&Ee}return Re+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function k(Re,e){var Ee,Ce,Te,De;if(Re!==Ee){for(var Me=(Te=Re,De=1+(256/Re.length|0),new Array(De+1).join(Te)),Oe=[],Be=0;Be<256;Be++)Oe[Be]=Be;var ze=0;for(Be=0;Be<256;Be++){var Ve=Oe[Be];ze=(ze+Ve+Me.charCodeAt(Be))%256,Oe[Be]=Oe[ze],Oe[ze]=Ve}Ee=Re,Ce=Oe}else Oe=Ce;var qe=e.length,We=0,Ge=0,Je="";for(Be=0;Be<qe;Be++)Ge=(Ge+(Ve=Oe[We=(We+1)%256]))%256,Oe[We]=Oe[Ge],Oe[Ge]=Ve,Me=Oe[(Oe[We]+Oe[Ge])%256],Je+=String.fromCharCode(e.charCodeAt(Be)^Me);return Je}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var F={print:4,modify:8,copy:16,"annot-forms":32};function I(Re,e,Ee,Ce){this.v=1,this.r=2;var Te=192;Re.forEach(function(Oe){if(F.perm!==void 0)throw new Error("Invalid permission: "+Oe);Te+=F[Oe]}),this.padding="(Â¿N^NuÂŠAd\0NVÃ¿Ãº\b..\0Â¶Ãh>Â€/\fÂ©Ã¾dSiz";var De=(e+this.padding).substr(0,32),Me=(Ee+this.padding).substr(0,32);this.O=this.processOwnerPassword(De,Me),this.P=-(1+(255^Te)),this.encryptionKey=S(De+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(Ce)).substr(0,5),this.U=k(this.encryptionKey,this.padding)}function j(Re){if(/[^\u0000-\u00ff]/.test(Re))throw new Error("Invalid PDF Name Object: "+Re+", Only accept ASCII characters.");for(var e="",Ee=Re.length,Ce=0;Ce<Ee;Ce++){var Te=Re.charCodeAt(Ce);e+=Te<33||Te===35||Te===37||Te===40||Te===41||Te===47||Te===60||Te===62||Te===91||Te===93||Te===123||Te===125||Te>126?"#"+("0"+Te.toString(16)).slice(-2):Re[Ce]}return e}function C(Re){if(_typeof(Re)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(Ee,Ce,Te){if(Te=Te||!1,typeof Ee!="string"||typeof Ce!="function"||typeof Te!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(Ee)||(e[Ee]={});var De=Math.random().toString(35);return e[Ee][De]=[Ce,!!Te],De},this.unsubscribe=function(Ee){for(var Ce in e)if(e[Ce][Ee])return delete e[Ce][Ee],Object.keys(e[Ce]).length===0&&delete e[Ce],!0;return!1},this.publish=function(Ee){if(e.hasOwnProperty(Ee)){var Ce=Array.prototype.slice.call(arguments,1),Te=[];for(var De in e[Ee]){var Me=e[Ee][De];try{Me[0].apply(Re,Ce)}catch(Oe){i$2.console&&o$1.error("jsPDF PubSub Error",Oe.message,Oe)}Me[1]&&Te.push(De)}Te.length&&Te.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function O(Re){if(!(this instanceof O))return new O(Re);var e="opacity,stroke-opacity".split(",");for(var Ee in Re)Re.hasOwnProperty(Ee)&&e.indexOf(Ee)>=0&&(this[Ee]=Re[Ee]);this.id="",this.objectNumber=-1}function B(Re,e){this.gState=Re,this.matrix=e,this.id="",this.objectNumber=-1}function M(Re,e,Ee,Ce,Te){if(!(this instanceof M))return new M(Re,e,Ee,Ce,Te);this.type=Re==="axial"?2:3,this.coords=e,this.colors=Ee,B.call(this,Ce,Te)}function q(Re,e,Ee,Ce,Te){if(!(this instanceof q))return new q(Re,e,Ee,Ce,Te);this.boundingBox=Re,this.xStep=e,this.yStep=Ee,this.stream="",this.cloneIndex=0,B.call(this,Ce,Te)}function E(Re){var e,Ee=typeof arguments[0]=="string"?arguments[0]:"p",Ce=arguments[1],Te=arguments[2],De=arguments[3],Me=[],Oe=1,Be=16,ze="S",Ve=null;_typeof(Re=Re||{})==="object"&&(Ee=Re.orientation,Ce=Re.unit||Ce,Te=Re.format||Te,De=Re.compress||Re.compressPdf||De,(Ve=Re.encryption||null)!==null&&(Ve.userPassword=Ve.userPassword||"",Ve.ownerPassword=Ve.ownerPassword||"",Ve.userPermissions=Ve.userPermissions||[]),Oe=typeof Re.userUnit=="number"?Math.abs(Re.userUnit):1,Re.precision!==void 0&&(e=Re.precision),Re.floatPrecision!==void 0&&(Be=Re.floatPrecision),ze=Re.defaultPathOperation||"S"),Me=Re.filters||(De===!0?["FlateEncode"]:Me),Ce=Ce||"mm",Ee=(""+(Ee||"P")).toLowerCase();var qe=Re.putOnlyUsedFonts||!1,We={},Ge={internal:{},__private__:{}};Ge.__private__.PubSub=C;var Je="1.3",Qe=Ge.__private__.getPdfVersion=function(){return Je};Ge.__private__.setPdfVersion=function(Rs){Je=Rs};var ns={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};Ge.__private__.getPageFormats=function(){return ns};var Ye=Ge.__private__.getPageFormat=function(Rs){return ns[Rs]};Te=Te||"a4";var rs="compat",ts="advanced",Xe=rs;function is(){this.saveGraphicsState(),Ws(new pi(ti,0,0,-ti,0,fd()*ti).toString()+" cm"),this.setFontSize(this.getFontSize()/ti),ze="n",Xe=ts}function os(){this.restoreGraphicsState(),ze="S",Xe=rs}var hs=Ge.__private__.combineFontStyleAndFontWeight=function(Rs,qs){if(Rs=="bold"&&qs=="normal"||Rs=="bold"&&qs==400||Rs=="normal"&&qs=="italic"||Rs=="bold"&&qs=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return qs&&(Rs=qs==400||qs==="normal"?Rs==="italic"?"italic":"normal":qs!=700&&qs!=="bold"||Rs!=="normal"?(qs==700?"bold":qs)+""+Rs:"bold"),Rs};Ge.advancedAPI=function(Rs){var qs=Xe===rs;return qs&&is.call(this),typeof Rs!="function"||(Rs(this),qs&&os.call(this)),this},Ge.compatAPI=function(Rs){var qs=Xe===ts;return qs&&os.call(this),typeof Rs!="function"||(Rs(this),qs&&is.call(this)),this},Ge.isAdvancedAPI=function(){return Xe===ts};var fs,xs=function(Rs){if(Xe!==ts)throw new Error(Rs+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Ss=Ge.roundToPrecision=Ge.__private__.roundToPrecision=function(Rs,qs){var ir=e||qs;if(isNaN(Rs)||isNaN(ir))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return Rs.toFixed(ir).replace(/0+$/,"")};fs=Ge.hpf=Ge.__private__.hpf=typeof Be=="number"?function(Rs){if(isNaN(Rs))throw new Error("Invalid argument passed to jsPDF.hpf");return Ss(Rs,Be)}:Be==="smart"?function(Rs){if(isNaN(Rs))throw new Error("Invalid argument passed to jsPDF.hpf");return Ss(Rs,Rs>-1&&Rs<1?16:5)}:function(Rs){if(isNaN(Rs))throw new Error("Invalid argument passed to jsPDF.hpf");return Ss(Rs,16)};var ds=Ge.f2=Ge.__private__.f2=function(Rs){if(isNaN(Rs))throw new Error("Invalid argument passed to jsPDF.f2");return Ss(Rs,2)},gs=Ge.__private__.f3=function(Rs){if(isNaN(Rs))throw new Error("Invalid argument passed to jsPDF.f3");return Ss(Rs,3)},Ts=Ge.scale=Ge.__private__.scale=function(Rs){if(isNaN(Rs))throw new Error("Invalid argument passed to jsPDF.scale");return Xe===rs?Rs*ti:Xe===ts?Rs:void 0},Ds=function(Rs){return Ts(function(qs){return Xe===rs?fd()-qs:Xe===ts?qs:void 0}(Rs))};Ge.__private__.setPrecision=Ge.setPrecision=function(Rs){typeof parseInt(Rs,10)=="number"&&(e=parseInt(Rs,10))};var Ms,bs="00000000000000000000000000000000",Ns=Ge.__private__.getFileId=function(){return bs},ps=Ge.__private__.setFileId=function(Rs){return bs=Rs!==void 0&&/^[a-fA-F0-9]{32}$/.test(Rs)?Rs.toUpperCase():bs.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),Ve!==null&&(Qn=new I(Ve.userPermissions,Ve.userPassword,Ve.ownerPassword,bs)),bs};Ge.setFileId=function(Rs){return ps(Rs),this},Ge.getFileId=function(){return Ns()};var _s=Ge.__private__.convertDateToPDFDate=function(Rs){var qs=Rs.getTimezoneOffset(),ir=qs<0?"+":"-",pr=Math.floor(Math.abs(qs/60)),br=Math.abs(qs%60),Fr=[ir,ks(pr),"'",ks(br),"'"].join("");return["D:",Rs.getFullYear(),ks(Rs.getMonth()+1),ks(Rs.getDate()),ks(Rs.getHours()),ks(Rs.getMinutes()),ks(Rs.getSeconds()),Fr].join("")},ws=Ge.__private__.convertPDFDateToDate=function(Rs){var qs=parseInt(Rs.substr(2,4),10),ir=parseInt(Rs.substr(6,2),10)-1,pr=parseInt(Rs.substr(8,2),10),br=parseInt(Rs.substr(10,2),10),Fr=parseInt(Rs.substr(12,2),10),Xr=parseInt(Rs.substr(14,2),10);return new Date(qs,ir,pr,br,Fr,Xr,0)},js=Ge.__private__.setCreationDate=function(Rs){var qs;if(Rs===void 0&&(Rs=new Date),Rs instanceof Date)qs=_s(Rs);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(Rs))throw new Error("Invalid argument passed to jsPDF.setCreationDate");qs=Rs}return Ms=qs},ms=Ge.__private__.getCreationDate=function(Rs){var qs=Ms;return Rs==="jsDate"&&(qs=ws(Ms)),qs};Ge.setCreationDate=function(Rs){return js(Rs),this},Ge.getCreationDate=function(Rs){return ms(Rs)};var ys,ks=Ge.__private__.padd2=function(Rs){return("0"+parseInt(Rs)).slice(-2)},zs=Ge.__private__.padd2Hex=function(Rs){return("00"+(Rs=Rs.toString())).substr(Rs.length)},Cs=0,Ps=[],Us=[],Is=0,Vs=[],Ks=[],or=!1,rr=Us;Ge.__private__.setCustomOutputDestination=function(Rs){or=!0,rr=Rs};var ur=function(Rs){or||(rr=Rs)};Ge.__private__.resetCustomOutputDestination=function(){or=!1,rr=Us};var Ws=Ge.__private__.out=function(Rs){return Rs=Rs.toString(),Is+=Rs.length+1,rr.push(Rs),rr},Er=Ge.__private__.write=function(Rs){return Ws(arguments.length===1?Rs.toString():Array.prototype.join.call(arguments," "))},zr=Ge.__private__.getArrayBuffer=function(Rs){for(var qs=Rs.length,ir=new ArrayBuffer(qs),pr=new Uint8Array(ir);qs--;)pr[qs]=Rs.charCodeAt(qs);return ir},Or=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];Ge.__private__.getStandardFonts=function(){return Or};var tr=Re.fontSize||16;Ge.__private__.setFontSize=Ge.setFontSize=function(Rs){return tr=Xe===ts?Rs/ti:Rs,this};var Lr,Js=Ge.__private__.getFontSize=Ge.getFontSize=function(){return Xe===rs?tr:tr*ti},lr=Re.R2L||!1;Ge.__private__.setR2L=Ge.setR2L=function(Rs){return lr=Rs,this},Ge.__private__.getR2L=Ge.getR2L=function(){return lr};var hr,Ar=Ge.__private__.setZoomMode=function(Rs){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(Rs))Lr=Rs;else if(isNaN(Rs)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(Rs)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+Rs+'" is not recognized.');Lr=Rs}else Lr=parseInt(Rs,10)};Ge.__private__.getZoomMode=function(){return Lr};var Pr,vr=Ge.__private__.setPageMode=function(Rs){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(Rs)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+Rs+'" is not recognized.');hr=Rs};Ge.__private__.getPageMode=function(){return hr};var Mr=Ge.__private__.setLayoutMode=function(Rs){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(Rs)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+Rs+'" is not recognized.');Pr=Rs};Ge.__private__.getLayoutMode=function(){return Pr},Ge.__private__.setDisplayMode=Ge.setDisplayMode=function(Rs,qs,ir){return Ar(Rs),Mr(qs),vr(ir),this};var Qr={title:"",subject:"",author:"",keywords:"",creator:""};Ge.__private__.getDocumentProperty=function(Rs){if(Object.keys(Qr).indexOf(Rs)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Qr[Rs]},Ge.__private__.getDocumentProperties=function(){return Qr},Ge.__private__.setDocumentProperties=Ge.setProperties=Ge.setDocumentProperties=function(Rs){for(var qs in Qr)Qr.hasOwnProperty(qs)&&Rs[qs]&&(Qr[qs]=Rs[qs]);return this},Ge.__private__.setDocumentProperty=function(Rs,qs){if(Object.keys(Qr).indexOf(Rs)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Qr[Rs]=qs};var Ur,ti,oi,Ti,_i,mi={},Ci={},Tr=[],Sr={},Ir={},Kr={},ri={},Wr=null,ai=0,ii=[],yi=new C(Ge),Sn=Re.hotfixes||[],$i={},dn={},Si=[],pi=function Rs(qs,ir,pr,br,Fr,Xr){if(!(this instanceof Rs))return new Rs(qs,ir,pr,br,Fr,Xr);isNaN(qs)&&(qs=1),isNaN(ir)&&(ir=0),isNaN(pr)&&(pr=0),isNaN(br)&&(br=1),isNaN(Fr)&&(Fr=0),isNaN(Xr)&&(Xr=0),this._matrix=[qs,ir,pr,br,Fr,Xr]};Object.defineProperty(pi.prototype,"sx",{get:function(){return this._matrix[0]},set:function(Rs){this._matrix[0]=Rs}}),Object.defineProperty(pi.prototype,"shy",{get:function(){return this._matrix[1]},set:function(Rs){this._matrix[1]=Rs}}),Object.defineProperty(pi.prototype,"shx",{get:function(){return this._matrix[2]},set:function(Rs){this._matrix[2]=Rs}}),Object.defineProperty(pi.prototype,"sy",{get:function(){return this._matrix[3]},set:function(Rs){this._matrix[3]=Rs}}),Object.defineProperty(pi.prototype,"tx",{get:function(){return this._matrix[4]},set:function(Rs){this._matrix[4]=Rs}}),Object.defineProperty(pi.prototype,"ty",{get:function(){return this._matrix[5]},set:function(Rs){this._matrix[5]=Rs}}),Object.defineProperty(pi.prototype,"a",{get:function(){return this._matrix[0]},set:function(Rs){this._matrix[0]=Rs}}),Object.defineProperty(pi.prototype,"b",{get:function(){return this._matrix[1]},set:function(Rs){this._matrix[1]=Rs}}),Object.defineProperty(pi.prototype,"c",{get:function(){return this._matrix[2]},set:function(Rs){this._matrix[2]=Rs}}),Object.defineProperty(pi.prototype,"d",{get:function(){return this._matrix[3]},set:function(Rs){this._matrix[3]=Rs}}),Object.defineProperty(pi.prototype,"e",{get:function(){return this._matrix[4]},set:function(Rs){this._matrix[4]=Rs}}),Object.defineProperty(pi.prototype,"f",{get:function(){return this._matrix[5]},set:function(Rs){this._matrix[5]=Rs}}),Object.defineProperty(pi.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(pi.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(pi.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(pi.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),pi.prototype.join=function(Rs){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(fs).join(Rs)},pi.prototype.multiply=function(Rs){var qs=Rs.sx*this.sx+Rs.shy*this.shx,ir=Rs.sx*this.shy+Rs.shy*this.sy,pr=Rs.shx*this.sx+Rs.sy*this.shx,br=Rs.shx*this.shy+Rs.sy*this.sy,Fr=Rs.tx*this.sx+Rs.ty*this.shx+this.tx,Xr=Rs.tx*this.shy+Rs.ty*this.sy+this.ty;return new pi(qs,ir,pr,br,Fr,Xr)},pi.prototype.decompose=function(){var Rs=this.sx,qs=this.shy,ir=this.shx,pr=this.sy,br=this.tx,Fr=this.ty,Xr=Math.sqrt(Rs*Rs+qs*qs),xi=(Rs/=Xr)*ir+(qs/=Xr)*pr;ir-=Rs*xi,pr-=qs*xi;var vi=Math.sqrt(ir*ir+pr*pr);return xi/=vi,Rs*(pr/=vi)<qs*(ir/=vi)&&(Rs=-Rs,qs=-qs,xi=-xi,Xr=-Xr),{scale:new pi(Xr,0,0,vi,0,0),translate:new pi(1,0,0,1,br,Fr),rotate:new pi(Rs,qs,-qs,Rs,0,0),skew:new pi(1,0,xi,1,0,0)}},pi.prototype.toString=function(Rs){return this.join(" ")},pi.prototype.inversed=function(){var Rs=this.sx,qs=this.shy,ir=this.shx,pr=this.sy,br=this.tx,Fr=this.ty,Xr=1/(Rs*pr-qs*ir),xi=pr*Xr,vi=-qs*Xr,Li=-ir*Xr,Oi=Rs*Xr;return new pi(xi,vi,Li,Oi,-xi*br-Li*Fr,-vi*br-Oi*Fr)},pi.prototype.applyToPoint=function(Rs){var qs=Rs.x*this.sx+Rs.y*this.shx+this.tx,ir=Rs.x*this.shy+Rs.y*this.sy+this.ty;return new Hc(qs,ir)},pi.prototype.applyToRectangle=function(Rs){var qs=this.applyToPoint(Rs),ir=this.applyToPoint(new Hc(Rs.x+Rs.w,Rs.y+Rs.h));return new Mu(qs.x,qs.y,ir.x-qs.x,ir.y-qs.y)},pi.prototype.clone=function(){var Rs=this.sx,qs=this.shy,ir=this.shx,pr=this.sy,br=this.tx,Fr=this.ty;return new pi(Rs,qs,ir,pr,br,Fr)},Ge.Matrix=pi;var Xa=Ge.matrixMult=function(Rs,qs){return qs.multiply(Rs)},ml=new pi(1,0,0,1,0,0);Ge.unitMatrix=Ge.identityMatrix=ml;var Ja=function(Rs,qs){if(!Ir[Rs]){var ir=(qs instanceof M?"Sh":"P")+(Object.keys(Sr).length+1).toString(10);qs.id=ir,Ir[Rs]=ir,Sr[ir]=qs,yi.publish("addPattern",qs)}};Ge.ShadingPattern=M,Ge.TilingPattern=q,Ge.addShadingPattern=function(Rs,qs){return xs("addShadingPattern()"),Ja(Rs,qs),this},Ge.beginTilingPattern=function(Rs){xs("beginTilingPattern()"),qc(Rs.boundingBox[0],Rs.boundingBox[1],Rs.boundingBox[2]-Rs.boundingBox[0],Rs.boundingBox[3]-Rs.boundingBox[1],Rs.matrix)},Ge.endTilingPattern=function(Rs,qs){xs("endTilingPattern()"),qs.stream=Ks[ys].join(`
`),Ja(Rs,qs),yi.publish("endTilingPattern",qs),Si.pop().restore()};var Qa,Ji=Ge.__private__.newObject=function(){var Rs=ci();return aa(Rs,!0),Rs},ci=Ge.__private__.newObjectDeferred=function(){return Cs++,Ps[Cs]=function(){return Is},Cs},aa=function(Rs,qs){return qs=typeof qs=="boolean"&&qs,Ps[Rs]=Is,qs&&Ws(Rs+" 0 obj"),Rs},Pa=Ge.__private__.newAdditionalObject=function(){var Rs={objId:ci(),content:""};return Vs.push(Rs),Rs},Rn=ci(),Pn=ci(),Va=Ge.__private__.decodeColorString=function(Rs){var qs=Rs.split(" ");if(qs.length!==2||qs[1]!=="g"&&qs[1]!=="G")qs.length!==5||qs[4]!=="k"&&qs[4]!=="K"||(qs=[(1-qs[0])*(1-qs[3]),(1-qs[1])*(1-qs[3]),(1-qs[2])*(1-qs[3]),"r"]);else{var ir=parseFloat(qs[0]);qs=[ir,ir,ir,"r"]}for(var pr="#",br=0;br<3;br++)pr+=("0"+Math.floor(255*parseFloat(qs[br])).toString(16)).slice(-2);return pr},Co=Ge.__private__.encodeColorString=function(Rs){var qs;typeof Rs=="string"&&(Rs={ch1:Rs});var ir=Rs.ch1,pr=Rs.ch2,br=Rs.ch3,Fr=Rs.ch4,Xr=Rs.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ir=="string"&&ir.charAt(0)!=="#"){var xi=new h(ir);if(xi.ok)ir=xi.toHex();else if(!/^\d*\.?\d*$/.test(ir))throw new Error('Invalid color "'+ir+'" passed to jsPDF.encodeColorString.')}if(typeof ir=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ir)&&(ir="#"+ir[1]+ir[1]+ir[2]+ir[2]+ir[3]+ir[3]),typeof ir=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ir)){var vi=parseInt(ir.substr(1),16);ir=vi>>16&255,pr=vi>>8&255,br=255&vi}if(pr===void 0||Fr===void 0&&ir===pr&&pr===br)qs=typeof ir=="string"?ir+" "+Xr[0]:Rs.precision===2?ds(ir/255)+" "+Xr[0]:gs(ir/255)+" "+Xr[0];else if(Fr===void 0||_typeof(Fr)==="object"){if(Fr&&!isNaN(Fr.a)&&Fr.a===0)return["1.","1.","1.",Xr[1]].join(" ");qs=typeof ir=="string"?[ir,pr,br,Xr[1]].join(" "):Rs.precision===2?[ds(ir/255),ds(pr/255),ds(br/255),Xr[1]].join(" "):[gs(ir/255),gs(pr/255),gs(br/255),Xr[1]].join(" ")}else qs=typeof ir=="string"?[ir,pr,br,Fr,Xr[2]].join(" "):Rs.precision===2?[ds(ir),ds(pr),ds(br),ds(Fr),Xr[2]].join(" "):[gs(ir),gs(pr),gs(br),gs(Fr),Xr[2]].join(" ");return qs},eo=Ge.__private__.getFilters=function(){return Me},Ko=Ge.__private__.putStream=function(Rs){var qs=(Rs=Rs||{}).data||"",ir=Rs.filters||eo(),pr=Rs.alreadyAppliedFilters||[],br=Rs.addLength1||!1,Fr=qs.length,Xr=Rs.objectId,xi=function(Ea){return Ea};if(Ve!==null&&Xr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");Ve!==null&&(xi=Qn.encryptor(Xr,0));var vi={};ir===!0&&(ir=["FlateEncode"]);var Li=Rs.additionalKeyValues||[],Oi=(vi=E.API.processDataByFilters!==void 0?E.API.processDataByFilters(qs,ir):{data:qs,reverseChain:[]}).reverseChain+(Array.isArray(pr)?pr.join(" "):pr.toString());if(vi.data.length!==0&&(Li.push({key:"Length",value:vi.data.length}),br===!0&&Li.push({key:"Length1",value:Fr})),Oi.length!=0)if(Oi.split("/").length-1==1)Li.push({key:"Filter",value:Oi});else{Li.push({key:"Filter",value:"["+Oi+"]"});for(var Qi=0;Qi<Li.length;Qi+=1)if(Li[Qi].key==="DecodeParms"){for(var qn=[],fa=0;fa<vi.reverseChain.split("/").length-1;fa+=1)qn.push("null");qn.push(Li[Qi].value),Li[Qi].value="["+qn.join(" ")+"]"}}Ws("<<");for(var jn=0;jn<Li.length;jn++)Ws("/"+Li[jn].key+" "+Li[jn].value);Ws(">>"),vi.data.length!==0&&(Ws("stream"),Ws(xi(vi.data)),Ws("endstream"))},Au=Ge.__private__.putPage=function(Rs){var qs=Rs.number,ir=Rs.data,pr=Rs.objId,br=Rs.contentsObjId;aa(pr,!0),Ws("<</Type /Page"),Ws("/Parent "+Rs.rootDictionaryObjId+" 0 R"),Ws("/Resources "+Rs.resourceDictionaryObjId+" 0 R"),Ws("/MediaBox ["+parseFloat(fs(Rs.mediaBox.bottomLeftX))+" "+parseFloat(fs(Rs.mediaBox.bottomLeftY))+" "+fs(Rs.mediaBox.topRightX)+" "+fs(Rs.mediaBox.topRightY)+"]"),Rs.cropBox!==null&&Ws("/CropBox ["+fs(Rs.cropBox.bottomLeftX)+" "+fs(Rs.cropBox.bottomLeftY)+" "+fs(Rs.cropBox.topRightX)+" "+fs(Rs.cropBox.topRightY)+"]"),Rs.bleedBox!==null&&Ws("/BleedBox ["+fs(Rs.bleedBox.bottomLeftX)+" "+fs(Rs.bleedBox.bottomLeftY)+" "+fs(Rs.bleedBox.topRightX)+" "+fs(Rs.bleedBox.topRightY)+"]"),Rs.trimBox!==null&&Ws("/TrimBox ["+fs(Rs.trimBox.bottomLeftX)+" "+fs(Rs.trimBox.bottomLeftY)+" "+fs(Rs.trimBox.topRightX)+" "+fs(Rs.trimBox.topRightY)+"]"),Rs.artBox!==null&&Ws("/ArtBox ["+fs(Rs.artBox.bottomLeftX)+" "+fs(Rs.artBox.bottomLeftY)+" "+fs(Rs.artBox.topRightX)+" "+fs(Rs.artBox.topRightY)+"]"),typeof Rs.userUnit=="number"&&Rs.userUnit!==1&&Ws("/UserUnit "+Rs.userUnit),yi.publish("putPage",{objId:pr,pageContext:ii[qs],pageNumber:qs,page:ir}),Ws("/Contents "+br+" 0 R"),Ws(">>"),Ws("endobj");var Fr=ir.join(`
`);return Xe===ts&&(Fr+=`
Q`),aa(br,!0),Ko({data:Fr,filters:eo(),objectId:br}),Ws("endobj"),pr},Po=Ge.__private__.putPages=function(){var Rs,qs,ir=[];for(Rs=1;Rs<=ai;Rs++)ii[Rs].objId=ci(),ii[Rs].contentsObjId=ci();for(Rs=1;Rs<=ai;Rs++)ir.push(Au({number:Rs,data:Ks[Rs],objId:ii[Rs].objId,contentsObjId:ii[Rs].contentsObjId,mediaBox:ii[Rs].mediaBox,cropBox:ii[Rs].cropBox,bleedBox:ii[Rs].bleedBox,trimBox:ii[Rs].trimBox,artBox:ii[Rs].artBox,userUnit:ii[Rs].userUnit,rootDictionaryObjId:Rn,resourceDictionaryObjId:Pn}));aa(Rn,!0),Ws("<</Type /Pages");var pr="/Kids [";for(qs=0;qs<ai;qs++)pr+=ir[qs]+" 0 R ";Ws(pr+"]"),Ws("/Count "+ai),Ws(">>"),Ws("endobj"),yi.publish("postPutPages")},Bc=function(Rs){yi.publish("putFont",{font:Rs,out:Ws,newObject:Ji,putStream:Ko}),Rs.isAlreadyPutted!==!0&&(Rs.objectNumber=Ji(),Ws("<<"),Ws("/Type /Font"),Ws("/BaseFont /"+j(Rs.postScriptName)),Ws("/Subtype /Type1"),typeof Rs.encoding=="string"&&Ws("/Encoding /"+Rs.encoding),Ws("/FirstChar 32"),Ws("/LastChar 255"),Ws(">>"),Ws("endobj"))},xl=function(Rs){Rs.objectNumber=Ji();var qs=[];qs.push({key:"Type",value:"/XObject"}),qs.push({key:"Subtype",value:"/Form"}),qs.push({key:"BBox",value:"["+[fs(Rs.x),fs(Rs.y),fs(Rs.x+Rs.width),fs(Rs.y+Rs.height)].join(" ")+"]"}),qs.push({key:"Matrix",value:"["+Rs.matrix.toString()+"]"});var ir=Rs.pages[1].join(`
`);Ko({data:ir,additionalKeyValues:qs,objectId:Rs.objectNumber}),Ws("endobj")},gl=function(Rs,qs){qs||(qs=21);var ir=Ji(),pr=function(Xr,xi){var vi,Li=[],Oi=1/(xi-1);for(vi=0;vi<1;vi+=Oi)Li.push(vi);if(Li.push(1),Xr[0].offset!=0){var Qi={offset:0,color:Xr[0].color};Xr.unshift(Qi)}if(Xr[Xr.length-1].offset!=1){var qn={offset:1,color:Xr[Xr.length-1].color};Xr.push(qn)}for(var fa="",jn=0,Ea=0;Ea<Li.length;Ea++){for(vi=Li[Ea];vi>Xr[jn+1].offset;)jn++;var oa=Xr[jn].offset,ka=(vi-oa)/(Xr[jn+1].offset-oa),El=Xr[jn].color,qa=Xr[jn+1].color;fa+=zs(Math.round((1-ka)*El[0]+ka*qa[0]).toString(16))+zs(Math.round((1-ka)*El[1]+ka*qa[1]).toString(16))+zs(Math.round((1-ka)*El[2]+ka*qa[2]).toString(16))}return fa.trim()}(Rs.colors,qs),br=[];br.push({key:"FunctionType",value:"0"}),br.push({key:"Domain",value:"[0.0 1.0]"}),br.push({key:"Size",value:"["+qs+"]"}),br.push({key:"BitsPerSample",value:"8"}),br.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),br.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ko({data:pr,additionalKeyValues:br,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ir}),Ws("endobj"),Rs.objectNumber=Ji(),Ws("<< /ShadingType "+Rs.type),Ws("/ColorSpace /DeviceRGB");var Fr="/Coords ["+fs(parseFloat(Rs.coords[0]))+" "+fs(parseFloat(Rs.coords[1]))+" ";Rs.type===2?Fr+=fs(parseFloat(Rs.coords[2]))+" "+fs(parseFloat(Rs.coords[3])):Fr+=fs(parseFloat(Rs.coords[2]))+" "+fs(parseFloat(Rs.coords[3]))+" "+fs(parseFloat(Rs.coords[4]))+" "+fs(parseFloat(Rs.coords[5])),Ws(Fr+="]"),Rs.matrix&&Ws("/Matrix ["+Rs.matrix.toString()+"]"),Ws("/Function "+ir+" 0 R"),Ws("/Extend [true true]"),Ws(">>"),Ws("endobj")},pc=function(Rs,qs){var ir=ci(),pr=Ji();qs.push({resourcesOid:ir,objectOid:pr}),Rs.objectNumber=pr;var br=[];br.push({key:"Type",value:"/Pattern"}),br.push({key:"PatternType",value:"1"}),br.push({key:"PaintType",value:"1"}),br.push({key:"TilingType",value:"1"}),br.push({key:"BBox",value:"["+Rs.boundingBox.map(fs).join(" ")+"]"}),br.push({key:"XStep",value:fs(Rs.xStep)}),br.push({key:"YStep",value:fs(Rs.yStep)}),br.push({key:"Resources",value:ir+" 0 R"}),Rs.matrix&&br.push({key:"Matrix",value:"["+Rs.matrix.toString()+"]"}),Ko({data:Rs.stream,additionalKeyValues:br,objectId:Rs.objectNumber}),Ws("endobj")},ql=function(Rs){for(var qs in Rs.objectNumber=Ji(),Ws("<<"),Rs)switch(qs){case"opacity":Ws("/ca "+ds(Rs[qs]));break;case"stroke-opacity":Ws("/CA "+ds(Rs[qs]))}Ws(">>"),Ws("endobj")},Jn=function(Rs){aa(Rs.resourcesOid,!0),Ws("<<"),Ws("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var qs in Ws("/Font <<"),mi)mi.hasOwnProperty(qs)&&(qe===!1||qe===!0&&We.hasOwnProperty(qs))&&Ws("/"+qs+" "+mi[qs].objectNumber+" 0 R");Ws(">>")}(),function(){if(Object.keys(Sr).length>0){for(var qs in Ws("/Shading <<"),Sr)Sr.hasOwnProperty(qs)&&Sr[qs]instanceof M&&Sr[qs].objectNumber>=0&&Ws("/"+qs+" "+Sr[qs].objectNumber+" 0 R");yi.publish("putShadingPatternDict"),Ws(">>")}}(),function(qs){if(Object.keys(Sr).length>0){for(var ir in Ws("/Pattern <<"),Sr)Sr.hasOwnProperty(ir)&&Sr[ir]instanceof Ge.TilingPattern&&Sr[ir].objectNumber>=0&&Sr[ir].objectNumber<qs&&Ws("/"+ir+" "+Sr[ir].objectNumber+" 0 R");yi.publish("putTilingPatternDict"),Ws(">>")}}(Rs.objectOid),function(){if(Object.keys(Kr).length>0){var qs;for(qs in Ws("/ExtGState <<"),Kr)Kr.hasOwnProperty(qs)&&Kr[qs].objectNumber>=0&&Ws("/"+qs+" "+Kr[qs].objectNumber+" 0 R");yi.publish("putGStateDict"),Ws(">>")}}(),function(){for(var qs in Ws("/XObject <<"),$i)$i.hasOwnProperty(qs)&&$i[qs].objectNumber>=0&&Ws("/"+qs+" "+$i[qs].objectNumber+" 0 R");yi.publish("putXobjectDict"),Ws(">>")}(),Ws(">>"),Ws("endobj")},Th=function(Rs){Ci[Rs.fontName]=Ci[Rs.fontName]||{},Ci[Rs.fontName][Rs.fontStyle]=Rs.id},kh=function(Rs,qs,ir,pr,br){var Fr={id:"F"+(Object.keys(mi).length+1).toString(10),postScriptName:Rs,fontName:qs,fontStyle:ir,encoding:pr,isStandardFont:br||!1,metadata:{}};return yi.publish("addFont",{font:Fr,instance:this}),mi[Fr.id]=Fr,Th(Fr),Fr.id},Ta=Ge.__private__.pdfEscape=Ge.pdfEscape=function(Rs,qs){return function(ir,pr){var br,Fr,Xr,xi,vi,Li,Oi,Qi,qn;if(Xr=(pr=pr||{}).sourceEncoding||"Unicode",vi=pr.outputEncoding,(pr.autoencode||vi)&&mi[Ur].metadata&&mi[Ur].metadata[Xr]&&mi[Ur].metadata[Xr].encoding&&(xi=mi[Ur].metadata[Xr].encoding,!vi&&mi[Ur].encoding&&(vi=mi[Ur].encoding),!vi&&xi.codePages&&(vi=xi.codePages[0]),typeof vi=="string"&&(vi=xi[vi]),vi)){for(Oi=!1,Li=[],br=0,Fr=ir.length;br<Fr;br++)(Qi=vi[ir.charCodeAt(br)])?Li.push(String.fromCharCode(Qi)):Li.push(ir[br]),Li[br].charCodeAt(0)>>8&&(Oi=!0);ir=Li.join("")}for(br=ir.length;Oi===void 0&&br!==0;)ir.charCodeAt(br-1)>>8&&(Oi=!0),br--;if(!Oi)return ir;for(Li=pr.noBOM?[]:[254,255],br=0,Fr=ir.length;br<Fr;br++){if((qn=(Qi=ir.charCodeAt(br))>>8)>>8)throw new Error("Character at position "+br+" of string '"+ir+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Li.push(qn),Li.push(Qi-(qn<<8))}return String.fromCharCode.apply(void 0,Li)}(Rs,qs).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},mc=Ge.__private__.beginPage=function(Rs){Ks[++ai]=[],ii[ai]={objId:0,contentsObjId:0,userUnit:Number(Oe),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(Rs[0]),topRightY:Number(Rs[1])}},Ud(ai),ur(Ks[ys])},To=function(Rs,qs){var ir,pr,br;switch(Ee=qs||Ee,typeof Rs=="string"&&(ir=Ye(Rs.toLowerCase()),Array.isArray(ir)&&(pr=ir[0],br=ir[1])),Array.isArray(Rs)&&(pr=Rs[0]*ti,br=Rs[1]*ti),isNaN(pr)&&(pr=Te[0],br=Te[1]),(pr>14400||br>14400)&&(o$1.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),pr=Math.min(14400,pr),br=Math.min(14400,br)),Te=[pr,br],Ee.substr(0,1)){case"l":br>pr&&(Te=[br,pr]);break;case"p":pr>br&&(Te=[br,pr])}mc(Te),ni(vl),Ws(Kl),Xl!==0&&Ws(Xl+" J"),Uc!==0&&Ws(Uc+" j"),yi.publish("addPage",{pageNumber:ai})},zc=function(Rs){Rs>0&&Rs<=ai&&(Ks.splice(Rs,1),ii.splice(Rs,1),ai--,ys>ai&&(ys=ai),this.setPage(ys))},Ud=function(Rs){Rs>0&&Rs<=ai&&(ys=Rs)},Hd=Ge.__private__.getNumberOfPages=Ge.getNumberOfPages=function(){return Ks.length-1},Cu=function(Rs,qs,ir){var pr,br=void 0;return ir=ir||{},Rs=Rs!==void 0?Rs:mi[Ur].fontName,qs=qs!==void 0?qs:mi[Ur].fontStyle,pr=Rs.toLowerCase(),Ci[pr]!==void 0&&Ci[pr][qs]!==void 0?br=Ci[pr][qs]:Ci[Rs]!==void 0&&Ci[Rs][qs]!==void 0?br=Ci[Rs][qs]:ir.disableWarning===!1&&o$1.warn("Unable to look up font label for font '"+Rs+"', '"+qs+"'. Refer to getFontList() for available fonts."),br||ir.noFallback||(br=Ci.times[qs])==null&&(br=Ci.times.normal),br},Fi=Ge.__private__.putInfo=function(){var Rs=Ji(),qs=function(pr){return pr};for(var ir in Ve!==null&&(qs=Qn.encryptor(Rs,0)),Ws("<<"),Ws("/Producer ("+Ta(qs("jsPDF "+E.version))+")"),Qr)Qr.hasOwnProperty(ir)&&Qr[ir]&&Ws("/"+ir.substr(0,1).toUpperCase()+ir.substr(1)+" ("+Ta(qs(Qr[ir]))+")");Ws("/CreationDate ("+Ta(qs(Ms))+")"),Ws(">>"),Ws("endobj")},hn=Ge.__private__.putCatalog=function(Rs){var qs=(Rs=Rs||{}).rootDictionaryObjId||Rn;switch(Ji(),Ws("<<"),Ws("/Type /Catalog"),Ws("/Pages "+qs+" 0 R"),Lr||(Lr="fullwidth"),Lr){case"fullwidth":Ws("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ws("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ws("/OpenAction [3 0 R /Fit]");break;case"original":Ws("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ir=""+Lr;ir.substr(ir.length-1)==="%"&&(Lr=parseInt(Lr)/100),typeof Lr=="number"&&Ws("/OpenAction [3 0 R /XYZ null null "+ds(Lr)+"]")}switch(Pr||(Pr="continuous"),Pr){case"continuous":Ws("/PageLayout /OneColumn");break;case"single":Ws("/PageLayout /SinglePage");break;case"two":case"twoleft":Ws("/PageLayout /TwoColumnLeft");break;case"tworight":Ws("/PageLayout /TwoColumnRight")}hr&&Ws("/PageMode /"+hr),yi.publish("putCatalog"),Ws(">>"),Ws("endobj")},ko=Ge.__private__.putTrailer=function(){Ws("trailer"),Ws("<<"),Ws("/Size "+(Cs+1)),Ws("/Root "+Cs+" 0 R"),Ws("/Info "+(Cs-1)+" 0 R"),Ve!==null&&Ws("/Encrypt "+Qn.oid+" 0 R"),Ws("/ID [ <"+bs+"> <"+bs+"> ]"),Ws(">>")},Ki=Ge.__private__.putHeader=function(){Ws("%PDF-"+Je),Ws("%ÂºÃŸÂ¬Ã ")},fc=Ge.__private__.putXRef=function(){var Rs="0000000000";Ws("xref"),Ws("0 "+(Cs+1)),Ws("0000000000 65535 f ");for(var qs=1;qs<=Cs;qs++)typeof Ps[qs]=="function"?Ws((Rs+Ps[qs]()).slice(-10)+" 00000 n "):Ps[qs]!==void 0?Ws((Rs+Ps[qs]).slice(-10)+" 00000 n "):Ws("0000000000 00000 n ")},yl=Ge.__private__.buildDocument=function(){var Rs;Cs=0,Is=0,Us=[],Ps=[],Vs=[],Rn=ci(),Pn=ci(),ur(Us),yi.publish("buildDocument"),Ki(),Po(),function(){yi.publish("putAdditionalObjects");for(var ir=0;ir<Vs.length;ir++){var pr=Vs[ir];aa(pr.objId,!0),Ws(pr.content),Ws("endobj")}yi.publish("postPutAdditionalObjects")}(),Rs=[],function(){for(var ir in mi)mi.hasOwnProperty(ir)&&(qe===!1||qe===!0&&We.hasOwnProperty(ir))&&Bc(mi[ir])}(),function(){var ir;for(ir in Kr)Kr.hasOwnProperty(ir)&&ql(Kr[ir])}(),function(){for(var ir in $i)$i.hasOwnProperty(ir)&&xl($i[ir])}(),function(ir){var pr;for(pr in Sr)Sr.hasOwnProperty(pr)&&(Sr[pr]instanceof M?gl(Sr[pr]):Sr[pr]instanceof q&&pc(Sr[pr],ir))}(Rs),yi.publish("putResources"),Rs.forEach(Jn),Jn({resourcesOid:Pn,objectOid:Number.MAX_SAFE_INTEGER}),yi.publish("postPutResources"),Ve!==null&&(Qn.oid=Ji(),Ws("<<"),Ws("/Filter /Standard"),Ws("/V "+Qn.v),Ws("/R "+Qn.r),Ws("/U <"+Qn.toHexString(Qn.U)+">"),Ws("/O <"+Qn.toHexString(Qn.O)+">"),Ws("/P "+Qn.P),Ws(">>"),Ws("endobj")),Fi(),hn();var qs=Is;return fc(),ko(),Ws("startxref"),Ws(""+qs),Ws("%%EOF"),ur(Ks[ys]),Us.join(`
`)},ki=Ge.__private__.getBlob=function(Rs){return new Blob([zr(Rs)],{type:"application/pdf"})},Tn=Ge.output=Ge.__private__.output=(Qa=function(Rs,qs){switch(typeof(qs=qs||{})=="string"?qs={filename:qs}:qs.filename=qs.filename||"generated.pdf",Rs){case void 0:return yl();case"save":Ge.save(qs.filename);break;case"arraybuffer":return zr(yl());case"blob":return ki(yl());case"bloburi":case"bloburl":if(i$2.URL!==void 0&&typeof i$2.URL.createObjectURL=="function")return i$2.URL&&i$2.URL.createObjectURL(ki(yl()))||void 0;o$1.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ir="",pr=yl();try{ir=d(pr)}catch{ir=d(unescape(encodeURIComponent(pr)))}return"data:application/pdf;filename="+qs.filename+";base64,"+ir;case"pdfobjectnewwindow":if(Object.prototype.toString.call(i$2)==="[object Window]"){var br="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fr=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';qs.pdfObjectUrl&&(br=qs.pdfObjectUrl,Fr="");var Xr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+br+'"'+Fr+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(qs)+");<\/script></body></html>",xi=i$2.open();return xi!==null&&xi.document.write(Xr),xi}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(i$2)==="[object Window]"){var vi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(qs.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+qs.filename+'" width="500px" height="400px" /></body></html>',Li=i$2.open();if(Li!==null){Li.document.write(vi);var Oi=this;Li.document.documentElement.querySelector("#pdfViewer").onload=function(){Li.document.title=qs.filename,Li.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Oi.output("bloburl"))}}return Li}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(i$2)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Qi='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",qs)+'"></iframe></body></html>',qn=i$2.open();if(qn!==null&&(qn.document.write(Qi),qn.document.title=qs.filename),qn||typeof safari>"u")return qn;break;case"datauri":case"dataurl":return i$2.document.location.href=this.output("datauristring",qs);default:return null}},Qa.foo=function(){try{return Qa.apply(this,arguments)}catch(ir){var Rs=ir.stack||"";~Rs.indexOf(" at ")&&(Rs=Rs.split(" at ")[1]);var qs="Error in function "+Rs.split(`
`)[0].split("<")[0]+": "+ir.message;if(!i$2.console)throw new Error(qs);i$2.console.error(qs,ir),i$2.alert&&alert(qs)}},Qa.foo.bar=Qa,Qa.foo),Ua=function(Rs){return Array.isArray(Sn)===!0&&Sn.indexOf(Rs)>-1};switch(Ce){case"pt":ti=1;break;case"mm":ti=72/25.4;break;case"cm":ti=72/2.54;break;case"in":ti=72;break;case"px":ti=Ua("px_scaling")==1?.75:96/72;break;case"pc":case"em":ti=12;break;case"ex":ti=6;break;default:if(typeof Ce!="number")throw new Error("Invalid unit: "+Ce);ti=Ce}var Qn=null;js(),ps();var pn=Ge.__private__.getPageInfo=Ge.getPageInfo=function(Rs){if(isNaN(Rs)||Rs%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ii[Rs].objId,pageNumber:Rs,pageContext:ii[Rs]}},qd=Ge.__private__.getPageInfoByObjId=function(Rs){if(isNaN(Rs)||Rs%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var qs in ii)if(ii[qs].objId===Rs)break;return pn(qs)},pd=Ge.__private__.getCurrentPageInfo=Ge.getCurrentPageInfo=function(){return{objId:ii[ys].objId,pageNumber:ys,pageContext:ii[ys]}};Ge.addPage=function(){return To.apply(this,arguments),this},Ge.setPage=function(){return Ud.apply(this,arguments),ur.call(this,Ks[ys]),this},Ge.insertPage=function(Rs){return this.addPage(),this.movePage(ys,Rs),this},Ge.movePage=function(Rs,qs){var ir,pr;if(Rs>qs){ir=Ks[Rs],pr=ii[Rs];for(var br=Rs;br>qs;br--)Ks[br]=Ks[br-1],ii[br]=ii[br-1];Ks[qs]=ir,ii[qs]=pr,this.setPage(qs)}else if(Rs<qs){ir=Ks[Rs],pr=ii[Rs];for(var Fr=Rs;Fr<qs;Fr++)Ks[Fr]=Ks[Fr+1],ii[Fr]=ii[Fr+1];Ks[qs]=ir,ii[qs]=pr,this.setPage(qs)}return this},Ge.deletePage=function(){return zc.apply(this,arguments),this},Ge.__private__.text=Ge.text=function(Rs,qs,ir,pr,br){var Fr,Xr,xi,vi,Li,Oi,Qi,qn,fa,jn=(pr=pr||{}).scope||this;if(typeof Rs=="number"&&typeof qs=="number"&&(typeof ir=="string"||Array.isArray(ir))){var Ea=ir;ir=qs,qs=Rs,Rs=Ea}if(arguments[3]instanceof pi==0?(xi=arguments[4],vi=arguments[5],_typeof(Qi=arguments[3])==="object"&&Qi!==null||(typeof xi=="string"&&(vi=xi,xi=null),typeof Qi=="string"&&(vi=Qi,Qi=null),typeof Qi=="number"&&(xi=Qi,Qi=null),pr={flags:Qi,angle:xi,align:vi})):(xs("The transform parameter of text() with a Matrix value"),fa=br),isNaN(qs)||isNaN(ir)||Rs==null)throw new Error("Invalid arguments passed to jsPDF.text");if(Rs.length===0)return jn;var oa,ka="",El=typeof pr.lineHeightFactor=="number"?pr.lineHeightFactor:xc,qa=jn.internal.scaleFactor;function Gc(Yi){return Yi=Yi.split("	").join(Array(pr.TabLen||9).join(" ")),Ta(Yi,Qi)}function ec(Yi){for(var cn,Gn=Yi.concat(),da=[],go=Gn.length;go--;)typeof(cn=Gn.shift())=="string"?da.push(cn):Array.isArray(Yi)&&(cn.length===1||cn[1]===void 0&&cn[2]===void 0)?da.push(cn[0]):da.push([cn[0],cn[1],cn[2]]);return da}function la(Yi,cn){var Gn;if(typeof Yi=="string")Gn=cn(Yi)[0];else if(Array.isArray(Yi)){for(var da,go,yo=Yi.concat(),Rc=[],Oh=yo.length;Oh--;)typeof(da=yo.shift())=="string"?Rc.push(cn(da)[0]):Array.isArray(da)&&typeof da[0]=="string"&&(go=cn(da[0],da[1],da[2]),Rc.push([go[0],go[1],go[2]]));Gn=Rc}return Gn}var Wc=!1,Zc=!0;if(typeof Rs=="string")Wc=!0;else if(Array.isArray(Rs)){var Fu=Rs.concat();Xr=[];for(var tc,xa=Fu.length;xa--;)(typeof(tc=Fu.shift())!="string"||Array.isArray(tc)&&typeof tc[0]!="string")&&(Zc=!1);Wc=Zc}if(Wc===!1)throw new Error('Type of text must be string or Array. "'+Rs+'" is not recognized.');typeof Rs=="string"&&(Rs=Rs.match(/[\r?\n]/)?Rs.split(/\r\n|\r|\n/g):[Rs]);var Ou=tr/jn.internal.scaleFactor,wl=Ou*(El-1);switch(pr.baseline){case"bottom":ir-=wl;break;case"top":ir+=Ou-wl;break;case"hanging":ir+=Ou-2*wl;break;case"middle":ir+=Ou/2-wl}if((Oi=pr.maxWidth||0)>0&&(typeof Rs=="string"?Rs=jn.splitTextToSize(Rs,Oi):Object.prototype.toString.call(Rs)==="[object Array]"&&(Rs=Rs.reduce(function(Yi,cn){return Yi.concat(jn.splitTextToSize(cn,Oi))},[]))),Fr={text:Rs,x:qs,y:ir,options:pr,mutex:{pdfEscape:Ta,activeFontKey:Ur,fonts:mi,activeFontSize:tr}},yi.publish("preProcessText",Fr),Rs=Fr.text,xi=(pr=Fr.options).angle,fa instanceof pi==0&&xi&&typeof xi=="number"){xi*=Math.PI/180,pr.rotationDirection===0&&(xi=-xi),Xe===ts&&(xi=-xi);var Zd=Math.cos(xi),Mh=Math.sin(xi);fa=new pi(Zd,Mh,-Mh,Zd,0,0)}else xi&&xi instanceof pi&&(fa=xi);Xe!==ts||fa||(fa=ml),(Li=pr.charSpace||Yl)!==void 0&&(ka+=fs(Ts(Li))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(qn=pr.horizontalScale)!==void 0&&(ka+=fs(100*qn)+` Tz
`),pr.lang;var kn=-1,mo=pr.renderingMode!==void 0?pr.renderingMode:pr.stroke,xd=jn.internal.getCurrentPageInfo().pageContext;switch(mo){case 0:case!1:case"fill":kn=0;break;case 1:case!0:case"stroke":kn=1;break;case 2:case"fillThenStroke":kn=2;break;case 3:case"invisible":kn=3;break;case 4:case"fillAndAddForClipping":kn=4;break;case 5:case"strokeAndAddPathForClipping":kn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":kn=6;break;case 7:case"addToPathForClipping":kn=7}var so=xd.usedRenderingMode!==void 0?xd.usedRenderingMode:-1;kn!==-1?ka+=kn+` Tr
`:so!==-1&&(ka+=`0 Tr
`),kn!==-1&&(xd.usedRenderingMode=kn),vi=pr.align||"left";var ro,Rl=tr*El,Iu=jn.internal.pageSize.getWidth(),bc=mi[Ur];Li=pr.charSpace||Yl,Oi=pr.maxWidth||0,Qi=Object.assign({autoencode:!0,noBOM:!0},pr.flags);var jc=[],_l=function(Yi){return jn.getStringUnitWidth(Yi,{font:bc,charSpace:Li,fontSize:tr,doKerning:!1})*tr/qa};if(Object.prototype.toString.call(Rs)==="[object Array]"){var fo;Xr=ec(Rs),vi!=="left"&&(ro=Xr.map(_l));var ca,Sl=0;if(vi==="right"){qs-=ro[0],Rs=[],xa=Xr.length;for(var Ec=0;Ec<xa;Ec++)Ec===0?(ca=Yo(qs),fo=po(ir)):(ca=Ts(Sl-ro[Ec]),fo=-Rl),Rs.push([Xr[Ec],ca,fo]),Sl=ro[Ec]}else if(vi==="center"){qs-=ro[0]/2,Rs=[],xa=Xr.length;for(var wc=0;wc<xa;wc++)wc===0?(ca=Yo(qs),fo=po(ir)):(ca=Ts((Sl-ro[wc])/2),fo=-Rl),Rs.push([Xr[wc],ca,fo]),Sl=ro[wc]}else if(vi==="left"){Rs=[],xa=Xr.length;for(var Fh=0;Fh<xa;Fh++)Rs.push(Xr[Fh])}else if(vi==="justify"&&bc.encoding==="Identity-H"){Rs=[],xa=Xr.length,Oi=Oi!==0?Oi:Iu;for(var Lo=0,ua=0;ua<xa;ua++)if(fo=ua===0?po(ir):-Rl,ca=ua===0?Yo(qs):Lo,ua<xa-1){var Kc=Ts((Oi-ro[ua])/(Xr[ua].split(" ").length-1)),ea=Xr[ua].split(" ");Rs.push([ea[0]+" ",ca,fo]),Lo=0;for(var ta=1;ta<ea.length;ta++){var Yc=(_l(ea[ta-1]+" "+ea[ta])-_l(ea[ta]))*qa+Kc;ta==ea.length-1?Rs.push([ea[ta],Yc,0]):Rs.push([ea[ta]+" ",Yc,0]),Lo-=Yc}}else Rs.push([Xr[ua],ca,fo]);Rs.push(["",Lo,0])}else{if(vi!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(Rs=[],xa=Xr.length,Oi=Oi!==0?Oi:Iu,ua=0;ua<xa;ua++){fo=ua===0?po(ir):-Rl,ca=ua===0?Yo(qs):0;var gd=Xr[ua].split(" ").length-1,Bu=gd>0?(Oi-ro[ua])/gd:0;ua<xa-1?jc.push(fs(Ts(Bu))):jc.push(0),Rs.push([Xr[ua],ca,fo])}}}(typeof pr.R2L=="boolean"?pr.R2L:lr)===!0&&(Rs=la(Rs,function(Yi,cn,Gn){return[Yi.split("").reverse().join(""),cn,Gn]})),Fr={text:Rs,x:qs,y:ir,options:pr,mutex:{pdfEscape:Ta,activeFontKey:Ur,fonts:mi,activeFontSize:tr}},yi.publish("postProcessText",Fr),Rs=Fr.text,oa=Fr.mutex.isHex||!1;var Xc=mi[Ur].encoding;Xc!=="WinAnsiEncoding"&&Xc!=="StandardEncoding"||(Rs=la(Rs,function(Yi,cn,Gn){return[Gc(Yi),cn,Gn]})),Xr=ec(Rs),Rs=[];for(var Nl,sc,Xo,xo=Array.isArray(Xr[0])?1:0,Al="",Cl=function(Yi,cn,Gn){var da="";return Gn instanceof pi?(Gn=typeof pr.angle=="number"?Xa(Gn,new pi(1,0,0,1,Yi,cn)):Xa(new pi(1,0,0,1,Yi,cn),Gn),Xe===ts&&(Gn=Xa(new pi(1,0,0,-1,0,0),Gn)),da=Gn.join(" ")+` Tm
`):da=fs(Yi)+" "+fs(cn)+` Td
`,da},Mo=0;Mo<Xr.length;Mo++){switch(Al="",xo){case 1:Xo=(oa?"<":"(")+Xr[Mo][0]+(oa?">":")"),Nl=parseFloat(Xr[Mo][1]),sc=parseFloat(Xr[Mo][2]);break;case 0:Xo=(oa?"<":"(")+Xr[Mo]+(oa?">":")"),Nl=Yo(qs),sc=po(ir)}jc!==void 0&&jc[Mo]!==void 0&&(Al=jc[Mo]+` Tw
`),Mo===0?Rs.push(Al+Cl(Nl,sc,fa)+Xo):xo===0?Rs.push(Al+Xo):xo===1&&Rs.push(Al+Cl(Nl,sc,fa)+Xo)}Rs=xo===0?Rs.join(` Tj
T* `):Rs.join(` Tj
`),Rs+=` Tj
`;var Fo=`BT
/`;return Fo+=Ur+" "+tr+` Tf
`,Fo+=fs(tr*El)+` TL
`,Fo+=Nn+`
`,Fo+=ka,Fo+=Rs,Ws(Fo+="ET"),We[Ur]=!0,jn};var Gl=Ge.__private__.clip=Ge.clip=function(Rs){return Ws(Rs==="evenodd"?"W*":"W"),this};Ge.clipEvenOdd=function(){return Gl("evenodd")},Ge.__private__.discardPath=Ge.discardPath=function(){return Ws("n"),this};var tn=Ge.__private__.isValidStyle=function(Rs){var qs=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(Rs)!==-1&&(qs=!0),qs};Ge.__private__.setDefaultPathOperation=Ge.setDefaultPathOperation=function(Rs){return tn(Rs)&&(ze=Rs),this};var Wl=Ge.__private__.getStyle=Ge.getStyle=function(Rs){var qs=ze;switch(Rs){case"D":case"S":qs="S";break;case"F":qs="f";break;case"FD":case"DF":qs="B";break;case"f":case"f*":case"B":case"B*":qs=Rs}return qs},$c=Ge.close=function(){return Ws("h"),this};Ge.stroke=function(){return Ws("S"),this},Ge.fill=function(Rs){return ho("f",Rs),this},Ge.fillEvenOdd=function(Rs){return ho("f*",Rs),this},Ge.fillStroke=function(Rs){return ho("B",Rs),this},Ge.fillStrokeEvenOdd=function(Rs){return ho("B*",Rs),this};var ho=function(Rs,qs){_typeof(qs)==="object"?Gd(qs,Rs):Ws(Rs)},Vc=function(Rs){Rs===null||Xe===ts&&Rs===void 0||(Rs=Wl(Rs),Ws(Rs))};function Pu(Rs,qs,ir,pr,br){var Fr=new q(qs||this.boundingBox,ir||this.xStep,pr||this.yStep,this.gState,br||this.matrix);Fr.stream=this.stream;var Xr=Rs+"$$"+this.cloneIndex+++"$$";return Ja(Xr,Fr),Fr}var Gd=function(Rs,qs){var ir=Ir[Rs.key],pr=Sr[ir];if(pr instanceof M)Ws("q"),Ws(md(qs)),pr.gState&&Ge.setGState(pr.gState),Ws(Rs.matrix.toString()+" cm"),Ws("/"+ir+" sh"),Ws("Q");else if(pr instanceof q){var br=new pi(1,0,0,-1,0,fd());Rs.matrix&&(br=br.multiply(Rs.matrix||ml),ir=Pu.call(pr,Rs.key,Rs.boundingBox,Rs.xStep,Rs.yStep,br).id),Ws("q"),Ws("/Pattern cs"),Ws("/"+ir+" scn"),pr.gState&&Ge.setGState(pr.gState),Ws(qs),Ws("Q")}},md=function(Rs){switch(Rs){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Tu=Ge.moveTo=function(Rs,qs){return Ws(fs(Ts(Rs))+" "+fs(Ds(qs))+" m"),this},Wd=Ge.lineTo=function(Rs,qs){return Ws(fs(Ts(Rs))+" "+fs(Ds(qs))+" l"),this},to=Ge.curveTo=function(Rs,qs,ir,pr,br,Fr){return Ws([fs(Ts(Rs)),fs(Ds(qs)),fs(Ts(ir)),fs(Ds(pr)),fs(Ts(br)),fs(Ds(Fr)),"c"].join(" ")),this};Ge.__private__.line=Ge.line=function(Rs,qs,ir,pr,br){if(isNaN(Rs)||isNaN(qs)||isNaN(ir)||isNaN(pr)||!tn(br))throw new Error("Invalid arguments passed to jsPDF.line");return Xe===rs?this.lines([[ir-Rs,pr-qs]],Rs,qs,[1,1],br||"S"):this.lines([[ir-Rs,pr-qs]],Rs,qs,[1,1]).stroke()},Ge.__private__.lines=Ge.lines=function(Rs,qs,ir,pr,br,Fr){var Xr,xi,vi,Li,Oi,Qi,qn,fa,jn,Ea,oa,ka;if(typeof Rs=="number"&&(ka=ir,ir=qs,qs=Rs,Rs=ka),pr=pr||[1,1],Fr=Fr||!1,isNaN(qs)||isNaN(ir)||!Array.isArray(Rs)||!Array.isArray(pr)||!tn(br)||typeof Fr!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Tu(qs,ir),Xr=pr[0],xi=pr[1],Li=Rs.length,Ea=qs,oa=ir,vi=0;vi<Li;vi++)(Oi=Rs[vi]).length===2?(Ea=Oi[0]*Xr+Ea,oa=Oi[1]*xi+oa,Wd(Ea,oa)):(Qi=Oi[0]*Xr+Ea,qn=Oi[1]*xi+oa,fa=Oi[2]*Xr+Ea,jn=Oi[3]*xi+oa,Ea=Oi[4]*Xr+Ea,oa=Oi[5]*xi+oa,to(Qi,qn,fa,jn,Ea,oa));return Fr&&$c(),Vc(br),this},Ge.path=function(Rs){for(var qs=0;qs<Rs.length;qs++){var ir=Rs[qs],pr=ir.c;switch(ir.op){case"m":Tu(pr[0],pr[1]);break;case"l":Wd(pr[0],pr[1]);break;case"c":to.apply(this,pr);break;case"h":$c()}}return this},Ge.__private__.rect=Ge.rect=function(Rs,qs,ir,pr,br){if(isNaN(Rs)||isNaN(qs)||isNaN(ir)||isNaN(pr)||!tn(br))throw new Error("Invalid arguments passed to jsPDF.rect");return Xe===rs&&(pr=-pr),Ws([fs(Ts(Rs)),fs(Ds(qs)),fs(Ts(ir)),fs(Ts(pr)),"re"].join(" ")),Vc(br),this},Ge.__private__.triangle=Ge.triangle=function(Rs,qs,ir,pr,br,Fr,Xr){if(isNaN(Rs)||isNaN(qs)||isNaN(ir)||isNaN(pr)||isNaN(br)||isNaN(Fr)||!tn(Xr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ir-Rs,pr-qs],[br-ir,Fr-pr],[Rs-br,qs-Fr]],Rs,qs,[1,1],Xr,!0),this},Ge.__private__.roundedRect=Ge.roundedRect=function(Rs,qs,ir,pr,br,Fr,Xr){if(isNaN(Rs)||isNaN(qs)||isNaN(ir)||isNaN(pr)||isNaN(br)||isNaN(Fr)||!tn(Xr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var xi=4/3*(Math.SQRT2-1);return br=Math.min(br,.5*ir),Fr=Math.min(Fr,.5*pr),this.lines([[ir-2*br,0],[br*xi,0,br,Fr-Fr*xi,br,Fr],[0,pr-2*Fr],[0,Fr*xi,-br*xi,Fr,-br,Fr],[2*br-ir,0],[-br*xi,0,-br,-Fr*xi,-br,-Fr],[0,2*Fr-pr],[0,-Fr*xi,br*xi,-Fr,br,-Fr]],Rs+br,qs,[1,1],Xr,!0),this},Ge.__private__.ellipse=Ge.ellipse=function(Rs,qs,ir,pr,br){if(isNaN(Rs)||isNaN(qs)||isNaN(ir)||isNaN(pr)||!tn(br))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fr=4/3*(Math.SQRT2-1)*ir,Xr=4/3*(Math.SQRT2-1)*pr;return Tu(Rs+ir,qs),to(Rs+ir,qs-Xr,Rs+Fr,qs-pr,Rs,qs-pr),to(Rs-Fr,qs-pr,Rs-ir,qs-Xr,Rs-ir,qs),to(Rs-ir,qs+Xr,Rs-Fr,qs+pr,Rs,qs+pr),to(Rs+Fr,qs+pr,Rs+ir,qs+Xr,Rs+ir,qs),Vc(br),this},Ge.__private__.circle=Ge.circle=function(Rs,qs,ir,pr){if(isNaN(Rs)||isNaN(qs)||isNaN(ir)||!tn(pr))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(Rs,qs,ir,ir,pr)},Ge.setFont=function(Rs,qs,ir){return ir&&(qs=hs(qs,ir)),Ur=Cu(Rs,qs,{disableWarning:!1}),this};var ku=Ge.__private__.getFont=Ge.getFont=function(){return mi[Cu.apply(Ge,arguments)]};Ge.__private__.getFontList=Ge.getFontList=function(){var Rs,qs,ir={};for(Rs in Ci)if(Ci.hasOwnProperty(Rs))for(qs in ir[Rs]=[],Ci[Rs])Ci[Rs].hasOwnProperty(qs)&&ir[Rs].push(qs);return ir},Ge.addFont=function(Rs,qs,ir,pr,br){var Fr=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fr.indexOf(arguments[3])!==-1?br=arguments[3]:arguments[3]&&Fr.indexOf(arguments[3])==-1&&(ir=hs(ir,pr)),kh.call(this,Rs,qs,ir,br=br||"Identity-H")};var xc,vl=Re.lineWidth||.200025,Du=Ge.__private__.getLineWidth=Ge.getLineWidth=function(){return vl},ni=Ge.__private__.setLineWidth=Ge.setLineWidth=function(Rs){return vl=Rs,Ws(fs(Ts(Rs))+" w"),this};Ge.__private__.setLineDash=E.API.setLineDash=E.API.setLineDashPattern=function(Rs,qs){if(Rs=Rs||[],qs=qs||0,isNaN(qs)||!Array.isArray(Rs))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return Rs=Rs.map(function(ir){return fs(Ts(ir))}).join(" "),qs=fs(Ts(qs)),Ws("["+Rs+"] "+qs+" d"),this};var Do=Ge.__private__.getLineHeight=Ge.getLineHeight=function(){return tr*xc};Ge.__private__.getLineHeight=Ge.getLineHeight=function(){return tr*xc};var gn=Ge.__private__.setLineHeightFactor=Ge.setLineHeightFactor=function(Rs){return typeof(Rs=Rs||1.15)=="number"&&(xc=Rs),this},Lu=Ge.__private__.getLineHeightFactor=Ge.getLineHeightFactor=function(){return xc};gn(Re.lineHeight);var Yo=Ge.__private__.getHorizontalCoordinate=function(Rs){return Ts(Rs)},po=Ge.__private__.getVerticalCoordinate=function(Rs){return Xe===ts?Rs:ii[ys].mediaBox.topRightY-ii[ys].mediaBox.bottomLeftY-Ts(Rs)},bl=Ge.__private__.getHorizontalCoordinateString=Ge.getHorizontalCoordinateString=function(Rs){return fs(Yo(Rs))},Zl=Ge.__private__.getVerticalCoordinateString=Ge.getVerticalCoordinateString=function(Rs){return fs(po(Rs))},Kl=Re.strokeColor||"0 G";Ge.__private__.getStrokeColor=Ge.getDrawColor=function(){return Va(Kl)},Ge.__private__.setStrokeColor=Ge.setDrawColor=function(Rs,qs,ir,pr){return Kl=Co({ch1:Rs,ch2:qs,ch3:ir,ch4:pr,pdfColorType:"draw",precision:2}),Ws(Kl),this};var gc=Re.fillColor||"0 g";Ge.__private__.getFillColor=Ge.getFillColor=function(){return Va(gc)},Ge.__private__.setFillColor=Ge.setFillColor=function(Rs,qs,ir,pr){return gc=Co({ch1:Rs,ch2:qs,ch3:ir,ch4:pr,pdfColorType:"fill",precision:2}),Ws(gc),this};var Nn=Re.textColor||"0 g",jl=Ge.__private__.getTextColor=Ge.getTextColor=function(){return Va(Nn)};Ge.__private__.setTextColor=Ge.setTextColor=function(Rs,qs,ir,pr){return Nn=Co({ch1:Rs,ch2:qs,ch3:ir,ch4:pr,pdfColorType:"text",precision:3}),this};var Yl=Re.charSpace,Ha=Ge.__private__.getCharSpace=Ge.getCharSpace=function(){return parseFloat(Yl||0)};Ge.__private__.setCharSpace=Ge.setCharSpace=function(Rs){if(isNaN(Rs))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Yl=Rs,this};var Xl=0;Ge.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},Ge.__private__.setLineCap=Ge.setLineCap=function(Rs){var qs=Ge.CapJoinStyles[Rs];if(qs===void 0)throw new Error("Line cap style of '"+Rs+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xl=qs,Ws(qs+" J"),this};var Uc=0;Ge.__private__.setLineJoin=Ge.setLineJoin=function(Rs){var qs=Ge.CapJoinStyles[Rs];if(qs===void 0)throw new Error("Line join style of '"+Rs+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uc=qs,Ws(qs+" j"),this},Ge.__private__.setLineMiterLimit=Ge.__private__.setMiterLimit=Ge.setLineMiterLimit=Ge.setMiterLimit=function(Rs){if(Rs=Rs||0,isNaN(Rs))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ws(fs(Ts(Rs))+" M"),this},Ge.GState=O,Ge.setGState=function(Rs){(Rs=typeof Rs=="string"?Kr[ri[Rs]]:yc(null,Rs)).equals(Wr)||(Ws("/"+Rs.id+" gs"),Wr=Rs)};var yc=function(Rs,qs){if(!Rs||!ri[Rs]){var ir=!1;for(var pr in Kr)if(Kr.hasOwnProperty(pr)&&Kr[pr].equals(qs)){ir=!0;break}if(ir)qs=Kr[pr];else{var br="GS"+(Object.keys(Kr).length+1).toString(10);Kr[br]=qs,qs.id=br}return Rs&&(ri[Rs]=qs.id),yi.publish("addGState",qs),qs}};Ge.addGState=function(Rs,qs){return yc(Rs,qs),this},Ge.saveGraphicsState=function(){return Ws("q"),Tr.push({key:Ur,size:tr,color:Nn}),this},Ge.restoreGraphicsState=function(){Ws("Q");var Rs=Tr.pop();return Ur=Rs.key,tr=Rs.size,Nn=Rs.color,Wr=null,this},Ge.setCurrentTransformationMatrix=function(Rs){return Ws(Rs.toString()+" cm"),this},Ge.comment=function(Rs){return Ws("#"+Rs),this};var Hc=function(Rs,qs){var ir=Rs||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ir},set:function(Fr){isNaN(Fr)||(ir=parseFloat(Fr))}});var pr=qs||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return pr},set:function(Fr){isNaN(Fr)||(pr=parseFloat(Fr))}});var br="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return br},set:function(Fr){br=Fr.toString()}}),this},Mu=function(Rs,qs,ir,pr){Hc.call(this,Rs,qs),this.type="rect";var br=ir||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return br},set:function(Xr){isNaN(Xr)||(br=parseFloat(Xr))}});var Fr=pr||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fr},set:function(Xr){isNaN(Xr)||(Fr=parseFloat(Xr))}}),this},zi=function(){this.page=ai,this.currentPage=ys,this.pages=Ks.slice(0),this.pagesContext=ii.slice(0),this.x=oi,this.y=Ti,this.matrix=_i,this.width=vc(ys),this.height=Hp(ys),this.outputDestination=rr,this.id="",this.objectNumber=-1};zi.prototype.restore=function(){ai=this.page,ys=this.currentPage,ii=this.pagesContext,Ks=this.pages,oi=this.x,Ti=this.y,_i=this.matrix,Dh(ys,this.width),Jl(ys,this.height),rr=this.outputDestination};var qc=function(Rs,qs,ir,pr,br){Si.push(new zi),ai=ys=0,Ks=[],oi=Rs,Ti=qs,_i=br,mc([ir,pr])};for(var ma in Ge.beginFormObject=function(Rs,qs,ir,pr,br){return qc(Rs,qs,ir,pr,br),this},Ge.endFormObject=function(Rs){return function(qs){if(dn[qs])Si.pop().restore();else{var ir=new zi,pr="Xo"+(Object.keys($i).length+1).toString(10);ir.id=pr,dn[qs]=pr,$i[pr]=ir,yi.publish("addFormObject",ir),Si.pop().restore()}}(Rs),this},Ge.doFormObject=function(Rs,qs){var ir=$i[dn[Rs]];return Ws("q"),Ws(qs.toString()+" cm"),Ws("/"+ir.id+" Do"),Ws("Q"),this},Ge.getFormObject=function(Rs){var qs=$i[dn[Rs]];return{x:qs.x,y:qs.y,width:qs.width,height:qs.height,matrix:qs.matrix}},Ge.save=function(Rs,qs){return Rs=Rs||"generated.pdf",(qs=qs||{}).returnPromise=qs.returnPromise||!1,qs.returnPromise===!1?(l(ki(yl()),Rs),typeof l.unload=="function"&&i$2.setTimeout&&setTimeout(l.unload,911),this):new Promise(function(ir,pr){try{var br=l(ki(yl()),Rs);typeof l.unload=="function"&&i$2.setTimeout&&setTimeout(l.unload,911),ir(br)}catch(Fr){pr(Fr.message)}})},E.API)E.API.hasOwnProperty(ma)&&(ma==="events"&&E.API.events.length?function(Rs,qs){var ir,pr,br;for(br=qs.length-1;br!==-1;br--)ir=qs[br][0],pr=qs[br][1],Rs.subscribe.apply(Rs,[ir].concat(typeof pr=="function"?[pr]:pr))}(yi,E.API.events):Ge[ma]=E.API[ma]);function vc(Rs){return ii[Rs].mediaBox.topRightX-ii[Rs].mediaBox.bottomLeftX}function Dh(Rs,qs){ii[Rs].mediaBox.topRightX=qs+ii[Rs].mediaBox.bottomLeftX}function Hp(Rs){return ii[Rs].mediaBox.topRightY-ii[Rs].mediaBox.bottomLeftY}function Jl(Rs,qs){ii[Rs].mediaBox.topRightY=qs+ii[Rs].mediaBox.bottomLeftY}var Ql=Ge.getPageWidth=function(Rs){return vc(Rs=Rs||ys)/ti},Lh=Ge.setPageWidth=function(Rs,qs){Dh(Rs,qs*ti)},fd=Ge.getPageHeight=function(Rs){return Hp(Rs=Rs||ys)/ti},qp=Ge.setPageHeight=function(Rs,qs){Jl(Rs,qs*ti)};return Ge.internal={pdfEscape:Ta,getStyle:Wl,getFont:ku,getFontSize:Js,getCharSpace:Ha,getTextColor:jl,getLineHeight:Do,getLineHeightFactor:Lu,getLineWidth:Du,write:Er,getHorizontalCoordinate:Yo,getVerticalCoordinate:po,getCoordinateString:bl,getVerticalCoordinateString:Zl,collections:{},newObject:Ji,newAdditionalObject:Pa,newObjectDeferred:ci,newObjectDeferredBegin:aa,getFilters:eo,putStream:Ko,events:yi,scaleFactor:ti,pageSize:{getWidth:function(){return Ql(ys)},setWidth:function(Rs){Lh(ys,Rs)},getHeight:function(){return fd(ys)},setHeight:function(Rs){qp(ys,Rs)}},encryptionOptions:Ve,encryption:Qn,getEncryptor:function(Rs){return Ve!==null?Qn.encryptor(Rs,0):function(qs){return qs}},output:Tn,getNumberOfPages:Hd,get pages(){return Ks},out:Ws,f2:ds,f3:gs,getPageInfo:pn,getPageInfoByObjId:qd,getCurrentPageInfo:pd,getPDFVersion:Qe,Point:Hc,Rectangle:Mu,Matrix:pi,hasHotfix:Ua},Object.defineProperty(Ge.internal.pageSize,"width",{get:function(){return Ql(ys)},set:function(Rs){Lh(ys,Rs)},enumerable:!0,configurable:!0}),Object.defineProperty(Ge.internal.pageSize,"height",{get:function(){return fd(ys)},set:function(Rs){qp(ys,Rs)},enumerable:!0,configurable:!0}),(function(Rs){for(var qs=0,ir=Or.length;qs<ir;qs++){var pr=kh.call(this,Rs[qs][0],Rs[qs][1],Rs[qs][2],Or[qs][3],!0);qe===!1&&(We[pr]=!0);var br=Rs[qs][0].split("-");Th({id:pr,fontName:br[0],fontStyle:br[1]||""})}yi.publish("addFonts",{fonts:mi,dictionary:Ci})}).call(Ge,Or),Ur="F1",To(Te,Ee),yi.publish("initialized"),Ge}I.prototype.lsbFirstWord=function(Re){return String.fromCharCode(255&Re,Re>>8&255,Re>>16&255,Re>>24&255)},I.prototype.toHexString=function(Re){return Re.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},I.prototype.hexToBytes=function(Re){for(var e=[],Ee=0;Ee<Re.length;Ee+=2)e.push(String.fromCharCode(parseInt(Re.substr(Ee,2),16)));return e.join("")},I.prototype.processOwnerPassword=function(Re,e){return k(S(e).substr(0,5),Re)},I.prototype.encryptor=function(Re,e){var Ee=S(this.encryptionKey+String.fromCharCode(255&Re,Re>>8&255,Re>>16&255,255&e,e>>8&255)).substr(0,10);return function(Ce){return k(Ee,Ce)}},O.prototype.equals=function(Re){var e,Ee="id,objectNumber,equals";if(!Re||_typeof(Re)!==_typeof(this))return!1;var Ce=0;for(e in this)if(!(Ee.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!Re.hasOwnProperty(e)||this[e]!==Re[e])return!1;Ce++}for(e in Re)Re.hasOwnProperty(e)&&Ee.indexOf(e)<0&&Ce--;return Ce===0},E.API={events:[]},E.version="3.0.4";var R=E.API,D=1,T=function(Re){return Re.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},z=function(Re){return Re.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},U=function(Re){return Re.toFixed(2)},H=function(Re){return Re.toFixed(5)};R.__acroform__={};var W=function(Re,e){Re.prototype=Object.create(e.prototype),Re.prototype.constructor=Re},V=function(Re){return Re*D},G=function(Re){var e=new ct,Ee=xt.internal.getHeight(Re)||0,Ce=xt.internal.getWidth(Re)||0;return e.BBox=[0,0,Number(U(Ce)),Number(U(Ee))],e},Y=R.__acroform__.setBit=function(Re,e){if(Re=Re||0,e=e||0,isNaN(Re)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return Re|1<<e},J=R.__acroform__.clearBit=function(Re,e){if(Re=Re||0,e=e||0,isNaN(Re)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return Re&~(1<<e)},X=R.__acroform__.getBit=function(Re,e){if(isNaN(Re)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return Re&1<<e?1:0},K=R.__acroform__.getBitForPdf=function(Re,e){if(isNaN(Re)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return X(Re,e-1)},Z=R.__acroform__.setBitForPdf=function(Re,e){if(isNaN(Re)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Y(Re,e-1)},$=R.__acroform__.clearBitForPdf=function(Re,e){if(isNaN(Re)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return J(Re,e-1)},Q=R.__acroform__.calculateCoordinates=function(Re,e){var Ee=e.internal.getHorizontalCoordinate,Ce=e.internal.getVerticalCoordinate,Te=Re[0],De=Re[1],Me=Re[2],Oe=Re[3],Be={};return Be.lowerLeft_X=Ee(Te)||0,Be.lowerLeft_Y=Ce(De+Oe)||0,Be.upperRight_X=Ee(Te+Me)||0,Be.upperRight_Y=Ce(De)||0,[Number(U(Be.lowerLeft_X)),Number(U(Be.lowerLeft_Y)),Number(U(Be.upperRight_X)),Number(U(Be.upperRight_Y))]},tt=function(Re){if(Re.appearanceStreamContent)return Re.appearanceStreamContent;if(Re.V||Re.DV){var e=[],Ee=Re._V||Re.DV,Ce=et(Re,Ee),Te=Re.scope.internal.getFont(Re.fontName,Re.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(Re.scope.__private__.encodeColorString(Re.color)),e.push("/"+Te+" "+U(Ce.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(Ce.text),e.push("ET"),e.push("Q"),e.push("EMC");var De=G(Re);return De.scope=Re.scope,De.stream=e.join(`
`),De}},et=function(Re,e){var Ee=Re.fontSize===0?Re.maxFontSize:Re.fontSize,Ce={text:"",fontSize:""},Te=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");Te=Re.multiline?Te.map(function(ds){return ds.split(`
`)}):Te.map(function(ds){return[ds]});var De=Ee,Me=xt.internal.getHeight(Re)||0;Me=Me<0?-Me:Me;var Oe=xt.internal.getWidth(Re)||0;Oe=Oe<0?-Oe:Oe;var Be=function(ds,gs,Ts){if(ds+1<Te.length){var Ds=gs+" "+Te[ds+1][0];return nt(Ds,Re,Ts).width<=Oe-4}return!1};De++;e:for(;De>0;){e="",De--;var ze,Ve,qe=nt("3",Re,De).height,We=Re.multiline?Me-De:(Me-qe)/2,Ge=We+=2,Je=0,Qe=0,ns=0;if(De<=0){e=`(...) Tj
`,e+="% Width of Text: "+nt(e,Re,De=12).width+", FieldWidth:"+Oe+`
`;break}for(var Ye="",rs=0,ts=0;ts<Te.length;ts++)if(Te.hasOwnProperty(ts)){var Xe=!1;if(Te[ts].length!==1&&ns!==Te[ts].length-1){if((qe+2)*(rs+2)+2>Me)continue e;Ye+=Te[ts][ns],Xe=!0,Qe=ts,ts--}else{Ye=(Ye+=Te[ts][ns]+" ").substr(Ye.length-1)==" "?Ye.substr(0,Ye.length-1):Ye;var is=parseInt(ts),os=Be(is,Ye,De),hs=ts>=Te.length-1;if(os&&!hs){Ye+=" ",ns=0;continue}if(os||hs){if(hs)Qe=is;else if(Re.multiline&&(qe+2)*(rs+2)+2>Me)continue e}else{if(!Re.multiline||(qe+2)*(rs+2)+2>Me)continue e;Qe=is}}for(var fs="",xs=Je;xs<=Qe;xs++){var Ss=Te[xs];if(Re.multiline){if(xs===Qe){fs+=Ss[ns]+" ",ns=(ns+1)%Ss.length;continue}if(xs===Je){fs+=Ss[Ss.length-1]+" ";continue}}fs+=Ss[0]+" "}switch(fs=fs.substr(fs.length-1)==" "?fs.substr(0,fs.length-1):fs,Ve=nt(fs,Re,De).width,Re.textAlign){case"right":ze=Oe-Ve-2;break;case"center":ze=(Oe-Ve)/2;break;default:ze=2}e+=U(ze)+" "+U(Ge)+` Td
`,e+="("+T(fs)+`) Tj
`,e+=-U(ze)+` 0 Td
`,Ge=-(De+2),Ve=0,Je=Xe?Qe:Qe+1,rs++,Ye=""}break}return Ce.text=e,Ce.fontSize=De,Ce},nt=function(Re,e,Ee){var Ce=e.scope.internal.getFont(e.fontName,e.fontStyle),Te=e.scope.getStringUnitWidth(Re,{font:Ce,fontSize:parseFloat(Ee),charSpace:0})*parseFloat(Ee);return{height:e.scope.getStringUnitWidth("3",{font:Ce,fontSize:parseFloat(Ee),charSpace:0})*parseFloat(Ee)*1.5,width:Te}},rt={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},it=function(Re,e){var Ee={type:"reference",object:Re};e.internal.getPageInfo(Re.page).pageContext.annotations.find(function(Ce){return Ce.type===Ee.type&&Ce.object===Ee.object})===void 0&&e.internal.getPageInfo(Re.page).pageContext.annotations.push(Ee)},at=function(Re,e){if(e.scope=Re,Re.internal!==void 0&&(Re.internal.acroformPlugin===void 0||Re.internal.acroformPlugin.isInitialized===!1)){if(ht.FieldNum=0,Re.internal.acroformPlugin=JSON.parse(JSON.stringify(rt)),Re.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");D=Re.internal.scaleFactor,Re.internal.acroformPlugin.acroFormDictionaryRoot=new lt,Re.internal.acroformPlugin.acroFormDictionaryRoot.scope=Re,Re.internal.acroformPlugin.acroFormDictionaryRoot._eventID=Re.internal.events.subscribe("postPutResources",function(){(function(Ee){Ee.internal.events.unsubscribe(Ee.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete Ee.internal.acroformPlugin.acroFormDictionaryRoot._eventID,Ee.internal.acroformPlugin.printedOut=!0})(Re)}),Re.internal.events.subscribe("buildDocument",function(){(function(Ee){Ee.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var Ce=Ee.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var Te in Ce)if(Ce.hasOwnProperty(Te)){var De=Ce[Te];De.objId=void 0,De.hasAnnotation&&it(De,Ee)}})(Re)}),Re.internal.events.subscribe("putCatalog",function(){(function(Ee){if(Ee.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");Ee.internal.write("/AcroForm "+Ee.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(Re)}),Re.internal.events.subscribe("postPutPages",function(Ee){(function(Ce,Te){var De=!Ce;for(var Me in Ce||(Te.internal.newObjectDeferredBegin(Te.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),Te.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),Ce=Ce||Te.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(Ce.hasOwnProperty(Me)){var Oe=Ce[Me],Be=[],ze=Oe.Rect;if(Oe.Rect&&(Oe.Rect=Q(Oe.Rect,Te)),Te.internal.newObjectDeferredBegin(Oe.objId,!0),Oe.DA=xt.createDefaultAppearanceStream(Oe),_typeof(Oe)==="object"&&typeof Oe.getKeyValueListForStream=="function"&&(Be=Oe.getKeyValueListForStream()),Oe.Rect=ze,Oe.hasAppearanceStream&&!Oe.appearanceStreamContent){var Ve=tt(Oe);Be.push({key:"AP",value:"<</N "+Ve+">>"}),Te.internal.acroformPlugin.xForms.push(Ve)}if(Oe.appearanceStreamContent){var qe="";for(var We in Oe.appearanceStreamContent)if(Oe.appearanceStreamContent.hasOwnProperty(We)){var Ge=Oe.appearanceStreamContent[We];if(qe+="/"+We+" ",qe+="<<",Object.keys(Ge).length>=1||Array.isArray(Ge)){for(var Me in Ge)if(Ge.hasOwnProperty(Me)){var Je=Ge[Me];typeof Je=="function"&&(Je=Je.call(Te,Oe)),qe+="/"+Me+" "+Je+" ",Te.internal.acroformPlugin.xForms.indexOf(Je)>=0||Te.internal.acroformPlugin.xForms.push(Je)}}else typeof(Je=Ge)=="function"&&(Je=Je.call(Te,Oe)),qe+="/"+Me+" "+Je,Te.internal.acroformPlugin.xForms.indexOf(Je)>=0||Te.internal.acroformPlugin.xForms.push(Je);qe+=">>"}Be.push({key:"AP",value:`<<
`+qe+">>"})}Te.internal.putStream({additionalKeyValues:Be,objectId:Oe.objId}),Te.internal.out("endobj")}De&&function(Qe,ns){for(var Ye in Qe)if(Qe.hasOwnProperty(Ye)){var rs=Ye,ts=Qe[Ye];ns.internal.newObjectDeferredBegin(ts.objId,!0),_typeof(ts)==="object"&&typeof ts.putStream=="function"&&ts.putStream(),delete Qe[rs]}}(Te.internal.acroformPlugin.xForms,Te)})(Ee,Re)}),Re.internal.acroformPlugin.isInitialized=!0}},ot=R.__acroform__.arrayToPdfArray=function(Re,e,Ee){var Ce=function(Me){return Me};if(Array.isArray(Re)){for(var Te="[",De=0;De<Re.length;De++)switch(De!==0&&(Te+=" "),_typeof(Re[De])){case"boolean":case"number":case"object":Te+=Re[De].toString();break;case"string":Re[De].substr(0,1)!=="/"?(e!==void 0&&Ee&&(Ce=Ee.internal.getEncryptor(e)),Te+="("+T(Ce(Re[De].toString()))+")"):Te+=Re[De].toString()}return Te+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},st=function(Re,e,Ee){var Ce=function(Te){return Te};return e!==void 0&&Ee&&(Ce=Ee.internal.getEncryptor(e)),(Re=Re||"").toString(),"("+T(Ce(Re))+")"},ut=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(Re){this._objId=Re}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ut.prototype.toString=function(){return this.objId+" 0 R"},ut.prototype.putStream=function(){var Re=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:Re,objectId:this.objId}),this.scope.internal.out("endobj")},ut.prototype.getKeyValueListForStream=function(){var Re=[],e=Object.getOwnPropertyNames(this).filter(function(De){return De!="content"&&De!="appearanceStreamContent"&&De!="scope"&&De!="objId"&&De.substring(0,1)!="_"});for(var Ee in e)if(Object.getOwnPropertyDescriptor(this,e[Ee]).configurable===!1){var Ce=e[Ee],Te=this[Ce];Te&&(Array.isArray(Te)?Re.push({key:Ce,value:ot(Te,this.objId,this.scope)}):Te instanceof ut?(Te.scope=this.scope,Re.push({key:Ce,value:Te.objId+" 0 R"})):typeof Te!="function"&&Re.push({key:Ce,value:Te}))}return Re};var ct=function(){ut.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var Re,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(Ee){e=Ee}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(Ee){Re=Ee.trim()},get:function(){return Re||null}})};W(ct,ut);var lt=function(){ut.call(this);var Re,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(Re){var Ee=function(Ce){return Ce};return this.scope&&(Ee=this.scope.internal.getEncryptor(this.objId)),"("+T(Ee(Re))+")"}},set:function(Ee){Re=Ee}})};W(lt,ut);var ht=function Re(){ut.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(Ye){if(isNaN(Ye))throw new Error('Invalid value "'+Ye+'" for attribute F supplied.');e=Ye}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!K(e,3)},set:function(Ye){Ye?this.F=Z(e,3):this.F=$(e,3)}});var Ee=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return Ee},set:function(Ye){if(isNaN(Ye))throw new Error('Invalid value "'+Ye+'" for attribute Ff supplied.');Ee=Ye}});var Ce=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(Ce.length!==0)return Ce},set:function(Ye){Ce=Ye!==void 0?Ye:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!Ce||isNaN(Ce[0])?0:Ce[0]},set:function(Ye){Ce[0]=Ye}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!Ce||isNaN(Ce[1])?0:Ce[1]},set:function(Ye){Ce[1]=Ye}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!Ce||isNaN(Ce[2])?0:Ce[2]},set:function(Ye){Ce[2]=Ye}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!Ce||isNaN(Ce[3])?0:Ce[3]},set:function(Ye){Ce[3]=Ye}});var Te="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return Te},set:function(Ye){switch(Ye){case"/Btn":case"/Tx":case"/Ch":case"/Sig":Te=Ye;break;default:throw new Error('Invalid value "'+Ye+'" for attribute FT supplied.')}}});var De=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!De||De.length<1){if(this instanceof yt)return;De="FieldObject"+Re.FieldNum++}var Ye=function(rs){return rs};return this.scope&&(Ye=this.scope.internal.getEncryptor(this.objId)),"("+T(Ye(De))+")"},set:function(Ye){De=Ye.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return De},set:function(Ye){De=Ye}});var Me="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return Me},set:function(Ye){Me=Ye}});var Oe="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return Oe},set:function(Ye){Oe=Ye}});var Be=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return Be},set:function(Ye){Be=Ye}});var ze=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return ze===void 0?50/D:ze},set:function(Ye){ze=Ye}});var Ve="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return Ve},set:function(Ye){Ve=Ye}});var qe="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!qe||this instanceof yt||this instanceof Nt))return st(qe,this.objId,this.scope)},set:function(Ye){Ye=Ye.toString(),qe=Ye}});var We=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(We)return this instanceof mt==0?st(We,this.objId,this.scope):We},set:function(Ye){Ye=Ye.toString(),We=this instanceof mt==0?Ye.substr(0,1)==="("?z(Ye.substr(1,Ye.length-2)):z(Ye):Ye}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt==1?z(We.substr(1,We.length-1)):We},set:function(Ye){Ye=Ye.toString(),We=this instanceof mt==1?"/"+Ye:Ye}});var Ge=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(Ge)return Ge},set:function(Ye){this.V=Ye}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(Ge)return this instanceof mt==0?st(Ge,this.objId,this.scope):Ge},set:function(Ye){Ye=Ye.toString(),Ge=this instanceof mt==0?Ye.substr(0,1)==="("?z(Ye.substr(1,Ye.length-2)):z(Ye):Ye}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof mt==1?z(Ge.substr(1,Ge.length-1)):Ge},set:function(Ye){Ye=Ye.toString(),Ge=this instanceof mt==1?"/"+Ye:Ye}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var Je,Qe=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return Qe},set:function(Ye){Ye=!!Ye,Qe=Ye}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(Je)return Je},set:function(Ye){Je=Ye}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,1)},set:function(Ye){Ye?this.Ff=Z(this.Ff,1):this.Ff=$(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,2)},set:function(Ye){Ye?this.Ff=Z(this.Ff,2):this.Ff=$(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,3)},set:function(Ye){Ye?this.Ff=Z(this.Ff,3):this.Ff=$(this.Ff,3)}});var ns=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(ns!==null)return ns},set:function(Ye){if([0,1,2].indexOf(Ye)===-1)throw new Error('Invalid value "'+Ye+'" for attribute Q supplied.');ns=Ye}}),Object.defineProperty(this,"textAlign",{get:function(){var Ye;switch(ns){case 0:default:Ye="left";break;case 1:Ye="center";break;case 2:Ye="right"}return Ye},configurable:!0,enumerable:!0,set:function(Ye){switch(Ye){case"right":case 2:ns=2;break;case"center":case 1:ns=1;break;default:ns=0}}})};W(ht,ut);var ft=function(){ht.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var Re=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return Re},set:function(Ee){Re=Ee}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return Re},set:function(Ee){Re=Ee}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ot(e,this.objId,this.scope)},set:function(Ee){var Ce,Te;Te=[],typeof(Ce=Ee)=="string"&&(Te=function(De,Me,Oe){Oe||(Oe=1);for(var Be,ze=[];Be=Me.exec(De);)ze.push(Be[Oe]);return ze}(Ce,/\((.*?)\)/g)),e=Te}}),this.getOptions=function(){return e},this.setOptions=function(Ee){e=Ee,this.sort&&e.sort()},this.addOption=function(Ee){Ee=(Ee=Ee||"").toString(),e.push(Ee),this.sort&&e.sort()},this.removeOption=function(Ee,Ce){for(Ce=Ce||!1,Ee=(Ee=Ee||"").toString();e.indexOf(Ee)!==-1&&(e.splice(e.indexOf(Ee),1),Ce!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,18)},set:function(Ee){Ee?this.Ff=Z(this.Ff,18):this.Ff=$(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,19)},set:function(Ee){this.combo===!0&&(Ee?this.Ff=Z(this.Ff,19):this.Ff=$(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,20)},set:function(Ee){Ee?(this.Ff=Z(this.Ff,20),e.sort()):this.Ff=$(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,22)},set:function(Ee){Ee?this.Ff=Z(this.Ff,22):this.Ff=$(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,23)},set:function(Ee){Ee?this.Ff=Z(this.Ff,23):this.Ff=$(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,27)},set:function(Ee){Ee?this.Ff=Z(this.Ff,27):this.Ff=$(this.Ff,27)}}),this.hasAppearanceStream=!1};W(ft,ht);var dt=function(){ft.call(this),this.fontName="helvetica",this.combo=!1};W(dt,ft);var pt=function(){dt.call(this),this.combo=!0};W(pt,dt);var gt=function(){pt.call(this),this.edit=!0};W(gt,pt);var mt=function(){ht.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,15)},set:function(Ee){Ee?this.Ff=Z(this.Ff,15):this.Ff=$(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,16)},set:function(Ee){Ee?this.Ff=Z(this.Ff,16):this.Ff=$(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,17)},set:function(Ee){Ee?this.Ff=Z(this.Ff,17):this.Ff=$(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,26)},set:function(Ee){Ee?this.Ff=Z(this.Ff,26):this.Ff=$(this.Ff,26)}});var Re,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Ee=function(De){return De};if(this.scope&&(Ee=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var Ce,Te=[];for(Ce in Te.push("<<"),e)Te.push("/"+Ce+" ("+T(Ee(e[Ce]))+")");return Te.push(">>"),Te.join(`
`)}},set:function(Ee){_typeof(Ee)==="object"&&(e=Ee)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(Ee){typeof Ee=="string"&&(e.CA=Ee)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Re},set:function(Ee){Re=Ee}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Re.substr(1,Re.length-1)},set:function(Ee){Re="/"+Ee}})};W(mt,ht);var vt=function(){mt.call(this),this.pushButton=!0};W(vt,mt);var bt=function(){mt.call(this),this.radio=!0,this.pushButton=!1;var Re=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return Re},set:function(e){Re=e!==void 0?e:[]}})};W(bt,mt);var yt=function(){var Re,e;ht.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return Re},set:function(Te){Re=Te}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(Te){e=Te}});var Ee,Ce={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var Te=function(Oe){return Oe};this.scope&&(Te=this.scope.internal.getEncryptor(this.objId));var De,Me=[];for(De in Me.push("<<"),Ce)Me.push("/"+De+" ("+T(Te(Ce[De]))+")");return Me.push(">>"),Me.join(`
`)},set:function(Te){_typeof(Te)==="object"&&(Ce=Te)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return Ce.CA||""},set:function(Te){typeof Te=="string"&&(Ce.CA=Te)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return Ee},set:function(Te){Ee=Te}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return Ee.substr(1,Ee.length-1)},set:function(Te){Ee="/"+Te}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=xt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};W(yt,ht),bt.prototype.setAppearance=function(Re){if(!("createAppearanceStream"in Re)||!("getCA"in Re))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var Ee=this.Kids[e];Ee.appearanceStreamContent=Re.createAppearanceStream(Ee.optionName),Ee.caption=Re.getCA()}},bt.prototype.createOption=function(Re){var e=new yt;return e.Parent=this,e.optionName=Re,this.Kids.push(e),At.call(this.scope,e),e};var wt=function(){mt.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=xt.CheckBox.createAppearanceStream()};W(wt,mt);var Nt=function(){ht.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,13)},set:function(e){e?this.Ff=Z(this.Ff,13):this.Ff=$(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,21)},set:function(e){e?this.Ff=Z(this.Ff,21):this.Ff=$(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,23)},set:function(e){e?this.Ff=Z(this.Ff,23):this.Ff=$(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,24)},set:function(e){e?this.Ff=Z(this.Ff,24):this.Ff=$(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,25)},set:function(e){e?this.Ff=Z(this.Ff,25):this.Ff=$(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,26)},set:function(e){e?this.Ff=Z(this.Ff,26):this.Ff=$(this.Ff,26)}});var Re=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return Re},set:function(e){Re=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return Re},set:function(e){Number.isInteger(e)&&(Re=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};W(Nt,ht);var Lt=function(){Nt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!K(this.Ff,14)},set:function(Re){Re?this.Ff=Z(this.Ff,14):this.Ff=$(this.Ff,14)}}),this.password=!0};W(Lt,Nt);var xt={CheckBox:{createAppearanceStream:function(){return{N:{On:xt.CheckBox.YesNormal},D:{On:xt.CheckBox.YesPushDown,Off:xt.CheckBox.OffPushDown}}},YesPushDown:function(Re){var e=G(Re);e.scope=Re.scope;var Ee=[],Ce=Re.scope.internal.getFont(Re.fontName,Re.fontStyle).id,Te=Re.scope.__private__.encodeColorString(Re.color),De=et(Re,Re.caption);return Ee.push("0.749023 g"),Ee.push("0 0 "+U(xt.internal.getWidth(Re))+" "+U(xt.internal.getHeight(Re))+" re"),Ee.push("f"),Ee.push("BMC"),Ee.push("q"),Ee.push("0 0 1 rg"),Ee.push("/"+Ce+" "+U(De.fontSize)+" Tf "+Te),Ee.push("BT"),Ee.push(De.text),Ee.push("ET"),Ee.push("Q"),Ee.push("EMC"),e.stream=Ee.join(`
`),e},YesNormal:function(Re){var e=G(Re);e.scope=Re.scope;var Ee=Re.scope.internal.getFont(Re.fontName,Re.fontStyle).id,Ce=Re.scope.__private__.encodeColorString(Re.color),Te=[],De=xt.internal.getHeight(Re),Me=xt.internal.getWidth(Re),Oe=et(Re,Re.caption);return Te.push("1 g"),Te.push("0 0 "+U(Me)+" "+U(De)+" re"),Te.push("f"),Te.push("q"),Te.push("0 0 1 rg"),Te.push("0 0 "+U(Me-1)+" "+U(De-1)+" re"),Te.push("W"),Te.push("n"),Te.push("0 g"),Te.push("BT"),Te.push("/"+Ee+" "+U(Oe.fontSize)+" Tf "+Ce),Te.push(Oe.text),Te.push("ET"),Te.push("Q"),e.stream=Te.join(`
`),e},OffPushDown:function(Re){var e=G(Re);e.scope=Re.scope;var Ee=[];return Ee.push("0.749023 g"),Ee.push("0 0 "+U(xt.internal.getWidth(Re))+" "+U(xt.internal.getHeight(Re))+" re"),Ee.push("f"),e.stream=Ee.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(Re){var e={D:{Off:xt.RadioButton.Circle.OffPushDown},N:{}};return e.N[Re]=xt.RadioButton.Circle.YesNormal,e.D[Re]=xt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(Re){var e=G(Re);e.scope=Re.scope;var Ee=[],Ce=xt.internal.getWidth(Re)<=xt.internal.getHeight(Re)?xt.internal.getWidth(Re)/4:xt.internal.getHeight(Re)/4;Ce=Number((.9*Ce).toFixed(5));var Te=xt.internal.Bezier_C,De=Number((Ce*Te).toFixed(5));return Ee.push("q"),Ee.push("1 0 0 1 "+H(xt.internal.getWidth(Re)/2)+" "+H(xt.internal.getHeight(Re)/2)+" cm"),Ee.push(Ce+" 0 m"),Ee.push(Ce+" "+De+" "+De+" "+Ce+" 0 "+Ce+" c"),Ee.push("-"+De+" "+Ce+" -"+Ce+" "+De+" -"+Ce+" 0 c"),Ee.push("-"+Ce+" -"+De+" -"+De+" -"+Ce+" 0 -"+Ce+" c"),Ee.push(De+" -"+Ce+" "+Ce+" -"+De+" "+Ce+" 0 c"),Ee.push("f"),Ee.push("Q"),e.stream=Ee.join(`
`),e},YesPushDown:function(Re){var e=G(Re);e.scope=Re.scope;var Ee=[],Ce=xt.internal.getWidth(Re)<=xt.internal.getHeight(Re)?xt.internal.getWidth(Re)/4:xt.internal.getHeight(Re)/4;Ce=Number((.9*Ce).toFixed(5));var Te=Number((2*Ce).toFixed(5)),De=Number((Te*xt.internal.Bezier_C).toFixed(5)),Me=Number((Ce*xt.internal.Bezier_C).toFixed(5));return Ee.push("0.749023 g"),Ee.push("q"),Ee.push("1 0 0 1 "+H(xt.internal.getWidth(Re)/2)+" "+H(xt.internal.getHeight(Re)/2)+" cm"),Ee.push(Te+" 0 m"),Ee.push(Te+" "+De+" "+De+" "+Te+" 0 "+Te+" c"),Ee.push("-"+De+" "+Te+" -"+Te+" "+De+" -"+Te+" 0 c"),Ee.push("-"+Te+" -"+De+" -"+De+" -"+Te+" 0 -"+Te+" c"),Ee.push(De+" -"+Te+" "+Te+" -"+De+" "+Te+" 0 c"),Ee.push("f"),Ee.push("Q"),Ee.push("0 g"),Ee.push("q"),Ee.push("1 0 0 1 "+H(xt.internal.getWidth(Re)/2)+" "+H(xt.internal.getHeight(Re)/2)+" cm"),Ee.push(Ce+" 0 m"),Ee.push(Ce+" "+Me+" "+Me+" "+Ce+" 0 "+Ce+" c"),Ee.push("-"+Me+" "+Ce+" -"+Ce+" "+Me+" -"+Ce+" 0 c"),Ee.push("-"+Ce+" -"+Me+" -"+Me+" -"+Ce+" 0 -"+Ce+" c"),Ee.push(Me+" -"+Ce+" "+Ce+" -"+Me+" "+Ce+" 0 c"),Ee.push("f"),Ee.push("Q"),e.stream=Ee.join(`
`),e},OffPushDown:function(Re){var e=G(Re);e.scope=Re.scope;var Ee=[],Ce=xt.internal.getWidth(Re)<=xt.internal.getHeight(Re)?xt.internal.getWidth(Re)/4:xt.internal.getHeight(Re)/4;Ce=Number((.9*Ce).toFixed(5));var Te=Number((2*Ce).toFixed(5)),De=Number((Te*xt.internal.Bezier_C).toFixed(5));return Ee.push("0.749023 g"),Ee.push("q"),Ee.push("1 0 0 1 "+H(xt.internal.getWidth(Re)/2)+" "+H(xt.internal.getHeight(Re)/2)+" cm"),Ee.push(Te+" 0 m"),Ee.push(Te+" "+De+" "+De+" "+Te+" 0 "+Te+" c"),Ee.push("-"+De+" "+Te+" -"+Te+" "+De+" -"+Te+" 0 c"),Ee.push("-"+Te+" -"+De+" -"+De+" -"+Te+" 0 -"+Te+" c"),Ee.push(De+" -"+Te+" "+Te+" -"+De+" "+Te+" 0 c"),Ee.push("f"),Ee.push("Q"),e.stream=Ee.join(`
`),e}},Cross:{createAppearanceStream:function(Re){var e={D:{Off:xt.RadioButton.Cross.OffPushDown},N:{}};return e.N[Re]=xt.RadioButton.Cross.YesNormal,e.D[Re]=xt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(Re){var e=G(Re);e.scope=Re.scope;var Ee=[],Ce=xt.internal.calculateCross(Re);return Ee.push("q"),Ee.push("1 1 "+U(xt.internal.getWidth(Re)-2)+" "+U(xt.internal.getHeight(Re)-2)+" re"),Ee.push("W"),Ee.push("n"),Ee.push(U(Ce.x1.x)+" "+U(Ce.x1.y)+" m"),Ee.push(U(Ce.x2.x)+" "+U(Ce.x2.y)+" l"),Ee.push(U(Ce.x4.x)+" "+U(Ce.x4.y)+" m"),Ee.push(U(Ce.x3.x)+" "+U(Ce.x3.y)+" l"),Ee.push("s"),Ee.push("Q"),e.stream=Ee.join(`
`),e},YesPushDown:function(Re){var e=G(Re);e.scope=Re.scope;var Ee=xt.internal.calculateCross(Re),Ce=[];return Ce.push("0.749023 g"),Ce.push("0 0 "+U(xt.internal.getWidth(Re))+" "+U(xt.internal.getHeight(Re))+" re"),Ce.push("f"),Ce.push("q"),Ce.push("1 1 "+U(xt.internal.getWidth(Re)-2)+" "+U(xt.internal.getHeight(Re)-2)+" re"),Ce.push("W"),Ce.push("n"),Ce.push(U(Ee.x1.x)+" "+U(Ee.x1.y)+" m"),Ce.push(U(Ee.x2.x)+" "+U(Ee.x2.y)+" l"),Ce.push(U(Ee.x4.x)+" "+U(Ee.x4.y)+" m"),Ce.push(U(Ee.x3.x)+" "+U(Ee.x3.y)+" l"),Ce.push("s"),Ce.push("Q"),e.stream=Ce.join(`
`),e},OffPushDown:function(Re){var e=G(Re);e.scope=Re.scope;var Ee=[];return Ee.push("0.749023 g"),Ee.push("0 0 "+U(xt.internal.getWidth(Re))+" "+U(xt.internal.getHeight(Re))+" re"),Ee.push("f"),e.stream=Ee.join(`
`),e}}},createDefaultAppearanceStream:function(Re){var e=Re.scope.internal.getFont(Re.fontName,Re.fontStyle).id,Ee=Re.scope.__private__.encodeColorString(Re.color);return"/"+e+" "+Re.fontSize+" Tf "+Ee}};xt.internal={Bezier_C:.551915024494,calculateCross:function(Re){var e=xt.internal.getWidth(Re),Ee=xt.internal.getHeight(Re),Ce=Math.min(e,Ee);return{x1:{x:(e-Ce)/2,y:(Ee-Ce)/2+Ce},x2:{x:(e-Ce)/2+Ce,y:(Ee-Ce)/2},x3:{x:(e-Ce)/2,y:(Ee-Ce)/2},x4:{x:(e-Ce)/2+Ce,y:(Ee-Ce)/2+Ce}}}},xt.internal.getWidth=function(Re){var e=0;return _typeof(Re)==="object"&&(e=V(Re.Rect[2])),e},xt.internal.getHeight=function(Re){var e=0;return _typeof(Re)==="object"&&(e=V(Re.Rect[3])),e};var At=R.addField=function(Re){if(at(this,Re),!(Re instanceof ht))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=Re).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),Re.page=Re.scope.internal.getCurrentPageInfo().pageNumber,this};R.AcroFormChoiceField=ft,R.AcroFormListBox=dt,R.AcroFormComboBox=pt,R.AcroFormEditBox=gt,R.AcroFormButton=mt,R.AcroFormPushButton=vt,R.AcroFormRadioButton=bt,R.AcroFormCheckBox=wt,R.AcroFormTextField=Nt,R.AcroFormPasswordField=Lt,R.AcroFormAppearance=xt,R.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:xt},E.AcroForm={ChoiceField:ft,ListBox:dt,ComboBox:pt,EditBox:gt,Button:mt,PushButton:vt,RadioButton:bt,CheckBox:wt,TextField:Nt,PasswordField:Lt,Appearance:xt};E.AcroForm;function _t(Re){return Re.reduce(function(e,Ee,Ce){return e[Ee]=Ce,e},{})}(function(Re){var e="addImage_";Re.__addimage__={};var Ee="UNKNOWN",Ce={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},Te=Re.__addimage__.getImageFileTypeByImageData=function(ds,gs){var Ts,Ds,Ms,bs,Ns,ps=Ee;if((gs=gs||Ee)==="RGBA"||ds.data!==void 0&&ds.data instanceof Uint8ClampedArray&&"height"in ds&&"width"in ds)return"RGBA";if(os(ds))for(Ns in Ce)for(Ms=Ce[Ns],Ts=0;Ts<Ms.length;Ts+=1){for(bs=!0,Ds=0;Ds<Ms[Ts].length;Ds+=1)if(Ms[Ts][Ds]!==void 0&&Ms[Ts][Ds]!==ds[Ds]){bs=!1;break}if(bs===!0){ps=Ns;break}}else for(Ns in Ce)for(Ms=Ce[Ns],Ts=0;Ts<Ms.length;Ts+=1){for(bs=!0,Ds=0;Ds<Ms[Ts].length;Ds+=1)if(Ms[Ts][Ds]!==void 0&&Ms[Ts][Ds]!==ds.charCodeAt(Ds)){bs=!1;break}if(bs===!0){ps=Ns;break}}return ps===Ee&&gs!==Ee&&(ps=gs),ps},De=function ds(gs){for(var Ts=this.internal.write,Ds=this.internal.putStream,Ms=(0,this.internal.getFilters)();Ms.indexOf("FlateEncode")!==-1;)Ms.splice(Ms.indexOf("FlateEncode"),1);gs.objectId=this.internal.newObject();var bs=[];if(bs.push({key:"Type",value:"/XObject"}),bs.push({key:"Subtype",value:"/Image"}),bs.push({key:"Width",value:gs.width}),bs.push({key:"Height",value:gs.height}),gs.colorSpace===Ye.INDEXED?bs.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(gs.palette.length/3-1)+" "+("sMask"in gs&&gs.sMask!==void 0?gs.objectId+2:gs.objectId+1)+" 0 R]"}):(bs.push({key:"ColorSpace",value:"/"+gs.colorSpace}),gs.colorSpace===Ye.DEVICE_CMYK&&bs.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),bs.push({key:"BitsPerComponent",value:gs.bitsPerComponent}),"decodeParameters"in gs&&gs.decodeParameters!==void 0&&bs.push({key:"DecodeParms",value:"<<"+gs.decodeParameters+">>"}),"transparency"in gs&&Array.isArray(gs.transparency)&&gs.transparency.length>0){for(var Ns="",ps=0,_s=gs.transparency.length;ps<_s;ps++)Ns+=gs.transparency[ps]+" "+gs.transparency[ps]+" ";bs.push({key:"Mask",value:"["+Ns+"]"})}gs.sMask!==void 0&&bs.push({key:"SMask",value:gs.objectId+1+" 0 R"});var ws=gs.filter!==void 0?["/"+gs.filter]:void 0;if(Ds({data:gs.data,additionalKeyValues:bs,alreadyAppliedFilters:ws,objectId:gs.objectId}),Ts("endobj"),"sMask"in gs&&gs.sMask!==void 0){var js,ms=(js=gs.sMaskBitsPerComponent)!==null&&js!==void 0?js:gs.bitsPerComponent,ys={width:gs.width,height:gs.height,colorSpace:"DeviceGray",bitsPerComponent:ms,data:gs.sMask};"filter"in gs&&(ys.decodeParameters="/Predictor ".concat(gs.predictor," /Colors 1 /BitsPerComponent ").concat(ms," /Columns ").concat(gs.width),ys.filter=gs.filter),ds.call(this,ys)}if(gs.colorSpace===Ye.INDEXED){var ks=this.internal.newObject();Ds({data:fs(new Uint8Array(gs.palette)),objectId:ks}),Ts("endobj")}},Me=function(){var ds=this.internal.collections[e+"images"];for(var gs in ds)De.call(this,ds[gs])},Oe=function(){var ds,gs=this.internal.collections[e+"images"],Ts=this.internal.write;for(var Ds in gs)Ts("/I"+(ds=gs[Ds]).index,ds.objectId,"0","R")},Be=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",Me),this.internal.events.subscribe("putXobjectDict",Oe))},ze=function(){var ds=this.internal.collections[e+"images"];return Be.call(this),ds},Ve=function(){return Object.keys(this.internal.collections[e+"images"]).length},qe=function(ds){return typeof Re["process"+ds.toUpperCase()]=="function"},We=function(ds){return _typeof(ds)==="object"&&ds.nodeType===1},Ge=function(ds,gs){if(ds.nodeName==="IMG"&&ds.hasAttribute("src")){var Ts=""+ds.getAttribute("src");if(Ts.indexOf("data:image/")===0)return f(unescape(Ts).split("base64,").pop());var Ds=Re.loadFile(Ts,!0);if(Ds!==void 0)return Ds}if(ds.nodeName==="CANVAS"){if(ds.width===0||ds.height===0)throw new Error("Given canvas must have data. Canvas width: "+ds.width+", height: "+ds.height);var Ms;switch(gs){case"PNG":Ms="image/png";break;case"WEBP":Ms="image/webp";break;default:Ms="image/jpeg"}return f(ds.toDataURL(Ms,1).split("base64,").pop())}},Je=function(ds){var gs=this.internal.collections[e+"images"];if(gs){for(var Ts in gs)if(ds===gs[Ts].alias)return gs[Ts]}},Qe=function(ds,gs,Ts){return ds||gs||(ds=-96,gs=-96),ds<0&&(ds=-1*Ts.width*72/ds/this.internal.scaleFactor),gs<0&&(gs=-1*Ts.height*72/gs/this.internal.scaleFactor),ds===0&&(ds=gs*Ts.width/Ts.height),gs===0&&(gs=ds*Ts.height/Ts.width),[ds,gs]},ns=function(ds,gs,Ts,Ds,Ms,bs){var Ns=Qe.call(this,Ts,Ds,Ms),ps=this.internal.getCoordinateString,_s=this.internal.getVerticalCoordinateString,ws=ze.call(this);if(Ts=Ns[0],Ds=Ns[1],ws[Ms.index]=Ms,bs){bs*=Math.PI/180;var js=Math.cos(bs),ms=Math.sin(bs),ys=function(zs){return zs.toFixed(4)},ks=[ys(js),ys(ms),ys(-1*ms),ys(js),0,0,"cm"]}this.internal.write("q"),bs?(this.internal.write([1,"0","0",1,ps(ds),_s(gs+Ds),"cm"].join(" ")),this.internal.write(ks.join(" ")),this.internal.write([ps(Ts),"0","0",ps(Ds),"0","0","cm"].join(" "))):this.internal.write([ps(Ts),"0","0",ps(Ds),ps(ds),_s(gs+Ds),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ms.index+" Do"),this.internal.write("Q")},Ye=Re.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};Re.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var rs=Re.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},ts=Re.__addimage__.sHashCode=function(ds){var gs,Ts,Ds=0;if(typeof ds=="string")for(Ts=ds.length,gs=0;gs<Ts;gs++)Ds=(Ds<<5)-Ds+ds.charCodeAt(gs),Ds|=0;else if(os(ds))for(Ts=ds.byteLength/2,gs=0;gs<Ts;gs++)Ds=(Ds<<5)-Ds+ds[gs],Ds|=0;return Ds},Xe=Re.__addimage__.validateStringAsBase64=function(ds){(ds=ds||"").toString().trim();var gs=!0;return ds.length===0&&(gs=!1),ds.length%4!=0&&(gs=!1),/^[A-Za-z0-9+/]+$/.test(ds.substr(0,ds.length-2))===!1&&(gs=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(ds.substr(-2))===!1&&(gs=!1),gs},is=Re.__addimage__.extractImageFromDataUrl=function(ds){if(ds==null||!(ds=ds.trim()).startsWith("data:"))return null;var gs=ds.indexOf(",");return gs<0?null:ds.substring(0,gs).trim().endsWith("base64")?ds.substring(gs+1):null};Re.__addimage__.isArrayBuffer=function(ds){return ds instanceof ArrayBuffer};var os=Re.__addimage__.isArrayBufferView=function(ds){return ds instanceof Int8Array||ds instanceof Uint8Array||ds instanceof Uint8ClampedArray||ds instanceof Int16Array||ds instanceof Uint16Array||ds instanceof Int32Array||ds instanceof Uint32Array||ds instanceof Float32Array||ds instanceof Float64Array},hs=Re.__addimage__.binaryStringToUint8Array=function(ds){for(var gs=ds.length,Ts=new Uint8Array(gs),Ds=0;Ds<gs;Ds++)Ts[Ds]=ds.charCodeAt(Ds);return Ts},fs=Re.__addimage__.arrayBufferToBinaryString=function(ds){for(var gs="",Ts=os(ds)?ds:new Uint8Array(ds),Ds=0;Ds<Ts.length;Ds+=8192)gs+=String.fromCharCode.apply(null,Ts.subarray(Ds,Ds+8192));return gs};Re.addImage=function(){var ds,gs,Ts,Ds,Ms,bs,Ns,ps,_s;if(typeof arguments[1]=="number"?(gs=Ee,Ts=arguments[1],Ds=arguments[2],Ms=arguments[3],bs=arguments[4],Ns=arguments[5],ps=arguments[6],_s=arguments[7]):(gs=arguments[1],Ts=arguments[2],Ds=arguments[3],Ms=arguments[4],bs=arguments[5],Ns=arguments[6],ps=arguments[7],_s=arguments[8]),_typeof(ds=arguments[0])==="object"&&!We(ds)&&"imageData"in ds){var ws=ds;ds=ws.imageData,gs=ws.format||gs||Ee,Ts=ws.x||Ts||0,Ds=ws.y||Ds||0,Ms=ws.w||ws.width||Ms,bs=ws.h||ws.height||bs,Ns=ws.alias||Ns,ps=ws.compression||ps,_s=ws.rotation||ws.angle||_s}var js=this.internal.getFilters();if(ps===void 0&&js.indexOf("FlateEncode")!==-1&&(ps="SLOW"),isNaN(Ts)||isNaN(Ds))throw new Error("Invalid coordinates passed to jsPDF.addImage");Be.call(this);var ms=xs.call(this,ds,gs,Ns,ps);return ns.call(this,Ts,Ds,Ms,bs,ms,_s),this};var xs=function(ds,gs,Ts,Ds){var Ms,bs,Ns;if(typeof ds=="string"&&Te(ds)===Ee){ds=unescape(ds);var ps=Ss(ds,!1);(ps!==""||(ps=Re.loadFile(ds,!0))!==void 0)&&(ds=ps)}if(We(ds)&&(ds=Ge(ds,gs)),gs=Te(ds,gs),!qe(gs))throw new Error("addImage does not support files of type '"+gs+"', please ensure that a plugin for '"+gs+"' support is added.");if(((Ns=Ts)==null||Ns.length===0)&&(Ts=function(_s){return typeof _s=="string"||os(_s)?ts(_s):os(_s.data)?ts(_s.data):null}(ds)),(Ms=Je.call(this,Ts))||(ds instanceof Uint8Array||gs==="RGBA"||(bs=ds,ds=hs(ds)),Ms=this["process"+gs.toUpperCase()](ds,Ve.call(this),Ts,function(_s){return _s&&typeof _s=="string"&&(_s=_s.toUpperCase()),_s in Re.image_compression?_s:rs.NONE}(Ds),bs)),!Ms)throw new Error("An unknown error occurred whilst processing the image.");return Ms},Ss=Re.__addimage__.convertBase64ToBinaryString=function(ds,gs){gs=typeof gs!="boolean"||gs;var Ts,Ds="";if(typeof ds=="string"){var Ms;Ts=(Ms=is(ds))!==null&&Ms!==void 0?Ms:ds;try{Ds=f(Ts)}catch(bs){if(gs)throw Xe(Ts)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+bs.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return Ds};Re.getImageProperties=function(ds){var gs,Ts,Ds="";if(We(ds)&&(ds=Ge(ds)),typeof ds=="string"&&Te(ds)===Ee&&((Ds=Ss(ds,!1))===""&&(Ds=Re.loadFile(ds)||""),ds=Ds),Ts=Te(ds),!qe(Ts))throw new Error("addImage does not support files of type '"+Ts+"', please ensure that a plugin for '"+Ts+"' support is added.");if(ds instanceof Uint8Array||(ds=hs(ds)),!(gs=this["process"+Ts.toUpperCase()](ds)))throw new Error("An unknown error occurred whilst processing the image");return gs.fileType=Ts,gs}})(E.API),function(Re){var e=function(Ee){if(Ee!==void 0&&Ee!="")return!0};E.API.events.push(["addPage",function(Ee){this.internal.getPageInfo(Ee.pageNumber).pageContext.annotations=[]}]),Re.events.push(["putPage",function(Ee){for(var Ce,Te,De,Me=this.internal.getCoordinateString,Oe=this.internal.getVerticalCoordinateString,Be=this.internal.getPageInfoByObjId(Ee.objId),ze=Ee.pageContext.annotations,Ve=!1,qe=0;qe<ze.length&&!Ve;qe++)switch((Ce=ze[qe]).type){case"link":(e(Ce.options.url)||e(Ce.options.pageNumber))&&(Ve=!0);break;case"reference":case"text":case"freetext":Ve=!0}if(Ve!=0){this.internal.write("/Annots [");for(var We=0;We<ze.length;We++){Ce=ze[We];var Ge=this.internal.pdfEscape,Je=this.internal.getEncryptor(Ee.objId);switch(Ce.type){case"reference":this.internal.write(" "+Ce.object.objId+" 0 R ");break;case"text":var Qe=this.internal.newAdditionalObject(),ns=this.internal.newAdditionalObject(),Ye=this.internal.getEncryptor(Qe.objId),rs=Ce.title||"Note";De="<</Type /Annot /Subtype /Text "+(Te="/Rect ["+Me(Ce.bounds.x)+" "+Oe(Ce.bounds.y+Ce.bounds.h)+" "+Me(Ce.bounds.x+Ce.bounds.w)+" "+Oe(Ce.bounds.y)+"] ")+"/Contents ("+Ge(Ye(Ce.contents))+")",De+=" /Popup "+ns.objId+" 0 R",De+=" /P "+Be.objId+" 0 R",De+=" /T ("+Ge(Ye(rs))+") >>",Qe.content=De;var ts=Qe.objId+" 0 R";De="<</Type /Annot /Subtype /Popup "+(Te="/Rect ["+Me(Ce.bounds.x+30)+" "+Oe(Ce.bounds.y+Ce.bounds.h)+" "+Me(Ce.bounds.x+Ce.bounds.w+30)+" "+Oe(Ce.bounds.y)+"] ")+" /Parent "+ts,Ce.open&&(De+=" /Open true"),De+=" >>",ns.content=De,this.internal.write(Qe.objId,"0 R",ns.objId,"0 R");break;case"freetext":Te="/Rect ["+Me(Ce.bounds.x)+" "+Oe(Ce.bounds.y)+" "+Me(Ce.bounds.x+Ce.bounds.w)+" "+Oe(Ce.bounds.y+Ce.bounds.h)+"] ";var Xe=Ce.color||"#000000";De="<</Type /Annot /Subtype /FreeText "+Te+"/Contents ("+Ge(Je(Ce.contents))+")",De+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Xe+")",De+=" /Border [0 0 0]",De+=" >>",this.internal.write(De);break;case"link":if(Ce.options.name){var is=this.annotations._nameMap[Ce.options.name];Ce.options.pageNumber=is.page,Ce.options.top=is.y}else Ce.options.top||(Ce.options.top=0);if(Te="/Rect ["+Ce.finalBounds.x+" "+Ce.finalBounds.y+" "+Ce.finalBounds.w+" "+Ce.finalBounds.h+"] ",De="",Ce.options.url)De="<</Type /Annot /Subtype /Link "+Te+"/Border [0 0 0] /A <</S /URI /URI ("+Ge(Je(Ce.options.url))+") >>";else if(Ce.options.pageNumber)switch(De="<</Type /Annot /Subtype /Link "+Te+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(Ce.options.pageNumber).objId+" 0 R",Ce.options.magFactor=Ce.options.magFactor||"XYZ",Ce.options.magFactor){case"Fit":De+=" /Fit]";break;case"FitH":De+=" /FitH "+Ce.options.top+"]";break;case"FitV":Ce.options.left=Ce.options.left||0,De+=" /FitV "+Ce.options.left+"]";break;default:var os=Oe(Ce.options.top);Ce.options.left=Ce.options.left||0,Ce.options.zoom===void 0&&(Ce.options.zoom=0),De+=" /XYZ "+Ce.options.left+" "+os+" "+Ce.options.zoom+"]"}De!=""&&(De+=" >>",this.internal.write(De))}}this.internal.write("]")}}]),Re.createAnnotation=function(Ee){var Ce=this.internal.getCurrentPageInfo();switch(Ee.type){case"link":this.link(Ee.bounds.x,Ee.bounds.y,Ee.bounds.w,Ee.bounds.h,Ee);break;case"text":case"freetext":Ce.pageContext.annotations.push(Ee)}},Re.link=function(Ee,Ce,Te,De,Me){var Oe=this.internal.getCurrentPageInfo(),Be=this.internal.getCoordinateString,ze=this.internal.getVerticalCoordinateString;Oe.pageContext.annotations.push({finalBounds:{x:Be(Ee),y:ze(Ce),w:Be(Ee+Te),h:ze(Ce+De)},options:Me,type:"link"})},Re.textWithLink=function(Ee,Ce,Te,De){var Me,Oe,Be=this.getTextWidth(Ee),ze=this.internal.getLineHeight()/this.internal.scaleFactor;if(De.maxWidth!==void 0){Oe=De.maxWidth;var Ve=this.splitTextToSize(Ee,Oe).length;Me=Math.ceil(ze*Ve)}else Oe=Be,Me=ze;return this.text(Ee,Ce,Te,De),Te+=.2*ze,De.align==="center"&&(Ce-=Be/2),De.align==="right"&&(Ce-=Be),this.link(Ce,Te-ze,Oe,Me,De),Be},Re.getTextWidth=function(Ee){var Ce=this.internal.getFontSize();return this.getStringUnitWidth(Ee)*Ce/this.internal.scaleFactor}}(E.API),function(Re){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},Ee={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},Ce={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},Te=[1570,1571,1573,1575];Re.__arabicParser__={};var De=Re.__arabicParser__.isInArabicSubstitutionA=function(Qe){return e[Qe.charCodeAt(0)]!==void 0},Me=Re.__arabicParser__.isArabicLetter=function(Qe){return typeof Qe=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(Qe)},Oe=Re.__arabicParser__.isArabicEndLetter=function(Qe){return Me(Qe)&&De(Qe)&&e[Qe.charCodeAt(0)].length<=2},Be=Re.__arabicParser__.isArabicAlfLetter=function(Qe){return Me(Qe)&&Te.indexOf(Qe.charCodeAt(0))>=0};Re.__arabicParser__.arabicLetterHasIsolatedForm=function(Qe){return Me(Qe)&&De(Qe)&&e[Qe.charCodeAt(0)].length>=1};var ze=Re.__arabicParser__.arabicLetterHasFinalForm=function(Qe){return Me(Qe)&&De(Qe)&&e[Qe.charCodeAt(0)].length>=2};Re.__arabicParser__.arabicLetterHasInitialForm=function(Qe){return Me(Qe)&&De(Qe)&&e[Qe.charCodeAt(0)].length>=3};var Ve=Re.__arabicParser__.arabicLetterHasMedialForm=function(Qe){return Me(Qe)&&De(Qe)&&e[Qe.charCodeAt(0)].length==4},qe=Re.__arabicParser__.resolveLigatures=function(Qe){var ns=0,Ye=Ee,rs="",ts=0;for(ns=0;ns<Qe.length;ns+=1)Ye[Qe.charCodeAt(ns)]!==void 0?(ts++,typeof(Ye=Ye[Qe.charCodeAt(ns)])=="number"&&(rs+=String.fromCharCode(Ye),Ye=Ee,ts=0),ns===Qe.length-1&&(Ye=Ee,rs+=Qe.charAt(ns-(ts-1)),ns-=ts-1,ts=0)):(Ye=Ee,rs+=Qe.charAt(ns-ts),ns-=ts,ts=0);return rs};Re.__arabicParser__.isArabicDiacritic=function(Qe){return Qe!==void 0&&Ce[Qe.charCodeAt(0)]!==void 0};var We=Re.__arabicParser__.getCorrectForm=function(Qe,ns,Ye){return Me(Qe)?De(Qe)===!1?-1:!ze(Qe)||!Me(ns)&&!Me(Ye)||!Me(Ye)&&Oe(ns)||Oe(Qe)&&!Me(ns)||Oe(Qe)&&Be(ns)||Oe(Qe)&&Oe(ns)?0:Ve(Qe)&&Me(ns)&&!Oe(ns)&&Me(Ye)&&ze(Ye)?3:Oe(Qe)||!Me(Ye)?1:2:-1},Ge=function(Qe){var ns=0,Ye=0,rs=0,ts="",Xe="",is="",os=(Qe=Qe||"").split("\\s+"),hs=[];for(ns=0;ns<os.length;ns+=1){for(hs.push(""),Ye=0;Ye<os[ns].length;Ye+=1)ts=os[ns][Ye],Xe=os[ns][Ye-1],is=os[ns][Ye+1],Me(ts)?(rs=We(ts,Xe,is),hs[ns]+=rs!==-1?String.fromCharCode(e[ts.charCodeAt(0)][rs]):ts):hs[ns]+=ts;hs[ns]=qe(hs[ns])}return hs.join(" ")},Je=Re.__arabicParser__.processArabic=Re.processArabic=function(){var Qe,ns=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Ye=[];if(Array.isArray(ns)){var rs=0;for(Ye=[],rs=0;rs<ns.length;rs+=1)Array.isArray(ns[rs])?Ye.push([Ge(ns[rs][0]),ns[rs][1],ns[rs][2]]):Ye.push([Ge(ns[rs])]);Qe=Ye}else Qe=Ge(ns);return typeof arguments[0]=="string"?Qe:(arguments[0].text=Qe,arguments[0])};Re.events.push(["preProcessText",Je])}(E.API),E.API.autoPrint=function(Re){var e;return(Re=Re||{}).variant=Re.variant||"non-conform",Re.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(Re){var e=function(){var Ee=void 0;Object.defineProperty(this,"pdf",{get:function(){return Ee},set:function(Oe){Ee=Oe}});var Ce=150;Object.defineProperty(this,"width",{get:function(){return Ce},set:function(Oe){Ce=isNaN(Oe)||Number.isInteger(Oe)===!1||Oe<0?150:Oe,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=Ce+1)}});var Te=300;Object.defineProperty(this,"height",{get:function(){return Te},set:function(Oe){Te=isNaN(Oe)||Number.isInteger(Oe)===!1||Oe<0?300:Oe,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=Te+1)}});var De=[];Object.defineProperty(this,"childNodes",{get:function(){return De},set:function(Oe){De=Oe}});var Me={};Object.defineProperty(this,"style",{get:function(){return Me},set:function(Oe){Me=Oe}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(Ee,Ce){var Te;if((Ee=Ee||"2d")!=="2d")return null;for(Te in Ce)this.pdf.context2d.hasOwnProperty(Te)&&(this.pdf.context2d[Te]=Ce[Te]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},Re.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(E.API),function(Re){var e={left:0,top:0,bottom:0,right:0},Ee=!1,Ce=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),Te.call(this))},Te=function(){this.internal.__cell__.lastCell=new De,this.internal.__cell__.pages=1},De=function(){var Be=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Be},set:function(Qe){Be=Qe}});var ze=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ze},set:function(Qe){ze=Qe}});var Ve=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return Ve},set:function(Qe){Ve=Qe}});var qe=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return qe},set:function(Qe){qe=Qe}});var We=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return We},set:function(Qe){We=Qe}});var Ge=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Ge},set:function(Qe){Ge=Qe}});var Je=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return Je},set:function(Qe){Je=Qe}}),this};De.prototype.clone=function(){return new De(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},De.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},Re.setHeaderFunction=function(Be){return Ce.call(this),this.internal.__cell__.headerFunction=typeof Be=="function"?Be:void 0,this},Re.getTextDimensions=function(Be,ze){Ce.call(this);var Ve=(ze=ze||{}).fontSize||this.getFontSize(),qe=ze.font||this.getFont(),We=ze.scaleFactor||this.internal.scaleFactor,Ge=0,Je=0,Qe=0,ns=this;if(!Array.isArray(Be)&&typeof Be!="string"){if(typeof Be!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");Be=String(Be)}var Ye=ze.maxWidth;Ye>0?typeof Be=="string"?Be=this.splitTextToSize(Be,Ye):Object.prototype.toString.call(Be)==="[object Array]"&&(Be=Be.reduce(function(ts,Xe){return ts.concat(ns.splitTextToSize(Xe,Ye))},[])):Be=Array.isArray(Be)?Be:[Be];for(var rs=0;rs<Be.length;rs++)Ge<(Qe=this.getStringUnitWidth(Be[rs],{font:qe})*Ve)&&(Ge=Qe);return Ge!==0&&(Je=Be.length),{w:Ge/=We,h:Math.max((Je*Ve*this.getLineHeightFactor()-Ve*(this.getLineHeightFactor()-1))/We,0)}},Re.cellAddPage=function(){Ce.call(this),this.addPage();var Be=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new De(Be.left,Be.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var Me=Re.cell=function(){var Be;Be=arguments[0]instanceof De?arguments[0]:new De(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),Ce.call(this);var ze=this.internal.__cell__.lastCell,Ve=this.internal.__cell__.padding,qe=this.internal.__cell__.margins||e,We=this.internal.__cell__.tableHeaderRow,Ge=this.internal.__cell__.printHeaders;return ze.lineNumber!==void 0&&(ze.lineNumber===Be.lineNumber?(Be.x=(ze.x||0)+(ze.width||0),Be.y=ze.y||0):ze.y+ze.height+Be.height+qe.bottom>this.getPageHeight()?(this.cellAddPage(),Be.y=qe.top,Ge&&We&&(this.printHeaderRow(Be.lineNumber,!0),Be.y+=We[0].height)):Be.y=ze.y+ze.height||Be.y),Be.text[0]!==void 0&&(this.rect(Be.x,Be.y,Be.width,Be.height,Ee===!0?"FD":void 0),Be.align==="right"?this.text(Be.text,Be.x+Be.width-Ve,Be.y+Ve,{align:"right",baseline:"top"}):Be.align==="center"?this.text(Be.text,Be.x+Be.width/2,Be.y+Ve,{align:"center",baseline:"top",maxWidth:Be.width-Ve-Ve}):this.text(Be.text,Be.x+Ve,Be.y+Ve,{align:"left",baseline:"top",maxWidth:Be.width-Ve-Ve})),this.internal.__cell__.lastCell=Be,this};Re.table=function(Be,ze,Ve,qe,We){if(Ce.call(this),!Ve)throw new Error("No data for PDF table.");var Ge,Je,Qe,ns,Ye=[],rs=[],ts=[],Xe={},is={},os=[],hs=[],fs=(We=We||{}).autoSize||!1,xs=We.printHeaders!==!1,Ss=We.css&&We.css["font-size"]!==void 0?16*We.css["font-size"]:We.fontSize||12,ds=We.margins||Object.assign({width:this.getPageWidth()},e),gs=typeof We.padding=="number"?We.padding:3,Ts=We.headerBackgroundColor||"#c8c8c8",Ds=We.headerTextColor||"#000";if(Te.call(this),this.internal.__cell__.printHeaders=xs,this.internal.__cell__.margins=ds,this.internal.__cell__.table_font_size=Ss,this.internal.__cell__.padding=gs,this.internal.__cell__.headerBackgroundColor=Ts,this.internal.__cell__.headerTextColor=Ds,this.setFontSize(Ss),qe==null)rs=Ye=Object.keys(Ve[0]),ts=Ye.map(function(){return"left"});else if(Array.isArray(qe)&&_typeof(qe[0])==="object")for(Ye=qe.map(function(ws){return ws.name}),rs=qe.map(function(ws){return ws.prompt||ws.name||""}),ts=qe.map(function(ws){return ws.align||"left"}),Ge=0;Ge<qe.length;Ge+=1)is[qe[Ge].name]=.7499990551181103*qe[Ge].width;else Array.isArray(qe)&&typeof qe[0]=="string"&&(rs=Ye=qe,ts=Ye.map(function(){return"left"}));if(fs||Array.isArray(qe)&&typeof qe[0]=="string")for(Ge=0;Ge<Ye.length;Ge+=1){for(Xe[ns=Ye[Ge]]=Ve.map(function(ws){return ws[ns]}),this.setFont(void 0,"bold"),os.push(this.getTextDimensions(rs[Ge],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),Je=Xe[ns],this.setFont(void 0,"normal"),Qe=0;Qe<Je.length;Qe+=1)os.push(this.getTextDimensions(Je[Qe],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);is[ns]=Math.max.apply(null,os)+gs+gs,os=[]}if(xs){var Ms={};for(Ge=0;Ge<Ye.length;Ge+=1)Ms[Ye[Ge]]={},Ms[Ye[Ge]].text=rs[Ge],Ms[Ye[Ge]].align=ts[Ge];var bs=Oe.call(this,Ms,is);hs=Ye.map(function(ws){return new De(Be,ze,is[ws],bs,Ms[ws].text,void 0,Ms[ws].align)}),this.setTableHeaderRow(hs),this.printHeaderRow(1,!1)}var Ns=qe.reduce(function(ws,js){return ws[js.name]=js.align,ws},{});for(Ge=0;Ge<Ve.length;Ge+=1){"rowStart"in We&&We.rowStart instanceof Function&&We.rowStart({row:Ge,data:Ve[Ge]},this);var ps=Oe.call(this,Ve[Ge],is);for(Qe=0;Qe<Ye.length;Qe+=1){var _s=Ve[Ge][Ye[Qe]];"cellStart"in We&&We.cellStart instanceof Function&&We.cellStart({row:Ge,col:Qe,data:_s},this),Me.call(this,new De(Be,ze,is[Ye[Qe]],ps,_s,Ge+2,Ns[Ye[Qe]]))}}return this.internal.__cell__.table_x=Be,this.internal.__cell__.table_y=ze,this};var Oe=function(Be,ze){var Ve=this.internal.__cell__.padding,qe=this.internal.__cell__.table_font_size,We=this.internal.scaleFactor;return Object.keys(Be).map(function(Ge){var Je=Be[Ge];return this.splitTextToSize(Je.hasOwnProperty("text")?Je.text:Je,ze[Ge]-Ve-Ve)},this).map(function(Ge){return this.getLineHeightFactor()*Ge.length*qe/We+Ve+Ve},this).reduce(function(Ge,Je){return Math.max(Ge,Je)},0)};Re.setTableHeaderRow=function(Be){Ce.call(this),this.internal.__cell__.tableHeaderRow=Be},Re.printHeaderRow=function(Be,ze){if(Ce.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var Ve;if(Ee=!0,typeof this.internal.__cell__.headerFunction=="function"){var qe=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new De(qe[0],qe[1],qe[2],qe[3],void 0,-1)}this.setFont(void 0,"bold");for(var We=[],Ge=0;Ge<this.internal.__cell__.tableHeaderRow.length;Ge+=1){Ve=this.internal.__cell__.tableHeaderRow[Ge].clone(),ze&&(Ve.y=this.internal.__cell__.margins.top||0,We.push(Ve)),Ve.lineNumber=Be;var Je=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),Me.call(this,Ve),this.setTextColor(Je)}We.length>0&&this.setTableHeaderRow(We),this.setFont(void 0,"normal"),Ee=!1}}(E.API);var Pt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ft=_t(kt),It=[100,200,300,400,500,600,700,800,900],jt=_t(It);function Ct(Re){var e=Re.family.replace(/"|'/g,"").toLowerCase(),Ee=function(De){return Pt[De=De||"normal"]?De:"normal"}(Re.style),Ce=function(De){return De?typeof De=="number"?De>=100&&De<=900&&De%100==0?De:400:/^\d00$/.test(De)?parseInt(De):De==="bold"?700:400:400}(Re.weight),Te=function(De){return typeof Ft[De=De||"normal"]=="number"?De:"normal"}(Re.stretch);return{family:e,style:Ee,weight:Ce,stretch:Te,src:Re.src||[],ref:Re.ref||{name:e,style:[Te,Ee,Ce].join(" ")}}}function Ot(Re,e,Ee,Ce){var Te;for(Te=Ee;Te>=0&&Te<e.length;Te+=Ce)if(Re[e[Te]])return Re[e[Te]];for(Te=Ee;Te>=0&&Te<e.length;Te-=Ce)if(Re[e[Te]])return Re[e[Te]]}var Bt={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Mt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function qt(Re){return[Re.stretch,Re.style,Re.weight,Re.family].join(" ")}function Et(Re){return Re.trimLeft()}function Rt(Re,e){for(var Ee=0;Ee<Re.length;){if(Re.charAt(Ee)===e)return[Re.substring(0,Ee),Re.substring(Ee+1)];Ee+=1}return null}function Dt(Re){var e=Re.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],Re.substring(e[0].length)]}var Tt,zt,Ut,Ht,Wt,Vt,Gt,Yt,Jt=["times"];function Xt(Re,e,Ee,Ce,Te){var De=4,Me=$t;switch(Te){case E.API.image_compression.FAST:De=1,Me=Zt;break;case E.API.image_compression.MEDIUM:De=6,Me=Qt;break;case E.API.image_compression.SLOW:De=9,Me=te}Re=function(Be,ze,Ve,qe){for(var We,Ge=Be.length/ze,Je=new Uint8Array(Be.length+Ge),Qe=[Kt,Zt,$t,Qt,te],ns=0;ns<Ge;ns+=1){var Ye=ns*ze,rs=Be.subarray(Ye,Ye+ze);if(qe)Je.set(qe(rs,Ve,We),Ye+ns);else{for(var ts=Qe.length,Xe=[],is=0;is<ts;is+=1)Xe[is]=Qe[is](rs,Ve,We);var os=ne(Xe.concat());Je.set(Xe[os],Ye+ns)}We=rs}return Je}(Re,e,Math.ceil(Ee*Ce/8),Me);var Oe=zlibSync(Re,{level:De});return E.API.__addimage__.arrayBufferToBinaryString(Oe)}function Kt(Re){var e=Array.apply([],Re);return e.unshift(0),e}function Zt(Re,e){var Ee=Re.length,Ce=[];Ce[0]=1;for(var Te=0;Te<Ee;Te+=1){var De=Re[Te-e]||0;Ce[Te+1]=Re[Te]-De+256&255}return Ce}function $t(Re,e,Ee){var Ce=Re.length,Te=[];Te[0]=2;for(var De=0;De<Ce;De+=1){var Me=Ee&&Ee[De]||0;Te[De+1]=Re[De]-Me+256&255}return Te}function Qt(Re,e,Ee){var Ce=Re.length,Te=[];Te[0]=3;for(var De=0;De<Ce;De+=1){var Me=Re[De-e]||0,Oe=Ee&&Ee[De]||0;Te[De+1]=Re[De]+256-(Me+Oe>>>1)&255}return Te}function te(Re,e,Ee){var Ce=Re.length,Te=[];Te[0]=4;for(var De=0;De<Ce;De+=1){var Me=ee(Re[De-e]||0,Ee&&Ee[De]||0,Ee&&Ee[De-e]||0);Te[De+1]=Re[De]-Me+256&255}return Te}function ee(Re,e,Ee){if(Re===e&&e===Ee)return Re;var Ce=Math.abs(e-Ee),Te=Math.abs(Re-Ee),De=Math.abs(Re+e-Ee-Ee);return Ce<=Te&&Ce<=De?Re:Te<=De?e:Ee}function ne(Re){var e=Re.map(function(Ee){return Ee.reduce(function(Ce,Te){return Ce+Math.abs(Te)},0)});return e.indexOf(Math.min.apply(null,e))}function re(Re,e,Ee){var Ce=e*Ee,Te=Math.floor(Ce/8),De=16-(Ce-8*Te+Ee),Me=(1<<Ee)-1;return ae(Re,Te)>>De&Me}function ie(Re,e,Ee,Ce){var Te=Ee*Ce,De=Math.floor(Te/8),Me=16-(Te-8*De+Ce),Oe=(1<<Ce)-1,Be=(e&Oe)<<Me;(function(ze,Ve,qe){if(Ve+1<ze.byteLength)ze.setUint16(Ve,qe,!1);else{var We=qe>>8&255;ze.setUint8(Ve,We)}})(Re,De,ae(Re,De)&~(Oe<<Me)&65535|Be)}function ae(Re,e){return e+1<Re.byteLength?Re.getUint16(e,!1):Re.getUint8(e)<<8}function oe(Re){var e=0;if(Re[e++]!==71||Re[e++]!==73||Re[e++]!==70||Re[e++]!==56||(Re[e++]+1&253)!=56||Re[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var Ee=Re[e++]|Re[e++]<<8,Ce=Re[e++]|Re[e++]<<8,Te=Re[e++],De=Te>>7,Me=1<<1+(7&Te);Re[e++],Re[e++];var Oe=null,Be=null;De&&(Oe=e,Be=Me,e+=3*Me);var ze=!0,Ve=[],qe=0,We=null,Ge=0,Je=null;for(this.width=Ee,this.height=Ce;ze&&e<Re.length;)switch(Re[e++]){case 33:switch(Re[e++]){case 255:if(Re[e]!==11||Re[e+1]==78&&Re[e+2]==69&&Re[e+3]==84&&Re[e+4]==83&&Re[e+5]==67&&Re[e+6]==65&&Re[e+7]==80&&Re[e+8]==69&&Re[e+9]==50&&Re[e+10]==46&&Re[e+11]==48&&Re[e+12]==3&&Re[e+13]==1&&Re[e+16]==0)e+=14,Je=Re[e++]|Re[e++]<<8,e++;else for(e+=12;;){if(!((ds=Re[e++])>=0))throw Error("Invalid block size");if(ds===0)break;e+=ds}break;case 249:if(Re[e++]!==4||Re[e+4]!==0)throw new Error("Invalid graphics extension block.");var Qe=Re[e++];qe=Re[e++]|Re[e++]<<8,We=Re[e++],1&Qe||(We=null),Ge=Qe>>2&7,e++;break;case 254:for(;;){if(!((ds=Re[e++])>=0))throw Error("Invalid block size");if(ds===0)break;e+=ds}break;default:throw new Error("Unknown graphic control label: 0x"+Re[e-1].toString(16))}break;case 44:var ns=Re[e++]|Re[e++]<<8,Ye=Re[e++]|Re[e++]<<8,rs=Re[e++]|Re[e++]<<8,ts=Re[e++]|Re[e++]<<8,Xe=Re[e++],is=Xe>>6&1,os=1<<1+(7&Xe),hs=Oe,fs=Be,xs=!1;Xe>>7&&(xs=!0,hs=e,fs=os,e+=3*os);var Ss=e;for(e++;;){var ds;if(!((ds=Re[e++])>=0))throw Error("Invalid block size");if(ds===0)break;e+=ds}Ve.push({x:ns,y:Ye,width:rs,height:ts,has_local_palette:xs,palette_offset:hs,palette_size:fs,data_offset:Ss,data_length:e-Ss,transparent_index:We,interlaced:!!is,delay:qe,disposal:Ge});break;case 59:ze=!1;break;default:throw new Error("Unknown gif block: 0x"+Re[e-1].toString(16))}this.numFrames=function(){return Ve.length},this.loopCount=function(){return Je},this.frameInfo=function(gs){if(gs<0||gs>=Ve.length)throw new Error("Frame index out of range.");return Ve[gs]},this.decodeAndBlitFrameBGRA=function(gs,Ts){var Ds=this.frameInfo(gs),Ms=Ds.width*Ds.height,bs=new Uint8Array(Ms);se(Re,Ds.data_offset,bs,Ms);var Ns=Ds.palette_offset,ps=Ds.transparent_index;ps===null&&(ps=256);var _s=Ds.width,ws=Ee-_s,js=_s,ms=4*(Ds.y*Ee+Ds.x),ys=4*((Ds.y+Ds.height)*Ee+Ds.x),ks=ms,zs=4*ws;Ds.interlaced===!0&&(zs+=4*Ee*7);for(var Cs=8,Ps=0,Us=bs.length;Ps<Us;++Ps){var Is=bs[Ps];if(js===0&&(js=_s,(ks+=zs)>=ys&&(zs=4*ws+4*Ee*(Cs-1),ks=ms+(_s+ws)*(Cs<<1),Cs>>=1)),Is===ps)ks+=4;else{var Vs=Re[Ns+3*Is],Ks=Re[Ns+3*Is+1],or=Re[Ns+3*Is+2];Ts[ks++]=or,Ts[ks++]=Ks,Ts[ks++]=Vs,Ts[ks++]=255}--js}},this.decodeAndBlitFrameRGBA=function(gs,Ts){var Ds=this.frameInfo(gs),Ms=Ds.width*Ds.height,bs=new Uint8Array(Ms);se(Re,Ds.data_offset,bs,Ms);var Ns=Ds.palette_offset,ps=Ds.transparent_index;ps===null&&(ps=256);var _s=Ds.width,ws=Ee-_s,js=_s,ms=4*(Ds.y*Ee+Ds.x),ys=4*((Ds.y+Ds.height)*Ee+Ds.x),ks=ms,zs=4*ws;Ds.interlaced===!0&&(zs+=4*Ee*7);for(var Cs=8,Ps=0,Us=bs.length;Ps<Us;++Ps){var Is=bs[Ps];if(js===0&&(js=_s,(ks+=zs)>=ys&&(zs=4*ws+4*Ee*(Cs-1),ks=ms+(_s+ws)*(Cs<<1),Cs>>=1)),Is===ps)ks+=4;else{var Vs=Re[Ns+3*Is],Ks=Re[Ns+3*Is+1],or=Re[Ns+3*Is+2];Ts[ks++]=Vs,Ts[ks++]=Ks,Ts[ks++]=or,Ts[ks++]=255}--js}}}function se(Re,e,Ee,Ce){for(var Te=Re[e++],De=1<<Te,Me=De+1,Oe=Me+1,Be=Te+1,ze=(1<<Be)-1,Ve=0,qe=0,We=0,Ge=Re[e++],Je=new Int32Array(4096),Qe=null;;){for(;Ve<16&&Ge!==0;)qe|=Re[e++]<<Ve,Ve+=8,Ge===1?Ge=Re[e++]:--Ge;if(Ve<Be)break;var ns=qe&ze;if(qe>>=Be,Ve-=Be,ns!==De){if(ns===Me)break;for(var Ye=ns<Oe?ns:Qe,rs=0,ts=Ye;ts>De;)ts=Je[ts]>>8,++rs;var Xe=ts;if(We+rs+(Ye!==ns?1:0)>Ce)return void o$1.log("Warning, gif stream longer than expected.");Ee[We++]=Xe;var is=We+=rs;for(Ye!==ns&&(Ee[We++]=Xe),ts=Ye;rs--;)ts=Je[ts],Ee[--is]=255&ts,ts>>=8;Qe!==null&&Oe<4096&&(Je[Oe++]=Qe<<8|Xe,Oe>=ze+1&&Be<12&&(++Be,ze=ze<<1|1)),Qe=ns}else Oe=Me+1,ze=(1<<(Be=Te+1))-1,Qe=null}return We!==Ce&&o$1.log("Warning, gif stream shorter than expected."),Ee}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function ue(Re){var e,Ee,Ce,Te,De,Me=Math.floor,Oe=new Array(64),Be=new Array(64),ze=new Array(64),Ve=new Array(64),qe=new Array(65535),We=new Array(65535),Ge=new Array(64),Je=new Array(64),Qe=[],ns=0,Ye=7,rs=new Array(64),ts=new Array(64),Xe=new Array(64),is=new Array(256),os=new Array(2048),hs=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],fs=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],xs=[0,1,2,3,4,5,6,7,8,9,10,11],Ss=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ds=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],gs=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Ts=[0,1,2,3,4,5,6,7,8,9,10,11],Ds=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ms=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function bs(ms,ys){for(var ks=0,zs=0,Cs=new Array,Ps=1;Ps<=16;Ps++){for(var Us=1;Us<=ms[Ps];Us++)Cs[ys[zs]]=[],Cs[ys[zs]][0]=ks,Cs[ys[zs]][1]=Ps,zs++,ks++;ks*=2}return Cs}function Ns(ms){for(var ys=ms[0],ks=ms[1]-1;ks>=0;)ys&1<<ks&&(ns|=1<<Ye),ks--,--Ye<0&&(ns==255?(ps(255),ps(0)):ps(ns),Ye=7,ns=0)}function ps(ms){Qe.push(ms)}function _s(ms){ps(ms>>8&255),ps(255&ms)}function ws(ms,ys,ks,zs,Cs){for(var Ps,Us=Cs[0],Is=Cs[240],Vs=function(tr,Lr){var Js,lr,hr,Ar,Pr,vr,Mr,Qr,Ur,ti,oi=0;for(Ur=0;Ur<8;++Ur){Js=tr[oi],lr=tr[oi+1],hr=tr[oi+2],Ar=tr[oi+3],Pr=tr[oi+4],vr=tr[oi+5],Mr=tr[oi+6];var Ti=Js+(Qr=tr[oi+7]),_i=Js-Qr,mi=lr+Mr,Ci=lr-Mr,Tr=hr+vr,Sr=hr-vr,Ir=Ar+Pr,Kr=Ar-Pr,ri=Ti+Ir,Wr=Ti-Ir,ai=mi+Tr,ii=mi-Tr;tr[oi]=ri+ai,tr[oi+4]=ri-ai;var yi=.707106781*(ii+Wr);tr[oi+2]=Wr+yi,tr[oi+6]=Wr-yi;var Sn=.382683433*((ri=Kr+Sr)-(ii=Ci+_i)),$i=.5411961*ri+Sn,dn=1.306562965*ii+Sn,Si=.707106781*(ai=Sr+Ci),pi=_i+Si,Xa=_i-Si;tr[oi+5]=Xa+$i,tr[oi+3]=Xa-$i,tr[oi+1]=pi+dn,tr[oi+7]=pi-dn,oi+=8}for(oi=0,Ur=0;Ur<8;++Ur){Js=tr[oi],lr=tr[oi+8],hr=tr[oi+16],Ar=tr[oi+24],Pr=tr[oi+32],vr=tr[oi+40],Mr=tr[oi+48];var ml=Js+(Qr=tr[oi+56]),Ja=Js-Qr,Qa=lr+Mr,Ji=lr-Mr,ci=hr+vr,aa=hr-vr,Pa=Ar+Pr,Rn=Ar-Pr,Pn=ml+Pa,Va=ml-Pa,Co=Qa+ci,eo=Qa-ci;tr[oi]=Pn+Co,tr[oi+32]=Pn-Co;var Ko=.707106781*(eo+Va);tr[oi+16]=Va+Ko,tr[oi+48]=Va-Ko;var Au=.382683433*((Pn=Rn+aa)-(eo=Ji+Ja)),Po=.5411961*Pn+Au,Bc=1.306562965*eo+Au,xl=.707106781*(Co=aa+Ji),gl=Ja+xl,pc=Ja-xl;tr[oi+40]=pc+Po,tr[oi+24]=pc-Po,tr[oi+8]=gl+Bc,tr[oi+56]=gl-Bc,oi++}for(Ur=0;Ur<64;++Ur)ti=tr[Ur]*Lr[Ur],Ge[Ur]=ti>0?ti+.5|0:ti-.5|0;return Ge}(ms,ys),Ks=0;Ks<64;++Ks)Je[hs[Ks]]=Vs[Ks];var or=Je[0]-ks;ks=Je[0],or==0?Ns(zs[0]):(Ns(zs[We[Ps=32767+or]]),Ns(qe[Ps]));for(var rr=63;rr>0&&Je[rr]==0;)rr--;if(rr==0)return Ns(Us),ks;for(var ur,Ws=1;Ws<=rr;){for(var Er=Ws;Je[Ws]==0&&Ws<=rr;)++Ws;var zr=Ws-Er;if(zr>=16){ur=zr>>4;for(var Or=1;Or<=ur;++Or)Ns(Is);zr&=15}Ps=32767+Je[Ws],Ns(Cs[(zr<<4)+We[Ps]]),Ns(qe[Ps]),Ws++}return rr!=63&&Ns(Us),ks}function js(ms){ms=Math.min(Math.max(ms,1),100),De!=ms&&(function(ys){for(var ks=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],zs=0;zs<64;zs++){var Cs=Me((ks[zs]*ys+50)/100);Cs=Math.min(Math.max(Cs,1),255),Oe[hs[zs]]=Cs}for(var Ps=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Us=0;Us<64;Us++){var Is=Me((Ps[Us]*ys+50)/100);Is=Math.min(Math.max(Is,1),255),Be[hs[Us]]=Is}for(var Vs=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ks=0,or=0;or<8;or++)for(var rr=0;rr<8;rr++)ze[Ks]=1/(Oe[hs[Ks]]*Vs[or]*Vs[rr]*8),Ve[Ks]=1/(Be[hs[Ks]]*Vs[or]*Vs[rr]*8),Ks++}(ms<50?Math.floor(5e3/ms):Math.floor(200-2*ms)),De=ms)}this.encode=function(ms,ys){ys&&js(ys),Qe=new Array,ns=0,Ye=7,_s(65496),_s(65504),_s(16),ps(74),ps(70),ps(73),ps(70),ps(0),ps(1),ps(1),ps(0),_s(1),_s(1),ps(0),ps(0),function(){_s(65499),_s(132),ps(0);for(var lr=0;lr<64;lr++)ps(Oe[lr]);ps(1);for(var hr=0;hr<64;hr++)ps(Be[hr])}(),function(lr,hr){_s(65472),_s(17),ps(8),_s(hr),_s(lr),ps(3),ps(1),ps(17),ps(0),ps(2),ps(17),ps(1),ps(3),ps(17),ps(1)}(ms.width,ms.height),function(){_s(65476),_s(418),ps(0);for(var lr=0;lr<16;lr++)ps(fs[lr+1]);for(var hr=0;hr<=11;hr++)ps(xs[hr]);ps(16);for(var Ar=0;Ar<16;Ar++)ps(Ss[Ar+1]);for(var Pr=0;Pr<=161;Pr++)ps(ds[Pr]);ps(1);for(var vr=0;vr<16;vr++)ps(gs[vr+1]);for(var Mr=0;Mr<=11;Mr++)ps(Ts[Mr]);ps(17);for(var Qr=0;Qr<16;Qr++)ps(Ds[Qr+1]);for(var Ur=0;Ur<=161;Ur++)ps(Ms[Ur])}(),_s(65498),_s(12),ps(3),ps(1),ps(0),ps(2),ps(17),ps(3),ps(17),ps(0),ps(63),ps(0);var ks=0,zs=0,Cs=0;ns=0,Ye=7,this.encode.displayName="_encode_";for(var Ps,Us,Is,Vs,Ks,or,rr,ur,Ws,Er=ms.data,zr=ms.width,Or=ms.height,tr=4*zr,Lr=0;Lr<Or;){for(Ps=0;Ps<tr;){for(Ks=tr*Lr+Ps,rr=-1,ur=0,Ws=0;Ws<64;Ws++)or=Ks+(ur=Ws>>3)*tr+(rr=4*(7&Ws)),Lr+ur>=Or&&(or-=tr*(Lr+1+ur-Or)),Ps+rr>=tr&&(or-=Ps+rr-tr+4),Us=Er[or++],Is=Er[or++],Vs=Er[or++],rs[Ws]=(os[Us]+os[Is+256|0]+os[Vs+512|0]>>16)-128,ts[Ws]=(os[Us+768|0]+os[Is+1024|0]+os[Vs+1280|0]>>16)-128,Xe[Ws]=(os[Us+1280|0]+os[Is+1536|0]+os[Vs+1792|0]>>16)-128;ks=ws(rs,ze,ks,e,Ce),zs=ws(ts,Ve,zs,Ee,Te),Cs=ws(Xe,Ve,Cs,Ee,Te),Ps+=32}Lr+=8}if(Ye>=0){var Js=[];Js[1]=Ye+1,Js[0]=(1<<Ye+1)-1,Ns(Js)}return _s(65497),new Uint8Array(Qe)},Re=Re||50,function(){for(var ms=String.fromCharCode,ys=0;ys<256;ys++)is[ys]=ms(ys)}(),e=bs(fs,xs),Ee=bs(gs,Ts),Ce=bs(Ss,ds),Te=bs(Ds,Ms),function(){for(var ms=1,ys=2,ks=1;ks<=15;ks++){for(var zs=ms;zs<ys;zs++)We[32767+zs]=ks,qe[32767+zs]=[],qe[32767+zs][1]=ks,qe[32767+zs][0]=zs;for(var Cs=-(ys-1);Cs<=-ms;Cs++)We[32767+Cs]=ks,qe[32767+Cs]=[],qe[32767+Cs][1]=ks,qe[32767+Cs][0]=ys-1+Cs;ms<<=1,ys<<=1}}(),function(){for(var ms=0;ms<256;ms++)os[ms]=19595*ms,os[ms+256|0]=38470*ms,os[ms+512|0]=7471*ms+32768,os[ms+768|0]=-11059*ms,os[ms+1024|0]=-21709*ms,os[ms+1280|0]=32768*ms+8421375,os[ms+1536|0]=-27439*ms,os[ms+1792|0]=-5329*ms}(),js(Re)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ce(Re,e){if(this.pos=0,this.buffer=Re,this.datav=new DataView(Re.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function le(Re){function e(xs){if(!xs)throw Error("assert :P")}function Ee(xs,Ss,ds){for(var gs=0;4>gs;gs++)if(xs[Ss+gs]!=ds.charCodeAt(gs))return!0;return!1}function Ce(xs,Ss,ds,gs,Ts){for(var Ds=0;Ds<Ts;Ds++)xs[Ss+Ds]=ds[gs+Ds]}function Te(xs,Ss,ds,gs){for(var Ts=0;Ts<gs;Ts++)xs[Ss+Ts]=ds}function De(xs){return new Int32Array(xs)}function Me(xs,Ss){for(var ds=[],gs=0;gs<xs;gs++)ds.push(new Ss);return ds}function Oe(xs,Ss){var ds=[];return function gs(Ts,Ds,Ms){for(var bs=Ms[Ds],Ns=0;Ns<bs&&(Ts.push(Ms.length>Ds+1?[]:new Ss),!(Ms.length<Ds+1));Ns++)gs(Ts[Ns],Ds+1,Ms)}(ds,0,xs),ds}var Be=function(){var xs=this;function Ss(as,us){for(var As=1<<us-1>>>0;as&As;)As>>>=1;return As?(as&As-1)+As:as}function ds(as,us,As,Os,Gs){e(!(Os%As));do as[us+(Os-=As)]=Gs;while(0<Os)}function gs(as,us,As,Os,Gs){if(e(2328>=Gs),512>=Gs)var Ys=De(512);else if((Ys=De(Gs))==null)return 0;return function(Xs,er,sr,nr,fr,_r){var ar,xr,mr=er,Cr=1<<sr,jr=De(16),Br=De(16);for(e(fr!=0),e(nr!=null),e(Xs!=null),e(0<sr),xr=0;xr<fr;++xr){if(15<nr[xr])return 0;++jr[nr[xr]]}if(jr[0]==fr)return 0;for(Br[1]=0,ar=1;15>ar;++ar){if(jr[ar]>1<<ar)return 0;Br[ar+1]=Br[ar]+jr[ar]}for(xr=0;xr<fr;++xr)ar=nr[xr],0<nr[xr]&&(_r[Br[ar]++]=xr);if(Br[15]==1)return(nr=new Ts).g=0,nr.value=_r[0],ds(Xs,mr,1,Cr,nr),Cr;var $r,ei=-1,Jr=Cr-1,ji=0,fi=1,Hi=1,li=1<<sr;for(xr=0,ar=1,fr=2;ar<=sr;++ar,fr<<=1){if(fi+=Hi<<=1,0>(Hi-=jr[ar]))return 0;for(;0<jr[ar];--jr[ar])(nr=new Ts).g=ar,nr.value=_r[xr++],ds(Xs,mr+ji,fr,li,nr),ji=Ss(ji,ar)}for(ar=sr+1,fr=2;15>=ar;++ar,fr<<=1){if(fi+=Hi<<=1,0>(Hi-=jr[ar]))return 0;for(;0<jr[ar];--jr[ar]){if(nr=new Ts,(ji&Jr)!=ei){for(mr+=li,$r=1<<(ei=ar)-sr;15>ei&&!(0>=($r-=jr[ei]));)++ei,$r<<=1;Cr+=li=1<<($r=ei-sr),Xs[er+(ei=ji&Jr)].g=$r+sr,Xs[er+ei].value=mr-er-ei}nr.g=ar-sr,nr.value=_r[xr++],ds(Xs,mr+(ji>>sr),fr,li,nr),ji=Ss(ji,ar)}}return fi!=2*Br[15]-1?0:Cr}(as,us,As,Os,Gs,Ys)}function Ts(){this.value=this.g=0}function Ds(){this.value=this.g=0}function Ms(){this.G=Me(5,Ts),this.H=De(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=Me(_l,Ds)}function bs(as,us,As,Os){e(as!=null),e(us!=null),e(2147483648>Os),as.Ca=254,as.I=0,as.b=-8,as.Ka=0,as.oa=us,as.pa=As,as.Jd=us,as.Yc=As+Os,as.Zc=4<=Os?As+Os-4+1:As,Us(as)}function Ns(as,us){for(var As=0;0<us--;)As|=Vs(as,128)<<us;return As}function ps(as,us){var As=Ns(as,us);return Is(as)?-As:As}function _s(as,us,As,Os){var Gs,Ys=0;for(e(as!=null),e(us!=null),e(4294967288>Os),as.Sb=Os,as.Ra=0,as.u=0,as.h=0,4<Os&&(Os=4),Gs=0;Gs<Os;++Gs)Ys+=us[As+Gs]<<8*Gs;as.Ra=Ys,as.bb=Os,as.oa=us,as.pa=As}function ws(as){for(;8<=as.u&&as.bb<as.Sb;)as.Ra>>>=8,as.Ra+=as.oa[as.pa+as.bb]<<Sl-8>>>0,++as.bb,as.u-=8;zs(as)&&(as.h=1,as.u=0)}function js(as,us){if(e(0<=us),!as.h&&us<=ca){var As=ks(as)&fo[us];return as.u+=us,ws(as),As}return as.h=1,as.u=0}function ms(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ys(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function ks(as){return as.Ra>>>(as.u&Sl-1)>>>0}function zs(as){return e(as.bb<=as.Sb),as.h||as.bb==as.Sb&&as.u>Sl}function Cs(as,us){as.u=us,as.h=zs(as)}function Ps(as){as.u>=Ec&&(e(as.u>=Ec),ws(as))}function Us(as){e(as!=null&&as.oa!=null),as.pa<as.Zc?(as.I=(as.oa[as.pa++]|as.I<<8)>>>0,as.b+=8):(e(as!=null&&as.oa!=null),as.pa<as.Yc?(as.b+=8,as.I=as.oa[as.pa++]|as.I<<8):as.Ka?as.b=0:(as.I<<=8,as.b+=8,as.Ka=1))}function Is(as){return Ns(as,1)}function Vs(as,us){var As=as.Ca;0>as.b&&Us(as);var Os=as.b,Gs=As*us>>>8,Ys=(as.I>>>Os>Gs)+0;for(Ys?(As-=Gs,as.I-=Gs+1<<Os>>>0):As=Gs+1,Os=As,Gs=0;256<=Os;)Gs+=8,Os>>=8;return Os=7^Gs+wc[Os],as.b-=Os,as.Ca=(As<<Os)-1,Ys}function Ks(as,us,As){as[us+0]=As>>24&255,as[us+1]=As>>16&255,as[us+2]=As>>8&255,as[us+3]=255&As}function or(as,us){return as[us+0]|as[us+1]<<8}function rr(as,us){return or(as,us)|as[us+2]<<16}function ur(as,us){return or(as,us)|or(as,us+2)<<16}function Ws(as,us){var As=1<<us;return e(as!=null),e(0<us),as.X=De(As),as.X==null?0:(as.Mb=32-us,as.Xa=us,1)}function Er(as,us){e(as!=null),e(us!=null),e(as.Xa==us.Xa),Ce(us.X,0,as.X,0,1<<us.Xa)}function zr(){this.X=[],this.Xa=this.Mb=0}function Or(as,us,As,Os){e(As!=null),e(Os!=null);var Gs=As[0],Ys=Os[0];return Gs==0&&(Gs=(as*Ys+us/2)/us),Ys==0&&(Ys=(us*Gs+as/2)/as),0>=Gs||0>=Ys?0:(As[0]=Gs,Os[0]=Ys,1)}function tr(as,us){return as+(1<<us)-1>>>us}function Lr(as,us){return((4278255360&as)+(4278255360&us)>>>0&4278255360)+((16711935&as)+(16711935&us)>>>0&16711935)>>>0}function Js(as,us){xs[us]=function(As,Os,Gs,Ys,Xs,er,sr){var nr;for(nr=0;nr<Xs;++nr){var fr=xs[as](er[sr+nr-1],Gs,Ys+nr);er[sr+nr]=Lr(As[Os+nr],fr)}}}function lr(){this.ud=this.hd=this.jd=0}function hr(as,us){return((4278124286&(as^us))>>>1)+(as&us)>>>0}function Ar(as){return 0<=as&&256>as?as:0>as?0:255<as?255:void 0}function Pr(as,us){return Ar(as+(as-us+.5>>1))}function vr(as,us,As){return Math.abs(us-As)-Math.abs(as-As)}function Mr(as,us,As,Os,Gs,Ys,Xs){for(Os=Ys[Xs-1],As=0;As<Gs;++As)Ys[Xs+As]=Os=Lr(as[us+As],Os)}function Qr(as,us,As,Os,Gs){var Ys;for(Ys=0;Ys<As;++Ys){var Xs=as[us+Ys],er=Xs>>8&255,sr=16711935&(sr=(sr=16711935&Xs)+((er<<16)+er));Os[Gs+Ys]=(4278255360&Xs)+sr>>>0}}function Ur(as,us){us.jd=255&as,us.hd=as>>8&255,us.ud=as>>16&255}function ti(as,us,As,Os,Gs,Ys){var Xs;for(Xs=0;Xs<Os;++Xs){var er=us[As+Xs],sr=er>>>8,nr=er,fr=255&(fr=(fr=er>>>16)+((as.jd<<24>>24)*(sr<<24>>24)>>>5));nr=255&(nr=(nr+=(as.hd<<24>>24)*(sr<<24>>24)>>>5)+((as.ud<<24>>24)*(fr<<24>>24)>>>5)),Gs[Ys+Xs]=(4278255360&er)+(fr<<16)+nr}}function oi(as,us,As,Os,Gs){xs[us]=function(Ys,Xs,er,sr,nr,fr,_r,ar,xr){for(sr=_r;sr<ar;++sr)for(_r=0;_r<xr;++_r)nr[fr++]=Gs(er[Os(Ys[Xs++])])},xs[as]=function(Ys,Xs,er,sr,nr,fr,_r){var ar=8>>Ys.b,xr=Ys.Ea,mr=Ys.K[0],Cr=Ys.w;if(8>ar)for(Ys=(1<<Ys.b)-1,Cr=(1<<ar)-1;Xs<er;++Xs){var jr,Br=0;for(jr=0;jr<xr;++jr)jr&Ys||(Br=Os(sr[nr++])),fr[_r++]=Gs(mr[Br&Cr]),Br>>=ar}else xs["VP8LMapColor"+As](sr,nr,mr,Cr,fr,_r,Xs,er,xr)}}function Ti(as,us,As,Os,Gs){for(As=us+As;us<As;){var Ys=as[us++];Os[Gs++]=Ys>>16&255,Os[Gs++]=Ys>>8&255,Os[Gs++]=255&Ys}}function _i(as,us,As,Os,Gs){for(As=us+As;us<As;){var Ys=as[us++];Os[Gs++]=Ys>>16&255,Os[Gs++]=Ys>>8&255,Os[Gs++]=255&Ys,Os[Gs++]=Ys>>24&255}}function mi(as,us,As,Os,Gs){for(As=us+As;us<As;){var Ys=(Xs=as[us++])>>16&240|Xs>>12&15,Xs=240&Xs|Xs>>28&15;Os[Gs++]=Ys,Os[Gs++]=Xs}}function Ci(as,us,As,Os,Gs){for(As=us+As;us<As;){var Ys=(Xs=as[us++])>>16&248|Xs>>13&7,Xs=Xs>>5&224|Xs>>3&31;Os[Gs++]=Ys,Os[Gs++]=Xs}}function Tr(as,us,As,Os,Gs){for(As=us+As;us<As;){var Ys=as[us++];Os[Gs++]=255&Ys,Os[Gs++]=Ys>>8&255,Os[Gs++]=Ys>>16&255}}function Sr(as,us,As,Os,Gs,Ys){if(Ys==0)for(As=us+As;us<As;)Ks(Os,((Ys=as[us++])[0]>>24|Ys[1]>>8&65280|Ys[2]<<8&16711680|Ys[3]<<24)>>>0),Gs+=32;else Ce(Os,Gs,as,us,As)}function Ir(as,us){xs[us][0]=xs[as+"0"],xs[us][1]=xs[as+"1"],xs[us][2]=xs[as+"2"],xs[us][3]=xs[as+"3"],xs[us][4]=xs[as+"4"],xs[us][5]=xs[as+"5"],xs[us][6]=xs[as+"6"],xs[us][7]=xs[as+"7"],xs[us][8]=xs[as+"8"],xs[us][9]=xs[as+"9"],xs[us][10]=xs[as+"10"],xs[us][11]=xs[as+"11"],xs[us][12]=xs[as+"12"],xs[us][13]=xs[as+"13"],xs[us][14]=xs[as+"0"],xs[us][15]=xs[as+"0"]}function Kr(as){return as==Pl||as==Tl||as==Sc||as==He}function ri(){this.eb=[],this.size=this.A=this.fb=0}function Wr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ai(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new ri,this.f.kb=new Wr,this.sd=null}function ii(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function yi(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Sn(as){return alert("todo:WebPSamplerProcessPlane"),as.T}function $i(as,us){var As=as.T,Os=us.ba.f.RGBA,Gs=Os.eb,Ys=Os.fb+as.ka*Os.A,Xs=Da[us.ba.S],er=as.y,sr=as.O,nr=as.f,fr=as.N,_r=as.ea,ar=as.W,xr=us.cc,mr=us.dc,Cr=us.Mc,jr=us.Nc,Br=as.ka,$r=as.ka+as.T,ei=as.U,Jr=ei+1>>1;for(Br==0?Xs(er,sr,null,null,nr,fr,_r,ar,nr,fr,_r,ar,Gs,Ys,null,null,ei):(Xs(us.ec,us.fc,er,sr,xr,mr,Cr,jr,nr,fr,_r,ar,Gs,Ys-Os.A,Gs,Ys,ei),++As);Br+2<$r;Br+=2)xr=nr,mr=fr,Cr=_r,jr=ar,fr+=as.Rc,ar+=as.Rc,Ys+=2*Os.A,Xs(er,(sr+=2*as.fa)-as.fa,er,sr,xr,mr,Cr,jr,nr,fr,_r,ar,Gs,Ys-Os.A,Gs,Ys,ei);return sr+=as.fa,as.j+$r<as.o?(Ce(us.ec,us.fc,er,sr,ei),Ce(us.cc,us.dc,nr,fr,Jr),Ce(us.Mc,us.Nc,_r,ar,Jr),As--):1&$r||Xs(er,sr,null,null,nr,fr,_r,ar,nr,fr,_r,ar,Gs,Ys+Os.A,null,null,ei),As}function dn(as,us,As){var Os=as.F,Gs=[as.J];if(Os!=null){var Ys=as.U,Xs=us.ba.S,er=Xs==io||Xs==Sc;us=us.ba.f.RGBA;var sr=[0],nr=as.ka;sr[0]=as.T,as.Kb&&(nr==0?--sr[0]:(--nr,Gs[0]-=as.width),as.j+as.ka+as.T==as.o&&(sr[0]=as.o-as.j-nr));var fr=us.eb;nr=us.fb+nr*us.A,as=zu(Os,Gs[0],as.width,Ys,sr,fr,nr+(er?0:3),us.A),e(As==sr),as&&Kr(Xs)&&ga(fr,nr,er,Ys,sr,us.A)}return 0}function Si(as){var us=as.ma,As=us.ba.S,Os=11>As,Gs=As==_c||As==$u||As==io||As==bo||As==12||Kr(As);if(us.memory=null,us.Ib=null,us.Jb=null,us.Nd=null,!Iu(us.Oa,as,Gs?11:12))return 0;if(Gs&&Kr(As)&&ec(),as.da)alert("todo:use_scaling");else{if(Os){if(us.Ib=Sn,as.Kb){if(As=as.U+1>>1,us.memory=De(as.U+2*As),us.memory==null)return 0;us.ec=us.memory,us.fc=0,us.cc=us.ec,us.dc=us.fc+as.U,us.Mc=us.cc,us.Nc=us.dc+As,us.Ib=$i,ec()}}else alert("todo:EmitYUV");Gs&&(us.Jb=dn,Os&&qa())}if(Os&&!tu){for(as=0;256>as;++as)Xd[as]=89858*(as-128)+yf>>Vh,vd[as]=-22014*(as-128)+yf,Jd[as]=-45773*(as-128),Mv[as]=113618*(as-128)+yf>>Vh;for(as=Uh;as<vf;++as)us=76283*(as-16)+yf>>Vh,Ga[as-Uh]=Fi(us,255),sg[as-Uh]=Fi(us+8>>4,15);tu=1}return 1}function pi(as){var us=as.ma,As=as.U,Os=as.T;return e(!(1&as.ka)),0>=As||0>=Os?0:(As=us.Ib(as,us),us.Jb!=null&&us.Jb(as,us,As),us.Dc+=As,1)}function Xa(as){as.ma.memory=null}function ml(as,us,As,Os){return js(as,8)!=47?0:(us[0]=js(as,14)+1,As[0]=js(as,14)+1,Os[0]=js(as,1),js(as,3)!=0?0:!as.h)}function Ja(as,us){if(4>as)return as+1;var As=as-2>>1;return(2+(1&as)<<As)+js(us,As)+1}function Qa(as,us){return 120<us?us-120:1<=(As=((As=dr[us-1])>>4)*as+(8-(15&As)))?As:1;var As}function Ji(as,us,As){var Os=ks(As),Gs=as[us+=255&Os].g-8;return 0<Gs&&(Cs(As,As.u+8),Os=ks(As),us+=as[us].value,us+=Os&(1<<Gs)-1),Cs(As,As.u+as[us].g),as[us].value}function ci(as,us,As){return As.g+=as.g,As.value+=as.value<<us>>>0,e(8>=As.g),as.g}function aa(as,us,As){var Os=as.xc;return e((us=Os==0?0:as.vc[as.md*(As>>Os)+(us>>Os)])<as.Wb),as.Ya[us]}function Pa(as,us,As,Os){var Gs=as.ab,Ys=as.c*us,Xs=as.C;us=Xs+us;var er=As,sr=Os;for(Os=as.Ta,As=as.Ua;0<Gs--;){var nr=as.gc[Gs],fr=Xs,_r=us,ar=er,xr=sr,mr=(sr=Os,er=As,nr.Ea);switch(e(fr<_r),e(_r<=nr.nc),nr.hc){case 2:ua(ar,xr,(_r-fr)*mr,sr,er);break;case 0:var Cr=fr,jr=_r,Br=sr,$r=er,ei=(li=nr).Ea;Cr==0&&(Fh(ar,xr,null,null,1,Br,$r),Mr(ar,xr+1,0,0,ei-1,Br,$r+1),xr+=ei,$r+=ei,++Cr);for(var Jr=1<<li.b,ji=Jr-1,fi=tr(ei,li.b),Hi=li.K,li=li.w+(Cr>>li.b)*fi;Cr<jr;){var en=Hi,Ra=li,Vi=1;for(Lo(ar,xr,Br,$r-ei,1,Br,$r);Vi<ei;){var Ei=(Vi&~ji)+Jr;Ei>ei&&(Ei=ei),(0,gd[en[Ra++]>>8&15])(ar,xr+ +Vi,Br,$r+Vi-ei,Ei-Vi,Br,$r+Vi),Vi=Ei}xr+=ei,$r+=ei,++Cr&ji||(li+=fi)}_r!=nr.nc&&Ce(sr,er-mr,sr,er+(_r-fr-1)*mr,mr);break;case 1:for(mr=ar,jr=xr,ei=(ar=nr.Ea)-($r=ar&~(Br=(xr=1<<nr.b)-1)),Cr=tr(ar,nr.b),Jr=nr.K,nr=nr.w+(fr>>nr.b)*Cr;fr<_r;){for(ji=Jr,fi=nr,Hi=new lr,li=jr+$r,en=jr+ar;jr<li;)Ur(ji[fi++],Hi),Bu(Hi,mr,jr,xr,sr,er),jr+=xr,er+=xr;jr<en&&(Ur(ji[fi++],Hi),Bu(Hi,mr,jr,ei,sr,er),jr+=ei,er+=ei),++fr&Br||(nr+=Cr)}break;case 3:if(ar==sr&&xr==er&&0<nr.b){for(jr=sr,ar=mr=er+(_r-fr)*mr-($r=(_r-fr)*tr(nr.Ea,nr.b)),xr=sr,Br=er,Cr=[],$r=(ei=$r)-1;0<=$r;--$r)Cr[$r]=xr[Br+$r];for($r=ei-1;0<=$r;--$r)jr[ar+$r]=Cr[$r];Kc(nr,fr,_r,sr,mr,sr,er)}else Kc(nr,fr,_r,ar,xr,sr,er)}er=Os,sr=As}sr!=As&&Ce(Os,As,er,sr,Ys)}function Rn(as,us){var As=as.V,Os=as.Ba+as.c*as.C,Gs=us-as.C;if(e(us<=as.l.o),e(16>=Gs),0<Gs){var Ys=as.l,Xs=as.Ta,er=as.Ua,sr=Ys.width;if(Pa(as,Gs,As,Os),Gs=er=[er],e((As=as.C)<(Os=us)),e(Ys.v<Ys.va),Os>Ys.o&&(Os=Ys.o),As<Ys.j){var nr=Ys.j-As;As=Ys.j,Gs[0]+=nr*sr}if(As>=Os?As=0:(Gs[0]+=4*Ys.v,Ys.ka=As-Ys.j,Ys.U=Ys.va-Ys.v,Ys.T=Os-As,As=1),As){if(er=er[0],11>(As=as.ca).S){var fr=As.f.RGBA,_r=(Os=As.S,Gs=Ys.U,Ys=Ys.T,nr=fr.eb,fr.A),ar=Ys;for(fr=fr.fb+as.Ma*fr.A;0<ar--;){var xr=Xs,mr=er,Cr=Gs,jr=nr,Br=fr;switch(Os){case Qc:Xc(xr,mr,Cr,jr,Br);break;case _c:Nl(xr,mr,Cr,jr,Br);break;case Pl:Nl(xr,mr,Cr,jr,Br),ga(jr,Br,0,Cr,1,0);break;case Yd:xo(xr,mr,Cr,jr,Br);break;case $u:Sr(xr,mr,Cr,jr,Br,1);break;case Tl:Sr(xr,mr,Cr,jr,Br,1),ga(jr,Br,0,Cr,1,0);break;case io:Sr(xr,mr,Cr,jr,Br,0);break;case Sc:Sr(xr,mr,Cr,jr,Br,0),ga(jr,Br,1,Cr,1,0);break;case bo:sc(xr,mr,Cr,jr,Br);break;case He:sc(xr,mr,Cr,jr,Br),Oo(jr,Br,Cr,1,0);break;case Vu:Xo(xr,mr,Cr,jr,Br);break;default:e(0)}er+=sr,fr+=_r}as.Ma+=Ys}else alert("todo:EmitRescaledRowsYUVA");e(as.Ma<=As.height)}}as.C=us,e(as.C<=as.i)}function Pn(as){var us;if(0<as.ua)return 0;for(us=0;us<as.Wb;++us){var As=as.Ya[us].G,Os=as.Ya[us].H;if(0<As[1][Os[1]+0].g||0<As[2][Os[2]+0].g||0<As[3][Os[3]+0].g)return 0}return 1}function Va(as,us,As,Os,Gs,Ys){if(as.Z!=0){var Xs=as.qd,er=as.rd;for(e(mn[as.Z]!=null);us<As;++us)mn[as.Z](Xs,er,Os,Gs,Os,Gs,Ys),Xs=Os,er=Gs,Gs+=Ys;as.qd=Xs,as.rd=er}}function Co(as,us){var As=as.l.ma,Os=As.Z==0||As.Z==1?as.l.j:as.C;if(Os=as.C<Os?Os:as.C,e(us<=as.l.o),us>Os){var Gs=as.l.width,Ys=As.ca,Xs=As.tb+Gs*Os,er=as.V,sr=as.Ba+as.c*Os,nr=as.gc;e(as.ab==1),e(nr[0].hc==3),ta(nr[0],Os,us,er,sr,Ys,Xs),Va(As,Os,us,Ys,Xs,Gs)}as.C=as.Ma=us}function eo(as,us,As,Os,Gs,Ys,Xs){var er=as.$/Os,sr=as.$%Os,nr=as.m,fr=as.s,_r=As+as.$,ar=_r;Gs=As+Os*Gs;var xr=As+Os*Ys,mr=280+fr.ua,Cr=as.Pb?er:16777216,jr=0<fr.ua?fr.Wa:null,Br=fr.wc,$r=_r<xr?aa(fr,sr,er):null;e(as.C<Ys),e(xr<=Gs);var ei=!1;e:for(;;){for(;ei||_r<xr;){var Jr=0;if(er>=Cr){var ji=_r-As;e((Cr=as).Pb),Cr.wd=Cr.m,Cr.xd=ji,0<Cr.s.ua&&Er(Cr.s.Wa,Cr.s.vb),Cr=er+kr}if(sr&Br||($r=aa(fr,sr,er)),e($r!=null),$r.Qb&&(us[_r]=$r.qb,ei=!0),!ei)if(Ps(nr),$r.jc){Jr=nr,ji=us;var fi=_r,Hi=$r.pd[ks(Jr)&_l-1];e($r.jc),256>Hi.g?(Cs(Jr,Jr.u+Hi.g),ji[fi]=Hi.value,Jr=0):(Cs(Jr,Jr.u+Hi.g-256),e(256<=Hi.value),Jr=Hi.value),Jr==0&&(ei=!0)}else Jr=Ji($r.G[0],$r.H[0],nr);if(nr.h)break;if(ei||256>Jr){if(!ei)if($r.nd)us[_r]=($r.qb|Jr<<8)>>>0;else{if(Ps(nr),ei=Ji($r.G[1],$r.H[1],nr),Ps(nr),ji=Ji($r.G[2],$r.H[2],nr),fi=Ji($r.G[3],$r.H[3],nr),nr.h)break;us[_r]=(fi<<24|ei<<16|Jr<<8|ji)>>>0}if(ei=!1,++_r,++sr>=Os&&(sr=0,++er,Xs!=null&&er<=Ys&&!(er%16)&&Xs(as,er),jr!=null))for(;ar<_r;)Jr=us[ar++],jr.X[(506832829*Jr&4294967295)>>>jr.Mb]=Jr}else if(280>Jr){if(Jr=Ja(Jr-256,nr),ji=Ji($r.G[4],$r.H[4],nr),Ps(nr),ji=Qa(Os,ji=Ja(ji,nr)),nr.h)break;if(_r-As<ji||Gs-_r<Jr)break e;for(fi=0;fi<Jr;++fi)us[_r+fi]=us[_r+fi-ji];for(_r+=Jr,sr+=Jr;sr>=Os;)sr-=Os,++er,Xs!=null&&er<=Ys&&!(er%16)&&Xs(as,er);if(e(_r<=Gs),sr&Br&&($r=aa(fr,sr,er)),jr!=null)for(;ar<_r;)Jr=us[ar++],jr.X[(506832829*Jr&4294967295)>>>jr.Mb]=Jr}else{if(!(Jr<mr))break e;for(ei=Jr-280,e(jr!=null);ar<_r;)Jr=us[ar++],jr.X[(506832829*Jr&4294967295)>>>jr.Mb]=Jr;Jr=_r,e(!(ei>>>(ji=jr).Xa)),us[Jr]=ji.X[ei],ei=!0}ei||e(nr.h==zs(nr))}if(as.Pb&&nr.h&&_r<Gs)e(as.m.h),as.a=5,as.m=as.wd,as.$=as.xd,0<as.s.ua&&Er(as.s.vb,as.s.Wa);else{if(nr.h)break e;Xs!=null&&Xs(as,er>Ys?Ys:er),as.a=0,as.$=_r-As}return 1}return as.a=3,0}function Ko(as){e(as!=null),as.vc=null,as.yc=null,as.Ya=null;var us=as.Wa;us!=null&&(us.X=null),as.vb=null,e(as!=null)}function Au(){var as=new Li;return as==null?null:(as.a=0,as.xb=Hu,Ir("Predictor","VP8LPredictors"),Ir("Predictor","VP8LPredictors_C"),Ir("PredictorAdd","VP8LPredictorsAdd"),Ir("PredictorAdd","VP8LPredictorsAdd_C"),ua=Qr,Bu=ti,Xc=Ti,Nl=_i,sc=mi,Xo=Ci,xo=Tr,xs.VP8LMapColor32b=ea,xs.VP8LMapColor8b=Yc,as)}function Po(as,us,As,Os,Gs){var Ys=1,Xs=[as],er=[us],sr=Os.m,nr=Os.s,fr=null,_r=0;e:for(;;){if(As)for(;Ys&&js(sr,1);){var ar=Xs,xr=er,mr=Os,Cr=1,jr=mr.m,Br=mr.gc[mr.ab],$r=js(jr,2);if(mr.Oc&1<<$r)Ys=0;else{switch(mr.Oc|=1<<$r,Br.hc=$r,Br.Ea=ar[0],Br.nc=xr[0],Br.K=[null],++mr.ab,e(4>=mr.ab),$r){case 0:case 1:Br.b=js(jr,3)+2,Cr=Po(tr(Br.Ea,Br.b),tr(Br.nc,Br.b),0,mr,Br.K),Br.K=Br.K[0];break;case 3:var ei,Jr=js(jr,8)+1,ji=16<Jr?0:4<Jr?1:2<Jr?2:3;if(ar[0]=tr(Br.Ea,ji),Br.b=ji,ei=Cr=Po(Jr,1,0,mr,Br.K)){var fi,Hi=Jr,li=Br,en=1<<(8>>li.b),Ra=De(en);if(Ra==null)ei=0;else{var Vi=li.K[0],Ei=li.w;for(Ra[0]=li.K[0][0],fi=1;fi<1*Hi;++fi)Ra[fi]=Lr(Vi[Ei+fi],Ra[fi-1]);for(;fi<4*en;++fi)Ra[fi]=0;li.K[0]=null,li.K[0]=Ra,ei=1}}Cr=ei;break;case 2:break;default:e(0)}Ys=Cr}}if(Xs=Xs[0],er=er[0],Ys&&js(sr,1)&&!(Ys=1<=(_r=js(sr,4))&&11>=_r)){Os.a=3;break e}var ui;if(ui=Ys)t:{var ha,Ii,sn,Xi=Os,rn=Xs,ao=er,In=_r,Za=As,Eo=Xi.m,Dn=Xi.s,nn=[null],yn=1,sa=0,En=wr[In];s:for(;;){if(Za&&js(Eo,1)){var oo=js(Eo,3)+2,Ac=tr(rn,oo),ya=tr(ao,oo),tl=Ac*ya;if(!Po(Ac,ya,0,Xi,nn))break s;for(nn=nn[0],Dn.xc=oo,ha=0;ha<tl;++ha){var An=nn[ha]>>8&65535;nn[ha]=An,An>=yn&&(yn=An+1)}}if(Eo.h)break s;for(Ii=0;5>Ii;++Ii){var Sa=Es[Ii];!Ii&&0<In&&(Sa+=1<<In),sa<Sa&&(sa=Sa)}var Dl=Me(yn*En,Ts),sl=yn,Ll=Me(sl,Ms);if(Ll==null)var Ml=null;else e(65536>=sl),Ml=Ll;var rl=De(sa);if(Ml==null||rl==null||Dl==null){Xi.a=1;break s}var il=Dl;for(ha=sn=0;ha<yn;++ha){var Ln=Ml[ha],Fl=Ln.G,Cc=Ln.H,Qd=0,qu=1,wo=0;for(Ii=0;5>Ii;++Ii){Sa=Es[Ii],Fl[Ii]=il,Cc[Ii]=sn,!Ii&&0<In&&(Sa+=1<<In);i:{var bf,eh=Sa,jf=Xi,th=rl,ng=il,Ov=sn,Ef=0,bd=jf.m,Iv=js(bd,1);if(Te(th,0,0,eh),Iv){var Bv=js(bd,1)+1,zv=js(bd,1),ag=js(bd,zv==0?1:8);th[ag]=1,Bv==2&&(th[ag=js(bd,8)]=1);var wf=1}else{var cy=De(19),og=js(bd,4)+4;if(19<og){jf.a=3;var Rf=0;break i}for(bf=0;bf<og;++bf)cy[Zs[bf]]=js(bd,3);var lg=void 0,_f=void 0,cg=jf,$v=cy,Sf=eh,ug=th,dg=0,jd=cg.m,Vv=8,Uv=Me(128,Ts);r:for(;gs(Uv,0,7,$v,19);){if(js(jd,1)){var Hv=2+2*js(jd,3);if((lg=2+js(jd,Hv))>Sf)break r}else lg=Sf;for(_f=0;_f<Sf&&lg--;){Ps(jd);var Kp=Uv[0+(127&ks(jd))];Cs(jd,jd.u+Kp.g);var sh=Kp.value;if(16>sh)ug[_f++]=sh,sh!=0&&(Vv=sh);else{var hg=sh==16,uy=sh-16,qv=ls[uy],su=js(jd,St[uy])+qv;if(_f+su>Sf)break r;for(var Hh=hg?Vv:0;0<su--;)ug[_f++]=Hh}}dg=1;break r}dg||(cg.a=3),wf=dg}(wf=wf&&!bd.h)&&(Ef=gs(ng,Ov,8,th,eh)),wf&&Ef!=0?Rf=Ef:(jf.a=3,Rf=0)}if(Rf==0)break s;if(qu&&Fs[Ii]==1&&(qu=il[sn].g==0),Qd+=il[sn].g,sn+=Rf,3>=Ii){var Pc,Ed=rl[0];for(Pc=1;Pc<Sa;++Pc)rl[Pc]>Ed&&(Ed=rl[Pc]);wo+=Ed}}if(Ln.nd=qu,Ln.Qb=0,qu&&(Ln.qb=(Fl[3][Cc[3]+0].value<<24|Fl[1][Cc[1]+0].value<<16|Fl[2][Cc[2]+0].value)>>>0,Qd==0&&256>Fl[0][Cc[0]+0].value&&(Ln.Qb=1,Ln.qb+=Fl[0][Cc[0]+0].value<<8)),Ln.jc=!Ln.Qb&&6>wo,Ln.jc){var Yp,ru=Ln;for(Yp=0;Yp<_l;++Yp){var wd=Yp,Rd=ru.pd[wd],Gu=ru.G[0][ru.H[0]+wd];256<=Gu.value?(Rd.g=Gu.g+256,Rd.value=Gu.value):(Rd.g=0,Rd.value=0,wd>>=ci(Gu,8,Rd),wd>>=ci(ru.G[1][ru.H[1]+wd],16,Rd),wd>>=ci(ru.G[2][ru.H[2]+wd],0,Rd),ci(ru.G[3][ru.H[3]+wd],24,Rd))}}}Dn.vc=nn,Dn.Wb=yn,Dn.Ya=Ml,Dn.yc=Dl,ui=1;break t}ui=0}if(!(Ys=ui)){Os.a=3;break e}if(0<_r){if(nr.ua=1<<_r,!Ws(nr.Wa,_r)){Os.a=1,Ys=0;break e}}else nr.ua=0;var Xp=Os,dy=Xs,Gv=er,pg=Xp.s,Jp=pg.xc;if(Xp.c=dy,Xp.i=Gv,pg.md=tr(dy,Jp),pg.wc=Jp==0?-1:(1<<Jp)-1,As){Os.xb=tg;break e}if((fr=De(Xs*er))==null){Os.a=1,Ys=0;break e}Ys=(Ys=eo(Os,fr,0,Xs,er,er,null))&&!sr.h;break e}return Ys?(Gs!=null?Gs[0]=fr:(e(fr==null),e(As)),Os.$=0,As||Ko(nr)):Ko(nr),Ys}function Bc(as,us){var As=as.c*as.i,Os=As+us+16*us;return e(as.c<=us),as.V=De(Os),as.V==null?(as.Ta=null,as.Ua=0,as.a=1,0):(as.Ta=as.V,as.Ua=as.Ba+As+us,1)}function xl(as,us){var As=as.C,Os=us-As,Gs=as.V,Ys=as.Ba+as.c*As;for(e(us<=as.l.o);0<Os;){var Xs=16<Os?16:Os,er=as.l.ma,sr=as.l.width,nr=sr*Xs,fr=er.ca,_r=er.tb+sr*As,ar=as.Ta,xr=as.Ua;Pa(as,Xs,Gs,Ys),Gp(ar,xr,fr,_r,nr),Va(er,As,As+Xs,fr,_r,sr),Os-=Xs,Gs+=Xs*as.c,As+=Xs}e(As==us),as.C=as.Ma=us}function gl(){this.ub=this.yd=this.td=this.Rb=0}function pc(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ql(){this.Fb=this.Bb=this.Cb=0,this.Zb=De(4),this.Lb=De(4)}function Jn(){this.Yb=function(){var as=[];return function us(As,Os,Gs){for(var Ys=Gs[Os],Xs=0;Xs<Ys&&(As.push(Gs.length>Os+1?[]:0),!(Gs.length<Os+1));Xs++)us(As[Xs],Os+1,Gs)}(as,0,[3,11]),as}()}function Th(){this.jb=De(3),this.Wc=Oe([4,8],Jn),this.Xc=Oe([4,17],Jn)}function kh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new De(4),this.od=new De(4)}function Ta(){this.ld=this.La=this.dd=this.tc=0}function mc(){this.Na=this.la=0}function To(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function zc(){this.ad=De(384),this.Za=0,this.Ob=De(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ud(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ta),this.Y=0,this.ya=Array(new zc),this.aa=0,this.l=new hn}function Hd(){this.y=De(16),this.f=De(8),this.ea=De(8)}function Cu(){this.cb=this.a=0,this.sc="",this.m=new ms,this.Od=new gl,this.Kc=new pc,this.ed=new kh,this.Qa=new ql,this.Ic=this.$c=this.Aa=0,this.D=new Ud,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=Me(8,ms),this.ia=0,this.pb=Me(4,To),this.Pa=new Th,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Hd),this.Hd=0,this.rb=Array(new mc),this.sb=0,this.wa=Array(new Ta),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new zc),this.L=this.aa=0,this.gd=Oe([4,2],Ta),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Fi(as,us){return 0>as?0:as>us?us:as}function hn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ko(){var as=new Cu;return as!=null&&(as.a=0,as.sc="OK",as.cb=0,as.Xb=0,Ai||(Ai=ki)),as}function Ki(as,us,As){return as.a==0&&(as.a=us,as.sc=As,as.cb=0),0}function fc(as,us,As){return 3<=As&&as[us+0]==157&&as[us+1]==1&&as[us+2]==42}function yl(as,us){if(as==null)return 0;if(as.a=0,as.sc="OK",us==null)return Ki(as,2,"null VP8Io passed to VP8GetHeaders()");var As=us.data,Os=us.w,Gs=us.ha;if(4>Gs)return Ki(as,7,"Truncated header.");var Ys=As[Os+0]|As[Os+1]<<8|As[Os+2]<<16,Xs=as.Od;if(Xs.Rb=!(1&Ys),Xs.td=Ys>>1&7,Xs.yd=Ys>>4&1,Xs.ub=Ys>>5,3<Xs.td)return Ki(as,3,"Incorrect keyframe parameters.");if(!Xs.yd)return Ki(as,4,"Frame not displayable.");Os+=3,Gs-=3;var er=as.Kc;if(Xs.Rb){if(7>Gs)return Ki(as,7,"cannot parse picture header");if(!fc(As,Os,Gs))return Ki(as,3,"Bad code word");er.c=16383&(As[Os+4]<<8|As[Os+3]),er.Td=As[Os+4]>>6,er.i=16383&(As[Os+6]<<8|As[Os+5]),er.Ud=As[Os+6]>>6,Os+=7,Gs-=7,as.za=er.c+15>>4,as.Ub=er.i+15>>4,us.width=er.c,us.height=er.i,us.Da=0,us.j=0,us.v=0,us.va=us.width,us.o=us.height,us.da=0,us.ib=us.width,us.hb=us.height,us.U=us.width,us.T=us.height,Te((Ys=as.Pa).jb,0,255,Ys.jb.length),e((Ys=as.Qa)!=null),Ys.Cb=0,Ys.Bb=0,Ys.Fb=1,Te(Ys.Zb,0,0,Ys.Zb.length),Te(Ys.Lb,0,0,Ys.Lb)}if(Xs.ub>Gs)return Ki(as,7,"bad partition length");bs(Ys=as.m,As,Os,Xs.ub),Os+=Xs.ub,Gs-=Xs.ub,Xs.Rb&&(er.Ld=Is(Ys),er.Kd=Is(Ys)),er=as.Qa;var sr,nr=as.Pa;if(e(Ys!=null),e(er!=null),er.Cb=Is(Ys),er.Cb){if(er.Bb=Is(Ys),Is(Ys)){for(er.Fb=Is(Ys),sr=0;4>sr;++sr)er.Zb[sr]=Is(Ys)?ps(Ys,7):0;for(sr=0;4>sr;++sr)er.Lb[sr]=Is(Ys)?ps(Ys,6):0}if(er.Bb)for(sr=0;3>sr;++sr)nr.jb[sr]=Is(Ys)?Ns(Ys,8):255}else er.Bb=0;if(Ys.Ka)return Ki(as,3,"cannot parse segment header");if((er=as.ed).zd=Is(Ys),er.Tb=Ns(Ys,6),er.wb=Ns(Ys,3),er.Pc=Is(Ys),er.Pc&&Is(Ys)){for(nr=0;4>nr;++nr)Is(Ys)&&(er.vd[nr]=ps(Ys,6));for(nr=0;4>nr;++nr)Is(Ys)&&(er.od[nr]=ps(Ys,6))}if(as.L=er.Tb==0?0:er.zd?1:2,Ys.Ka)return Ki(as,3,"cannot parse filter header");var fr=Gs;if(Gs=sr=Os,Os=sr+fr,er=fr,as.Xb=(1<<Ns(as.m,2))-1,fr<3*(nr=as.Xb))As=7;else{for(sr+=3*nr,er-=3*nr,fr=0;fr<nr;++fr){var _r=As[Gs+0]|As[Gs+1]<<8|As[Gs+2]<<16;_r>er&&(_r=er),bs(as.Jc[+fr],As,sr,_r),sr+=_r,er-=_r,Gs+=3}bs(as.Jc[+nr],As,sr,er),As=sr<Os?0:5}if(As!=0)return Ki(as,As,"cannot parse partitions");for(As=Ns(sr=as.m,7),Gs=Is(sr)?ps(sr,4):0,Os=Is(sr)?ps(sr,4):0,er=Is(sr)?ps(sr,4):0,nr=Is(sr)?ps(sr,4):0,sr=Is(sr)?ps(sr,4):0,fr=as.Qa,_r=0;4>_r;++_r){if(fr.Cb){var ar=fr.Zb[_r];fr.Fb||(ar+=As)}else{if(0<_r){as.pb[_r]=as.pb[0];continue}ar=As}var xr=as.pb[_r];xr.Sc[0]=Zr[Fi(ar+Gs,127)],xr.Sc[1]=hi[Fi(ar+0,127)],xr.Eb[0]=2*Zr[Fi(ar+Os,127)],xr.Eb[1]=101581*hi[Fi(ar+er,127)]>>16,8>xr.Eb[1]&&(xr.Eb[1]=8),xr.Qc[0]=Zr[Fi(ar+nr,117)],xr.Qc[1]=hi[Fi(ar+sr,127)],xr.lc=ar+sr}if(!Xs.Rb)return Ki(as,4,"Not a key frame.");for(Is(Ys),Xs=as.Pa,As=0;4>As;++As){for(Gs=0;8>Gs;++Gs)for(Os=0;3>Os;++Os)for(er=0;11>er;++er)nr=Vs(Ys,Uu[As][Gs][Os][er])?Ns(Ys,8):no[As][Gs][Os][er],Xs.Wc[As][Gs].Yb[Os][er]=nr;for(Gs=0;17>Gs;++Gs)Xs.Xc[As][Gs]=Xs.Wc[As][eg[Gs]]}return as.kc=Is(Ys),as.kc&&(as.Bd=Ns(Ys,8)),as.cb=1}function ki(as,us,As,Os,Gs,Ys,Xs){var er=us[Gs].Yb[As];for(As=0;16>Gs;++Gs){if(!Vs(as,er[As+0]))return Gs;for(;!Vs(as,er[As+1]);)if(er=us[++Gs].Yb[0],As=0,Gs==16)return 16;var sr=us[Gs+1].Yb;if(Vs(as,er[As+2])){var nr=as,fr=0;if(Vs(nr,(ar=er)[(_r=As)+3]))if(Vs(nr,ar[_r+6])){for(er=0,_r=2*(fr=Vs(nr,ar[_r+8]))+(ar=Vs(nr,ar[_r+9+fr])),fr=0,ar=Bi[_r];ar[er];++er)fr+=fr+Vs(nr,ar[er]);fr+=3+(8<<_r)}else Vs(nr,ar[_r+7])?(fr=7+2*Vs(nr,165),fr+=Vs(nr,145)):fr=5+Vs(nr,159);else fr=Vs(nr,ar[_r+4])?3+Vs(nr,ar[_r+5]):2;er=sr[2]}else fr=1,er=sr[1];sr=Xs+wa[Gs],0>(nr=as).b&&Us(nr);var _r,ar=nr.b,xr=(_r=nr.Ca>>1)-(nr.I>>ar)>>31;--nr.b,nr.Ca+=xr,nr.Ca|=1,nr.I-=(_r+1&xr)<<ar,Ys[sr]=((fr^xr)-xr)*Os[(0<Gs)+0]}return 16}function Tn(as){var us=as.rb[as.sb-1];us.la=0,us.Na=0,Te(as.zc,0,0,as.zc.length),as.ja=0}function Ua(as,us,As,Os,Gs){Gs=as[us+As+32*Os]+(Gs>>3),as[us+As+32*Os]=-256&Gs?0>Gs?0:255:Gs}function Qn(as,us,As,Os,Gs,Ys){Ua(as,us,0,As,Os+Gs),Ua(as,us,1,As,Os+Ys),Ua(as,us,2,As,Os-Ys),Ua(as,us,3,As,Os-Gs)}function pn(as){return(20091*as>>16)+as}function qd(as,us,As,Os){var Gs,Ys=0,Xs=De(16);for(Gs=0;4>Gs;++Gs){var er=as[us+0]+as[us+8],sr=as[us+0]-as[us+8],nr=(35468*as[us+4]>>16)-pn(as[us+12]),fr=pn(as[us+4])+(35468*as[us+12]>>16);Xs[Ys+0]=er+fr,Xs[Ys+1]=sr+nr,Xs[Ys+2]=sr-nr,Xs[Ys+3]=er-fr,Ys+=4,us++}for(Gs=Ys=0;4>Gs;++Gs)er=(as=Xs[Ys+0]+4)+Xs[Ys+8],sr=as-Xs[Ys+8],nr=(35468*Xs[Ys+4]>>16)-pn(Xs[Ys+12]),Ua(As,Os,0,0,er+(fr=pn(Xs[Ys+4])+(35468*Xs[Ys+12]>>16))),Ua(As,Os,1,0,sr+nr),Ua(As,Os,2,0,sr-nr),Ua(As,Os,3,0,er-fr),Ys++,Os+=32}function pd(as,us,As,Os){var Gs=as[us+0]+4,Ys=35468*as[us+4]>>16,Xs=pn(as[us+4]),er=35468*as[us+1]>>16;Qn(As,Os,0,Gs+Xs,as=pn(as[us+1]),er),Qn(As,Os,1,Gs+Ys,as,er),Qn(As,Os,2,Gs-Ys,as,er),Qn(As,Os,3,Gs-Xs,as,er)}function Gl(as,us,As,Os,Gs){qd(as,us,As,Os),Gs&&qd(as,us+16,As,Os+4)}function tn(as,us,As,Os){Cl(as,us+0,As,Os,1),Cl(as,us+32,As,Os+128,1)}function Wl(as,us,As,Os){var Gs;for(as=as[us+0]+4,Gs=0;4>Gs;++Gs)for(us=0;4>us;++us)Ua(As,Os,us,Gs,as)}function $c(as,us,As,Os){as[us+0]&&Yi(as,us+0,As,Os),as[us+16]&&Yi(as,us+16,As,Os+4),as[us+32]&&Yi(as,us+32,As,Os+128),as[us+48]&&Yi(as,us+48,As,Os+128+4)}function ho(as,us,As,Os){var Gs,Ys=De(16);for(Gs=0;4>Gs;++Gs){var Xs=as[us+0+Gs]+as[us+12+Gs],er=as[us+4+Gs]+as[us+8+Gs],sr=as[us+4+Gs]-as[us+8+Gs],nr=as[us+0+Gs]-as[us+12+Gs];Ys[0+Gs]=Xs+er,Ys[8+Gs]=Xs-er,Ys[4+Gs]=nr+sr,Ys[12+Gs]=nr-sr}for(Gs=0;4>Gs;++Gs)Xs=(as=Ys[0+4*Gs]+3)+Ys[3+4*Gs],er=Ys[1+4*Gs]+Ys[2+4*Gs],sr=Ys[1+4*Gs]-Ys[2+4*Gs],nr=as-Ys[3+4*Gs],As[Os+0]=Xs+er>>3,As[Os+16]=nr+sr>>3,As[Os+32]=Xs-er>>3,As[Os+48]=nr-sr>>3,Os+=64}function Vc(as,us,As){var Os,Gs=us-32,Ys=vo,Xs=255-as[Gs-1];for(Os=0;Os<As;++Os){var er,sr=Ys,nr=Xs+as[us-1];for(er=0;er<As;++er)as[us+er]=sr[nr+as[Gs+er]];us+=32}}function Pu(as,us){Vc(as,us,4)}function Gd(as,us){Vc(as,us,8)}function md(as,us){Vc(as,us,16)}function Tu(as,us){var As;for(As=0;16>As;++As)Ce(as,us+32*As,as,us-32,16)}function Wd(as,us){var As;for(As=16;0<As;--As)Te(as,us,as[us-1],16),us+=32}function to(as,us,As){var Os;for(Os=0;16>Os;++Os)Te(us,As+32*Os,as,16)}function ku(as,us){var As,Os=16;for(As=0;16>As;++As)Os+=as[us-1+32*As]+as[us+As-32];to(Os>>5,as,us)}function xc(as,us){var As,Os=8;for(As=0;16>As;++As)Os+=as[us-1+32*As];to(Os>>4,as,us)}function vl(as,us){var As,Os=8;for(As=0;16>As;++As)Os+=as[us+As-32];to(Os>>4,as,us)}function Du(as,us){to(128,as,us)}function ni(as,us,As){return as+2*us+As+2>>2}function Do(as,us){var As,Os=us-32;for(Os=new Uint8Array([ni(as[Os-1],as[Os+0],as[Os+1]),ni(as[Os+0],as[Os+1],as[Os+2]),ni(as[Os+1],as[Os+2],as[Os+3]),ni(as[Os+2],as[Os+3],as[Os+4])]),As=0;4>As;++As)Ce(as,us+32*As,Os,0,Os.length)}function gn(as,us){var As=as[us-1],Os=as[us-1+32],Gs=as[us-1+64],Ys=as[us-1+96];Ks(as,us+0,16843009*ni(as[us-1-32],As,Os)),Ks(as,us+32,16843009*ni(As,Os,Gs)),Ks(as,us+64,16843009*ni(Os,Gs,Ys)),Ks(as,us+96,16843009*ni(Gs,Ys,Ys))}function Lu(as,us){var As,Os=4;for(As=0;4>As;++As)Os+=as[us+As-32]+as[us-1+32*As];for(Os>>=3,As=0;4>As;++As)Te(as,us+32*As,Os,4)}function Yo(as,us){var As=as[us-1+0],Os=as[us-1+32],Gs=as[us-1+64],Ys=as[us-1-32],Xs=as[us+0-32],er=as[us+1-32],sr=as[us+2-32],nr=as[us+3-32];as[us+0+96]=ni(Os,Gs,as[us-1+96]),as[us+1+96]=as[us+0+64]=ni(As,Os,Gs),as[us+2+96]=as[us+1+64]=as[us+0+32]=ni(Ys,As,Os),as[us+3+96]=as[us+2+64]=as[us+1+32]=as[us+0+0]=ni(Xs,Ys,As),as[us+3+64]=as[us+2+32]=as[us+1+0]=ni(er,Xs,Ys),as[us+3+32]=as[us+2+0]=ni(sr,er,Xs),as[us+3+0]=ni(nr,sr,er)}function po(as,us){var As=as[us+1-32],Os=as[us+2-32],Gs=as[us+3-32],Ys=as[us+4-32],Xs=as[us+5-32],er=as[us+6-32],sr=as[us+7-32];as[us+0+0]=ni(as[us+0-32],As,Os),as[us+1+0]=as[us+0+32]=ni(As,Os,Gs),as[us+2+0]=as[us+1+32]=as[us+0+64]=ni(Os,Gs,Ys),as[us+3+0]=as[us+2+32]=as[us+1+64]=as[us+0+96]=ni(Gs,Ys,Xs),as[us+3+32]=as[us+2+64]=as[us+1+96]=ni(Ys,Xs,er),as[us+3+64]=as[us+2+96]=ni(Xs,er,sr),as[us+3+96]=ni(er,sr,sr)}function bl(as,us){var As=as[us-1+0],Os=as[us-1+32],Gs=as[us-1+64],Ys=as[us-1-32],Xs=as[us+0-32],er=as[us+1-32],sr=as[us+2-32],nr=as[us+3-32];as[us+0+0]=as[us+1+64]=Ys+Xs+1>>1,as[us+1+0]=as[us+2+64]=Xs+er+1>>1,as[us+2+0]=as[us+3+64]=er+sr+1>>1,as[us+3+0]=sr+nr+1>>1,as[us+0+96]=ni(Gs,Os,As),as[us+0+64]=ni(Os,As,Ys),as[us+0+32]=as[us+1+96]=ni(As,Ys,Xs),as[us+1+32]=as[us+2+96]=ni(Ys,Xs,er),as[us+2+32]=as[us+3+96]=ni(Xs,er,sr),as[us+3+32]=ni(er,sr,nr)}function Zl(as,us){var As=as[us+0-32],Os=as[us+1-32],Gs=as[us+2-32],Ys=as[us+3-32],Xs=as[us+4-32],er=as[us+5-32],sr=as[us+6-32],nr=as[us+7-32];as[us+0+0]=As+Os+1>>1,as[us+1+0]=as[us+0+64]=Os+Gs+1>>1,as[us+2+0]=as[us+1+64]=Gs+Ys+1>>1,as[us+3+0]=as[us+2+64]=Ys+Xs+1>>1,as[us+0+32]=ni(As,Os,Gs),as[us+1+32]=as[us+0+96]=ni(Os,Gs,Ys),as[us+2+32]=as[us+1+96]=ni(Gs,Ys,Xs),as[us+3+32]=as[us+2+96]=ni(Ys,Xs,er),as[us+3+64]=ni(Xs,er,sr),as[us+3+96]=ni(er,sr,nr)}function Kl(as,us){var As=as[us-1+0],Os=as[us-1+32],Gs=as[us-1+64],Ys=as[us-1+96];as[us+0+0]=As+Os+1>>1,as[us+2+0]=as[us+0+32]=Os+Gs+1>>1,as[us+2+32]=as[us+0+64]=Gs+Ys+1>>1,as[us+1+0]=ni(As,Os,Gs),as[us+3+0]=as[us+1+32]=ni(Os,Gs,Ys),as[us+3+32]=as[us+1+64]=ni(Gs,Ys,Ys),as[us+3+64]=as[us+2+64]=as[us+0+96]=as[us+1+96]=as[us+2+96]=as[us+3+96]=Ys}function gc(as,us){var As=as[us-1+0],Os=as[us-1+32],Gs=as[us-1+64],Ys=as[us-1+96],Xs=as[us-1-32],er=as[us+0-32],sr=as[us+1-32],nr=as[us+2-32];as[us+0+0]=as[us+2+32]=As+Xs+1>>1,as[us+0+32]=as[us+2+64]=Os+As+1>>1,as[us+0+64]=as[us+2+96]=Gs+Os+1>>1,as[us+0+96]=Ys+Gs+1>>1,as[us+3+0]=ni(er,sr,nr),as[us+2+0]=ni(Xs,er,sr),as[us+1+0]=as[us+3+32]=ni(As,Xs,er),as[us+1+32]=as[us+3+64]=ni(Os,As,Xs),as[us+1+64]=as[us+3+96]=ni(Gs,Os,As),as[us+1+96]=ni(Ys,Gs,Os)}function Nn(as,us){var As;for(As=0;8>As;++As)Ce(as,us+32*As,as,us-32,8)}function jl(as,us){var As;for(As=0;8>As;++As)Te(as,us,as[us-1],8),us+=32}function Yl(as,us,As){var Os;for(Os=0;8>Os;++Os)Te(us,As+32*Os,as,8)}function Ha(as,us){var As,Os=8;for(As=0;8>As;++As)Os+=as[us+As-32]+as[us-1+32*As];Yl(Os>>4,as,us)}function Xl(as,us){var As,Os=4;for(As=0;8>As;++As)Os+=as[us+As-32];Yl(Os>>3,as,us)}function Uc(as,us){var As,Os=4;for(As=0;8>As;++As)Os+=as[us-1+32*As];Yl(Os>>3,as,us)}function yc(as,us){Yl(128,as,us)}function Hc(as,us,As){var Os=as[us-As],Gs=as[us+0],Ys=3*(Gs-Os)+Jc[1020+as[us-2*As]-as[us+As]],Xs=el[112+(Ys+4>>3)];as[us-As]=vo[255+Os+el[112+(Ys+3>>3)]],as[us+0]=vo[255+Gs-Xs]}function Mu(as,us,As,Os){var Gs=as[us+0],Ys=as[us+As];return On[255+as[us-2*As]-as[us-As]]>Os||On[255+Ys-Gs]>Os}function zi(as,us,As,Os){return 4*On[255+as[us-As]-as[us+0]]+On[255+as[us-2*As]-as[us+As]]<=Os}function qc(as,us,As,Os,Gs){var Ys=as[us-3*As],Xs=as[us-2*As],er=as[us-As],sr=as[us+0],nr=as[us+As],fr=as[us+2*As],_r=as[us+3*As];return 4*On[255+er-sr]+On[255+Xs-nr]>Os?0:On[255+as[us-4*As]-Ys]<=Gs&&On[255+Ys-Xs]<=Gs&&On[255+Xs-er]<=Gs&&On[255+_r-fr]<=Gs&&On[255+fr-nr]<=Gs&&On[255+nr-sr]<=Gs}function ma(as,us,As,Os){var Gs=2*Os+1;for(Os=0;16>Os;++Os)zi(as,us+Os,As,Gs)&&Hc(as,us+Os,As)}function vc(as,us,As,Os){var Gs=2*Os+1;for(Os=0;16>Os;++Os)zi(as,us+Os*As,1,Gs)&&Hc(as,us+Os*As,1)}function Dh(as,us,As,Os){var Gs;for(Gs=3;0<Gs;--Gs)ma(as,us+=4*As,As,Os)}function Hp(as,us,As,Os){var Gs;for(Gs=3;0<Gs;--Gs)vc(as,us+=4,As,Os)}function Jl(as,us,As,Os,Gs,Ys,Xs,er){for(Ys=2*Ys+1;0<Gs--;){if(qc(as,us,As,Ys,Xs))if(Mu(as,us,As,er))Hc(as,us,As);else{var sr=as,nr=us,fr=As,_r=sr[nr-2*fr],ar=sr[nr-fr],xr=sr[nr+0],mr=sr[nr+fr],Cr=sr[nr+2*fr],jr=27*($r=Jc[1020+3*(xr-ar)+Jc[1020+_r-mr]])+63>>7,Br=18*$r+63>>7,$r=9*$r+63>>7;sr[nr-3*fr]=vo[255+sr[nr-3*fr]+$r],sr[nr-2*fr]=vo[255+_r+Br],sr[nr-fr]=vo[255+ar+jr],sr[nr+0]=vo[255+xr-jr],sr[nr+fr]=vo[255+mr-Br],sr[nr+2*fr]=vo[255+Cr-$r]}us+=Os}}function Ql(as,us,As,Os,Gs,Ys,Xs,er){for(Ys=2*Ys+1;0<Gs--;){if(qc(as,us,As,Ys,Xs))if(Mu(as,us,As,er))Hc(as,us,As);else{var sr=as,nr=us,fr=As,_r=sr[nr-fr],ar=sr[nr+0],xr=sr[nr+fr],mr=el[112+(4+(Cr=3*(ar-_r))>>3)],Cr=el[112+(Cr+3>>3)],jr=mr+1>>1;sr[nr-2*fr]=vo[255+sr[nr-2*fr]+jr],sr[nr-fr]=vo[255+_r+Cr],sr[nr+0]=vo[255+ar-mr],sr[nr+fr]=vo[255+xr-jr]}us+=Os}}function Lh(as,us,As,Os,Gs,Ys){Jl(as,us,As,1,16,Os,Gs,Ys)}function fd(as,us,As,Os,Gs,Ys){Jl(as,us,1,As,16,Os,Gs,Ys)}function qp(as,us,As,Os,Gs,Ys){var Xs;for(Xs=3;0<Xs;--Xs)Ql(as,us+=4*As,As,1,16,Os,Gs,Ys)}function Rs(as,us,As,Os,Gs,Ys){var Xs;for(Xs=3;0<Xs;--Xs)Ql(as,us+=4,1,As,16,Os,Gs,Ys)}function qs(as,us,As,Os,Gs,Ys,Xs,er){Jl(as,us,Gs,1,8,Ys,Xs,er),Jl(As,Os,Gs,1,8,Ys,Xs,er)}function ir(as,us,As,Os,Gs,Ys,Xs,er){Jl(as,us,1,Gs,8,Ys,Xs,er),Jl(As,Os,1,Gs,8,Ys,Xs,er)}function pr(as,us,As,Os,Gs,Ys,Xs,er){Ql(as,us+4*Gs,Gs,1,8,Ys,Xs,er),Ql(As,Os+4*Gs,Gs,1,8,Ys,Xs,er)}function br(as,us,As,Os,Gs,Ys,Xs,er){Ql(as,us+4,1,Gs,8,Ys,Xs,er),Ql(As,Os+4,1,Gs,8,Ys,Xs,er)}function Fr(){this.ba=new ai,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new yi,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Xr(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function xi(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function vi(){this.ua=0,this.Wa=new zr,this.vb=new zr,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Ms,this.yc=new Ts}function Li(){this.xb=this.a=0,this.l=new hn,this.ca=new ai,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ys,this.Pb=0,this.wd=new ys,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new vi,this.ab=0,this.gc=Me(4,xi),this.Oc=0}function Oi(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new hn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Qi(as,us,As,Os,Gs,Ys,Xs){for(as=as==null?0:as[us+0],us=0;us<Xs;++us)Gs[Ys+us]=as+As[Os+us]&255,as=Gs[Ys+us]}function qn(as,us,As,Os,Gs,Ys,Xs){var er;if(as==null)Qi(null,null,As,Os,Gs,Ys,Xs);else for(er=0;er<Xs;++er)Gs[Ys+er]=as[us+er]+As[Os+er]&255}function fa(as,us,As,Os,Gs,Ys,Xs){if(as==null)Qi(null,null,As,Os,Gs,Ys,Xs);else{var er,sr=as[us+0],nr=sr,fr=sr;for(er=0;er<Xs;++er)nr=fr+(sr=as[us+er])-nr,fr=As[Os+er]+(-256&nr?0>nr?0:255:nr)&255,nr=sr,Gs[Ys+er]=fr}}function jn(as,us,As,Os){var Gs=us.width,Ys=us.o;if(e(as!=null&&us!=null),0>As||0>=Os||As+Os>Ys)return null;if(!as.Cc){if(as.ga==null){var Xs;if(as.ga=new Oi,(Xs=as.ga==null)||(Xs=us.width*us.o,e(as.Gb.length==0),as.Gb=De(Xs),as.Uc=0,as.Gb==null?Xs=0:(as.mb=as.Gb,as.nb=as.Uc,as.rc=null,Xs=1),Xs=!Xs),!Xs){Xs=as.ga;var er=as.Fa,sr=as.P,nr=as.qc,fr=as.mb,_r=as.nb,ar=sr+1,xr=nr-1,mr=Xs.l;if(e(er!=null&&fr!=null&&us!=null),mn[0]=null,mn[1]=Qi,mn[2]=qn,mn[3]=fa,Xs.ca=fr,Xs.tb=_r,Xs.c=us.width,Xs.i=us.height,e(0<Xs.c&&0<Xs.i),1>=nr)us=0;else if(Xs.$a=3&er[sr+0],Xs.Z=er[sr+0]>>2&3,Xs.Lc=er[sr+0]>>4&3,sr=er[sr+0]>>6&3,0>Xs.$a||1<Xs.$a||4<=Xs.Z||1<Xs.Lc||sr)us=0;else if(mr.put=pi,mr.ac=Si,mr.bc=Xa,mr.ma=Xs,mr.width=us.width,mr.height=us.height,mr.Da=us.Da,mr.v=us.v,mr.va=us.va,mr.j=us.j,mr.o=us.o,Xs.$a)e:{e(Xs.$a==1),us=Au();t:for(;;){if(us==null){us=0;break e}if(e(Xs!=null),Xs.mc=us,us.c=Xs.c,us.i=Xs.i,us.l=Xs.l,us.l.ma=Xs,us.l.width=Xs.c,us.l.height=Xs.i,us.a=0,_s(us.m,er,ar,xr),!Po(Xs.c,Xs.i,1,us,null)||(us.ab==1&&us.gc[0].hc==3&&Pn(us.s)?(Xs.ic=1,er=us.c*us.i,us.Ta=null,us.Ua=0,us.V=De(er),us.Ba=0,us.V==null?(us.a=1,us=0):us=1):(Xs.ic=0,us=Bc(us,Xs.c)),!us))break t;us=1;break e}Xs.mc=null,us=0}else us=xr>=Xs.c*Xs.i;Xs=!us}if(Xs)return null;as.ga.Lc!=1?as.Ga=0:Os=Ys-As}e(as.ga!=null),e(As+Os<=Ys);e:{if(us=(er=as.ga).c,Ys=er.l.o,er.$a==0){if(ar=as.rc,xr=as.Vc,mr=as.Fa,sr=as.P+1+As*us,nr=as.mb,fr=as.nb+As*us,e(sr<=as.P+as.qc),er.Z!=0)for(e(mn[er.Z]!=null),Xs=0;Xs<Os;++Xs)mn[er.Z](ar,xr,mr,sr,nr,fr,us),ar=nr,xr=fr,fr+=us,sr+=us;else for(Xs=0;Xs<Os;++Xs)Ce(nr,fr,mr,sr,us),ar=nr,xr=fr,fr+=us,sr+=us;as.rc=ar,as.Vc=xr}else{if(e(er.mc!=null),us=As+Os,e((Xs=er.mc)!=null),e(us<=Xs.i),Xs.C>=us)us=1;else if(er.ic||qa(),er.ic){er=Xs.V,ar=Xs.Ba,xr=Xs.c;var Cr=Xs.i,jr=(mr=1,sr=Xs.$/xr,nr=Xs.$%xr,fr=Xs.m,_r=Xs.s,Xs.$),Br=xr*Cr,$r=xr*us,ei=_r.wc,Jr=jr<$r?aa(_r,nr,sr):null;e(jr<=Br),e(us<=Cr),e(Pn(_r));t:for(;;){for(;!fr.h&&jr<$r;){if(nr&ei||(Jr=aa(_r,nr,sr)),e(Jr!=null),Ps(fr),256>(Cr=Ji(Jr.G[0],Jr.H[0],fr)))er[ar+jr]=Cr,++jr,++nr>=xr&&(nr=0,++sr<=us&&!(sr%16)&&Co(Xs,sr));else{if(!(280>Cr)){mr=0;break t}Cr=Ja(Cr-256,fr);var ji,fi=Ji(Jr.G[4],Jr.H[4],fr);if(Ps(fr),!(jr>=(fi=Qa(xr,fi=Ja(fi,fr)))&&Br-jr>=Cr)){mr=0;break t}for(ji=0;ji<Cr;++ji)er[ar+jr+ji]=er[ar+jr+ji-fi];for(jr+=Cr,nr+=Cr;nr>=xr;)nr-=xr,++sr<=us&&!(sr%16)&&Co(Xs,sr);jr<$r&&nr&ei&&(Jr=aa(_r,nr,sr))}e(fr.h==zs(fr))}Co(Xs,sr>us?us:sr);break t}!mr||fr.h&&jr<Br?(mr=0,Xs.a=fr.h?5:3):Xs.$=jr,us=mr}else us=eo(Xs,Xs.V,Xs.Ba,Xs.c,Xs.i,us,xl);if(!us){Os=0;break e}}As+Os>=Ys&&(as.Cc=1),Os=1}if(!Os)return null;if(as.Cc&&((Os=as.ga)!=null&&(Os.mc=null),as.ga=null,0<as.Ga))return alert("todo:WebPDequantizeLevels"),null}return as.nb+As*Gs}function Ea(as,us,As,Os,Gs,Ys){for(;0<Gs--;){var Xs,er=as,sr=us+(As?1:0),nr=as,fr=us+(As?0:3);for(Xs=0;Xs<Os;++Xs){var _r=nr[fr+4*Xs];_r!=255&&(_r*=32897,er[sr+4*Xs+0]=er[sr+4*Xs+0]*_r>>23,er[sr+4*Xs+1]=er[sr+4*Xs+1]*_r>>23,er[sr+4*Xs+2]=er[sr+4*Xs+2]*_r>>23)}us+=Ys}}function oa(as,us,As,Os,Gs){for(;0<Os--;){var Ys;for(Ys=0;Ys<As;++Ys){var Xs=as[us+2*Ys+0],er=15&(nr=as[us+2*Ys+1]),sr=4369*er,nr=(240&nr|nr>>4)*sr>>16;as[us+2*Ys+0]=(240&Xs|Xs>>4)*sr>>16&240|(15&Xs|Xs<<4)*sr>>16>>4&15,as[us+2*Ys+1]=240&nr|er}us+=Gs}}function ka(as,us,As,Os,Gs,Ys,Xs,er){var sr,nr,fr=255;for(nr=0;nr<Gs;++nr){for(sr=0;sr<Os;++sr){var _r=as[us+sr];Ys[Xs+4*sr]=_r,fr&=_r}us+=As,Xs+=er}return fr!=255}function El(as,us,As,Os,Gs){var Ys;for(Ys=0;Ys<Gs;++Ys)As[Os+Ys]=as[us+Ys]>>8}function qa(){ga=Ea,Oo=oa,zu=ka,Gp=El}function Gc(as,us,As){xs[as]=function(Os,Gs,Ys,Xs,er,sr,nr,fr,_r,ar,xr,mr,Cr,jr,Br,$r,ei){var Jr,ji=ei-1>>1,fi=er[sr+0]|nr[fr+0]<<16,Hi=_r[ar+0]|xr[mr+0]<<16;e(Os!=null);var li=3*fi+Hi+131074>>2;for(us(Os[Gs+0],255&li,li>>16,Cr,jr),Ys!=null&&(li=3*Hi+fi+131074>>2,us(Ys[Xs+0],255&li,li>>16,Br,$r)),Jr=1;Jr<=ji;++Jr){var en=er[sr+Jr]|nr[fr+Jr]<<16,Ra=_r[ar+Jr]|xr[mr+Jr]<<16,Vi=fi+en+Hi+Ra+524296,Ei=Vi+2*(en+Hi)>>3;li=Ei+fi>>1,fi=(Vi=Vi+2*(fi+Ra)>>3)+en>>1,us(Os[Gs+2*Jr-1],255&li,li>>16,Cr,jr+(2*Jr-1)*As),us(Os[Gs+2*Jr-0],255&fi,fi>>16,Cr,jr+(2*Jr-0)*As),Ys!=null&&(li=Vi+Hi>>1,fi=Ei+Ra>>1,us(Ys[Xs+2*Jr-1],255&li,li>>16,Br,$r+(2*Jr-1)*As),us(Ys[Xs+2*Jr+0],255&fi,fi>>16,Br,$r+(2*Jr+0)*As)),fi=en,Hi=Ra}1&ei||(li=3*fi+Hi+131074>>2,us(Os[Gs+ei-1],255&li,li>>16,Cr,jr+(ei-1)*As),Ys!=null&&(li=3*Hi+fi+131074>>2,us(Ys[Xs+ei-1],255&li,li>>16,Br,$r+(ei-1)*As)))}}function ec(){Da[Qc]=zh,Da[_c]=xf,Da[Yd]=Wp,Da[$u]=$h,Da[io]=eu,Da[bo]=gf,Da[Vu]=Zp,Da[Pl]=xf,Da[Tl]=$h,Da[Sc]=eu,Da[He]=gf}function la(as){return as&-16384?0>as?0:255:as>>Nc}function Wc(as,us){return la((19077*as>>8)+(26149*us>>8)-14234)}function Zc(as,us,As){return la((19077*as>>8)-(6419*us>>8)-(13320*As>>8)+8708)}function Fu(as,us){return la((19077*as>>8)+(33050*us>>8)-17685)}function tc(as,us,As,Os,Gs){Os[Gs+0]=Wc(as,As),Os[Gs+1]=Zc(as,us,As),Os[Gs+2]=Fu(as,us)}function xa(as,us,As,Os,Gs){Os[Gs+0]=Fu(as,us),Os[Gs+1]=Zc(as,us,As),Os[Gs+2]=Wc(as,As)}function Ou(as,us,As,Os,Gs){var Ys=Zc(as,us,As);us=Ys<<3&224|Fu(as,us)>>3,Os[Gs+0]=248&Wc(as,As)|Ys>>5,Os[Gs+1]=us}function wl(as,us,As,Os,Gs){var Ys=240&Fu(as,us)|15;Os[Gs+0]=240&Wc(as,As)|Zc(as,us,As)>>4,Os[Gs+1]=Ys}function Zd(as,us,As,Os,Gs){Os[Gs+0]=255,tc(as,us,As,Os,Gs+1)}function Mh(as,us,As,Os,Gs){xa(as,us,As,Os,Gs),Os[Gs+3]=255}function kn(as,us,As,Os,Gs){tc(as,us,As,Os,Gs),Os[Gs+3]=255}function mo(as,us,As){xs[as]=function(Os,Gs,Ys,Xs,er,sr,nr,fr,_r){for(var ar=fr+(-2&_r)*As;fr!=ar;)us(Os[Gs+0],Ys[Xs+0],er[sr+0],nr,fr),us(Os[Gs+1],Ys[Xs+0],er[sr+0],nr,fr+As),Gs+=2,++Xs,++sr,fr+=2*As;1&_r&&us(Os[Gs+0],Ys[Xs+0],er[sr+0],nr,fr)}}function xd(as,us,As){return As==0?as==0?us==0?6:5:us==0?4:0:As}function so(as,us,As,Os,Gs){switch(as>>>30){case 3:Cl(us,As,Os,Gs,0);break;case 2:Mo(us,As,Os,Gs);break;case 1:Yi(us,As,Os,Gs)}}function ro(as,us){var As,Os,Gs=us.M,Ys=us.Nb,Xs=as.oc,er=as.pc+40,sr=as.oc,nr=as.pc+584,fr=as.oc,_r=as.pc+600;for(As=0;16>As;++As)Xs[er+32*As-1]=129;for(As=0;8>As;++As)sr[nr+32*As-1]=129,fr[_r+32*As-1]=129;for(0<Gs?Xs[er-1-32]=sr[nr-1-32]=fr[_r-1-32]=129:(Te(Xs,er-32-1,127,21),Te(sr,nr-32-1,127,9),Te(fr,_r-32-1,127,9)),Os=0;Os<as.za;++Os){var ar=us.ya[us.aa+Os];if(0<Os){for(As=-1;16>As;++As)Ce(Xs,er+32*As-4,Xs,er+32*As+12,4);for(As=-1;8>As;++As)Ce(sr,nr+32*As-4,sr,nr+32*As+4,4),Ce(fr,_r+32*As-4,fr,_r+32*As+4,4)}var xr=as.Gd,mr=as.Hd+Os,Cr=ar.ad,jr=ar.Hc;if(0<Gs&&(Ce(Xs,er-32,xr[mr].y,0,16),Ce(sr,nr-32,xr[mr].f,0,8),Ce(fr,_r-32,xr[mr].ea,0,8)),ar.Za){var Br=Xs,$r=er-32+16;for(0<Gs&&(Os>=as.za-1?Te(Br,$r,xr[mr].y[15],4):Ce(Br,$r,xr[mr+1].y,0,4)),As=0;4>As;As++)Br[$r+128+As]=Br[$r+256+As]=Br[$r+384+As]=Br[$r+0+As];for(As=0;16>As;++As,jr<<=2)Br=Xs,$r=er+Fv[As],kl[ar.Ob[As]](Br,$r),so(jr,Cr,16*+As,Br,$r)}else if(Br=xd(Os,Gs,ar.Ob[0]),rc[Br](Xs,er),jr!=0)for(As=0;16>As;++As,jr<<=2)so(jr,Cr,16*+As,Xs,er+Fv[As]);for(As=ar.Gc,Br=xd(Os,Gs,ar.Dd),Io[Br](sr,nr),Io[Br](fr,_r),jr=Cr,Br=sr,$r=nr,255&(ar=0|As)&&(170&ar?Fo(jr,256,Br,$r):cn(jr,256,Br,$r)),ar=fr,jr=_r,255&(As>>=8)&&(170&As?Fo(Cr,320,ar,jr):cn(Cr,320,ar,jr)),Gs<as.Ub-1&&(Ce(xr[mr].y,0,Xs,er+480,16),Ce(xr[mr].f,0,sr,nr+224,8),Ce(xr[mr].ea,0,fr,_r+224,8)),As=8*Ys*as.B,xr=as.sa,mr=as.ta+16*Os+16*Ys*as.R,Cr=as.qa,ar=as.ra+8*Os+As,jr=as.Ha,Br=as.Ia+8*Os+As,As=0;16>As;++As)Ce(xr,mr+As*as.R,Xs,er+32*As,16);for(As=0;8>As;++As)Ce(Cr,ar+As*as.B,sr,nr+32*As,8),Ce(jr,Br+As*as.B,fr,_r+32*As,8)}}function Rl(as,us,As,Os,Gs,Ys,Xs,er,sr){var nr=[0],fr=[0],_r=0,ar=sr!=null?sr.kd:0,xr=sr??new Xr;if(as==null||12>As)return 7;xr.data=as,xr.w=us,xr.ha=As,us=[us],As=[As],xr.gb=[xr.gb];e:{var mr=us,Cr=As,jr=xr.gb;if(e(as!=null),e(Cr!=null),e(jr!=null),jr[0]=0,12<=Cr[0]&&!Ee(as,mr[0],"RIFF")){if(Ee(as,mr[0]+8,"WEBP")){jr=3;break e}var Br=ur(as,mr[0]+4);if(12>Br||4294967286<Br){jr=3;break e}if(ar&&Br>Cr[0]-8){jr=7;break e}jr[0]=Br,mr[0]+=12,Cr[0]-=12}jr=0}if(jr!=0)return jr;for(Br=0<xr.gb[0],As=As[0];;){e:{var $r=as;Cr=us,jr=As;var ei=nr,Jr=fr,ji=mr=[0];if((li=_r=[_r])[0]=0,8>jr[0])jr=7;else{if(!Ee($r,Cr[0],"VP8X")){if(ur($r,Cr[0]+4)!=10){jr=3;break e}if(18>jr[0]){jr=7;break e}var fi=ur($r,Cr[0]+8),Hi=1+rr($r,Cr[0]+12);if(2147483648<=Hi*($r=1+rr($r,Cr[0]+15))){jr=3;break e}ji!=null&&(ji[0]=fi),ei!=null&&(ei[0]=Hi),Jr!=null&&(Jr[0]=$r),Cr[0]+=18,jr[0]-=18,li[0]=1}jr=0}}if(_r=_r[0],mr=mr[0],jr!=0)return jr;if(Cr=!!(2&mr),!Br&&_r)return 3;if(Ys!=null&&(Ys[0]=!!(16&mr)),Xs!=null&&(Xs[0]=Cr),er!=null&&(er[0]=0),Xs=nr[0],mr=fr[0],_r&&Cr&&sr==null){jr=0;break}if(4>As){jr=7;break}if(Br&&_r||!Br&&!_r&&!Ee(as,us[0],"ALPH")){As=[As],xr.na=[xr.na],xr.P=[xr.P],xr.Sa=[xr.Sa];e:{fi=as,jr=us,Br=As;var li=xr.gb;ei=xr.na,Jr=xr.P,ji=xr.Sa,Hi=22,e(fi!=null),e(Br!=null),$r=jr[0];var en=Br[0];for(e(ei!=null),e(ji!=null),ei[0]=null,Jr[0]=null,ji[0]=0;;){if(jr[0]=$r,Br[0]=en,8>en){jr=7;break e}var Ra=ur(fi,$r+4);if(4294967286<Ra){jr=3;break e}var Vi=8+Ra+1&-2;if(Hi+=Vi,0<li&&Hi>li){jr=3;break e}if(!Ee(fi,$r,"VP8 ")||!Ee(fi,$r,"VP8L")){jr=0;break e}if(en[0]<Vi){jr=7;break e}Ee(fi,$r,"ALPH")||(ei[0]=fi,Jr[0]=$r+8,ji[0]=Ra),$r+=Vi,en-=Vi}}if(As=As[0],xr.na=xr.na[0],xr.P=xr.P[0],xr.Sa=xr.Sa[0],jr!=0)break}As=[As],xr.Ja=[xr.Ja],xr.xa=[xr.xa];e:if(li=as,jr=us,Br=As,ei=xr.gb[0],Jr=xr.Ja,ji=xr.xa,fi=jr[0],$r=!Ee(li,fi,"VP8 "),Hi=!Ee(li,fi,"VP8L"),e(li!=null),e(Br!=null),e(Jr!=null),e(ji!=null),8>Br[0])jr=7;else{if($r||Hi){if(li=ur(li,fi+4),12<=ei&&li>ei-12){jr=3;break e}if(ar&&li>Br[0]-8){jr=7;break e}Jr[0]=li,jr[0]+=8,Br[0]-=8,ji[0]=Hi}else ji[0]=5<=Br[0]&&li[fi+0]==47&&!(li[fi+4]>>5),Jr[0]=Br[0];jr=0}if(As=As[0],xr.Ja=xr.Ja[0],xr.xa=xr.xa[0],us=us[0],jr!=0)break;if(4294967286<xr.Ja)return 3;if(er==null||Cr||(er[0]=xr.xa?2:1),Xs=[Xs],mr=[mr],xr.xa){if(5>As){jr=7;break}er=Xs,ar=mr,Cr=Ys,as==null||5>As?as=0:5<=As&&as[us+0]==47&&!(as[us+4]>>5)?(Br=[0],li=[0],ei=[0],_s(Jr=new ys,as,us,As),ml(Jr,Br,li,ei)?(er!=null&&(er[0]=Br[0]),ar!=null&&(ar[0]=li[0]),Cr!=null&&(Cr[0]=ei[0]),as=1):as=0):as=0}else{if(10>As){jr=7;break}er=mr,as==null||10>As||!fc(as,us+3,As-3)?as=0:(ar=as[us+0]|as[us+1]<<8|as[us+2]<<16,Cr=16383&(as[us+7]<<8|as[us+6]),as=16383&(as[us+9]<<8|as[us+8]),1&ar||3<(ar>>1&7)||!(ar>>4&1)||ar>>5>=xr.Ja||!Cr||!as?as=0:(Xs&&(Xs[0]=Cr),er&&(er[0]=as),as=1))}if(!as||(Xs=Xs[0],mr=mr[0],_r&&(nr[0]!=Xs||fr[0]!=mr)))return 3;sr!=null&&(sr[0]=xr,sr.offset=us-sr.w,e(4294967286>us-sr.w),e(sr.offset==sr.ha-As));break}return jr==0||jr==7&&_r&&sr==null?(Ys!=null&&(Ys[0]|=xr.na!=null&&0<xr.na.length),Os!=null&&(Os[0]=Xs),Gs!=null&&(Gs[0]=mr),0):jr}function Iu(as,us,As){var Os=us.width,Gs=us.height,Ys=0,Xs=0,er=Os,sr=Gs;if(us.Da=as!=null&&0<as.Da,us.Da&&(er=as.cd,sr=as.bd,Ys=as.v,Xs=as.j,11>As||(Ys&=-2,Xs&=-2),0>Ys||0>Xs||0>=er||0>=sr||Ys+er>Os||Xs+sr>Gs))return 0;if(us.v=Ys,us.j=Xs,us.va=Ys+er,us.o=Xs+sr,us.U=er,us.T=sr,us.da=as!=null&&0<as.da,us.da){if(!Or(er,sr,As=[as.ib],Ys=[as.hb]))return 0;us.ib=As[0],us.hb=Ys[0]}return us.ob=as!=null&&as.ob,us.Kb=as==null||!as.Sd,us.da&&(us.ob=us.ib<3*Os/4&&us.hb<3*Gs/4,us.Kb=0),1}function bc(as){if(as==null)return 2;if(11>as.S){var us=as.f.RGBA;us.fb+=(as.height-1)*us.A,us.A=-us.A}else us=as.f.kb,as=as.height,us.O+=(as-1)*us.fa,us.fa=-us.fa,us.N+=(as-1>>1)*us.Ab,us.Ab=-us.Ab,us.W+=(as-1>>1)*us.Db,us.Db=-us.Db,us.F!=null&&(us.J+=(as-1)*us.lb,us.lb=-us.lb);return 0}function jc(as,us,As,Os){if(Os==null||0>=as||0>=us)return 2;if(As!=null){if(As.Da){var Gs=As.cd,Ys=As.bd,Xs=-2&As.v,er=-2&As.j;if(0>Xs||0>er||0>=Gs||0>=Ys||Xs+Gs>as||er+Ys>us)return 2;as=Gs,us=Ys}if(As.da){if(!Or(as,us,Gs=[As.ib],Ys=[As.hb]))return 2;as=Gs[0],us=Ys[0]}}Os.width=as,Os.height=us;e:{var sr=Os.width,nr=Os.height;if(as=Os.S,0>=sr||0>=nr||!(as>=Qc&&13>as))as=2;else{if(0>=Os.Rd&&Os.sd==null){Xs=Ys=Gs=us=0;var fr=(er=sr*ig[as])*nr;if(11>as||(Ys=(nr+1)/2*(us=(sr+1)/2),as==12&&(Xs=(Gs=sr)*nr)),(nr=De(fr+2*Ys+Xs))==null){as=1;break e}Os.sd=nr,11>as?((sr=Os.f.RGBA).eb=nr,sr.fb=0,sr.A=er,sr.size=fr):((sr=Os.f.kb).y=nr,sr.O=0,sr.fa=er,sr.Fd=fr,sr.f=nr,sr.N=0+fr,sr.Ab=us,sr.Cd=Ys,sr.ea=nr,sr.W=0+fr+Ys,sr.Db=us,sr.Ed=Ys,as==12&&(sr.F=nr,sr.J=0+fr+2*Ys),sr.Tc=Xs,sr.lb=Gs)}if(us=1,Gs=Os.S,Ys=Os.width,Xs=Os.height,Gs>=Qc&&13>Gs)if(11>Gs)as=Os.f.RGBA,us&=(er=Math.abs(as.A))*(Xs-1)+Ys<=as.size,us&=er>=Ys*ig[Gs],us&=as.eb!=null;else{as=Os.f.kb,er=(Ys+1)/2,fr=(Xs+1)/2,sr=Math.abs(as.fa),nr=Math.abs(as.Ab);var _r=Math.abs(as.Db),ar=Math.abs(as.lb),xr=ar*(Xs-1)+Ys;us&=sr*(Xs-1)+Ys<=as.Fd,us&=nr*(fr-1)+er<=as.Cd,us=(us&=_r*(fr-1)+er<=as.Ed)&sr>=Ys&nr>=er&_r>=er,us&=as.y!=null,us&=as.f!=null,us&=as.ea!=null,Gs==12&&(us&=ar>=Ys,us&=xr<=as.Tc,us&=as.F!=null)}else us=0;as=us?0:2}}return as!=0||As!=null&&As.fd&&(as=bc(Os)),as}var _l=64,fo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ca=24,Sl=32,Ec=8,wc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Js("Predictor0","PredictorAdd0"),xs.Predictor0=function(){return 4278190080},xs.Predictor1=function(as){return as},xs.Predictor2=function(as,us,As){return us[As+0]},xs.Predictor3=function(as,us,As){return us[As+1]},xs.Predictor4=function(as,us,As){return us[As-1]},xs.Predictor5=function(as,us,As){return hr(hr(as,us[As+1]),us[As+0])},xs.Predictor6=function(as,us,As){return hr(as,us[As-1])},xs.Predictor7=function(as,us,As){return hr(as,us[As+0])},xs.Predictor8=function(as,us,As){return hr(us[As-1],us[As+0])},xs.Predictor9=function(as,us,As){return hr(us[As+0],us[As+1])},xs.Predictor10=function(as,us,As){return hr(hr(as,us[As-1]),hr(us[As+0],us[As+1]))},xs.Predictor11=function(as,us,As){var Os=us[As+0];return 0>=vr(Os>>24&255,as>>24&255,(us=us[As-1])>>24&255)+vr(Os>>16&255,as>>16&255,us>>16&255)+vr(Os>>8&255,as>>8&255,us>>8&255)+vr(255&Os,255&as,255&us)?Os:as},xs.Predictor12=function(as,us,As){var Os=us[As+0];return(Ar((as>>24&255)+(Os>>24&255)-((us=us[As-1])>>24&255))<<24|Ar((as>>16&255)+(Os>>16&255)-(us>>16&255))<<16|Ar((as>>8&255)+(Os>>8&255)-(us>>8&255))<<8|Ar((255&as)+(255&Os)-(255&us)))>>>0},xs.Predictor13=function(as,us,As){var Os=us[As-1];return(Pr((as=hr(as,us[As+0]))>>24&255,Os>>24&255)<<24|Pr(as>>16&255,Os>>16&255)<<16|Pr(as>>8&255,Os>>8&255)<<8|Pr(255&as,255&Os))>>>0};var Fh=xs.PredictorAdd0;xs.PredictorAdd1=Mr,Js("Predictor2","PredictorAdd2"),Js("Predictor3","PredictorAdd3"),Js("Predictor4","PredictorAdd4"),Js("Predictor5","PredictorAdd5"),Js("Predictor6","PredictorAdd6"),Js("Predictor7","PredictorAdd7"),Js("Predictor8","PredictorAdd8"),Js("Predictor9","PredictorAdd9"),Js("Predictor10","PredictorAdd10"),Js("Predictor11","PredictorAdd11"),Js("Predictor12","PredictorAdd12"),Js("Predictor13","PredictorAdd13");var Lo=xs.PredictorAdd2;oi("ColorIndexInverseTransform","MapARGB","32b",function(as){return as>>8&255},function(as){return as}),oi("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(as){return as},function(as){return as>>8&255});var ua,Kc=xs.ColorIndexInverseTransform,ea=xs.MapARGB,ta=xs.VP8LColorIndexInverseTransformAlpha,Yc=xs.MapAlpha,gd=xs.VP8LPredictorsAdd=[];gd.length=16,(xs.VP8LPredictors=[]).length=16,(xs.VP8LPredictorsAdd_C=[]).length=16,(xs.VP8LPredictors_C=[]).length=16;var Bu,Xc,Nl,sc,Xo,xo,Al,Cl,Mo,Fo,Yi,cn,Gn,da,go,yo,Rc,Oh,Ih,Qx,hf,pf,yd,mf,ga,Oo,zu,Gp,Jo=De(511),Kd=De(2041),Bh=De(225),Qo=De(767),ff=0,Jc=Kd,el=Bh,vo=Qo,On=Jo,Qc=0,_c=1,Yd=2,$u=3,io=4,bo=5,Vu=6,Pl=7,Tl=8,Sc=9,He=10,St=[2,3,7],ls=[3,3,11],Es=[280,256,256,256,40],Fs=[0,1,1,1,0],Zs=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],dr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],wr=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],kr=8,Zr=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],hi=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ai=null,Bi=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],wa=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Wn=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],no=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],jo=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Uu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],eg=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],rc=[],kl=[],Io=[],tg=1,Hu=2,mn=[],Da=[];Gc("UpsampleRgbLinePair",tc,3),Gc("UpsampleBgrLinePair",xa,3),Gc("UpsampleRgbaLinePair",kn,4),Gc("UpsampleBgraLinePair",Mh,4),Gc("UpsampleArgbLinePair",Zd,4),Gc("UpsampleRgba4444LinePair",wl,2),Gc("UpsampleRgb565LinePair",Ou,2);var zh=xs.UpsampleRgbLinePair,Wp=xs.UpsampleBgrLinePair,xf=xs.UpsampleRgbaLinePair,$h=xs.UpsampleBgraLinePair,eu=xs.UpsampleArgbLinePair,gf=xs.UpsampleRgba4444LinePair,Zp=xs.UpsampleRgb565LinePair,Vh=16,yf=1<<Vh-1,Uh=-227,vf=482,Nc=6,tu=0,Xd=De(256),Mv=De(256),Jd=De(256),vd=De(256),Ga=De(vf-Uh),sg=De(vf-Uh);mo("YuvToRgbRow",tc,3),mo("YuvToBgrRow",xa,3),mo("YuvToRgbaRow",kn,4),mo("YuvToBgraRow",Mh,4),mo("YuvToArgbRow",Zd,4),mo("YuvToRgba4444Row",wl,2),mo("YuvToRgb565Row",Ou,2);var Fv=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],rg=[0,2,8],j2=[8,7,6,4,4,2,2,2,1,1,1,1],Wa=1;this.WebPDecodeRGBA=function(as,us,As,Os,Gs){var Ys=_c,Xs=new Fr,er=new ai;Xs.ba=er,er.S=Ys,er.width=[er.width],er.height=[er.height];var sr=er.width,nr=er.height,fr=new ii;if(fr==null||as==null)var _r=2;else e(fr!=null),_r=Rl(as,us,As,fr.width,fr.height,fr.Pd,fr.Qd,fr.format,null);if(_r!=0?sr=0:(sr!=null&&(sr[0]=fr.width[0]),nr!=null&&(nr[0]=fr.height[0]),sr=1),sr){er.width=er.width[0],er.height=er.height[0],Os!=null&&(Os[0]=er.width),Gs!=null&&(Gs[0]=er.height);e:{if(Os=new hn,(Gs=new Xr).data=as,Gs.w=us,Gs.ha=As,Gs.kd=1,us=[0],e(Gs!=null),((as=Rl(Gs.data,Gs.w,Gs.ha,null,null,null,us,null,Gs))==0||as==7)&&us[0]&&(as=4),(us=as)==0){if(e(Xs!=null),Os.data=Gs.data,Os.w=Gs.w+Gs.offset,Os.ha=Gs.ha-Gs.offset,Os.put=pi,Os.ac=Si,Os.bc=Xa,Os.ma=Xs,Gs.xa){if((as=Au())==null){Xs=1;break e}if(function(ar,xr){var mr=[0],Cr=[0],jr=[0];t:for(;;){if(ar==null)return 0;if(xr==null)return ar.a=2,0;if(ar.l=xr,ar.a=0,_s(ar.m,xr.data,xr.w,xr.ha),!ml(ar.m,mr,Cr,jr)){ar.a=3;break t}if(ar.xb=Hu,xr.width=mr[0],xr.height=Cr[0],!Po(mr[0],Cr[0],1,ar,null))break t;return 1}return e(ar.a!=0),0}(as,Os)){if(Os=(us=jc(Os.width,Os.height,Xs.Oa,Xs.ba))==0){t:{Os=as;s:for(;;){if(Os==null){Os=0;break t}if(e(Os.s.yc!=null),e(Os.s.Ya!=null),e(0<Os.s.Wb),e((As=Os.l)!=null),e((Gs=As.ma)!=null),Os.xb!=0){if(Os.ca=Gs.ba,Os.tb=Gs.tb,e(Os.ca!=null),!Iu(Gs.Oa,As,$u)){Os.a=2;break s}if(!Bc(Os,As.width)||As.da)break s;if((As.da||Kr(Os.ca.S))&&qa(),11>Os.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Os.ca.f.kb.F!=null&&qa()),Os.Pb&&0<Os.s.ua&&Os.s.vb.X==null&&!Ws(Os.s.vb,Os.s.Wa.Xa)){Os.a=1;break s}Os.xb=0}if(!eo(Os,Os.V,Os.Ba,Os.c,Os.i,As.o,Rn))break s;Gs.Dc=Os.Ma,Os=1;break t}e(Os.a!=0),Os=0}Os=!Os}Os&&(us=as.a)}else us=as.a}else{if((as=new ko)==null){Xs=1;break e}if(as.Fa=Gs.na,as.P=Gs.P,as.qc=Gs.Sa,yl(as,Os)){if((us=jc(Os.width,Os.height,Xs.Oa,Xs.ba))==0){if(as.Aa=0,As=Xs.Oa,e((Gs=as)!=null),As!=null){if(0<(sr=0>(sr=As.Md)?0:100<sr?255:255*sr/100)){for(nr=fr=0;4>nr;++nr)12>(_r=Gs.pb[nr]).lc&&(_r.ia=sr*j2[0>_r.lc?0:_r.lc]>>3),fr|=_r.ia;fr&&(alert("todo:VP8InitRandom"),Gs.ia=1)}Gs.Ga=As.Id,100<Gs.Ga?Gs.Ga=100:0>Gs.Ga&&(Gs.Ga=0)}(function(ar,xr){if(ar==null)return 0;if(xr==null)return Ki(ar,2,"NULL VP8Io parameter in VP8Decode().");if(!ar.cb&&!yl(ar,xr))return 0;if(e(ar.cb),xr.ac==null||xr.ac(xr)){xr.ob&&(ar.L=0);var mr=rg[ar.L];if(ar.L==2?(ar.yb=0,ar.zb=0):(ar.yb=xr.v-mr>>4,ar.zb=xr.j-mr>>4,0>ar.yb&&(ar.yb=0),0>ar.zb&&(ar.zb=0)),ar.Va=xr.o+15+mr>>4,ar.Hb=xr.va+15+mr>>4,ar.Hb>ar.za&&(ar.Hb=ar.za),ar.Va>ar.Ub&&(ar.Va=ar.Ub),0<ar.L){var Cr=ar.ed;for(mr=0;4>mr;++mr){var jr;if(ar.Qa.Cb){var Br=ar.Qa.Lb[mr];ar.Qa.Fb||(Br+=Cr.Tb)}else Br=Cr.Tb;for(jr=0;1>=jr;++jr){var $r=ar.gd[mr][jr],ei=Br;if(Cr.Pc&&(ei+=Cr.vd[0],jr&&(ei+=Cr.od[0])),0<(ei=0>ei?0:63<ei?63:ei)){var Jr=ei;0<Cr.wb&&(Jr=4<Cr.wb?Jr>>2:Jr>>1)>9-Cr.wb&&(Jr=9-Cr.wb),1>Jr&&(Jr=1),$r.dd=Jr,$r.tc=2*ei+Jr,$r.ld=40<=ei?2:15<=ei?1:0}else $r.tc=0;$r.La=jr}}}mr=0}else Ki(ar,6,"Frame setup failed"),mr=ar.a;if(mr=mr==0){if(mr){ar.$c=0,0<ar.Aa||(ar.Ic=Wa);t:{mr=ar.Ic,Cr=4*(Jr=ar.za);var ji=32*Jr,fi=Jr+1,Hi=0<ar.L?Jr*(0<ar.Aa?2:1):0,li=(ar.Aa==2?2:1)*Jr;if(($r=Cr+832+(jr=3*(16*mr+rg[ar.L])/2*ji)+(Br=ar.Fa!=null&&0<ar.Fa.length?ar.Kc.c*ar.Kc.i:0))!=$r)mr=0;else{if($r>ar.Vb){if(ar.Vb=0,ar.Ec=De($r),ar.Fc=0,ar.Ec==null){mr=Ki(ar,1,"no memory during frame initialization.");break t}ar.Vb=$r}$r=ar.Ec,ei=ar.Fc,ar.Ac=$r,ar.Bc=ei,ei+=Cr,ar.Gd=Me(ji,Hd),ar.Hd=0,ar.rb=Me(fi+1,mc),ar.sb=1,ar.wa=Hi?Me(Hi,Ta):null,ar.Y=0,ar.D.Nb=0,ar.D.wa=ar.wa,ar.D.Y=ar.Y,0<ar.Aa&&(ar.D.Y+=Jr),e(!0),ar.oc=$r,ar.pc=ei,ei+=832,ar.ya=Me(li,zc),ar.aa=0,ar.D.ya=ar.ya,ar.D.aa=ar.aa,ar.Aa==2&&(ar.D.aa+=Jr),ar.R=16*Jr,ar.B=8*Jr,Jr=(ji=rg[ar.L])*ar.R,ji=ji/2*ar.B,ar.sa=$r,ar.ta=ei+Jr,ar.qa=ar.sa,ar.ra=ar.ta+16*mr*ar.R+ji,ar.Ha=ar.qa,ar.Ia=ar.ra+8*mr*ar.B+ji,ar.$c=0,ei+=jr,ar.mb=Br?$r:null,ar.nb=Br?ei:null,e(ei+Br<=ar.Fc+ar.Vb),Tn(ar),Te(ar.Ac,ar.Bc,0,Cr),mr=1}}if(mr){if(xr.ka=0,xr.y=ar.sa,xr.O=ar.ta,xr.f=ar.qa,xr.N=ar.ra,xr.ea=ar.Ha,xr.Vd=ar.Ia,xr.fa=ar.R,xr.Rc=ar.B,xr.F=null,xr.J=0,!ff){for(mr=-255;255>=mr;++mr)Jo[255+mr]=0>mr?-mr:mr;for(mr=-1020;1020>=mr;++mr)Kd[1020+mr]=-128>mr?-128:127<mr?127:mr;for(mr=-112;112>=mr;++mr)Bh[112+mr]=-16>mr?-16:15<mr?15:mr;for(mr=-255;510>=mr;++mr)Qo[255+mr]=0>mr?0:255<mr?255:mr;ff=1}Al=ho,Cl=Gl,Fo=tn,Yi=Wl,cn=$c,Mo=pd,Gn=Lh,da=fd,go=qs,yo=ir,Rc=qp,Oh=Rs,Ih=pr,Qx=br,hf=ma,pf=vc,yd=Dh,mf=Hp,kl[0]=Lu,kl[1]=Pu,kl[2]=Do,kl[3]=gn,kl[4]=Yo,kl[5]=bl,kl[6]=po,kl[7]=Zl,kl[8]=gc,kl[9]=Kl,rc[0]=ku,rc[1]=md,rc[2]=Tu,rc[3]=Wd,rc[4]=xc,rc[5]=vl,rc[6]=Du,Io[0]=Ha,Io[1]=Gd,Io[2]=Nn,Io[3]=jl,Io[4]=Uc,Io[5]=Xl,Io[6]=yc,mr=1}else mr=0}mr&&(mr=function(en,Ra){for(en.M=0;en.M<en.Va;++en.M){var Vi,Ei=en.Jc[en.M&en.Xb],ui=en.m,ha=en;for(Vi=0;Vi<ha.za;++Vi){var Ii=ui,sn=ha,Xi=sn.Ac,rn=sn.Bc+4*Vi,ao=sn.zc,In=sn.ya[sn.aa+Vi];if(sn.Qa.Bb?In.$b=Vs(Ii,sn.Pa.jb[0])?2+Vs(Ii,sn.Pa.jb[2]):Vs(Ii,sn.Pa.jb[1]):In.$b=0,sn.kc&&(In.Ad=Vs(Ii,sn.Bd)),In.Za=!Vs(Ii,145)+0,In.Za){var Za=In.Ob,Eo=0;for(sn=0;4>sn;++sn){var Dn,nn=ao[0+sn];for(Dn=0;4>Dn;++Dn){nn=jo[Xi[rn+Dn]][nn];for(var yn=Wn[Vs(Ii,nn[0])];0<yn;)yn=Wn[2*yn+Vs(Ii,nn[yn])];nn=-yn,Xi[rn+Dn]=nn}Ce(Za,Eo,Xi,rn,4),Eo+=4,ao[0+sn]=nn}}else nn=Vs(Ii,156)?Vs(Ii,128)?1:3:Vs(Ii,163)?2:0,In.Ob[0]=nn,Te(Xi,rn,nn,4),Te(ao,0,nn,4);In.Dd=Vs(Ii,142)?Vs(Ii,114)?Vs(Ii,183)?1:3:2:0}if(ha.m.Ka)return Ki(en,7,"Premature end-of-partition0 encountered.");for(;en.ja<en.za;++en.ja){if(ha=Ei,Ii=(ui=en).rb[ui.sb-1],Xi=ui.rb[ui.sb+ui.ja],Vi=ui.ya[ui.aa+ui.ja],rn=ui.kc?Vi.Ad:0)Ii.la=Xi.la=0,Vi.Za||(Ii.Na=Xi.Na=0),Vi.Hc=0,Vi.Gc=0,Vi.ia=0;else{var sa,En;if(Ii=Xi,Xi=ha,rn=ui.Pa.Xc,ao=ui.ya[ui.aa+ui.ja],In=ui.pb[ao.$b],sn=ao.ad,Za=0,Eo=ui.rb[ui.sb-1],nn=Dn=0,Te(sn,Za,0,384),ao.Za)var oo=0,Ac=rn[3];else{yn=De(16);var ya=Ii.Na+Eo.Na;if(ya=Ai(Xi,rn[1],ya,In.Eb,0,yn,0),Ii.Na=Eo.Na=(0<ya)+0,1<ya)Al(yn,0,sn,Za);else{var tl=yn[0]+3>>3;for(yn=0;256>yn;yn+=16)sn[Za+yn]=tl}oo=1,Ac=rn[0]}var An=15&Ii.la,Sa=15&Eo.la;for(yn=0;4>yn;++yn){var Dl=1&Sa;for(tl=En=0;4>tl;++tl)An=An>>1|(Dl=(ya=Ai(Xi,Ac,ya=Dl+(1&An),In.Sc,oo,sn,Za))>oo)<<7,En=En<<2|(3<ya?3:1<ya?2:sn[Za+0]!=0),Za+=16;An>>=4,Sa=Sa>>1|Dl<<7,Dn=(Dn<<8|En)>>>0}for(Ac=An,oo=Sa>>4,sa=0;4>sa;sa+=2){for(En=0,An=Ii.la>>4+sa,Sa=Eo.la>>4+sa,yn=0;2>yn;++yn){for(Dl=1&Sa,tl=0;2>tl;++tl)ya=Dl+(1&An),An=An>>1|(Dl=0<(ya=Ai(Xi,rn[2],ya,In.Qc,0,sn,Za)))<<3,En=En<<2|(3<ya?3:1<ya?2:sn[Za+0]!=0),Za+=16;An>>=2,Sa=Sa>>1|Dl<<5}nn|=En<<4*sa,Ac|=An<<4<<sa,oo|=(240&Sa)<<sa}Ii.la=Ac,Eo.la=oo,ao.Hc=Dn,ao.Gc=nn,ao.ia=43690&nn?0:In.ia,rn=!(Dn|nn)}if(0<ui.L&&(ui.wa[ui.Y+ui.ja]=ui.gd[Vi.$b][Vi.Za],ui.wa[ui.Y+ui.ja].La|=!rn),ha.Ka)return Ki(en,7,"Premature end-of-file encountered.")}if(Tn(en),ui=Ra,ha=1,Vi=(Ei=en).D,Ii=0<Ei.L&&Ei.M>=Ei.zb&&Ei.M<=Ei.Va,Ei.Aa==0)t:{if(Vi.M=Ei.M,Vi.uc=Ii,ro(Ei,Vi),ha=1,Vi=(En=Ei.D).Nb,Ii=(nn=rg[Ei.L])*Ei.R,Xi=nn/2*Ei.B,yn=16*Vi*Ei.R,tl=8*Vi*Ei.B,rn=Ei.sa,ao=Ei.ta-Ii+yn,In=Ei.qa,sn=Ei.ra-Xi+tl,Za=Ei.Ha,Eo=Ei.Ia-Xi+tl,Sa=(An=En.M)==0,Dn=An>=Ei.Va-1,Ei.Aa==2&&ro(Ei,En),En.uc)for(Dl=(ya=Ei).D.M,e(ya.D.uc),En=ya.yb;En<ya.Hb;++En){oo=En,Ac=Dl;var sl=(Ll=(wo=ya).D).Nb;sa=wo.R;var Ll=Ll.wa[Ll.Y+oo],Ml=wo.sa,rl=wo.ta+16*sl*sa+16*oo,il=Ll.dd,Ln=Ll.tc;if(Ln!=0)if(e(3<=Ln),wo.L==1)0<oo&&pf(Ml,rl,sa,Ln+4),Ll.La&&mf(Ml,rl,sa,Ln),0<Ac&&hf(Ml,rl,sa,Ln+4),Ll.La&&yd(Ml,rl,sa,Ln);else{var Fl=wo.B,Cc=wo.qa,Qd=wo.ra+8*sl*Fl+8*oo,qu=wo.Ha,wo=wo.Ia+8*sl*Fl+8*oo;sl=Ll.ld,0<oo&&(da(Ml,rl,sa,Ln+4,il,sl),yo(Cc,Qd,qu,wo,Fl,Ln+4,il,sl)),Ll.La&&(Oh(Ml,rl,sa,Ln,il,sl),Qx(Cc,Qd,qu,wo,Fl,Ln,il,sl)),0<Ac&&(Gn(Ml,rl,sa,Ln+4,il,sl),go(Cc,Qd,qu,wo,Fl,Ln+4,il,sl)),Ll.La&&(Rc(Ml,rl,sa,Ln,il,sl),Ih(Cc,Qd,qu,wo,Fl,Ln,il,sl))}}if(Ei.ia&&alert("todo:DitherRow"),ui.put!=null){if(En=16*An,An=16*(An+1),Sa?(ui.y=Ei.sa,ui.O=Ei.ta+yn,ui.f=Ei.qa,ui.N=Ei.ra+tl,ui.ea=Ei.Ha,ui.W=Ei.Ia+tl):(En-=nn,ui.y=rn,ui.O=ao,ui.f=In,ui.N=sn,ui.ea=Za,ui.W=Eo),Dn||(An-=nn),An>ui.o&&(An=ui.o),ui.F=null,ui.J=null,Ei.Fa!=null&&0<Ei.Fa.length&&En<An&&(ui.J=jn(Ei,ui,En,An-En),ui.F=Ei.mb,ui.F==null&&ui.F.length==0)){ha=Ki(Ei,3,"Could not decode alpha data.");break t}En<ui.j&&(nn=ui.j-En,En=ui.j,e(!(1&nn)),ui.O+=Ei.R*nn,ui.N+=Ei.B*(nn>>1),ui.W+=Ei.B*(nn>>1),ui.F!=null&&(ui.J+=ui.width*nn)),En<An&&(ui.O+=ui.v,ui.N+=ui.v>>1,ui.W+=ui.v>>1,ui.F!=null&&(ui.J+=ui.v),ui.ka=En-ui.j,ui.U=ui.va-ui.v,ui.T=An-En,ha=ui.put(ui))}Vi+1!=Ei.Ic||Dn||(Ce(Ei.sa,Ei.ta-Ii,rn,ao+16*Ei.R,Ii),Ce(Ei.qa,Ei.ra-Xi,In,sn+8*Ei.B,Xi),Ce(Ei.Ha,Ei.Ia-Xi,Za,Eo+8*Ei.B,Xi))}if(!ha)return Ki(en,6,"Output aborted.")}return 1}(ar,xr)),xr.bc!=null&&xr.bc(xr),mr&=1}return mr?(ar.cb=0,mr):0})(as,Os)||(us=as.a)}}else us=as.a}us==0&&Xs.Oa!=null&&Xs.Oa.fd&&(us=bc(Xs.ba))}Xs=us}Ys=Xs!=0?null:11>Ys?er.f.RGBA.eb:er.f.kb.y}else Ys=null;return Ys};var ig=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function ze(xs,Ss){for(var ds="",gs=0;gs<4;gs++)ds+=String.fromCharCode(xs[Ss++]);return ds}function Ve(xs,Ss){return xs[Ss+0]|xs[Ss+1]<<8}function qe(xs,Ss){return(xs[Ss+0]|xs[Ss+1]<<8|xs[Ss+2]<<16)>>>0}function We(xs,Ss){return(xs[Ss+0]|xs[Ss+1]<<8|xs[Ss+2]<<16|xs[Ss+3]<<24)>>>0}new Be;var Ge=[0],Je=[0],Qe=[],ns=new Be,Ye=Re,rs=function(xs,Ss){var ds={},gs=0,Ts=!1,Ds=0,Ms=0;if(ds.frames=[],!function(ms,ys){for(var ks=0;ks<4;ks++)if(ms[ys+ks]!="RIFF".charCodeAt(ks))return!0;return!1}(xs,Ss)){for(We(xs,Ss+=4),Ss+=8;Ss<xs.length;){var bs=ze(xs,Ss),Ns=We(xs,Ss+=4);Ss+=4;var ps=Ns+(1&Ns);switch(bs){case"VP8 ":case"VP8L":ds.frames[gs]===void 0&&(ds.frames[gs]={}),(js=ds.frames[gs]).src_off=Ts?Ms:Ss-8,js.src_size=Ds+Ns+8,gs++,Ts&&(Ts=!1,Ds=0,Ms=0);break;case"VP8X":(js=ds.header={}).feature_flags=xs[Ss];var _s=Ss+4;js.canvas_width=1+qe(xs,_s),_s+=3,js.canvas_height=1+qe(xs,_s),_s+=3;break;case"ALPH":Ts=!0,Ds=ps+8,Ms=Ss-8;break;case"ANIM":(js=ds.header).bgcolor=We(xs,Ss),_s=Ss+4,js.loop_count=Ve(xs,_s),_s+=2;break;case"ANMF":var ws,js;(js=ds.frames[gs]={}).offset_x=2*qe(xs,Ss),Ss+=3,js.offset_y=2*qe(xs,Ss),Ss+=3,js.width=1+qe(xs,Ss),Ss+=3,js.height=1+qe(xs,Ss),Ss+=3,js.duration=qe(xs,Ss),Ss+=3,ws=xs[Ss++],js.dispose=1&ws,js.blend=ws>>1&1}bs!="ANMF"&&(Ss+=ps)}return ds}}(Ye,0);rs.response=Ye,rs.rgbaoutput=!0,rs.dataurl=!1;var ts=rs.header?rs.header:null,Xe=rs.frames?rs.frames:null;if(ts){ts.loop_counter=ts.loop_count,Ge=[ts.canvas_height],Je=[ts.canvas_width];for(var is=0;is<Xe.length&&Xe[is].blend!=0;is++);}var os=Xe[0],hs=ns.WebPDecodeRGBA(Ye,os.src_off,os.src_size,Je,Ge);os.rgba=hs,os.imgwidth=Je[0],os.imgheight=Ge[0];for(var fs=0;fs<Je[0]*Ge[0]*4;fs++)Qe[fs]=hs[fs];return this.width=Je,this.height=Ge,this.data=Qe,this}(function(Re){var e,Ee,Ce,Te,De,Me,Oe,Be,ze,Ve=function(ms){return ms=ms||{},this.isStrokeTransparent=ms.isStrokeTransparent||!1,this.strokeOpacity=ms.strokeOpacity||1,this.strokeStyle=ms.strokeStyle||"#000000",this.fillStyle=ms.fillStyle||"#000000",this.isFillTransparent=ms.isFillTransparent||!1,this.fillOpacity=ms.fillOpacity||1,this.font=ms.font||"10px sans-serif",this.textBaseline=ms.textBaseline||"alphabetic",this.textAlign=ms.textAlign||"left",this.lineWidth=ms.lineWidth||1,this.lineJoin=ms.lineJoin||"miter",this.lineCap=ms.lineCap||"butt",this.path=ms.path||[],this.transform=ms.transform!==void 0?ms.transform.clone():new Be,this.globalCompositeOperation=ms.globalCompositeOperation||"normal",this.globalAlpha=ms.globalAlpha||1,this.clip_path=ms.clip_path||[],this.currentPoint=ms.currentPoint||new Me,this.miterLimit=ms.miterLimit||10,this.lastPoint=ms.lastPoint||new Me,this.lineDashOffset=ms.lineDashOffset||0,this.lineDash=ms.lineDash||[],this.margin=ms.margin||[0,0,0,0],this.prevPageLastElemOffset=ms.prevPageLastElemOffset||0,this.ignoreClearRect=typeof ms.ignoreClearRect!="boolean"||ms.ignoreClearRect,this};Re.events.push(["initialized",function(){this.context2d=new qe(this),e=this.internal.f2,Ee=this.internal.getCoordinateString,Ce=this.internal.getVerticalCoordinateString,Te=this.internal.getHorizontalCoordinate,De=this.internal.getVerticalCoordinate,Me=this.internal.Point,Oe=this.internal.Rectangle,Be=this.internal.Matrix,ze=new Ve}]);var qe=function(ms){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var ys=ms;Object.defineProperty(this,"pdf",{get:function(){return ys}});var ks=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return ks},set:function(Ws){ks=!!Ws}});var zs=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return zs},set:function(Ws){zs=!!Ws}});var Cs=0;Object.defineProperty(this,"posX",{get:function(){return Cs},set:function(Ws){isNaN(Ws)||(Cs=Ws)}});var Ps=0;Object.defineProperty(this,"posY",{get:function(){return Ps},set:function(Ws){isNaN(Ws)||(Ps=Ws)}}),Object.defineProperty(this,"margin",{get:function(){return ze.margin},set:function(Ws){var Er;typeof Ws=="number"?Er=[Ws,Ws,Ws,Ws]:((Er=new Array(4))[0]=Ws[0],Er[1]=Ws.length>=2?Ws[1]:Er[0],Er[2]=Ws.length>=3?Ws[2]:Er[0],Er[3]=Ws.length>=4?Ws[3]:Er[1]),ze.margin=Er}});var Us=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Us},set:function(Ws){Us=Ws}});var Is=0;Object.defineProperty(this,"lastBreak",{get:function(){return Is},set:function(Ws){Is=Ws}});var Vs=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Vs},set:function(Ws){Vs=Ws}}),Object.defineProperty(this,"ctx",{get:function(){return ze},set:function(Ws){Ws instanceof Ve&&(ze=Ws)}}),Object.defineProperty(this,"path",{get:function(){return ze.path},set:function(Ws){ze.path=Ws}});var Ks=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ks},set:function(Ws){Ks=Ws}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ws){var Er;Er=We(Ws),this.ctx.fillStyle=Er.style,this.ctx.isFillTransparent=Er.a===0,this.ctx.fillOpacity=Er.a,this.pdf.setFillColor(Er.r,Er.g,Er.b,{a:Er.a}),this.pdf.setTextColor(Er.r,Er.g,Er.b,{a:Er.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ws){var Er=We(Ws);this.ctx.strokeStyle=Er.style,this.ctx.isStrokeTransparent=Er.a===0,this.ctx.strokeOpacity=Er.a,Er.a===0?this.pdf.setDrawColor(255,255,255):(Er.a,this.pdf.setDrawColor(Er.r,Er.g,Er.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ws){["butt","round","square"].indexOf(Ws)!==-1&&(this.ctx.lineCap=Ws,this.pdf.setLineCap(Ws))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ws){isNaN(Ws)||(this.ctx.lineWidth=Ws,this.pdf.setLineWidth(Ws))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ws){["bevel","round","miter"].indexOf(Ws)!==-1&&(this.ctx.lineJoin=Ws,this.pdf.setLineJoin(Ws))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ws){isNaN(Ws)||(this.ctx.miterLimit=Ws,this.pdf.setMiterLimit(Ws))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ws){this.ctx.textBaseline=Ws}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ws){["right","end","center","left","start"].indexOf(Ws)!==-1&&(this.ctx.textAlign=Ws)}});var or=null,rr=null,ur=null;Object.defineProperty(this,"fontFaces",{get:function(){return ur},set:function(Ws){or=null,rr=null,ur=Ws}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ws){var Er;if(this.ctx.font=Ws,(Er=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Ws))!==null){var zr=Er[1];Er[2];var Or=Er[3],tr=Er[4];Er[5];var Lr=Er[6],Js=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(tr)[2];tr=Math.floor(Js==="px"?parseFloat(tr)*this.pdf.internal.scaleFactor:Js==="em"?parseFloat(tr)*this.pdf.getFontSize():parseFloat(tr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(tr);var lr=function(oi){var Ti,_i,mi=[],Ci=oi.trim();if(Ci==="")return Jt;if(Ci in Mt)return[Mt[Ci]];for(;Ci!=="";){switch(_i=null,Ti=(Ci=Et(Ci)).charAt(0)){case'"':case"'":_i=Rt(Ci.substring(1),Ti);break;default:_i=Dt(Ci)}if(_i===null||(mi.push(_i[0]),(Ci=Et(_i[1]))!==""&&Ci.charAt(0)!==","))return Jt;Ci=Ci.replace(/^,/,"")}return mi}(Lr);if(this.fontFaces){var hr=function(oi,Ti){var _i=oi.getFontList(),mi=JSON.stringify(_i);if(or===null||rr!==mi){var Ci=function(Tr){var Sr=[];return Object.keys(Tr).forEach(function(Ir){Tr[Ir].forEach(function(Kr){var ri=null;switch(Kr){case"bold":ri={family:Ir,weight:"bold"};break;case"italic":ri={family:Ir,style:"italic"};break;case"bolditalic":ri={family:Ir,weight:"bold",style:"italic"};break;case"":case"normal":ri={family:Ir}}ri!==null&&(ri.ref={name:Ir,style:Kr},Sr.push(ri))})}),Sr}(_i);or=function(Tr){for(var Sr={},Ir=0;Ir<Tr.length;++Ir){var Kr=Ct(Tr[Ir]),ri=Kr.family,Wr=Kr.stretch,ai=Kr.style,ii=Kr.weight;Sr[ri]=Sr[ri]||{},Sr[ri][Wr]=Sr[ri][Wr]||{},Sr[ri][Wr][ai]=Sr[ri][Wr][ai]||{},Sr[ri][Wr][ai][ii]=Kr}return Sr}(Ci.concat(Ti)),rr=mi}return or}(this.pdf,this.fontFaces),Ar=lr.map(function(oi){return{family:oi,stretch:"normal",weight:Or,style:zr}}),Pr=function(oi,Ti,_i){for(var mi=(_i=_i||{}).defaultFontFamily||"times",Ci=Object.assign({},Bt,_i.genericFontFamilies||{}),Tr=null,Sr=null,Ir=0;Ir<Ti.length;++Ir)if(Ci[(Tr=Ct(Ti[Ir])).family]&&(Tr.family=Ci[Tr.family]),oi.hasOwnProperty(Tr.family)){Sr=oi[Tr.family];break}if(!(Sr=Sr||oi[mi]))throw new Error("Could not find a font-family for the rule '"+qt(Tr)+"' and default family '"+mi+"'.");if(Sr=function(Kr,ri){if(ri[Kr])return ri[Kr];var Wr=Ft[Kr],ai=Wr<=Ft.normal?-1:1,ii=Ot(ri,kt,Wr,ai);if(!ii)throw new Error("Could not find a matching font-stretch value for "+Kr);return ii}(Tr.stretch,Sr),Sr=function(Kr,ri){if(ri[Kr])return ri[Kr];for(var Wr=Pt[Kr],ai=0;ai<Wr.length;++ai)if(ri[Wr[ai]])return ri[Wr[ai]];throw new Error("Could not find a matching font-style for "+Kr)}(Tr.style,Sr),!(Sr=function(Kr,ri){if(ri[Kr])return ri[Kr];if(Kr===400&&ri[500])return ri[500];if(Kr===500&&ri[400])return ri[400];var Wr=jt[Kr],ai=Ot(ri,It,Wr,Kr<400?-1:1);if(!ai)throw new Error("Could not find a matching font-weight for value "+Kr);return ai}(Tr.weight,Sr)))throw new Error("Failed to resolve a font for the rule '"+qt(Tr)+"'.");return Sr}(hr,Ar);this.pdf.setFont(Pr.ref.name,Pr.ref.style)}else{var vr="";(Or==="bold"||parseInt(Or,10)>=700||zr==="bold")&&(vr="bold"),zr==="italic"&&(vr+="italic"),vr.length===0&&(vr="normal");for(var Mr="",Qr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ur=0;Ur<lr.length;Ur++){if(this.pdf.internal.getFont(lr[Ur],vr,{noFallback:!0,disableWarning:!0})!==void 0){Mr=lr[Ur];break}if(vr==="bolditalic"&&this.pdf.internal.getFont(lr[Ur],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Mr=lr[Ur],vr="bold";else if(this.pdf.internal.getFont(lr[Ur],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Mr=lr[Ur],vr="normal";break}}if(Mr===""){for(var ti=0;ti<lr.length;ti++)if(Qr[lr[ti]]){Mr=Qr[lr[ti]];break}}Mr=Mr===""?"Times":Mr,this.pdf.setFont(Mr,vr)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ws){this.ctx.globalCompositeOperation=Ws}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ws){this.ctx.globalAlpha=Ws}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ws){this.ctx.lineDashOffset=Ws,js.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ws){this.ctx.lineDash=Ws,js.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ws){this.ctx.ignoreClearRect=!!Ws}})};qe.prototype.setLineDash=function(ms){this.lineDash=ms},qe.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},qe.prototype.fill=function(){Xe.call(this,"fill",!1)},qe.prototype.stroke=function(){Xe.call(this,"stroke",!1)},qe.prototype.beginPath=function(){this.path=[{type:"begin"}]},qe.prototype.moveTo=function(ms,ys){if(isNaN(ms)||isNaN(ys))throw o$1.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var ks=this.ctx.transform.applyToPoint(new Me(ms,ys));this.path.push({type:"mt",x:ks.x,y:ks.y}),this.ctx.lastPoint=new Me(ms,ys)},qe.prototype.closePath=function(){var ms=new Me(0,0),ys=0;for(ys=this.path.length-1;ys!==-1;ys--)if(this.path[ys].type==="begin"&&_typeof(this.path[ys+1])==="object"&&typeof this.path[ys+1].x=="number"){ms=new Me(this.path[ys+1].x,this.path[ys+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new Me(ms.x,ms.y)},qe.prototype.lineTo=function(ms,ys){if(isNaN(ms)||isNaN(ys))throw o$1.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var ks=this.ctx.transform.applyToPoint(new Me(ms,ys));this.path.push({type:"lt",x:ks.x,y:ks.y}),this.ctx.lastPoint=new Me(ks.x,ks.y)},qe.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Xe.call(this,null,!0)},qe.prototype.quadraticCurveTo=function(ms,ys,ks,zs){if(isNaN(ks)||isNaN(zs)||isNaN(ms)||isNaN(ys))throw o$1.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Cs=this.ctx.transform.applyToPoint(new Me(ks,zs)),Ps=this.ctx.transform.applyToPoint(new Me(ms,ys));this.path.push({type:"qct",x1:Ps.x,y1:Ps.y,x:Cs.x,y:Cs.y}),this.ctx.lastPoint=new Me(Cs.x,Cs.y)},qe.prototype.bezierCurveTo=function(ms,ys,ks,zs,Cs,Ps){if(isNaN(Cs)||isNaN(Ps)||isNaN(ms)||isNaN(ys)||isNaN(ks)||isNaN(zs))throw o$1.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Us=this.ctx.transform.applyToPoint(new Me(Cs,Ps)),Is=this.ctx.transform.applyToPoint(new Me(ms,ys)),Vs=this.ctx.transform.applyToPoint(new Me(ks,zs));this.path.push({type:"bct",x1:Is.x,y1:Is.y,x2:Vs.x,y2:Vs.y,x:Us.x,y:Us.y}),this.ctx.lastPoint=new Me(Us.x,Us.y)},qe.prototype.arc=function(ms,ys,ks,zs,Cs,Ps){if(isNaN(ms)||isNaN(ys)||isNaN(ks)||isNaN(zs)||isNaN(Cs))throw o$1.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ps=!!Ps,!this.ctx.transform.isIdentity){var Us=this.ctx.transform.applyToPoint(new Me(ms,ys));ms=Us.x,ys=Us.y;var Is=this.ctx.transform.applyToPoint(new Me(0,ks)),Vs=this.ctx.transform.applyToPoint(new Me(0,0));ks=Math.sqrt(Math.pow(Is.x-Vs.x,2)+Math.pow(Is.y-Vs.y,2))}Math.abs(Cs-zs)>=2*Math.PI&&(zs=0,Cs=2*Math.PI),this.path.push({type:"arc",x:ms,y:ys,radius:ks,startAngle:zs,endAngle:Cs,counterclockwise:Ps})},qe.prototype.arcTo=function(ms,ys,ks,zs,Cs){throw new Error("arcTo not implemented.")},qe.prototype.rect=function(ms,ys,ks,zs){if(isNaN(ms)||isNaN(ys)||isNaN(ks)||isNaN(zs))throw o$1.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ms,ys),this.lineTo(ms+ks,ys),this.lineTo(ms+ks,ys+zs),this.lineTo(ms,ys+zs),this.lineTo(ms,ys),this.lineTo(ms+ks,ys),this.lineTo(ms,ys)},qe.prototype.fillRect=function(ms,ys,ks,zs){if(isNaN(ms)||isNaN(ys)||isNaN(ks)||isNaN(zs))throw o$1.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!Ge.call(this)){var Cs={};this.lineCap!=="butt"&&(Cs.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Cs.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ms,ys,ks,zs),this.fill(),Cs.hasOwnProperty("lineCap")&&(this.lineCap=Cs.lineCap),Cs.hasOwnProperty("lineJoin")&&(this.lineJoin=Cs.lineJoin)}},qe.prototype.strokeRect=function(ms,ys,ks,zs){if(isNaN(ms)||isNaN(ys)||isNaN(ks)||isNaN(zs))throw o$1.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Je.call(this)||(this.beginPath(),this.rect(ms,ys,ks,zs),this.stroke())},qe.prototype.clearRect=function(ms,ys,ks,zs){if(isNaN(ms)||isNaN(ys)||isNaN(ks)||isNaN(zs))throw o$1.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ms,ys,ks,zs))},qe.prototype.save=function(ms){ms=typeof ms!="boolean"||ms;for(var ys=this.pdf.internal.getCurrentPageInfo().pageNumber,ks=0;ks<this.pdf.internal.getNumberOfPages();ks++)this.pdf.setPage(ks+1),this.pdf.internal.out("q");if(this.pdf.setPage(ys),ms){this.ctx.fontSize=this.pdf.internal.getFontSize();var zs=new Ve(this.ctx);this.ctxStack.push(this.ctx),this.ctx=zs}},qe.prototype.restore=function(ms){ms=typeof ms!="boolean"||ms;for(var ys=this.pdf.internal.getCurrentPageInfo().pageNumber,ks=0;ks<this.pdf.internal.getNumberOfPages();ks++)this.pdf.setPage(ks+1),this.pdf.internal.out("Q");this.pdf.setPage(ys),ms&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},qe.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var We=function(ms){var ys,ks,zs,Cs;if(ms.isCanvasGradient===!0&&(ms=ms.getColor()),!ms)return{r:0,g:0,b:0,a:0,style:ms};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ms))ys=0,ks=0,zs=0,Cs=0;else{var Ps=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ms);if(Ps!==null)ys=parseInt(Ps[1]),ks=parseInt(Ps[2]),zs=parseInt(Ps[3]),Cs=1;else if((Ps=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ms))!==null)ys=parseInt(Ps[1]),ks=parseInt(Ps[2]),zs=parseInt(Ps[3]),Cs=parseFloat(Ps[4]);else{if(Cs=1,typeof ms=="string"&&ms.charAt(0)!=="#"){var Us=new h(ms);ms=Us.ok?Us.toHex():"#000000"}ms.length===4?(ys=ms.substring(1,2),ys+=ys,ks=ms.substring(2,3),ks+=ks,zs=ms.substring(3,4),zs+=zs):(ys=ms.substring(1,3),ks=ms.substring(3,5),zs=ms.substring(5,7)),ys=parseInt(ys,16),ks=parseInt(ks,16),zs=parseInt(zs,16)}}return{r:ys,g:ks,b:zs,a:Cs,style:ms}},Ge=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},Je=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};qe.prototype.fillText=function(ms,ys,ks,zs){if(isNaN(ys)||isNaN(ks)||typeof ms!="string")throw o$1.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(zs=isNaN(zs)?void 0:zs,!Ge.call(this)){var Cs=ps(this.ctx.transform.rotation),Ps=this.ctx.transform.scaleX;gs.call(this,{text:ms,x:ys,y:ks,scale:Ps,angle:Cs,align:this.textAlign,maxWidth:zs})}},qe.prototype.strokeText=function(ms,ys,ks,zs){if(isNaN(ys)||isNaN(ks)||typeof ms!="string")throw o$1.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Je.call(this)){zs=isNaN(zs)?void 0:zs;var Cs=ps(this.ctx.transform.rotation),Ps=this.ctx.transform.scaleX;gs.call(this,{text:ms,x:ys,y:ks,scale:Ps,renderingMode:"stroke",angle:Cs,align:this.textAlign,maxWidth:zs})}},qe.prototype.measureText=function(ms){if(typeof ms!="string")throw o$1.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ys=this.pdf,ks=this.pdf.internal.scaleFactor,zs=ys.internal.getFontSize(),Cs=ys.getStringUnitWidth(ms)*zs/ys.internal.scaleFactor;return new function(Ps){var Us=(Ps=Ps||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Us}}),this}({width:Cs*=Math.round(96*ks/72*1e4)/1e4})},qe.prototype.scale=function(ms,ys){if(isNaN(ms)||isNaN(ys))throw o$1.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var ks=new Be(ms,0,0,ys,0,0);this.ctx.transform=this.ctx.transform.multiply(ks)},qe.prototype.rotate=function(ms){if(isNaN(ms))throw o$1.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ys=new Be(Math.cos(ms),Math.sin(ms),-Math.sin(ms),Math.cos(ms),0,0);this.ctx.transform=this.ctx.transform.multiply(ys)},qe.prototype.translate=function(ms,ys){if(isNaN(ms)||isNaN(ys))throw o$1.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var ks=new Be(1,0,0,1,ms,ys);this.ctx.transform=this.ctx.transform.multiply(ks)},qe.prototype.transform=function(ms,ys,ks,zs,Cs,Ps){if(isNaN(ms)||isNaN(ys)||isNaN(ks)||isNaN(zs)||isNaN(Cs)||isNaN(Ps))throw o$1.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Us=new Be(ms,ys,ks,zs,Cs,Ps);this.ctx.transform=this.ctx.transform.multiply(Us)},qe.prototype.setTransform=function(ms,ys,ks,zs,Cs,Ps){ms=isNaN(ms)?1:ms,ys=isNaN(ys)?0:ys,ks=isNaN(ks)?0:ks,zs=isNaN(zs)?1:zs,Cs=isNaN(Cs)?0:Cs,Ps=isNaN(Ps)?0:Ps,this.ctx.transform=new Be(ms,ys,ks,zs,Cs,Ps)};var Qe=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};qe.prototype.drawImage=function(ms,ys,ks,zs,Cs,Ps,Us,Is,Vs){var Ks=this.pdf.getImageProperties(ms),or=1,rr=1,ur=1,Ws=1;zs!==void 0&&Is!==void 0&&(ur=Is/zs,Ws=Vs/Cs,or=Ks.width/zs*Is/zs,rr=Ks.height/Cs*Vs/Cs),Ps===void 0&&(Ps=ys,Us=ks,ys=0,ks=0),zs!==void 0&&Is===void 0&&(Is=zs,Vs=Cs),zs===void 0&&Is===void 0&&(Is=Ks.width,Vs=Ks.height);var Er=this.ctx.transform.decompose(),zr=ps(Er.rotate.shx),Or=new Be,tr=(Or=(Or=(Or=Or.multiply(Er.translate)).multiply(Er.skew)).multiply(Er.scale)).applyToRectangle(new Oe(Ps-ys*ur,Us-ks*Ws,zs*or,Cs*rr));if(this.autoPaging){for(var Lr,Js=ns.call(this,tr),lr=[],hr=0;hr<Js.length;hr+=1)lr.indexOf(Js[hr])===-1&&lr.push(Js[hr]);ts(lr);for(var Ar=lr[0],Pr=lr[lr.length-1],vr=Ar;vr<Pr+1;vr++){this.pdf.setPage(vr);var Mr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Qr=vr===1?this.posY+this.margin[0]:this.margin[0],Ur=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ti=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],oi=vr===1?0:Ur+(vr-2)*ti;if(this.ctx.clip_path.length!==0){var Ti=this.path;Lr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=rs(Lr,this.posX+this.margin[3],-oi+Qr+this.ctx.prevPageLastElemOffset),is.call(this,"fill",!0),this.path=Ti}var _i=JSON.parse(JSON.stringify(tr));_i=rs([_i],this.posX+this.margin[3],-oi+Qr+this.ctx.prevPageLastElemOffset)[0];var mi=(vr>Ar||vr<Pr)&&Qe.call(this);mi&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mr,ti,null).clip().discardPath()),this.pdf.addImage(ms,"JPEG",_i.x,_i.y,_i.w,_i.h,null,null,zr),mi&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(ms,"JPEG",tr.x,tr.y,tr.w,tr.h,null,null,zr)};var ns=function(ms,ys,ks){var zs=[];ys=ys||this.pdf.internal.pageSize.width,ks=ks||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Cs=this.posY+this.ctx.prevPageLastElemOffset;switch(ms.type){default:case"mt":case"lt":zs.push(Math.floor((ms.y+Cs)/ks)+1);break;case"arc":zs.push(Math.floor((ms.y+Cs-ms.radius)/ks)+1),zs.push(Math.floor((ms.y+Cs+ms.radius)/ks)+1);break;case"qct":var Ps=_s(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ms.x1,ms.y1,ms.x,ms.y);zs.push(Math.floor((Ps.y+Cs)/ks)+1),zs.push(Math.floor((Ps.y+Ps.h+Cs)/ks)+1);break;case"bct":var Us=ws(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ms.x1,ms.y1,ms.x2,ms.y2,ms.x,ms.y);zs.push(Math.floor((Us.y+Cs)/ks)+1),zs.push(Math.floor((Us.y+Us.h+Cs)/ks)+1);break;case"rect":zs.push(Math.floor((ms.y+Cs)/ks)+1),zs.push(Math.floor((ms.y+ms.h+Cs)/ks)+1)}for(var Is=0;Is<zs.length;Is+=1)for(;this.pdf.internal.getNumberOfPages()<zs[Is];)Ye.call(this);return zs},Ye=function(){var ms=this.fillStyle,ys=this.strokeStyle,ks=this.font,zs=this.lineCap,Cs=this.lineWidth,Ps=this.lineJoin;this.pdf.addPage(),this.fillStyle=ms,this.strokeStyle=ys,this.font=ks,this.lineCap=zs,this.lineWidth=Cs,this.lineJoin=Ps},rs=function(ms,ys,ks){for(var zs=0;zs<ms.length;zs++)switch(ms[zs].type){case"bct":ms[zs].x2+=ys,ms[zs].y2+=ks;case"qct":ms[zs].x1+=ys,ms[zs].y1+=ks;default:ms[zs].x+=ys,ms[zs].y+=ks}return ms},ts=function(ms){return ms.sort(function(ys,ks){return ys-ks})},Xe=function(ms,ys){var ks=this.fillStyle,zs=this.strokeStyle,Cs=this.lineCap,Ps=this.lineWidth,Us=Math.abs(Ps*this.ctx.transform.scaleX),Is=this.lineJoin;if(this.autoPaging){for(var Vs,Ks,or=JSON.parse(JSON.stringify(this.path)),rr=JSON.parse(JSON.stringify(this.path)),ur=[],Ws=0;Ws<rr.length;Ws++)if(rr[Ws].x!==void 0)for(var Er=ns.call(this,rr[Ws]),zr=0;zr<Er.length;zr+=1)ur.indexOf(Er[zr])===-1&&ur.push(Er[zr]);for(var Or=0;Or<ur.length;Or++)for(;this.pdf.internal.getNumberOfPages()<ur[Or];)Ye.call(this);ts(ur);for(var tr=ur[0],Lr=ur[ur.length-1],Js=tr;Js<Lr+1;Js++){this.pdf.setPage(Js),this.fillStyle=ks,this.strokeStyle=zs,this.lineCap=Cs,this.lineWidth=Us,this.lineJoin=Is;var lr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],hr=Js===1?this.posY+this.margin[0]:this.margin[0],Ar=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pr=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],vr=Js===1?0:Ar+(Js-2)*Pr;if(this.ctx.clip_path.length!==0){var Mr=this.path;Vs=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=rs(Vs,this.posX+this.margin[3],-vr+hr+this.ctx.prevPageLastElemOffset),is.call(this,ms,!0),this.path=Mr}if(Ks=JSON.parse(JSON.stringify(or)),this.path=rs(Ks,this.posX+this.margin[3],-vr+hr+this.ctx.prevPageLastElemOffset),ys===!1||Js===0){var Qr=(Js>tr||Js<Lr)&&Qe.call(this);Qr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lr,Pr,null).clip().discardPath()),is.call(this,ms,ys),Qr&&this.pdf.restoreGraphicsState()}this.lineWidth=Ps}this.path=or}else this.lineWidth=Us,is.call(this,ms,ys),this.lineWidth=Ps},is=function(ms,ys){if((ms!=="stroke"||ys||!Je.call(this))&&(ms==="stroke"||ys||!Ge.call(this))){for(var ks,zs,Cs=[],Ps=this.path,Us=0;Us<Ps.length;Us++){var Is=Ps[Us];switch(Is.type){case"begin":Cs.push({begin:!0});break;case"close":Cs.push({close:!0});break;case"mt":Cs.push({start:Is,deltas:[],abs:[]});break;case"lt":var Vs=Cs.length;if(Ps[Us-1]&&!isNaN(Ps[Us-1].x)&&(ks=[Is.x-Ps[Us-1].x,Is.y-Ps[Us-1].y],Vs>0)){for(;Vs>=0;Vs--)if(Cs[Vs-1].close!==!0&&Cs[Vs-1].begin!==!0){Cs[Vs-1].deltas.push(ks),Cs[Vs-1].abs.push(Is);break}}break;case"bct":ks=[Is.x1-Ps[Us-1].x,Is.y1-Ps[Us-1].y,Is.x2-Ps[Us-1].x,Is.y2-Ps[Us-1].y,Is.x-Ps[Us-1].x,Is.y-Ps[Us-1].y],Cs[Cs.length-1].deltas.push(ks);break;case"qct":var Ks=Ps[Us-1].x+2/3*(Is.x1-Ps[Us-1].x),or=Ps[Us-1].y+2/3*(Is.y1-Ps[Us-1].y),rr=Is.x+2/3*(Is.x1-Is.x),ur=Is.y+2/3*(Is.y1-Is.y),Ws=Is.x,Er=Is.y;ks=[Ks-Ps[Us-1].x,or-Ps[Us-1].y,rr-Ps[Us-1].x,ur-Ps[Us-1].y,Ws-Ps[Us-1].x,Er-Ps[Us-1].y],Cs[Cs.length-1].deltas.push(ks);break;case"arc":Cs.push({deltas:[],abs:[],arc:!0}),Array.isArray(Cs[Cs.length-1].abs)&&Cs[Cs.length-1].abs.push(Is)}}zs=ys?null:ms==="stroke"?"stroke":"fill";for(var zr=!1,Or=0;Or<Cs.length;Or++)if(Cs[Or].arc)for(var tr=Cs[Or].abs,Lr=0;Lr<tr.length;Lr++){var Js=tr[Lr];Js.type==="arc"?fs.call(this,Js.x,Js.y,Js.radius,Js.startAngle,Js.endAngle,Js.counterclockwise,void 0,ys,!zr):Ts.call(this,Js.x,Js.y),zr=!0}else if(Cs[Or].close===!0)this.pdf.internal.out("h"),zr=!1;else if(Cs[Or].begin!==!0){var lr=Cs[Or].start.x,hr=Cs[Or].start.y;Ds.call(this,Cs[Or].deltas,lr,hr),zr=!0}zs&&xs.call(this,zs),ys&&Ss.call(this)}},os=function(ms){var ys=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,ks=ys*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ms-ks;case"top":return ms+ys-ks;case"hanging":return ms+ys-2*ks;case"middle":return ms+ys/2-ks;default:return ms}},hs=function(ms){return ms+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};qe.prototype.createLinearGradient=function(){var ms=function(){};return ms.colorStops=[],ms.addColorStop=function(ys,ks){this.colorStops.push([ys,ks])},ms.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},ms.isCanvasGradient=!0,ms},qe.prototype.createPattern=function(){return this.createLinearGradient()},qe.prototype.createRadialGradient=function(){return this.createLinearGradient()};var fs=function(ms,ys,ks,zs,Cs,Ps,Us,Is,Vs){for(var Ks=bs.call(this,ks,zs,Cs,Ps),or=0;or<Ks.length;or++){var rr=Ks[or];or===0&&(Vs?ds.call(this,rr.x1+ms,rr.y1+ys):Ts.call(this,rr.x1+ms,rr.y1+ys)),Ms.call(this,ms,ys,rr.x2,rr.y2,rr.x3,rr.y3,rr.x4,rr.y4)}Is?Ss.call(this):xs.call(this,Us)},xs=function(ms){switch(ms){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Ss=function(){this.pdf.clip(),this.pdf.discardPath()},ds=function(ms,ys){this.pdf.internal.out(Ee(ms)+" "+Ce(ys)+" m")},gs=function(ms){var ys;switch(ms.align){case"right":case"end":ys="right";break;case"center":ys="center";break;default:ys="left"}var ks,zs,Cs,Ps=this.pdf.getTextDimensions(ms.text),Us=os.call(this,ms.y),Is=hs.call(this,Us)-Ps.h,Vs=this.ctx.transform.applyToPoint(new Me(ms.x,Us));if(this.autoPaging){var Ks=this.ctx.transform.decompose(),or=new Be;or=(or=(or=or.multiply(Ks.translate)).multiply(Ks.skew)).multiply(Ks.scale);for(var rr=this.ctx.transform.applyToRectangle(new Oe(ms.x,Us,Ps.w,Ps.h)),ur=or.applyToRectangle(new Oe(ms.x,Is,Ps.w,Ps.h)),Ws=ns.call(this,ur),Er=[],zr=0;zr<Ws.length;zr+=1)Er.indexOf(Ws[zr])===-1&&Er.push(Ws[zr]);ts(Er);for(var Or=Er[0],tr=Er[Er.length-1],Lr=Or;Lr<tr+1;Lr++){this.pdf.setPage(Lr);var Js=Lr===1?this.posY+this.margin[0]:this.margin[0],lr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],hr=this.pdf.internal.pageSize.height-this.margin[2],Ar=hr-this.margin[0],Pr=this.pdf.internal.pageSize.width-this.margin[1],vr=Pr-this.margin[3],Mr=Lr===1?0:lr+(Lr-2)*Ar;if(this.ctx.clip_path.length!==0){var Qr=this.path;ks=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=rs(ks,this.posX+this.margin[3],-1*Mr+Js),is.call(this,"fill",!0),this.path=Qr}var Ur=rs([JSON.parse(JSON.stringify(ur))],this.posX+this.margin[3],-Mr+Js+this.ctx.prevPageLastElemOffset)[0];ms.scale>=.01&&(zs=this.pdf.internal.getFontSize(),this.pdf.setFontSize(zs*ms.scale),Cs=this.lineWidth,this.lineWidth=Cs*ms.scale);var ti=this.autoPaging!=="text";if(ti||Ur.y+Ur.h<=hr){if(ti||Ur.y>=Js&&Ur.x<=Pr){var oi=ti?ms.text:this.pdf.splitTextToSize(ms.text,ms.maxWidth||Pr-Ur.x)[0],Ti=rs([JSON.parse(JSON.stringify(rr))],this.posX+this.margin[3],-Mr+Js+this.ctx.prevPageLastElemOffset)[0],_i=ti&&(Lr>Or||Lr<tr)&&Qe.call(this);_i&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],vr,Ar,null).clip().discardPath()),this.pdf.text(oi,Ti.x,Ti.y,{angle:ms.angle,align:ys,renderingMode:ms.renderingMode}),_i&&this.pdf.restoreGraphicsState()}}else Ur.y<hr&&(this.ctx.prevPageLastElemOffset+=hr-Ur.y);ms.scale>=.01&&(this.pdf.setFontSize(zs),this.lineWidth=Cs)}}else ms.scale>=.01&&(zs=this.pdf.internal.getFontSize(),this.pdf.setFontSize(zs*ms.scale),Cs=this.lineWidth,this.lineWidth=Cs*ms.scale),this.pdf.text(ms.text,Vs.x+this.posX,Vs.y+this.posY,{angle:ms.angle,align:ys,renderingMode:ms.renderingMode,maxWidth:ms.maxWidth}),ms.scale>=.01&&(this.pdf.setFontSize(zs),this.lineWidth=Cs)},Ts=function(ms,ys,ks,zs){ks=ks||0,zs=zs||0,this.pdf.internal.out(Ee(ms+ks)+" "+Ce(ys+zs)+" l")},Ds=function(ms,ys,ks){return this.pdf.lines(ms,ys,ks,null,null)},Ms=function(ms,ys,ks,zs,Cs,Ps,Us,Is){this.pdf.internal.out([e(Te(ks+ms)),e(De(zs+ys)),e(Te(Cs+ms)),e(De(Ps+ys)),e(Te(Us+ms)),e(De(Is+ys)),"c"].join(" "))},bs=function(ms,ys,ks,zs){for(var Cs=2*Math.PI,Ps=Math.PI/2;ys>ks;)ys-=Cs;var Us=Math.abs(ks-ys);Us<Cs&&zs&&(Us=Cs-Us);for(var Is=[],Vs=zs?-1:1,Ks=ys;Us>1e-5;){var or=Ks+Vs*Math.min(Us,Ps);Is.push(Ns.call(this,ms,Ks,or)),Us-=Math.abs(or-Ks),Ks=or}return Is},Ns=function(ms,ys,ks){var zs=(ks-ys)/2,Cs=ms*Math.cos(zs),Ps=ms*Math.sin(zs),Us=Cs,Is=-Ps,Vs=Us*Us+Is*Is,Ks=Vs+Us*Cs+Is*Ps,or=4/3*(Math.sqrt(2*Vs*Ks)-Ks)/(Us*Ps-Is*Cs),rr=Us-or*Is,ur=Is+or*Us,Ws=rr,Er=-ur,zr=zs+ys,Or=Math.cos(zr),tr=Math.sin(zr);return{x1:ms*Math.cos(ys),y1:ms*Math.sin(ys),x2:rr*Or-ur*tr,y2:rr*tr+ur*Or,x3:Ws*Or-Er*tr,y3:Ws*tr+Er*Or,x4:ms*Math.cos(ks),y4:ms*Math.sin(ks)}},ps=function(ms){return 180*ms/Math.PI},_s=function(ms,ys,ks,zs,Cs,Ps){var Us=ms+.5*(ks-ms),Is=ys+.5*(zs-ys),Vs=Cs+.5*(ks-Cs),Ks=Ps+.5*(zs-Ps),or=Math.min(ms,Cs,Us,Vs),rr=Math.max(ms,Cs,Us,Vs),ur=Math.min(ys,Ps,Is,Ks),Ws=Math.max(ys,Ps,Is,Ks);return new Oe(or,ur,rr-or,Ws-ur)},ws=function(ms,ys,ks,zs,Cs,Ps,Us,Is){var Vs,Ks,or,rr,ur,Ws,Er,zr,Or,tr,Lr,Js,lr,hr,Ar=ks-ms,Pr=zs-ys,vr=Cs-ks,Mr=Ps-zs,Qr=Us-Cs,Ur=Is-Ps;for(Ks=0;Ks<41;Ks++)Or=(Er=(or=ms+(Vs=Ks/40)*Ar)+Vs*((ur=ks+Vs*vr)-or))+Vs*(ur+Vs*(Cs+Vs*Qr-ur)-Er),tr=(zr=(rr=ys+Vs*Pr)+Vs*((Ws=zs+Vs*Mr)-rr))+Vs*(Ws+Vs*(Ps+Vs*Ur-Ws)-zr),Ks==0?(Lr=Or,Js=tr,lr=Or,hr=tr):(Lr=Math.min(Lr,Or),Js=Math.min(Js,tr),lr=Math.max(lr,Or),hr=Math.max(hr,tr));return new Oe(Math.round(Lr),Math.round(Js),Math.round(lr-Lr),Math.round(hr-Js))},js=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ms,ys,ks=(ms=this.ctx.lineDash,ys=this.ctx.lineDashOffset,JSON.stringify({lineDash:ms,lineDashOffset:ys}));this.prevLineDash!==ks&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=ks)}}})(E.API),function(Re){var e=function(Me){var Oe,Be,ze,Ve,qe,We,Ge,Je,Qe,ns;for(Be=[],ze=0,Ve=(Me+=Oe="\0\0\0\0".slice(Me.length%4||4)).length;Ve>ze;ze+=4)(qe=(Me.charCodeAt(ze)<<24)+(Me.charCodeAt(ze+1)<<16)+(Me.charCodeAt(ze+2)<<8)+Me.charCodeAt(ze+3))!==0?(We=(qe=((qe=((qe=((qe=(qe-(ns=qe%85))/85)-(Qe=qe%85))/85)-(Je=qe%85))/85)-(Ge=qe%85))/85)%85,Be.push(We+33,Ge+33,Je+33,Qe+33,ns+33)):Be.push(122);return function(Ye,rs){for(var ts=rs;ts>0;ts--)Ye.pop()}(Be,Oe.length),String.fromCharCode.apply(String,Be)+"~>"},Ee=function(Me){var Oe,Be,ze,Ve,qe,We=String,Ge="length",Je=255,Qe="charCodeAt",ns="slice",Ye="replace";for(Me[ns](-2),Me=Me[ns](0,-2)[Ye](/\s/g,"")[Ye]("z","!!!!!"),ze=[],Ve=0,qe=(Me+=Oe="uuuuu"[ns](Me[Ge]%5||5))[Ge];qe>Ve;Ve+=5)Be=52200625*(Me[Qe](Ve)-33)+614125*(Me[Qe](Ve+1)-33)+7225*(Me[Qe](Ve+2)-33)+85*(Me[Qe](Ve+3)-33)+(Me[Qe](Ve+4)-33),ze.push(Je&Be>>24,Je&Be>>16,Je&Be>>8,Je&Be);return function(rs,ts){for(var Xe=ts;Xe>0;Xe--)rs.pop()}(ze,Oe[Ge]),We.fromCharCode.apply(We,ze)},Ce=function(Me){return Me.split("").map(function(Oe){return("0"+Oe.charCodeAt().toString(16)).slice(-2)}).join("")+">"},Te=function(Me){var Oe=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((Me=Me.replace(/\s/g,"")).indexOf(">")!==-1&&(Me=Me.substr(0,Me.indexOf(">"))),Me.length%2&&(Me+="0"),Oe.test(Me)===!1)return"";for(var Be="",ze=0;ze<Me.length;ze+=2)Be+=String.fromCharCode("0x"+(Me[ze]+Me[ze+1]));return Be},De=function(Me){for(var Oe=new Uint8Array(Me.length),Be=Me.length;Be--;)Oe[Be]=Me.charCodeAt(Be);return(Oe=zlibSync(Oe)).reduce(function(ze,Ve){return ze+String.fromCharCode(Ve)},"")};Re.processDataByFilters=function(Me,Oe){var Be=0,ze=Me||"",Ve=[];for(typeof(Oe=Oe||[])=="string"&&(Oe=[Oe]),Be=0;Be<Oe.length;Be+=1)switch(Oe[Be]){case"ASCII85Decode":case"/ASCII85Decode":ze=Ee(ze),Ve.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":ze=e(ze),Ve.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":ze=Te(ze),Ve.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":ze=Ce(ze),Ve.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":ze=De(ze),Ve.push("/FlateDecode");break;default:throw new Error('The filter: "'+Oe[Be]+'" is not implemented')}return{data:ze,reverseChain:Ve.reverse().join(" ")}}}(E.API),function(Re){Re.loadFile=function(e,Ee,Ce){return function(Te,De,Me){De=De!==!1,Me=typeof Me=="function"?Me:function(){};var Oe=void 0;try{Oe=function(Be,ze,Ve){var qe=new XMLHttpRequest,We=0,Ge=function(Je){var Qe=Je.length,ns=[],Ye=String.fromCharCode;for(We=0;We<Qe;We+=1)ns.push(Ye(255&Je.charCodeAt(We)));return ns.join("")};if(qe.open("GET",Be,!ze),qe.overrideMimeType("text/plain; charset=x-user-defined"),ze===!1&&(qe.onload=function(){qe.status===200?Ve(Ge(this.responseText)):Ve(void 0)}),qe.send(null),ze&&qe.status===200)return Ge(qe.responseText)}(Te,De,Me)}catch{}return Oe}(e,Ee,Ce)},Re.loadImageFile=Re.loadFile}(E.API),function(Re){function e(){return(i$2.html2canvas?Promise.resolve(i$2.html2canvas):__vitePreload(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(Oe){return Promise.reject(new Error("Could not load html2canvas: "+Oe))}).then(function(Oe){return Oe.default?Oe.default:Oe})}function Ee(){return(i$2.DOMPurify?Promise.resolve(i$2.DOMPurify):__vitePreload(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(Oe){return Promise.reject(new Error("Could not load dompurify: "+Oe))}).then(function(Oe){return Oe.default?Oe.default:Oe})}var Ce=function(Oe){var Be=_typeof(Oe);return Be==="undefined"?"undefined":Be==="string"||Oe instanceof String?"string":Be==="number"||Oe instanceof Number?"number":Be==="function"||Oe instanceof Function?"function":Oe&&Oe.constructor===Array?"array":Oe&&Oe.nodeType===1?"element":Be==="object"?"object":"unknown"},Te=function(Oe,Be){var ze=document.createElement(Oe);for(var Ve in Be.className&&(ze.className=Be.className),Be.innerHTML&&Be.dompurify&&(ze.innerHTML=Be.dompurify.sanitize(Be.innerHTML)),Be.style)ze.style[Ve]=Be.style[Ve];return ze},De=function Oe(Be,ze){for(var Ve=Be.nodeType===3?document.createTextNode(Be.nodeValue):Be.cloneNode(!1),qe=Be.firstChild;qe;qe=qe.nextSibling)ze!==!0&&qe.nodeType===1&&qe.nodeName==="SCRIPT"||Ve.appendChild(Oe(qe,ze));return Be.nodeType===1&&(Be.nodeName==="CANVAS"?(Ve.width=Be.width,Ve.height=Be.height,Ve.getContext("2d").drawImage(Be,0,0)):Be.nodeName!=="TEXTAREA"&&Be.nodeName!=="SELECT"||(Ve.value=Be.value),Ve.addEventListener("load",function(){Ve.scrollTop=Be.scrollTop,Ve.scrollLeft=Be.scrollLeft},!0)),Ve},Me=function Oe(Be){var ze=Object.assign(Oe.convert(Promise.resolve()),JSON.parse(JSON.stringify(Oe.template))),Ve=Oe.convert(Promise.resolve(),ze);return(Ve=Ve.setProgress(1,Oe,1,[Oe])).set(Be)};(Me.prototype=Object.create(Promise.prototype)).constructor=Me,Me.convert=function(Oe,Be){return Oe.__proto__=Be||Me.prototype,Oe},Me.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},Me.prototype.from=function(Oe,Be){return this.then(function(){switch(Be=Be||function(ze){switch(Ce(ze)){case"string":return"string";case"element":return ze.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(Oe),Be){case"string":return this.then(Ee).then(function(ze){return this.set({src:Te("div",{innerHTML:Oe,dompurify:ze})})});case"element":return this.set({src:Oe});case"canvas":return this.set({canvas:Oe});case"img":return this.set({img:Oe});default:return this.error("Unknown source type.")}})},Me.prototype.to=function(Oe){switch(Oe){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},Me.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var Oe={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},Be=De(this.prop.src,this.opt.html2canvas.javascriptEnabled);Be.tagName==="BODY"&&(Oe.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=Te("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=Te("div",{className:"html2pdf__container",style:Oe}),this.prop.container.appendChild(Be),this.prop.container.firstChild.appendChild(Te("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},Me.prototype.toCanvas=function(){var Oe=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Oe).then(e).then(function(Be){var ze=Object.assign({},this.opt.html2canvas);return delete ze.onrendered,Be(this.prop.container,ze)}).then(function(Be){(this.opt.html2canvas.onrendered||function(){})(Be),this.prop.canvas=Be,document.body.removeChild(this.prop.overlay)})},Me.prototype.toContext2d=function(){var Oe=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(Oe).then(e).then(function(Be){var ze=this.opt.jsPDF,Ve=this.opt.fontFaces,qe=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,We=Object.assign({async:!0,allowTaint:!0,scale:qe,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete We.onrendered,ze.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,ze.context2d.posX=this.opt.x,ze.context2d.posY=this.opt.y,ze.context2d.margin=this.opt.margin,ze.context2d.fontFaces=Ve,Ve)for(var Ge=0;Ge<Ve.length;++Ge){var Je=Ve[Ge],Qe=Je.src.find(function(ns){return ns.format==="truetype"});Qe&&ze.addFont(Qe.url,Je.ref.name,Je.ref.style)}return We.windowHeight=We.windowHeight||0,We.windowHeight=We.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):We.windowHeight,ze.context2d.save(!0),Be(this.prop.container,We)}).then(function(Be){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(Be),this.prop.canvas=Be,document.body.removeChild(this.prop.overlay)})},Me.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var Oe=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=Oe})},Me.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},Me.prototype.output=function(Oe,Be,ze){return(ze=ze||"pdf").toLowerCase()==="img"||ze.toLowerCase()==="image"?this.outputImg(Oe,Be):this.outputPdf(Oe,Be)},Me.prototype.outputPdf=function(Oe,Be){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(Oe,Be)})},Me.prototype.outputImg=function(Oe){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(Oe){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+Oe+'" is not supported.'}})},Me.prototype.save=function(Oe){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(Oe?{filename:Oe}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},Me.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},Me.prototype.set=function(Oe){if(Ce(Oe)!=="object")return this;var Be=Object.keys(Oe||{}).map(function(ze){if(ze in Me.template.prop)return function(){this.prop[ze]=Oe[ze]};switch(ze){case"margin":return this.setMargin.bind(this,Oe.margin);case"jsPDF":return function(){return this.opt.jsPDF=Oe.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,Oe.pageSize);default:return function(){this.opt[ze]=Oe[ze]}}},this);return this.then(function(){return this.thenList(Be)})},Me.prototype.get=function(Oe,Be){return this.then(function(){var ze=Oe in Me.template.prop?this.prop[Oe]:this.opt[Oe];return Be?Be(ze):ze})},Me.prototype.setMargin=function(Oe){return this.then(function(){switch(Ce(Oe)){case"number":Oe=[Oe,Oe,Oe,Oe];case"array":if(Oe.length===2&&(Oe=[Oe[0],Oe[1],Oe[0],Oe[1]]),Oe.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=Oe}).then(this.setPageSize)},Me.prototype.setPageSize=function(Oe){function Be(ze,Ve){return Math.floor(ze*Ve/72*96)}return this.then(function(){(Oe=Oe||E.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(Oe.inner={width:Oe.width-this.opt.margin[1]-this.opt.margin[3],height:Oe.height-this.opt.margin[0]-this.opt.margin[2]},Oe.inner.px={width:Be(Oe.inner.width,Oe.k),height:Be(Oe.inner.height,Oe.k)},Oe.inner.ratio=Oe.inner.height/Oe.inner.width),this.prop.pageSize=Oe})},Me.prototype.setProgress=function(Oe,Be,ze,Ve){return Oe!=null&&(this.progress.val=Oe),Be!=null&&(this.progress.state=Be),ze!=null&&(this.progress.n=ze),Ve!=null&&(this.progress.stack=Ve),this.progress.ratio=this.progress.val/this.progress.state,this},Me.prototype.updateProgress=function(Oe,Be,ze,Ve){return this.setProgress(Oe?this.progress.val+Oe:null,Be||null,ze?this.progress.n+ze:null,Ve?this.progress.stack.concat(Ve):null)},Me.prototype.then=function(Oe,Be){var ze=this;return this.thenCore(Oe,Be,function(Ve,qe){return ze.updateProgress(null,null,1,[Ve]),Promise.prototype.then.call(this,function(We){return ze.updateProgress(null,Ve),We}).then(Ve,qe).then(function(We){return ze.updateProgress(1),We})})},Me.prototype.thenCore=function(Oe,Be,ze){ze=ze||Promise.prototype.then;var Ve=this;Oe&&(Oe=Oe.bind(Ve)),Be&&(Be=Be.bind(Ve));var qe=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?Ve:Me.convert(Object.assign({},Ve),Promise.prototype),We=ze.call(qe,Oe,Be);return Me.convert(We,Ve.__proto__)},Me.prototype.thenExternal=function(Oe,Be){return Promise.prototype.then.call(this,Oe,Be)},Me.prototype.thenList=function(Oe){var Be=this;return Oe.forEach(function(ze){Be=Be.thenCore(ze)}),Be},Me.prototype.catch=function(Oe){Oe&&(Oe=Oe.bind(this));var Be=Promise.prototype.catch.call(this,Oe);return Me.convert(Be,this)},Me.prototype.catchExternal=function(Oe){return Promise.prototype.catch.call(this,Oe)},Me.prototype.error=function(Oe){return this.then(function(){throw new Error(Oe)})},Me.prototype.using=Me.prototype.set,Me.prototype.saveAs=Me.prototype.save,Me.prototype.export=Me.prototype.output,Me.prototype.run=Me.prototype.then,E.getPageSize=function(Oe,Be,ze){if(_typeof(Oe)==="object"){var Ve=Oe;Oe=Ve.orientation,Be=Ve.unit||Be,ze=Ve.format||ze}Be=Be||"mm",ze=ze||"a4",Oe=(""+(Oe||"P")).toLowerCase();var qe,We=(""+ze).toLowerCase(),Ge={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(Be){case"pt":qe=1;break;case"mm":qe=72/25.4;break;case"cm":qe=72/2.54;break;case"in":qe=72;break;case"px":qe=.75;break;case"pc":case"em":qe=12;break;case"ex":qe=6;break;default:throw"Invalid unit: "+Be}var Je,Qe=0,ns=0;if(Ge.hasOwnProperty(We))Qe=Ge[We][1]/qe,ns=Ge[We][0]/qe;else try{Qe=ze[1],ns=ze[0]}catch{throw new Error("Invalid format: "+ze)}if(Oe==="p"||Oe==="portrait")Oe="p",ns>Qe&&(Je=ns,ns=Qe,Qe=Je);else{if(Oe!=="l"&&Oe!=="landscape")throw"Invalid orientation: "+Oe;Oe="l",Qe>ns&&(Je=ns,ns=Qe,Qe=Je)}return{width:ns,height:Qe,unit:Be,k:qe,orientation:Oe}},Re.html=function(Oe,Be){(Be=Be||{}).callback=Be.callback||function(){},Be.html2canvas=Be.html2canvas||{},Be.html2canvas.canvas=Be.html2canvas.canvas||this.canvas,Be.jsPDF=Be.jsPDF||this,Be.fontFaces=Be.fontFaces?Be.fontFaces.map(Ct):null;var ze=new Me(Be);return Be.worker?ze:ze.from(Oe).doCallback()}}(E.API),E.API.addJS=function(Re){return Ut=Re,this.internal.events.subscribe("postPutResources",function(){Tt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Tt+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Ut+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Tt!==void 0&&zt!==void 0&&this.internal.out("/Names <</JavaScript "+Tt+" 0 R>>")}),this},function(Re){var e;Re.events.push(["postPutResources",function(){var Ee=this,Ce=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var Te=Ee.outline.render().split(/\r\n/),De=0;De<Te.length;De++){var Me=Te[De],Oe=Ce.exec(Me);if(Oe!=null){var Be=Oe[1];Ee.internal.newObjectDeferredBegin(Be,!1)}Ee.internal.write(Me)}if(this.outline.createNamedDestinations){var ze=this.internal.pages.length,Ve=[];for(De=0;De<ze;De++){var qe=Ee.internal.newObject();Ve.push(qe);var We=Ee.internal.getPageInfo(De+1);Ee.internal.write("<< /D["+We.objId+" 0 R /XYZ null null null]>> endobj")}var Ge=Ee.internal.newObject();for(Ee.internal.write("<< /Names [ "),De=0;De<Ve.length;De++)Ee.internal.write("(page_"+(De+1)+")"+Ve[De]+" 0 R");Ee.internal.write(" ] >>","endobj"),e=Ee.internal.newObject(),Ee.internal.write("<< /Dests "+Ge+" 0 R"),Ee.internal.write(">>","endobj")}}]),Re.events.push(["putCatalog",function(){var Ee=this;Ee.outline.root.children.length>0&&(Ee.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&Ee.internal.write("/Names "+e+" 0 R"))}]),Re.events.push(["initialized",function(){var Ee=this;Ee.outline={createNamedDestinations:!1,root:{children:[]}},Ee.outline.add=function(Ce,Te,De){var Me={title:Te,options:De,children:[]};return Ce==null&&(Ce=this.root),Ce.children.push(Me),Me},Ee.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=Ee,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},Ee.outline.genIds_r=function(Ce){Ce.id=Ee.internal.newObjectDeferred();for(var Te=0;Te<Ce.children.length;Te++)this.genIds_r(Ce.children[Te])},Ee.outline.renderRoot=function(Ce){this.objStart(Ce),this.line("/Type /Outlines"),Ce.children.length>0&&(this.line("/First "+this.makeRef(Ce.children[0])),this.line("/Last "+this.makeRef(Ce.children[Ce.children.length-1]))),this.line("/Count "+this.count_r({count:0},Ce)),this.objEnd()},Ee.outline.renderItems=function(Ce){for(var Te=this.ctx.pdf.internal.getVerticalCoordinateString,De=0;De<Ce.children.length;De++){var Me=Ce.children[De];this.objStart(Me),this.line("/Title "+this.makeString(Me.title)),this.line("/Parent "+this.makeRef(Ce)),De>0&&this.line("/Prev "+this.makeRef(Ce.children[De-1])),De<Ce.children.length-1&&this.line("/Next "+this.makeRef(Ce.children[De+1])),Me.children.length>0&&(this.line("/First "+this.makeRef(Me.children[0])),this.line("/Last "+this.makeRef(Me.children[Me.children.length-1])));var Oe=this.count=this.count_r({count:0},Me);if(Oe>0&&this.line("/Count "+Oe),Me.options&&Me.options.pageNumber){var Be=Ee.internal.getPageInfo(Me.options.pageNumber);this.line("/Dest ["+Be.objId+" 0 R /XYZ 0 "+Te(0)+" 0]")}this.objEnd()}for(var ze=0;ze<Ce.children.length;ze++)this.renderItems(Ce.children[ze])},Ee.outline.line=function(Ce){this.ctx.val+=Ce+`\r
`},Ee.outline.makeRef=function(Ce){return Ce.id+" 0 R"},Ee.outline.makeString=function(Ce){return"("+Ee.internal.pdfEscape(Ce)+")"},Ee.outline.objStart=function(Ce){this.ctx.val+=`\r
`+Ce.id+` 0 obj\r
<<\r
`},Ee.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},Ee.outline.count_r=function(Ce,Te){for(var De=0;De<Te.children.length;De++)Ce.count++,this.count_r(Ce,Te.children[De]);return Ce.count}}])}(E.API),function(Re){var e=[192,193,194,195,196,197,198,199];Re.processJPEG=function(Ee,Ce,Te,De,Me,Oe){var Be,ze=this.decode.DCT_DECODE,Ve=null;if(typeof Ee=="string"||this.__addimage__.isArrayBuffer(Ee)||this.__addimage__.isArrayBufferView(Ee)){switch(Ee=Me||Ee,Ee=this.__addimage__.isArrayBuffer(Ee)?new Uint8Array(Ee):Ee,Be=function(qe){for(var We,Ge=256*qe.charCodeAt(4)+qe.charCodeAt(5),Je=qe.length,Qe={width:0,height:0,numcomponents:1},ns=4;ns<Je;ns+=2){if(ns+=Ge,e.indexOf(qe.charCodeAt(ns+1))!==-1){We=256*qe.charCodeAt(ns+5)+qe.charCodeAt(ns+6),Qe={width:256*qe.charCodeAt(ns+7)+qe.charCodeAt(ns+8),height:We,numcomponents:qe.charCodeAt(ns+9)};break}Ge=256*qe.charCodeAt(ns+2)+qe.charCodeAt(ns+3)}return Qe}(Ee=this.__addimage__.isArrayBufferView(Ee)?this.__addimage__.arrayBufferToBinaryString(Ee):Ee),Be.numcomponents){case 1:Oe=this.color_spaces.DEVICE_GRAY;break;case 4:Oe=this.color_spaces.DEVICE_CMYK;break;case 3:Oe=this.color_spaces.DEVICE_RGB}Ve={data:Ee,width:Be.width,height:Be.height,colorSpace:Oe,bitsPerComponent:8,filter:ze,index:Ce,alias:Te}}return Ve}}(E.API),E.API.processPNG=function(Re,e,Ee,Ce){if(this.__addimage__.isArrayBuffer(Re)&&(Re=new Uint8Array(Re)),this.__addimage__.isArrayBufferView(Re)){var Te,De=decodePng(Re,{checkCrc:!0}),Me=De.width,Oe=De.height,Be=De.channels,ze=De.palette,Ve=De.depth;Te=ze&&Be===1?function(fs){for(var xs=fs.width,Ss=fs.height,ds=fs.data,gs=fs.palette,Ts=fs.depth,Ds=!1,Ms=[],bs=[],Ns=void 0,ps=!1,_s=0,ws=0;ws<gs.length;ws++){var js=_slicedToArray$1(gs[ws],4),ms=js[0],ys=js[1],ks=js[2],zs=js[3];Ms.push(ms,ys,ks),zs!=null&&(zs===0?(_s++,bs.length<1&&bs.push(ws)):zs<255&&(ps=!0))}if(ps||_s>1){Ds=!0,bs=void 0;var Cs=xs*Ss;Ns=new Uint8Array(Cs);for(var Ps=new DataView(ds.buffer),Us=0;Us<Cs;Us++){var Is=re(Ps,Us,Ts),Vs=_slicedToArray$1(gs[Is],4)[3];Ns[Us]=Vs}}else _s===0&&(bs=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:Ds?8:void 0,colorBytes:ds,alphaBytes:Ns,needSMask:Ds,palette:Ms,mask:bs}}(De):Be===2||Be===4?function(fs){for(var xs=fs.data,Ss=fs.width,ds=fs.height,gs=fs.channels,Ts=fs.depth,Ds=gs===2?"DeviceGray":"DeviceRGB",Ms=gs-1,bs=Ss*ds,Ns=Ms,ps=bs*Ns,_s=1*bs,ws=Math.ceil(ps*Ts/8),js=Math.ceil(_s*Ts/8),ms=new Uint8Array(ws),ys=new Uint8Array(js),ks=new DataView(xs.buffer),zs=new DataView(ms.buffer),Cs=new DataView(ys.buffer),Ps=!1,Us=0;Us<bs;Us++){for(var Is=Us*gs,Vs=0;Vs<Ns;Vs++)ie(zs,re(ks,Is+Vs,Ts),Us*Ns+Vs,Ts);var Ks=re(ks,Is+Ns,Ts);Ks<(1<<Ts)-1&&(Ps=!0),ie(Cs,Ks,1*Us,Ts)}return{colorSpace:Ds,colorsPerPixel:Ms,sMaskBitsPerComponent:Ps?Ts:void 0,colorBytes:ms,alphaBytes:ys,needSMask:Ps}}(De):function(fs){var xs=fs.data,Ss=fs.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:Ss,colorsPerPixel:Ss==="DeviceGray"?1:3,colorBytes:xs instanceof Uint16Array?function(ds){for(var gs=ds.length,Ts=new Uint8Array(2*gs),Ds=new DataView(Ts.buffer,Ts.byteOffset,Ts.byteLength),Ms=0;Ms<gs;Ms++)Ds.setUint16(2*Ms,ds[Ms],!1);return Ts}(xs):xs,needSMask:!1}}(De);var qe,We,Ge,Je=Te,Qe=Je.colorSpace,ns=Je.colorsPerPixel,Ye=Je.sMaskBitsPerComponent,rs=Je.colorBytes,ts=Je.alphaBytes,Xe=Je.needSMask,is=Je.palette,os=Je.mask,hs=null;return Ce!==E.API.image_compression.NONE&&typeof zlibSync=="function"?(hs=function(fs){var xs;switch(fs){case E.API.image_compression.FAST:xs=11;break;case E.API.image_compression.MEDIUM:xs=13;break;case E.API.image_compression.SLOW:xs=14;break;default:xs=12}return xs}(Ce),qe=this.decode.FLATE_DECODE,We="/Predictor ".concat(hs," /Colors ").concat(ns," /BitsPerComponent ").concat(Ve," /Columns ").concat(Me),Re=Xt(rs,Math.ceil(Me*ns*Ve/8),ns,Ve,Ce),Xe&&(Ge=Xt(ts,Math.ceil(Me*Ye/8),1,Ye,Ce))):(qe=void 0,We=void 0,Re=rs,Xe&&(Ge=ts)),(this.__addimage__.isArrayBuffer(Re)||this.__addimage__.isArrayBufferView(Re))&&(Re=this.__addimage__.arrayBufferToBinaryString(Re)),(Ge&&this.__addimage__.isArrayBuffer(Ge)||this.__addimage__.isArrayBufferView(Ge))&&(Ge=this.__addimage__.arrayBufferToBinaryString(Ge)),{alias:Ee,data:Re,index:e,filter:qe,decodeParameters:We,transparency:os,palette:is,sMask:Ge,predictor:hs,width:Me,height:Oe,bitsPerComponent:Ve,sMaskBitsPerComponent:Ye,colorSpace:Qe}}},function(Re){Re.processGIF89A=function(e,Ee,Ce,Te){var De=new oe(e),Me=De.width,Oe=De.height,Be=[];De.decodeAndBlitFrameRGBA(0,Be);var ze={data:Be,width:Me,height:Oe},Ve=new ue(100).encode(ze,100);return Re.processJPEG.call(this,Ve,Ee,Ce,Te)},Re.processGIF87A=Re.processGIF89A}(E.API),ce.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var Re=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(Re);for(var e=0;e<Re;e++){var Ee=this.datav.getUint8(this.pos++,!0),Ce=this.datav.getUint8(this.pos++,!0),Te=this.datav.getUint8(this.pos++,!0),De=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:Te,green:Ce,blue:Ee,quad:De}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ce.prototype.parseBGR=function(){this.pos=this.offset;try{var Re="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[Re]()}catch(Ee){o$1.log("bit decode error:"+Ee)}},ce.prototype.bit1=function(){var Re,e=Math.ceil(this.width/8),Ee=e%4;for(Re=this.height-1;Re>=0;Re--){for(var Ce=this.bottom_up?Re:this.height-1-Re,Te=0;Te<e;Te++)for(var De=this.datav.getUint8(this.pos++,!0),Me=Ce*this.width*4+8*Te*4,Oe=0;Oe<8&&8*Te+Oe<this.width;Oe++){var Be=this.palette[De>>7-Oe&1];this.data[Me+4*Oe]=Be.blue,this.data[Me+4*Oe+1]=Be.green,this.data[Me+4*Oe+2]=Be.red,this.data[Me+4*Oe+3]=255}Ee!==0&&(this.pos+=4-Ee)}},ce.prototype.bit4=function(){for(var Re=Math.ceil(this.width/2),e=Re%4,Ee=this.height-1;Ee>=0;Ee--){for(var Ce=this.bottom_up?Ee:this.height-1-Ee,Te=0;Te<Re;Te++){var De=this.datav.getUint8(this.pos++,!0),Me=Ce*this.width*4+2*Te*4,Oe=De>>4,Be=15&De,ze=this.palette[Oe];if(this.data[Me]=ze.blue,this.data[Me+1]=ze.green,this.data[Me+2]=ze.red,this.data[Me+3]=255,2*Te+1>=this.width)break;ze=this.palette[Be],this.data[Me+4]=ze.blue,this.data[Me+4+1]=ze.green,this.data[Me+4+2]=ze.red,this.data[Me+4+3]=255}e!==0&&(this.pos+=4-e)}},ce.prototype.bit8=function(){for(var Re=this.width%4,e=this.height-1;e>=0;e--){for(var Ee=this.bottom_up?e:this.height-1-e,Ce=0;Ce<this.width;Ce++){var Te=this.datav.getUint8(this.pos++,!0),De=Ee*this.width*4+4*Ce;if(Te<this.palette.length){var Me=this.palette[Te];this.data[De]=Me.red,this.data[De+1]=Me.green,this.data[De+2]=Me.blue,this.data[De+3]=255}else this.data[De]=255,this.data[De+1]=255,this.data[De+2]=255,this.data[De+3]=255}Re!==0&&(this.pos+=4-Re)}},ce.prototype.bit15=function(){for(var Re=this.width%3,e=parseInt("11111",2),Ee=this.height-1;Ee>=0;Ee--){for(var Ce=this.bottom_up?Ee:this.height-1-Ee,Te=0;Te<this.width;Te++){var De=this.datav.getUint16(this.pos,!0);this.pos+=2;var Me=(De&e)/e*255|0,Oe=(De>>5&e)/e*255|0,Be=(De>>10&e)/e*255|0,ze=De>>15?255:0,Ve=Ce*this.width*4+4*Te;this.data[Ve]=Be,this.data[Ve+1]=Oe,this.data[Ve+2]=Me,this.data[Ve+3]=ze}this.pos+=Re}},ce.prototype.bit16=function(){for(var Re=this.width%3,e=parseInt("11111",2),Ee=parseInt("111111",2),Ce=this.height-1;Ce>=0;Ce--){for(var Te=this.bottom_up?Ce:this.height-1-Ce,De=0;De<this.width;De++){var Me=this.datav.getUint16(this.pos,!0);this.pos+=2;var Oe=(Me&e)/e*255|0,Be=(Me>>5&Ee)/Ee*255|0,ze=(Me>>11)/e*255|0,Ve=Te*this.width*4+4*De;this.data[Ve]=ze,this.data[Ve+1]=Be,this.data[Ve+2]=Oe,this.data[Ve+3]=255}this.pos+=Re}},ce.prototype.bit24=function(){for(var Re=this.height-1;Re>=0;Re--){for(var e=this.bottom_up?Re:this.height-1-Re,Ee=0;Ee<this.width;Ee++){var Ce=this.datav.getUint8(this.pos++,!0),Te=this.datav.getUint8(this.pos++,!0),De=this.datav.getUint8(this.pos++,!0),Me=e*this.width*4+4*Ee;this.data[Me]=De,this.data[Me+1]=Te,this.data[Me+2]=Ce,this.data[Me+3]=255}this.pos+=this.width%4}},ce.prototype.bit32=function(){for(var Re=this.height-1;Re>=0;Re--)for(var e=this.bottom_up?Re:this.height-1-Re,Ee=0;Ee<this.width;Ee++){var Ce=this.datav.getUint8(this.pos++,!0),Te=this.datav.getUint8(this.pos++,!0),De=this.datav.getUint8(this.pos++,!0),Me=this.datav.getUint8(this.pos++,!0),Oe=e*this.width*4+4*Ee;this.data[Oe]=De,this.data[Oe+1]=Te,this.data[Oe+2]=Ce,this.data[Oe+3]=Me}},ce.prototype.getData=function(){return this.data},function(Re){Re.processBMP=function(e,Ee,Ce,Te){var De=new ce(e,!1),Me=De.width,Oe=De.height,Be={data:De.getData(),width:Me,height:Oe},ze=new ue(100).encode(Be,100);return Re.processJPEG.call(this,ze,Ee,Ce,Te)}}(E.API),le.prototype.getData=function(){return this.data},function(Re){Re.processWEBP=function(e,Ee,Ce,Te){var De=new le(e),Me=De.width,Oe=De.height,Be={data:De.getData(),width:Me,height:Oe},ze=new ue(100).encode(Be,100);return Re.processJPEG.call(this,ze,Ee,Ce,Te)}}(E.API),E.API.processRGBA=function(Re,e,Ee){for(var Ce=Re.data,Te=Ce.length,De=new Uint8Array(Te/4*3),Me=new Uint8Array(Te/4),Oe=0,Be=0,ze=0;ze<Te;ze+=4){var Ve=Ce[ze],qe=Ce[ze+1],We=Ce[ze+2],Ge=Ce[ze+3];De[Oe++]=Ve,De[Oe++]=qe,De[Oe++]=We,Me[Be++]=Ge}var Je=this.__addimage__.arrayBufferToBinaryString(De);return{alpha:this.__addimage__.arrayBufferToBinaryString(Me),data:Je,index:e,alias:Ee,colorSpace:"DeviceRGB",bitsPerComponent:8,width:Re.width,height:Re.height}},E.API.setLanguage=function(Re){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[Re]!==void 0&&(this.internal.languageSettings.languageCode=Re,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ht=E.API,Wt=Ht.getCharWidthsArray=function(Re,e){var Ee,Ce,Te=(e=e||{}).font||this.internal.getFont(),De=e.fontSize||this.internal.getFontSize(),Me=e.charSpace||this.internal.getCharSpace(),Oe=e.widths?e.widths:Te.metadata.Unicode.widths,Be=Oe.fof?Oe.fof:1,ze=e.kerning?e.kerning:Te.metadata.Unicode.kerning,Ve=ze.fof?ze.fof:1,qe=e.doKerning!==!1,We=0,Ge=Re.length,Je=0,Qe=Oe[0]||Be,ns=[];for(Ee=0;Ee<Ge;Ee++)Ce=Re.charCodeAt(Ee),typeof Te.metadata.widthOfString=="function"?ns.push((Te.metadata.widthOfGlyph(Te.metadata.characterToGlyph(Ce))+Me*(1e3/De)||0)/1e3):(We=qe&&_typeof(ze[Ce])==="object"&&!isNaN(parseInt(ze[Ce][Je],10))?ze[Ce][Je]/Ve:0,ns.push((Oe[Ce]||Qe)/Be+We)),Je=Ce;return ns},Vt=Ht.getStringUnitWidth=function(Re,e){var Ee=(e=e||{}).fontSize||this.internal.getFontSize(),Ce=e.font||this.internal.getFont(),Te=e.charSpace||this.internal.getCharSpace();return Ht.processArabic&&(Re=Ht.processArabic(Re)),typeof Ce.metadata.widthOfString=="function"?Ce.metadata.widthOfString(Re,Ee,Te)/Ee:Wt.apply(this,arguments).reduce(function(De,Me){return De+Me},0)},Gt=function(Re,e,Ee,Ce){for(var Te=[],De=0,Me=Re.length,Oe=0;De!==Me&&Oe+e[De]<Ee;)Oe+=e[De],De++;Te.push(Re.slice(0,De));var Be=De;for(Oe=0;De!==Me;)Oe+e[De]>Ce&&(Te.push(Re.slice(Be,De)),Oe=0,Be=De),Oe+=e[De],De++;return Be!==De&&Te.push(Re.slice(Be,De)),Te},Yt=function(Re,e,Ee){Ee||(Ee={});var Ce,Te,De,Me,Oe,Be,ze,Ve=[],qe=[Ve],We=Ee.textIndent||0,Ge=0,Je=0,Qe=Re.split(" "),ns=Wt.apply(this,[" ",Ee])[0];if(Be=Ee.lineIndent===-1?Qe[0].length+2:Ee.lineIndent||0){var Ye=Array(Be).join(" "),rs=[];Qe.map(function(Xe){(Xe=Xe.split(/\s*\n/)).length>1?rs=rs.concat(Xe.map(function(is,os){return(os&&is.length?`
`:"")+is})):rs.push(Xe[0])}),Qe=rs,Be=Vt.apply(this,[Ye,Ee])}for(De=0,Me=Qe.length;De<Me;De++){var ts=0;if(Ce=Qe[De],Be&&Ce[0]==`
`&&(Ce=Ce.substr(1),ts=1),We+Ge+(Je=(Te=Wt.apply(this,[Ce,Ee])).reduce(function(Xe,is){return Xe+is},0))>e||ts){if(Je>e){for(Oe=Gt.apply(this,[Ce,Te,e-(We+Ge),e]),Ve.push(Oe.shift()),Ve=[Oe.pop()];Oe.length;)qe.push([Oe.shift()]);Je=Te.slice(Ce.length-(Ve[0]?Ve[0].length:0)).reduce(function(Xe,is){return Xe+is},0)}else Ve=[Ce];qe.push(Ve),We=Je+Be,Ge=ns}else Ve.push(Ce),We+=Ge+Je,Ge=ns}return ze=Be?function(Xe,is){return(is?Ye:"")+Xe.join(" ")}:function(Xe){return Xe.join(" ")},qe.map(ze)},Ht.splitTextToSize=function(Re,e,Ee){var Ce,Te=(Ee=Ee||{}).fontSize||this.internal.getFontSize(),De=(function(Ve){if(Ve.widths&&Ve.kerning)return{widths:Ve.widths,kerning:Ve.kerning};var qe=this.internal.getFont(Ve.fontName,Ve.fontStyle),We="Unicode";return qe.metadata[We]?{widths:qe.metadata[We].widths||{0:1},kerning:qe.metadata[We].kerning||{}}:{font:qe.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,Ee);Ce=Array.isArray(Re)?Re:String(Re).split(/\r?\n/);var Me=1*this.internal.scaleFactor*e/Te;De.textIndent=Ee.textIndent?1*Ee.textIndent*this.internal.scaleFactor/Te:0,De.lineIndent=Ee.lineIndent;var Oe,Be,ze=[];for(Oe=0,Be=Ce.length;Oe<Be;Oe++)ze=ze.concat(Yt.apply(this,[Ce[Oe],Me,De]));return ze},function(Re){Re.__fontmetrics__=Re.__fontmetrics__||{};for(var e="0123456789abcdef",Ee="klmnopqrstuvwxyz",Ce={},Te={},De=0;De<16;De++)Ce[Ee[De]]=e[De],Te[e[De]]=Ee[De];var Me=function(We){return"0x"+parseInt(We,10).toString(16)},Oe=Re.__fontmetrics__.compress=function(We){var Ge,Je,Qe,ns,Ye=["{"];for(var rs in We){if(Ge=We[rs],isNaN(parseInt(rs,10))?Je="'"+rs+"'":(rs=parseInt(rs,10),Je=(Je=Me(rs).slice(2)).slice(0,-1)+Te[Je.slice(-1)]),typeof Ge=="number")Ge<0?(Qe=Me(Ge).slice(3),ns="-"):(Qe=Me(Ge).slice(2),ns=""),Qe=ns+Qe.slice(0,-1)+Te[Qe.slice(-1)];else{if(_typeof(Ge)!=="object")throw new Error("Don't know what to do with value type "+_typeof(Ge)+".");Qe=Oe(Ge)}Ye.push(Je+Qe)}return Ye.push("}"),Ye.join("")},Be=Re.__fontmetrics__.uncompress=function(We){if(typeof We!="string")throw new Error("Invalid argument passed to uncompress.");for(var Ge,Je,Qe,ns,Ye={},rs=1,ts=Ye,Xe=[],is="",os="",hs=We.length-1,fs=1;fs<hs;fs+=1)(ns=We[fs])=="'"?Ge?(Qe=Ge.join(""),Ge=void 0):Ge=[]:Ge?Ge.push(ns):ns=="{"?(Xe.push([ts,Qe]),ts={},Qe=void 0):ns=="}"?((Je=Xe.pop())[0][Je[1]]=ts,Qe=void 0,ts=Je[0]):ns=="-"?rs=-1:Qe===void 0?Ce.hasOwnProperty(ns)?(is+=Ce[ns],Qe=parseInt(is,16)*rs,rs=1,is=""):is+=ns:Ce.hasOwnProperty(ns)?(os+=Ce[ns],ts[Qe]=parseInt(os,16)*rs,rs=1,Qe=void 0,os=""):os+=ns;return Ye},ze={codePages:["WinAnsiEncoding"],WinAnsiEncoding:Be("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},Ve={Unicode:{Courier:ze,"Courier-Bold":ze,"Courier-BoldOblique":ze,"Courier-Oblique":ze,Helvetica:ze,"Helvetica-Bold":ze,"Helvetica-BoldOblique":ze,"Helvetica-Oblique":ze,"Times-Roman":ze,"Times-Bold":ze,"Times-BoldItalic":ze,"Times-Italic":ze}},qe={Unicode:{"Courier-Oblique":Be("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":Be("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":Be("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:Be("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":Be("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":Be("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:Be("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:Be("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":Be("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:Be("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":Be("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":Be("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":Be("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":Be("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};Re.events.push(["addFont",function(We){var Ge=We.font,Je=qe.Unicode[Ge.postScriptName];Je&&(Ge.metadata.Unicode={},Ge.metadata.Unicode.widths=Je.widths,Ge.metadata.Unicode.kerning=Je.kerning);var Qe=Ve.Unicode[Ge.postScriptName];Qe&&(Ge.metadata.Unicode.encoding=Qe,Ge.encoding=Qe.codePages[0])}])}(E.API),function(Re){var e=function(Ee){for(var Ce=Ee.length,Te=new Uint8Array(Ce),De=0;De<Ce;De++)Te[De]=Ee.charCodeAt(De);return Te};Re.API.events.push(["addFont",function(Ee){var Ce=void 0,Te=Ee.font,De=Ee.instance;if(!Te.isStandardFont){if(De===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+Te.postScriptName+"').");if(typeof(Ce=De.existsFileInVFS(Te.postScriptName)===!1?De.loadFile(Te.postScriptName):De.getFileFromVFS(Te.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+Te.postScriptName+"').");(function(Me,Oe){Oe=/^\x00\x01\x00\x00/.test(Oe)?e(Oe):e(f(Oe)),Me.metadata=Re.API.TTFFont.open(Oe),Me.metadata.Unicode=Me.metadata.Unicode||{encoding:{},kerning:{},widths:[]},Me.metadata.glyIdsUsed=[0]})(Te,Ce)}}])}(E),E.API.addSvgAsImage=function(Re,e,Ee,Ce,Te,De,Me,Oe){if(isNaN(e)||isNaN(Ee))throw o$1.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(Ce)||isNaN(Te))throw o$1.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var Be=document.createElement("canvas");Be.width=Ce,Be.height=Te;var ze=Be.getContext("2d");ze.fillStyle="#fff",ze.fillRect(0,0,Be.width,Be.height);var Ve={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},qe=this;return(i$2.canvg?Promise.resolve(i$2.canvg):__vitePreload(()=>import("./index.es-DB0X6TTV.js"),[])).catch(function(We){return Promise.reject(new Error("Could not load canvg: "+We))}).then(function(We){return We.default?We.default:We}).then(function(We){return We.fromString(ze,Re,Ve)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(We){return We.render(Ve)}).then(function(){qe.addImage(Be.toDataURL("image/jpeg",1),e,Ee,Ce,Te,Me,Oe)})},E.API.putTotalPages=function(Re){var e,Ee=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(Re,"g"),Ee=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(Re,this.internal.getFont()),"g"),Ee=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var Ce=1;Ce<=this.internal.getNumberOfPages();Ce++)for(var Te=0;Te<this.internal.pages[Ce].length;Te++)this.internal.pages[Ce][Te]=this.internal.pages[Ce][Te].replace(e,Ee);return this},E.API.viewerPreferences=function(Re,e){var Ee;Re=Re||{},e=e||!1;var Ce,Te,De,Me={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},Oe=Object.keys(Me),Be=[],ze=0,Ve=0,qe=0;function We(Je,Qe){var ns,Ye=!1;for(ns=0;ns<Je.length;ns+=1)Je[ns]===Qe&&(Ye=!0);return Ye}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(Me)),this.internal.viewerpreferences.isSubscribed=!1),Ee=this.internal.viewerpreferences.configuration,Re==="reset"||e===!0){var Ge=Oe.length;for(qe=0;qe<Ge;qe+=1)Ee[Oe[qe]].value=Ee[Oe[qe]].defaultValue,Ee[Oe[qe]].explicitSet=!1}if(_typeof(Re)==="object"){for(Te in Re)if(De=Re[Te],We(Oe,Te)&&De!==void 0){if(Ee[Te].type==="boolean"&&typeof De=="boolean")Ee[Te].value=De;else if(Ee[Te].type==="name"&&We(Ee[Te].valueSet,De))Ee[Te].value=De;else if(Ee[Te].type==="integer"&&Number.isInteger(De))Ee[Te].value=De;else if(Ee[Te].type==="array"){for(ze=0;ze<De.length;ze+=1)if(Ce=!0,De[ze].length===1&&typeof De[ze][0]=="number")Be.push(String(De[ze]-1));else if(De[ze].length>1){for(Ve=0;Ve<De[ze].length;Ve+=1)typeof De[ze][Ve]!="number"&&(Ce=!1);Ce===!0&&Be.push([De[ze][0]-1,De[ze][1]-1].join(" "))}Ee[Te].value="["+Be.join(" ")+"]"}else Ee[Te].value=Ee[Te].defaultValue;Ee[Te].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var Je,Qe=[];for(Je in Ee)Ee[Je].explicitSet===!0&&(Ee[Je].type==="name"?Qe.push("/"+Je+" /"+Ee[Je].value):Qe.push("/"+Je+" "+Ee[Je].value));Qe.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+Qe.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=Ee,this},function(Re){var e=function(){var Ce='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',Te=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),De=unescape(encodeURIComponent(Ce)),Me=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),Oe=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),Be=unescape(encodeURIComponent("</x:xmpmeta>")),ze=De.length+Me.length+Oe.length+Te.length+Be.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+ze+" >>"),this.internal.write("stream"),this.internal.write(Te+De+Me+Oe+Be),this.internal.write("endstream"),this.internal.write("endobj")},Ee=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};Re.addMetadata=function(Ce,Te){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:Ce,namespaceuri:Te||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",Ee),this.internal.events.subscribe("postPutResources",e)),this}}(E.API),function(Re){var e=Re.API,Ee=e.pdfEscape16=function(De,Me){for(var Oe,Be=Me.metadata.Unicode.widths,ze=["","0","00","000","0000"],Ve=[""],qe=0,We=De.length;qe<We;++qe){if(Oe=Me.metadata.characterToGlyph(De.charCodeAt(qe)),Me.metadata.glyIdsUsed.push(Oe),Me.metadata.toUnicode[Oe]=De.charCodeAt(qe),Be.indexOf(Oe)==-1&&(Be.push(Oe),Be.push([parseInt(Me.metadata.widthOfGlyph(Oe),10)])),Oe=="0")return Ve.join("");Oe=Oe.toString(16),Ve.push(ze[4-Oe.length],Oe)}return Ve.join("")},Ce=function(De){var Me,Oe,Be,ze,Ve,qe,We;for(Ve=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,Be=[],qe=0,We=(Oe=Object.keys(De).sort(function(Ge,Je){return Ge-Je})).length;qe<We;qe++)Me=Oe[qe],Be.length>=100&&(Ve+=`
`+Be.length+` beginbfchar
`+Be.join(`
`)+`
endbfchar`,Be=[]),De[Me]!==void 0&&De[Me]!==null&&typeof De[Me].toString=="function"&&(ze=("0000"+De[Me].toString(16)).slice(-4),Me=("0000"+(+Me).toString(16)).slice(-4),Be.push("<"+Me+"><"+ze+">"));return Be.length&&(Ve+=`
`+Be.length+` beginbfchar
`+Be.join(`
`)+`
endbfchar
`),Ve+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(De){(function(Me){var Oe=Me.font,Be=Me.out,ze=Me.newObject,Ve=Me.putStream;if(Oe.metadata instanceof Re.API.TTFFont&&Oe.encoding==="Identity-H"){for(var qe=Oe.metadata.Unicode.widths,We=Oe.metadata.subset.encode(Oe.metadata.glyIdsUsed,1),Ge="",Je=0;Je<We.length;Je++)Ge+=String.fromCharCode(We[Je]);var Qe=ze();Ve({data:Ge,addLength1:!0,objectId:Qe}),Be("endobj");var ns=ze();Ve({data:Ce(Oe.metadata.toUnicode),addLength1:!0,objectId:ns}),Be("endobj");var Ye=ze();Be("<<"),Be("/Type /FontDescriptor"),Be("/FontName /"+j(Oe.fontName)),Be("/FontFile2 "+Qe+" 0 R"),Be("/FontBBox "+Re.API.PDFObject.convert(Oe.metadata.bbox)),Be("/Flags "+Oe.metadata.flags),Be("/StemV "+Oe.metadata.stemV),Be("/ItalicAngle "+Oe.metadata.italicAngle),Be("/Ascent "+Oe.metadata.ascender),Be("/Descent "+Oe.metadata.decender),Be("/CapHeight "+Oe.metadata.capHeight),Be(">>"),Be("endobj");var rs=ze();Be("<<"),Be("/Type /Font"),Be("/BaseFont /"+j(Oe.fontName)),Be("/FontDescriptor "+Ye+" 0 R"),Be("/W "+Re.API.PDFObject.convert(qe)),Be("/CIDToGIDMap /Identity"),Be("/DW 1000"),Be("/Subtype /CIDFontType2"),Be("/CIDSystemInfo"),Be("<<"),Be("/Supplement 0"),Be("/Registry (Adobe)"),Be("/Ordering ("+Oe.encoding+")"),Be(">>"),Be(">>"),Be("endobj"),Oe.objectNumber=ze(),Be("<<"),Be("/Type /Font"),Be("/Subtype /Type0"),Be("/ToUnicode "+ns+" 0 R"),Be("/BaseFont /"+j(Oe.fontName)),Be("/Encoding /"+Oe.encoding),Be("/DescendantFonts ["+rs+" 0 R]"),Be(">>"),Be("endobj"),Oe.isAlreadyPutted=!0}})(De)}]),e.events.push(["putFont",function(De){(function(Me){var Oe=Me.font,Be=Me.out,ze=Me.newObject,Ve=Me.putStream;if(Oe.metadata instanceof Re.API.TTFFont&&Oe.encoding==="WinAnsiEncoding"){for(var qe=Oe.metadata.rawData,We="",Ge=0;Ge<qe.length;Ge++)We+=String.fromCharCode(qe[Ge]);var Je=ze();Ve({data:We,addLength1:!0,objectId:Je}),Be("endobj");var Qe=ze();Ve({data:Ce(Oe.metadata.toUnicode),addLength1:!0,objectId:Qe}),Be("endobj");var ns=ze();Be("<<"),Be("/Descent "+Oe.metadata.decender),Be("/CapHeight "+Oe.metadata.capHeight),Be("/StemV "+Oe.metadata.stemV),Be("/Type /FontDescriptor"),Be("/FontFile2 "+Je+" 0 R"),Be("/Flags 96"),Be("/FontBBox "+Re.API.PDFObject.convert(Oe.metadata.bbox)),Be("/FontName /"+j(Oe.fontName)),Be("/ItalicAngle "+Oe.metadata.italicAngle),Be("/Ascent "+Oe.metadata.ascender),Be(">>"),Be("endobj"),Oe.objectNumber=ze();for(var Ye=0;Ye<Oe.metadata.hmtx.widths.length;Ye++)Oe.metadata.hmtx.widths[Ye]=parseInt(Oe.metadata.hmtx.widths[Ye]*(1e3/Oe.metadata.head.unitsPerEm));Be("<</Subtype/TrueType/Type/Font/ToUnicode "+Qe+" 0 R/BaseFont/"+j(Oe.fontName)+"/FontDescriptor "+ns+" 0 R/Encoding/"+Oe.encoding+" /FirstChar 29 /LastChar 255 /Widths "+Re.API.PDFObject.convert(Oe.metadata.hmtx.widths)+">>"),Be("endobj"),Oe.isAlreadyPutted=!0}})(De)}]);var Te=function(De){var Me,Oe=De.text||"",Be=De.x,ze=De.y,Ve=De.options||{},qe=De.mutex||{},We=qe.pdfEscape,Ge=qe.activeFontKey,Je=qe.fonts,Qe=Ge,ns="",Ye=0,rs="",ts=Je[Qe].encoding;if(Je[Qe].encoding!=="Identity-H")return{text:Oe,x:Be,y:ze,options:Ve,mutex:qe};for(rs=Oe,Qe=Ge,Array.isArray(Oe)&&(rs=Oe[0]),Ye=0;Ye<rs.length;Ye+=1)Je[Qe].metadata.hasOwnProperty("cmap")&&(Me=Je[Qe].metadata.cmap.unicode.codeMap[rs[Ye].charCodeAt(0)]),Me||rs[Ye].charCodeAt(0)<256&&Je[Qe].metadata.hasOwnProperty("Unicode")?ns+=rs[Ye]:ns+="";var Xe="";return parseInt(Qe.slice(1))<14||ts==="WinAnsiEncoding"?Xe=We(ns,Qe).split("").map(function(is){return is.charCodeAt(0).toString(16)}).join(""):ts==="Identity-H"&&(Xe=Ee(ns,Je[Qe])),qe.isHex=!0,{text:Xe,x:Be,y:ze,options:Ve,mutex:qe}};e.events.push(["postProcessText",function(De){var Me=De.text||"",Oe=[],Be={text:Me,x:De.x,y:De.y,options:De.options,mutex:De.mutex};if(Array.isArray(Me)){var ze=0;for(ze=0;ze<Me.length;ze+=1)Array.isArray(Me[ze])&&Me[ze].length===3?Oe.push([Te(Object.assign({},Be,{text:Me[ze][0]})).text,Me[ze][1],Me[ze][2]]):Oe.push(Te(Object.assign({},Be,{text:Me[ze]})).text);De.text=Oe}else De.text=Te(Object.assign({},Be,{text:Me})).text}])}(E),function(Re){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};Re.existsFileInVFS=function(Ee){return e.call(this),this.internal.vFS[Ee]!==void 0},Re.addFileToVFS=function(Ee,Ce){return e.call(this),this.internal.vFS[Ee]=Ce,this},Re.getFileFromVFS=function(Ee){return e.call(this),this.internal.vFS[Ee]!==void 0?this.internal.vFS[Ee]:null}}(E.API),function(Re){Re.__bidiEngine__=Re.prototype.__bidiEngine__=function(Ce){var Te,De,Me,Oe,Be,ze,Ve,qe=e,We=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],Ge=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Je={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},Qe={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},ns=["(",")","(","<",">","<","[","]","[","{","}","{","Â«","Â»","Â«","â€¹","â€º","â€¹","â…","â†","â…","â½","â¾","â½","â‚","â‚Ž","â‚","â‰¤","â‰¥","â‰¤","âŒ©","âŒª","âŒ©","ï¹™","ï¹š","ï¹™","ï¹›","ï¹œ","ï¹›","ï¹","ï¹ž","ï¹","ï¹¤","ï¹¥","ï¹¤"],Ye=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),rs=!1,ts=0;this.__bidiEngine__={};var Xe=function(ds){var gs=ds.charCodeAt(),Ts=gs>>8,Ds=Qe[Ts];return Ds!==void 0?qe[256*Ds+(255&gs)]:Ts===252||Ts===253?"AL":Ye.test(Ts)?"L":Ts===8?"R":"N"},is=function(ds){for(var gs,Ts=0;Ts<ds.length;Ts++){if((gs=Xe(ds.charAt(Ts)))==="L")return!1;if(gs==="R")return!0}return!1},os=function(ds,gs,Ts,Ds){var Ms,bs,Ns,ps,_s=gs[Ds];switch(_s){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":rs=!1;break;case"N":case"AN":break;case"EN":rs&&(_s="AN");break;case"AL":rs=!0,_s="R";break;case"WS":case"BN":_s="N";break;case"CS":Ds<1||Ds+1>=gs.length||(Ms=Ts[Ds-1])!=="EN"&&Ms!=="AN"||(bs=gs[Ds+1])!=="EN"&&bs!=="AN"?_s="N":rs&&(bs="AN"),_s=bs===Ms?bs:"N";break;case"ES":_s=(Ms=Ds>0?Ts[Ds-1]:"B")==="EN"&&Ds+1<gs.length&&gs[Ds+1]==="EN"?"EN":"N";break;case"ET":if(Ds>0&&Ts[Ds-1]==="EN"){_s="EN";break}if(rs){_s="N";break}for(Ns=Ds+1,ps=gs.length;Ns<ps&&gs[Ns]==="ET";)Ns++;_s=Ns<ps&&gs[Ns]==="EN"?"EN":"N";break;case"NSM":if(Me&&!Oe){for(ps=gs.length,Ns=Ds+1;Ns<ps&&gs[Ns]==="NSM";)Ns++;if(Ns<ps){var ws=ds[Ds],js=ws>=1425&&ws<=2303||ws===64286;if(Ms=gs[Ns],js&&(Ms==="R"||Ms==="AL")){_s="R";break}}}_s=Ds<1||(Ms=gs[Ds-1])==="B"?"N":Ts[Ds-1];break;case"B":rs=!1,Te=!0,_s=ts;break;case"S":De=!0,_s="N"}return _s},hs=function(ds,gs,Ts){var Ds=ds.split("");return Ts&&fs(Ds,Ts,{hiLevel:ts}),Ds.reverse(),gs&&gs.reverse(),Ds.join("")},fs=function(ds,gs,Ts){var Ds,Ms,bs,Ns,ps,_s=-1,ws=ds.length,js=0,ms=[],ys=ts?Ge:We,ks=[];for(rs=!1,Te=!1,De=!1,Ms=0;Ms<ws;Ms++)ks[Ms]=Xe(ds[Ms]);for(bs=0;bs<ws;bs++){if(ps=js,ms[bs]=os(ds,ks,ms,bs),Ds=240&(js=ys[ps][Je[ms[bs]]]),js&=15,gs[bs]=Ns=ys[js][5],Ds>0)if(Ds===16){for(Ms=_s;Ms<bs;Ms++)gs[Ms]=1;_s=-1}else _s=-1;if(ys[js][6])_s===-1&&(_s=bs);else if(_s>-1){for(Ms=_s;Ms<bs;Ms++)gs[Ms]=Ns;_s=-1}ks[bs]==="B"&&(gs[bs]=0),Ts.hiLevel|=Ns}De&&function(zs,Cs,Ps){for(var Us=0;Us<Ps;Us++)if(zs[Us]==="S"){Cs[Us]=ts;for(var Is=Us-1;Is>=0&&zs[Is]==="WS";Is--)Cs[Is]=ts}}(ks,gs,ws)},xs=function(ds,gs,Ts,Ds,Ms){if(!(Ms.hiLevel<ds)){if(ds===1&&ts===1&&!Te)return gs.reverse(),void(Ts&&Ts.reverse());for(var bs,Ns,ps,_s,ws=gs.length,js=0;js<ws;){if(Ds[js]>=ds){for(ps=js+1;ps<ws&&Ds[ps]>=ds;)ps++;for(_s=js,Ns=ps-1;_s<Ns;_s++,Ns--)bs=gs[_s],gs[_s]=gs[Ns],gs[Ns]=bs,Ts&&(bs=Ts[_s],Ts[_s]=Ts[Ns],Ts[Ns]=bs);js=ps}js++}}},Ss=function(ds,gs,Ts){var Ds=ds.split(""),Ms={hiLevel:ts};return Ts||(Ts=[]),fs(Ds,Ts,Ms),function(bs,Ns,ps){if(ps.hiLevel!==0&&Ve)for(var _s,ws=0;ws<bs.length;ws++)Ns[ws]===1&&(_s=ns.indexOf(bs[ws]))>=0&&(bs[ws]=ns[_s+1])}(Ds,Ts,Ms),xs(2,Ds,gs,Ts,Ms),xs(1,Ds,gs,Ts,Ms),Ds.join("")};return this.__bidiEngine__.doBidiReorder=function(ds,gs,Ts){if(function(Ms,bs){if(bs)for(var Ns=0;Ns<Ms.length;Ns++)bs[Ns]=Ns;Oe===void 0&&(Oe=is(Ms)),ze===void 0&&(ze=is(Ms))}(ds,gs),Me||!Be||ze)if(Me&&Be&&Oe^ze)ts=Oe?1:0,ds=hs(ds,gs,Ts);else if(!Me&&Be&&ze)ts=Oe?1:0,ds=Ss(ds,gs,Ts),ds=hs(ds,gs);else if(!Me||Oe||Be||ze){if(Me&&!Be&&Oe^ze)ds=hs(ds,gs),Oe?(ts=0,ds=Ss(ds,gs,Ts)):(ts=1,ds=Ss(ds,gs,Ts),ds=hs(ds,gs));else if(Me&&Oe&&!Be&&ze)ts=1,ds=Ss(ds,gs,Ts),ds=hs(ds,gs);else if(!Me&&!Be&&Oe^ze){var Ds=Ve;Oe?(ts=1,ds=Ss(ds,gs,Ts),ts=0,Ve=!1,ds=Ss(ds,gs,Ts),Ve=Ds):(ts=0,ds=Ss(ds,gs,Ts),ds=hs(ds,gs),ts=1,Ve=!1,ds=Ss(ds,gs,Ts),Ve=Ds,ds=hs(ds,gs))}}else ts=0,ds=Ss(ds,gs,Ts);else ts=Oe?1:0,ds=Ss(ds,gs,Ts);return ds},this.__bidiEngine__.setOptions=function(ds){ds&&(Me=ds.isInputVisual,Be=ds.isOutputVisual,Oe=ds.isInputRtl,ze=ds.isOutputRtl,Ve=ds.isSymmetricSwapping)},this.__bidiEngine__.setOptions(Ce),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],Ee=new Re.__bidiEngine__({isInputVisual:!0});Re.API.events.push(["postProcessText",function(Ce){var Te=Ce.text;Ce.x,Ce.y;var De=Ce.options||{};Ce.mutex,De.lang;var Me=[];if(De.isInputVisual=typeof De.isInputVisual!="boolean"||De.isInputVisual,Ee.setOptions(De),Object.prototype.toString.call(Te)==="[object Array]"){var Oe=0;for(Me=[],Oe=0;Oe<Te.length;Oe+=1)Object.prototype.toString.call(Te[Oe])==="[object Array]"?Me.push([Ee.doBidiReorder(Te[Oe][0]),Te[Oe][1],Te[Oe][2]]):Me.push([Ee.doBidiReorder(Te[Oe])]);Ce.text=Me}else Ce.text=Ee.doBidiReorder(Te);Ee.setOptions({isInputVisual:!0})}])}(E),E.API.TTFFont=function(){function Re(e){var Ee;if(this.rawData=e,Ee=this.contents=new fe(e),this.contents.pos=4,Ee.readString(4)==="ttcf")throw new Error("TTCF not supported.");Ee.pos=0,this.parse(),this.subset=new je(this),this.registerTTF()}return Re.open=function(e){return new Re(e)},Re.prototype.parse=function(){return this.directory=new de(this.contents),this.head=new me(this),this.name=new xe(this),this.cmap=new be(this),this.toUnicode={},this.hhea=new ye(this),this.maxp=new Ae(this),this.hmtx=new Se(this),this.post=new Ne(this),this.os2=new we(this),this.loca=new Ie(this),this.glyf=new Pe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},Re.prototype.registerTTF=function(){var e,Ee,Ce,Te,De;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var Me,Oe,Be,ze;for(ze=[],Me=0,Oe=(Be=this.bbox).length;Me<Oe;Me++)e=Be[Me],ze.push(Math.round(e*this.scaleFactor));return ze}).call(this),this.stemV=0,this.post.exists?(Ce=255&(Te=this.post.italic_angle),32768&(Ee=Te>>16)&&(Ee=-(1+(65535^Ee))),this.italicAngle=+(Ee+"."+Ce)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(De=this.familyClass)===1||De===2||De===3||De===4||De===5||De===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},Re.prototype.characterToGlyph=function(e){var Ee;return((Ee=this.cmap.unicode)!=null?Ee.codeMap[e]:void 0)||0},Re.prototype.widthOfGlyph=function(e){var Ee;return Ee=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*Ee},Re.prototype.widthOfString=function(e,Ee,Ce){var Te,De,Me,Oe;for(Me=0,De=0,Oe=(e=""+e).length;0<=Oe?De<Oe:De>Oe;De=0<=Oe?++De:--De)Te=e.charCodeAt(De),Me+=this.widthOfGlyph(this.characterToGlyph(Te))+Ce*(1e3/Ee)||0;return Me*(Ee/1e3)},Re.prototype.lineHeight=function(e,Ee){var Ce;return Ee==null&&(Ee=!1),Ce=Ee?this.lineGap:0,(this.ascender+Ce-this.decender)/1e3*e},Re}();var he,fe=function(){function Re(e){this.data=e??[],this.pos=0,this.length=this.data.length}return Re.prototype.readByte=function(){return this.data[this.pos++]},Re.prototype.writeByte=function(e){return this.data[this.pos++]=e},Re.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},Re.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},Re.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},Re.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},Re.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},Re.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},Re.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},Re.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},Re.prototype.readString=function(e){var Ee,Ce;for(Ce=[],Ee=0;0<=e?Ee<e:Ee>e;Ee=0<=e?++Ee:--Ee)Ce[Ee]=String.fromCharCode(this.readByte());return Ce.join("")},Re.prototype.writeString=function(e){var Ee,Ce,Te;for(Te=[],Ee=0,Ce=e.length;0<=Ce?Ee<Ce:Ee>Ce;Ee=0<=Ce?++Ee:--Ee)Te.push(this.writeByte(e.charCodeAt(Ee)));return Te},Re.prototype.readShort=function(){return this.readInt16()},Re.prototype.writeShort=function(e){return this.writeInt16(e)},Re.prototype.readLongLong=function(){var e,Ee,Ce,Te,De,Me,Oe,Be;return e=this.readByte(),Ee=this.readByte(),Ce=this.readByte(),Te=this.readByte(),De=this.readByte(),Me=this.readByte(),Oe=this.readByte(),Be=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^Ee)+1099511627776*(255^Ce)+4294967296*(255^Te)+16777216*(255^De)+65536*(255^Me)+256*(255^Oe)+(255^Be)+1):72057594037927940*e+281474976710656*Ee+1099511627776*Ce+4294967296*Te+16777216*De+65536*Me+256*Oe+Be},Re.prototype.writeLongLong=function(e){var Ee,Ce;return Ee=Math.floor(e/4294967296),Ce=4294967295&e,this.writeByte(Ee>>24&255),this.writeByte(Ee>>16&255),this.writeByte(Ee>>8&255),this.writeByte(255&Ee),this.writeByte(Ce>>24&255),this.writeByte(Ce>>16&255),this.writeByte(Ce>>8&255),this.writeByte(255&Ce)},Re.prototype.readInt=function(){return this.readInt32()},Re.prototype.writeInt=function(e){return this.writeInt32(e)},Re.prototype.read=function(e){var Ee,Ce;for(Ee=[],Ce=0;0<=e?Ce<e:Ce>e;Ce=0<=e?++Ce:--Ce)Ee.push(this.readByte());return Ee},Re.prototype.write=function(e){var Ee,Ce,Te,De;for(De=[],Ce=0,Te=e.length;Ce<Te;Ce++)Ee=e[Ce],De.push(this.writeByte(Ee));return De},Re}(),de=function(){var Re;function e(Ee){var Ce,Te,De;for(this.scalarType=Ee.readInt(),this.tableCount=Ee.readShort(),this.searchRange=Ee.readShort(),this.entrySelector=Ee.readShort(),this.rangeShift=Ee.readShort(),this.tables={},Te=0,De=this.tableCount;0<=De?Te<De:Te>De;Te=0<=De?++Te:--Te)Ce={tag:Ee.readString(4),checksum:Ee.readInt(),offset:Ee.readInt(),length:Ee.readInt()},this.tables[Ce.tag]=Ce}return e.prototype.encode=function(Ee){var Ce,Te,De,Me,Oe,Be,ze,Ve,qe,We,Ge,Je,Qe;for(Qe in Ge=Object.keys(Ee).length,Be=Math.log(2),qe=16*Math.floor(Math.log(Ge)/Be),Me=Math.floor(qe/Be),Ve=16*Ge-qe,(Te=new fe).writeInt(this.scalarType),Te.writeShort(Ge),Te.writeShort(qe),Te.writeShort(Me),Te.writeShort(Ve),De=16*Ge,ze=Te.pos+De,Oe=null,Je=[],Ee)for(We=Ee[Qe],Te.writeString(Qe),Te.writeInt(Re(We)),Te.writeInt(ze),Te.writeInt(We.length),Je=Je.concat(We),Qe==="head"&&(Oe=ze),ze+=We.length;ze%4;)Je.push(0),ze++;return Te.write(Je),Ce=2981146554-Re(Te.data),Te.pos=Oe+8,Te.writeUInt32(Ce),Te.data},Re=function(Ee){var Ce,Te,De,Me;for(Ee=_e.call(Ee);Ee.length%4;)Ee.push(0);for(De=new fe(Ee),Te=0,Ce=0,Me=Ee.length;Ce<Me;Ce=Ce+=4)Te+=De.readUInt32();return 4294967295&Te},e}(),pe={}.hasOwnProperty,ge=function(Re,e){for(var Ee in e)pe.call(e,Ee)&&(Re[Ee]=e[Ee]);function Ce(){this.constructor=Re}return Ce.prototype=e.prototype,Re.prototype=new Ce,Re.__super__=e.prototype,Re};he=function(){function Re(e){var Ee;this.file=e,Ee=this.file.directory.tables[this.tag],this.exists=!!Ee,Ee&&(this.offset=Ee.offset,this.length=Ee.length,this.parse(this.file.contents))}return Re.prototype.parse=function(){},Re.prototype.encode=function(){},Re.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},Re}();var me=function(){function Re(){return Re.__super__.constructor.apply(this,arguments)}return ge(Re,he),Re.prototype.tag="head",Re.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},Re.prototype.encode=function(e){var Ee;return(Ee=new fe).writeInt(this.version),Ee.writeInt(this.revision),Ee.writeInt(this.checkSumAdjustment),Ee.writeInt(this.magicNumber),Ee.writeShort(this.flags),Ee.writeShort(this.unitsPerEm),Ee.writeLongLong(this.created),Ee.writeLongLong(this.modified),Ee.writeShort(this.xMin),Ee.writeShort(this.yMin),Ee.writeShort(this.xMax),Ee.writeShort(this.yMax),Ee.writeShort(this.macStyle),Ee.writeShort(this.lowestRecPPEM),Ee.writeShort(this.fontDirectionHint),Ee.writeShort(e),Ee.writeShort(this.glyphDataFormat),Ee.data},Re}(),ve=function(){function Re(e,Ee){var Ce,Te,De,Me,Oe,Be,ze,Ve,qe,We,Ge,Je,Qe,ns,Ye,rs,ts;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=Ee+e.readInt(),qe=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(Be=0;Be<256;++Be)this.codeMap[Be]=e.readByte();break;case 4:for(Ge=e.readUInt16(),We=Ge/2,e.pos+=6,De=function(){var Xe,is;for(is=[],Be=Xe=0;0<=We?Xe<We:Xe>We;Be=0<=We?++Xe:--Xe)is.push(e.readUInt16());return is}(),e.pos+=2,Qe=function(){var Xe,is;for(is=[],Be=Xe=0;0<=We?Xe<We:Xe>We;Be=0<=We?++Xe:--Xe)is.push(e.readUInt16());return is}(),ze=function(){var Xe,is;for(is=[],Be=Xe=0;0<=We?Xe<We:Xe>We;Be=0<=We?++Xe:--Xe)is.push(e.readUInt16());return is}(),Ve=function(){var Xe,is;for(is=[],Be=Xe=0;0<=We?Xe<We:Xe>We;Be=0<=We?++Xe:--Xe)is.push(e.readUInt16());return is}(),Te=(this.length-e.pos+this.offset)/2,Oe=function(){var Xe,is;for(is=[],Be=Xe=0;0<=Te?Xe<Te:Xe>Te;Be=0<=Te?++Xe:--Xe)is.push(e.readUInt16());return is}(),Be=Ye=0,ts=De.length;Ye<ts;Be=++Ye)for(ns=De[Be],Ce=rs=Je=Qe[Be];Je<=ns?rs<=ns:rs>=ns;Ce=Je<=ns?++rs:--rs)Ve[Be]===0?Me=Ce+ze[Be]:(Me=Oe[Ve[Be]/2+(Ce-Je)-(We-Be)]||0)!==0&&(Me+=ze[Be]),this.codeMap[Ce]=65535&Me}e.pos=qe}return Re.encode=function(e,Ee){var Ce,Te,De,Me,Oe,Be,ze,Ve,qe,We,Ge,Je,Qe,ns,Ye,rs,ts,Xe,is,os,hs,fs,xs,Ss,ds,gs,Ts,Ds,Ms,bs,Ns,ps,_s,ws,js,ms,ys,ks,zs,Cs,Ps,Us,Is,Vs,Ks,or;switch(Ds=new fe,Me=Object.keys(e).sort(function(rr,ur){return rr-ur}),Ee){case"macroman":for(Qe=0,ns=function(){var rr=[];for(Je=0;Je<256;++Je)rr.push(0);return rr}(),rs={0:0},De={},Ms=0,_s=Me.length;Ms<_s;Ms++)rs[Is=e[Te=Me[Ms]]]==null&&(rs[Is]=++Qe),De[Te]={old:e[Te],new:rs[e[Te]]},ns[Te]=rs[e[Te]];return Ds.writeUInt16(1),Ds.writeUInt16(0),Ds.writeUInt32(12),Ds.writeUInt16(0),Ds.writeUInt16(262),Ds.writeUInt16(0),Ds.write(ns),{charMap:De,subtable:Ds.data,maxGlyphID:Qe+1};case"unicode":for(gs=[],qe=[],ts=0,rs={},Ce={},Ye=ze=null,bs=0,ws=Me.length;bs<ws;bs++)rs[is=e[Te=Me[bs]]]==null&&(rs[is]=++ts),Ce[Te]={old:is,new:rs[is]},Oe=rs[is]-Te,Ye!=null&&Oe===ze||(Ye&&qe.push(Ye),gs.push(Te),ze=Oe),Ye=Te;for(Ye&&qe.push(Ye),qe.push(65535),gs.push(65535),Ss=2*(xs=gs.length),fs=2*Math.pow(Math.log(xs)/Math.LN2,2),We=Math.log(fs/2)/Math.LN2,hs=2*xs-fs,Be=[],os=[],Ge=[],Je=Ns=0,js=gs.length;Ns<js;Je=++Ns){if(ds=gs[Je],Ve=qe[Je],ds===65535){Be.push(0),os.push(0);break}if(ds-(Ts=Ce[ds].new)>=32768)for(Be.push(0),os.push(2*(Ge.length+xs-Je)),Te=ps=ds;ds<=Ve?ps<=Ve:ps>=Ve;Te=ds<=Ve?++ps:--ps)Ge.push(Ce[Te].new);else Be.push(Ts-ds),os.push(0)}for(Ds.writeUInt16(3),Ds.writeUInt16(1),Ds.writeUInt32(12),Ds.writeUInt16(4),Ds.writeUInt16(16+8*xs+2*Ge.length),Ds.writeUInt16(0),Ds.writeUInt16(Ss),Ds.writeUInt16(fs),Ds.writeUInt16(We),Ds.writeUInt16(hs),Ps=0,ms=qe.length;Ps<ms;Ps++)Te=qe[Ps],Ds.writeUInt16(Te);for(Ds.writeUInt16(0),Us=0,ys=gs.length;Us<ys;Us++)Te=gs[Us],Ds.writeUInt16(Te);for(Vs=0,ks=Be.length;Vs<ks;Vs++)Oe=Be[Vs],Ds.writeUInt16(Oe);for(Ks=0,zs=os.length;Ks<zs;Ks++)Xe=os[Ks],Ds.writeUInt16(Xe);for(or=0,Cs=Ge.length;or<Cs;or++)Qe=Ge[or],Ds.writeUInt16(Qe);return{charMap:Ce,subtable:Ds.data,maxGlyphID:ts+1}}},Re}(),be=function(){function Re(){return Re.__super__.constructor.apply(this,arguments)}return ge(Re,he),Re.prototype.tag="cmap",Re.prototype.parse=function(e){var Ee,Ce,Te;for(e.pos=this.offset,this.version=e.readUInt16(),Te=e.readUInt16(),this.tables=[],this.unicode=null,Ce=0;0<=Te?Ce<Te:Ce>Te;Ce=0<=Te?++Ce:--Ce)Ee=new ve(e,this.offset),this.tables.push(Ee),Ee.isUnicode&&this.unicode==null&&(this.unicode=Ee);return!0},Re.encode=function(e,Ee){var Ce,Te;return Ee==null&&(Ee="macroman"),Ce=ve.encode(e,Ee),(Te=new fe).writeUInt16(0),Te.writeUInt16(1),Ce.table=Te.data.concat(Ce.subtable),Ce},Re}(),ye=function(){function Re(){return Re.__super__.constructor.apply(this,arguments)}return ge(Re,he),Re.prototype.tag="hhea",Re.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},Re}(),we=function(){function Re(){return Re.__super__.constructor.apply(this,arguments)}return ge(Re,he),Re.prototype.tag="OS/2",Re.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var Ee,Ce;for(Ce=[],Ee=0;Ee<10;++Ee)Ce.push(e.readByte());return Ce}(),this.charRange=function(){var Ee,Ce;for(Ce=[],Ee=0;Ee<4;++Ee)Ce.push(e.readInt());return Ce}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var Ee,Ce;for(Ce=[],Ee=0;Ee<2;Ee=++Ee)Ce.push(e.readInt());return Ce}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},Re}(),Ne=function(){function Re(){return Re.__super__.constructor.apply(this,arguments)}return ge(Re,he),Re.prototype.tag="post",Re.prototype.parse=function(e){var Ee,Ce,Te;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var De;for(Ce=e.readUInt16(),this.glyphNameIndex=[],De=0;0<=Ce?De<Ce:De>Ce;De=0<=Ce?++De:--De)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],Te=[];e.pos<this.offset+this.length;)Ee=e.readByte(),Te.push(this.names.push(e.readString(Ee)));return Te;case 151552:return Ce=e.readUInt16(),this.offsets=e.read(Ce);case 262144:return this.map=(function(){var Me,Oe,Be;for(Be=[],De=Me=0,Oe=this.file.maxp.numGlyphs;0<=Oe?Me<Oe:Me>Oe;De=0<=Oe?++Me:--Me)Be.push(e.readUInt32());return Be}).call(this)}},Re}(),Le=function(Re,e){this.raw=Re,this.length=Re.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},xe=function(){function Re(){return Re.__super__.constructor.apply(this,arguments)}return ge(Re,he),Re.prototype.tag="name",Re.prototype.parse=function(e){var Ee,Ce,Te,De,Me,Oe,Be,ze,Ve,qe,We;for(e.pos=this.offset,e.readShort(),Ee=e.readShort(),Oe=e.readShort(),Ce=[],De=0;0<=Ee?De<Ee:De>Ee;De=0<=Ee?++De:--De)Ce.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+Oe+e.readShort()});for(Be={},De=Ve=0,qe=Ce.length;Ve<qe;De=++Ve)Te=Ce[De],e.pos=Te.offset,ze=e.readString(Te.length),Me=new Le(ze,Te),Be[We=Te.nameID]==null&&(Be[We]=[]),Be[Te.nameID].push(Me);this.strings=Be,this.copyright=Be[0],this.fontFamily=Be[1],this.fontSubfamily=Be[2],this.uniqueSubfamily=Be[3],this.fontName=Be[4],this.version=Be[5];try{this.postscriptName=Be[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=Be[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=Be[7],this.manufacturer=Be[8],this.designer=Be[9],this.description=Be[10],this.vendorUrl=Be[11],this.designerUrl=Be[12],this.license=Be[13],this.licenseUrl=Be[14],this.preferredFamily=Be[15],this.preferredSubfamily=Be[17],this.compatibleFull=Be[18],this.sampleText=Be[19]},Re}(),Ae=function(){function Re(){return Re.__super__.constructor.apply(this,arguments)}return ge(Re,he),Re.prototype.tag="maxp",Re.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},Re}(),Se=function(){function Re(){return Re.__super__.constructor.apply(this,arguments)}return ge(Re,he),Re.prototype.tag="hmtx",Re.prototype.parse=function(e){var Ee,Ce,Te,De,Me,Oe,Be;for(e.pos=this.offset,this.metrics=[],Ee=0,Oe=this.file.hhea.numberOfMetrics;0<=Oe?Ee<Oe:Ee>Oe;Ee=0<=Oe?++Ee:--Ee)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(Te=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var ze,Ve;for(Ve=[],Ee=ze=0;0<=Te?ze<Te:ze>Te;Ee=0<=Te?++ze:--ze)Ve.push(e.readInt16());return Ve}(),this.widths=(function(){var ze,Ve,qe,We;for(We=[],ze=0,Ve=(qe=this.metrics).length;ze<Ve;ze++)De=qe[ze],We.push(De.advance);return We}).call(this),Ce=this.widths[this.widths.length-1],Be=[],Ee=Me=0;0<=Te?Me<Te:Me>Te;Ee=0<=Te?++Me:--Me)Be.push(this.widths.push(Ce));return Be},Re.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},Re}(),_e=[].slice,Pe=function(){function Re(){return Re.__super__.constructor.apply(this,arguments)}return ge(Re,he),Re.prototype.tag="glyf",Re.prototype.parse=function(){return this.cache={}},Re.prototype.glyphFor=function(e){var Ee,Ce,Te,De,Me,Oe,Be,ze,Ve,qe;return e in this.cache?this.cache[e]:(De=this.file.loca,Ee=this.file.contents,Ce=De.indexOf(e),(Te=De.lengthOf(e))===0?this.cache[e]=null:(Ee.pos=this.offset+Ce,Me=(Oe=new fe(Ee.read(Te))).readShort(),ze=Oe.readShort(),qe=Oe.readShort(),Be=Oe.readShort(),Ve=Oe.readShort(),this.cache[e]=Me===-1?new Fe(Oe,ze,qe,Be,Ve):new ke(Oe,Me,ze,qe,Be,Ve),this.cache[e]))},Re.prototype.encode=function(e,Ee,Ce){var Te,De,Me,Oe,Be;for(Me=[],De=[],Oe=0,Be=Ee.length;Oe<Be;Oe++)Te=e[Ee[Oe]],De.push(Me.length),Te&&(Me=Me.concat(Te.encode(Ce)));return De.push(Me.length),{table:Me,offsets:De}},Re}(),ke=function(){function Re(e,Ee,Ce,Te,De,Me){this.raw=e,this.numberOfContours=Ee,this.xMin=Ce,this.yMin=Te,this.xMax=De,this.yMax=Me,this.compound=!1}return Re.prototype.encode=function(){return this.raw.data},Re}(),Fe=function(){function Re(e,Ee,Ce,Te,De){var Me,Oe;for(this.raw=e,this.xMin=Ee,this.yMin=Ce,this.xMax=Te,this.yMax=De,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],Me=this.raw;Oe=Me.readShort(),this.glyphOffsets.push(Me.pos),this.glyphIDs.push(Me.readUInt16()),32&Oe;)Me.pos+=1&Oe?4:2,128&Oe?Me.pos+=8:64&Oe?Me.pos+=4:8&Oe&&(Me.pos+=2)}return Re.prototype.encode=function(){var e,Ee,Ce;for(Ee=new fe(_e.call(this.raw.data)),e=0,Ce=this.glyphIDs.length;e<Ce;++e)Ee.pos=this.glyphOffsets[e];return Ee.data},Re}(),Ie=function(){function Re(){return Re.__super__.constructor.apply(this,arguments)}return ge(Re,he),Re.prototype.tag="loca",Re.prototype.parse=function(e){var Ee,Ce;return e.pos=this.offset,Ee=this.file.head.indexToLocFormat,this.offsets=Ee===0?(function(){var Te,De;for(De=[],Ce=0,Te=this.length;Ce<Te;Ce+=2)De.push(2*e.readUInt16());return De}).call(this):(function(){var Te,De;for(De=[],Ce=0,Te=this.length;Ce<Te;Ce+=4)De.push(e.readUInt32());return De}).call(this)},Re.prototype.indexOf=function(e){return this.offsets[e]},Re.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},Re.prototype.encode=function(e,Ee){for(var Ce=new Uint32Array(this.offsets.length),Te=0,De=0,Me=0;Me<Ce.length;++Me)if(Ce[Me]=Te,De<Ee.length&&Ee[De]==Me){++De,Ce[Me]=Te;var Oe=this.offsets[Me],Be=this.offsets[Me+1]-Oe;Be>0&&(Te+=Be)}for(var ze=new Array(4*Ce.length),Ve=0;Ve<Ce.length;++Ve)ze[4*Ve+3]=255&Ce[Ve],ze[4*Ve+2]=(65280&Ce[Ve])>>8,ze[4*Ve+1]=(16711680&Ce[Ve])>>16,ze[4*Ve]=(4278190080&Ce[Ve])>>24;return ze},Re}(),je=function(){function Re(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return Re.prototype.generateCmap=function(){var e,Ee,Ce,Te,De;for(Ee in Te=this.font.cmap.tables[0].codeMap,e={},De=this.subset)Ce=De[Ee],e[Ee]=Te[Ce];return e},Re.prototype.glyphsFor=function(e){var Ee,Ce,Te,De,Me,Oe,Be;for(Te={},Me=0,Oe=e.length;Me<Oe;Me++)Te[De=e[Me]]=this.font.glyf.glyphFor(De);for(De in Ee=[],Te)(Ce=Te[De])!=null&&Ce.compound&&Ee.push.apply(Ee,Ce.glyphIDs);if(Ee.length>0)for(De in Be=this.glyphsFor(Ee))Ce=Be[De],Te[De]=Ce;return Te},Re.prototype.encode=function(e,Ee){var Ce,Te,De,Me,Oe,Be,ze,Ve,qe,We,Ge,Je,Qe,ns,Ye;for(Te in Ce=be.encode(this.generateCmap(),"unicode"),Me=this.glyphsFor(e),Ge={0:0},Ye=Ce.charMap)Ge[(Be=Ye[Te]).old]=Be.new;for(Je in We=Ce.maxGlyphID,Me)Je in Ge||(Ge[Je]=We++);return Ve=function(rs){var ts,Xe;for(ts in Xe={},rs)Xe[rs[ts]]=ts;return Xe}(Ge),qe=Object.keys(Ve).sort(function(rs,ts){return rs-ts}),Qe=function(){var rs,ts,Xe;for(Xe=[],rs=0,ts=qe.length;rs<ts;rs++)Oe=qe[rs],Xe.push(Ve[Oe]);return Xe}(),De=this.font.glyf.encode(Me,Qe,Ge),ze=this.font.loca.encode(De.offsets,Qe),ns={cmap:this.font.cmap.raw(),glyf:De.table,loca:ze,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(Ee)},this.font.os2.exists&&(ns["OS/2"]=this.font.os2.raw()),this.font.directory.encode(ns)},Re}();E.API.PDFObject=function(){var Re;function e(){}return Re=function(Ee,Ce){return(Array(Ce+1).join("0")+Ee).slice(-Ce)},e.convert=function(Ee){var Ce,Te,De,Me;if(Array.isArray(Ee))return"["+function(){var Oe,Be,ze;for(ze=[],Oe=0,Be=Ee.length;Oe<Be;Oe++)Ce=Ee[Oe],ze.push(e.convert(Ce));return ze}().join(" ")+"]";if(typeof Ee=="string")return"/"+Ee;if(Ee!=null&&Ee.isString)return"("+Ee+")";if(Ee instanceof Date)return"(D:"+Re(Ee.getUTCFullYear(),4)+Re(Ee.getUTCMonth(),2)+Re(Ee.getUTCDate(),2)+Re(Ee.getUTCHours(),2)+Re(Ee.getUTCMinutes(),2)+Re(Ee.getUTCSeconds(),2)+"Z)";if({}.toString.call(Ee)==="[object Object]"){for(Te in De=["<<"],Ee)Me=Ee[Te],De.push("/"+Te+" "+e.convert(Me));return De.push(">>"),De.join(`
`)}return""+Ee},e}();function autoTableText(Re,e,Ee,Ce,Te){Ce=Ce||{};var De=1.15,Me=Te.internal.scaleFactor,Oe=Te.internal.getFontSize()/Me,Be=Te.getLineHeightFactor?Te.getLineHeightFactor():De,ze=Oe*Be,Ve=/\r\n|\r|\n/g,qe="",We=1;if((Ce.valign==="middle"||Ce.valign==="bottom"||Ce.halign==="center"||Ce.halign==="right")&&(qe=typeof Re=="string"?Re.split(Ve):Re,We=qe.length||1),Ee+=Oe*(2-De),Ce.valign==="middle"?Ee-=We/2*ze:Ce.valign==="bottom"&&(Ee-=We*ze),Ce.halign==="center"||Ce.halign==="right"){var Ge=Oe;if(Ce.halign==="center"&&(Ge*=.5),qe&&We>=1){for(var Je=0;Je<qe.length;Je++)Te.text(qe[Je],e-Te.getStringUnitWidth(qe[Je])*Ge,Ee),Ee+=ze;return Te}e-=Te.getStringUnitWidth(Re)*Ge}return Ce.halign==="justify"?Te.text(Re,e,Ee,{maxWidth:Ce.maxWidth||100,align:"justify"}):Te.text(Re,e,Ee),Te}var globalDefaults={},DocHandler=function(){function Re(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return Re.setDefaults=function(e,Ee){Ee===void 0&&(Ee=null),Ee?Ee.__autoTableDocumentDefaults=e:globalDefaults=e},Re.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},Re.prototype.applyStyles=function(e,Ee){var Ce,Te,De;Ee===void 0&&(Ee=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var Me=this.jsPDFDocument.internal.getFont(),Oe=Me.fontStyle,Be=Me.fontName;if(e.font&&(Be=e.font),e.fontStyle){Oe=e.fontStyle;var ze=this.getFontList()[Be];ze&&ze.indexOf(Oe)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(ze[0]),Oe=ze[0])}if(this.jsPDFDocument.setFont(Be,Oe),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!Ee){var Ve=Re.unifyColor(e.fillColor);Ve&&(Ce=this.jsPDFDocument).setFillColor.apply(Ce,Ve),Ve=Re.unifyColor(e.textColor),Ve&&(Te=this.jsPDFDocument).setTextColor.apply(Te,Ve),Ve=Re.unifyColor(e.lineColor),Ve&&(De=this.jsPDFDocument).setDrawColor.apply(De,Ve),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},Re.prototype.splitTextToSize=function(e,Ee,Ce){return this.jsPDFDocument.splitTextToSize(e,Ee,Ce)},Re.prototype.rect=function(e,Ee,Ce,Te,De){return this.jsPDFDocument.rect(e,Ee,Ce,Te,De)},Re.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},Re.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},Re.prototype.getDocument=function(){return this.jsPDFDocument},Re.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},Re.prototype.addPage=function(){return this.jsPDFDocument.addPage()},Re.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},Re.prototype.getGlobalOptions=function(){return globalDefaults||{}},Re.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},Re.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},Re.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},Re.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},Re.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},Re.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},Re}(),extendStatics=function(Re,e){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Ee,Ce){Ee.__proto__=Ce}||function(Ee,Ce){for(var Te in Ce)Object.prototype.hasOwnProperty.call(Ce,Te)&&(Ee[Te]=Ce[Te])},extendStatics(Re,e)};function __extends(Re,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");extendStatics(Re,e);function Ee(){this.constructor=Re}Re.prototype=e===null?Object.create(e):(Ee.prototype=e.prototype,new Ee)}typeof SuppressedError=="function"&&SuppressedError;var HtmlRowInput=function(Re){__extends(e,Re);function e(Ee){var Ce=Re.call(this)||this;return Ce._element=Ee,Ce}return e}(Array);function defaultStyles(Re){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/Re,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function getTheme(Re){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[Re]}function getStringWidth(Re,e,Ee){Ee.applyStyles(e,!0);var Ce=Array.isArray(Re)?Re:[Re],Te=Ce.map(function(De){return Ee.getTextWidth(De)}).reduce(function(De,Me){return Math.max(De,Me)},0);return Te}function addTableBorder(Re,e,Ee,Ce){var Te=e.settings.tableLineWidth,De=e.settings.tableLineColor;Re.applyStyles({lineWidth:Te,lineColor:De});var Me=getFillStyle(Te,!1);Me&&Re.rect(Ee.x,Ee.y,e.getWidth(Re.pageSize().width),Ce.y-Ee.y,Me)}function getFillStyle(Re,e){var Ee=Re>0,Ce=e||e===0;return Ee&&Ce?"DF":Ee?"S":Ce?"F":null}function parseSpacing(Re,e){var Ee,Ce,Te,De;if(Re=Re||e,Array.isArray(Re)){if(Re.length>=4)return{top:Re[0],right:Re[1],bottom:Re[2],left:Re[3]};if(Re.length===3)return{top:Re[0],right:Re[1],bottom:Re[2],left:Re[1]};if(Re.length===2)return{top:Re[0],right:Re[1],bottom:Re[0],left:Re[1]};Re.length===1?Re=Re[0]:Re=e}return typeof Re=="object"?(typeof Re.vertical=="number"&&(Re.top=Re.vertical,Re.bottom=Re.vertical),typeof Re.horizontal=="number"&&(Re.right=Re.horizontal,Re.left=Re.horizontal),{left:(Ee=Re.left)!==null&&Ee!==void 0?Ee:e,top:(Ce=Re.top)!==null&&Ce!==void 0?Ce:e,right:(Te=Re.right)!==null&&Te!==void 0?Te:e,bottom:(De=Re.bottom)!==null&&De!==void 0?De:e}):(typeof Re!="number"&&(Re=e),{top:Re,right:Re,bottom:Re,left:Re})}function getPageAvailableWidth(Re,e){var Ee=parseSpacing(e.settings.margin,0);return Re.pageSize().width-(Ee.left+Ee.right)}function parseCss(Re,e,Ee,Ce,Te){var De={},Me=1.3333333333333333,Oe=parseColor(e,function(ts){return Te.getComputedStyle(ts).backgroundColor});Oe!=null&&(De.fillColor=Oe);var Be=parseColor(e,function(ts){return Te.getComputedStyle(ts).color});Be!=null&&(De.textColor=Be);var ze=parsePadding(Ce,Ee);ze&&(De.cellPadding=ze);var Ve="borderTopColor",qe=Me*Ee,We=Ce.borderTopWidth;if(Ce.borderBottomWidth===We&&Ce.borderRightWidth===We&&Ce.borderLeftWidth===We){var Ge=(parseFloat(We)||0)/qe;Ge&&(De.lineWidth=Ge)}else De.lineWidth={top:(parseFloat(Ce.borderTopWidth)||0)/qe,right:(parseFloat(Ce.borderRightWidth)||0)/qe,bottom:(parseFloat(Ce.borderBottomWidth)||0)/qe,left:(parseFloat(Ce.borderLeftWidth)||0)/qe},De.lineWidth.top||(De.lineWidth.right?Ve="borderRightColor":De.lineWidth.bottom?Ve="borderBottomColor":De.lineWidth.left&&(Ve="borderLeftColor"));var Je=parseColor(e,function(ts){return Te.getComputedStyle(ts)[Ve]});Je!=null&&(De.lineColor=Je);var Qe=["left","right","center","justify"];Qe.indexOf(Ce.textAlign)!==-1&&(De.halign=Ce.textAlign),Qe=["middle","bottom","top"],Qe.indexOf(Ce.verticalAlign)!==-1&&(De.valign=Ce.verticalAlign);var ns=parseInt(Ce.fontSize||"");isNaN(ns)||(De.fontSize=ns/Me);var Ye=parseFontStyle(Ce);Ye&&(De.fontStyle=Ye);var rs=(Ce.fontFamily||"").toLowerCase();return Re.indexOf(rs)!==-1&&(De.font=rs),De}function parseFontStyle(Re){var e="";return(Re.fontWeight==="bold"||Re.fontWeight==="bolder"||parseInt(Re.fontWeight)>=700)&&(e="bold"),(Re.fontStyle==="italic"||Re.fontStyle==="oblique")&&(e+="italic"),e}function parseColor(Re,e){var Ee=realColor(Re,e);if(!Ee)return null;var Ce=Ee.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!Ce||!Array.isArray(Ce))return null;var Te=[parseInt(Ce[1]),parseInt(Ce[2]),parseInt(Ce[3])],De=parseInt(Ce[4]);return De===0||isNaN(Te[0])||isNaN(Te[1])||isNaN(Te[2])?null:Te}function realColor(Re,e){var Ee=e(Re);return Ee==="rgba(0, 0, 0, 0)"||Ee==="transparent"||Ee==="initial"||Ee==="inherit"?Re.parentElement==null?null:realColor(Re.parentElement,e):Ee}function parsePadding(Re,e){var Ee=[Re.paddingTop,Re.paddingRight,Re.paddingBottom,Re.paddingLeft],Ce=96/(72/e),Te=(parseInt(Re.lineHeight)-parseInt(Re.fontSize))/e/2,De=Ee.map(function(Oe){return parseInt(Oe||"0")/Ce}),Me=parseSpacing(De,0);return Te>Me.top&&(Me.top=Te),Te>Me.bottom&&(Me.bottom=Te),Me}function parseHtml(Re,e,Ee,Ce,Te){var De,Me;Ce===void 0&&(Ce=!1),Te===void 0&&(Te=!1);var Oe;typeof e=="string"?Oe=Ee.document.querySelector(e):Oe=e;var Be=Object.keys(Re.getFontList()),ze=Re.scaleFactor(),Ve=[],qe=[],We=[];if(!Oe)return console.error("Html table could not be found with input: ",e),{head:Ve,body:qe,foot:We};for(var Ge=0;Ge<Oe.rows.length;Ge++){var Je=Oe.rows[Ge],Qe=(Me=(De=Je==null?void 0:Je.parentElement)===null||De===void 0?void 0:De.tagName)===null||Me===void 0?void 0:Me.toLowerCase(),ns=parseRowContent(Be,ze,Ee,Je,Ce,Te);ns&&(Qe==="thead"?Ve.push(ns):Qe==="tfoot"?We.push(ns):qe.push(ns))}return{head:Ve,body:qe,foot:We}}function parseRowContent(Re,e,Ee,Ce,Te,De){for(var Me=new HtmlRowInput(Ce),Oe=0;Oe<Ce.cells.length;Oe++){var Be=Ce.cells[Oe],ze=Ee.getComputedStyle(Be);if(Te||ze.display!=="none"){var Ve=void 0;De&&(Ve=parseCss(Re,Be,e,ze,Ee)),Me.push({rowSpan:Be.rowSpan,colSpan:Be.colSpan,styles:Ve,_element:Be,content:parseCellContent(Be)})}}var qe=Ee.getComputedStyle(Ce);if(Me.length>0&&(Te||qe.display!=="none"))return Me}function parseCellContent(Re){var e=Re.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(Ee){return Ee.trim()}).join(`
`),e.innerText||e.textContent||""}function validateInput(Re,e,Ee){for(var Ce=0,Te=[Re,e,Ee];Ce<Te.length;Ce++){var De=Te[Ce];De&&typeof De!="object"&&console.error("The options parameter should be of type object, is: "+typeof De),De.startY&&typeof De.startY!="number"&&(console.error("Invalid value for startY option",De.startY),delete De.startY)}}function assign(Re,e,Ee,Ce,Te){if(Re==null)throw new TypeError("Cannot convert undefined or null to object");for(var De=Object(Re),Me=1;Me<arguments.length;Me++){var Oe=arguments[Me];if(Oe!=null)for(var Be in Oe)Object.prototype.hasOwnProperty.call(Oe,Be)&&(De[Be]=Oe[Be])}return De}function parseInput(Re,e){var Ee=new DocHandler(Re),Ce=Ee.getDocumentOptions(),Te=Ee.getGlobalOptions();validateInput(Te,Ce,e);var De=assign({},Te,Ce,e),Me;typeof window<"u"&&(Me=window);var Oe=parseStyles(Te,Ce,e),Be=parseHooks(Te,Ce,e),ze=parseSettings(Ee,De),Ve=parseContent$1(Ee,De,Me);return{id:e.tableId,content:Ve,hooks:Be,styles:Oe,settings:ze}}function parseStyles(Re,e,Ee){for(var Ce={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},Te=function(Be){if(Be==="columnStyles"){var ze=Re[Be],Ve=e[Be],qe=Ee[Be];Ce.columnStyles=assign({},ze,Ve,qe)}else{var We=[Re,e,Ee],Ge=We.map(function(Je){return Je[Be]||{}});Ce[Be]=assign({},Ge[0],Ge[1],Ge[2])}},De=0,Me=Object.keys(Ce);De<Me.length;De++){var Oe=Me[De];Te(Oe)}return Ce}function parseHooks(Re,e,Ee){for(var Ce=[Re,e,Ee],Te={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},De=0,Me=Ce;De<Me.length;De++){var Oe=Me[De];Oe.didParseCell&&Te.didParseCell.push(Oe.didParseCell),Oe.willDrawCell&&Te.willDrawCell.push(Oe.willDrawCell),Oe.didDrawCell&&Te.didDrawCell.push(Oe.didDrawCell),Oe.willDrawPage&&Te.willDrawPage.push(Oe.willDrawPage),Oe.didDrawPage&&Te.didDrawPage.push(Oe.didDrawPage)}return Te}function parseSettings(Re,e){var Ee,Ce,Te,De,Me,Oe,Be,ze,Ve,qe,We,Ge,Je=parseSpacing(e.margin,40/Re.scaleFactor()),Qe=(Ee=getStartY(Re,e.startY))!==null&&Ee!==void 0?Ee:Je.top,ns;e.showFoot===!0?ns="everyPage":e.showFoot===!1?ns="never":ns=(Ce=e.showFoot)!==null&&Ce!==void 0?Ce:"everyPage";var Ye;e.showHead===!0?Ye="everyPage":e.showHead===!1?Ye="never":Ye=(Te=e.showHead)!==null&&Te!==void 0?Te:"everyPage";var rs=(De=e.useCss)!==null&&De!==void 0?De:!1,ts=e.theme||(rs?"plain":"striped"),Xe=!!e.horizontalPageBreak,is=(Me=e.horizontalPageBreakRepeat)!==null&&Me!==void 0?Me:null;return{includeHiddenHtml:(Oe=e.includeHiddenHtml)!==null&&Oe!==void 0?Oe:!1,useCss:rs,theme:ts,startY:Qe,margin:Je,pageBreak:(Be=e.pageBreak)!==null&&Be!==void 0?Be:"auto",rowPageBreak:(ze=e.rowPageBreak)!==null&&ze!==void 0?ze:"auto",tableWidth:(Ve=e.tableWidth)!==null&&Ve!==void 0?Ve:"auto",showHead:Ye,showFoot:ns,tableLineWidth:(qe=e.tableLineWidth)!==null&&qe!==void 0?qe:0,tableLineColor:(We=e.tableLineColor)!==null&&We!==void 0?We:200,horizontalPageBreak:Xe,horizontalPageBreakRepeat:is,horizontalPageBreakBehaviour:(Ge=e.horizontalPageBreakBehaviour)!==null&&Ge!==void 0?Ge:"afterAllRows"}}function getStartY(Re,e){var Ee=Re.getLastAutoTable(),Ce=Re.scaleFactor(),Te=Re.pageNumber(),De=!1;if(Ee&&Ee.startPageNumber){var Me=Ee.startPageNumber+Ee.pageNumber-1;De=Me===Te}return typeof e=="number"?e:(e==null||e===!1)&&De&&(Ee==null?void 0:Ee.finalY)!=null?Ee.finalY+20/Ce:null}function parseContent$1(Re,e,Ee){var Ce=e.head||[],Te=e.body||[],De=e.foot||[];if(e.html){var Me=e.includeHiddenHtml;if(Ee){var Oe=parseHtml(Re,e.html,Ee,Me,e.useCss)||{};Ce=Oe.head||Ce,Te=Oe.body||Ce,De=Oe.foot||Ce}else console.error("Cannot parse html in non browser environment")}var Be=e.columns||parseColumns(Ce,Te,De);return{columns:Be,head:Ce,body:Te,foot:De}}function parseColumns(Re,e,Ee){var Ce=Re[0]||e[0]||Ee[0]||[],Te=[];return Object.keys(Ce).filter(function(De){return De!=="_element"}).forEach(function(De){var Me=1,Oe;Array.isArray(Ce)?Oe=Ce[parseInt(De)]:Oe=Ce[De],typeof Oe=="object"&&!Array.isArray(Oe)&&(Me=(Oe==null?void 0:Oe.colSpan)||1);for(var Be=0;Be<Me;Be++){var ze=void 0;Array.isArray(Ce)?ze=Te.length:ze=De+(Be>0?"_".concat(Be):"");var Ve={dataKey:ze};Te.push(Ve)}}),Te}var HookData=function(){function Re(e,Ee,Ce){this.table=Ee,this.pageNumber=Ee.pageNumber,this.settings=Ee.settings,this.cursor=Ce,this.doc=e.getDocument()}return Re}(),CellHookData=function(Re){__extends(e,Re);function e(Ee,Ce,Te,De,Me,Oe){var Be=Re.call(this,Ee,Ce,Oe)||this;return Be.cell=Te,Be.row=De,Be.column=Me,Be.section=De.section,Be}return e}(HookData),Table=function(){function Re(e,Ee){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=Ee.columns,this.head=Ee.head,this.body=Ee.body,this.foot=Ee.foot}return Re.prototype.getHeadHeight=function(e){return this.head.reduce(function(Ee,Ce){return Ee+Ce.getMaxCellHeight(e)},0)},Re.prototype.getFootHeight=function(e){return this.foot.reduce(function(Ee,Ce){return Ee+Ce.getMaxCellHeight(e)},0)},Re.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},Re.prototype.callCellHooks=function(e,Ee,Ce,Te,De,Me){for(var Oe=0,Be=Ee;Oe<Be.length;Oe++){var ze=Be[Oe],Ve=new CellHookData(e,this,Ce,Te,De,Me),qe=ze(Ve)===!1;if(Ce.text=Array.isArray(Ce.text)?Ce.text:[Ce.text],qe)return!1}return!0},Re.prototype.callEndPageHooks=function(e,Ee){e.applyStyles(e.userStyles);for(var Ce=0,Te=this.hooks.didDrawPage;Ce<Te.length;Ce++){var De=Te[Ce];De(new HookData(e,this,Ee))}},Re.prototype.callWillDrawPageHooks=function(e,Ee){for(var Ce=0,Te=this.hooks.willDrawPage;Ce<Te.length;Ce++){var De=Te[Ce];De(new HookData(e,this,Ee))}},Re.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var Ee=this.columns.reduce(function(Te,De){return Te+De.wrappedWidth},0);return Ee}else{var Ce=this.settings.margin;return e-Ce.left-Ce.right}},Re}(),Row=function(){function Re(e,Ee,Ce,Te,De){De===void 0&&(De=!1),this.height=0,this.raw=e,e instanceof HtmlRowInput&&(this.raw=e._element,this.element=e._element),this.index=Ee,this.section=Ce,this.cells=Te,this.spansMultiplePages=De}return Re.prototype.getMaxCellHeight=function(e){var Ee=this;return e.reduce(function(Ce,Te){var De;return Math.max(Ce,((De=Ee.cells[Te.index])===null||De===void 0?void 0:De.height)||0)},0)},Re.prototype.hasRowSpan=function(e){var Ee=this;return e.filter(function(Ce){var Te=Ee.cells[Ce.index];return Te?Te.rowSpan>1:!1}).length>0},Re.prototype.canEntireRowFit=function(e,Ee){return this.getMaxCellHeight(Ee)<=e},Re.prototype.getMinimumRowHeight=function(e,Ee){var Ce=this;return e.reduce(function(Te,De){var Me=Ce.cells[De.index];if(!Me)return 0;var Oe=Ee.getLineHeight(Me.styles.fontSize),Be=Me.padding("vertical"),ze=Be+Oe;return ze>Te?ze:Te},0)},Re}(),Cell=function(){function Re(e,Ee,Ce){var Te;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=Ee,this.section=Ce,this.raw=e;var De=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,De=(Te=e.content)!==null&&Te!==void 0?Te:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var Me=De!=null?""+De:"",Oe=/\r\n|\r|\n/g;this.text=Me.split(Oe)}return Re.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var Ee=this.height-this.padding("vertical");e=this.y+Ee/2+this.padding("top")}var Ce;if(this.styles.halign==="right")Ce=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var Te=this.width-this.padding("horizontal");Ce=this.x+Te/2+this.padding("left")}else Ce=this.x+this.padding("left");return{x:Ce,y:e}},Re.prototype.getContentHeight=function(e,Ee){Ee===void 0&&(Ee=1.15);var Ce=Array.isArray(this.text)?this.text.length:1,Te=this.styles.fontSize/e*Ee,De=Ce*Te+this.padding("vertical");return Math.max(De,this.styles.minCellHeight)},Re.prototype.padding=function(e){var Ee=parseSpacing(this.styles.cellPadding,0);return e==="vertical"?Ee.top+Ee.bottom:e==="horizontal"?Ee.left+Ee.right:Ee[e]},Re}(),Column=function(){function Re(e,Ee,Ce){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=Ee,this.index=Ce}return Re.prototype.getMaxCustomCellWidth=function(e){for(var Ee=0,Ce=0,Te=e.allRows();Ce<Te.length;Ce++){var De=Te[Ce],Me=De.cells[this.index];Me&&typeof Me.styles.cellWidth=="number"&&(Ee=Math.max(Ee,Me.styles.cellWidth))}return Ee},Re}();function calculateWidths(Re,e){calculate(Re,e);var Ee=[],Ce=0;e.columns.forEach(function(De){var Me=De.getMaxCustomCellWidth(e);Me?De.width=Me:(De.width=De.wrappedWidth,Ee.push(De)),Ce+=De.width});var Te=e.getWidth(Re.pageSize().width)-Ce;Te&&(Te=resizeColumns(Ee,Te,function(De){return Math.max(De.minReadableWidth,De.minWidth)})),Te&&(Te=resizeColumns(Ee,Te,function(De){return De.minWidth})),Te=Math.abs(Te),!e.settings.horizontalPageBreak&&Te>.1/Re.scaleFactor()&&(Te=Te<1?Te:Math.round(Te),console.log("Of the table content, ".concat(Te," units width could not fit page"))),applyColSpans(e),fitContent(e,Re),applyRowSpans(e)}function calculate(Re,e){var Ee=Re.scaleFactor(),Ce=e.settings.horizontalPageBreak,Te=getPageAvailableWidth(Re,e);e.allRows().forEach(function(De){for(var Me=0,Oe=e.columns;Me<Oe.length;Me++){var Be=Oe[Me],ze=De.cells[Be.index];if(ze){var Ve=e.hooks.didParseCell;e.callCellHooks(Re,Ve,ze,De,Be,null);var qe=ze.padding("horizontal");ze.contentWidth=getStringWidth(ze.text,ze.styles,Re)+qe;var We=getStringWidth(ze.text.join(" ").split(/[^\S\u00A0]+/),ze.styles,Re);if(ze.minReadableWidth=We+ze.padding("horizontal"),typeof ze.styles.cellWidth=="number")ze.minWidth=ze.styles.cellWidth,ze.wrappedWidth=ze.styles.cellWidth;else if(ze.styles.cellWidth==="wrap"||Ce===!0)ze.contentWidth>Te?(ze.minWidth=Te,ze.wrappedWidth=Te):(ze.minWidth=ze.contentWidth,ze.wrappedWidth=ze.contentWidth);else{var Ge=10/Ee;ze.minWidth=ze.styles.minCellWidth||Ge,ze.wrappedWidth=ze.contentWidth,ze.minWidth>ze.wrappedWidth&&(ze.wrappedWidth=ze.minWidth)}}}}),e.allRows().forEach(function(De){for(var Me=0,Oe=e.columns;Me<Oe.length;Me++){var Be=Oe[Me],ze=De.cells[Be.index];if(ze&&ze.colSpan===1)Be.wrappedWidth=Math.max(Be.wrappedWidth,ze.wrappedWidth),Be.minWidth=Math.max(Be.minWidth,ze.minWidth),Be.minReadableWidth=Math.max(Be.minReadableWidth,ze.minReadableWidth);else{var Ve=e.styles.columnStyles[Be.dataKey]||e.styles.columnStyles[Be.index]||{},qe=Ve.cellWidth||Ve.minCellWidth;qe&&typeof qe=="number"&&(Be.minWidth=qe,Be.wrappedWidth=qe)}ze&&(ze.colSpan>1&&!Be.minWidth&&(Be.minWidth=ze.minWidth),ze.colSpan>1&&!Be.wrappedWidth&&(Be.wrappedWidth=ze.minWidth))}})}function resizeColumns(Re,e,Ee){for(var Ce=e,Te=Re.reduce(function(Ge,Je){return Ge+Je.wrappedWidth},0),De=0;De<Re.length;De++){var Me=Re[De],Oe=Me.wrappedWidth/Te,Be=Ce*Oe,ze=Me.width+Be,Ve=Ee(Me),qe=ze<Ve?Ve:ze;e-=qe-Me.width,Me.width=qe}if(e=Math.round(e*1e10)/1e10,e){var We=Re.filter(function(Ge){return e<0?Ge.width>Ee(Ge):!0});We.length&&(e=resizeColumns(We,e,Ee))}return e}function applyRowSpans(Re){for(var e={},Ee=1,Ce=Re.allRows(),Te=0;Te<Ce.length;Te++)for(var De=Ce[Te],Me=0,Oe=Re.columns;Me<Oe.length;Me++){var Be=Oe[Me],ze=e[Be.index];if(Ee>1)Ee--,delete De.cells[Be.index];else if(ze)ze.cell.height+=De.height,Ee=ze.cell.colSpan,delete De.cells[Be.index],ze.left--,ze.left<=1&&delete e[Be.index];else{var Ve=De.cells[Be.index];if(!Ve)continue;if(Ve.height=De.height,Ve.rowSpan>1){var qe=Ce.length-Te,We=Ve.rowSpan>qe?qe:Ve.rowSpan;e[Be.index]={cell:Ve,left:We,row:De}}}}}function applyColSpans(Re){for(var e=Re.allRows(),Ee=0;Ee<e.length;Ee++)for(var Ce=e[Ee],Te=null,De=0,Me=0,Oe=0;Oe<Re.columns.length;Oe++){var Be=Re.columns[Oe];if(Me-=1,Me>1&&Re.columns[Oe+1])De+=Be.width,delete Ce.cells[Be.index];else if(Te){var ze=Te;delete Ce.cells[Be.index],Te=null,ze.width=Be.width+De}else{var ze=Ce.cells[Be.index];if(!ze)continue;if(Me=ze.colSpan,De=0,ze.colSpan>1){Te=ze,De+=Be.width;continue}ze.width=Be.width+De}}}function fitContent(Re,e){for(var Ee={count:0,height:0},Ce=0,Te=Re.allRows();Ce<Te.length;Ce++){for(var De=Te[Ce],Me=0,Oe=Re.columns;Me<Oe.length;Me++){var Be=Oe[Me],ze=De.cells[Be.index];if(ze){e.applyStyles(ze.styles,!0);var Ve=ze.width-ze.padding("horizontal");if(ze.styles.overflow==="linebreak")ze.text=e.splitTextToSize(ze.text,Ve+1/e.scaleFactor(),{fontSize:ze.styles.fontSize});else if(ze.styles.overflow==="ellipsize")ze.text=ellipsize(ze.text,Ve,ze.styles,e,"...");else if(ze.styles.overflow==="hidden")ze.text=ellipsize(ze.text,Ve,ze.styles,e,"");else if(typeof ze.styles.overflow=="function"){var qe=ze.styles.overflow(ze.text,Ve);typeof qe=="string"?ze.text=[qe]:ze.text=qe}ze.contentHeight=ze.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var We=ze.contentHeight/ze.rowSpan;ze.rowSpan>1&&Ee.count*Ee.height<We*ze.rowSpan?Ee={height:We,count:ze.rowSpan}:Ee&&Ee.count>0&&Ee.height>We&&(We=Ee.height),We>De.height&&(De.height=We)}}Ee.count--}}function ellipsize(Re,e,Ee,Ce,Te){return Re.map(function(De){return ellipsizeStr(De,e,Ee,Ce,Te)})}function ellipsizeStr(Re,e,Ee,Ce,Te){var De=1e4*Ce.scaleFactor();if(e=Math.ceil(e*De)/De,e>=getStringWidth(Re,Ee,Ce))return Re;for(;e<getStringWidth(Re+Te,Ee,Ce)&&!(Re.length<=1);)Re=Re.substring(0,Re.length-1);return Re.trim()+Te}function createTable(Re,e){var Ee=new DocHandler(Re),Ce=parseContent(e,Ee.scaleFactor()),Te=new Table(e,Ce);return calculateWidths(Ee,Te),Ee.applyStyles(Ee.userStyles),Te}function parseContent(Re,e){var Ee=Re.content,Ce=createColumns(Ee.columns);if(Ee.head.length===0){var Te=generateSectionRow(Ce,"head");Te&&Ee.head.push(Te)}if(Ee.foot.length===0){var Te=generateSectionRow(Ce,"foot");Te&&Ee.foot.push(Te)}var De=Re.settings.theme,Me=Re.styles;return{columns:Ce,head:parseSection("head",Ee.head,Ce,Me,De,e),body:parseSection("body",Ee.body,Ce,Me,De,e),foot:parseSection("foot",Ee.foot,Ce,Me,De,e)}}function parseSection(Re,e,Ee,Ce,Te,De){var Me={},Oe=e.map(function(Be,ze){for(var Ve=0,qe={},We=0,Ge=0,Je=0,Qe=Ee;Je<Qe.length;Je++){var ns=Qe[Je];if(Me[ns.index]==null||Me[ns.index].left===0)if(Ge===0){var Ye=void 0;Array.isArray(Be)?Ye=Be[ns.index-We-Ve]:Ye=Be[ns.dataKey];var rs={};typeof Ye=="object"&&!Array.isArray(Ye)&&(rs=(Ye==null?void 0:Ye.styles)||{});var ts=cellStyles(Re,ns,ze,Te,Ce,De,rs),Xe=new Cell(Ye,ts,Re);qe[ns.dataKey]=Xe,qe[ns.index]=Xe,Ge=Xe.colSpan-1,Me[ns.index]={left:Xe.rowSpan-1,times:Ge}}else Ge--,We++;else Me[ns.index].left--,Ge=Me[ns.index].times,Ve++}return new Row(Be,ze,Re,qe)});return Oe}function generateSectionRow(Re,e){var Ee={};return Re.forEach(function(Ce){if(Ce.raw!=null){var Te=getSectionTitle(e,Ce.raw);Te!=null&&(Ee[Ce.dataKey]=Te)}}),Object.keys(Ee).length>0?Ee:null}function getSectionTitle(Re,e){if(Re==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(Re==="foot"&&typeof e=="object")return e.footer;return null}function createColumns(Re){return Re.map(function(e,Ee){var Ce,Te;return typeof e=="object"?Te=(Ce=e.dataKey)!==null&&Ce!==void 0?Ce:Ee:Te=Ee,new Column(Te,e,Ee)})}function cellStyles(Re,e,Ee,Ce,Te,De,Me){var Oe=getTheme(Ce),Be;Re==="head"?Be=Te.headStyles:Re==="body"?Be=Te.bodyStyles:Re==="foot"&&(Be=Te.footStyles);var ze=assign({},Oe.table,Oe[Re],Te.styles,Be),Ve=Te.columnStyles[e.dataKey]||Te.columnStyles[e.index]||{},qe=Re==="body"?Ve:{},We=Re==="body"&&Ee%2===0?assign({},Oe.alternateRow,Te.alternateRowStyles):{},Ge=defaultStyles(De),Je=assign({},Ge,ze,We,qe);return assign(Je,Me)}function getColumnsCanFitInPage(Re,e,Ee){var Ce;Ee===void 0&&(Ee={});var Te=getPageAvailableWidth(Re,e),De=new Map,Me=[],Oe=[],Be=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?Be=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(Be=[e.settings.horizontalPageBreakRepeat]),Be.forEach(function(We){var Ge=e.columns.find(function(Je){return Je.dataKey===We||Je.index===We});Ge&&!De.has(Ge.index)&&(De.set(Ge.index,!0),Me.push(Ge.index),Oe.push(e.columns[Ge.index]),Te-=Ge.wrappedWidth)});for(var ze=!0,Ve=(Ce=Ee==null?void 0:Ee.start)!==null&&Ce!==void 0?Ce:0;Ve<e.columns.length;){if(De.has(Ve)){Ve++;continue}var qe=e.columns[Ve].wrappedWidth;if(ze||Te>=qe)ze=!1,Me.push(Ve),Oe.push(e.columns[Ve]),Te-=qe;else break;Ve++}return{colIndexes:Me,columns:Oe,lastIndex:Ve-1}}function calculateAllColumnsCanFitInPage(Re,e){for(var Ee=[],Ce=0;Ce<e.columns.length;Ce++){var Te=getColumnsCanFitInPage(Re,e,{start:Ce});Te.columns.length&&(Ee.push(Te),Ce=Te.lastIndex)}return Ee}function drawTable(Re,e){var Ee=e.settings,Ce=Ee.startY,Te=Ee.margin,De={x:Te.left,y:Ce},Me=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),Oe=Ce+Te.bottom+Me;if(Ee.pageBreak==="avoid"){var Be=e.body,ze=Be.reduce(function(We,Ge){return We+Ge.height},0);Oe+=ze}var Ve=new DocHandler(Re);(Ee.pageBreak==="always"||Ee.startY!=null&&Oe>Ve.pageSize().height)&&(nextPage(Ve),De.y=Te.top),e.callWillDrawPageHooks(Ve,De);var qe=assign({},De);e.startPageNumber=Ve.pageNumber(),Ee.horizontalPageBreak?printTableWithHorizontalPageBreak(Ve,e,qe,De):(Ve.applyStyles(Ve.userStyles),(Ee.showHead==="firstPage"||Ee.showHead==="everyPage")&&e.head.forEach(function(We){return printRow(Ve,e,We,De,e.columns)}),Ve.applyStyles(Ve.userStyles),e.body.forEach(function(We,Ge){var Je=Ge===e.body.length-1;printFullRow(Ve,e,We,Je,qe,De,e.columns)}),Ve.applyStyles(Ve.userStyles),(Ee.showFoot==="lastPage"||Ee.showFoot==="everyPage")&&e.foot.forEach(function(We){return printRow(Ve,e,We,De,e.columns)})),addTableBorder(Ve,e,qe,De),e.callEndPageHooks(Ve,De),e.finalY=De.y,Re.lastAutoTable=e,Ve.applyStyles(Ve.userStyles)}function printTableWithHorizontalPageBreak(Re,e,Ee,Ce){var Te=calculateAllColumnsCanFitInPage(Re,e),De=e.settings;if(De.horizontalPageBreakBehaviour==="afterAllRows")Te.forEach(function(ze,Ve){Re.applyStyles(Re.userStyles),Ve>0?addPage(Re,e,Ee,Ce,ze.columns,!0):printHead(Re,e,Ce,ze.columns),printBody(Re,e,Ee,Ce,ze.columns),printFoot(Re,e,Ce,ze.columns)});else for(var Me=-1,Oe=Te[0],Be=function(){var ze=Me;if(Oe){Re.applyStyles(Re.userStyles);var Ve=Oe.columns;Me>=0?addPage(Re,e,Ee,Ce,Ve,!0):printHead(Re,e,Ce,Ve),ze=printBodyWithoutPageBreaks(Re,e,Me+1,Ce,Ve),printFoot(Re,e,Ce,Ve)}var qe=ze-Me;Te.slice(1).forEach(function(We){Re.applyStyles(Re.userStyles),addPage(Re,e,Ee,Ce,We.columns,!0),printBodyWithoutPageBreaks(Re,e,Me+1,Ce,We.columns,qe),printFoot(Re,e,Ce,We.columns)}),Me=ze};Me<e.body.length-1;)Be()}function printHead(Re,e,Ee,Ce){var Te=e.settings;Re.applyStyles(Re.userStyles),(Te.showHead==="firstPage"||Te.showHead==="everyPage")&&e.head.forEach(function(De){return printRow(Re,e,De,Ee,Ce)})}function printBody(Re,e,Ee,Ce,Te){Re.applyStyles(Re.userStyles),e.body.forEach(function(De,Me){var Oe=Me===e.body.length-1;printFullRow(Re,e,De,Oe,Ee,Ce,Te)})}function printBodyWithoutPageBreaks(Re,e,Ee,Ce,Te,De){Re.applyStyles(Re.userStyles),De=De??e.body.length;var Me=Math.min(Ee+De,e.body.length),Oe=-1;return e.body.slice(Ee,Me).forEach(function(Be,ze){var Ve=Ee+ze===e.body.length-1,qe=getRemainingPageSpace(Re,e,Ve,Ce);Be.canEntireRowFit(qe,Te)&&(printRow(Re,e,Be,Ce,Te),Oe=Ee+ze)}),Oe}function printFoot(Re,e,Ee,Ce){var Te=e.settings;Re.applyStyles(Re.userStyles),(Te.showFoot==="lastPage"||Te.showFoot==="everyPage")&&e.foot.forEach(function(De){return printRow(Re,e,De,Ee,Ce)})}function getRemainingLineCount(Re,e,Ee){var Ce=Ee.getLineHeight(Re.styles.fontSize),Te=Re.padding("vertical"),De=Math.floor((e-Te)/Ce);return Math.max(0,De)}function modifyRowToFit(Re,e,Ee,Ce){var Te={};Re.spansMultiplePages=!0,Re.height=0;for(var De=0,Me=0,Oe=Ee.columns;Me<Oe.length;Me++){var Be=Oe[Me],ze=Re.cells[Be.index];if(ze){Array.isArray(ze.text)||(ze.text=[ze.text]);var Ve=new Cell(ze.raw,ze.styles,ze.section);Ve=assign(Ve,ze),Ve.text=[];var qe=getRemainingLineCount(ze,e,Ce);ze.text.length>qe&&(Ve.text=ze.text.splice(qe,ze.text.length));var We=Ce.scaleFactor(),Ge=Ce.getLineHeightFactor();ze.contentHeight=ze.getContentHeight(We,Ge),ze.contentHeight>=e&&(ze.contentHeight=e,Ve.styles.minCellHeight-=e),ze.contentHeight>Re.height&&(Re.height=ze.contentHeight),Ve.contentHeight=Ve.getContentHeight(We,Ge),Ve.contentHeight>De&&(De=Ve.contentHeight),Te[Be.index]=Ve}}var Je=new Row(Re.raw,-1,Re.section,Te,!0);Je.height=De;for(var Qe=0,ns=Ee.columns;Qe<ns.length;Qe++){var Be=ns[Qe],Ve=Je.cells[Be.index];Ve&&(Ve.height=Je.height);var ze=Re.cells[Be.index];ze&&(ze.height=Re.height)}return Je}function shouldPrintOnCurrentPage(Re,e,Ee,Ce){var Te=Re.pageSize().height,De=Ce.settings.margin,Me=De.top+De.bottom,Oe=Te-Me;e.section==="body"&&(Oe-=Ce.getHeadHeight(Ce.columns)+Ce.getFootHeight(Ce.columns));var Be=e.getMinimumRowHeight(Ce.columns,Re),ze=Be<Ee;if(Be>Oe)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!ze)return!1;var Ve=e.hasRowSpan(Ce.columns),qe=e.getMaxCellHeight(Ce.columns)>Oe;return qe?(Ve&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Ve||Ce.settings.rowPageBreak==="avoid")}function printFullRow(Re,e,Ee,Ce,Te,De,Me){var Oe=getRemainingPageSpace(Re,e,Ce,De);if(Ee.canEntireRowFit(Oe,Me))printRow(Re,e,Ee,De,Me);else if(shouldPrintOnCurrentPage(Re,Ee,Oe,e)){var Be=modifyRowToFit(Ee,Oe,e,Re);printRow(Re,e,Ee,De,Me),addPage(Re,e,Te,De,Me),printFullRow(Re,e,Be,Ce,Te,De,Me)}else addPage(Re,e,Te,De,Me),printFullRow(Re,e,Ee,Ce,Te,De,Me)}function printRow(Re,e,Ee,Ce,Te){Ce.x=e.settings.margin.left;for(var De=0,Me=Te;De<Me.length;De++){var Oe=Me[De],Be=Ee.cells[Oe.index];if(!Be){Ce.x+=Oe.width;continue}Re.applyStyles(Be.styles),Be.x=Ce.x,Be.y=Ce.y;var ze=e.callCellHooks(Re,e.hooks.willDrawCell,Be,Ee,Oe,Ce);if(ze===!1){Ce.x+=Oe.width;continue}drawCellRect(Re,Be,Ce);var Ve=Be.getTextPos();autoTableText(Be.text,Ve.x,Ve.y,{halign:Be.styles.halign,valign:Be.styles.valign,maxWidth:Math.ceil(Be.width-Be.padding("left")-Be.padding("right"))},Re.getDocument()),e.callCellHooks(Re,e.hooks.didDrawCell,Be,Ee,Oe,Ce),Ce.x+=Oe.width}Ce.y+=Ee.height}function drawCellRect(Re,e,Ee){var Ce=e.styles;if(Re.getDocument().setFillColor(Re.getDocument().getFillColor()),typeof Ce.lineWidth=="number"){var Te=getFillStyle(Ce.lineWidth,Ce.fillColor);Te&&Re.rect(e.x,Ee.y,e.width,e.height,Te)}else typeof Ce.lineWidth=="object"&&(Ce.fillColor&&Re.rect(e.x,Ee.y,e.width,e.height,"F"),drawCellBorders(Re,e,Ee,Ce.lineWidth))}function drawCellBorders(Re,e,Ee,Ce){var Te,De,Me,Oe;Ce.top&&(Te=Ee.x,De=Ee.y,Me=Ee.x+e.width,Oe=Ee.y,Ce.right&&(Me+=.5*Ce.right),Ce.left&&(Te-=.5*Ce.left),Be(Ce.top,Te,De,Me,Oe)),Ce.bottom&&(Te=Ee.x,De=Ee.y+e.height,Me=Ee.x+e.width,Oe=Ee.y+e.height,Ce.right&&(Me+=.5*Ce.right),Ce.left&&(Te-=.5*Ce.left),Be(Ce.bottom,Te,De,Me,Oe)),Ce.left&&(Te=Ee.x,De=Ee.y,Me=Ee.x,Oe=Ee.y+e.height,Ce.top&&(De-=.5*Ce.top),Ce.bottom&&(Oe+=.5*Ce.bottom),Be(Ce.left,Te,De,Me,Oe)),Ce.right&&(Te=Ee.x+e.width,De=Ee.y,Me=Ee.x+e.width,Oe=Ee.y+e.height,Ce.top&&(De-=.5*Ce.top),Ce.bottom&&(Oe+=.5*Ce.bottom),Be(Ce.right,Te,De,Me,Oe));function Be(ze,Ve,qe,We,Ge){Re.getDocument().setLineWidth(ze),Re.getDocument().line(Ve,qe,We,Ge,"S")}}function getRemainingPageSpace(Re,e,Ee,Ce){var Te=e.settings.margin.bottom,De=e.settings.showFoot;return(De==="everyPage"||De==="lastPage"&&Ee)&&(Te+=e.getFootHeight(e.columns)),Re.pageSize().height-Ce.y-Te}function addPage(Re,e,Ee,Ce,Te,De){Te===void 0&&(Te=[]),De===void 0&&(De=!1),Re.applyStyles(Re.userStyles),e.settings.showFoot==="everyPage"&&!De&&e.foot.forEach(function(Oe){return printRow(Re,e,Oe,Ce,Te)}),e.callEndPageHooks(Re,Ce);var Me=e.settings.margin;addTableBorder(Re,e,Ee,Ce),nextPage(Re),e.pageNumber++,Ce.x=Me.left,Ce.y=Me.top,Ee.y=Me.top,e.callWillDrawPageHooks(Re,Ce),e.settings.showHead==="everyPage"&&(e.head.forEach(function(Oe){return printRow(Re,e,Oe,Ce,Te)}),Re.applyStyles(Re.userStyles))}function nextPage(Re){var e=Re.pageNumber();Re.setPage(e+1);var Ee=Re.pageNumber();return Ee===e?(Re.addPage(),!0):!1}function applyPlugin(Re){Re.API.autoTable=function(){for(var e=[],Ee=0;Ee<arguments.length;Ee++)e[Ee]=arguments[Ee];var Ce=e[0],Te=parseInput(this,Ce),De=createTable(this,Te);return drawTable(this,De),this},Re.API.lastAutoTable=!1,Re.API.autoTableText=function(e,Ee,Ce,Te){autoTableText(e,Ee,Ce,Te,this)},Re.API.autoTableSetDefaults=function(e){return DocHandler.setDefaults(e,this),this},Re.autoTableSetDefaults=function(e,Ee){DocHandler.setDefaults(e,Ee)},Re.API.autoTableHtmlToJson=function(e,Ee){var Ce;if(Ee===void 0&&(Ee=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var Te=new DocHandler(this),De=parseHtml(Te,e,window,Ee,!1),Me=De.head,Oe=De.body,Be=((Ce=Me[0])===null||Ce===void 0?void 0:Ce.map(function(ze){return ze.content}))||[];return{columns:Be,rows:Oe,data:Oe}}}var _a$1;function autoTable(Re,e){var Ee=parseInput(Re,e),Ce=createTable(Re,Ee);drawTable(Re,Ce)}try{if(typeof window<"u"&&window){var anyWindow=window,jsPDF=anyWindow.jsPDF||((_a$1=anyWindow.jspdf)===null||_a$1===void 0?void 0:_a$1.jsPDF);jsPDF&&applyPlugin(jsPDF)}}catch(Re){console.error("Could not apply autoTable plugin",Re)}const NOCTimeline=({nocForm:Re})=>{if(!Re)return null;const e=Te=>{switch(Te==null?void 0:Te.toUpperCase()){case"ACCEPTED":case"APPROVED":return{circle:"bg-green-600 border-green-600",icon:"text-white",text:"text-green-700"};case"REJECTED":case"DECLINED":return{circle:"bg-red-600 border-red-600",icon:"text-white",text:"text-red-700"};case"FORWARDED":return{circle:"bg-blue-600 border-blue-600",icon:"text-white",text:"text-blue-700"};case"SUBMITTED":return{circle:"bg-purple-900 border-purple-600",icon:"text-white",text:"text-purple-700"};default:return{circle:"bg-gray-200 border-gray-300",icon:"text-gray-400",text:"text-gray-500"}}},Ce=(()=>{var De,Me,Oe;const Te=[];return Te.push({id:"submission",title:"Application Submitted",description:"Initial application received and recorded in system.",date:Re.createdAt,status:"SUBMITTED",icon:FileCheck}),Re.permissionRequests&&Re.permissionRequests.length>0&&[...Re.permissionRequests].sort((ze,Ve)=>{const qe=ze.decidedAt||ze.forwardedAt,We=Ve.decidedAt||Ve.forwardedAt;return new Date(qe)-new Date(We)}).forEach(ze=>{ze.status==="FORWARDED"?Te.push({id:`forward-${ze.id}`,title:`Forwarded to ${ze.officeName}`,description:`Sent for departmental clearance to ${ze.officeType.toLowerCase()} office.`,date:ze.forwardedAt,status:"FORWARDED",icon:Send}):Te.push({id:`decision-${ze.id}`,title:`${ze.status==="ACCEPTED"?"Approved":"Rejected"} by ${ze.officeName}`,description:ze.remarks||`Decision rendered by ${ze.officeName} administration.`,date:ze.decidedAt,status:ze.status,icon:ze.status==="ACCEPTED"?CircleCheck:CircleX,remarks:ze.remarks})}),(De=Re.finalApproval)!=null&&De.completed&&((Me=Re.finalApproval)!=null&&Me.isApproved)&&((Oe=Re.finalApproval)==null?void 0:Oe.status)==="APPROVED"&&Te.push({id:"final-approval",title:"Final Approval Grant",description:"Competent Authority has granted final approval.",date:Re.finalApproval.approvedAt||new Date().toISOString(),status:"APPROVED",icon:CircleCheck}),Te})();return jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsx("div",{className:"relative",children:Ce.map((Te,De)=>{const Me=Te.icon,Oe=e(Te.status),Be=De===Ce.length-1;return jsxRuntimeExports.jsxs("div",{className:"relative pb-8 last:pb-0",children:[!Be&&jsxRuntimeExports.jsx("div",{className:"absolute left-[15px] top-[30px] w-[2px] h-[calc(100%-20px)] bg-gray-100"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("div",{className:`relative z-10 w-8 h-8 rounded-lg border-2 flex items-center justify-center shrink-0 ${Oe.circle} shadow-sm`,children:jsxRuntimeExports.jsx(Me,{size:14,className:Oe.icon,strokeWidth:3})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 pt-0.5",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start gap-2 mb-1",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-gray-900 uppercase tracking-tight",children:Te.title}),Te.date&&jsxRuntimeExports.jsx("span",{className:"text-[9px] font-bold text-gray-300 uppercase tracking-widest whitespace-nowrap",children:new Date(Te.date).toLocaleDateString("en-GB",{day:"2-digit",month:"short"})})]}),jsxRuntimeExports.jsx("p",{className:"text-[11px] text-gray-500 font-medium leading-relaxed mb-2",children:Te.description}),Te.date&&jsxRuntimeExports.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:new Date(Te.date).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),Te.remarks&&jsxRuntimeExports.jsxs("div",{className:"mt-2 p-2 bg-gray-50 border-l-2 border-gray-200 rounded text-[10px] italic text-gray-600",children:['"',Te.remarks,'"']})]})]})]},Te.id)})})})},UniversalFormModal=({isOpen:Re,onClose:e,selectedRow:Ee,userRole:Ce,onForward:Te,onApprove:De,onReject:Me,onFinalApprove:Oe,onView:Be,showActions:ze=!0,customActions:Ve=null})=>{const[qe,We]=React.useState("producerRegistration"),[Ge,Je]=React.useState(null),[Qe,ns]=React.useState(!1);if(reactExports.useEffect(()=>{Re&&Ee?Je(Ee):Re||Je(null)},[Re,Ee]),reactExports.useEffect(()=>{(async()=>{if(Re&&Ee&&(Ee.applicationId||Ee.id)&&!Ee.annexureOne)try{ns(!0);const gs=Ee.applicationId||Ee.id,Ts=Ce==="district_admin"?"?role=department_admin":"",Ds=await api.get(`/api/adminApplication/applications/${gs}/details${Ts}`);Ds.data.success&&Je(Ds.data.data)}catch(gs){console.error("âŒ Modal Enrichment Failed:",gs)}finally{ns(!1)}})()},[Re,Ee,Ce]),reactExports.useEffect(()=>{const Ss=ds=>{ds.key==="Escape"&&Re&&e()};return document.addEventListener("keydown",Ss),()=>document.removeEventListener("keydown",Ss)},[Re,e]),reactExports.useEffect(()=>(Re?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[Re]),!Re||!Ge)return null;const Ye=[{id:"producerRegistration",label:"Producer Registration Form"},{id:"annexureOne",label:"Annexure 1"},{id:"nocForm",label:"Annexure 2"},{id:"annexureA",label:"Annexure A"},{id:"documents",label:"Documents"},{id:"synopsis",label:"Synopsis"},{id:"undertaking",label:"Undertaking"}],rs=(Ss,ds)=>ds.split(".").reduce((gs,Ts)=>gs&&gs[Ts],Ss),ts=Ss=>Ss==null||Ss===""?"N/A":typeof Ss=="boolean"?Ss?"Yes":"No":typeof Ss=="string"&&(Ss.startsWith("http://")||Ss.startsWith("https://"))?jsxRuntimeExports.jsxs("a",{href:Ss,target:"_blank",rel:"noreferrer",className:"text-[#891737] hover:underline inline-flex items-center gap-1 font-bold",children:["View Document ",jsxRuntimeExports.jsx(FaExternalLinkAlt,{className:"text-[10px]"})]}):String(Ss),Xe=Ss=>Ss?new Date(Ss).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}):"â€”",is=(Ss,ds)=>Ss?jsxRuntimeExports.jsx("div",{className:"overflow-hidden border border-gray-200 rounded-lg",children:jsxRuntimeExports.jsx("table",{className:"w-full text-left border-collapse",children:jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-200",children:ds.map(([gs,Ts],Ds)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4 bg-gray-50/50 text-xs font-bold text-gray-500 uppercase tracking-widest w-1/3 border-r border-gray-200",children:gs}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 text-sm text-gray-900 font-medium",children:ts(rs(Ss,Ts)??Ss[Ts])})]},Ds))})})}):jsxRuntimeExports.jsx("div",{className:"py-20 text-center text-gray-400 font-bold uppercase tracking-widest text-xs bg-gray-50 border border-dashed border-gray-200 rounded-lg",children:"Data not available in system"}),os=Ss=>!Ss||Ss.length===0?jsxRuntimeExports.jsx("div",{className:"py-20 text-center text-gray-400 font-bold uppercase tracking-widest text-xs bg-gray-50 border border-dashed border-gray-200 rounded-lg",children:"No location records found"}):jsxRuntimeExports.jsx("div",{className:"space-y-6",children:Ss.map((ds,gs)=>jsxRuntimeExports.jsxs("div",{className:"border border-gray-200 rounded-xl overflow-hidden bg-white shadow-sm hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 px-6 py-4 border-b border-gray-200 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"w-8 h-8 bg-[#802d44] text-white rounded-lg flex items-center justify-center font-bold text-sm",children:gs+1}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-bold text-gray-900",children:ds.location}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-gray-500 font-bold uppercase tracking-widest",children:ds.landmark})]})]}),jsxRuntimeExports.jsx("span",{className:"px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-[10px] font-bold uppercase border border-blue-100",children:ds.locationType})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Timeline"}),jsxRuntimeExports.jsxs("div",{className:"text-xs font-medium text-gray-700 space-y-1 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"Start:"}),jsxRuntimeExports.jsx("span",{children:new Date(ds.startDateTime).toLocaleString()})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"End:"}),jsxRuntimeExports.jsx("span",{children:new Date(ds.endDateTime).toLocaleString()})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Scene Details"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-700 leading-relaxed italic",children:ds.sceneDetails||"No scene details provided"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4 font-medium",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Crew & Manpower"}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-700",children:[jsxRuntimeExports.jsx("span",{className:"font-bold",children:ds.personCount})," People Involved",jsxRuntimeExports.jsx("p",{className:"text-gray-500 mt-1 text-[11px]",children:ds.crewInvolvement})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Permission Details"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-700 leading-relaxed",children:ds.permissionDetails||"N/A"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Financials"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"bg-green-50 border border-green-100 p-2 rounded-lg text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-[9px] text-green-600 font-bold uppercase",children:"Fee"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-bold text-green-800",children:ds.locationFee})]}),jsxRuntimeExports.jsxs("div",{className:"bg-amber-50 border border-amber-100 p-2 rounded-lg text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-[9px] text-amber-600 font-bold uppercase",children:"Deposit"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-bold text-amber-800",children:ds.securityDeposit})]})]}),ds.paymentRef&&jsxRuntimeExports.jsxs("p",{className:"text-[7px] text-gray-400 mt-2 font-bold uppercase",children:["Payment Reference Number:"," ",jsxRuntimeExports.jsx("span",{className:"font-bold text-[10px]",children:ds.paymentRef})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block mb-1",children:"Location Manager"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-700 bg-blue-50/50 p-2 rounded-lg border border-blue-100/50",children:ds.locationManager})]})]})]}),(ds.forestType||ds.forestDetails)&&jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 bg-orange-50/50 border-t border-orange-100 grid grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-[9px] font-bold text-orange-600 uppercase tracking-widest block mb-1",children:"Forest Type"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-700 font-bold uppercase tracking-tight",children:ds.forestType})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-[9px] font-bold text-orange-600 uppercase tracking-widest block mb-1",children:"Forest Details"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-700 italic",children:ds.forestDetails})]})]})]},gs))}),hs=()=>{var Ss,ds,gs,Ts,Ds,Ms,bs,Ns,ps,_s,ws,js,ms,ys,ks,zs,Cs,Ps,Us,Is,Vs,Ks,or,rr,ur,Ws,Er,zr,Or,tr,Lr,Js,lr,hr,Ar,Pr,vr,Mr,Qr,Ur,ti,oi,Ti,_i,mi,Ci,Tr,Sr,Ir,Kr,ri,Wr,ai,ii,yi,Sn;switch(qe){case"producerRegistration":return is((Ss=Ge.filmmaker)==null?void 0:Ss.producerRegistration,[["Company Name","productionCompanyName"],["Company Type","companyType"],["Authorized Rep","authorizedRepresentative"],["Full Address","fullAddress"],["Pin Code","pinCode"],["State","state"],["Country","country"],["Email","email"],["Contact","contactNumber"],["CIN/Reg No","companyIdentificationNumber"],["CIN Document","companyIdentificationDocument"],["PAN","pan"],["PAN Document","panDocument"],["GST No","gstRegistrationNumber"],["GST Certificate","gstCertificate"],["LP Company Name","lineProducerCompanyName"],["LP Company Type","lineProducerCompanyType"],["LP Name","lineProducerName"],["LP PAN","lineProducerPan"],["LP Address","lineProducerAddress"],["LP Pin Code","lineProducerPinCode"],["LP State","lineProducerState"],["LP Email","lineProducerEmail"],["LP Mobile","lineProducerMobile"]]);case"annexureOne":return is(Ge.annexureOne,[["Project Title","titleOfProject"],["Project Type","typeOfProject"],["Language","language"],["Genre","genre"],["Duration","durationOfProject"],["Producer Name","producerName"],["Production House","productionHouse"],["Line Producer","lineProducerNameAndContact"],["Total Shooting Days","totalShootingDays"],["Days In Bihar","shootingDaysInBihar"],["Shooting Dates","shootingDatesInBihar"],["Proposed Locations","proposedShootingLocationInBihar"],["Approx Budget","approximateBudgetOfProject"],["Expenditure In Bihar","approximateExpenditureInBihar"],["Est. Manpower (Bihar)","estimatedManpowerUtilizationBihar"],["Executive Producer","executiveProducerName"],["EP Designation","executiveProducerDesignation"],["EP Address","executiveProducerAddress"],["EP Email","executiveProducerEmail"],["EP Mobile","executiveProducerMobile"],["Director & Cast","directorAndMainCastNames"],["Synopsis","synopsis"],["Additional Details","details"]]);case"nocForm":return is(Ge.nocForm,[["Project Title","title"],["Project Type","typeOfProject"],["Language","language"],["Genre","genre"],["Duration","duration"],["Director & Main Cast","directorAndMainCast"],["Synopsis","synopsis"],["Brief Synopsis","briefSynopsis"],["Production House","producerHouse"],["Production House Address","productionHouseAddress"],["Production House Email","emailOfProductionHouse"],["Production House Contact","contactOfProductionHouse"],["PH Constitution","productionHouseConstitution"],["Registration Number","registrationNumber"],["Line Producer Details","lineProducerDetails"],["Authorized Representative","representativeName"],["Applicant Name","authorizedApplicantName"],["Applicant Designation","designationOfApplicant"],["Applicant Address","addressOfApplicant"],["Applicant Contact","contactOfApplicant"],["Applicant Email","emailOfApplicant"],["Main Artists at Location","mainArtistsAtLocation"],["Shooting Locations Count","numberOfShootingLocations"],["Drone Permission","dronePermissionRequired"],["Animal in Shooting","animalPartOfShooting"],["Fire/Blasting Scene","fireOrBlastingScene"],["Temporary Structures","temporaryStructureCreation"],["Police/Security Req","policeOrSecurityRequirement"],["Site Contact Details","siteContactPersonDetails"],["Branding/Asset Use","inFilmBrandingOrAssetUse"],["Other Particulars","otherParticulars"],["Other Details","otherDetails"],["MIB Certificate","mibCertificate"],["MEA Certificate","meaCertificate"],["Official Seal","seal"],["Signature","signature"]]);case"annexureA":return os((ds=Ge.nocForm)==null?void 0:ds.annexureA);case"undertaking":return is(Ge.undertaking,[["Document","documentUrl"],["Uploaded At","uploadedAt"]]);case"documents":const $i=((Ts=(gs=Ge.forms)==null?void 0:gs.nocDocumentsAndSynopsis)==null?void 0:Ts.data)||((Ds=Ge.forms)==null?void 0:Ds.nocDocumentsAndSynopsis)||((Ms=Ge.nocDocumentsAndSynopsis)==null?void 0:Ms.data)||Ge.nocDocumentsAndSynopsis;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[$i&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:"Shooting Permission Documents"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[{label:"Request Letter",url:$i.requestLetter},{label:"Registration Certificate",url:$i.registrationCertificate},{label:"Title Registration",url:$i.titleRegistration}].map((Si,pi)=>Si.url&&jsxRuntimeExports.jsxs("a",{href:Si.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3.5 bg-white border border-gray-200/80 rounded-xl hover:border-gray-300 hover:shadow-sm transition-all group",children:[jsxRuntimeExports.jsx("div",{className:"w-9 h-9 rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0 group-hover:bg-blue-100 transition-colors",children:jsxRuntimeExports.jsx(FaExternalLinkAlt,{size:14,className:"text-blue-500"})}),jsxRuntimeExports.jsxs("div",{className:"overflow-hidden",children:[jsxRuntimeExports.jsx("h5",{className:"text-[12px] font-bold text-gray-700 truncate group-hover:text-gray-900",children:Si.label}),jsxRuntimeExports.jsxs("span",{className:"text-[10px] text-blue-500 font-medium flex items-center gap-1 mt-0.5",children:["View Document ",jsxRuntimeExports.jsx(FaExternalLinkAlt,{size:7})]})]})]},`noc-${pi}`))}),$i.uploadedAt&&jsxRuntimeExports.jsxs("p",{className:"text-[10px] text-gray-400 mt-1",children:["Uploaded: ",Xe($i.uploadedAt),$i.updatedAt&&$i.updatedAt!==$i.uploadedAt&&` Â· Updated: ${Xe($i.updatedAt)}`]})]}),jsxRuntimeExports.jsx("h3",{className:"text-sm font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4 mt-8",children:"Other Documents"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[{label:"Company ID",url:(Ns=(bs=Ge.filmmaker)==null?void 0:bs.producerRegistration)==null?void 0:Ns.companyIdentificationDocument},{label:"PAN Card",url:(_s=(ps=Ge.filmmaker)==null?void 0:ps.producerRegistration)==null?void 0:_s.panDocument},{label:"GST Certificate",url:(js=(ws=Ge.filmmaker)==null?void 0:ws.producerRegistration)==null?void 0:js.gstCertificate},{label:"MIB Certificate",url:(ks=(ys=(ms=Ge.forms)==null?void 0:ms.nocForm)==null?void 0:ys.data)==null?void 0:ks.mibCertificate},{label:"MEA Certificate",url:(Ps=(Cs=(zs=Ge.forms)==null?void 0:zs.nocForm)==null?void 0:Cs.data)==null?void 0:Ps.meaCertificate},{label:"Undertaking",url:(Vs=(Is=(Us=Ge.forms)==null?void 0:Us.undertaking)==null?void 0:Is.data)==null?void 0:Vs.documentUrl},{label:"Request Letter",url:(rr=(or=(Ks=Ge.forms)==null?void 0:Ks.requestLetter)==null?void 0:or.data)==null?void 0:rr.documentUrl},{label:"Synopsis",url:((Er=(Ws=(ur=Ge.forms)==null?void 0:ur.nocDocumentsAndSynopsis)==null?void 0:Ws.data)==null?void 0:Er.synopsis)||((Or=(zr=Ge.forms)==null?void 0:zr.nocDocumentsAndSynopsis)==null?void 0:Or.synopsis)||((Lr=(tr=Ge.nocDocumentsAndSynopsis)==null?void 0:tr.data)==null?void 0:Lr.synopsis)||((Js=Ge.nocDocumentsAndSynopsis)==null?void 0:Js.synopsis)},{label:"Title Registration",url:((Ar=(hr=(lr=Ge.forms)==null?void 0:lr.nocDocumentsAndSynopsis)==null?void 0:hr.data)==null?void 0:Ar.titleRegistration)||((vr=(Pr=Ge.forms)==null?void 0:Pr.nocDocumentsAndSynopsis)==null?void 0:vr.titleRegistration)||((Qr=(Mr=Ge.nocDocumentsAndSynopsis)==null?void 0:Mr.data)==null?void 0:Qr.titleRegistration)||((Ur=Ge.nocDocumentsAndSynopsis)==null?void 0:Ur.titleRegistration)},{label:"Registration Certificate",url:((Ti=(oi=(ti=Ge.forms)==null?void 0:ti.nocDocumentsAndSynopsis)==null?void 0:oi.data)==null?void 0:Ti.registrationCertificate)||((mi=(_i=Ge.forms)==null?void 0:_i.nocDocumentsAndSynopsis)==null?void 0:mi.registrationCertificate)||((Tr=(Ci=Ge.nocDocumentsAndSynopsis)==null?void 0:Ci.data)==null?void 0:Tr.registrationCertificate)||((Sr=Ge.nocDocumentsAndSynopsis)==null?void 0:Sr.registrationCertificate)}].map((Si,pi)=>Si.url&&jsxRuntimeExports.jsxs("a",{href:Si.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3.5 bg-white border border-gray-200/80 rounded-xl hover:border-gray-300 hover:shadow-sm transition-all group",children:[jsxRuntimeExports.jsx("div",{className:"w-9 h-9 rounded-lg bg-red-50 flex items-center justify-center flex-shrink-0 group-hover:bg-red-100 transition-colors",children:jsxRuntimeExports.jsx(FaExternalLinkAlt,{size:14,className:"text-red-500"})}),jsxRuntimeExports.jsxs("div",{className:"overflow-hidden",children:[jsxRuntimeExports.jsx("h5",{className:"text-[12px] font-bold text-gray-700 truncate group-hover:text-gray-900",children:Si.label}),jsxRuntimeExports.jsxs("span",{className:"text-[10px] text-blue-500 font-medium flex items-center gap-1 mt-0.5",children:["View PDF ",jsxRuntimeExports.jsx(FaExternalLinkAlt,{size:7})]})]})]},pi))})]});case"synopsis":const dn=((ri=(Kr=(Ir=Ge.forms)==null?void 0:Ir.nocDocumentsAndSynopsis)==null?void 0:Kr.data)==null?void 0:ri.synopsis)||((ai=(Wr=Ge.forms)==null?void 0:Wr.nocDocumentsAndSynopsis)==null?void 0:ai.synopsis)||((yi=(ii=Ge.nocDocumentsAndSynopsis)==null?void 0:ii.data)==null?void 0:yi.synopsis)||((Sn=Ge.nocDocumentsAndSynopsis)==null?void 0:Sn.synopsis);return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-bold text-gray-900 border-b border-gray-200 pb-2 mb-4",children:"Synopsis"}),dn?jsxRuntimeExports.jsx("div",{className:"bg-white border border-gray-200/80 rounded-xl p-6",children:jsxRuntimeExports.jsx("p",{className:"text-[13px] text-gray-700 leading-relaxed whitespace-pre-wrap",children:dn})}):jsxRuntimeExports.jsxs("div",{className:"py-12 text-center text-gray-400 text-sm bg-gray-50/50 border border-dashed border-gray-200 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-100 flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(FaExternalLinkAlt,{className:"text-gray-300",size:16})}),"No synopsis available"]})]});default:return null}},fs=async()=>{new E("p","mm","a4")},xs=()=>{var Ss;if(Ve)return Ve;switch(Ce){case"admin":return(Ge.status||"").toLowerCase()==="approved"&&!((Ss=Ge.finalApproval)!=null&&Ss.completed)?jsxRuntimeExports.jsxs("button",{onClick:()=>Oe&&Oe(Ge),className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-bold text-xs uppercase tracking-widest transition-all flex items-center gap-2",children:[jsxRuntimeExports.jsx(FaCheckCircle,{size:14}),jsxRuntimeExports.jsx("span",{children:"Final Approve"})]}):jsxRuntimeExports.jsx("button",{onClick:()=>Te&&Te(Ge),className:"bg-[#891737] hover:bg-[#6e1129] text-white px-8 py-3 rounded-lg font-bold text-xs uppercase tracking-widest transition-all",children:"Forward Application"});case"district_admin":return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("button",{onClick:()=>De&&De(Ge),className:"bg-green-600 hover:bg-green-700 text-white px-8 py-3 rounded-lg font-bold text-xs uppercase tracking-widest transition-all",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FaCheckCircle,{size:14}),jsxRuntimeExports.jsx("span",{children:"Validate & Approve"})]})}),jsxRuntimeExports.jsx("button",{onClick:()=>Me&&Me(Ge),className:"bg-[#802d44] hover:bg-red-900 text-white px-8 py-3 rounded-lg font-bold text-xs uppercase tracking-widest transition-all",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(FaTimes,{size:14}),jsxRuntimeExports.jsx("span",{children:"Decline Application"})]})})]});default:return jsxRuntimeExports.jsx("button",{onClick:e,className:"bg-gray-800 hover:bg-black text-white px-8 py-3 rounded-lg font-bold text-xs uppercase tracking-widest transition-all",children:"Close Viewer"})}};return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-gray-900/60 flex items-center justify-center z-50 p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-2xl max-w-7xl w-full max-h-[95vh] overflow-hidden border border-gray-200 flex flex-col relative",children:[Qe&&jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 bg-white/60 backdrop-blur-[1px] z-50 flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 border-4 border-gray-100 border-t-[#891737] rounded-full animate-spin mb-4"}),jsxRuntimeExports.jsx("div",{className:"text-[10px] font-black text-gray-400 uppercase tracking-[0.3em] animate-pulse",children:"Enriching Record Details..."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 border-r border-gray-100 pr-8",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-gray-50 rounded-lg flex items-center justify-center border border-gray-200",children:jsxRuntimeExports.jsx("img",{src:"/Logo1.png",alt:"Logo",className:"w-8 h-8 object-contain"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-[11px] font-bold text-gray-400 uppercase tracking-[0.2em] mb-0.5",children:"Application Record"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-gray-900 tracking-tight",children:Ge.applicationNumber||"DRAFT"}),jsxRuntimeExports.jsx("span",{className:`px-2 py-0.5 rounded text-[10px] font-bold uppercase tracking-widest border ${(Ge.status||"").toLowerCase()==="approved"?"bg-green-50 text-green-700 border-green-200":(Ge.status||"").toLowerCase()==="rejected"?"bg-red-50 text-red-700 border-red-200":"bg-blue-50 text-blue-700 border-blue-200"}`,children:Ge.status||"PENDING"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"hidden md:flex items-center gap-6",children:[{label:"Submitted",color:"bg-purple-600"},{label:"Forwarded",color:"bg-blue-600"},{label:"Approved",color:"bg-green-600"},{label:"Rejected",color:"bg-red-600"}].map(Ss=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:`w-2 h-2 rounded-full ${Ss.color} shadow-sm shrink-0`}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:Ss.label})]},Ss.label))})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("button",{onClick:fs,className:"flex items-center gap-2 px-3 py-1.5 text-xs font-bold text-gray-600 hover:bg-gray-100 border border-gray-200 rounded-lg transition-colors uppercase tracking-widest",children:[jsxRuntimeExports.jsx(FaDownload,{size:12})," PDF"]}),jsxRuntimeExports.jsx("div",{className:"w-px h-6 bg-gray-200"}),jsxRuntimeExports.jsx("button",{onClick:e,className:"p-1.5 text-gray-400 hover:text-gray-900 transition-colors",children:jsxRuntimeExports.jsx(FaTimes,{size:20})})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-gray-50/50 border-b border-gray-200 px-6 flex items-center gap-6 overflow-x-auto scrollbar-hide shrink-0",children:Ye.map(Ss=>jsxRuntimeExports.jsx("button",{onClick:()=>We(Ss.id),className:`py-4 text-[10px] font-bold uppercase tracking-widest border-b-2 transition-all whitespace-nowrap flex items-center gap-2 ${qe===Ss.id?"border-[#802d44] text-[#802d44]":"border-transparent text-gray-400 hover:text-gray-600"}`,children:Ss.label},Ss.id))}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-hidden flex flex-col lg:flex-row",children:[jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-8 bg-white lg:border-r lg:border-gray-100",children:hs()}),jsxRuntimeExports.jsx("div",{className:"w-full lg:w-96 bg-gray-50/30 overflow-y-auto",children:jsxRuntimeExports.jsx(NOCTimeline,{nocForm:Ge})})]}),ze&&jsxRuntimeExports.jsx("div",{className:"border-t border-gray-100 bg-white px-6 py-4 flex justify-end shrink-0",children:jsxRuntimeExports.jsx("div",{className:"flex gap-4",children:xs()})})]})})},BIHAR_DISTRICTS$3=[{name:"Araria",id:"BR01ARA"},{name:"Arwal",id:"BR02ARW"},{name:"Aurangabad",id:"BR03AUR"},{name:"Banka",id:"BR04BAN"},{name:"Begusarai",id:"BR05BEG"},{name:"Bhagalpur",id:"BR06BHA"},{name:"Bhojpur",id:"BR07BHO"},{name:"Buxar",id:"BR08BUX"},{name:"Darbhanga",id:"BR09DAR"},{name:"East Champaran",id:"BR10EAS"},{name:"Gaya",id:"BR11GAY"},{name:"Gopalganj",id:"BR12GOP"},{name:"Jamui",id:"BR13JAM"},{name:"Jehanabad",id:"BR14JEH"},{name:"Kaimur",id:"BR15KAI"},{name:"Katihar",id:"BR16KAT"},{name:"Khagaria",id:"BR17KHA"},{name:"Kishanganj",id:"BR18KIS"},{name:"Lakhisarai",id:"BR19LAK"},{name:"Madhepura",id:"BR20MAD"},{name:"Madhubani",id:"BR21MDB"},{name:"Munger",id:"BR22MUN"},{name:"Muzaffarpur",id:"BR23MUZ"},{name:"Nalanda",id:"BR24NAL"},{name:"Nawada",id:"BR25NAW"},{name:"Patna",id:"BR26PAT"},{name:"Purnia",id:"BR27PUR"},{name:"Rohtas",id:"BR28ROH"},{name:"Saharsa",id:"BR29SAH"},{name:"Samastipur",id:"BR30SAM"},{name:"Saran",id:"BR31SAR"},{name:"Sheikhpura",id:"BR32SHE"},{name:"Sheohar",id:"BR33SHR"},{name:"Sitamarhi",id:"BR34SIT"},{name:"Siwan",id:"BR35SIW"},{name:"Supaul",id:"BR36SUP"},{name:"Vaishali",id:"BR37VAI"},{name:"West Champaran",id:"BR38WES"}],DEPARTMENTS$1=[{name:"Agriculture Department, Bihar",id:"DEP01AGR"},{name:"Animal and Fisheries Resources Department, Bihar",id:"DEP02AFR"},{name:"Backward Classes & Extremely Backward Classes Welfare Department, Bihar",id:"DEP03BCE"},{name:"Building Construction Department, Bihar",id:"DEP04BCD"},{name:"Cabinet Secretariat Department, Bihar",id:"DEP05CSD"},{name:"Co-operative Department, Bihar",id:"DEP06COD"},{name:"Commercial Taxes Department, Bihar",id:"DEP07CTD"},{name:"Disaster Management Department, Bihar",id:"DEP08DMD"},{name:"Education Department, Bihar",id:"DEP09EDU"},{name:"Higher Education Department, Bihar",id:"DEP10HED"},{name:"Energy Department, Bihar",id:"DEP11ENE"},{name:"Environment, Forest & Climate Change Department, Bihar",id:"DEP12EFC"},{name:"Finance Department, Bihar",id:"DEP13FIN"},{name:"Food & Consumer Protection Department, Bihar",id:"DEP14FCP"},{name:"General Administration Department (GAD), Bihar",id:"DEP15GAD"},{name:"Health & Family Welfare Department, Bihar",id:"DEP16HFW"},{name:"Home Department, Bihar",id:"DEP17HOM"},{name:"Industries Department, Bihar",id:"DEP18IND"},{name:"Information & Public Relations Department, Bihar",id:"DEP19IPR"},{name:"Information Technology Department, Bihar",id:"DEP20ITD"},{name:"Labour Resources (Employment & Training) Department, Bihar",id:"DEP21LRE"},{name:"Law Department, Bihar",id:"DEP22LAW"},{name:"Mines & Geology Department, Bihar",id:"DEP23MGD"},{name:"Minor Water Resources Department, Bihar",id:"DEP24MWR"},{name:"Water Resources / Irrigation Department, Bihar",id:"DEP25WRD"},{name:"Minority Welfare Department, Bihar",id:"DEP26MWD"},{name:"Panchayati Raj Department, Bihar",id:"DEP27PRD"},{name:"Parliamentary Affairs Department, Bihar",id:"DEP28PAD"},{name:"Planning & Development Department, Bihar",id:"DEP29PDD"},{name:"Public Health Engineering Department (Water Supply & Sanitation), Bihar",id:"DEP30PHE"},{name:"Revenue & Land Reforms Department, Bihar",id:"DEP31RLR"},{name:"Road Construction / Public Works Department, Bihar",id:"DEP32RCD"},{name:"Rural Development Department, Bihar",id:"DEP33RDD"},{name:"Science, Technology & Technical Education Department, Bihar",id:"DEP34STT"},{name:"Social Welfare Department, Bihar",id:"DEP35SWD"},{name:"Sports, Art, Culture & Youth Department, Bihar",id:"DEP36SAC"},{name:"Tourism Department, Bihar",id:"DEP37TOU"},{name:"Transport Department, Bihar",id:"DEP38TRA"},{name:"Urban Development & Housing Department, Bihar",id:"DEP39UDH"},{name:"Vigilance Department, Bihar",id:"DEP40VIG"},{name:"Prohibition, Excise & Registration Department, Bihar",id:"DEP41PER"},{name:"Scheduled Castes & Scheduled Tribes Welfare Department, Bihar",id:"DEP42SCS"},{name:"Women & Child Development Department, Bihar",id:"DEP43WCD"},{name:"Sugarcane Industries Department, Bihar",id:"DEP44SID"},{name:"Co-operative Development Department / Cooperative Department (alternate listing)",id:"DEP45CDD"},{name:"Attached Directorates, Boards & Undertakings (e.g., BIADA, BCECEB, BSRTC etc.)",id:"DEP46ADB"}];function Dashboardactivity({searchQuery:Re}){const[e,Ee]=reactExports.useState(null),[Ce,Te]=reactExports.useState(null),[De,Me]=reactExports.useState(!1),[Oe,Be]=reactExports.useState(!1),[ze,Ve]=reactExports.useState([]),[qe,We]=reactExports.useState(!0),[Ge,Je]=reactExports.useState(null),[Qe,ns]=reactExports.useState([]),[Ye,rs]=reactExports.useState([]),[ts,Xe]=reactExports.useState(!1),[is,os]=reactExports.useState("all"),[hs,fs]=reactExports.useState(""),[xs,Ss]=reactExports.useState(""),[ds,gs]=reactExports.useState("all"),[Ts,Ds]=reactExports.useState(!1),Ms=Ps=>{const Us=Ps.target.value;if(!Us)return;const Is=DEPARTMENTS$1.find(Vs=>Vs.id===Us);Is&&!Qe.some(Vs=>Vs.id===Is.id)&&ns([...Qe,Is]),Ps.target.value=""},bs=Ps=>{const Us=Ps.target.value;if(!Us)return;const Is=BIHAR_DISTRICTS$3.find(Vs=>Vs.id===Us);Is&&!Ye.some(Vs=>Vs.id===Is.id)&&rs([...Ye,Is]),Ps.target.value=""},Ns=Ps=>{ns(Qe.filter(Us=>Us.id!==Ps))},ps=Ps=>{rs(Ye.filter(Us=>Us.id!==Ps))},_s=ze.filter(Ps=>{var tr,Lr,Js,lr,hr,Ar,Pr,vr,Mr,Qr,Ur;let Us=!0;if(Re){const ti=Re.toLowerCase();Us=((tr=Ps.applicationNumber)==null?void 0:tr.toLowerCase().includes(ti))||((Js=(Lr=Ps.filmmaker)==null?void 0:Lr.name)==null?void 0:Js.toLowerCase().includes(ti))||((hr=(lr=Ps.filmmaker)==null?void 0:lr.email)==null?void 0:hr.toLowerCase().includes(ti))||((Pr=(Ar=Ps.annexureOne)==null?void 0:Ar.titleOfProject)==null?void 0:Pr.toLowerCase().includes(ti))||((Mr=(vr=Ps.nocForm)==null?void 0:vr.title)==null?void 0:Mr.toLowerCase().includes(ti))}let Is=!0;if(is!=="all"){const ti=(Qr=Ps.status)==null?void 0:Qr.toLowerCase();switch(is){case"submitted":Is=ti==="submitted";break;case"forwarded":Is=ti==="forwarded";break;case"pending":Is=ti==="submitted"||ti==="forwarded";break;case"approved":Is=ti==="approved";break;case"rejected":Is=ti==="rejected";break;default:Is=!0}}let Vs=!0;if(Ps.createdAt){const ti=new Date(Ps.createdAt);if(hs&&ti<new Date(hs)&&(Vs=!1),xs){const oi=new Date(xs);oi.setHours(23,59,59,999),ti>oi&&(Vs=!1)}}else(hs||xs)&&(Vs=!1);const Ks=Ps.forms||{},or=Ps.steps||{},rr=or.annexureOneSubmitted||!!Ks.annexureOne,ur=or.nocFormSubmitted||!!Ks.nocForm,Ws=or.undertakingSubmitted||!!Ks.undertaking,Er=or.annexureAFilledOrNot===!0,zr=rr&&ur&&Er&&Ws;let Or=!0;return ds!=="all"&&((Ps.districts||[]).some(Ti=>Ti.districtId===ds||Ti.id===ds)||(((Ur=Ps.annexureOne)==null?void 0:Ur.shootingLocation)||"").includes(ds)||(Or=!1)),Us&&Is&&Vs&&zr&&Or}).sort((Ps,Us)=>{const Is=or=>{const rr=or==null?void 0:or.toLowerCase();return rr==="submitted"?1:rr==="forwarded"?2:3},Vs=Is(Ps.status),Ks=Is(Us.status);return Vs!==Ks?Vs-Ks:new Date(Us.createdAt)-new Date(Ps.createdAt)}),ws=Ps=>{switch(Ps==null?void 0:Ps.toLowerCase()){case"forwarded":return{label:"Forwarded",color:"bg-blue-50 text-blue-700 border-blue-200",icon:jsxRuntimeExports.jsx(Send,{className:"h-3 w-3"})};case"submitted":return{label:"New",color:"bg-purple-50 text-purple-700 border-purple-200",icon:jsxRuntimeExports.jsx(CircleAlert,{className:"h-3 w-3"})};case"approved":return{label:"Approved",color:"bg-green-50 text-green-700 border-green-200",icon:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-3 w-3"})};case"rejected":return{label:"Rejected",color:"bg-red-50 text-red-700 border-red-200",icon:jsxRuntimeExports.jsx(CircleX,{className:"h-3 w-3"})};case"finalapproved":case"final_approved":return{label:"Final Approved",color:"bg-teal-50 text-teal-700 border-teal-200",icon:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-3 w-3"})};default:return{label:Ps||"Unknown",color:"bg-gray-50 text-gray-700 border-gray-200",icon:jsxRuntimeExports.jsx(CircleAlert,{className:"h-3 w-3"})}}},js=async()=>{try{We(!0);const Ps=await api.get("/api/adminApplication/allApplications");Ve(Ps.data.data||[])}catch(Ps){console.error("âŒ Failed to fetch NOC forms:",Ps),Je("Unable to load applications.")}finally{We(!1)}};reactExports.useEffect(()=>{js()},[]);const ms=async Ps=>{if(!Ce)try{Te(Ps.id);const Us=await api.get(`/api/adminApplication/applications/${Ps.id}/details`);Us.data.success&&(Ee(Us.data.data),Me(!0))}catch{alert("Error loading details")}finally{Te(null)}},ys=()=>{ns([]),rs([]),Be(!0)},ks=async Ps=>{const Us=prompt("Please provide remarks for rejection:");if(Us)try{(await api.put(`/api/noc/reject/${Ps.id}`,{remarks:Us})).data.success&&(alert("Form rejected!"),Me(!1),window.location.reload())}catch{alert("Error rejecting form.")}},zs=async()=>{var Ps,Us,Is;if(e){if(Qe.length===0&&Ye.length===0){alert("Please select at least one Department or District.");return}Xe(!0);try{const Vs={districts:Ye.map(or=>({districtId:or.id,districtName:or.name})),departments:Qe.map(or=>({departmentId:or.id,departmentName:or.name}))};console.log("ðŸ“¤ Forwarding Payload:",Vs);const Ks=await api.post(`/api/permissionRequest/applications/${e.id}/forward`,Vs);Ks.data.success?(alert("âœ… Application forwarded successfully!"),Be(!1),Me(!1),window.location.reload()):alert(`Failed: ${Ks.data.message}`)}catch(Vs){console.error("Forwarding failed:",Vs),((Ps=Vs.response)==null?void 0:Ps.status)===404?alert("Error 404: The server could not find the Forwarding URL. Please check your Backend routes."):alert(((Is=(Us=Vs.response)==null?void 0:Us.data)==null?void 0:Is.message)||"Server error while forwarding.")}finally{Xe(!1)}}},Cs=async Ps=>{var Us,Is;if(window.confirm("Are you sure you want to GRANT FINAL APPROVAL for this application?"))try{const Vs=await api.post(`/api/adminApplication/applications/${Ps.id}/final-approve`);Vs.data.success?(alert("âœ… Final Approval Given! User has been notified."),Me(!1),window.location.reload()):alert(`Failed: ${Vs.data.message}`)}catch(Vs){console.error("Final Approval failed:",Vs),alert(((Is=(Us=Vs.response)==null?void 0:Us.data)==null?void 0:Is.message)||"Server error during final approval.")}};return jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"NOC Applications"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[_s.length," applications"]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("select",{value:is,onChange:Ps=>os(Ps.target.value),className:"appearance-none bg-white border border-gray-200 px-4 py-2 pr-8 rounded-lg text-sm font-medium text-gray-700 outline-none focus:border-[#891737] focus:ring-1 focus:ring-[#891737] transition-all cursor-pointer",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Status"}),jsxRuntimeExports.jsx("option",{value:"submitted",children:"New"}),jsxRuntimeExports.jsx("option",{value:"forwarded",children:"Forwarded"}),jsxRuntimeExports.jsx("option",{value:"pending",children:"Pending"}),jsxRuntimeExports.jsx("option",{value:"approved",children:"Approved"}),jsxRuntimeExports.jsx("option",{value:"finalApproved",children:"Final Approved"}),jsxRuntimeExports.jsx("option",{value:"rejected",children:"Rejected"})]}),jsxRuntimeExports.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500",children:jsxRuntimeExports.jsx(Funnel,{size:14})})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("select",{value:ds,onChange:Ps=>gs(Ps.target.value),className:"appearance-none bg-white border border-gray-200 px-4 py-2 pr-8 rounded-lg text-sm font-medium text-gray-700 outline-none focus:border-[#891737] focus:ring-1 focus:ring-[#891737] transition-all cursor-pointer max-w-[150px]",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All Districts"}),BIHAR_DISTRICTS$3.map(Ps=>jsxRuntimeExports.jsx("option",{value:Ps.id,children:Ps.name},Ps.id))]}),jsxRuntimeExports.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-500",children:jsxRuntimeExports.jsx(Funnel,{size:14})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 bg-white border border-gray-200 rounded-lg px-2 py-1.5",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 font-medium pl-1",children:"Date:"}),jsxRuntimeExports.jsx("input",{type:"date",value:hs,onChange:Ps=>fs(Ps.target.value),className:"text-xs text-gray-700 outline-none border-0 p-0 focus:ring-0",placeholder:"From"}),jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:"-"}),jsxRuntimeExports.jsx("input",{type:"date",value:xs,onChange:Ps=>Ss(Ps.target.value),className:"text-xs text-gray-700 outline-none border-0 p-0 focus:ring-0",placeholder:"To"})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>js(),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-[#891737] rounded-lg hover:bg-[#891737]/90 transition-all ml-auto",children:[jsxRuntimeExports.jsx(RefreshCw,{size:16})," Refresh"]})]}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:qe?jsxRuntimeExports.jsx("div",{className:"p-6 text-center",children:"Loading..."}):jsxRuntimeExports.jsx("div",{className:"overflow-auto",children:jsxRuntimeExports.jsxs("table",{className:"min-w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:jsxRuntimeExports.jsx("tr",{children:["Application No","Project Title","Type","Producer","Date","Status"].map(Ps=>jsxRuntimeExports.jsx("th",{className:"px-5 py-4 text-left text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:Ps},Ps))})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-100 italic",children:_s.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"py-12 text-center",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center text-gray-400",children:[jsxRuntimeExports.jsx("div",{className:"bg-gray-50 p-4 rounded-full mb-3",children:jsxRuntimeExports.jsx(Funnel,{size:24,className:"text-gray-300"})}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-500",children:"No applications found"})]})})}):_s.map(Ps=>{var Ks,or,rr,ur,Ws;const Us=ws(Ps.status),Is=((Ks=Ps.annexureOne)==null?void 0:Ks.titleOfProject)||((or=Ps.nocForm)==null?void 0:or.title)||"N/A",Vs=((rr=Ps.annexureOne)==null?void 0:rr.typeOfProject)||((ur=Ps.nocForm)==null?void 0:ur.typeOfProject)||"N/A";return jsxRuntimeExports.jsxs("tr",{onClick:()=>ms(Ps),className:`hover:bg-gray-50/50 cursor-pointer transition-colors group ${Ce===Ps.id?"bg-gray-50/80 pointer-events-none opacity-70":""}`,children:[jsxRuntimeExports.jsx("td",{className:"px-5 py-4",children:Ce===Ps.id?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(LoaderCircle,{className:"h-4 w-4 animate-spin text-[#891737]"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-medium text-gray-500",children:"Loading..."})]}):jsxRuntimeExports.jsx("span",{className:"font-mono text-[11px] font-bold text-gray-900 bg-gray-50 px-2 py-1 rounded border border-gray-100 group-hover:border-[#891737]/20 group-hover:text-[#891737] transition-all",children:Ps.applicationNumber})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-4",children:jsxRuntimeExports.jsx("div",{className:"text-xs font-bold text-gray-900 line-clamp-1 truncate max-w-[200px]",children:Is})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-4",children:jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold text-gray-500 uppercase tracking-tight",children:Vs})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-4",children:jsxRuntimeExports.jsx("div",{className:"text-xs font-medium text-gray-700",children:(Ws=Ps.filmmaker)==null?void 0:Ws.name})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-4 text-xs font-medium text-gray-400",children:new Date(Ps.createdAt).toLocaleDateString("en-IN",{day:"2-digit",month:"short",year:"numeric"})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-4",children:jsxRuntimeExports.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 rounded-full border text-[10px] font-bold uppercase tracking-widest ${Us.color}`,children:[Us.icon,Us.label]})})]},Ps.id)})})]})})}),jsxRuntimeExports.jsx(UniversalFormModal,{isOpen:De,onClose:()=>Me(!1),selectedRow:e,userRole:"admin",onForward:ys,onReject:ks,onFinalApprove:Cs,showActions:!0}),Oe&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/40 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-2xl max-w-lg w-full overflow-hidden border border-gray-200 flex flex-col max-h-[90vh]",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 border-b border-gray-200 p-4 flex justify-between items-center",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-gray-800",children:"Forward Application"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Select multiple recipients below"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Be(!1),className:"text-gray-400 hover:text-red-500",children:jsxRuntimeExports.jsx(FaTimes,{size:18})})]}),jsxRuntimeExports.jsxs("div",{className:"p-5 space-y-6 overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Select Departments"}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("select",{onChange:Ms,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-[#891737] outline-none",children:[jsxRuntimeExports.jsx("option",{value:"",children:"-- Add a Department --"}),DEPARTMENTS$1.map(Ps=>jsxRuntimeExports.jsx("option",{value:Ps.id,disabled:Qe.some(Us=>Us.id===Ps.id),children:Ps.name},Ps.id))]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mt-3 min-h-[30px]",children:[Qe.length===0&&jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 italic",children:"No departments selected"}),Qe.map(Ps=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-blue-50 text-blue-700 rounded-full text-xs font-medium border border-blue-100",children:[Ps.name,jsxRuntimeExports.jsx("button",{onClick:()=>Ns(Ps.id),className:"hover:text-blue-900",children:jsxRuntimeExports.jsx(X$1,{size:12})})]},Ps.id))]})]}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-4",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-800 mb-2",children:"Select Districts"}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("select",{onChange:bs,className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm bg-white focus:ring-2 focus:ring-[#891737] outline-none",children:[jsxRuntimeExports.jsx("option",{value:"",children:"-- Add a District --"}),BIHAR_DISTRICTS$3.map(Ps=>jsxRuntimeExports.jsx("option",{value:Ps.id,disabled:Ye.some(Us=>Us.id===Ps.id),children:Ps.name},Ps.id))]})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-2 mt-3 min-h-[30px]",children:[Ye.length===0&&jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 italic",children:"No districts selected"}),Ye.map(Ps=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-green-50 text-green-700 rounded-full text-xs font-medium border border-green-100",children:[Ps.name,jsxRuntimeExports.jsx("button",{onClick:()=>ps(Ps.id),className:"hover:text-green-900",children:jsxRuntimeExports.jsx(X$1,{size:12})})]},Ps.id))]})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 border-t border-gray-200 p-4 flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Be(!1),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:zs,disabled:ts||Qe.length===0&&Ye.length===0,className:"px-6 py-2 text-sm font-medium text-white bg-[#891737] hover:bg-[#6e1129] rounded-lg disabled:opacity-50 flex items-center gap-2",children:ts?"Forwarding...":jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:"Forward"})})]})]})})]})}const UniversalPreviewModal=({isOpen:Re,onClose:e,onConfirm:Ee,data:Ce,title:Te="APPLICATION PREVIEW",isSubmitting:De=!1})=>{if(!Re)return null;const Me=Be=>Be.replace(/([A-Z])/g," $1").replace(/^./,ze=>ze.toUpperCase()),Oe=Be=>Be instanceof File?jsxRuntimeExports.jsxs("span",{className:"text-blue-600 font-medium flex items-center gap-1",children:["ðŸ“„ ",Be.name]}):typeof Be=="boolean"?Be?"Yes":"No":Be?typeof Be=="object"&&Be.name?Be.name:String(Be):jsxRuntimeExports.jsx("span",{className:"text-gray-400 italic",children:"N/A"});return jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-gray-900/70 backdrop-blur-sm flex items-center justify-center z-[100] p-4 font-['Times_New_Roman']",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-5xl max-h-[90vh] flex flex-col overflow-hidden border border-gray-200 animate-in fade-in zoom-in duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 border-b-2 border-gray-800 shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center text-center space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center gap-4 mb-2",children:jsxRuntimeExports.jsx("img",{src:Logo1,alt:"BSFDFC Logo",className:"w-16 h-16 object-contain"})}),jsxRuntimeExports.jsx("h1",{className:"text-xl md:text-2xl font-bold text-gray-900 uppercase tracking-wide font-serif",children:"Bihar State Film Development & Finance Corporation"}),jsxRuntimeExports.jsx("h2",{className:"text-sm md:text-base text-gray-700 font-serif",children:"Department of Art, Culture & Youth, Govt. of Bihar"}),jsxRuntimeExports.jsx("p",{className:"text-xs md:text-sm text-gray-600 font-serif",children:"Morisson Building, Near Golghar, Patna-800001, Bihar, India"})]}),jsxRuntimeExports.jsx("div",{className:"w-full h-px bg-gray-400 my-4"}),jsxRuntimeExports.jsx("h3",{className:"text-lg md:text-xl font-bold text-[#1e40af] text-center uppercase tracking-wider font-serif underline decoration-1 underline-offset-4",children:Te})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-6 md:p-10 bg-gray-50/50",children:jsxRuntimeExports.jsxs("div",{className:"space-y-8 max-w-4xl mx-auto",children:[Object.entries(Ce).map(([Be,ze],Ve)=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-6 rounded-none border border-gray-300 shadow-[2px_2px_0px_rgba(0,0,0,0.05)]",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-bold text-gray-500 uppercase tracking-[0.15em] mb-6 border-b border-gray-100 pb-2",children:Me(Be)}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-12 gap-y-6",children:Object.entries(ze).map(([qe,We])=>jsxRuntimeExports.jsxs("div",{className:"group",children:[jsxRuntimeExports.jsx("label",{className:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 group-hover:text-[#891737] transition-colors",children:Me(qe)}),jsxRuntimeExports.jsx("div",{className:"text-sm font-serif text-gray-900 border-b border-gray-100 pb-1 min-h-[24px]",children:Oe(We)})]},qe))})]},Ve)),jsxRuntimeExports.jsxs("div",{className:"mt-8 p-6 bg-[#fffbf0] border border-amber-100 text-xs text-justify font-serif leading-relaxed text-gray-700",children:[jsxRuntimeExports.jsx("strong",{children:"Declaration:"})," I hereby declare that the details furnished above are true and correct to the best of my knowledge and belief and I undertake the responsibility to inform about any changes therein, immediately. In case any of the above information is found to be false or untrue or misleading or misrepresenting, I am aware that I may be held liable for it."]})]})}),jsxRuntimeExports.jsxs("div",{className:"border-t border-gray-200 bg-white p-4 md:px-8 md:py-5 flex justify-between items-center shrink-0",children:[jsxRuntimeExports.jsxs("button",{onClick:e,className:"flex items-center gap-2 px-6 py-2.5 text-gray-600 font-bold text-xs uppercase tracking-widest hover:text-[#891737] hover:bg-[#891737]/5 rounded-lg transition-all",disabled:De,children:[jsxRuntimeExports.jsx(FaEdit,{className:"text-sm"})," Edit Details"]}),jsxRuntimeExports.jsx("button",{onClick:Ee,disabled:De,className:"flex items-center gap-2 bg-[#891737] hover:bg-[#70122d] text-white px-8 py-3 rounded-lg font-bold text-xs uppercase tracking-widest shadow-lg shadow-[#891737]/20 transition-all disabled:opacity-70 disabled:cursor-not-allowed",children:De?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Submitting..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(FaCheckCircle,{className:"text-sm"})," Confirm & Submit"]})})]})]})})},BIHAR_DISTRICTS$2=[{name:"Araria",code:"ARA"},{name:"Arwal",code:"ARW"},{name:"Aurangabad",code:"AUR"},{name:"Banka",code:"BAN"},{name:"Begusarai",code:"BEG"},{name:"Bhagalpur",code:"BHA"},{name:"Bhojpur",code:"BHO"},{name:"Buxar",code:"BUX"},{name:"Darbhanga",code:"DAR"},{name:"East Champaran",code:"ECH"},{name:"Gaya",code:"GAY"},{name:"Gopalganj",code:"GOP"},{name:"Jamui",code:"JAM"},{name:"Jehanabad",code:"JEH"},{name:"Kaimur",code:"KAI"},{name:"Katihar",code:"KAT"},{name:"Khagaria",code:"KHA"},{name:"Kishanganj",code:"KIS"},{name:"Lakhisarai",code:"LAK"},{name:"Madhepura",code:"MAD"},{name:"Madhubani",code:"MDB"},{name:"Munger",code:"MUN"},{name:"Muzaffarpur",code:"MUZ"},{name:"Nalanda",code:"NAL"},{name:"Nawada",code:"NAW"},{name:"Patna",code:"PAT"},{name:"Purnia",code:"PUR"},{name:"Rohtas",code:"ROH"},{name:"Saharsa",code:"SAH"},{name:"Samastipur",code:"SAM"},{name:"Saran",code:"SAR"},{name:"Sheikhpura",code:"SHE"},{name:"Sheohar",code:"SHR"},{name:"Sitamarhi",code:"SIT"},{name:"Siwan",code:"SIW"},{name:"Supaul",code:"SUP"},{name:"Vaishali",code:"VAI"},{name:"West Champaran",code:"WCH"}],PREDEFINED_ROLES$1=[{value:"actor",label:"Actor / Actress"},{value:"singer",label:"Singer"},{value:"composer",label:"Composer"},{value:"musician",label:"Musician"},{value:"director",label:"Director"},{value:"producer",label:"Producer"},{value:"dancer",label:"Dancer"},{value:"stunt",label:"Stunt / Action Artist"},{value:"writer",label:"Writer / Script"},{value:"editor",label:"Editor"},{value:"cinematographer",label:"Cinematographer"}],AddArtistForm=({onClose:Re,isEditMode:e=!1,initialData:Ee=null})=>{const[Ce,Te]=reactExports.useState(e?Ee==null?void 0:Ee.image:null),[De,Me]=reactExports.useState(null),[Oe,Be]=reactExports.useState({fullName:e&&(Ee==null?void 0:Ee.fullName)||"",emailId:e&&((Ee==null?void 0:Ee.emailId)||(Ee==null?void 0:Ee.email))||"",phoneNumber:e&&(Ee==null?void 0:Ee.phoneNumber)||"",address:e&&(Ee==null?void 0:Ee.address)||"",district:e&&(Ee==null?void 0:Ee.district)||""}),[ze,Ve]=reactExports.useState(()=>{if(e&&(Ee!=null&&Ee.experiences)){if(typeof Ee.experiences=="string")try{return JSON.parse(Ee.experiences)}catch(ps){return console.error("Failed to parse experiences",ps),[]}return Ee.experiences}return[]}),[qe,We]=reactExports.useState(!1),[Ge,Je]=reactExports.useState({role:"",filmTitle:"",roleInFilm:"",durationFrom:"",durationTo:"",imdbLink:"",link:"",description:""}),[Qe,ns]=reactExports.useState(!1),[Ye,rs]=reactExports.useState(!1),[ts,Xe]=reactExports.useState({isOpen:!1,type:"info",title:"",message:""}),[is,os]=reactExports.useState({fullName:"",phoneNumber:"",emailId:""}),[hs,fs]=reactExports.useState({imdbLink:"",link:""}),xs=ps=>{const _s=ps.target.files[0];if(_s){const ws=validateFile(_s);if(!ws.isValid){Xe({isOpen:!0,type:"error",title:"Validation Error",message:ws.error}),ps.target.value=null;return}Me(_s);const js=URL.createObjectURL(_s);Te(js)}},Ss=(ps,_s)=>{let ws="";switch(ps){case"fullName":/^[a-zA-Z\s]*$/.test(_s)||(ws="Only text allowed (no numbers or special characters).");break;case"phoneNumber":/^\d*$/.test(_s)?_s.length>0&&_s.length!==10&&_s.length!==12&&(ws="Phone number must be either 10 or 12 digits."):ws="Only numbers allowed.";break;case"emailId":_s&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_s)&&(ws="Please enter a valid email address.");break;case"imdbLink":case"link":_s&&!_s.startsWith("https://")&&(ws="URL must start with https://");break}return ws},ds=ps=>{const{name:_s,value:ws}=ps.target;if(_s==="phoneNumber"&&ws.length>12)return;const js=Ss(_s,ws);os(ms=>({...ms,[_s]:js})),Be(ms=>({...ms,[_s]:ws}))},gs=ps=>{const{name:_s,value:ws}=ps.target;if(_s==="imdbLink"||_s==="link"){const js=Ss(_s,ws);fs(ms=>({...ms,[_s]:js}))}Je(js=>({...js,[_s]:ws}))},Ts=()=>{if(Object.values(hs).some(ps=>ps)){Xe({isOpen:!0,type:"error",title:"Validation Error",message:"Please fix the URL errors in the experience form."});return}if(!Ge.role||!Ge.filmTitle){Xe({isOpen:!0,type:"warning",title:"Missing Info",message:"Role and Film Title are required for an experience entry."});return}Ve(ps=>[...ps,Ge]),Je({role:"",filmTitle:"",roleInFilm:"",durationFrom:"",durationTo:"",imdbLink:"",link:"",description:""}),fs({imdbLink:"",link:""}),We(!1)},Ds=ps=>{Ve(_s=>_s.filter((ws,js)=>js!==ps))},Ms=()=>Object.values(is).some(ps=>ps)?(Xe({isOpen:!0,type:"error",title:"Validation Error",message:"Please fix the errors in the form before submitting."}),!1):Oe.fullName.trim()?Oe.emailId.trim()?Oe.phoneNumber.trim()?Oe.address.trim()?De?!0:(Xe({isOpen:!0,type:"error",title:"Missing Field",message:"Artist photo is required"}),!1):(Xe({isOpen:!0,type:"error",title:"Missing Field",message:"Address is required"}),!1):(Xe({isOpen:!0,type:"error",title:"Missing Field",message:"Phone number is required"}),!1):(Xe({isOpen:!0,type:"error",title:"Missing Field",message:"Email is required"}),!1):(Xe({isOpen:!0,type:"error",title:"Missing Field",message:"Full Name is required"}),!1),bs=ps=>{ps.preventDefault(),Ms()&&ns(!0)},Ns=async()=>{var ps,_s;rs(!0);try{const ws=new FormData;ws.append("image",De),ws.append("fullName",Oe.fullName.trim()),ws.append("phoneNumber",Oe.phoneNumber.trim()),ws.append("emailId",Oe.emailId.trim());let js=Oe.address.trim();if(Oe.district&&(js+=`, ${Oe.district}`),ws.append("address",js),ze.length>0){const zs=ze.map(Cs=>({role:Cs.role,description:Cs.description,imdbLink:Cs.imdbLink,filmTitle:Cs.filmTitle,roleInFilm:Cs.roleInFilm,durationFrom:Cs.durationFrom?new Date(Cs.durationFrom).toISOString():null,durationTo:Cs.durationTo?new Date(Cs.durationTo).toISOString():null,link:Cs.link}));ws.append("experiences",JSON.stringify(zs))}else ws.append("experiences",JSON.stringify([]));const ms=e?`/api/admin/artist/updateArtist/${Ee.id}`:"/api/admin/artist/addArtist";(await api[e?"put":"post"](ms,ws)).data&&Xe({isOpen:!0,type:"success",title:"Success",message:e?"Artist updated successfully!":"Artist registered successfully!",onConfirm:()=>{ns(!1),Re&&Re()}})}catch(ws){console.error("Submit error:",ws),ns(!1),Xe({isOpen:!0,type:"error",title:"Registration Failed",message:((_s=(ps=ws.response)==null?void 0:ps.data)==null?void 0:_s.message)||ws.message||"An error occurred."})}finally{rs(!1)}};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[9999] p-10 animate-in fade-in duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl overflow-hidden transform scale-100 transition-all flex flex-col max-h-[90vh]",children:[jsxRuntimeExports.jsxs("div",{className:"px-8 py-10 border-b border-gray-100 flex items-center justify-between bg-gray-50 flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-gray-900",children:e?"Edit Artist Profile":"Add New Artist"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:"Fill in the details to register an artist."})]}),jsxRuntimeExports.jsx("button",{onClick:Re,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 hover:bg-gray-200 rounded-full",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"p-8 overflow-y-auto custom-scrollbar flex-grow",children:jsxRuntimeExports.jsxs("form",{onSubmit:bs,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-6 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[jsxRuntimeExports.jsx("div",{className:"relative group shrink-0",children:Ce?jsxRuntimeExports.jsx("div",{className:"w-24 h-24 rounded-lg border border-gray-200 overflow-hidden bg-white shadow-sm",children:jsxRuntimeExports.jsx("img",{src:Ce,alt:"Artist View",className:"w-full h-full object-cover"})}):jsxRuntimeExports.jsx("div",{className:"w-24 h-24 rounded-lg border border-dashed border-gray-300 flex items-center justify-center bg-white group-hover:border-[#891737] transition-colors",children:jsxRuntimeExports.jsx(User,{className:"w-8 h-8 text-gray-300 group-hover:text-[#891737]"})})}),jsxRuntimeExports.jsxs("div",{className:"flex-grow",children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-1",children:["Artist Photo ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Upload a professional headshot. JPEG or PNG, max 5MB."}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:xs,className:"hidden",id:"artist-photo-upload"}),jsxRuntimeExports.jsxs("label",{htmlFor:"artist-photo-upload",className:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer text-sm font-medium shadow-sm",children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4 mr-2"}),"Choose Photo"]})]})]}),jsxRuntimeExports.jsx("div",{className:"h-px bg-gray-100 w-full"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Basic Information"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Full Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",name:"fullName",value:Oe.fullName,onChange:ds,className:`w-full pl-10 pr-4 py-2.5 bg-white border ${is.fullName?"border-red-500":"border-gray-200"} rounded-lg text-sm focus:ring-2 focus:ring-[#891737] focus:border-transparent outline-none transition-all placeholder:text-gray-300`,placeholder:"e.g. Michael Scott"})]}),is.fullName&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:is.fullName})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Email Address ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"email",name:"emailId",value:Oe.emailId,onChange:ds,className:`w-full pl-10 pr-4 py-2.5 bg-white border ${is.emailId?"border-red-500":"border-gray-200"} rounded-lg text-sm focus:ring-2 focus:ring-[#891737] focus:border-transparent outline-none transition-all placeholder:text-gray-300`,placeholder:"artist@example.com"})]}),is.emailId&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:is.emailId})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Phone Number ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Phone,{className:"absolute left-3 top-2.5 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"tel",name:"phoneNumber",value:Oe.phoneNumber,onChange:ds,className:`w-full pl-10 pr-4 py-2.5 bg-white border ${is.phoneNumber?"border-red-500":"border-gray-200"} rounded-lg text-sm focus:ring-2 focus:ring-[#891737] focus:border-transparent outline-none transition-all placeholder:text-gray-300`,placeholder:"+91 XXXXX XXXXX"})]}),is.phoneNumber&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:is.phoneNumber})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Address ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(MapPin,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("textarea",{name:"address",value:Oe.address,onChange:ds,rows:2,className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#891737] focus:border-transparent outline-none transition-all placeholder:text-gray-300 resize-none",placeholder:"Complete physical address"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"District (Reference)"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(MapPin,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsxs("select",{name:"district",value:Oe.district,onChange:ds,className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#891737] focus:border-transparent outline-none transition-all appearance-none",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select District"}),BIHAR_DISTRICTS$2.map(ps=>jsxRuntimeExports.jsx("option",{value:ps.name,children:ps.name},ps.code))]})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"h-px bg-gray-100 w-full"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Experiences & Credits"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>We(!0),className:"inline-flex items-center px-3 py-1.5 bg-[#891737]/10 text-[#891737] rounded-lg hover:bg-[#891737]/20 transition-colors text-xs font-medium border border-[#891737]/20",children:[jsxRuntimeExports.jsx(Plus,{className:"w-3 h-3 mr-1.5"}),"Add Experience"]})]}),ze.length>0&&jsxRuntimeExports.jsx("div",{className:"space-y-3 mb-5",children:ze.map((ps,_s)=>jsxRuntimeExports.jsx("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100 group relative",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h5",{className:"font-semibold text-gray-900 text-sm",children:ps.filmTitle}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:[ps.role," â€¢ ",ps.roleInFilm]}),(ps.durationFrom||ps.durationTo)&&jsxRuntimeExports.jsxs("p",{className:"text-[10px] text-gray-400 mt-1",children:[ps.durationFrom," - ",ps.durationTo]})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ds(_s),className:"text-gray-400 hover:text-red-500 p-1 opacity-0 group-hover:opacity-100 transition-all",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})},_s))}),qe&&jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 animate-in slide-in-from-top-2 duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h5",{className:"text-sm font-semibold text-gray-900",children:"New Experience Entry"}),jsxRuntimeExports.jsx("button",{onClick:()=>We(!1),className:"text-gray-400 hover:text-gray-600",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Role Type *"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Film,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gray-400"}),jsxRuntimeExports.jsxs("select",{name:"role",value:Ge.role,onChange:gs,className:"w-full pl-9 pr-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:ring-1 focus:ring-[#891737] focus:border-[#891737] outline-none appearance-none",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Role"}),PREDEFINED_ROLES$1.map(ps=>jsxRuntimeExports.jsx("option",{value:ps.value,children:ps.label},ps.value))]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Film Title *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"filmTitle",value:Ge.filmTitle,onChange:gs,placeholder:"Name of the project",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:ring-1 focus:ring-[#891737] focus:border-[#891737] outline-none"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Role In Film"}),jsxRuntimeExports.jsx("input",{type:"text",name:"roleInFilm",value:Ge.roleInFilm,onChange:gs,placeholder:"e.g. Protagonist, Editor",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:ring-1 focus:ring-[#891737] focus:border-[#891737] outline-none"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"From"}),jsxRuntimeExports.jsx("input",{type:"date",name:"durationFrom",value:Ge.durationFrom,onChange:gs,className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:ring-1 focus:ring-[#891737] focus:border-[#891737] outline-none"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"To"}),jsxRuntimeExports.jsx("input",{type:"date",name:"durationTo",value:Ge.durationTo,onChange:gs,className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:ring-1 focus:ring-[#891737] focus:border-[#891737] outline-none"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"IMDb Link"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Link,{className:"absolute left-3 top-2.5 w-3.5 h-3.5 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"url",name:"imdbLink",value:Ge.imdbLink,onChange:gs,placeholder:"https://imdb.com/...",className:`w-full pl-9 pr-3 py-2 bg-white border ${hs.imdbLink?"border-red-500":"border-gray-200"} rounded-lg text-sm focus:ring-1 focus:ring-[#891737] focus:border-[#891737] outline-none`})]}),hs.imdbLink&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:hs.imdbLink})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Video/Project Link"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Play,{className:"absolute left-3 top-2.5 w-3.5 h-3.5 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"url",name:"link",value:Ge.link,onChange:gs,placeholder:"https://youtube.com/...",className:`w-full pl-9 pr-3 py-2 bg-white border ${hs.link?"border-red-500":"border-gray-200"} rounded-lg text-sm focus:ring-1 focus:ring-[#891737] focus:border-[#891737] outline-none`})]}),hs.link&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:hs.link})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{name:"description",value:Ge.description,onChange:gs,rows:2,placeholder:"Details about this experience...",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:ring-1 focus:ring-[#891737] focus:border-[#891737] outline-none resize-none"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>We(!1),className:"px-3 py-1.5 text-xs font-medium text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:Ts,className:"px-3 py-1.5 text-xs font-medium text-white bg-gray-900 hover:bg-black rounded-lg transition-colors",children:"Add Entry"})]})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"px-8 py-5 border-t border-gray-100 flex items-center justify-end gap-3 bg-gray-50 flex-shrink-0",children:[jsxRuntimeExports.jsx("button",{onClick:Re,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-white hover:border-gray-400 hover:shadow-sm transition-all text-sm font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:bs,disabled:Ye,className:"px-6 py-2.5 bg-[#891737] text-white rounded-lg hover:bg-[#891737]/90 hover:shadow-lg hover:shadow-[#891737]/20 transition-all text-sm font-medium flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:[Ye?"Saving...":"Save Artist",!Ye&&jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"})]})]})]}),jsxRuntimeExports.jsx(AlertBox,{isOpen:ts.isOpen,type:ts.type,title:ts.title,message:ts.message,onClose:()=>Xe(ps=>({...ps,isOpen:!1})),onConfirm:ts.onConfirm})]}),jsxRuntimeExports.jsx(UniversalPreviewModal,{isOpen:Qe,onClose:()=>ns(!1),onConfirm:Ns,title:"FILMMAKER REGISTRATION PREVIEW",isSubmitting:Ye,data:{PersonalDetails:{FullName:Oe.fullName,Email:Oe.emailId,Phone:Oe.phoneNumber,Address:Oe.address,District:Oe.district,Photo:De?De.name:"Not Uploaded"},...ze.reduce((ps,_s,ws)=>({...ps,[`Experience ${ws+1}`]:{Role:_s.role,Film:_s.filmTitle,RoleInFilm:_s.roleInFilm,Duration:`${_s.durationFrom||""} - ${_s.durationTo||""}`,IMDb:_s.imdbLink,Link:_s.link}}),{})}})]})},DownloadExcel=({data:Re,fileName:e="export",buttonLabel:Ee="Export to Excel"})=>{const Ce=De=>{const Me=typeof De!="object"?JSON.parse(De):De;if(Me.length===0)return"";const Oe=Object.keys(Me[0]).join(","),Be=Me.map(ze=>Object.values(ze).map(Ve=>{let qe=Ve==null?"":Ve.toString();return(qe.includes(",")||qe.includes(`
`)||qe.includes('"'))&&(qe=`"${qe.replace(/"/g,'""')}"`),qe}).join(","));return[Oe,...Be].join(`
`)},Te=()=>{if(!Re||Re.length===0){alert("No data to export.");return}const De=Ce(Re),Me=new Blob([De],{type:"text/csv;charset=utf-8;"}),Oe=URL.createObjectURL(Me),Be=document.createElement("a");Be.href=Oe,Be.setAttribute("download",`${e}.csv`),document.body.appendChild(Be),Be.click(),document.body.removeChild(Be)};return jsxRuntimeExports.jsxs("button",{onClick:Te,className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-sm font-medium hover:bg-gray-200 text-black bg-white border border-gray-100 rounded-lg transition-colors whitespace-nowrap",children:[jsxRuntimeExports.jsx(RiFileExcel2Fill,{className:"w-4 h-4"}),Ee]})},PREDEFINED_ROLES=[{value:"actor",label:"Actor / Actress"},{value:"singer",label:"Singer"},{value:"composer",label:"Composer"},{value:"musician",label:"Musician"},{value:"director",label:"Director"},{value:"producer",label:"Producer"},{value:"dancer",label:"Dancer"},{value:"stunt",label:"Stunt / Action Artist"},{value:"writer",label:"Writer / Script"},{value:"editor",label:"Editor"},{value:"cinematographer",label:"Cinematographer"}],BIHAR_DISTRICTS$1=["Araria","Arwal","Aurangabad","Banka","Begusarai","Bhagalpur","Bhojpur","Buxar","Darbhanga","East Champaran","Gaya","Gopalganj","Jamui","Jehanabad","Kaimur","Katihar","Khagaria","Kishanganj","Lakhisarai","Madhepura","Madhubani","Munger","Muzaffarpur","Nalanda","Nawada","Patna","Purnia","Rohtas","Saharsa","Samastipur","Saran","Sheikhpura","Sheohar","Sitamarhi","Siwan","Supaul","Vaishali","West Champaran"].map(Re=>({value:Re.toLowerCase(),label:Re})),FilterDropdown=({options:Re,value:e,onChange:Ee,placeholder:Ce,icon:Te,className:De=""})=>{const[Me,Oe]=reactExports.useState(!1),[Be,ze]=reactExports.useState(""),Ve=React.useRef(null);reactExports.useEffect(()=>{const Ge=Je=>{Ve.current&&!Ve.current.contains(Je.target)&&Oe(!1)};return document.addEventListener("mousedown",Ge),()=>document.removeEventListener("mousedown",Ge)},[]);const qe=Re.filter(Ge=>Ge.label.toLowerCase().includes(Be.toLowerCase())),We=Re.find(Ge=>Ge.value===e);return jsxRuntimeExports.jsxs("div",{className:`relative ${De}`,ref:Ve,children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Oe(!Me),className:"flex items-center gap-2 px-3 py-2 text-sm bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#891737] focus:border-transparent outline-none transition-all hover:border-gray-300 min-w-[160px] text-left",children:[Te&&jsxRuntimeExports.jsx(Te,{className:"w-4 h-4 text-gray-400 shrink-0"}),jsxRuntimeExports.jsx("span",{className:`truncate flex-1 ${e?"text-gray-900 font-medium":"text-gray-500"}`,children:We?We.label:Ce}),jsxRuntimeExports.jsx(ChevronDown,{className:`w-4 h-4 text-gray-400 transition-transform duration-200 ${Me?"rotate-180":""}`})]}),Me&&jsxRuntimeExports.jsxs("div",{className:"absolute z-50 mt-2 w-64 bg-white border border-gray-200 rounded-xl shadow-xl overflow-hidden animate-in fade-in zoom-in duration-200",children:[jsxRuntimeExports.jsx("div",{className:"p-2 border-b border-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:Be,onChange:Ge=>ze(Ge.target.value),autoFocus:!0,className:"w-full pl-8 pr-3 py-1.5 text-xs bg-gray-50 border-none rounded-md focus:ring-1 focus:ring-[#891737] outline-none"})]})}),jsxRuntimeExports.jsxs("div",{className:"max-h-60 overflow-y-auto py-1 custom-scrollbar",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{Ee(""),Oe(!1),ze("")},className:`w-full flex items-center justify-between px-3 py-2 text-xs transition-colors hover:bg-gray-50 ${e?"text-gray-600":"text-[#891737] bg-[#891737]/5 font-medium"}`,children:[Ce,!e&&jsxRuntimeExports.jsx(Check,{className:"w-3.5 h-3.5"})]}),qe.length>0?qe.map(Ge=>jsxRuntimeExports.jsxs("button",{onClick:()=>{Ee(Ge.value),Oe(!1),ze("")},className:`w-full flex items-center justify-between px-3 py-2 text-xs transition-colors hover:bg-gray-50 ${e===Ge.value?"text-[#891737] bg-[#891737]/5 font-medium":"text-gray-600"}`,children:[Ge.label,e===Ge.value&&jsxRuntimeExports.jsx(Check,{className:"w-3.5 h-3.5"})]},Ge.value)):jsxRuntimeExports.jsx("div",{className:"px-3 py-4 text-center text-xs text-gray-400",children:"No results found"})]})]})]})},Artist=({searchQuery:Re})=>{var Vs,Ks,or,rr,ur,Ws,Er,zr,Or;const[e,Ee]=reactExports.useState([]),[Ce,Te]=reactExports.useState(null),[De,Me]=reactExports.useState(!0),[Oe,Be]=reactExports.useState(!1),[ze,Ve]=reactExports.useState(!1),[qe,We]=reactExports.useState(null),[Ge,Je]=reactExports.useState("directory"),[Qe,ns]=reactExports.useState([]),[Ye,rs]=reactExports.useState(!1),[ts,Xe]=reactExports.useState("all"),[is,os]=reactExports.useState(""),[hs,fs]=reactExports.useState(""),[xs,Ss]=reactExports.useState([]),ds=tr=>tr.isVerified===!0||tr.isVerified===1||tr.status===1||tr.verified===!0||tr.verified===1,gs=async()=>{try{console.log("ðŸ“Š Fetching artists...");const tr=await api.get("/api/artist/getAllArtists");console.log("âœ… Artists received:",tr.data),Ee(tr.data.data||[])}catch(tr){console.error("âŒ Failed to fetch artists:",tr)}finally{Me(!1)}},Ts=async()=>{try{rs(!0),console.log("ðŸ“Š Fetching admin artist registry...");const tr=await api.get("/api/admin/artist/allArtists");console.log("âœ… Admin artists received:",tr.data),ns(tr.data.data||[])}catch(tr){console.error("âŒ Failed to fetch admin artists:",tr)}finally{rs(!1)}};reactExports.useEffect(()=>{gs()},[]),reactExports.useEffect(()=>{Ss([]),Ge==="admin"&&Qe.length===0&&Ts()},[Ge]);const[Ds,Ms]=reactExports.useState({isOpen:!1,type:"info",title:"",message:"",confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:null}),bs=tr=>{Ms({isOpen:!0,confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:null,...tr})},Ns=()=>{Ms(tr=>({...tr,isOpen:!1}))},ps=async tr=>{var Lr,Js;try{if((await api.put(`/api/artist/${tr}/verify`)).status===200){const hr={isVerified:!0,verified:!0,status:1};Ee(e.map(Ar=>Ar.id===tr?{...Ar,...hr}:Ar)),Ce&&Ce.id===tr&&Te({...Ce,...hr}),bs({type:"success",title:"Success",message:"Artist verified successfully!"})}}catch(lr){console.error("Failed to verify artist:",lr),bs({type:"error",title:"Error",message:`Failed to verify artist: ${((Js=(Lr=lr.response)==null?void 0:Lr.data)==null?void 0:Js.message)||lr.message}`})}},_s=async tr=>{var Lr,Js;try{if((await api.put(`/api/artist/${tr}/unverify`)).status===200){const hr={isVerified:!1,verified:!1,status:0};Ee(e.map(Ar=>Ar.id===tr?{...Ar,...hr}:Ar)),Ce&&Ce.id===tr&&Te({...Ce,...hr}),bs({type:"success",title:"Success",message:"Artist unverified successfully!"})}}catch(lr){console.error("Failed to unverify artist:",lr),bs({type:"error",title:"Error",message:`Failed to unverify artist: ${((Js=(Lr=lr.response)==null?void 0:Lr.data)==null?void 0:Js.message)||lr.message}`})}},ws=tr=>{bs({type:"warning",title:"Confirm Verification",message:"Are you sure you want to verify this artist?",showCancel:!0,confirmText:"Verify",onConfirm:()=>ps(tr)})},js=tr=>{bs({type:"warning",title:"Confirm Unverification",message:"Are you sure you want to unverify this artist?",showCancel:!0,confirmText:"Unverify",onConfirm:()=>_s(tr)})},ms=e.filter(tr=>{var Ar,Pr,vr,Mr,Qr,Ur,ti,oi,Ti,_i;if(!(ts==="all"?!0:ts==="verified"?ds(tr):!ds(tr))||is&&(typeof tr.role=="object"?(Pr=(Ar=tr.role)==null?void 0:Ar.name)==null?void 0:Pr.toLowerCase():(vr=tr.role)==null?void 0:vr.toLowerCase())!==is.toLowerCase()||hs&&(typeof tr.district=="object"?(Qr=(Mr=tr.district)==null?void 0:Mr.name)==null?void 0:Qr.toLowerCase():(Ur=tr.district)==null?void 0:Ur.toLowerCase())!==hs.toLowerCase())return!1;if(!Re)return!0;const Js=Re.toLowerCase(),lr=typeof tr.role=="object"?((ti=tr.role)==null?void 0:ti.name)||"":tr.role||"",hr=typeof tr.district=="object"?((oi=tr.district)==null?void 0:oi.name)||"":tr.district||"";return((Ti=tr.fullName)==null?void 0:Ti.toLowerCase().includes(Js))||lr.toLowerCase().includes(Js)||hr.toLowerCase().includes(Js)||((_i=tr.email)==null?void 0:_i.toLowerCase().includes(Js))}),ys=Qe.filter(tr=>{var hr,Ar,Pr,vr,Mr,Qr,Ur,ti,oi,Ti,_i;if(is&&(typeof tr.role=="object"?(Ar=(hr=tr.role)==null?void 0:hr.name)==null?void 0:Ar.toLowerCase():(Pr=tr.role)==null?void 0:Pr.toLowerCase())!==is.toLowerCase()||hs&&(typeof tr.district=="object"?(Mr=(vr=tr.district)==null?void 0:vr.name)==null?void 0:Mr.toLowerCase():(Qr=tr.district)==null?void 0:Qr.toLowerCase())!==hs.toLowerCase())return!1;if(!Re)return!0;const Lr=Re.toLowerCase(),Js=typeof tr.role=="object"?((Ur=tr.role)==null?void 0:Ur.name)||"":tr.role||"",lr=typeof tr.district=="object"?((ti=tr.district)==null?void 0:ti.name)||"":tr.district||"";return((oi=tr.fullName)==null?void 0:oi.toLowerCase().includes(Lr))||Js.toLowerCase().includes(Lr)||lr.toLowerCase().includes(Lr)||((Ti=tr.email)==null?void 0:Ti.toLowerCase().includes(Lr))||((_i=tr.phoneNumber)==null?void 0:_i.includes(Lr))}),ks=tr=>{if(tr.target.checked){const Js=(Ge==="admin"?ys:ms).map(lr=>lr.id);Ss(Js)}else Ss([])},zs=(tr,Lr)=>{tr.stopPropagation(),tr.target.checked?Ss(Js=>[...Js,Lr]):Ss(Js=>Js.filter(lr=>lr!==Lr))},Cs=async()=>{if(window.confirm(`Are you sure you want to delete ${xs.length} artist(s)?`))try{const tr=xs.map(Lr=>api.delete(`/api/admin/artist/deleteArtist/${Lr}`));await Promise.all(tr),Ge==="admin"?Ts():gs(),Ss([]),bs({type:"success",title:"Deleted",message:"Artist(s) deleted successfully!"})}catch(tr){console.error("Failed to delete artists:",tr),bs({type:"error",title:"Error",message:"Failed to delete some artists. Please try again."})}},Ps=()=>{if(xs.length!==1)return;const tr=xs[0],Js=(Ge==="admin"?Qe:e).find(lr=>lr.id===tr);Js&&(We(Js),Ve(!0))},Us=new Date().toISOString().split("T")[0],Is=e.filter(tr=>tr.createdAt&&tr.createdAt.split("T")[0]===Us).length;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex border-b border-gray-200",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Je("directory"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${Ge==="directory"?"border-[#891737] text-[#891737]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Overview & Directory"}),jsxRuntimeExports.jsx("button",{onClick:()=>Je("admin"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${Ge==="admin"?"border-[#891737] text-[#891737]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Master Registry (Admin)"})]}),Ge==="directory"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 hover:border-gray-200 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Artists"}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-50 flex items-center justify-center",children:jsxRuntimeExports.jsx(Users,{className:"w-5 h-5 text-gray-600"})})]}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-semibold text-gray-900",children:e.length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 hover:border-gray-200 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-500",children:"New Today"}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-50 flex items-center justify-center",children:jsxRuntimeExports.jsx(UserPlus,{className:"w-5 h-5 text-green-600"})})]}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-semibold text-gray-900",children:Is})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 hover:border-gray-200 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Verified"}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-50 flex items-center justify-center",children:jsxRuntimeExports.jsx(ShieldCheck,{className:"w-5 h-5 text-blue-600"})})]}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-semibold text-gray-900",children:e.filter(ds).length})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4 flex flex-col lg:flex-row items-center justify-between gap-4 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full lg:w-auto",children:[jsxRuntimeExports.jsx(FilterDropdown,{options:PREDEFINED_ROLES,value:is,onChange:os,placeholder:"All Roles",icon:Funnel}),jsxRuntimeExports.jsx(FilterDropdown,{options:BIHAR_DISTRICTS$1,value:hs,onChange:fs,placeholder:"All Districts",icon:MapPin}),jsxRuntimeExports.jsx(DownloadExcel,{data:ms,fileName:"artist_directory",buttonLabel:"Export"}),jsxRuntimeExports.jsx("button",{onClick:gs,className:"p-2 text-sm font-medium hover:bg-gray-100 text-gray-600 bg-white border border-gray-200 rounded-lg transition-colors",title:"Refresh",children:jsxRuntimeExports.jsx(RefreshCcw,{className:`w-4 h-4 ${De?"animate-spin":""}`})}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg border border-gray-200",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Xe("all"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${ts==="all"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"All"}),jsxRuntimeExports.jsx("button",{onClick:()=>Xe("verified"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${ts==="verified"?"bg-white text-green-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Verified"}),jsxRuntimeExports.jsx("button",{onClick:()=>Xe("unverified"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${ts==="unverified"?"bg-white text-red-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Un-Verified"})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500 ml-auto lg:ml-2 whitespace-nowrap",children:[ms.length," Found"]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:xs.length>0&&jsxRuntimeExports.jsxs("button",{onClick:Cs,className:"px-4 py-2 text-sm font-medium hover:bg-red-50 text-red-600 bg-white border border-red-100 rounded-lg transition-colors flex items-center gap-2",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"}),"Delete (",xs.length,")"]})})]}),De?jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3 animate-pulse",children:[jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-100 rounded w-3/4"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-100 rounded w-5/6"})]})}):jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-[#891737] focus:ring-[#891737]",checked:ms.length>0&&xs.length===ms.length,onChange:ks})}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"#"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Artist"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Contact"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Joined"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-100",children:ms.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"8",className:"px-5 py-12 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-lg flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(CircleAlert,{className:"h-8 w-8 text-gray-400"})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"No artists found"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Try adjusting your search or add a new artist"})]})}):ms.map((tr,Lr)=>{var Js,lr;return jsxRuntimeExports.jsxs("tr",{className:`hover:bg-gray-50/50 transition-colors cursor-pointer ${xs.includes(tr.id)?"bg-gray-50":""}`,onClick:()=>Te(tr),children:[jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",onClick:hr=>hr.stopPropagation(),children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-[#891737] focus:ring-[#891737]",checked:xs.includes(tr.id),onChange:hr=>zs(hr,tr.id)})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 text-xs font-medium text-gray-900",children:Lr+1}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:tr.image||"https://via.placeholder.com/40",alt:tr.fullName,className:"w-10 h-10 rounded-full object-cover border border-gray-100"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900",children:tr.fullName}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:tr.gender||"Artist"})]})]})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",children:jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-700 border border-blue-100",children:typeof tr.role=="object"?(Js=tr.role)==null?void 0:Js.name:tr.role})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col text-xs text-gray-600",children:[jsxRuntimeExports.jsx("span",{children:tr.email}),jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:tr.phoneNumber})]})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 text-xs text-gray-600",children:typeof tr.district=="object"?(lr=tr.district)==null?void 0:lr.name:tr.district}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",children:ds(tr)?jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-green-50 text-green-600 border border-green-100",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3.5 h-3.5"}),"Verified"]}):jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-amber-50 text-amber-600 border border-amber-100",children:[jsxRuntimeExports.jsx(TriangleAlert,{className:"w-3.5 h-3.5"}),"Un-Verified"]})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 text-xs text-gray-500 whitespace-nowrap",children:tr.createdAt?new Date(tr.createdAt).toLocaleDateString():"N/A"})]},tr.id||Lr)})})]})})]})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4 flex flex-col lg:flex-row items-center justify-between gap-4 shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-3 w-full lg:w-auto",children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold text-gray-900 mr-2 whitespace-nowrap",children:"Master Registry"}),jsxRuntimeExports.jsx(FilterDropdown,{options:PREDEFINED_ROLES,value:is,onChange:os,placeholder:"All Roles",icon:Funnel}),jsxRuntimeExports.jsx(FilterDropdown,{options:BIHAR_DISTRICTS$1,value:hs,onChange:fs,placeholder:"All Districts",icon:MapPin}),jsxRuntimeExports.jsx("button",{onClick:Ts,className:"p-2 text-sm font-medium hover:bg-gray-100 text-gray-600 bg-white border border-gray-200 rounded-lg transition-colors",title:"Refresh Registry",children:jsxRuntimeExports.jsx(RefreshCcw,{className:`w-4 h-4 ${Ye?"animate-spin":""}`})}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500 ml-auto lg:ml-2 whitespace-nowrap",children:[ys.length," Found"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[xs.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:Cs,className:"p-2 text-sm font-medium hover:bg-red-50 text-red-600 bg-white border border-red-100 rounded-lg transition-colors",title:"Delete Selected",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})}),xs.length===1&&jsxRuntimeExports.jsx("button",{onClick:Ps,className:"p-2 text-sm font-medium hover:bg-blue-50 text-blue-600 bg-white border border-blue-100 rounded-lg transition-colors",title:"Edit Selected",children:jsxRuntimeExports.jsx(Pencil,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsx("div",{className:"h-6 w-px bg-gray-200 mx-1 hidden lg:block"}),jsxRuntimeExports.jsxs("button",{onClick:()=>Be(!0),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-[#891737] hover:bg-[#891737]/90 rounded-lg transition-colors whitespace-nowrap",children:[jsxRuntimeExports.jsx(CirclePlus,{className:"w-4 h-4"}),"Add Artist"]})]})]}),Ye?jsxRuntimeExports.jsx("div",{className:"p-12 text-center",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3 animate-pulse max-w-md mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-100 rounded w-5/6"})]})}):jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-[#891737] focus:ring-[#891737]",checked:ys.length>0&&xs.length===ys.length,onChange:ks})}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"#"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Artist"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Contact"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Joined"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-100",children:ys.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"8",className:"px-5 py-12 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-lg flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(CircleAlert,{className:"h-8 w-8 text-gray-400"})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"No artists found in registry"})]})}):ys.map((tr,Lr)=>{var Js,lr;return jsxRuntimeExports.jsxs("tr",{className:`hover:bg-gray-50/50 transition-colors cursor-pointer ${xs.includes(tr.id)?"bg-gray-50":""}`,onClick:()=>Te(tr),children:[jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",onClick:hr=>hr.stopPropagation(),children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-[#891737] focus:ring-[#891737]",checked:xs.includes(tr.id),onChange:hr=>zs(hr,tr.id)})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 text-xs font-medium text-gray-900",children:Lr+1}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:tr.image||"https://via.placeholder.com/40",alt:tr.fullName,className:"w-10 h-10 rounded-full object-cover border border-gray-100"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900",children:tr.fullName}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:tr.email})]})]})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",children:jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-[10px] font-medium bg-blue-50 text-blue-600 border border-blue-100",children:typeof tr.role=="object"?(Js=tr.role)==null?void 0:Js.name:tr.role})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 text-xs text-gray-600",children:tr.phoneNumber}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 text-xs text-gray-600",children:typeof tr.district=="object"?(lr=tr.district)==null?void 0:lr.name:tr.district}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",children:jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-600 border border-blue-100",children:[jsxRuntimeExports.jsx(ShieldCheck,{className:"w-3.5 h-3.5"}),"Registry"]})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 text-xs text-gray-600 whitespace-nowrap",children:tr.createdAt?new Date(tr.createdAt).toLocaleDateString():"N/A"})]},tr.id||Lr)})})]})})})]}),Ce&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/40 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl w-full max-w-3xl overflow-hidden shadow-xl flex flex-col max-h-[90vh] border border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-5 border-b border-gray-50 flex items-center justify-between bg-white shrink-0",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-bold text-gray-900 leading-tight",children:"Artist Profile"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:["ID: ",Ce.id]}),jsxRuntimeExports.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300"}),jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:["Member since"," ",new Date(Ce.createdAt).getFullYear()]})]})]}),jsxRuntimeExports.jsx("button",{className:"w-10 h-10 rounded-xl hover:bg-gray-100 flex items-center justify-center transition-all text-gray-400 hover:text-gray-600",onClick:()=>Te(null),children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-y-auto p-0 border-t border-gray-50",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"h-32 w-full overflow-hidden rounded-t-2xl",children:[jsxRuntimeExports.jsx("img",{src:"/newBannerArtist.jpg",alt:"Artist Banner",className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/20"})]}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-12 left-8 rounded-2xl shadow-sm z-10 transition-transform hover:scale-105",children:jsxRuntimeExports.jsx("img",{src:Ce.image||"https://via.placeholder.com/96",alt:Ce.fullName,className:"w-24 h-24 rounded-2xl object-cover border-2 border-white shadow-sm"})})]}),jsxRuntimeExports.jsxs("div",{className:"pt-16 px-8 pb-8 space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:Ce.fullName}),ds(Ce)&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 px-2 py-0.5 rounded-full text-[10px] font-bold bg-green-50 text-green-600 border border-green-100 uppercase tracking-wider",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3 h-3"}),"Verified"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 mt-1 text-sm text-gray-600",children:[jsxRuntimeExports.jsx("span",{className:"font-medium text-[#891737]",children:typeof Ce.role=="object"?(Vs=Ce.role)==null?void 0:Vs.name:Ce.role}),jsxRuntimeExports.jsx("span",{className:"w-1 h-1 rounded-full bg-gray-300"}),jsxRuntimeExports.jsx("span",{children:Ce.gender||"Artist"})]})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:[{icon:FaImdb,url:Ce.imdbLink,color:"hover:text-[#F5C518]"},{icon:Instagram,url:Ce.instagram,color:"hover:text-[#E4405F]"},{icon:Facebook,url:Ce.facebook,color:"hover:text-[#1877F2]"},{icon:Twitter,url:Ce.twitter,color:"hover:text-[#1DA1F2]"},{icon:Linkedin,url:Ce.linkedIn,color:"hover:text-[#0A66C2]"}].map((tr,Lr)=>tr.url&&jsxRuntimeExports.jsx("a",{href:tr.url,target:"_blank",rel:"noreferrer",className:`text-gray-400 transition-all ${tr.color} hover:scale-110`,children:jsxRuntimeExports.jsx(tr.icon,{size:20})},Lr))})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-y-6 gap-x-4 p-6 bg-gray-50/30 rounded-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-400 tracking-wider",children:"Email"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900 break-all",children:Ce.email||Ce.emailId})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-400 tracking-wider",children:"Phone"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900",children:Ce.phoneNumber})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-400 tracking-wider",children:"Location"}),jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-gray-900",children:[typeof Ce.district=="object"?(Ks=Ce.district)==null?void 0:Ks.name:Ce.district,", Bihar"]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-400 tracking-wider",children:"Age"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900",children:Ce.dob?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[(()=>{const tr=new Date(Ce.dob),Lr=new Date;let Js=Lr.getFullYear()-tr.getFullYear();const lr=Lr.getMonth()-tr.getMonth();return(lr<0||lr===0&&Lr.getDate()<tr.getDate())&&Js--,Js})()," ","Years"]}):"N/A"})]})]}),(Ce.description||Ce.bestFilm)&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[Ce.description&&jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("h4",{className:"text-sm font-bold text-gray-900 flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-1 h-3 rounded-full bg-[#891737]"}),"Professional Summary"]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 leading-relaxed italic border-l-2 border-gray-100 pl-4 py-1",children:['"',Ce.description,'"']})]}),Ce.bestFilm&&jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Bio Data"}),jsxRuntimeExports.jsxs("a",{href:Ce.bestFilm,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-2 px-4 py-2.5 bg-white hover:bg-gray-50 text-[#891737] rounded-xl border border-gray-100 transition-all group shadow-sm",children:[jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold",children:"View Bio Document"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10",children:[((or=Ce.professions)==null?void 0:or.length)>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Professions"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:Ce.professions.map((tr,Lr)=>jsxRuntimeExports.jsx("span",{className:"px-3 py-1.5 bg-gray-50 text-gray-700 rounded-lg text-xs font-semibold",children:tr.name},Lr))})]}),((rr=Ce.specializations)==null?void 0:rr.length)>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Specializations"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:Ce.specializations.map((tr,Lr)=>jsxRuntimeExports.jsx("span",{className:"px-3 py-1.5 bg-[#891737]/5 text-[#891737] rounded-lg text-xs font-semibold",children:tr.name},Lr))})]})]}),((ur=Ce.experiences)==null?void 0:ur.length)>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Work Experience"}),jsxRuntimeExports.jsx("div",{className:"space-y-6 border-l border-gray-100 ml-2",children:Ce.experiences.map((tr,Lr)=>jsxRuntimeExports.jsxs("div",{className:"relative pl-8 group",children:[jsxRuntimeExports.jsx("div",{className:"absolute left-0 top-1.5 -translate-x-1/2 w-2.5 h-2.5 rounded-full border-2 border-white bg-gray-300 group-hover:bg-[#891737] transition-colors"}),jsxRuntimeExports.jsxs("div",{className:"space-y-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-4",children:[jsxRuntimeExports.jsx("h5",{className:"text-sm font-bold text-gray-900 group-hover:text-[#891737] transition-colors",children:tr.filmTitle}),jsxRuntimeExports.jsxs("span",{className:"text-[10px] font-bold text-gray-400",children:[tr.durationFrom?new Date(tr.durationFrom).getFullYear():""," ","-"," ",tr.durationTo?new Date(tr.durationTo).getFullYear():"Present"]})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-[#891737]/70 font-semibold uppercase tracking-wide",children:tr.roleInFilm}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 leading-relaxed max-w-2xl",children:tr.description}),tr.awards&&jsxRuntimeExports.jsx("div",{className:"pt-1 flex items-center gap-1.5 text-[10px] font-bold text-amber-600",children:tr.awards})]})]},Lr))})]}),(((Ws=Ce.images)==null?void 0:Ws.length)>0||((Er=Ce.videos)==null?void 0:Er.length)>0)&&jsxRuntimeExports.jsxs("div",{className:"space-y-8 pt-4 border-t border-gray-50",children:[((zr=Ce.images)==null?void 0:zr.length)>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Photo Gallery"}),jsxRuntimeExports.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 custom-scrollbar no-scrollbar",children:Ce.images.map((tr,Lr)=>jsxRuntimeExports.jsx("div",{className:"shrink-0 w-44 h-44 rounded-xl overflow-hidden grayscale hover:grayscale-0 transition-all duration-500 cursor-pointer",children:jsxRuntimeExports.jsx("img",{src:tr.url,alt:`Gallery ${Lr}`,className:"w-full h-full object-cover"})},Lr))})]}),((Or=Ce.videos)==null?void 0:Or.length)>0&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest",children:"Video Portfolio"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Ce.videos.map((tr,Lr)=>jsxRuntimeExports.jsxs("a",{href:tr.url,target:"_blank",rel:"noreferrer",className:"group flex items-center gap-3 p-3 bg-gray-50/50 rounded-xl border border-gray-100 hover:border-[#891737]/30 transition-all",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-white border border-gray-100 flex items-center justify-center text-gray-400 group-hover:text-[#891737] transition-colors",children:jsxRuntimeExports.jsx(CirclePlay,{className:"w-5 h-5"})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsxs("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:["Video Item ",Lr+1]}),jsxRuntimeExports.jsx("p",{className:"text-xs font-semibold text-gray-700 truncate mt-0.5",children:"Visit Video Link"})]})]},Lr))})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-8 py-5 border-t border-gray-100 flex items-center gap-4 bg-white shrink-0",children:[ds(Ce)?jsxRuntimeExports.jsx("button",{onClick:()=>js(Ce.id),className:"flex-1 px-4 py-2.5 text-sm font-bold text-red-600 border border-red-200 hover:bg-red-50 rounded-xl transition-all flex items-center justify-center",children:"Unverify Artist"}):jsxRuntimeExports.jsx("button",{onClick:()=>ws(Ce.id),className:"flex-1 px-4 py-2.5 text-sm font-bold text-white bg-[#891737] hover:bg-[#70122d] rounded-xl transition-all flex items-center justify-center",children:"Verify Artist Profile"}),jsxRuntimeExports.jsx("div",{className:"w-px h-8 bg-gray-100"}),jsxRuntimeExports.jsx("button",{onClick:()=>Te(null),className:"px-6 py-2.5 text-sm font-bold text-gray-700 bg-white border border-gray-200 rounded-xl hover:bg-gray-100 transition-all shadow-sm",children:"Close"})]})]})}),Oe&&jsxRuntimeExports.jsx(AddArtistForm,{onClose:()=>{Be(!1),Ge==="admin"?Ts():gs()}}),ze&&jsxRuntimeExports.jsx(AddArtistForm,{isEditMode:!0,initialData:qe,onClose:()=>{Ve(!1),We(null),Ge==="admin"?Ts():gs(),Ss([])}}),jsxRuntimeExports.jsx(AlertBox,{isOpen:Ds.isOpen,onClose:Ns,type:Ds.type,title:Ds.title,message:Ds.message,confirmText:Ds.confirmText,cancelText:Ds.cancelText,showCancel:Ds.showCancel,onConfirm:Ds.onConfirm})]})},AddVendorForm=({onClose:Re,initialData:e=null,isEditMode:Ee=!1})=>{const[Ce,Te]=reactExports.useState({vendorName:"",category:"",phoneNumber:"",email:"",address:"",website:"",products:[]}),[De,Me]=reactExports.useState(null),[Oe,Be]=reactExports.useState(null),[ze,Ve]=reactExports.useState(!1),[qe,We]=reactExports.useState(!1),[Ge,Je]=reactExports.useState({vendorName:"",category:"",phoneNumber:"",email:"",address:"",website:""});reactExports.useEffect(()=>{var gs;Ee&&e&&(Te({vendorName:e.vendorName||"",category:e.category||"",phoneNumber:e.phoneNumber||"",email:e.email||"",address:e.address||"",website:e.website||"",products:((gs=e.products)==null?void 0:gs.map(Ts=>({id:Ts.id,name:Ts.name||Ts.productName||"",type:Ts.type||Ts.productType||"",description:Ts.description||Ts.productDescription||"",price:Ts.price||Ts.productPrice||"",priceFrom:(Ts.price||Ts.productPrice||"").toString().split("-")[0]||"",priceTo:(Ts.price||Ts.productPrice||"").toString().split("-")[1]||"",imagePreview:Ts.imageUrl||Ts.image||null,productLink:Ts.linkProduct||Ts.productLink||""})))||[]}),Be(e.logoUrl||e.image||e.cloudinaryLink||null))},[Ee,e]);const[Qe,ns]=reactExports.useState({isOpen:!1,type:"info",title:"",message:""}),[Ye,rs]=reactExports.useState({name:"",type:"",description:"",price:"",imageFile:null,imagePreview:null,productLink:""}),ts=["Shooting Studios","Sound Studios","Editing Studios","Animation & Graphics Studios","Costume Suppliers","Props Suppliers","Food & Catering Suppliers","Cine Equipment Suppliers","Junior Artist Providers","Spot Boy Providers","Hotels & Hospitality Providers","Vanity Van Providers","Transport Providers","Logistics Providers","Travel Agents","Generator Services","Security Services","Houses for shooting providers","Choreography & Dancers","Still Photography & BTS","Lighting Equipment Suppliers","Others"],Xe=(gs,Ts)=>{let Ds="";switch(gs){case"vendorName":/^[a-zA-Z\s]*$/.test(Ts)||(Ds="Only text allowed (no numbers or special characters).");break;case"phoneNumber":/^\d*$/.test(Ts)?Ts.length>0&&Ts.length!==10&&Ts.length!==12&&(Ds="Phone number must be either 10 or 12 digits."):Ds="Only numbers allowed.";break;case"email":Ts&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Ts)&&(Ds="Please enter a valid email address.");break;case"website":Ts&&!Ts.startsWith("https://")&&(Ds="Website URL must start with https://");break}return Ds},is=gs=>{const{name:Ts,value:Ds}=gs.target;if(Ts==="phoneNumber"&&Ds.length>12)return;const Ms=Xe(Ts,Ds);Je(bs=>({...bs,[Ts]:Ms})),Te(bs=>({...bs,[Ts]:Ds}))},os=gs=>{const Ts=gs.target.files[0];if(Ts){const Ds=validateFile(Ts);if(!Ds.isValid){ns({isOpen:!0,type:"error",title:"Validation Error",message:Ds.error}),gs.target.value=null;return}Me(Ts);const Ms=URL.createObjectURL(Ts);Be(Ms)}},hs=gs=>{const{name:Ts,value:Ds}=gs.target;rs(Ms=>({...Ms,[Ts]:Ds}))},fs=gs=>{const Ts=gs.target.files[0];if(Ts){const Ds=validateFile(Ts);if(!Ds.isValid){ns({isOpen:!0,type:"error",title:"Validation Error",message:Ds.error}),gs.target.value=null;return}rs(Ms=>({...Ms,imageFile:Ts,imagePreview:URL.createObjectURL(Ts)}))}},xs=gs=>{Te(Ts=>({...Ts,products:Ts.products.filter((Ds,Ms)=>Ms!==gs)}))},Ss=()=>Object.values(Ge).some(Ts=>Ts)?(ns({isOpen:!0,type:"error",title:"Validation Error",message:"Please fix the errors in the form before submitting."}),!1):Ce.vendorName.trim()?/^[a-zA-Z\s]*$/.test(Ce.vendorName)?Ce.category?Ce.phoneNumber.trim()?Ce.phoneNumber.length!==10&&Ce.phoneNumber.length!==12?(ns({isOpen:!0,type:"error",title:"Invalid Input",message:"Phone number must be either 10 or 12 digits."}),!1):Ce.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Ce.email)?Ce.address.trim()?Ce.website&&!Ce.website.startsWith("https://")?(ns({isOpen:!0,type:"error",title:"Invalid Input",message:"Website URL must start with https://"}),!1):!De&&!Ee?(ns({isOpen:!0,type:"error",title:"Missing Field",message:"Please upload a logo"}),!1):!0:(ns({isOpen:!0,type:"error",title:"Missing Field",message:"Please enter address"}),!1):(ns({isOpen:!0,type:"error",title:"Invalid Input",message:"Please enter a valid email address."}),!1):(ns({isOpen:!0,type:"error",title:"Missing Field",message:"Please enter email address"}),!1):(ns({isOpen:!0,type:"error",title:"Missing Field",message:"Please enter phone number"}),!1):(ns({isOpen:!0,type:"error",title:"Missing Field",message:"Please select a category"}),!1):(ns({isOpen:!0,type:"error",title:"Invalid Input",message:"Vendor name must contain only text."}),!1):(ns({isOpen:!0,type:"error",title:"Missing Field",message:"Please enter vendor name"}),!1),ds=async gs=>{var Ts,Ds;if(gs.preventDefault(),!!Ss()){Ve(!0);try{const Ms=new FormData;Ms.append("image",De),Ms.append("vendorName",Ce.vendorName.trim()),Ms.append("category",Ce.category),Ms.append("phoneNumber",Ce.phoneNumber.trim()),Ms.append("email",Ce.email.trim()),Ms.append("address",Ce.address.trim()),Ce.website&&Ms.append("website",Ce.website.trim());const bs=Ce.products.map(Ns=>({productName:Ns.name,productType:Ns.type,productDescription:Ns.description||"",productPrice:Ns.price,linkProduct:Ns.productLink||""}));if(bs.length>0&&Ms.append("products",JSON.stringify(bs)),Ce.products.forEach(Ns=>{Ns.imageFile&&Ms.append("productImages",Ns.imageFile)}),Ee){const Ns=await api.put(`/api/admin/vendor/updateVendor/${e.id}`,Ms);if(!Ns.data.success)throw new Error(Ns.data.message||"Failed to update vendor");const ps=Ce.products.filter(_s=>_s.id).map(async _s=>{const ws=new FormData;return ws.append("productName",_s.name),ws.append("productType",_s.type),ws.append("productDescription",_s.description||""),ws.append("productPrice",_s.price),_s.productLink&&ws.append("linkProduct",_s.productLink),_s.imageFile&&ws.append("image",_s.imageFile),api.put(`/api/admin/vendor/updateProduct/${_s.id}`,ws)});await Promise.all(ps),ns({isOpen:!0,type:"success",title:"Success",message:"Vendor details updated successfully!",onConfirm:()=>{Re&&Re()}})}else{const Ns=await api.post("/api/admin/vendor/addVendor",Ms);if(!Ns.data.success)throw new Error(Ns.data.message||"Failed to create vendor");ns({isOpen:!0,type:"success",title:"Success",message:"Vendor and products registered successfully!",onConfirm:()=>{Re&&Re()}})}}catch(Ms){console.error("Submit error:",Ms),ns({isOpen:!0,type:"error",title:"Registration Failed",message:((Ds=(Ts=Ms.response)==null?void 0:Ts.data)==null?void 0:Ds.message)||Ms.message||"An error occurred during registration."})}finally{Ve(!1)}}};return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[9999] p-10 animate-in fade-in duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl overflow-hidden transform scale-100 transition-all flex flex-col max-h-[90vh]",children:[jsxRuntimeExports.jsxs("div",{className:"px-8 py-10 border-b border-gray-100 flex items-center justify-between bg-gray-50 flex-shrink-0",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-gray-900",children:Ee?"Edit Vendor Details":"Add New Vendor"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:Ee?"Update vendor information and products.":"Enter the details to register a new vendor in the system."})]}),jsxRuntimeExports.jsx("button",{onClick:Re,className:"text-gray-400 hover:text-gray-600 transition-colors p-1 hover:bg-gray-200 rounded-full",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"p-8 overflow-y-auto custom-scrollbar flex-grow",children:jsxRuntimeExports.jsxs("form",{onSubmit:ds,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-6 p-4 bg-gray-50 rounded-xl border border-gray-100",children:[jsxRuntimeExports.jsx("div",{className:"relative group shrink-0",children:Oe?jsxRuntimeExports.jsx("div",{className:"w-24 h-24 rounded-lg border border-gray-200 overflow-hidden bg-white shadow-sm",children:jsxRuntimeExports.jsx("img",{src:Oe,alt:"Logo preview",className:"w-full h-full object-cover"})}):jsxRuntimeExports.jsx("div",{className:"w-24 h-24 rounded-lg border border-dashed border-gray-300 flex items-center justify-center bg-white group-hover:border-[#891737] transition-colors",children:jsxRuntimeExports.jsx(Upload,{className:"w-8 h-8 text-gray-300 group-hover:text-[#891737]"})})}),jsxRuntimeExports.jsxs("div",{className:"flex-grow",children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-semibold text-gray-900 mb-1",children:["Company Logo"," ",!Ee&&jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mb-3",children:"Upload a professional logo. Supported formats: PNG, JPG. Max size: 5MB."}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:os,className:"hidden",id:"logo-upload"}),jsxRuntimeExports.jsxs("label",{htmlFor:"logo-upload",className:"inline-flex items-center px-4 py-2 bg-white border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors cursor-pointer text-sm font-medium shadow-sm",children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4 mr-2"}),"Choose File"]})]})]}),jsxRuntimeExports.jsx("div",{className:"h-px bg-gray-100 w-full"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Vendor Details"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Vendor Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Building2,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",name:"vendorName",value:Ce.vendorName,onChange:is,className:`w-full pl-10 pr-4 py-2.5 bg-white border ${Ge.vendorName?"border-red-500":"border-gray-200"} rounded-lg text-sm focus:ring-2 focus:ring-[#891737] focus:border-transparent outline-none transition-all placeholder:text-gray-300`,placeholder:"e.g. Bihar Studio Pvt Ltd"})]}),Ge.vendorName&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:Ge.vendorName})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Category ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Tag,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsxs("select",{name:"category",value:Ce.category,onChange:is,className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#891737] focus:border-transparent outline-none transition-all appearance-none",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Category"}),ts.map(gs=>jsxRuntimeExports.jsx("option",{value:gs,children:gs},gs))]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Phone Number ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Phone,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"number",name:"phoneNumber",value:Ce.phoneNumber,onChange:is,className:`w-full pl-10 pr-4 py-2.5 bg-white border ${Ge.phoneNumber?"border-red-500":"border-gray-200"} rounded-lg text-sm focus:ring-2 focus:ring-[#891737] focus:border-transparent outline-none transition-all placeholder:text-gray-300`,placeholder:"+91 XXXXX XXXXX"})]}),Ge.phoneNumber&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:Ge.phoneNumber})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Email Address ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:Ce.email,onChange:is,className:`w-full pl-10 pr-4 py-2.5 bg-white border ${Ge.email?"border-red-500":"border-gray-200"} rounded-lg text-sm focus:ring-2 focus:ring-[#891737] focus:border-transparent outline-none transition-all placeholder:text-gray-300`,placeholder:"vendor@example.com"})]}),Ge.email&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:Ge.email})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Address ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(MapPin,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("textarea",{name:"address",value:Ce.address,onChange:is,rows:2,className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#891737] focus:border-transparent outline-none transition-all placeholder:text-gray-300 resize-none",placeholder:"Complete physical address"})]})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Website URL"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Globe,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"url",name:"website",value:Ce.website,onChange:is,className:`w-full pl-10 pr-4 py-2.5 bg-white border ${Ge.website?"border-red-500":"border-gray-200"} rounded-lg text-sm focus:ring-2 focus:ring-[#891737] focus:border-transparent outline-none transition-all placeholder:text-gray-300`,placeholder:"https://example.com"})]}),Ge.website&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:Ge.website})]})]})]}),jsxRuntimeExports.jsx("div",{className:"h-px bg-gray-100 w-full"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider",children:"Services & Products"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>We(!0),className:"inline-flex items-center px-3 py-1.5 bg-[#891737]/10 text-[#891737] rounded-lg hover:bg-[#891737]/20 transition-colors text-xs font-medium border border-[#891737]/20",children:[jsxRuntimeExports.jsx(Plus,{className:"w-3 h-3 mr-1.5"}),"Add Item"]})]}),Ce.products.length>0&&jsxRuntimeExports.jsx("div",{className:"space-y-3 mb-5",children:Ce.products.map((gs,Ts)=>jsxRuntimeExports.jsx("div",{className:"bg-gray-50 p-4 rounded-xl border border-gray-100 group hover:border-gray-200 transition-colors",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 rounded-lg bg-white border border-gray-200 overflow-hidden shrink-0",children:gs.imagePreview?jsxRuntimeExports.jsx("img",{src:gs.imagePreview,alt:gs.name,className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-300",children:jsxRuntimeExports.jsx(Package,{className:"w-6 h-6"})})}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 flex-grow",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-900 text-sm",children:gs.name}),jsxRuntimeExports.jsx("span",{className:"px-2 py-0.5 bg-white border border-gray-200 rounded text-[10px] text-gray-500 font-medium",children:gs.type})]}),gs.description&&jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:gs.description}),gs.price&&jsxRuntimeExports.jsxs("p",{className:"text-xs font-medium text-[#891737]",children:["â‚¹",gs.price]})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>xs(Ts),className:"text-gray-400 hover:text-red-500 p-1 opacity-0 group-hover:opacity-100 transition-all",title:"Remove",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})},Ts))}),qe&&jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 p-5 rounded-xl border border-gray-200 animate-in slide-in-from-top-2 duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-4",children:[jsxRuntimeExports.jsx("h5",{className:"text-sm font-semibold text-gray-900",children:"New Item Details"}),jsxRuntimeExports.jsx("button",{onClick:()=>We(!1),className:"text-gray-400 hover:text-gray-600",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 mb-4",children:[jsxRuntimeExports.jsxs("div",{className:"shrink-0",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",id:"product-image",onChange:fs,className:"hidden"}),jsxRuntimeExports.jsx("label",{htmlFor:"product-image",className:"block cursor-pointer",children:jsxRuntimeExports.jsx("div",{className:`w-20 h-20 rounded-lg border border-dashed flex items-center justify-center transition-colors ${Ye.imagePreview?"border-gray-200":"border-gray-300 hover:border-[#891737]"}`,children:Ye.imagePreview?jsxRuntimeExports.jsx("img",{src:Ye.imagePreview,alt:"Preview",className:"w-full h-full object-cover rounded-lg"}):jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(Upload,{className:"w-5 h-5 text-gray-400 mx-auto mb-1"}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-gray-500 block",children:"Img"})]})})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 flex-grow",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Item Name *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:Ye.name,onChange:hs,placeholder:"Service or Product Name",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:ring-1 focus:ring-[#891737] focus:border-[#891737] outline-none"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Item Type *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"type",value:Ye.type,onChange:hs,placeholder:"e.g. Service",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:ring-1 focus:ring-[#891737] focus:border-[#891737] outline-none"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{name:"description",value:Ye.description,onChange:hs,rows:2,placeholder:"Brief description...",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:ring-1 focus:ring-[#891737] focus:border-[#891737] outline-none resize-none"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Price Range (â‚¹) *"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"number",name:"priceFrom",value:Ye.priceFrom||"",onChange:hs,placeholder:"From",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:ring-1 focus:ring-[#891737] focus:border-[#891737] outline-none"}),jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-sm",children:"to"}),jsxRuntimeExports.jsx("input",{type:"number",name:"priceTo",value:Ye.priceTo||"",onChange:hs,placeholder:"To",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:ring-1 focus:ring-[#891737] focus:border-[#891737] outline-none"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1",children:"Product Link"}),jsxRuntimeExports.jsx("input",{type:"text",name:"productLink",value:Ye.productLink,onChange:hs,placeholder:"Product Link",className:"w-full px-3 py-2 bg-white border border-gray-200 rounded-lg text-sm focus:ring-1 focus:ring-[#891737] focus:border-[#891737] outline-none"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end gap-2 mt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>We(!1),className:"px-3 py-1.5 text-xs font-medium text-gray-600 hover:bg-gray-200 rounded-lg transition-colors",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{const gs={...Ye,price:`${Ye.priceFrom}-${Ye.priceTo}`};if(!gs.name||!gs.type||!Ye.priceFrom||!Ye.priceTo){alert("Please fill all required fields");return}setProducts([...products,gs]),rs({name:"",type:"",description:"",price:"",priceFrom:"",priceTo:"",productLink:"",image:null,imagePreview:null}),We(!1)},className:"px-3 py-1.5 text-xs font-medium text-white bg-gray-900 hover:bg-black rounded-lg transition-colors",children:"Add Item"})]})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"px-8 py-5 border-t border-gray-100 flex items-center justify-end gap-3 bg-gray-50 flex-shrink-0",children:[jsxRuntimeExports.jsx("button",{onClick:Re,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-white hover:border-gray-400 hover:shadow-sm transition-all text-sm font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:ds,disabled:ze,className:"px-6 py-2.5 bg-[#891737] text-white rounded-lg hover:bg-[#891737]/90 hover:shadow-lg hover:shadow-[#891737]/20 transition-all text-sm font-medium flex items-center gap-2 disabled:opacity-70 disabled:cursor-not-allowed",children:[ze?"Saving...":"Register Vendor",!ze&&jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"})]})]})]}),jsxRuntimeExports.jsx(AlertBox,{isOpen:Qe.isOpen,type:Qe.type,title:Qe.title,message:Qe.message,onClose:()=>ns(gs=>({...gs,isOpen:!1})),onConfirm:Qe.onConfirm})]})})},CATEGORIES=["Photography & Videography","Catering Services","Decorations & Lighting","Music & Entertainment","Transportation","Venues & Locations","Costumes & Makeup","Equipment Rental","Post-Production","Security","Other"],isVerifiedVendor=Re=>Re.verified===!0||Re.verified===1,isVerifiedProduct=Re=>(Re==null?void 0:Re.verified)===!0||(Re==null?void 0:Re.verified)===1,VendorDirectory=({searchQuery:Re})=>{const[e,Ee]=reactExports.useState([]),[Ce,Te]=reactExports.useState([]),[De,Me]=reactExports.useState(""),[Oe,Be]=reactExports.useState("all"),[ze,Ve]=reactExports.useState(!1),[qe,We]=reactExports.useState(null),[Ge,Je]=reactExports.useState(!1),[Qe,ns]=reactExports.useState(!1),[Ye,rs]=reactExports.useState(null),[ts,Xe]=reactExports.useState("directory"),[is,os]=reactExports.useState(!1),[hs,fs]=reactExports.useState([]),[xs,Ss]=reactExports.useState("all"),[ds,gs]=reactExports.useState(null),Ts=Cs=>{if(Cs.target.checked){const Us=(ts==="admin"?ps:Ns).map(Is=>Is.id);fs(Us)}else fs([])},Ds=(Cs,Ps)=>{Cs.stopPropagation(),Cs.target.checked?fs(Us=>[...Us,Ps]):fs(Us=>Us.filter(Is=>Is!==Ps))},Ms=async()=>{try{Ve(!0);const Cs=await api.get("/api/vendor/getvendors");Te(Cs.data.data||[])}catch(Cs){console.error("Failed to fetch vendors:",Cs)}finally{Ve(!1)}},bs=async()=>{try{os(!0);const Cs=await api.get("/api/admin/vendor/allVendorsAdmin");Ee(Cs.data.data||[])}catch(Cs){console.error("Failed to fetch admin vendors:",Cs)}finally{os(!1)}};reactExports.useEffect(()=>{Ms()},[]),reactExports.useEffect(()=>{fs([]),ts==="admin"&&e.length===0&&bs()},[ts]);const Ns=reactExports.useMemo(()=>Ce.filter(Cs=>{var Vs,Ks,or,rr;const Ps=De?Cs.category===De:!0,Us=Oe==="all"?!0:Oe==="verified"?isVerifiedVendor(Cs):!isVerifiedVendor(Cs);if(!Re)return Ps&&Us;const Is=Re.toLowerCase();return Ps&&Us&&(((Vs=Cs.vendorName)==null?void 0:Vs.toLowerCase().includes(Is))||((Ks=Cs.category)==null?void 0:Ks.toLowerCase().includes(Is))||((or=Cs.address)==null?void 0:or.toLowerCase().includes(Is))||((rr=Cs.email)==null?void 0:rr.toLowerCase().includes(Is)))}),[Ce,De,Oe,Re]),ps=reactExports.useMemo(()=>e.filter(Cs=>{var Is,Vs,Ks,or;const Ps=De?Cs.category===De:!0;if(!Re)return Ps;const Us=Re.toLowerCase();return Ps&&(((Is=Cs.vendorName)==null?void 0:Is.toLowerCase().includes(Us))||((Vs=Cs.category)==null?void 0:Vs.toLowerCase().includes(Us))||((Ks=Cs.email)==null?void 0:Ks.toLowerCase().includes(Us))||((or=Cs.phoneNumber)==null?void 0:or.includes(Us)))}),[e,De,Re]),_s=Ns.filter(Cs=>!isVerifiedVendor(Cs)),ws=Ns.filter(Cs=>isVerifiedVendor(Cs)),js=async(Cs,Ps)=>{const Is=!(Ps===1||Ps===!0),Vs=Is?`/api/vendor/${Cs}/verify`:`/api/vendor/${Cs}/unverify`,Ks=[...Ce],or=[...e];Te(Ce.map(rr=>rr.id===Cs?{...rr,verified:Is}:rr)),Ee(e.map(rr=>rr.id===Cs?{...rr,verified:Is}:rr)),qe&&qe.id===Cs&&We(rr=>({...rr,verified:Is?1:0}));try{await api.put(Vs)}catch(rr){console.error("Failed to update vendor:",rr),Te(Ks),Ee(or),qe&&qe.id===Cs&&We(ur=>({...ur,verified:Ps})),alert("Failed to update verification status. Please make sure you have admin permissions.")}},ms=async(Cs,Ps)=>{var Ws;if(!Cs)return;const Is=!(Ps===1||Ps===!0),Vs=Is?`/api/products/products/${Cs}/verify`:`/api/products/products/${Cs}/unverify`,Ks=qe?JSON.parse(JSON.stringify(qe)):null;gs(Cs),(Ws=qe==null?void 0:qe.products)!=null&&Ws.length&&We(Er=>({...Er,products:Er.products.map(zr=>zr.id===Cs?{...zr,verified:Is?1:0}:zr)}));const or=JSON.parse(JSON.stringify(Ce)),rr=JSON.parse(JSON.stringify(e)),ur=Er=>Er.map(zr=>{var Or;return(Or=zr==null?void 0:zr.products)!=null&&Or.length?{...zr,products:zr.products.map(tr=>tr.id===Cs?{...tr,verified:Is?1:0}:tr)}:zr});Te(Er=>ur(Er)),Ee(Er=>ur(Er));try{await api.put(Vs)}catch(Er){console.error("Failed to update product status:",Er),Ks&&We(Ks),Te(or),Ee(rr),alert("Failed to update product verification status. Check admin permissions / API route.")}finally{gs(null)}},ys=()=>{if(hs.length!==1)return;const Cs=hs[0],Us=(ts==="admin"?e:Ce).find(Is=>Is.id===Cs);Us&&(rs(Us),ns(!0))},ks=async()=>{if(window.confirm(`Are you sure you want to delete ${hs.length} vendor(s)?`))try{const Cs=hs.map(Ps=>api.delete(`/api/admin/vendor/deleteVendor/${Ps}`));await Promise.all(Cs),ts==="admin"?bs():Ms(),fs([])}catch(Cs){console.error("Failed to delete vendors:",Cs),alert("Failed to delete some vendors. Please try again.")}},zs=reactExports.useMemo(()=>{const Cs=(qe==null?void 0:qe.products)||[];return xs==="all"?Cs:xs==="verified"?Cs.filter(Ps=>isVerifiedProduct(Ps)):Cs.filter(Ps=>!isVerifiedProduct(Ps))},[qe,xs]);return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex border-b border-gray-200",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Xe("directory"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${ts==="directory"?"border-[#891737] text-[#891737]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Overview & Directory"}),jsxRuntimeExports.jsx("button",{onClick:()=>Xe("admin"),className:`px-6 py-3 text-sm font-medium transition-colors border-b-2 ${ts==="admin"?"border-[#891737] text-[#891737]":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"Master Registry (Admin)"})]}),ts==="directory"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 hover:border-gray-200 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Vendors"}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-50 flex items-center justify-center",children:jsxRuntimeExports.jsx(Building2,{className:"w-5 h-5 text-gray-600"})})]}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-semibold text-gray-900",children:Ce.length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 hover:border-gray-200 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Verified"}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-green-50 flex items-center justify-center",children:jsxRuntimeExports.jsx(ShieldCheck,{className:"w-5 h-5 text-green-600"})})]}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-semibold text-gray-900",children:ws.length})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 hover:border-gray-200 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Pending Review"}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-amber-50 flex items-center justify-center",children:jsxRuntimeExports.jsx(TriangleAlert,{className:"w-5 h-5 text-amber-600"})})]}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-semibold text-gray-900",children:_s.length})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4 flex flex-col sm:flex-row items-center justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("select",{value:De,onChange:Cs=>Me(Cs.target.value),className:"pl-3 pr-8 py-2 text-sm bg-gray-50 border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#891737] focus:border-transparent outline-none appearance-none cursor-pointer min-w-[180px]",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Categories"}),CATEGORIES.map(Cs=>jsxRuntimeExports.jsx("option",{value:Cs,children:Cs},Cs))]}),jsxRuntimeExports.jsx(Funnel,{className:"w-4 h-4 text-gray-500 absolute right-2.5 top-1/2 -translate-y-1/2 pointer-events-none"})]}),jsxRuntimeExports.jsx(DownloadExcel,{data:Ns,fileName:"vendor_directory"}),jsxRuntimeExports.jsx("button",{onClick:Ms,className:"p-2 text-sm font-medium hover:bg-gray-200 text-black bg-white border border-gray-100 rounded-lg transition-colors whitespace-nowrap",title:"Refresh Table",children:jsxRuntimeExports.jsx(RefreshCcw,{className:"w-4 h-4 text-gray-600"})}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-lg border border-gray-200",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Be("all"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${Oe==="all"?"bg-white text-gray-900 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"All"}),jsxRuntimeExports.jsx("button",{onClick:()=>Be("verified"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${Oe==="verified"?"bg-white text-green-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Verified"}),jsxRuntimeExports.jsx("button",{onClick:()=>Be("pending"),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-all ${Oe==="pending"?"bg-white text-amber-700 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Non Verified"})]}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-500 ml-2 whitespace-nowrap",children:[Ns.length," Found"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[hs.length===1&&jsxRuntimeExports.jsx("button",{onClick:ys,className:"p-2 text-sm font-medium hover:bg-blue-50 text-blue-600 bg-white border border-blue-100 rounded-lg transition-colors",title:"Edit Vendor",children:jsxRuntimeExports.jsx(Pencil,{className:"w-4 h-4"})}),hs.length>0&&jsxRuntimeExports.jsx("button",{onClick:ks,className:"p-2 text-sm font-medium hover:bg-red-50 text-red-600 bg-white border border-red-100 rounded-lg transition-colors",title:"Delete Selected",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})]}),ze?jsxRuntimeExports.jsx("div",{className:"p-12 text-center",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3 animate-pulse max-w-md mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-100 rounded w-3/4"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-100 rounded w-1/2"}),jsxRuntimeExports.jsx("div",{className:"h-3 bg-gray-100 rounded w-5/6"})]})}):jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-[#891737] focus:ring-[#891737]",checked:Ns.length>0&&hs.length===Ns.length,onChange:Ts})}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"#"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Vendor"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Contact"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Joined"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-100",children:Ns.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"8",className:"px-5 py-12 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-lg flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(CircleAlert,{className:"h-8 w-8 text-gray-400"})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"No vendors found"})]})}):Ns.map((Cs,Ps)=>jsxRuntimeExports.jsxs("tr",{className:`hover:bg-gray-50/50 transition-colors cursor-pointer ${hs.includes(Cs.id)?"bg-gray-50":""}`,onClick:()=>We(Cs),children:[jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",onClick:Us=>Us.stopPropagation(),children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-[#891737] focus:ring-[#891737]",checked:hs.includes(Cs.id),onChange:Us=>Ds(Us,Cs.id)})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 text-xs font-medium text-gray-900 whitespace-nowrap",children:Ps+1}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-shrink-0",children:[jsxRuntimeExports.jsx("img",{src:Cs.logoUrl||"https://via.placeholder.com/40",alt:Cs.vendorName,className:"w-10 h-10 rounded-full object-cover border border-gray-100"}),isVerifiedVendor(Cs)&&jsxRuntimeExports.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-4 h-4 bg-green-500 rounded-full flex items-center justify-center border-2 border-white",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-2.5 h-2.5 text-white"})})]}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:Cs.vendorName}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 truncate",children:Cs.email})]})]})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-[10px] font-medium bg-blue-50 text-blue-600 border border-blue-100",children:Cs.category})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 text-xs text-gray-600 whitespace-nowrap",children:Cs.phoneNumber}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 truncate max-w-[200px]",title:Cs.address,children:Cs.address})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 whitespace-nowrap",children:isVerifiedVendor(Cs)?jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-green-50 text-green-600 border border-green-100",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3.5 h-3.5"}),"Verified"]}):jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-amber-50 text-amber-600 border border-amber-100",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3.5 h-3.5"}),"Pending"]})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 text-xs text-gray-600 whitespace-nowrap",children:Cs.createdAt?new Date(Cs.createdAt).toLocaleDateString():"N/A"})]},Cs.id))})]})})})]}):jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-4 flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Vendor Master Registry"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[hs.length===1&&jsxRuntimeExports.jsx("button",{onClick:ys,className:"p-2 text-sm font-medium hover:bg-blue-50 text-black bg-white border border-blue-100 rounded-lg transition-colors",title:"Edit Vendor",children:jsxRuntimeExports.jsx(Pencil,{className:"w-4 h-4"})}),hs.length>0&&jsxRuntimeExports.jsx("button",{onClick:ks,className:"p-2 text-sm font-medium hover:bg-red-50 text-red-600 bg-white border border-red-100 rounded-lg transition-colors",title:"Delete Selected",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("div",{className:"h-6 w-px bg-gray-300 mx-1"}),jsxRuntimeExports.jsxs("button",{onClick:()=>Je(!0),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium hover:bg-gray-200 text-black bg-white border border-gray-100 rounded-lg transition-colors whitespace-nowrap",children:[jsxRuntimeExports.jsx(CirclePlus,{className:"w-4 h-4"}),"Add Vendor"]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("select",{value:De,onChange:Cs=>Me(Cs.target.value),className:"pl-3 pr-8 py-2 text-sm font-medium hover:bg-gray-200 text-black bg-white border border-gray-100 rounded-lg transition-colors whitespace-nowrap w-[180px]",children:[jsxRuntimeExports.jsx("option",{value:"",children:"All Categories"}),CATEGORIES.map(Cs=>jsxRuntimeExports.jsx("option",{value:Cs,children:Cs},Cs))]}),jsxRuntimeExports.jsx(Funnel,{className:"w-4 h-4 text-gray-500 absolute right-2.5 top-1/2 -translate-y-1/2 pointer-events-none"})]}),jsxRuntimeExports.jsx(DownloadExcel,{data:ps,fileName:"vendor_master_registry"}),jsxRuntimeExports.jsx("button",{onClick:bs,className:"p-2 text-sm font-medium hover:bg-gray-200 text-black bg-white border border-gray-100 rounded-lg transition-colors whitespace-nowrap",title:"Refresh Table",children:jsxRuntimeExports.jsx(RefreshCcw,{className:"w-4 h-4 text-gray-600"})})]})]}),is?jsxRuntimeExports.jsx("div",{className:"p-12 text-center",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3 animate-pulse max-w-md mx-auto",children:[jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-200 rounded w-full"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-100 rounded w-5/6"}),jsxRuntimeExports.jsx("div",{className:"h-4 bg-gray-100 rounded w-4/6"})]})}):jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-[#891737] focus:ring-[#891737]",checked:ps.length>0&&hs.length===ps.length,onChange:Ts})}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"#"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Vendor"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Category"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Contact"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Location"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Joined"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-100",children:ps.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"8",className:"px-5 py-12 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-lg flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(CircleAlert,{className:"h-8 w-8 text-gray-400"})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"No vendors found in registry"})]})}):ps.map((Cs,Ps)=>jsxRuntimeExports.jsxs("tr",{className:`hover:bg-gray-50/50 transition-colors cursor-pointer ${hs.includes(Cs.id)?"bg-gray-50":""}`,onClick:()=>We(Cs),children:[jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",onClick:Us=>Us.stopPropagation(),children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-[#891737] focus:ring-[#891737]",checked:hs.includes(Cs.id),onChange:Us=>Ds(Us,Cs.id)})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 text-xs font-medium text-gray-900 whitespace-nowrap",children:Ps+1}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-shrink-0",children:[jsxRuntimeExports.jsx("img",{src:Cs.logoUrl||Cs.image||Cs.cloudinaryLink||"/placeholder.png",alt:Cs.vendorName,className:"w-10 h-10 rounded-full object-cover border border-gray-100",onError:Us=>{Us.target.src="/placeholder.png"}}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-0.5 -right-0.5 w-4 h-4 bg-blue-500 rounded-full flex items-center justify-center border-2 border-white",children:jsxRuntimeExports.jsx(ShieldCheck,{className:"w-2.5 h-2.5 text-white"})})]}),jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:Cs.vendorName}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 truncate",children:Cs.email})]})]})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:"inline-flex items-center px-2.5 py-1 rounded-full text-[10px] font-medium bg-blue-50 text-blue-600 border border-blue-100",children:Cs.category})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 text-xs text-gray-600 whitespace-nowrap",children:Cs.phoneNumber}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 truncate max-w-[200px]",title:Cs.address,children:Cs.address})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 whitespace-nowrap",children:jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-blue-50 text-blue-600 border border-blue-100",children:[jsxRuntimeExports.jsx(ShieldCheck,{className:"w-3.5 h-3.5"}),"Auto Verified"]})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 text-xs text-gray-600 whitespace-nowrap",children:Cs.createdAt?new Date(Cs.createdAt).toLocaleDateString():"N/A"})]},Cs.id))})]})})})]}),qe&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl w-full max-w-3xl overflow-hidden shadow-2xl max-h-[90vh] flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Vendor Details"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Complete vendor information"})]}),jsxRuntimeExports.jsx("button",{className:"w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center transition-colors",onClick:()=>We(null),children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4 text-gray-500"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 mb-6",children:[jsxRuntimeExports.jsx("img",{src:qe.logoUrl||qe.image||qe.cloudinaryLink||"/placeholder.png",alt:qe.vendorName,className:"w-24 h-24 rounded-lg object-cover border border-gray-100",onError:Cs=>{Cs.target.src="/placeholder.png"}}),jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:qe.vendorName}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 font-medium",children:qe.category})]}),ts==="directory"&&jsxRuntimeExports.jsx("div",{children:isVerifiedVendor(qe)?jsxRuntimeExports.jsxs("button",{onClick:()=>js(qe.id,qe.verified),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-red-600 hover:bg-red-50 border border-red-100 transition-colors",children:[jsxRuntimeExports.jsx(X$1,{className:"w-3.5 h-3.5"}),"Unverify Vendor"]}):jsxRuntimeExports.jsxs("button",{onClick:()=>js(qe.id,qe.verified),className:"inline-flex items-center gap-1.5 px-3 py-1.5 rounded-lg text-xs font-medium text-green-600 hover:bg-green-50 border border-green-100 transition-colors",children:[jsxRuntimeExports.jsx(ShieldCheck,{className:"w-3.5 h-3.5"}),"Verify Vendor"]})})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-3",children:"Contact Information"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-lg bg-white border border-gray-100 flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 text-gray-600"})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Email"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-900 truncate",children:qe.email})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-lg bg-white border border-gray-100 flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4 text-gray-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Phone"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-900",children:qe.phoneNumber})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-lg bg-white border border-gray-100 flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4 text-gray-600"})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Location"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-900 line-clamp-2",children:qe.address})]})]}),qe.website&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-lg bg-white border border-gray-100 flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Globe,{className:"w-4 h-4 text-gray-600"})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Website"}),jsxRuntimeExports.jsx("a",{href:qe.website,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-[#891737] hover:text-[#891737]/80 truncate block",children:qe.website})]})]})]})]}),qe.products&&qe.products.length>0&&jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-lg bg-white border border-gray-100 flex items-center justify-center",children:jsxRuntimeExports.jsx(Package,{className:"w-4 h-4 text-gray-600"})}),jsxRuntimeExports.jsx("h4",{className:"text-sm font-semibold text-gray-900",children:"Products & Services"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx(Layers,{className:"w-4 h-4 text-gray-500"}),jsxRuntimeExports.jsxs("select",{value:xs,onChange:Cs=>Ss(Cs.target.value),className:"px-3 py-2 text-xs bg-white border border-gray-200 rounded-lg focus:ring-2 focus:ring-[#891737] focus:border-transparent outline-none",children:[jsxRuntimeExports.jsx("option",{value:"all",children:"All"}),jsxRuntimeExports.jsx("option",{value:"verified",children:"Displyed"}),jsxRuntimeExports.jsx("option",{value:"pending",children:"Pending"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-2",children:zs.length===0?jsxRuntimeExports.jsx("div",{className:"p-6 text-center text-sm text-gray-500",children:"No products in this filter."}):zs.map((Cs,Ps)=>jsxRuntimeExports.jsx("div",{className:"p-3 bg-white rounded-lg border border-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:jsxRuntimeExports.jsx("img",{src:Cs.imageUrl||Cs.image||Cs.cloudinaryLink||Cs.productImage||"/api/placeholder/64/64",alt:Cs.name||Cs.productName,className:"w-full h-full object-cover",onError:Us=>{Us.target.src="/api/placeholder/64/64"}})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-3",children:[jsxRuntimeExports.jsxs("div",{className:"min-w-0",children:[jsxRuntimeExports.jsx("h5",{className:"text-sm font-medium text-gray-900 mb-1 truncate",children:Cs.name||Cs.productName}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[jsxRuntimeExports.jsx("span",{className:"inline-block px-2 py-0.5 bg-gray-50 text-gray-600 rounded text-xs font-medium",children:Cs.type||Cs.productType}),isVerifiedProduct(Cs)?jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-green-50 text-green-600 border border-green-100",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3.5 h-3.5"}),"Displayed"]}):jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium bg-amber-50 text-amber-600 border border-amber-100",children:[jsxRuntimeExports.jsx(Clock,{className:"w-3.5 h-3.5"}),"Pending"]})]})]}),ts==="directory"&&jsxRuntimeExports.jsx("button",{type:"button",disabled:ds===Cs.id,onClick:()=>ms(Cs.id,Cs.verified),className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-lg text-xs font-medium border transition-colors disabled:opacity-60 disabled:cursor-not-allowed ${isVerifiedProduct(Cs)?"text-red-600 hover:bg-red-50 border-red-100":"text-green-600 hover:bg-green-50 border-green-100"}`,title:isVerifiedProduct(Cs)?"Unverify Product":"Verify Product",children:isVerifiedProduct(Cs)?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(X$1,{className:"w-3.5 h-3.5"}),ds===Cs.id?"Working...":"Remove Display"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(ShieldCheck,{className:"w-3.5 h-3.5"}),ds===Cs.id?"Working...":"Allow Display"]})})]}),(Cs.description||Cs.productDescription)&&jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 mt-2 line-clamp-2",children:Cs.description||Cs.productDescription}),(Cs.linkProduct||Cs.productLink)&&jsxRuntimeExports.jsxs("a",{href:Cs.linkProduct||Cs.productLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 mt-2 text-xs font-medium text-[#891737] hover:underline",children:["View Product ",jsxRuntimeExports.jsx(ExternalLink,{className:"w-3 h-3"})]})]}),(Cs.price||Cs.productPrice)&&jsxRuntimeExports.jsxs("div",{className:"text-right flex-shrink-0",children:[jsxRuntimeExports.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:["â‚¹",Cs.price||Cs.productPrice]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"per unit"})]})]})},Cs.id||Ps))})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-between gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex-1",children:jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-500",children:["Status:"," ",ts==="admin"?jsxRuntimeExports.jsx("span",{className:"text-blue-600 font-medium whitespace-nowrap",children:"Auto Verified"}):isVerifiedVendor(qe)?jsxRuntimeExports.jsx("span",{className:"text-green-600 font-medium",children:"Verified"}):jsxRuntimeExports.jsx("span",{className:"text-amber-600 font-medium",children:"Pending Review"})]})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>We(null),className:"px-6 py-2.5 text-sm font-semibold text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 hover:border-gray-300 transition-all duration-200",children:"Close"}),ts==="directory"&&jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:isVerifiedVendor(qe)?jsxRuntimeExports.jsxs("button",{onClick:()=>js(qe.id,qe.verified),className:"px-6 py-2.5 text-sm font-semibold text-white bg-red-600 rounded-lg hover:bg-red-700 transition-all duration-200 flex items-center gap-2",children:[jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"}),"Unverify Vendor"]}):jsxRuntimeExports.jsxs("button",{onClick:()=>js(qe.id,qe.verified),className:"px-6 py-2.5 text-sm font-semibold text-white bg-green-600 rounded-lg hover:bg-green-700 transition-all duration-200 flex items-center gap-2",children:[jsxRuntimeExports.jsx(ShieldCheck,{className:"w-4 h-4"}),"Verify Vendor"]})})]})]})]})}),Ge&&jsxRuntimeExports.jsx(AddVendorForm,{onClose:()=>{Je(!1),ts==="admin"?bs():Ms()}}),Qe&&jsxRuntimeExports.jsx(AddVendorForm,{isEditMode:!0,initialData:Ye,onClose:()=>{ns(!1),rs(null),ts==="admin"?bs():Ms(),fs([])}})]})};function AddNotification({onClose:Re,editData:e}){const[Ce,Te]=reactExports.useState(""),[De,Me]=reactExports.useState(0),[Oe,Be]=reactExports.useState(""),[ze,Ve]=reactExports.useState(""),[qe,We]=reactExports.useState(null),[Ge,Je]=reactExports.useState(!1),[Qe,ns]=reactExports.useState({isOpen:!1,type:"info",title:"",message:"",autoClose:!1});reactExports.useEffect(()=>{if(e){console.log("Loading edit data:",e),Be(e.title||"");const fs=e.description||"";if(Te(fs),Me(fs.trim().split(/\s+/).filter(Boolean).length),e.date){const Ss=new Date(e.date).toISOString().split("T")[0];Ve(Ss)}}},[e]);const Ye=fs=>{const xs=fs.target.value,Ss=xs.trim().split(/\s+/).filter(Boolean);Ss.length<=50&&(Te(xs),Me(Ss.length))},rs=fs=>{const xs=fs.target.files[0];if(xs){const Ss=validateFile(xs);if(!Ss.isValid){ts({type:"error",title:"Validation Error",message:Ss.error}),fs.target.value=null;return}We(xs)}},ts=fs=>{ns({isOpen:!0,...fs})},Xe=()=>{ns(fs=>({...fs,isOpen:!1}))},is=async()=>{var xs,Ss;if(!Oe||!ze||!Ce||!qe){ts({type:"warning",title:"Missing Fields",message:"Please fill in all fields and upload a PDF."});return}Je(!0);const fs=new FormData;fs.append("notificationTitle",Oe),fs.append("notificationDate",ze),fs.append("notificationDescription",Ce),fs.append("notificationPdf",qe);try{console.log("ðŸ“¤ Creating notification...");const ds=await api.post("/api/notification/createNotification",fs,{headers:{"Content-Type":"multipart/form-data"}});if(console.log("âœ… Notification created:",ds.data),ds.data.success)ts({type:"success",title:"Success",message:"Notification created successfully!",autoClose:!0,duration:2e3}),setTimeout(()=>{Re&&Re()},2e3);else throw new Error(ds.data.message||"Failed to create notification")}catch(ds){console.error("âŒ Error creating notification:",ds),ts({type:"error",title:"Error",message:((Ss=(xs=ds.response)==null?void 0:xs.data)==null?void 0:Ss.message)||ds.message||"Failed to create notification. Please try again."})}finally{Je(!1)}},os=async()=>{var xs,Ss;if(!Oe||!ze||!Ce){ts({type:"warning",title:"Missing Fields",message:"Please fill in all required fields."});return}Je(!0);const fs=new FormData;fs.append("notificationTitle",Oe),fs.append("notificationDate",ze),fs.append("notificationDescription",Ce),qe&&fs.append("notificationPdf",qe);try{console.log("ðŸ“¤ Updating notification...");const ds=await api.put(`/api/notification/updatedNotification/${e.id}`,fs,{headers:{"Content-Type":"multipart/form-data"}});if(console.log("âœ… Notification updated:",ds.data),ds.data.success)ts({type:"success",title:"Success",message:"Notification updated successfully!",autoClose:!0,duration:2e3}),setTimeout(()=>{Re&&Re()},2e3);else throw new Error(ds.data.message||"Failed to update notification")}catch(ds){console.error("âŒ Error updating notification:",ds),ts({type:"error",title:"Error",message:((Ss=(xs=ds.response)==null?void 0:xs.data)==null?void 0:Ss.message)||ds.message||"Failed to update notification. Please try again."})}finally{Je(!1)}},hs=()=>{e?os():is()};return jsxRuntimeExports.jsxs("div",{className:"w-full max-w-lg mx-auto bg-white rounded-xl shadow-2xl overflow-hidden border border-gray-100",children:[jsxRuntimeExports.jsx(AlertBox,{...Qe,onClose:Xe}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-base font-semibold text-gray-900",children:e?"Edit Notification":"Create Notification"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:e?"Update notification details":"Add official notification"})]}),Re&&jsxRuntimeExports.jsx("button",{onClick:Re,className:"w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4 text-gray-500"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:["Title ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"text",value:Oe,onChange:fs=>Be(fs.target.value),placeholder:"e.g., Film Policy Update 2024",className:"w-full px-3 py-2 text-sm text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-300 transition-colors"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:["Date ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"date",value:ze,onChange:fs=>Ve(fs.target.value),className:"w-full px-3 py-2 text-sm text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-300 transition-colors"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:["Description ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("textarea",{rows:"4",value:Ce,onChange:Ye,placeholder:"Enter a brief description...",className:"w-full px-3 py-2 text-sm text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-300 transition-colors resize-none"}),jsxRuntimeExports.jsxs("div",{className:`absolute bottom-2 right-2 text-xs px-2 py-0.5 rounded ${De>=50?"bg-red-50 text-red-600":"bg-gray-50 text-gray-500"}`,children:[De,"/",50]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:["Attachment (PDF, JPG, PNG)"," ",!e&&jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),e&&!qe&&jsxRuntimeExports.jsxs("div",{className:"mb-2 p-3 bg-blue-50 border border-blue-100 rounded-lg flex items-start gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-blue-700",children:"Current file is already uploaded. Upload a new file to replace it."})]}),jsxRuntimeExports.jsxs("div",{className:`border-2 border-dashed rounded-lg p-4 transition-all ${qe?"border-gray-200 bg-gray-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsx("input",{type:"file",id:"pdfUpload",accept:"application/pdf,image/jpeg,image/png",onChange:rs,className:"hidden"}),qe?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 overflow-hidden flex-1",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-red-50 rounded-lg flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-red-600"})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:qe.name}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:[(qe.size/1024/1024).toFixed(2)," MB"]})]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>We(null),className:"w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center text-gray-500 hover:text-gray-900 transition-colors flex-shrink-0 ml-2",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]}):jsxRuntimeExports.jsxs("label",{htmlFor:"pdfUpload",className:"cursor-pointer flex flex-col items-center justify-center py-3",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gray-50 rounded-lg flex items-center justify-center mb-2",children:jsxRuntimeExports.jsx(Upload,{className:"w-6 h-6 text-gray-400"})}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900 mb-0.5",children:e?"Upload New File (Optional)":"Upload File"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Maximum file size 5MB"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:Re,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:hs,disabled:Ge,className:"px-4 py-2 text-sm font-medium text-white bg-[#891737] hover:bg-[#891737]/90 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:Ge?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader,{className:"w-4 h-4 animate-spin"}),e?"Updating...":"Saving..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"}),e?"Update":"Publish"]})})]})]})}const NotificationMain=({searchQuery:Re})=>{const[e,Ee]=reactExports.useState([]),[Ce,Te]=reactExports.useState(!1),[De,Me]=reactExports.useState(null),Oe=async()=>{try{console.log("ðŸ“Š Fetching notifications...");const{data:Ge}=await api.get("/api/notification/notifications");console.log("âœ… Notifications received:",Ge),Ee(Ge.notifications||[])}catch(Ge){console.error("âŒ Failed to fetch notifications:",Ge)}};reactExports.useEffect(()=>{Oe()},[]);const Be=e.filter(Ge=>{var Qe,ns;if(!Re)return!0;const Je=Re.toLowerCase();return((Qe=Ge.notificationTitle)==null?void 0:Qe.toLowerCase().includes(Je))||((ns=Ge.notificationDescription)==null?void 0:ns.toLowerCase().includes(Je))}),ze=async Ge=>{if(window.confirm("Are you sure you want to delete this notification?"))try{console.log("ðŸ—‘ï¸ Deleting notification:",Ge),await api.delete(`/api/notification/deleteNotification/${Ge}`),console.log("âœ… Notification deleted successfully"),Ee(e.filter(Je=>Je.id!==Ge))}catch(Je){console.error("âŒ Failed to delete notification:",Je),alert("Failed to delete notification. Please try again.")}},Ve=Ge=>{const Je={id:Ge.id,title:Ge.notificationTitle,date:Ge.notificationDate,description:Ge.notificationDescription,pdf:Ge.notificationPdf};Me(Je),Te(!0)},qe=e.length,We=e.filter(Ge=>{const Je=new Date().toISOString().split("T")[0];return Ge.notificationDate===Je}).length;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 hover:border-gray-200 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Notifications"}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-50 flex items-center justify-center",children:jsxRuntimeExports.jsx(Bell,{className:"w-5 h-5 text-gray-600"})})]}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-semibold text-gray-900",children:qe})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 hover:border-gray-200 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-500",children:"New Today"}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-blue-50 flex items-center justify-center",children:jsxRuntimeExports.jsx(BellRing,{className:"w-5 h-5 text-blue-600"})})]}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-semibold text-gray-900",children:We})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{Me(null),Te(!0)},className:"bg-white rounded-xl border border-gray-100 p-6 hover:border-[#891737] hover:bg-gray-50/50 transition-all text-left group",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-500 group-hover:text-[#891737] transition-colors",children:"Add Notification"}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#891737] flex items-center justify-center group-hover:bg-[#891737]/90 transition-colors",children:jsxRuntimeExports.jsx(CirclePlus,{className:"w-5 h-5 text-white"})})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Create a new notification"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Notifications"}),jsxRuntimeExports.jsxs("span",{className:"text-xs font-medium text-gray-500",children:[Be.length," ",Be.length===1?"notification":"notifications"]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"#"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Title"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Attachment"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-100",children:Be.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"6",className:"px-5 py-12 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-lg flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(CircleAlert,{className:"h-8 w-8 text-gray-400"})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"No notifications found"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Try adjusting your search or add a new notification"})]})}):Be.map((Ge,Je)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 text-xs font-medium text-gray-900 whitespace-nowrap",children:Je+1}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",children:jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-[200px]",title:Ge.notificationTitle,children:Ge.notificationTitle})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 max-w-xs",children:Ge.notificationDescription})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 text-xs text-gray-600 whitespace-nowrap",children:Ge.notificationDate}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",children:Ge.notificationPdf?jsxRuntimeExports.jsx("a",{href:Ge.notificationPdf,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center w-8 h-8 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors",title:"View PDF",children:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"})}):jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:"-"})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",children:jsxRuntimeExports.jsxs("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ve(Ge),className:"w-8 h-8 rounded-lg flex items-center justify-center text-gray-400 hover:text-gray-900 hover:bg-gray-100 transition-colors",title:"Edit",children:jsxRuntimeExports.jsx(SquarePen,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>ze(Ge.id),className:"w-8 h-8 rounded-lg flex items-center justify-center text-gray-400 hover:text-red-600 hover:bg-red-50 transition-colors",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})})]},Ge.id))})]})})]}),Ce&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:jsxRuntimeExports.jsx("div",{className:"w-full max-w-lg",children:jsxRuntimeExports.jsx(AddNotification,{editData:De,onClose:()=>{Te(!1),Me(null),Oe()}})})})]})};function AddTender({tenderData:Re,onClose:e}){const[Ce,Te]=reactExports.useState(""),[De,Me]=reactExports.useState(""),[Oe,Be]=reactExports.useState(""),[ze,Ve]=reactExports.useState(null),[qe,We]=reactExports.useState(0),[Ge,Je]=reactExports.useState(!1),[Qe,ns]=reactExports.useState({isOpen:!1,type:"info",title:"",message:"",autoClose:!1,showCancel:!1,onConfirm:null});reactExports.useEffect(()=>{if(Re){Te(Re.title||"");const xs=Re.description||"";if(Be(xs),We(xs.trim().split(/\s+/).filter(Boolean).length),Re.date){const ds=new Date(Re.date).toISOString().split("T")[0];Me(ds)}}},[Re]);const Ye=xs=>{const Ss=xs.target.value,ds=Ss.trim().split(/\s+/).filter(Boolean);(ds.length<=30&&Ss.length<=190||Ss.length>190&&Ss.length<Oe.length)&&(Be(Ss),We(ds.length))},rs=xs=>{const Ss=xs.target.files[0];if(Ss){const ds=validateFile(Ss);if(!ds.isValid){ts({type:"error",title:"Validation Error",message:ds.error}),xs.target.value=null;return}Ve(Ss)}},ts=xs=>{ns({isOpen:!0,...xs})},Xe=()=>{ns(xs=>({...xs,isOpen:!1}))},is=async()=>{var Ss,ds;if(!Ce||!De||!Oe||!ze){ts({type:"warning",title:"Missing Fields",message:"Please fill in all fields and upload a PDF."});return}Je(!0);const xs=new FormData;xs.append("title",Ce),xs.append("date",De),xs.append("description",Oe),xs.append("pdf",ze),console.log("ðŸ“¤ Creating tender with data:");for(let[gs,Ts]of xs.entries())console.log(`${gs}:`,Ts);try{const gs=await api.post("/api/tender/createTender",xs,{headers:{"Content-Type":"multipart/form-data"}});if(console.log("âœ… Tender created:",gs.data),gs.data.success)ts({type:"success",title:"Success",message:"Tender created successfully!",autoClose:!0,duration:2e3}),setTimeout(()=>{e&&e()},2e3);else throw new Error(gs.data.message||"Failed to create tender")}catch(gs){console.error("âŒ Error creating tender:",gs),ts({type:"error",title:"Error",message:((ds=(Ss=gs.response)==null?void 0:Ss.data)==null?void 0:ds.message)||gs.message||"Failed to create tender. Please try again."})}finally{Je(!1)}},os=async()=>{var Ss,ds;if(!Ce||!De||!Oe){ts({type:"warning",title:"Missing Fields",message:"Please fill in all required fields."});return}Je(!0);const xs=new FormData;xs.append("title",Ce),xs.append("date",De),xs.append("description",Oe),ze&&xs.append("pdf",ze),console.log("ðŸ“¤ Updating tender...");try{const gs=await api.put(`/api/tender/updateTender/${Re.id}`,xs,{headers:{"Content-Type":"multipart/form-data"}});if(console.log("âœ… Tender updated:",gs.data),gs.data.success)ts({type:"success",title:"Success",message:"Tender updated successfully!",autoClose:!0,duration:2e3}),setTimeout(()=>{e&&e()},2e3);else throw new Error(gs.data.message||"Failed to update tender")}catch(gs){console.error("âŒ Error updating tender:",gs),ts({type:"error",title:"Error",message:((ds=(Ss=gs.response)==null?void 0:Ss.data)==null?void 0:ds.message)||gs.message||"Failed to update tender. Please try again."})}finally{Je(!1)}},hs=async()=>{ts({type:"warning",title:"Confirm Delete",message:"Are you sure you want to delete this tender? This action cannot be undone.",confirmText:"Yes, Delete",cancelText:"Cancel",showCancel:!0,onConfirm:async()=>{var xs,Ss;Je(!0),console.log("ðŸ—‘ï¸ Deleting tender:",Re.id);try{const ds=await api.delete(`/api/tender/deletetender/${Re.id}`);console.log("âœ… Tender deleted:",ds.data),ts({type:"success",title:"Deleted",message:"Tender deleted successfully!",autoClose:!0,duration:2e3}),setTimeout(()=>{e&&e(!0)},2e3)}catch(ds){console.error("âŒ Error deleting tender:",ds),ts({type:"error",title:"Error",message:((Ss=(xs=ds.response)==null?void 0:xs.data)==null?void 0:Ss.message)||ds.message||"Failed to delete tender. Please try again."})}finally{Je(!1)}}})},fs=()=>{Re?os():is()};return jsxRuntimeExports.jsxs("div",{className:"w-full max-w-lg mx-auto bg-white rounded-xl shadow-2xl overflow-hidden border border-gray-100",children:[jsxRuntimeExports.jsx(AlertBox,{...Qe,onClose:Xe}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-base font-semibold text-gray-900",children:Re?"Edit Tender":"Create Tender"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:Re?"Update tender details":"Add new tender notice"})]}),e&&jsxRuntimeExports.jsx("button",{onClick:e,className:"w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4 text-gray-500"})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-4 max-h-[70vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:["Title ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"text",value:Ce,onChange:xs=>Te(xs.target.value),placeholder:"e.g., Procurement of Film Equipment",className:"w-full px-3 py-2 text-sm text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-300 transition-colors"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:["Date ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"date",value:De,onChange:xs=>Me(xs.target.value),className:"w-full px-3 py-2 text-sm text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-300 transition-colors"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:["Description ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("textarea",{rows:"4",value:Oe,onChange:Ye,placeholder:"Enter a brief description...",className:"w-full px-3 py-2 text-sm text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-300 transition-colors resize-none"}),jsxRuntimeExports.jsxs("div",{className:`absolute bottom-2 right-2 text-xs px-2 py-0.5 rounded ${qe>=30?"bg-red-50 text-red-600":"bg-gray-50 text-gray-500"}`,children:[qe,"/",30]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-1.5",children:["Attachment (PDF)"," ",!Re&&jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),Re&&!ze&&jsxRuntimeExports.jsxs("div",{className:"mb-2 p-3 bg-blue-50 border border-blue-100 rounded-lg flex items-start gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-4 h-4 text-blue-600 flex-shrink-0 mt-0.5"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-blue-700",children:"Current PDF is already uploaded. Upload a new file to replace it."})]}),jsxRuntimeExports.jsxs("div",{className:`border-2 border-dashed rounded-lg p-4 transition-all ${ze?"border-gray-200 bg-gray-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsx("input",{type:"file",id:"pdfUpload",accept:"application/pdf",onChange:rs,className:"hidden"}),ze?jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between bg-white p-3 rounded-lg border border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 overflow-hidden flex-1",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-red-50 rounded-lg flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-red-600"})}),jsxRuntimeExports.jsxs("div",{className:"min-w-0 flex-1",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:ze.name}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:[(ze.size/1024/1024).toFixed(2)," MB"]})]})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ve(null),className:"w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center text-gray-500 hover:text-gray-900 transition-colors flex-shrink-0 ml-2",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]}):jsxRuntimeExports.jsxs("label",{htmlFor:"pdfUpload",className:"cursor-pointer flex flex-col items-center justify-center py-3",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-gray-50 rounded-lg flex items-center justify-center mb-2",children:jsxRuntimeExports.jsx(Upload,{className:"w-6 h-6 text-gray-400"})}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900 mb-0.5",children:Re?"Upload New PDF (Optional)":"Upload PDF"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Maximum file size 5MB"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex justify-between items-center",children:[Re&&jsxRuntimeExports.jsxs("button",{type:"button",onClick:hs,disabled:Ge,className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"}),"Delete"]}),jsxRuntimeExports.jsxs("div",{className:`flex gap-3 ${Re?"":"ml-auto"}`,children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:fs,disabled:Ge,className:"px-4 py-2 text-sm font-medium text-white bg-[#891737] hover:bg-[#891737]/90 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:Ge?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader,{className:"w-4 h-4 animate-spin"}),Re?"Updating...":"Saving..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"}),Re?"Update":"Publish"]})})]})]})]})}const TenderMain=({searchQuery:Re})=>{const[e,Ee]=reactExports.useState([]),[Ce,Te]=reactExports.useState(!1),[De,Me]=reactExports.useState(null),Oe=async()=>{try{console.log("ðŸ“Š Fetching tenders...");const{data:We}=await api.get("/api/tender/tenders");console.log("âœ… Tenders received:",We),Ee(We.tenders||[])}catch(We){console.error("âŒ Failed to fetch tenders:",We)}};reactExports.useEffect(()=>{Oe()},[]);const Be=e.filter(We=>{var Je,Qe;if(!Re)return!0;const Ge=Re.toLowerCase();return((Je=We.title)==null?void 0:Je.toLowerCase().includes(Ge))||((Qe=We.description)==null?void 0:Qe.toLowerCase().includes(Ge))}),ze=We=>{Me(We),Te(!0)},Ve=e.length,qe=e.filter(We=>{const Ge=new Date().toISOString().split("T")[0];return We.date===Ge}).length;return jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 hover:border-gray-200 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Tenders"}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-gray-50 flex items-center justify-center",children:jsxRuntimeExports.jsx(RiContractFill,{className:"w-5 h-5 text-gray-600"})})]}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-semibold text-gray-900",children:Ve})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 hover:border-gray-200 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-500",children:"New Today"}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-purple-50 flex items-center justify-center",children:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-purple-600"})})]}),jsxRuntimeExports.jsx("p",{className:"text-3xl font-semibold text-gray-900",children:qe})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{Me(null),Te(!0)},className:"bg-white rounded-xl border border-gray-100 p-6 hover:border-[#891737] hover:bg-gray-50/50 transition-all text-left group",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-500 group-hover:text-[#891737] transition-colors",children:"Add Tender"}),jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-lg bg-[#891737] flex items-center justify-center group-hover:bg-[#891737]/90 transition-colors",children:jsxRuntimeExports.jsx(CirclePlus,{className:"w-5 h-5 text-white"})})]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Create a new tender"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Tenders"}),jsxRuntimeExports.jsxs("span",{className:"text-xs font-medium text-gray-500",children:[Be.length," ",Be.length===1?"tender":"tenders"]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-50 border-b border-gray-100",children:[jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"#"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Title"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Attachment"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-100",children:Be.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"6",className:"px-5 py-12 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-lg flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(CircleAlert,{className:"h-8 w-8 text-gray-400"})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"No tenders found"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Try adjusting your search or add a new tender"})]})}):Be.map((We,Ge)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors group",children:[jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 text-xs font-medium text-gray-900 whitespace-nowrap",children:Ge+1}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",children:jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900 truncate max-w-[200px]",title:We.title,children:We.title})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",children:jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 line-clamp-2 max-w-xs",children:We.description})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5 text-xs text-gray-600 whitespace-nowrap",children:We.date}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",children:We.pdf?jsxRuntimeExports.jsx("a",{href:We.pdf,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center justify-center w-8 h-8 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors",title:"View PDF",children:jsxRuntimeExports.jsx(FileText,{className:"w-4 h-4"})}):jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:"-"})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3.5",children:jsxRuntimeExports.jsx("div",{className:"flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:jsxRuntimeExports.jsx("button",{onClick:()=>ze(We),className:"w-8 h-8 rounded-lg flex items-center justify-center text-gray-400 hover:text-gray-900 hover:bg-gray-100 transition-colors",title:"View/Edit",children:jsxRuntimeExports.jsx(IoEyeOutline,{className:"w-4 h-4"})})})})]},We.id))})]})})]}),Ce&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-[9999] flex items-center justify-center p-4",children:jsxRuntimeExports.jsx("div",{className:"w-full max-w-lg",children:jsxRuntimeExports.jsx(AddTender,{tenderData:De,onClose:()=>{Te(!1),Me(null),Oe()}})})})]})},BIHAR_DISTRICTS=[{name:"Araria",id:"BR01ARA"},{name:"Arwal",id:"BR02ARW"},{name:"Aurangabad",id:"BR03AUR"},{name:"Banka",id:"BR04BAN"},{name:"Begusarai",id:"BR05BEG"},{name:"Bhagalpur",id:"BR06BHA"},{name:"Bhojpur",id:"BR07BHO"},{name:"Buxar",id:"BR08BUX"},{name:"Darbhanga",id:"BR09DAR"},{name:"East Champaran",id:"BR10EAS"},{name:"Gaya",id:"BR11GAY"},{name:"Gopalganj",id:"BR12GOP"},{name:"Jamui",id:"BR13JAM"},{name:"Jehanabad",id:"BR14JEH"},{name:"Kaimur",id:"BR15KAI"},{name:"Katihar",id:"BR16KAT"},{name:"Khagaria",id:"BR17KHA"},{name:"Kishanganj",id:"BR18KIS"},{name:"Lakhisarai",id:"BR19LAK"},{name:"Madhepura",id:"BR20MAD"},{name:"Madhubani",id:"BR21MDB"},{name:"Munger",id:"BR22MUN"},{name:"Muzaffarpur",id:"BR23MUZ"},{name:"Nalanda",id:"BR24NAL"},{name:"Nawada",id:"BR25NAW"},{name:"Patna",id:"BR26PAT"},{name:"Purnia",id:"BR27PUR"},{name:"Rohtas",id:"BR28ROH"},{name:"Saharsa",id:"BR29SAH"},{name:"Samastipur",id:"BR30SAM"},{name:"Saran",id:"BR31SAR"},{name:"Sheikhpura",id:"BR32SHE"},{name:"Sheohar",id:"BR33SHR"},{name:"Sitamarhi",id:"BR34SIT"},{name:"Siwan",id:"BR35SIW"},{name:"Supaul",id:"BR36SUP"},{name:"Vaishali",id:"BR37VAI"},{name:"West Champaran",id:"BR38WES"}],DistrictPassword=({searchQuery:Re=""})=>{const[e,Ee]=reactExports.useState([]),[Ce,Te]=reactExports.useState(!0),[De,Me]=reactExports.useState([]),[Oe,Be]=reactExports.useState({isOpen:!1,type:"info",title:"",message:"",confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:null}),ze=ys=>{Be({isOpen:!0,confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:null,...ys})},Ve=()=>{Be(ys=>({...ys,isOpen:!1}))},qe=async()=>{try{Te(!0);const ys=await api.get("/api/auth/all-users");if(ys.data.success){const zs=(ys.data.users||[]).filter(Cs=>Cs.role==="district_admin");Ee(zs)}}catch(ys){console.error("Failed to fetch district admins:",ys)}finally{Te(!1)}};reactExports.useEffect(()=>{qe()},[]);const[We,Ge]=reactExports.useState(!1),[Je,Qe]=reactExports.useState(null),[ns,Ye]=reactExports.useState({}),[rs,ts]=reactExports.useState({name:"",email:"",password:"",role:"district_admin",districtName:"",districtId:""}),[Xe,is]=reactExports.useState(null),[os,hs]=reactExports.useState({length:!1,upper:!1,lower:!1,number:!1,special:!1});reactExports.useEffect(()=>{const ys=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;rs.email?is(ys.test(rs.email)):is(null)},[rs.email]),reactExports.useEffect(()=>{const ys=rs.password;hs(ys?{length:ys.length>=8,upper:/[A-Z]/.test(ys),lower:/[a-z]/.test(ys),number:/\d/.test(ys),special:/[@$!%*?&]/.test(ys)}:{length:!1,upper:!1,lower:!1,number:!1,special:!1})},[rs.password]);const fs=Object.values(os).every(Boolean),xs=({fulfilled:ys,text:ks})=>jsxRuntimeExports.jsxs("li",{className:`flex items-center gap-2 text-xs ${ys?"text-green-600":"text-gray-500"}`,children:[ys?jsxRuntimeExports.jsx(MdCheckCircle,{className:"text-green-500"}):jsxRuntimeExports.jsx("div",{className:"w-3.5 h-3.5 rounded-full border border-gray-300"}),ks]}),Ss=BIHAR_DISTRICTS.length,ds=e.length,gs=e.filter(ys=>{var ks,zs,Cs,Ps;return((ks=ys.name)==null?void 0:ks.toLowerCase().includes(Re.toLowerCase()))||((zs=ys.email)==null?void 0:zs.toLowerCase().includes(Re.toLowerCase()))||((Cs=ys.districtName)==null?void 0:Cs.toLowerCase().includes(Re.toLowerCase()))||((Ps=ys.districtId)==null?void 0:Ps.toLowerCase().includes(Re.toLowerCase()))}),Ts=ys=>{Ye(ks=>({...ks,[ys]:!ks[ys]}))},Ds=ys=>{Me(ks=>ks.includes(ys)?ks.filter(zs=>zs!==ys):[...ks,ys])},Ms=()=>{De.length===gs.length?Me([]):Me(gs.map(ys=>ys.id))},bs=ys=>{const ks=ys.target.value,zs=BIHAR_DISTRICTS.find(Ps=>Ps.name===ks),Cs=zs?zs.id:"";ts({...rs,districtName:ks,districtId:Cs})},Ns=async()=>{var ys,ks;if(!rs.name.trim()){ze({type:"warning",title:"Validation Error",message:"Full Name is required."});return}if(!Xe){ze({type:"warning",title:"Validation Error",message:"Please enter a valid email address."});return}if(!fs){ze({type:"warning",title:"Validation Error",message:"Password does not meet security requirements."});return}if(rs.name&&rs.email&&rs.password&&rs.districtName&&rs.districtId)try{console.log("ðŸ“¤ Creating district admin...");const zs=await api.post("/api/auth/create-admin",rs);(zs.status===201||zs.status===200)&&(qe(),ts({name:"",email:"",password:"",role:"district_admin",districtName:"",districtId:""}),Ge(!1),ze({type:"success",title:"Success",message:"District Admin created successfully!"}))}catch(zs){console.error("âŒ Error creating district admin:",zs),ze({type:"error",title:"Error",message:((ks=(ys=zs.response)==null?void 0:ys.data)==null?void 0:ks.message)||"Failed to create District Admin. Please try again."})}else ze({type:"warning",title:"Validation Error",message:"Please fill in all required fields."})},ps=ys=>{Qe(ys),ts({...ys,password:""}),Ge(!0)},_s=async()=>{try{if(rs.password&&rs.password!=="******"){if(!fs){ze({type:"warning",title:"Validation Error",message:"Password does not meet security requirements."});return}await api.post(`/api/auth/update-admin-password/${Je.id}`,{password:rs.password})}qe(),ts({name:"",email:"",password:"",role:"district_admin",districtName:"",districtId:""}),Qe(null),Ge(!1),ze({type:"success",title:"Success",message:"District updated successfully!"})}catch(ys){console.error("âŒ Error updating district:",ys),ze({type:"error",title:"Update Failed",message:"Failed to update district."})}},ws=async ys=>(await api.delete(`/api/auth/delete-admin/${ys}`),ys),js=ys=>{ze({type:"warning",title:"Confirm Delete",message:"Are you sure you want to delete this district admin? This cannot be undone.",showCancel:!0,confirmText:"Delete",onConfirm:async()=>{try{await ws(ys),Ee(ks=>ks.filter(zs=>zs.id!==ys)),Me(ks=>ks.filter(zs=>zs!==ys)),ze({type:"success",title:"Deleted",message:"District Admin deleted successfully!"})}catch(ks){console.error("âŒ Error deleting district:",ks),ze({type:"error",title:"Delete Failed",message:"Failed to delete District Admin."})}}})},ms=()=>{ze({type:"warning",title:"Confirm Bulk Delete",message:`Are you sure you want to delete ${De.length} selected district admins? This action cannot be undone.`,showCancel:!0,confirmText:`Delete ${De.length} Admins`,onConfirm:async()=>{try{await Promise.all(De.map(ys=>ws(ys))),qe(),Me([]),ze({type:"success",title:"Deleted",message:"Selected district admins deleted successfully."})}catch(ys){console.error("Bulk delete error:",ys),ze({type:"error",title:"Delete Failed",message:"Some admins could not be deleted."}),qe()}}})};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("section",{className:"mb-8",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(MetricCard$3,{title:"Total Districts",value:Ss,icon:jsxRuntimeExports.jsx(Users,{className:"h-5 w-5"}),color:"text-[#891737]",bgColor:"bg-[#891737]/10"}),jsxRuntimeExports.jsx(MetricCard$3,{title:"Admins Created",value:ds,icon:jsxRuntimeExports.jsx(UserPlus,{className:"h-5 w-5"}),color:"text-[#891737]",bgColor:"bg-[#891737]/10"})]})}),jsxRuntimeExports.jsxs("section",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:"District Directory"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[De.length>0&&jsxRuntimeExports.jsxs("button",{onClick:ms,className:"px-4 py-2 bg-gray-600 text-white rounded-lg text-sm font-medium hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"}),"Delete Selected (",De.length,")"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{Qe(null),ts({name:"",email:"",password:"",role:"district_admin",districtName:"",districtId:""}),Ge(!0)},className:"px-4 py-2 bg-[#891737] text-white rounded-lg text-sm font-medium hover:bg-[#891737]/90 transition-colors flex items-center gap-2 shadow-sm",children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4"}),"Add District Admin"]})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 w-8",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"rounded border-gray-300 accent-[#891737] focus:ring-[#891737]",checked:gs.length>0&&De.length===gs.length,onChange:Ms})}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Password"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"District Name"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"District ID"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:Ce?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"8",className:"px-6 py-12 text-center",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:0.2s]"}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:0.4s]"})]})})}):gs.length>0?gs.map(ys=>jsxRuntimeExports.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${De.includes(ys.id)?"bg-red-50":""}`,children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"rounded border-gray-300 accent-[#891737] focus:ring-[#891737]",checked:De.includes(ys.id),onChange:()=>Ds(ys.id)})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ys.name}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ys.email}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-mono",children:ns[ys.id]&&ys.password||"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ts(ys.id),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:ns[ys.id]?"Hide password":"Show password"})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ys.role}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ys.districtName}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ys.districtId}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ps(ys),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:jsxRuntimeExports.jsx(Pen,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>js(ys.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})})]},ys.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"8",className:"px-6 py-12 text-center text-sm text-gray-500",children:"No districts found"})})})]})})]}),We&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[9999] p-4 md:p-10 animate-in fade-in duration-200",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-xl overflow-hidden transform scale-100 transition-all max-h-[90vh] flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-6 border-b border-gray-100 flex items-center justify-between bg-gray-50 shrink-0",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-gray-900",children:Je?"Update Administrator":"New District Administrator"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:Je?"Modify access credentials for this district.":"Create access credentials for a new district."})]}),jsxRuntimeExports.jsx("button",{onClick:()=>{Ge(!1),Qe(null),ts({name:"",email:"",password:"",role:"district_admin",districtName:"",districtId:""})},className:"text-gray-400 hover:text-gray-600 transition-colors p-1 hover:bg-gray-200 rounded-full",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Jurisdiction Details"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["District Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Building,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsxs("select",{value:rs.districtName,onChange:bs,className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#891737] focus:border-transparent outline-none transition-all appearance-none",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select District"}),BIHAR_DISTRICTS.map(ys=>jsxRuntimeExports.jsx("option",{value:ys.name,children:ys.name},ys.id))]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["District ID ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 font-normal ml-1",children:"(Auto-assigned)"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Hash,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",value:rs.districtId,readOnly:!0,className:"w-full pl-10 pr-4 py-2.5 bg-gray-100 border border-gray-200 rounded-lg text-sm text-gray-500 cursor-not-allowed font-mono"})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"h-px bg-gray-100 w-full"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Administrator Details"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Full Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",value:rs.name,onChange:ys=>{/^[a-zA-Z\s]*$/.test(ys.target.value)&&ts({...rs,name:ys.target.value})},className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#891737] focus:border-transparent outline-none transition-all placeholder:text-gray-300",placeholder:"e.g. Rahul Kumar"})]})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Email Address ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"email",value:rs.email,onChange:ys=>ts({...rs,email:ys.target.value}),className:`w-full pl-10 pr-10 py-2.5 bg-white border ${Xe===!1?"border-red-500 focus:ring-red-200":Xe===!0?"border-green-500 focus:ring-green-200":"border-gray-200 focus:ring-[#891737]"} rounded-lg text-sm focus:ring-2 focus:border-transparent outline-none transition-all placeholder:text-gray-300`,placeholder:"e.g. district.admin@bihar.gov.in"}),Xe===!0&&jsxRuntimeExports.jsx("span",{className:"absolute text-lg right-3 top-1/2 -translate-y-1/2 text-green-500",children:jsxRuntimeExports.jsx(MdCheckCircle,{})}),Xe===!1&&jsxRuntimeExports.jsx("span",{className:"absolute text-lg right-3 top-1/2 -translate-y-1/2 text-red-500",title:"Invalid email format",children:jsxRuntimeExports.jsx(MdCancel,{})})]}),Xe===!1&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Please enter a valid email address."})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Password ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Lock,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"password",value:rs.password,onChange:ys=>ts({...rs,password:ys.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#891737] focus:border-transparent outline-none transition-all placeholder:text-gray-300",placeholder:Je?"Leave blank to keep current password":"Create a secure password",autoComplete:"new-password"})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Password must contain:"}),jsxRuntimeExports.jsxs("ul",{className:"grid grid-cols-1 gap-1",children:[jsxRuntimeExports.jsx(xs,{fulfilled:os.length,text:"At least 8 characters"}),jsxRuntimeExports.jsx(xs,{fulfilled:os.upper,text:"One uppercase letter"}),jsxRuntimeExports.jsx(xs,{fulfilled:os.lower,text:"One lowercase letter"}),jsxRuntimeExports.jsx(xs,{fulfilled:os.number,text:"One number"}),jsxRuntimeExports.jsx(xs,{fulfilled:os.special,text:"One special character (@$!%*?&)"})]})]})]})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"px-8 py-5 border-t border-gray-100 flex items-center justify-end gap-3 bg-gray-50",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{Ge(!1),Qe(null),ts({name:"",email:"",password:"",role:"district_admin",districtName:"",districtId:""})},className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-white hover:border-gray-400 hover:shadow-sm transition-all text-sm font-medium",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{onClick:Je?_s:Ns,className:"px-6 py-2.5 bg-[#891737] text-white rounded-lg hover:bg-[#891737]/90 hover:shadow-lg hover:shadow-[#891737]/20 transition-all text-sm font-medium flex items-center gap-2",children:[Je?"Save Changes":"Create Administrator",jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"})]})]})]})}),jsxRuntimeExports.jsx(AlertBox,{isOpen:Oe.isOpen,onClose:Ve,type:Oe.type,title:Oe.title,message:Oe.message,confirmText:Oe.confirmText,cancelText:Oe.cancelText,showCancel:Oe.showCancel,onConfirm:Oe.onConfirm})]})},MetricCard$3=({title:Re,value:e,icon:Ee,color:Ce,bgColor:Te})=>jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 rounded-2xl p-6 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-500",children:Re}),jsxRuntimeExports.jsx("div",{className:`w-10 h-10 rounded-lg ${Te} flex items-center justify-center ${Ce}`,children:Ee})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("p",{className:"text-3xl font-semibold text-gray-900",children:e})})]}),DEPARTMENTS=[{name:"Agriculture Department, Bihar",id:"DEP01AGR"},{name:"Animal and Fisheries Resources Department, Bihar",id:"DEP02AFR"},{name:"Backward Classes & Extremely Backward Classes Welfare Department, Bihar",id:"DEP03BCE"},{name:"Building Construction Department, Bihar",id:"DEP04BCD"},{name:"Cabinet Secretariat Department, Bihar",id:"DEP05CSD"},{name:"Co-operative Department, Bihar",id:"DEP06COD"},{name:"Commercial Taxes Department, Bihar",id:"DEP07CTD"},{name:"Disaster Management Department, Bihar",id:"DEP08DMD"},{name:"Education Department, Bihar",id:"DEP09EDU"},{name:"Higher Education Department, Bihar",id:"DEP10HED"},{name:"Energy Department, Bihar",id:"DEP11ENE"},{name:"Environment, Forest & Climate Change Department, Bihar",id:"DEP12EFC"},{name:"Finance Department, Bihar",id:"DEP13FIN"},{name:"Food & Consumer Protection Department, Bihar",id:"DEP14FCP"},{name:"General Administration Department (GAD), Bihar",id:"DEP15GAD"},{name:"Health & Family Welfare Department, Bihar",id:"DEP16HFW"},{name:"Home Department, Bihar",id:"DEP17HOM"},{name:"Industries Department, Bihar",id:"DEP18IND"},{name:"Information & Public Relations Department, Bihar",id:"DEP19IPR"},{name:"Information Technology Department, Bihar",id:"DEP20ITD"},{name:"Labour Resources (Employment & Training) Department, Bihar",id:"DEP21LRE"},{name:"Law Department, Bihar",id:"DEP22LAW"},{name:"Mines & Geology Department, Bihar",id:"DEP23MGD"},{name:"Minor Water Resources Department, Bihar",id:"DEP24MWR"},{name:"Water Resources / Irrigation Department, Bihar",id:"DEP25WRD"},{name:"Minority Welfare Department, Bihar",id:"DEP26MWD"},{name:"Panchayati Raj Department, Bihar",id:"DEP27PRD"},{name:"Parliamentary Affairs Department, Bihar",id:"DEP28PAD"},{name:"Planning & Development Department, Bihar",id:"DEP29PDD"},{name:"Public Health Engineering Department (Water Supply & Sanitation), Bihar",id:"DEP30PHE"},{name:"Revenue & Land Reforms Department, Bihar",id:"DEP31RLR"},{name:"Road Construction / Public Works Department, Bihar",id:"DEP32RCD"},{name:"Rural Development Department, Bihar",id:"DEP33RDD"},{name:"Science, Technology & Technical Education Department, Bihar",id:"DEP34STT"},{name:"Social Welfare Department, Bihar",id:"DEP35SWD"},{name:"Sports, Art, Culture & Youth Department, Bihar",id:"DEP36SAC"},{name:"Tourism Department, Bihar",id:"DEP37TOU"},{name:"Transport Department, Bihar",id:"DEP38TRA"},{name:"Urban Development & Housing Department, Bihar",id:"DEP39UDH"},{name:"Vigilance Department, Bihar",id:"DEP40VIG"},{name:"Prohibition, Excise & Registration Department, Bihar",id:"DEP41PER"},{name:"Scheduled Castes & Scheduled Tribes Welfare Department, Bihar",id:"DEP42SCS"},{name:"Women & Child Development Department, Bihar",id:"DEP43WCD"},{name:"Sugarcane Industries Department, Bihar",id:"DEP44SID"},{name:"Co-operative Development Department / Cooperative Department (alternate listing)",id:"DEP45CDD"},{name:"Attached Directorates, Boards & Undertakings (e.g., BIADA, BCECEB, BSRTC etc.)",id:"DEP46ADB"}],DepartmentManager=({searchQuery:Re=""})=>{const[e,Ee]=reactExports.useState([]),[Ce,Te]=reactExports.useState(!0),[De,Me]=reactExports.useState([]),[Oe,Be]=reactExports.useState({isOpen:!1,type:"info",title:"",message:"",confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:null}),ze=ys=>{Be({isOpen:!0,confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:null,...ys})},Ve=()=>{Be(ys=>({...ys,isOpen:!1}))},qe=async()=>{try{Te(!0);const ys=await api.get("/api/auth/all-users");if(ys.data.success){const zs=(ys.data.users||[]).filter(Cs=>Cs.role==="department_admin");Ee(zs)}}catch(ys){console.error("Failed to fetch department admins:",ys)}finally{Te(!1)}};reactExports.useEffect(()=>{qe()},[]);const[We,Ge]=reactExports.useState(!1),[Je,Qe]=reactExports.useState(null),[ns,Ye]=reactExports.useState({}),[rs,ts]=reactExports.useState({name:"",email:"",password:"",role:"department_admin",departmentName:"",departmentId:""}),[Xe,is]=reactExports.useState(null),[os,hs]=reactExports.useState({length:!1,upper:!1,lower:!1,number:!1,special:!1});reactExports.useEffect(()=>{const ys=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;rs.email?is(ys.test(rs.email)):is(null)},[rs.email]),reactExports.useEffect(()=>{const ys=rs.password;hs(ys?{length:ys.length>=8,upper:/[A-Z]/.test(ys),lower:/[a-z]/.test(ys),number:/\d/.test(ys),special:/[@$!%*?&]/.test(ys)}:{length:!1,upper:!1,lower:!1,number:!1,special:!1})},[rs.password]);const fs=Object.values(os).every(Boolean),xs=({fulfilled:ys,text:ks})=>jsxRuntimeExports.jsxs("li",{className:`flex items-center gap-2 text-xs ${ys?"text-green-600":"text-gray-500"}`,children:[ys?jsxRuntimeExports.jsx(MdCheckCircle,{className:"text-green-500"}):jsxRuntimeExports.jsx("div",{className:"w-3.5 h-3.5 rounded-full border border-gray-300"}),ks]}),Ss=DEPARTMENTS.length,ds=e.length,gs=e.filter(ys=>{var ks,zs,Cs,Ps;return((ks=ys.name)==null?void 0:ks.toLowerCase().includes(Re.toLowerCase()))||((zs=ys.email)==null?void 0:zs.toLowerCase().includes(Re.toLowerCase()))||((Cs=ys.departmentName)==null?void 0:Cs.toLowerCase().includes(Re.toLowerCase()))||((Ps=ys.departmentId)==null?void 0:Ps.toLowerCase().includes(Re.toLowerCase()))}),Ts=ys=>{Ye(ks=>({...ks,[ys]:!ks[ys]}))},Ds=ys=>{Me(ks=>ks.includes(ys)?ks.filter(zs=>zs!==ys):[...ks,ys])},Ms=()=>{De.length===gs.length?Me([]):Me(gs.map(ys=>ys.id))},bs=ys=>{const ks=ys.target.value,zs=DEPARTMENTS.find(Ps=>Ps.name===ks),Cs=zs?zs.id:"";ts({...rs,departmentName:ks,departmentId:Cs})},Ns=async()=>{var ks,zs;if(!rs.name.trim()){ze({type:"warning",title:"Validation Error",message:"Full Name is required."});return}if(!Xe){ze({type:"warning",title:"Validation Error",message:"Please enter a valid email address."});return}if(!fs){ze({type:"warning",title:"Validation Error",message:"Password does not meet security requirements."});return}if(!DEPARTMENTS.some(Cs=>Cs.name===rs.departmentName&&Cs.id===rs.departmentId)){ze({type:"error",title:"Validation Error",message:"Invalid Department Name or ID combination."});return}if(rs.name&&rs.email&&rs.password&&rs.departmentName&&rs.departmentId)try{console.log("ðŸ“¤ Creating department admin...",rs);const Cs=await api.post("/api/auth/create-admin",rs);(Cs.status===201||Cs.status===200)&&(qe(),ts({name:"",email:"",password:"",role:"department_admin",departmentName:"",departmentId:""}),Ge(!1),ze({type:"success",title:"Success",message:"Department Admin created successfully!"}))}catch(Cs){console.error("âŒ Error creating department admin:",Cs),ze({type:"error",title:"Error",message:((zs=(ks=Cs.response)==null?void 0:ks.data)==null?void 0:zs.message)||"Failed to create Department Admin. Please try again."})}else ze({type:"warning",title:"Validation Error",message:"Please fill in all required fields."})},ps=ys=>{Qe(ys),ts({...ys,password:""}),Ge(!0)},_s=async()=>{try{if(rs.password&&rs.password!=="******"){if(!fs){ze({type:"warning",title:"Validation Error",message:"Password does not meet security requirements."});return}await api.post(`/api/auth/update-admin-password/${Je.id}`,{password:rs.password})}qe(),ts({name:"",email:"",password:"",role:"department_admin",departmentName:"",departmentId:""}),Qe(null),Ge(!1),ze({type:"success",title:"Success",message:"Department updated successfully!"})}catch(ys){console.error("âŒ Error updating department:",ys),ze({type:"error",title:"Update Failed",message:"Failed to update department."})}},ws=async ys=>(await api.delete(`/api/auth/delete-admin/${ys}`),ys),js=ys=>{ze({type:"warning",title:"Confirm Delete",message:"Are you sure you want to delete this department admin? This cannot be undone.",showCancel:!0,confirmText:"Delete",onConfirm:async()=>{try{await ws(ys),Ee(ks=>ks.filter(zs=>zs.id!==ys)),Me(ks=>ks.filter(zs=>zs!==ys)),ze({type:"success",title:"Deleted",message:"Department Admin deleted successfully!"})}catch(ks){console.error("âŒ Error deleting department:",ks),ze({type:"error",title:"Delete Failed",message:"Failed to delete Department Admin."})}}})},ms=()=>{ze({type:"warning",title:"Confirm Bulk Delete",message:`Are you sure you want to delete ${De.length} selected department admins? This action cannot be undone.`,showCancel:!0,confirmText:`Delete ${De.length} Admins`,onConfirm:async()=>{try{await Promise.all(De.map(ys=>ws(ys))),qe(),Me([]),ze({type:"success",title:"Deleted",message:"Selected department admins deleted successfully."})}catch(ys){console.error("Bulk delete error:",ys),ze({type:"error",title:"Delete Failed",message:"Some admins could not be deleted."}),qe()}}})};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("section",{className:"mb-8",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(MetricCard$2,{title:"Total Departments",value:Ss,icon:jsxRuntimeExports.jsx(Users,{className:"h-5 w-5"}),color:"text-[#891737]",bgColor:"bg-[#891737]/10"}),jsxRuntimeExports.jsx(MetricCard$2,{title:"Admins Created",value:ds,icon:jsxRuntimeExports.jsx(UserPlus,{className:"h-5 w-5"}),color:"text-[#891737]",bgColor:"bg-[#891737]/10"})]})}),jsxRuntimeExports.jsxs("section",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden shadow-sm",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between bg-gray-50",children:[jsxRuntimeExports.jsx("h2",{className:"text-lg font-semibold text-gray-900 flex items-center gap-2",children:"Department Directory"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[De.length>0&&jsxRuntimeExports.jsxs("button",{onClick:ms,className:"px-4 py-2 bg-gray-600 text-white rounded-lg text-sm font-medium hover:bg-gray-700 transition-colors flex items-center gap-2 shadow-sm",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"}),"Delete Selected (",De.length,")"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{Qe(null),ts({name:"",email:"",password:"",role:"department_admin",departmentName:"",departmentId:""}),Ge(!0)},className:"px-4 py-2 bg-[#891737] text-white rounded-lg text-sm font-medium hover:bg-[#891737]/90 transition-colors flex items-center gap-2 shadow-sm",children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4"}),"Add Department Admin"]})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-3 w-8",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"rounded border-gray-300 accent-[#891737] focus:ring-[#891737]",checked:gs.length>0&&De.length===gs.length,onChange:Ms})}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Password"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department Name"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department ID"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:Ce?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"8",className:"px-6 py-12 text-center",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:0.2s]"}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:0.4s]"})]})})}):gs.length>0?gs.map(ys=>jsxRuntimeExports.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${De.includes(ys.id)?"bg-red-50":""}`,children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-4",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"rounded border-gray-300 accent-[#891737] focus:ring-[#891737]",checked:De.includes(ys.id),onChange:()=>Ds(ys.id)})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ys.name}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ys.email}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"font-mono",children:ns[ys.id]&&ys.password||"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ts(ys.id),className:"p-1 text-gray-400 hover:text-gray-600 transition-colors",title:ns[ys.id]?"Hide password":"Show password"})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ys.role}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ys.departmentName}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ys.departmentId}),jsxRuntimeExports.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ps(ys),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Edit",children:jsxRuntimeExports.jsx(Pen,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:()=>js(ys.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"})})]})})]},ys.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"8",className:"px-6 py-12 text-center text-sm text-gray-500",children:"No departments found"})})})]})})]}),We&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[9999] p-4 md:p-10 animate-in fade-in duration-200",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-xl overflow-hidden transform scale-100 transition-all max-h-[90vh] flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-6 border-b border-gray-100 flex items-center justify-between bg-gray-50 shrink-0",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-gray-900",children:Je?"Update Administrator":"New Department Administrator"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-0.5",children:Je?"Modify access credentials for this department.":"Create access credentials for a new department."})]}),jsxRuntimeExports.jsx("button",{onClick:()=>{Ge(!1),Qe(null),ts({name:"",email:"",password:"",role:"department_admin",departmentName:"",departmentId:""})},className:"text-gray-400 hover:text-gray-600 transition-colors p-1 hover:bg-gray-200 rounded-full",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Jurisdiction Details"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Department Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Building,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsxs("select",{value:rs.departmentName,onChange:bs,className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#891737] focus:border-transparent outline-none transition-all appearance-none",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Department"}),DEPARTMENTS.map(ys=>jsxRuntimeExports.jsx("option",{value:ys.name,children:ys.name},ys.id))]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Department ID ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"}),jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400 font-normal ml-1",children:"(Auto-assigned)"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Hash,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",value:rs.departmentId,readOnly:!0,className:"w-full pl-10 pr-4 py-2.5 bg-gray-100 border border-gray-200 rounded-lg text-sm text-gray-500 cursor-not-allowed font-mono"})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"h-px bg-gray-100 w-full"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-xs font-semibold text-gray-400 uppercase tracking-wider mb-4",children:"Administrator Details"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-5",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Full Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(User,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",value:rs.name,onChange:ys=>{/^[a-zA-Z\s]*$/.test(ys.target.value)&&ts({...rs,name:ys.target.value})},className:"w-full pl-10 pr-4 py-2.5 bg-white border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#891737] focus:border-transparent outline-none transition-all placeholder:text-gray-300",placeholder:"e.g. Rahul Kumar"})]})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Email Address ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Mail,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"email",value:rs.email,onChange:ys=>ts({...rs,email:ys.target.value}),className:`w-full pl-10 pr-10 py-2.5 bg-white border ${Xe===!1?"border-red-500 focus:ring-red-200":Xe===!0?"border-green-500 focus:ring-green-200":"border-gray-200 focus:ring-[#891737]"} rounded-lg text-sm focus:ring-2 focus:border-transparent outline-none transition-all placeholder:text-gray-300`,placeholder:"e.g. department.admin@bihar.gov.in"}),Xe===!0&&jsxRuntimeExports.jsx("span",{className:"absolute text-lg right-3 top-1/2 -translate-y-1/2 text-green-500",children:jsxRuntimeExports.jsx(MdCheckCircle,{})}),Xe===!1&&jsxRuntimeExports.jsx("span",{className:"absolute text-lg right-3 top-1/2 -translate-y-1/2 text-red-500",title:"Invalid email format",children:jsxRuntimeExports.jsx(MdCancel,{})})]}),Xe===!1&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Please enter a valid email address."})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:["Password ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx(Lock,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",value:rs.password,onChange:ys=>ts({...rs,password:ys.target.value}),className:"w-full pl-10 pr-10 py-2.5 bg-white border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-[#891737] focus:border-transparent outline-none transition-all placeholder:text-gray-300 font-mono",placeholder:"Enter a strong password"}),rs.password&&jsxRuntimeExports.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 flex items-center gap-2",children:fs?jsxRuntimeExports.jsx(MdCheckCircle,{className:"text-green-500 text-lg"}):jsxRuntimeExports.jsx("div",{className:"text-xs text-orange-500 font-medium px-2 py-0.5 bg-orange-50 rounded",children:"Weak"})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsx(xs,{fulfilled:os.length,text:"At least 8 characters"}),jsxRuntimeExports.jsx(xs,{fulfilled:os.upper,text:"One uppercase letter"}),jsxRuntimeExports.jsx(xs,{fulfilled:os.lower,text:"One lowercase letter"}),jsxRuntimeExports.jsx(xs,{fulfilled:os.number,text:"One number"}),jsxRuntimeExports.jsx(xs,{fulfilled:os.special,text:"One special character"})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"h-px bg-gray-100 w-full"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-3 pt-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{Ge(!1),Qe(null)},className:"px-5 py-2.5 bg-gray-100 text-gray-700 font-medium rounded-lg hover:bg-gray-200 transition-colors text-sm",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:Je?_s:Ns,className:"px-5 py-2.5 bg-[#891737] text-white font-medium rounded-lg hover:bg-[#891737]/90 transition-colors text-sm shadow-sm flex items-center gap-2",children:Je?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"}),"Update Administrator"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(UserPlus,{className:"w-4 h-4"}),"Create Administrator"]})})]})]})})]})}),jsxRuntimeExports.jsx(AlertBox,{isOpen:Oe.isOpen,type:Oe.type,title:Oe.title,message:Oe.message,confirmText:Oe.confirmText,cancelText:Oe.cancelText,showCancel:Oe.showCancel,onConfirm:()=>{Oe.onConfirm&&Oe.onConfirm(),Ve()},onCancel:Ve})]})},MetricCard$2=({title:Re,value:e,icon:Ee,color:Ce,bgColor:Te})=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-5 rounded-xl border border-gray-100 shadow-sm flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-gray-500 text-xs font-semibold uppercase tracking-wider mb-1",children:Re}),jsxRuntimeExports.jsx("p",{className:"text-2xl font-bold text-gray-900",children:e})]}),jsxRuntimeExports.jsx("div",{className:`p-3 rounded-lg ${Te} ${Ce}`,children:Ee})]}),UserManager=({searchQuery:Re=""})=>{const[e,Ee]=reactExports.useState("Filmmaker"),[Ce,Te]=reactExports.useState([]),[De,Me]=reactExports.useState([]),[Oe,Be]=reactExports.useState([]),[ze,Ve]=reactExports.useState(!0),[qe,We]=reactExports.useState([]),[Ge,Je]=reactExports.useState({isOpen:!1,type:"info",title:"",message:"",confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:null}),Qe=Is=>{Je({isOpen:!0,confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:null,...Is})},ns=()=>{Je(Is=>({...Is,isOpen:!1}))},Ye=async()=>{try{Ve(!0);const Is=await api.get("/api/auth/all-users");if(Is.data.success){const Vs=Is.data.users||[];Te(Vs.filter(Ks=>Ks.role==="filmmaker")),Me(Vs.filter(Ks=>Ks.role==="vendor")),Be(Vs.filter(Ks=>Ks.role==="artist"))}}catch(Is){console.error("Failed to fetch users:",Is)}finally{Ve(!1)}};reactExports.useEffect(()=>{Ye()},[]),reactExports.useEffect(()=>{We([])},[e]);const[rs,ts]=reactExports.useState(!1),[Xe,is]=reactExports.useState(null),[os,hs]=reactExports.useState(!1),[fs,xs]=reactExports.useState({password:""}),[Ss,ds]=reactExports.useState({length:!1,upper:!1,lower:!1,number:!1,special:!1});reactExports.useEffect(()=>{const Is=fs.password;ds(Is?{length:Is.length>=8,upper:/[A-Z]/.test(Is),lower:/[a-z]/.test(Is),number:/\d/.test(Is),special:/[@$!%*?&]/.test(Is)}:{length:!1,upper:!1,lower:!1,number:!1,special:!1})},[fs.password]);const gs=Object.values(Ss).every(Boolean),Ts=({fulfilled:Is,text:Vs})=>jsxRuntimeExports.jsxs("li",{className:`flex items-center gap-2 text-xs ${Is?"text-green-600":"text-gray-500"}`,children:[Is?jsxRuntimeExports.jsx(MdCheckCircle,{className:"text-green-500"}):jsxRuntimeExports.jsx("div",{className:"w-3.5 h-3.5 rounded-full border border-gray-300"}),Vs]}),Ds=()=>{switch(e){case"Filmmaker":return{data:Ce,setter:Te,icon:jsxRuntimeExports.jsx(Film,{className:"w-5 h-5"}),color:"text-[#891737]"};case"Vendor":return{data:De,setter:Me,icon:jsxRuntimeExports.jsx(Store,{className:"w-5 h-5"}),color:"text-[#891737]"};case"Artist":return{data:Oe,setter:Be,icon:jsxRuntimeExports.jsx(Palette,{className:"w-5 h-5"}),color:"text-[#891737]"};default:return{data:[],setter:()=>{},icon:jsxRuntimeExports.jsx(Users,{className:"w-5 h-5"}),color:"text-gray-600"}}},{data:Ms,setter:bs,icon:Ns,color:ps}=Ds(),_s=Ms.length,ws=Ms.filter(Is=>{var Vs,Ks;return((Vs=Is.name)==null?void 0:Vs.toLowerCase().includes(Re.toLowerCase()))||((Ks=Is.email)==null?void 0:Ks.toLowerCase().includes(Re.toLowerCase()))}),js=Is=>{We(Vs=>Vs.includes(Is)?Vs.filter(Ks=>Ks!==Is):[...Vs,Is])},ms=()=>{qe.length===ws.length?We([]):We(ws.map(Is=>Is.id))},ys=Is=>{is(Is),xs({password:""}),hs(!1),ts(!0)},ks=async()=>{var Is,Vs;if(!fs.password){Qe({type:"warning",title:"Validation Error",message:"Please enter a new password."});return}if(!gs){Qe({type:"warning",title:"Validation Error",message:"Password does not meet security requirements."});return}try{console.log("ðŸ“¤ Updating user password..."),await api.put(`/api/auth/change-user-password/${Xe.id}`,{password:fs.password,newPassword:fs.password}),Qe({type:"success",title:"Success",message:"Password updated successfully!"}),Ye(),ts(!1),is(null),xs({password:""})}catch(Ks){console.error("âŒ Error updating password:",Ks),Qe({type:"error",title:"Update Failed",message:((Vs=(Is=Ks.response)==null?void 0:Is.data)==null?void 0:Vs.message)||"Failed to update password."})}},zs=async Is=>(await api.delete(`/api/auth/delete-user/${Is}`),Is),Cs=Is=>{Qe({type:"warning",title:"Confirm Delete",message:`Are you sure you want to delete this ${e}? This action cannot be undone.`,showCancel:!0,confirmText:"Delete",onConfirm:async()=>{try{await zs(Is);const Vs=Ms.filter(Ks=>Ks.id!==Is);bs(Vs),We(Ks=>Ks.filter(or=>or!==Is)),Qe({type:"success",title:"Deleted",message:`${e} deleted successfully.`})}catch{Qe({type:"error",title:"Delete Failed",message:"Failed to delete user."})}}})},Ps=()=>{Qe({type:"warning",title:"Confirm Bulk Delete",message:`Are you sure you want to delete ${qe.length} selected ${e}s? This action cannot be undone.`,showCancel:!0,confirmText:`Delete ${qe.length} Users`,onConfirm:async()=>{try{await Promise.all(qe.map(Vs=>zs(Vs)));const Is=Ms.filter(Vs=>!qe.includes(Vs.id));bs(Is),We([]),Qe({type:"success",title:"Deleted",message:"Selected users deleted successfully."})}catch(Is){console.error("Bulk delete error:",Is),Qe({type:"error",title:"Delete Failed",message:"Some users could not be deleted."}),Ye()}}})},Us=Is=>Is?new Date(Is).toLocaleString("en-IN",{day:"2-digit",month:"short",year:"2-digit",hour:"2-digit",minute:"2-digit"}):"N/A";return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"flex space-x-1 rounded-xl bg-gray-100 p-1 mb-6 w-fit",children:["Filmmaker","Vendor","Artist"].map(Is=>jsxRuntimeExports.jsx("button",{onClick:()=>Ee(Is),className:`
                            w-32 rounded-lg py-2.5 text-sm font-medium leading-5 transition-all
                            ${e===Is?"bg-white text-[#891737] shadow":"text-gray-600 hover:bg-white/[0.12] hover:text-[#891737]"}
                        `,children:Is},Is))}),jsxRuntimeExports.jsx("section",{className:"mb-8",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(MetricCard$1,{title:`Total ${e}s`,value:_s,icon:Ns,color:ps}),jsxRuntimeExports.jsx(InstructionCard,{title:"Password Management",description:"Admins can securely update user passwords. Click the edit icon in any row to set a new password. All changes are encrypted.",icon:jsxRuntimeExports.jsx("div",{className:"text-[#891737]",children:jsxRuntimeExports.jsx(Pen,{className:"w-5 h-5"})}),color:"bg-red-50"})]})}),jsxRuntimeExports.jsxs("section",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 bg-gray-200 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:[e," Directory"]}),qe.length>0&&jsxRuntimeExports.jsxs("button",{onClick:Ps,className:"px-4 py-2 bg-gray-500 text-white rounded-lg text-sm font-medium hover:bg-gray-700 transition-colors flex items-center gap-2",children:[jsxRuntimeExports.jsx(Trash2,{className:"w-4 h-4"}),"Delete Selected (",qe.length,")"]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50 border-b border-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 w-8",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"rounded border-gray-300 accent-[#891737] focus:ring-[#891737]",checked:ws.length>0&&qe.length===ws.length,onChange:ms})}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Name"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Email"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Last Login"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Created At"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Updated At"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Password"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider whitespace-nowrap",children:"Action"})]})}),jsxRuntimeExports.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:ze?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"8",className:"px-6 py-12 text-center",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-center items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:0.2s]"}),jsxRuntimeExports.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce [animation-delay:0.4s]"})]})})}):ws.length>0?ws.map(Is=>jsxRuntimeExports.jsxs("tr",{className:`hover:bg-gray-50 transition-colors ${qe.includes(Is.id)?"bg-red-50":""}`,children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-3",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"rounded border-gray-300 accent-[#891737] focus:ring-[#891737]",checked:qe.includes(Is.id),onChange:()=>js(Is.id)})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-xs font-medium text-gray-900",children:Is.name}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-xs text-gray-600",children:Is.email}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-xs text-gray-500",children:Us(Is.lastLogin)}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-xs text-gray-500",children:Us(Is.createdAt)}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-xs text-gray-500",children:Us(Is.updatedAt)}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-xs text-gray-600",children:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1",children:jsxRuntimeExports.jsx("span",{className:"font-mono text-[10px]",children:"Hidden"})})}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-xs",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ys(Is),className:"p-1.5 text-[#891737] hover:text-white hover:bg-[#891737] rounded-lg transition-colors",title:"Change Password",children:jsxRuntimeExports.jsx(Pen,{className:"w-3 h-3"})}),jsxRuntimeExports.jsx("button",{onClick:()=>Cs(Is.id),className:"p-1.5 text-[#891737] hover:text-white hover:bg-[#891737] rounded-lg transition-colors",title:"Delete",children:jsxRuntimeExports.jsx(Trash2,{className:"w-3 h-3"})})]})})]},Is.id)):jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsxs("td",{colSpan:"8",className:"px-6 py-12 text-center text-sm text-gray-500",children:["No ",e.toLowerCase(),"s found"]})})})]})})]}),rs&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-[9999] p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Update Password"}),jsxRuntimeExports.jsx("button",{onClick:()=>{ts(!1),is(null),xs({password:""})},className:"text-gray-400 hover:text-gray-600 transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg border border-gray-100 mb-4",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["Updating password for:"," ",jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-900",children:Xe==null?void 0:Xe.name})]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Xe==null?void 0:Xe.email})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:["New Password ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:os?"text":"password",value:fs.password,onChange:Is=>xs({...fs,password:Is.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-[#891737] focus:border-transparent pr-10",placeholder:"Enter new password"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>hs(!os),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none",children:os?jsxRuntimeExports.jsx(EyeOff,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(Eye,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-3 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-semibold text-gray-600 mb-2",children:"Password must contain:"}),jsxRuntimeExports.jsxs("ul",{className:"grid grid-cols-1 gap-1",children:[jsxRuntimeExports.jsx(Ts,{fulfilled:Ss.length,text:"At least 8 characters"}),jsxRuntimeExports.jsx(Ts,{fulfilled:Ss.upper,text:"One uppercase letter"}),jsxRuntimeExports.jsx(Ts,{fulfilled:Ss.lower,text:"One lowercase letter"}),jsxRuntimeExports.jsx(Ts,{fulfilled:Ss.number,text:"One number"}),jsxRuntimeExports.jsx(Ts,{fulfilled:Ss.special,text:"One special character (@$!%*?&)"})]})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-t border-gray-100 flex items-center justify-end gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>{ts(!1),is(null),xs({password:""})},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors text-sm font-medium",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:ks,className:"px-6 py-2 bg-[#891737] text-white rounded-lg hover:bg-[#891737]/90 transition-colors text-sm font-medium",children:"Update Password"})]})]})}),jsxRuntimeExports.jsx(AlertBox,{isOpen:Ge.isOpen,onClose:ns,type:Ge.type,title:Ge.title,message:Ge.message,confirmText:Ge.confirmText,cancelText:Ge.cancelText,showCancel:Ge.showCancel,onConfirm:Ge.onConfirm})]})},MetricCard$1=({title:Re,value:e,icon:Ee,color:Ce})=>jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 rounded-2xl p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-500",children:Re}),jsxRuntimeExports.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${Ce}`,children:Ee})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("p",{className:"text-3xl font-semibold text-gray-900",children:e})})]}),InstructionCard=({title:Re,description:e,icon:Ee,color:Ce})=>jsxRuntimeExports.jsxs("div",{className:"bg-gray-100 rounded-2xl p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-500",children:Re}),jsxRuntimeExports.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${Ce}`,children:Ee})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:e})})]}),Dashboard=()=>{console.log("ðŸ  Dashboard component rendered"),reactExports.useEffect(()=>(console.log("ðŸ  Dashboard mounted - I'm alive!"),()=>{console.log("ðŸ’€ Dashboard UNMOUNTING - WHO KILLED ME?!"),console.trace()}),[]);const[Re,e]=reactExports.useState("Overview"),[Ee,Ce]=reactExports.useState(!1),[Te,De]=reactExports.useState({name:"",email:""}),[Me,Oe]=reactExports.useState({total:0,approved:0,pending:0,rejected:0}),[Be,ze]=reactExports.useState(""),[Ve,qe]=reactExports.useState(!1),We=useNavigate(),[Ge,Je]=reactExports.useState({isOpen:!1,type:"info",title:"",message:"",confirmText:"OK",showCancel:!1,onConfirm:null,autoClose:!1}),Qe=ts=>{Je({isOpen:!0,type:ts.type||"info",title:ts.title||"",message:ts.message||"",confirmText:ts.confirmText||"OK",cancelText:ts.cancelText||"Cancel",showCancel:ts.showCancel||!1,onConfirm:ts.onConfirm||null,autoClose:ts.autoClose||!1,duration:ts.duration||3e3})},ns=()=>{Je({...Ge,isOpen:!1})},Ye=()=>{Qe({type:"warning",title:"Logout Confirmation",message:"Are you sure you want to logout?",confirmText:"Yes, Logout",cancelText:"Cancel",showCancel:!0,onConfirm:async()=>{try{await api.post("/api/auth/logout")}catch(ts){console.error("Logout API call failed:",ts)}localStorage.removeItem("authToken"),localStorage.removeItem("user"),localStorage.removeItem("userData"),localStorage.removeItem("nocApplications"),Qe({type:"success",title:"Logged Out",message:"You have been successfully logged out.",confirmText:"OK",autoClose:!0,duration:2e3,onConfirm:()=>{We("/login",{replace:!0})}}),setTimeout(()=>{We("/login",{replace:!0})},2e3)}})};reactExports.useEffect(()=>{(async()=>{try{const Xe=await api.get("/api/auth/me");Xe.data.success&&Xe.data.user&&De({name:Xe.data.user.name,email:Xe.data.user.email})}catch(Xe){console.error("Failed to fetch admin profile:",Xe)}})()},[]),reactExports.useEffect(()=>{(async()=>{try{const{data:Xe}=await api.get("/api/adminApplication/allApplications"),is=(Xe.data||[]).filter(hs=>{const fs=hs.forms||{},xs=hs.steps||{},Ss=xs.annexureOneSubmitted||!!fs.annexureOne,ds=xs.nocFormSubmitted||!!fs.nocForm,gs=xs.undertakingSubmitted||!!fs.undertaking,Ts=xs.annexureAFilledOrNot===!0;return Ss&&ds&&Ts&&gs}),os={total:is.length,approved:is.filter(hs=>{var fs;return((fs=hs.status)==null?void 0:fs.toUpperCase())==="APPROVED"}).length,pending:is.filter(hs=>{var fs,xs;return((fs=hs.status)==null?void 0:fs.toUpperCase())==="SUBMITTED"||((xs=hs.status)==null?void 0:xs.toUpperCase())==="FORWARDED"}).length,rejected:is.filter(hs=>{var fs;return((fs=hs.status)==null?void 0:fs.toUpperCase())==="REJECTED"}).length};Oe(os)}catch(Xe){console.error("Failed to fetch NOC stats:",Xe)}})()},[]);const rs=()=>{switch(Re){case"Overview":return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("section",{className:"mb-8",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx(MetricCard,{title:"Total Applications",value:Me.total,icon:jsxRuntimeExports.jsx(FileText,{className:"h-5 w-5"}),color:"text-gray-600",bgColor:"bg-gray-50"}),jsxRuntimeExports.jsx(MetricCard,{title:"Approved",value:Me.approved,icon:jsxRuntimeExports.jsx(CircleCheckBig,{className:"h-5 w-5"}),color:"text-green-600",bgColor:"bg-green-50"}),jsxRuntimeExports.jsx(MetricCard,{title:"Pending",value:Me.pending,icon:jsxRuntimeExports.jsx(Clock,{className:"h-5 w-5"}),color:"text-amber-600",bgColor:"bg-amber-50"}),jsxRuntimeExports.jsx(MetricCard,{title:"Rejected",value:Me.rejected,icon:jsxRuntimeExports.jsx(CircleX,{className:"h-5 w-5"}),color:"text-red-600",bgColor:"bg-red-50"})]})}),jsxRuntimeExports.jsx(Dashboardactivity,{searchQuery:Be})]});case"Artist":return jsxRuntimeExports.jsx(Artist,{searchQuery:Be});case"Vendor Directory":return jsxRuntimeExports.jsx(VendorDirectory,{searchQuery:Be});case"Notifications":return jsxRuntimeExports.jsx(NotificationMain,{searchQuery:Be});case"Tender":return jsxRuntimeExports.jsx(TenderMain,{searchQuery:Be});case"District Manager":return jsxRuntimeExports.jsx(DistrictPassword,{searchQuery:Be});case"User Manager":return jsxRuntimeExports.jsx(UserManager,{searchQuery:Be});case"Department Manager":return jsxRuntimeExports.jsx(DepartmentManager,{searchQuery:Be});case"Deleted":return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-12 text-center",children:[jsxRuntimeExports.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-50 rounded-lg mb-4",children:jsxRuntimeExports.jsx("span",{className:"text-3xl",children:"ðŸš§"})}),jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-1",children:"Under Construction"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600",children:["The ",jsxRuntimeExports.jsx("strong",{children:Re})," section is currently being developed."]})]});default:return jsxRuntimeExports.jsx("p",{children:"Invalid section selected"})}};return jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-white text-gray-800 overflow-hidden",children:[jsxRuntimeExports.jsx(AlertBox,{...Ge,onClose:ns}),Ve&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden",onClick:()=>qe(!1)}),jsxRuntimeExports.jsxs("aside",{className:`
        fixed lg:static inset-y-0 left-0 z-50
        w-64 bg-white
        flex flex-col
        border-r border-gray-100
        shadow-xl lg:shadow-none
        transition-transform duration-300 ease-in-out
        ${Ve?"translate-x-0":"-translate-x-full lg:translate-x-0"}
      `,children:[jsxRuntimeExports.jsx("div",{className:"px-5 py-4 border-b border-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:Logo1,alt:"Logo",className:"h-10 w-auto"}),jsxRuntimeExports.jsx("span",{className:"text-[9px] font-bold text-gray-700 leading-tight uppercase max-w-[120px]",children:"BIHAR STATE FILM DEVELOPMENT & FINANCE CO. LTD"})]}),jsxRuntimeExports.jsx("button",{className:"lg:hidden w-8 h-8 text-xs rounded-lg hover:bg-gray-100 flex items-center justify-center transition-colors",onClick:()=>qe(!1),children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4 text-gray-500"})})]})}),jsxRuntimeExports.jsx("nav",{className:"flex-1 px-4 py-2 overflow-y-auto",children:jsxRuntimeExports.jsx("ul",{className:"space-y-1",children:[{label:"Overview",icon:LayoutDashboard},{label:"Artist",icon:Palette},{label:"Vendor Directory",icon:Store},{label:"Notifications",icon:Bell},{label:"Tender",icon:FileText},{label:"District Manager",icon:MapPin},{label:"User Manager",icon:Users},{label:"Department Manager",icon:Briefcase}].map((ts,Xe)=>{const is=Re===ts.label;return jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{className:`w-full px-4 py-2 flex items-center justify-between text-[13px] font-medium rounded-xl transition-all duration-200 ${is?"text-rose-600 bg-rose-50/80":"text-gray-600 hover:text-gray-900 hover:bg-gray-50/60"}`,onClick:()=>{e(ts.label),qe(!1)},children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[jsxRuntimeExports.jsx(ts.icon,{size:18,strokeWidth:1.5,className:is?"text-rose-600":"text-gray-500"}),jsxRuntimeExports.jsx("span",{className:"truncate whitespace-nowrap",children:ts.label})]})})},Xe)})})}),jsxRuntimeExports.jsxs("div",{className:"p-4 mt-auto",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50/50 rounded-2xl p-4 border border-gray-100",children:[jsxRuntimeExports.jsx("p",{className:"text-[11px] font-semibold text-gray-500 mb-1",children:"Need help?"}),jsxRuntimeExports.jsx("a",{href:"mailto:biharfilmnigam@gmail.com",className:"text-[11px] font-medium text-rose-600 hover:rose-700 transition-colors block mb-4",children:"biharfilmnigam@gmail.com"}),jsxRuntimeExports.jsxs("button",{onClick:Ye,className:"w-full flex items-center gap-2 text-gray-500 hover:text-rose-600 transition-colors text-xs font-medium px-1",children:[jsxRuntimeExports.jsx(IoIosLogOut,{size:16}),jsxRuntimeExports.jsx("span",{children:"Logout from session"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mt-4 px-1 flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-full bg-rose-100 border border-rose-200 flex items-center justify-center text-rose-700 font-bold text-xs",children:Te.name?Te.name.charAt(0).toUpperCase():"A"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-[12px] font-bold text-gray-900 truncate",children:Te.name||"Admin User"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-gray-400 truncate",children:Te.email||"admin@bsfdfc.com"})]})]})]})]}),jsxRuntimeExports.jsxs("main",{className:"flex-1 flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("header",{className:"bg-white border-b border-gray-100 px-6 lg:px-8 py-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{className:"lg:hidden w-10 h-10 rounded-lg hover:bg-gray-100 flex items-center justify-center transition-colors",onClick:()=>qe(!0),children:jsxRuntimeExports.jsx(Menu,{className:"w-5 h-5 text-gray-600"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-semibold text-gray-900",children:Re}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-0.5 hidden sm:block",children:new Date().toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs(motion.div,{className:"hidden md:flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 rounded-lg transition-colors",initial:{width:220},whileHover:{width:300,borderColor:"#d1d5db"},whileTap:{scale:.98},animate:{width:Ee?400:220,borderColor:Ee?"#891737":"#e5e7eb",boxShadow:Ee?"0 4px 12px rgba(0,0,0,0.1)":"none"},transition:{type:"spring",stiffness:300,damping:25},children:[jsxRuntimeExports.jsx(Search,{className:`w-4 h-4 ${Ee?"text-[#891737]":"text-gray-400"}`}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:Ee?"Search vendors, artists, locations...":"Search...",value:Be,onFocus:()=>Ce(!0),onBlur:()=>Ce(!1),onChange:ts=>ze(ts.target.value),className:"bg-transparent border-none outline-none text-xs w-full text-gray-900 placeholder-gray-400 placeholder:text-[10px]"})]}),jsxRuntimeExports.jsxs("button",{onClick:Ye,className:"flex items-center gap-2 px-4 py-2 bg-[#891737] text-white rounded-lg text-sm font-medium hover:bg-[#891737]/90 transition-colors",children:[jsxRuntimeExports.jsx(LogOut,{className:"w-4 h-4"}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"md:hidden mt-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-white border border-gray-200 rounded-lg focus-within:border-gray-300",children:[jsxRuntimeExports.jsx(Search,{className:"w-4 h-4 text-gray-400"}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search...",value:Be,onChange:ts=>ze(ts.target.value),className:"bg-transparent border-none outline-none text-sm flex-1 text-gray-900 placeholder-gray-400"})]})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto px-6 lg:px-8 py-6 lg:py-8",children:rs()})]})]})},MetricCard=({title:Re,value:e,icon:Ee,color:Ce,bgColor:Te})=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 p-6 hover:border-gray-200 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between mb-3",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-500",children:Re}),jsxRuntimeExports.jsx("div",{className:`w-10 h-10 rounded-lg ${Te} flex items-center justify-center ${Ce}`,children:Ee})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("p",{className:"text-3xl font-semibold text-gray-900",children:e})})]});function useAttribution(Re,e){const Ee=reactExports.useRef(e);reactExports.useEffect(function(){e!==Ee.current&&Re.attributionControl!=null&&(Ee.current!=null&&Re.attributionControl.removeAttribution(Ee.current),e!=null&&Re.attributionControl.addAttribution(e)),Ee.current=e},[Re,e])}const CONTEXT_VERSION=1;function createLeafletContext(Re){return Object.freeze({__version:CONTEXT_VERSION,map:Re})}function extendContext(Re,e){return Object.freeze({...Re,...e})}const LeafletContext=reactExports.createContext(null);function useLeafletContext(){const Re=reactExports.use(LeafletContext);if(Re==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return Re}function createContainerComponent(Re){function e(Ee,Ce){const{instance:Te,context:De}=Re(Ee).current;reactExports.useImperativeHandle(Ce,()=>Te);const{children:Me}=Ee;return Me==null?null:React.createElement(LeafletContext,{value:De},Me)}return reactExports.forwardRef(e)}function createDivOverlayComponent(Re){function e(Ee,Ce){const[Te,De]=reactExports.useState(!1),{instance:Me}=Re(Ee,De).current;reactExports.useImperativeHandle(Ce,()=>Me),reactExports.useEffect(function(){Te&&Me.update()},[Me,Te,Ee.children]);const Oe=Me._contentNode;return Oe?reactDomExports.createPortal(Ee.children,Oe):null}return reactExports.forwardRef(e)}function createLeafComponent(Re){function e(Ee,Ce){const{instance:Te}=Re(Ee).current;return reactExports.useImperativeHandle(Ce,()=>Te),null}return reactExports.forwardRef(e)}function useEventHandlers(Re,e){const Ee=reactExports.useRef(void 0);reactExports.useEffect(function(){return e!=null&&Re.instance.on(e),Ee.current=e,function(){Ee.current!=null&&Re.instance.off(Ee.current),Ee.current=null}},[Re,e])}function withPane(Re,e){const Ee=Re.pane??e.pane;return Ee?{...Re,pane:Ee}:Re}function createDivOverlayHook(Re,e){return function(Ce,Te){const De=useLeafletContext(),Me=Re(withPane(Ce,De),De);return useAttribution(De.map,Ce.attribution),useEventHandlers(Me.current,Ce.eventHandlers),e(Me.current,De,Ce,Te),Me}}var leafletSrc$1={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */var leafletSrc=leafletSrc$1.exports,hasRequiredLeafletSrc;function requireLeafletSrc(){return hasRequiredLeafletSrc||(hasRequiredLeafletSrc=1,function(Re,e){(function(Ee,Ce){Ce(e)})(leafletSrc,function(Ee){var Ce="1.9.4";function Te(He){var St,ls,Es,Fs;for(ls=1,Es=arguments.length;ls<Es;ls++){Fs=arguments[ls];for(St in Fs)He[St]=Fs[St]}return He}var De=Object.create||function(){function He(){}return function(St){return He.prototype=St,new He}}();function Me(He,St){var ls=Array.prototype.slice;if(He.bind)return He.bind.apply(He,ls.call(arguments,1));var Es=ls.call(arguments,2);return function(){return He.apply(St,Es.length?Es.concat(ls.call(arguments)):arguments)}}var Oe=0;function Be(He){return"_leaflet_id"in He||(He._leaflet_id=++Oe),He._leaflet_id}function ze(He,St,ls){var Es,Fs,Zs,dr;return dr=function(){Es=!1,Fs&&(Zs.apply(ls,Fs),Fs=!1)},Zs=function(){Es?Fs=arguments:(He.apply(ls,arguments),setTimeout(dr,St),Es=!0)},Zs}function Ve(He,St,ls){var Es=St[1],Fs=St[0],Zs=Es-Fs;return He===Es&&ls?He:((He-Fs)%Zs+Zs)%Zs+Fs}function qe(){return!1}function We(He,St){if(St===!1)return He;var ls=Math.pow(10,St===void 0?6:St);return Math.round(He*ls)/ls}function Ge(He){return He.trim?He.trim():He.replace(/^\s+|\s+$/g,"")}function Je(He){return Ge(He).split(/\s+/)}function Qe(He,St){Object.prototype.hasOwnProperty.call(He,"options")||(He.options=He.options?De(He.options):{});for(var ls in St)He.options[ls]=St[ls];return He.options}function ns(He,St,ls){var Es=[];for(var Fs in He)Es.push(encodeURIComponent(ls?Fs.toUpperCase():Fs)+"="+encodeURIComponent(He[Fs]));return(!St||St.indexOf("?")===-1?"?":"&")+Es.join("&")}var Ye=/\{ *([\w_ -]+) *\}/g;function rs(He,St){return He.replace(Ye,function(ls,Es){var Fs=St[Es];if(Fs===void 0)throw new Error("No value provided for variable "+ls);return typeof Fs=="function"&&(Fs=Fs(St)),Fs})}var ts=Array.isArray||function(He){return Object.prototype.toString.call(He)==="[object Array]"};function Xe(He,St){for(var ls=0;ls<He.length;ls++)if(He[ls]===St)return ls;return-1}var is="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function os(He){return window["webkit"+He]||window["moz"+He]||window["ms"+He]}var hs=0;function fs(He){var St=+new Date,ls=Math.max(0,16-(St-hs));return hs=St+ls,window.setTimeout(He,ls)}var xs=window.requestAnimationFrame||os("RequestAnimationFrame")||fs,Ss=window.cancelAnimationFrame||os("CancelAnimationFrame")||os("CancelRequestAnimationFrame")||function(He){window.clearTimeout(He)};function ds(He,St,ls){if(ls&&xs===fs)He.call(St);else return xs.call(window,Me(He,St))}function gs(He){He&&Ss.call(window,He)}var Ts={__proto__:null,extend:Te,create:De,bind:Me,get lastId(){return Oe},stamp:Be,throttle:ze,wrapNum:Ve,falseFn:qe,formatNum:We,trim:Ge,splitWords:Je,setOptions:Qe,getParamString:ns,template:rs,isArray:ts,indexOf:Xe,emptyImageUrl:is,requestFn:xs,cancelFn:Ss,requestAnimFrame:ds,cancelAnimFrame:gs};function Ds(){}Ds.extend=function(He){var St=function(){Qe(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},ls=St.__super__=this.prototype,Es=De(ls);Es.constructor=St,St.prototype=Es;for(var Fs in this)Object.prototype.hasOwnProperty.call(this,Fs)&&Fs!=="prototype"&&Fs!=="__super__"&&(St[Fs]=this[Fs]);return He.statics&&Te(St,He.statics),He.includes&&(Ms(He.includes),Te.apply(null,[Es].concat(He.includes))),Te(Es,He),delete Es.statics,delete Es.includes,Es.options&&(Es.options=ls.options?De(ls.options):{},Te(Es.options,He.options)),Es._initHooks=[],Es.callInitHooks=function(){if(!this._initHooksCalled){ls.callInitHooks&&ls.callInitHooks.call(this),this._initHooksCalled=!0;for(var Zs=0,dr=Es._initHooks.length;Zs<dr;Zs++)Es._initHooks[Zs].call(this)}},St},Ds.include=function(He){var St=this.prototype.options;return Te(this.prototype,He),He.options&&(this.prototype.options=St,this.mergeOptions(He.options)),this},Ds.mergeOptions=function(He){return Te(this.prototype.options,He),this},Ds.addInitHook=function(He){var St=Array.prototype.slice.call(arguments,1),ls=typeof He=="function"?He:function(){this[He].apply(this,St)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(ls),this};function Ms(He){if(!(typeof L>"u"||!L||!L.Mixin)){He=ts(He)?He:[He];for(var St=0;St<He.length;St++)He[St]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var bs={on:function(He,St,ls){if(typeof He=="object")for(var Es in He)this._on(Es,He[Es],St);else{He=Je(He);for(var Fs=0,Zs=He.length;Fs<Zs;Fs++)this._on(He[Fs],St,ls)}return this},off:function(He,St,ls){if(!arguments.length)delete this._events;else if(typeof He=="object")for(var Es in He)this._off(Es,He[Es],St);else{He=Je(He);for(var Fs=arguments.length===1,Zs=0,dr=He.length;Zs<dr;Zs++)Fs?this._off(He[Zs]):this._off(He[Zs],St,ls)}return this},_on:function(He,St,ls,Es){if(typeof St!="function"){console.warn("wrong listener type: "+typeof St);return}if(this._listens(He,St,ls)===!1){ls===this&&(ls=void 0);var Fs={fn:St,ctx:ls};Es&&(Fs.once=!0),this._events=this._events||{},this._events[He]=this._events[He]||[],this._events[He].push(Fs)}},_off:function(He,St,ls){var Es,Fs,Zs;if(this._events&&(Es=this._events[He],!!Es)){if(arguments.length===1){if(this._firingCount)for(Fs=0,Zs=Es.length;Fs<Zs;Fs++)Es[Fs].fn=qe;delete this._events[He];return}if(typeof St!="function"){console.warn("wrong listener type: "+typeof St);return}var dr=this._listens(He,St,ls);if(dr!==!1){var wr=Es[dr];this._firingCount&&(wr.fn=qe,this._events[He]=Es=Es.slice()),Es.splice(dr,1)}}},fire:function(He,St,ls){if(!this.listens(He,ls))return this;var Es=Te({},St,{type:He,target:this,sourceTarget:St&&St.sourceTarget||this});if(this._events){var Fs=this._events[He];if(Fs){this._firingCount=this._firingCount+1||1;for(var Zs=0,dr=Fs.length;Zs<dr;Zs++){var wr=Fs[Zs],kr=wr.fn;wr.once&&this.off(He,kr,wr.ctx),kr.call(wr.ctx||this,Es)}this._firingCount--}}return ls&&this._propagateEvent(Es),this},listens:function(He,St,ls,Es){typeof He!="string"&&console.warn('"string" type argument expected');var Fs=St;typeof St!="function"&&(Es=!!St,Fs=void 0,ls=void 0);var Zs=this._events&&this._events[He];if(Zs&&Zs.length&&this._listens(He,Fs,ls)!==!1)return!0;if(Es){for(var dr in this._eventParents)if(this._eventParents[dr].listens(He,St,ls,Es))return!0}return!1},_listens:function(He,St,ls){if(!this._events)return!1;var Es=this._events[He]||[];if(!St)return!!Es.length;ls===this&&(ls=void 0);for(var Fs=0,Zs=Es.length;Fs<Zs;Fs++)if(Es[Fs].fn===St&&Es[Fs].ctx===ls)return Fs;return!1},once:function(He,St,ls){if(typeof He=="object")for(var Es in He)this._on(Es,He[Es],St,!0);else{He=Je(He);for(var Fs=0,Zs=He.length;Fs<Zs;Fs++)this._on(He[Fs],St,ls,!0)}return this},addEventParent:function(He){return this._eventParents=this._eventParents||{},this._eventParents[Be(He)]=He,this},removeEventParent:function(He){return this._eventParents&&delete this._eventParents[Be(He)],this},_propagateEvent:function(He){for(var St in this._eventParents)this._eventParents[St].fire(He.type,Te({layer:He.target,propagatedFrom:He.target},He),!0)}};bs.addEventListener=bs.on,bs.removeEventListener=bs.clearAllEventListeners=bs.off,bs.addOneTimeEventListener=bs.once,bs.fireEvent=bs.fire,bs.hasEventListeners=bs.listens;var Ns=Ds.extend(bs);function ps(He,St,ls){this.x=ls?Math.round(He):He,this.y=ls?Math.round(St):St}var _s=Math.trunc||function(He){return He>0?Math.floor(He):Math.ceil(He)};ps.prototype={clone:function(){return new ps(this.x,this.y)},add:function(He){return this.clone()._add(ws(He))},_add:function(He){return this.x+=He.x,this.y+=He.y,this},subtract:function(He){return this.clone()._subtract(ws(He))},_subtract:function(He){return this.x-=He.x,this.y-=He.y,this},divideBy:function(He){return this.clone()._divideBy(He)},_divideBy:function(He){return this.x/=He,this.y/=He,this},multiplyBy:function(He){return this.clone()._multiplyBy(He)},_multiplyBy:function(He){return this.x*=He,this.y*=He,this},scaleBy:function(He){return new ps(this.x*He.x,this.y*He.y)},unscaleBy:function(He){return new ps(this.x/He.x,this.y/He.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=_s(this.x),this.y=_s(this.y),this},distanceTo:function(He){He=ws(He);var St=He.x-this.x,ls=He.y-this.y;return Math.sqrt(St*St+ls*ls)},equals:function(He){return He=ws(He),He.x===this.x&&He.y===this.y},contains:function(He){return He=ws(He),Math.abs(He.x)<=Math.abs(this.x)&&Math.abs(He.y)<=Math.abs(this.y)},toString:function(){return"Point("+We(this.x)+", "+We(this.y)+")"}};function ws(He,St,ls){return He instanceof ps?He:ts(He)?new ps(He[0],He[1]):He==null?He:typeof He=="object"&&"x"in He&&"y"in He?new ps(He.x,He.y):new ps(He,St,ls)}function js(He,St){if(He)for(var ls=St?[He,St]:He,Es=0,Fs=ls.length;Es<Fs;Es++)this.extend(ls[Es])}js.prototype={extend:function(He){var St,ls;if(!He)return this;if(He instanceof ps||typeof He[0]=="number"||"x"in He)St=ls=ws(He);else if(He=ms(He),St=He.min,ls=He.max,!St||!ls)return this;return!this.min&&!this.max?(this.min=St.clone(),this.max=ls.clone()):(this.min.x=Math.min(St.x,this.min.x),this.max.x=Math.max(ls.x,this.max.x),this.min.y=Math.min(St.y,this.min.y),this.max.y=Math.max(ls.y,this.max.y)),this},getCenter:function(He){return ws((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,He)},getBottomLeft:function(){return ws(this.min.x,this.max.y)},getTopRight:function(){return ws(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(He){var St,ls;return typeof He[0]=="number"||He instanceof ps?He=ws(He):He=ms(He),He instanceof js?(St=He.min,ls=He.max):St=ls=He,St.x>=this.min.x&&ls.x<=this.max.x&&St.y>=this.min.y&&ls.y<=this.max.y},intersects:function(He){He=ms(He);var St=this.min,ls=this.max,Es=He.min,Fs=He.max,Zs=Fs.x>=St.x&&Es.x<=ls.x,dr=Fs.y>=St.y&&Es.y<=ls.y;return Zs&&dr},overlaps:function(He){He=ms(He);var St=this.min,ls=this.max,Es=He.min,Fs=He.max,Zs=Fs.x>St.x&&Es.x<ls.x,dr=Fs.y>St.y&&Es.y<ls.y;return Zs&&dr},isValid:function(){return!!(this.min&&this.max)},pad:function(He){var St=this.min,ls=this.max,Es=Math.abs(St.x-ls.x)*He,Fs=Math.abs(St.y-ls.y)*He;return ms(ws(St.x-Es,St.y-Fs),ws(ls.x+Es,ls.y+Fs))},equals:function(He){return He?(He=ms(He),this.min.equals(He.getTopLeft())&&this.max.equals(He.getBottomRight())):!1}};function ms(He,St){return!He||He instanceof js?He:new js(He,St)}function ys(He,St){if(He)for(var ls=St?[He,St]:He,Es=0,Fs=ls.length;Es<Fs;Es++)this.extend(ls[Es])}ys.prototype={extend:function(He){var St=this._southWest,ls=this._northEast,Es,Fs;if(He instanceof zs)Es=He,Fs=He;else if(He instanceof ys){if(Es=He._southWest,Fs=He._northEast,!Es||!Fs)return this}else return He?this.extend(Cs(He)||ks(He)):this;return!St&&!ls?(this._southWest=new zs(Es.lat,Es.lng),this._northEast=new zs(Fs.lat,Fs.lng)):(St.lat=Math.min(Es.lat,St.lat),St.lng=Math.min(Es.lng,St.lng),ls.lat=Math.max(Fs.lat,ls.lat),ls.lng=Math.max(Fs.lng,ls.lng)),this},pad:function(He){var St=this._southWest,ls=this._northEast,Es=Math.abs(St.lat-ls.lat)*He,Fs=Math.abs(St.lng-ls.lng)*He;return new ys(new zs(St.lat-Es,St.lng-Fs),new zs(ls.lat+Es,ls.lng+Fs))},getCenter:function(){return new zs((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new zs(this.getNorth(),this.getWest())},getSouthEast:function(){return new zs(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(He){typeof He[0]=="number"||He instanceof zs||"lat"in He?He=Cs(He):He=ks(He);var St=this._southWest,ls=this._northEast,Es,Fs;return He instanceof ys?(Es=He.getSouthWest(),Fs=He.getNorthEast()):Es=Fs=He,Es.lat>=St.lat&&Fs.lat<=ls.lat&&Es.lng>=St.lng&&Fs.lng<=ls.lng},intersects:function(He){He=ks(He);var St=this._southWest,ls=this._northEast,Es=He.getSouthWest(),Fs=He.getNorthEast(),Zs=Fs.lat>=St.lat&&Es.lat<=ls.lat,dr=Fs.lng>=St.lng&&Es.lng<=ls.lng;return Zs&&dr},overlaps:function(He){He=ks(He);var St=this._southWest,ls=this._northEast,Es=He.getSouthWest(),Fs=He.getNorthEast(),Zs=Fs.lat>St.lat&&Es.lat<ls.lat,dr=Fs.lng>St.lng&&Es.lng<ls.lng;return Zs&&dr},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(He,St){return He?(He=ks(He),this._southWest.equals(He.getSouthWest(),St)&&this._northEast.equals(He.getNorthEast(),St)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ks(He,St){return He instanceof ys?He:new ys(He,St)}function zs(He,St,ls){if(isNaN(He)||isNaN(St))throw new Error("Invalid LatLng object: ("+He+", "+St+")");this.lat=+He,this.lng=+St,ls!==void 0&&(this.alt=+ls)}zs.prototype={equals:function(He,St){if(!He)return!1;He=Cs(He);var ls=Math.max(Math.abs(this.lat-He.lat),Math.abs(this.lng-He.lng));return ls<=(St===void 0?1e-9:St)},toString:function(He){return"LatLng("+We(this.lat,He)+", "+We(this.lng,He)+")"},distanceTo:function(He){return Us.distance(this,Cs(He))},wrap:function(){return Us.wrapLatLng(this)},toBounds:function(He){var St=180*He/40075017,ls=St/Math.cos(Math.PI/180*this.lat);return ks([this.lat-St,this.lng-ls],[this.lat+St,this.lng+ls])},clone:function(){return new zs(this.lat,this.lng,this.alt)}};function Cs(He,St,ls){return He instanceof zs?He:ts(He)&&typeof He[0]!="object"?He.length===3?new zs(He[0],He[1],He[2]):He.length===2?new zs(He[0],He[1]):null:He==null?He:typeof He=="object"&&"lat"in He?new zs(He.lat,"lng"in He?He.lng:He.lon,He.alt):St===void 0?null:new zs(He,St,ls)}var Ps={latLngToPoint:function(He,St){var ls=this.projection.project(He),Es=this.scale(St);return this.transformation._transform(ls,Es)},pointToLatLng:function(He,St){var ls=this.scale(St),Es=this.transformation.untransform(He,ls);return this.projection.unproject(Es)},project:function(He){return this.projection.project(He)},unproject:function(He){return this.projection.unproject(He)},scale:function(He){return 256*Math.pow(2,He)},zoom:function(He){return Math.log(He/256)/Math.LN2},getProjectedBounds:function(He){if(this.infinite)return null;var St=this.projection.bounds,ls=this.scale(He),Es=this.transformation.transform(St.min,ls),Fs=this.transformation.transform(St.max,ls);return new js(Es,Fs)},infinite:!1,wrapLatLng:function(He){var St=this.wrapLng?Ve(He.lng,this.wrapLng,!0):He.lng,ls=this.wrapLat?Ve(He.lat,this.wrapLat,!0):He.lat,Es=He.alt;return new zs(ls,St,Es)},wrapLatLngBounds:function(He){var St=He.getCenter(),ls=this.wrapLatLng(St),Es=St.lat-ls.lat,Fs=St.lng-ls.lng;if(Es===0&&Fs===0)return He;var Zs=He.getSouthWest(),dr=He.getNorthEast(),wr=new zs(Zs.lat-Es,Zs.lng-Fs),kr=new zs(dr.lat-Es,dr.lng-Fs);return new ys(wr,kr)}},Us=Te({},Ps,{wrapLng:[-180,180],R:6371e3,distance:function(He,St){var ls=Math.PI/180,Es=He.lat*ls,Fs=St.lat*ls,Zs=Math.sin((St.lat-He.lat)*ls/2),dr=Math.sin((St.lng-He.lng)*ls/2),wr=Zs*Zs+Math.cos(Es)*Math.cos(Fs)*dr*dr,kr=2*Math.atan2(Math.sqrt(wr),Math.sqrt(1-wr));return this.R*kr}}),Is=6378137,Vs={R:Is,MAX_LATITUDE:85.0511287798,project:function(He){var St=Math.PI/180,ls=this.MAX_LATITUDE,Es=Math.max(Math.min(ls,He.lat),-ls),Fs=Math.sin(Es*St);return new ps(this.R*He.lng*St,this.R*Math.log((1+Fs)/(1-Fs))/2)},unproject:function(He){var St=180/Math.PI;return new zs((2*Math.atan(Math.exp(He.y/this.R))-Math.PI/2)*St,He.x*St/this.R)},bounds:function(){var He=Is*Math.PI;return new js([-He,-He],[He,He])}()};function Ks(He,St,ls,Es){if(ts(He)){this._a=He[0],this._b=He[1],this._c=He[2],this._d=He[3];return}this._a=He,this._b=St,this._c=ls,this._d=Es}Ks.prototype={transform:function(He,St){return this._transform(He.clone(),St)},_transform:function(He,St){return St=St||1,He.x=St*(this._a*He.x+this._b),He.y=St*(this._c*He.y+this._d),He},untransform:function(He,St){return St=St||1,new ps((He.x/St-this._b)/this._a,(He.y/St-this._d)/this._c)}};function or(He,St,ls,Es){return new Ks(He,St,ls,Es)}var rr=Te({},Us,{code:"EPSG:3857",projection:Vs,transformation:function(){var He=.5/(Math.PI*Vs.R);return or(He,.5,-He,.5)}()}),ur=Te({},rr,{code:"EPSG:900913"});function Ws(He){return document.createElementNS("http://www.w3.org/2000/svg",He)}function Er(He,St){var ls="",Es,Fs,Zs,dr,wr,kr;for(Es=0,Zs=He.length;Es<Zs;Es++){for(wr=He[Es],Fs=0,dr=wr.length;Fs<dr;Fs++)kr=wr[Fs],ls+=(Fs?"L":"M")+kr.x+" "+kr.y;ls+=St?ci.svg?"z":"x":""}return ls||"M0 0"}var zr=document.documentElement.style,Or="ActiveXObject"in window,tr=Or&&!document.addEventListener,Lr="msLaunchUri"in navigator&&!("documentMode"in document),Js=Ji("webkit"),lr=Ji("android"),hr=Ji("android 2")||Ji("android 3"),Ar=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Pr=lr&&Ji("Google")&&Ar<537&&!("AudioNode"in window),vr=!!window.opera,Mr=!Lr&&Ji("chrome"),Qr=Ji("gecko")&&!Js&&!vr&&!Or,Ur=!Mr&&Ji("safari"),ti=Ji("phantom"),oi="OTransition"in zr,Ti=navigator.platform.indexOf("Win")===0,_i=Or&&"transition"in zr,mi="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!hr,Ci="MozPerspective"in zr,Tr=!window.L_DISABLE_3D&&(_i||mi||Ci)&&!oi&&!ti,Sr=typeof orientation<"u"||Ji("mobile"),Ir=Sr&&Js,Kr=Sr&&mi,ri=!window.PointerEvent&&window.MSPointerEvent,Wr=!!(window.PointerEvent||ri),ai="ontouchstart"in window||!!window.TouchEvent,ii=!window.L_NO_TOUCH&&(ai||Wr),yi=Sr&&vr,Sn=Sr&&Qr,$i=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,dn=function(){var He=!1;try{var St=Object.defineProperty({},"passive",{get:function(){He=!0}});window.addEventListener("testPassiveEventSupport",qe,St),window.removeEventListener("testPassiveEventSupport",qe,St)}catch{}return He}(),Si=function(){return!!document.createElement("canvas").getContext}(),pi=!!(document.createElementNS&&Ws("svg").createSVGRect),Xa=!!pi&&function(){var He=document.createElement("div");return He.innerHTML="<svg/>",(He.firstChild&&He.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),ml=!pi&&function(){try{var He=document.createElement("div");He.innerHTML='<v:shape adj="1"/>';var St=He.firstChild;return St.style.behavior="url(#default#VML)",St&&typeof St.adj=="object"}catch{return!1}}(),Ja=navigator.platform.indexOf("Mac")===0,Qa=navigator.platform.indexOf("Linux")===0;function Ji(He){return navigator.userAgent.toLowerCase().indexOf(He)>=0}var ci={ie:Or,ielt9:tr,edge:Lr,webkit:Js,android:lr,android23:hr,androidStock:Pr,opera:vr,chrome:Mr,gecko:Qr,safari:Ur,phantom:ti,opera12:oi,win:Ti,ie3d:_i,webkit3d:mi,gecko3d:Ci,any3d:Tr,mobile:Sr,mobileWebkit:Ir,mobileWebkit3d:Kr,msPointer:ri,pointer:Wr,touch:ii,touchNative:ai,mobileOpera:yi,mobileGecko:Sn,retina:$i,passiveEvents:dn,canvas:Si,svg:pi,vml:ml,inlineSvg:Xa,mac:Ja,linux:Qa},aa=ci.msPointer?"MSPointerDown":"pointerdown",Pa=ci.msPointer?"MSPointerMove":"pointermove",Rn=ci.msPointer?"MSPointerUp":"pointerup",Pn=ci.msPointer?"MSPointerCancel":"pointercancel",Va={touchstart:aa,touchmove:Pa,touchend:Rn,touchcancel:Pn},Co={touchstart:Jn,touchmove:ql,touchend:ql,touchcancel:ql},eo={},Ko=!1;function Au(He,St,ls){return St==="touchstart"&&pc(),Co[St]?(ls=Co[St].bind(this,ls),He.addEventListener(Va[St],ls,!1),ls):(console.warn("wrong event specified:",St),qe)}function Po(He,St,ls){if(!Va[St]){console.warn("wrong event specified:",St);return}He.removeEventListener(Va[St],ls,!1)}function Bc(He){eo[He.pointerId]=He}function xl(He){eo[He.pointerId]&&(eo[He.pointerId]=He)}function gl(He){delete eo[He.pointerId]}function pc(){Ko||(document.addEventListener(aa,Bc,!0),document.addEventListener(Pa,xl,!0),document.addEventListener(Rn,gl,!0),document.addEventListener(Pn,gl,!0),Ko=!0)}function ql(He,St){if(St.pointerType!==(St.MSPOINTER_TYPE_MOUSE||"mouse")){St.touches=[];for(var ls in eo)St.touches.push(eo[ls]);St.changedTouches=[St],He(St)}}function Jn(He,St){St.MSPOINTER_TYPE_TOUCH&&St.pointerType===St.MSPOINTER_TYPE_TOUCH&&Nn(St),ql(He,St)}function Th(He){var St={},ls,Es;for(Es in He)ls=He[Es],St[Es]=ls&&ls.bind?ls.bind(He):ls;return He=St,St.type="dblclick",St.detail=2,St.isTrusted=!1,St._simulated=!0,St}var kh=200;function Ta(He,St){He.addEventListener("dblclick",St);var ls=0,Es;function Fs(Zs){if(Zs.detail!==1){Es=Zs.detail;return}if(!(Zs.pointerType==="mouse"||Zs.sourceCapabilities&&!Zs.sourceCapabilities.firesTouchEvents)){var dr=Yl(Zs);if(!(dr.some(function(kr){return kr instanceof HTMLLabelElement&&kr.attributes.for})&&!dr.some(function(kr){return kr instanceof HTMLInputElement||kr instanceof HTMLSelectElement}))){var wr=Date.now();wr-ls<=kh?(Es++,Es===2&&St(Th(Zs))):Es=1,ls=wr}}}return He.addEventListener("click",Fs),{dblclick:St,simDblclick:Fs}}function mc(He,St){He.removeEventListener("dblclick",St.dblclick),He.removeEventListener("click",St.simDblclick)}var To=pd(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),zc=pd(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ud=zc==="webkitTransition"||zc==="OTransition"?zc+"End":"transitionend";function Hd(He){return typeof He=="string"?document.getElementById(He):He}function Cu(He,St){var ls=He.style[St]||He.currentStyle&&He.currentStyle[St];if((!ls||ls==="auto")&&document.defaultView){var Es=document.defaultView.getComputedStyle(He,null);ls=Es?Es[St]:null}return ls==="auto"?null:ls}function Fi(He,St,ls){var Es=document.createElement(He);return Es.className=St||"",ls&&ls.appendChild(Es),Es}function hn(He){var St=He.parentNode;St&&St.removeChild(He)}function ko(He){for(;He.firstChild;)He.removeChild(He.firstChild)}function Ki(He){var St=He.parentNode;St&&St.lastChild!==He&&St.appendChild(He)}function fc(He){var St=He.parentNode;St&&St.firstChild!==He&&St.insertBefore(He,St.firstChild)}function yl(He,St){if(He.classList!==void 0)return He.classList.contains(St);var ls=Qn(He);return ls.length>0&&new RegExp("(^|\\s)"+St+"(\\s|$)").test(ls)}function ki(He,St){if(He.classList!==void 0)for(var ls=Je(St),Es=0,Fs=ls.length;Es<Fs;Es++)He.classList.add(ls[Es]);else if(!yl(He,St)){var Zs=Qn(He);Ua(He,(Zs?Zs+" ":"")+St)}}function Tn(He,St){He.classList!==void 0?He.classList.remove(St):Ua(He,Ge((" "+Qn(He)+" ").replace(" "+St+" "," ")))}function Ua(He,St){He.className.baseVal===void 0?He.className=St:He.className.baseVal=St}function Qn(He){return He.correspondingElement&&(He=He.correspondingElement),He.className.baseVal===void 0?He.className:He.className.baseVal}function pn(He,St){"opacity"in He.style?He.style.opacity=St:"filter"in He.style&&qd(He,St)}function qd(He,St){var ls=!1,Es="DXImageTransform.Microsoft.Alpha";try{ls=He.filters.item(Es)}catch{if(St===1)return}St=Math.round(St*100),ls?(ls.Enabled=St!==100,ls.Opacity=St):He.style.filter+=" progid:"+Es+"(opacity="+St+")"}function pd(He){for(var St=document.documentElement.style,ls=0;ls<He.length;ls++)if(He[ls]in St)return He[ls];return!1}function Gl(He,St,ls){var Es=St||new ps(0,0);He.style[To]=(ci.ie3d?"translate("+Es.x+"px,"+Es.y+"px)":"translate3d("+Es.x+"px,"+Es.y+"px,0)")+(ls?" scale("+ls+")":"")}function tn(He,St){He._leaflet_pos=St,ci.any3d?Gl(He,St):(He.style.left=St.x+"px",He.style.top=St.y+"px")}function Wl(He){return He._leaflet_pos||new ps(0,0)}var $c,ho,Vc;if("onselectstart"in document)$c=function(){ni(window,"selectstart",Nn)},ho=function(){gn(window,"selectstart",Nn)};else{var Pu=pd(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);$c=function(){if(Pu){var He=document.documentElement.style;Vc=He[Pu],He[Pu]="none"}},ho=function(){Pu&&(document.documentElement.style[Pu]=Vc,Vc=void 0)}}function Gd(){ni(window,"dragstart",Nn)}function md(){gn(window,"dragstart",Nn)}var Tu,Wd;function to(He){for(;He.tabIndex===-1;)He=He.parentNode;He.style&&(ku(),Tu=He,Wd=He.style.outlineStyle,He.style.outlineStyle="none",ni(window,"keydown",ku))}function ku(){Tu&&(Tu.style.outlineStyle=Wd,Tu=void 0,Wd=void 0,gn(window,"keydown",ku))}function xc(He){do He=He.parentNode;while((!He.offsetWidth||!He.offsetHeight)&&He!==document.body);return He}function vl(He){var St=He.getBoundingClientRect();return{x:St.width/He.offsetWidth||1,y:St.height/He.offsetHeight||1,boundingClientRect:St}}var Du={__proto__:null,TRANSFORM:To,TRANSITION:zc,TRANSITION_END:Ud,get:Hd,getStyle:Cu,create:Fi,remove:hn,empty:ko,toFront:Ki,toBack:fc,hasClass:yl,addClass:ki,removeClass:Tn,setClass:Ua,getClass:Qn,setOpacity:pn,testProp:pd,setTransform:Gl,setPosition:tn,getPosition:Wl,get disableTextSelection(){return $c},get enableTextSelection(){return ho},disableImageDrag:Gd,enableImageDrag:md,preventOutline:to,restoreOutline:ku,getSizedParentNode:xc,getScale:vl};function ni(He,St,ls,Es){if(St&&typeof St=="object")for(var Fs in St)po(He,Fs,St[Fs],ls);else{St=Je(St);for(var Zs=0,dr=St.length;Zs<dr;Zs++)po(He,St[Zs],ls,Es)}return this}var Do="_leaflet_events";function gn(He,St,ls,Es){if(arguments.length===1)Lu(He),delete He[Do];else if(St&&typeof St=="object")for(var Fs in St)bl(He,Fs,St[Fs],ls);else if(St=Je(St),arguments.length===2)Lu(He,function(wr){return Xe(St,wr)!==-1});else for(var Zs=0,dr=St.length;Zs<dr;Zs++)bl(He,St[Zs],ls,Es);return this}function Lu(He,St){for(var ls in He[Do]){var Es=ls.split(/\d/)[0];(!St||St(Es))&&bl(He,Es,null,null,ls)}}var Yo={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function po(He,St,ls,Es){var Fs=St+Be(ls)+(Es?"_"+Be(Es):"");if(He[Do]&&He[Do][Fs])return this;var Zs=function(wr){return ls.call(Es||He,wr||window.event)},dr=Zs;!ci.touchNative&&ci.pointer&&St.indexOf("touch")===0?Zs=Au(He,St,Zs):ci.touch&&St==="dblclick"?Zs=Ta(He,Zs):"addEventListener"in He?St==="touchstart"||St==="touchmove"||St==="wheel"||St==="mousewheel"?He.addEventListener(Yo[St]||St,Zs,ci.passiveEvents?{passive:!1}:!1):St==="mouseenter"||St==="mouseleave"?(Zs=function(wr){wr=wr||window.event,yc(He,wr)&&dr(wr)},He.addEventListener(Yo[St],Zs,!1)):He.addEventListener(St,dr,!1):He.attachEvent("on"+St,Zs),He[Do]=He[Do]||{},He[Do][Fs]=Zs}function bl(He,St,ls,Es,Fs){Fs=Fs||St+Be(ls)+(Es?"_"+Be(Es):"");var Zs=He[Do]&&He[Do][Fs];if(!Zs)return this;!ci.touchNative&&ci.pointer&&St.indexOf("touch")===0?Po(He,St,Zs):ci.touch&&St==="dblclick"?mc(He,Zs):"removeEventListener"in He?He.removeEventListener(Yo[St]||St,Zs,!1):He.detachEvent("on"+St,Zs),He[Do][Fs]=null}function Zl(He){return He.stopPropagation?He.stopPropagation():He.originalEvent?He.originalEvent._stopped=!0:He.cancelBubble=!0,this}function Kl(He){return po(He,"wheel",Zl),this}function gc(He){return ni(He,"mousedown touchstart dblclick contextmenu",Zl),He._leaflet_disable_click=!0,this}function Nn(He){return He.preventDefault?He.preventDefault():He.returnValue=!1,this}function jl(He){return Nn(He),Zl(He),this}function Yl(He){if(He.composedPath)return He.composedPath();for(var St=[],ls=He.target;ls;)St.push(ls),ls=ls.parentNode;return St}function Ha(He,St){if(!St)return new ps(He.clientX,He.clientY);var ls=vl(St),Es=ls.boundingClientRect;return new ps((He.clientX-Es.left)/ls.x-St.clientLeft,(He.clientY-Es.top)/ls.y-St.clientTop)}var Xl=ci.linux&&ci.chrome?window.devicePixelRatio:ci.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Uc(He){return ci.edge?He.wheelDeltaY/2:He.deltaY&&He.deltaMode===0?-He.deltaY/Xl:He.deltaY&&He.deltaMode===1?-He.deltaY*20:He.deltaY&&He.deltaMode===2?-He.deltaY*60:He.deltaX||He.deltaZ?0:He.wheelDelta?(He.wheelDeltaY||He.wheelDelta)/2:He.detail&&Math.abs(He.detail)<32765?-He.detail*20:He.detail?He.detail/-32765*60:0}function yc(He,St){var ls=St.relatedTarget;if(!ls)return!0;try{for(;ls&&ls!==He;)ls=ls.parentNode}catch{return!1}return ls!==He}var Hc={__proto__:null,on:ni,off:gn,stopPropagation:Zl,disableScrollPropagation:Kl,disableClickPropagation:gc,preventDefault:Nn,stop:jl,getPropagationPath:Yl,getMousePosition:Ha,getWheelDelta:Uc,isExternalTarget:yc,addListener:ni,removeListener:gn},Mu=Ns.extend({run:function(He,St,ls,Es){this.stop(),this._el=He,this._inProgress=!0,this._duration=ls||.25,this._easeOutPower=1/Math.max(Es||.5,.2),this._startPos=Wl(He),this._offset=St.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ds(this._animate,this),this._step()},_step:function(He){var St=+new Date-this._startTime,ls=this._duration*1e3;St<ls?this._runFrame(this._easeOut(St/ls),He):(this._runFrame(1),this._complete())},_runFrame:function(He,St){var ls=this._startPos.add(this._offset.multiplyBy(He));St&&ls._round(),tn(this._el,ls),this.fire("step")},_complete:function(){gs(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(He){return 1-Math.pow(1-He,this._easeOutPower)}}),zi=Ns.extend({options:{crs:rr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(He,St){St=Qe(this,St),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(He),this._initLayout(),this._onResize=Me(this._onResize,this),this._initEvents(),St.maxBounds&&this.setMaxBounds(St.maxBounds),St.zoom!==void 0&&(this._zoom=this._limitZoom(St.zoom)),St.center&&St.zoom!==void 0&&this.setView(Cs(St.center),St.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=zc&&ci.any3d&&!ci.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ni(this._proxy,Ud,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(He,St,ls){if(St=St===void 0?this._zoom:this._limitZoom(St),He=this._limitCenter(Cs(He),St,this.options.maxBounds),ls=ls||{},this._stop(),this._loaded&&!ls.reset&&ls!==!0){ls.animate!==void 0&&(ls.zoom=Te({animate:ls.animate},ls.zoom),ls.pan=Te({animate:ls.animate,duration:ls.duration},ls.pan));var Es=this._zoom!==St?this._tryAnimatedZoom&&this._tryAnimatedZoom(He,St,ls.zoom):this._tryAnimatedPan(He,ls.pan);if(Es)return clearTimeout(this._sizeTimer),this}return this._resetView(He,St,ls.pan&&ls.pan.noMoveStart),this},setZoom:function(He,St){return this._loaded?this.setView(this.getCenter(),He,{zoom:St}):(this._zoom=He,this)},zoomIn:function(He,St){return He=He||(ci.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+He,St)},zoomOut:function(He,St){return He=He||(ci.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-He,St)},setZoomAround:function(He,St,ls){var Es=this.getZoomScale(St),Fs=this.getSize().divideBy(2),Zs=He instanceof ps?He:this.latLngToContainerPoint(He),dr=Zs.subtract(Fs).multiplyBy(1-1/Es),wr=this.containerPointToLatLng(Fs.add(dr));return this.setView(wr,St,{zoom:ls})},_getBoundsCenterZoom:function(He,St){St=St||{},He=He.getBounds?He.getBounds():ks(He);var ls=ws(St.paddingTopLeft||St.padding||[0,0]),Es=ws(St.paddingBottomRight||St.padding||[0,0]),Fs=this.getBoundsZoom(He,!1,ls.add(Es));if(Fs=typeof St.maxZoom=="number"?Math.min(St.maxZoom,Fs):Fs,Fs===1/0)return{center:He.getCenter(),zoom:Fs};var Zs=Es.subtract(ls).divideBy(2),dr=this.project(He.getSouthWest(),Fs),wr=this.project(He.getNorthEast(),Fs),kr=this.unproject(dr.add(wr).divideBy(2).add(Zs),Fs);return{center:kr,zoom:Fs}},fitBounds:function(He,St){if(He=ks(He),!He.isValid())throw new Error("Bounds are not valid.");var ls=this._getBoundsCenterZoom(He,St);return this.setView(ls.center,ls.zoom,St)},fitWorld:function(He){return this.fitBounds([[-90,-180],[90,180]],He)},panTo:function(He,St){return this.setView(He,this._zoom,{pan:St})},panBy:function(He,St){if(He=ws(He).round(),St=St||{},!He.x&&!He.y)return this.fire("moveend");if(St.animate!==!0&&!this.getSize().contains(He))return this._resetView(this.unproject(this.project(this.getCenter()).add(He)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Mu,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),St.noMoveStart||this.fire("movestart"),St.animate!==!1){ki(this._mapPane,"leaflet-pan-anim");var ls=this._getMapPanePos().subtract(He).round();this._panAnim.run(this._mapPane,ls,St.duration||.25,St.easeLinearity)}else this._rawPanBy(He),this.fire("move").fire("moveend");return this},flyTo:function(He,St,ls){if(ls=ls||{},ls.animate===!1||!ci.any3d)return this.setView(He,St,ls);this._stop();var Es=this.project(this.getCenter()),Fs=this.project(He),Zs=this.getSize(),dr=this._zoom;He=Cs(He),St=St===void 0?dr:St;var wr=Math.max(Zs.x,Zs.y),kr=wr*this.getZoomScale(dr,St),Zr=Fs.distanceTo(Es)||1,hi=1.42,Ai=hi*hi;function Bi(mn){var Da=mn?-1:1,zh=mn?kr:wr,Wp=kr*kr-wr*wr+Da*Ai*Ai*Zr*Zr,xf=2*zh*Ai*Zr,$h=Wp/xf,eu=Math.sqrt($h*$h+1)-$h,gf=eu<1e-9?-18:Math.log(eu);return gf}function wa(mn){return(Math.exp(mn)-Math.exp(-mn))/2}function Wn(mn){return(Math.exp(mn)+Math.exp(-mn))/2}function no(mn){return wa(mn)/Wn(mn)}var jo=Bi(0);function Uu(mn){return wr*(Wn(jo)/Wn(jo+hi*mn))}function eg(mn){return wr*(Wn(jo)*no(jo+hi*mn)-wa(jo))/Ai}function rc(mn){return 1-Math.pow(1-mn,1.5)}var kl=Date.now(),Io=(Bi(1)-jo)/hi,tg=ls.duration?1e3*ls.duration:1e3*Io*.8;function Hu(){var mn=(Date.now()-kl)/tg,Da=rc(mn)*Io;mn<=1?(this._flyToFrame=ds(Hu,this),this._move(this.unproject(Es.add(Fs.subtract(Es).multiplyBy(eg(Da)/Zr)),dr),this.getScaleZoom(wr/Uu(Da),dr),{flyTo:!0})):this._move(He,St)._moveEnd(!0)}return this._moveStart(!0,ls.noMoveStart),Hu.call(this),this},flyToBounds:function(He,St){var ls=this._getBoundsCenterZoom(He,St);return this.flyTo(ls.center,ls.zoom,St)},setMaxBounds:function(He){return He=ks(He),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),He.isValid()?(this.options.maxBounds=He,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(He){var St=this.options.minZoom;return this.options.minZoom=He,this._loaded&&St!==He&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(He):this},setMaxZoom:function(He){var St=this.options.maxZoom;return this.options.maxZoom=He,this._loaded&&St!==He&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(He):this},panInsideBounds:function(He,St){this._enforcingBounds=!0;var ls=this.getCenter(),Es=this._limitCenter(ls,this._zoom,ks(He));return ls.equals(Es)||this.panTo(Es,St),this._enforcingBounds=!1,this},panInside:function(He,St){St=St||{};var ls=ws(St.paddingTopLeft||St.padding||[0,0]),Es=ws(St.paddingBottomRight||St.padding||[0,0]),Fs=this.project(this.getCenter()),Zs=this.project(He),dr=this.getPixelBounds(),wr=ms([dr.min.add(ls),dr.max.subtract(Es)]),kr=wr.getSize();if(!wr.contains(Zs)){this._enforcingBounds=!0;var Zr=Zs.subtract(wr.getCenter()),hi=wr.extend(Zs).getSize().subtract(kr);Fs.x+=Zr.x<0?-hi.x:hi.x,Fs.y+=Zr.y<0?-hi.y:hi.y,this.panTo(this.unproject(Fs),St),this._enforcingBounds=!1}return this},invalidateSize:function(He){if(!this._loaded)return this;He=Te({animate:!1,pan:!0},He===!0?{animate:!0}:He);var St=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var ls=this.getSize(),Es=St.divideBy(2).round(),Fs=ls.divideBy(2).round(),Zs=Es.subtract(Fs);return!Zs.x&&!Zs.y?this:(He.animate&&He.pan?this.panBy(Zs):(He.pan&&this._rawPanBy(Zs),this.fire("move"),He.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(Me(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:St,newSize:ls}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(He){if(He=this._locateOptions=Te({timeout:1e4,watch:!1},He),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var St=Me(this._handleGeolocationResponse,this),ls=Me(this._handleGeolocationError,this);return He.watch?this._locationWatchId=navigator.geolocation.watchPosition(St,ls,He):navigator.geolocation.getCurrentPosition(St,ls,He),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(He){if(this._container._leaflet_id){var St=He.code,ls=He.message||(St===1?"permission denied":St===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:St,message:"Geolocation error: "+ls+"."})}},_handleGeolocationResponse:function(He){if(this._container._leaflet_id){var St=He.coords.latitude,ls=He.coords.longitude,Es=new zs(St,ls),Fs=Es.toBounds(He.coords.accuracy*2),Zs=this._locateOptions;if(Zs.setView){var dr=this.getBoundsZoom(Fs);this.setView(Es,Zs.maxZoom?Math.min(dr,Zs.maxZoom):dr)}var wr={latlng:Es,bounds:Fs,timestamp:He.timestamp};for(var kr in He.coords)typeof He.coords[kr]=="number"&&(wr[kr]=He.coords[kr]);this.fire("locationfound",wr)}},addHandler:function(He,St){if(!St)return this;var ls=this[He]=new St(this);return this._handlers.push(ls),this.options[He]&&ls.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),hn(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(gs(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var He;for(He in this._layers)this._layers[He].remove();for(He in this._panes)hn(this._panes[He]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(He,St){var ls="leaflet-pane"+(He?" leaflet-"+He.replace("Pane","")+"-pane":""),Es=Fi("div",ls,St||this._mapPane);return He&&(this._panes[He]=Es),Es},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var He=this.getPixelBounds(),St=this.unproject(He.getBottomLeft()),ls=this.unproject(He.getTopRight());return new ys(St,ls)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(He,St,ls){He=ks(He),ls=ws(ls||[0,0]);var Es=this.getZoom()||0,Fs=this.getMinZoom(),Zs=this.getMaxZoom(),dr=He.getNorthWest(),wr=He.getSouthEast(),kr=this.getSize().subtract(ls),Zr=ms(this.project(wr,Es),this.project(dr,Es)).getSize(),hi=ci.any3d?this.options.zoomSnap:1,Ai=kr.x/Zr.x,Bi=kr.y/Zr.y,wa=St?Math.max(Ai,Bi):Math.min(Ai,Bi);return Es=this.getScaleZoom(wa,Es),hi&&(Es=Math.round(Es/(hi/100))*(hi/100),Es=St?Math.ceil(Es/hi)*hi:Math.floor(Es/hi)*hi),Math.max(Fs,Math.min(Zs,Es))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new ps(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(He,St){var ls=this._getTopLeftPoint(He,St);return new js(ls,ls.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(He){return this.options.crs.getProjectedBounds(He===void 0?this.getZoom():He)},getPane:function(He){return typeof He=="string"?this._panes[He]:He},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(He,St){var ls=this.options.crs;return St=St===void 0?this._zoom:St,ls.scale(He)/ls.scale(St)},getScaleZoom:function(He,St){var ls=this.options.crs;St=St===void 0?this._zoom:St;var Es=ls.zoom(He*ls.scale(St));return isNaN(Es)?1/0:Es},project:function(He,St){return St=St===void 0?this._zoom:St,this.options.crs.latLngToPoint(Cs(He),St)},unproject:function(He,St){return St=St===void 0?this._zoom:St,this.options.crs.pointToLatLng(ws(He),St)},layerPointToLatLng:function(He){var St=ws(He).add(this.getPixelOrigin());return this.unproject(St)},latLngToLayerPoint:function(He){var St=this.project(Cs(He))._round();return St._subtract(this.getPixelOrigin())},wrapLatLng:function(He){return this.options.crs.wrapLatLng(Cs(He))},wrapLatLngBounds:function(He){return this.options.crs.wrapLatLngBounds(ks(He))},distance:function(He,St){return this.options.crs.distance(Cs(He),Cs(St))},containerPointToLayerPoint:function(He){return ws(He).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(He){return ws(He).add(this._getMapPanePos())},containerPointToLatLng:function(He){var St=this.containerPointToLayerPoint(ws(He));return this.layerPointToLatLng(St)},latLngToContainerPoint:function(He){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Cs(He)))},mouseEventToContainerPoint:function(He){return Ha(He,this._container)},mouseEventToLayerPoint:function(He){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(He))},mouseEventToLatLng:function(He){return this.layerPointToLatLng(this.mouseEventToLayerPoint(He))},_initContainer:function(He){var St=this._container=Hd(He);if(St){if(St._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ni(St,"scroll",this._onScroll,this),this._containerId=Be(St)},_initLayout:function(){var He=this._container;this._fadeAnimated=this.options.fadeAnimation&&ci.any3d,ki(He,"leaflet-container"+(ci.touch?" leaflet-touch":"")+(ci.retina?" leaflet-retina":"")+(ci.ielt9?" leaflet-oldie":"")+(ci.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var St=Cu(He,"position");St!=="absolute"&&St!=="relative"&&St!=="fixed"&&St!=="sticky"&&(He.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var He=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),tn(this._mapPane,new ps(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(ki(He.markerPane,"leaflet-zoom-hide"),ki(He.shadowPane,"leaflet-zoom-hide"))},_resetView:function(He,St,ls){tn(this._mapPane,new ps(0,0));var Es=!this._loaded;this._loaded=!0,St=this._limitZoom(St),this.fire("viewprereset");var Fs=this._zoom!==St;this._moveStart(Fs,ls)._move(He,St)._moveEnd(Fs),this.fire("viewreset"),Es&&this.fire("load")},_moveStart:function(He,St){return He&&this.fire("zoomstart"),St||this.fire("movestart"),this},_move:function(He,St,ls,Es){St===void 0&&(St=this._zoom);var Fs=this._zoom!==St;return this._zoom=St,this._lastCenter=He,this._pixelOrigin=this._getNewPixelOrigin(He),Es?ls&&ls.pinch&&this.fire("zoom",ls):((Fs||ls&&ls.pinch)&&this.fire("zoom",ls),this.fire("move",ls)),this},_moveEnd:function(He){return He&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return gs(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(He){tn(this._mapPane,this._getMapPanePos().subtract(He))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(He){this._targets={},this._targets[Be(this._container)]=this;var St=He?gn:ni;St(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&St(window,"resize",this._onResize,this),ci.any3d&&this.options.transform3DLimit&&(He?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){gs(this._resizeRequest),this._resizeRequest=ds(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var He=this._getMapPanePos();Math.max(Math.abs(He.x),Math.abs(He.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(He,St){for(var ls=[],Es,Fs=St==="mouseout"||St==="mouseover",Zs=He.target||He.srcElement,dr=!1;Zs;){if(Es=this._targets[Be(Zs)],Es&&(St==="click"||St==="preclick")&&this._draggableMoved(Es)){dr=!0;break}if(Es&&Es.listens(St,!0)&&(Fs&&!yc(Zs,He)||(ls.push(Es),Fs))||Zs===this._container)break;Zs=Zs.parentNode}return!ls.length&&!dr&&!Fs&&this.listens(St,!0)&&(ls=[this]),ls},_isClickDisabled:function(He){for(;He&&He!==this._container;){if(He._leaflet_disable_click)return!0;He=He.parentNode}},_handleDOMEvent:function(He){var St=He.target||He.srcElement;if(!(!this._loaded||St._leaflet_disable_events||He.type==="click"&&this._isClickDisabled(St))){var ls=He.type;ls==="mousedown"&&to(St),this._fireDOMEvent(He,ls)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(He,St,ls){if(He.type==="click"){var Es=Te({},He);Es.type="preclick",this._fireDOMEvent(Es,Es.type,ls)}var Fs=this._findEventTargets(He,St);if(ls){for(var Zs=[],dr=0;dr<ls.length;dr++)ls[dr].listens(St,!0)&&Zs.push(ls[dr]);Fs=Zs.concat(Fs)}if(Fs.length){St==="contextmenu"&&Nn(He);var wr=Fs[0],kr={originalEvent:He};if(He.type!=="keypress"&&He.type!=="keydown"&&He.type!=="keyup"){var Zr=wr.getLatLng&&(!wr._radius||wr._radius<=10);kr.containerPoint=Zr?this.latLngToContainerPoint(wr.getLatLng()):this.mouseEventToContainerPoint(He),kr.layerPoint=this.containerPointToLayerPoint(kr.containerPoint),kr.latlng=Zr?wr.getLatLng():this.layerPointToLatLng(kr.layerPoint)}for(dr=0;dr<Fs.length;dr++)if(Fs[dr].fire(St,kr,!0),kr.originalEvent._stopped||Fs[dr].options.bubblingMouseEvents===!1&&Xe(this._mouseEvents,St)!==-1)return}},_draggableMoved:function(He){return He=He.dragging&&He.dragging.enabled()?He:this,He.dragging&&He.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var He=0,St=this._handlers.length;He<St;He++)this._handlers[He].disable()},whenReady:function(He,St){return this._loaded?He.call(St||this,{target:this}):this.on("load",He,St),this},_getMapPanePos:function(){return Wl(this._mapPane)||new ps(0,0)},_moved:function(){var He=this._getMapPanePos();return He&&!He.equals([0,0])},_getTopLeftPoint:function(He,St){var ls=He&&St!==void 0?this._getNewPixelOrigin(He,St):this.getPixelOrigin();return ls.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(He,St){var ls=this.getSize()._divideBy(2);return this.project(He,St)._subtract(ls)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(He,St,ls){var Es=this._getNewPixelOrigin(ls,St);return this.project(He,St)._subtract(Es)},_latLngBoundsToNewLayerBounds:function(He,St,ls){var Es=this._getNewPixelOrigin(ls,St);return ms([this.project(He.getSouthWest(),St)._subtract(Es),this.project(He.getNorthWest(),St)._subtract(Es),this.project(He.getSouthEast(),St)._subtract(Es),this.project(He.getNorthEast(),St)._subtract(Es)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(He){return this.latLngToLayerPoint(He).subtract(this._getCenterLayerPoint())},_limitCenter:function(He,St,ls){if(!ls)return He;var Es=this.project(He,St),Fs=this.getSize().divideBy(2),Zs=new js(Es.subtract(Fs),Es.add(Fs)),dr=this._getBoundsOffset(Zs,ls,St);return Math.abs(dr.x)<=1&&Math.abs(dr.y)<=1?He:this.unproject(Es.add(dr),St)},_limitOffset:function(He,St){if(!St)return He;var ls=this.getPixelBounds(),Es=new js(ls.min.add(He),ls.max.add(He));return He.add(this._getBoundsOffset(Es,St))},_getBoundsOffset:function(He,St,ls){var Es=ms(this.project(St.getNorthEast(),ls),this.project(St.getSouthWest(),ls)),Fs=Es.min.subtract(He.min),Zs=Es.max.subtract(He.max),dr=this._rebound(Fs.x,-Zs.x),wr=this._rebound(Fs.y,-Zs.y);return new ps(dr,wr)},_rebound:function(He,St){return He+St>0?Math.round(He-St)/2:Math.max(0,Math.ceil(He))-Math.max(0,Math.floor(St))},_limitZoom:function(He){var St=this.getMinZoom(),ls=this.getMaxZoom(),Es=ci.any3d?this.options.zoomSnap:1;return Es&&(He=Math.round(He/Es)*Es),Math.max(St,Math.min(ls,He))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Tn(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(He,St){var ls=this._getCenterOffset(He)._trunc();return(St&&St.animate)!==!0&&!this.getSize().contains(ls)?!1:(this.panBy(ls,St),!0)},_createAnimProxy:function(){var He=this._proxy=Fi("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(He),this.on("zoomanim",function(St){var ls=To,Es=this._proxy.style[ls];Gl(this._proxy,this.project(St.center,St.zoom),this.getZoomScale(St.zoom,1)),Es===this._proxy.style[ls]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){hn(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var He=this.getCenter(),St=this.getZoom();Gl(this._proxy,this.project(He,St),this.getZoomScale(St,1))},_catchTransitionEnd:function(He){this._animatingZoom&&He.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(He,St,ls){if(this._animatingZoom)return!0;if(ls=ls||{},!this._zoomAnimated||ls.animate===!1||this._nothingToAnimate()||Math.abs(St-this._zoom)>this.options.zoomAnimationThreshold)return!1;var Es=this.getZoomScale(St),Fs=this._getCenterOffset(He)._divideBy(1-1/Es);return ls.animate!==!0&&!this.getSize().contains(Fs)?!1:(ds(function(){this._moveStart(!0,ls.noMoveStart||!1)._animateZoom(He,St,!0)},this),!0)},_animateZoom:function(He,St,ls,Es){this._mapPane&&(ls&&(this._animatingZoom=!0,this._animateToCenter=He,this._animateToZoom=St,ki(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:He,zoom:St,noUpdate:Es}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(Me(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Tn(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function qc(He,St){return new zi(He,St)}var ma=Ds.extend({options:{position:"topright"},initialize:function(He){Qe(this,He)},getPosition:function(){return this.options.position},setPosition:function(He){var St=this._map;return St&&St.removeControl(this),this.options.position=He,St&&St.addControl(this),this},getContainer:function(){return this._container},addTo:function(He){this.remove(),this._map=He;var St=this._container=this.onAdd(He),ls=this.getPosition(),Es=He._controlCorners[ls];return ki(St,"leaflet-control"),ls.indexOf("bottom")!==-1?Es.insertBefore(St,Es.firstChild):Es.appendChild(St),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(hn(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(He){this._map&&He&&He.screenX>0&&He.screenY>0&&this._map.getContainer().focus()}}),vc=function(He){return new ma(He)};zi.include({addControl:function(He){return He.addTo(this),this},removeControl:function(He){return He.remove(),this},_initControlPos:function(){var He=this._controlCorners={},St="leaflet-",ls=this._controlContainer=Fi("div",St+"control-container",this._container);function Es(Fs,Zs){var dr=St+Fs+" "+St+Zs;He[Fs+Zs]=Fi("div",dr,ls)}Es("top","left"),Es("top","right"),Es("bottom","left"),Es("bottom","right")},_clearControlPos:function(){for(var He in this._controlCorners)hn(this._controlCorners[He]);hn(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Dh=ma.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(He,St,ls,Es){return ls<Es?-1:Es<ls?1:0}},initialize:function(He,St,ls){Qe(this,ls),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var Es in He)this._addLayer(He[Es],Es);for(Es in St)this._addLayer(St[Es],Es,!0)},onAdd:function(He){this._initLayout(),this._update(),this._map=He,He.on("zoomend",this._checkDisabledLayers,this);for(var St=0;St<this._layers.length;St++)this._layers[St].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(He){return ma.prototype.addTo.call(this,He),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var He=0;He<this._layers.length;He++)this._layers[He].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(He,St){return this._addLayer(He,St),this._map?this._update():this},addOverlay:function(He,St){return this._addLayer(He,St,!0),this._map?this._update():this},removeLayer:function(He){He.off("add remove",this._onLayerChange,this);var St=this._getLayer(Be(He));return St&&this._layers.splice(this._layers.indexOf(St),1),this._map?this._update():this},expand:function(){ki(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var He=this._map.getSize().y-(this._container.offsetTop+50);return He<this._section.clientHeight?(ki(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=He+"px"):Tn(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Tn(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var He="leaflet-control-layers",St=this._container=Fi("div",He),ls=this.options.collapsed;St.setAttribute("aria-haspopup",!0),gc(St),Kl(St);var Es=this._section=Fi("section",He+"-list");ls&&(this._map.on("click",this.collapse,this),ni(St,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var Fs=this._layersLink=Fi("a",He+"-toggle",St);Fs.href="#",Fs.title="Layers",Fs.setAttribute("role","button"),ni(Fs,{keydown:function(Zs){Zs.keyCode===13&&this._expandSafely()},click:function(Zs){Nn(Zs),this._expandSafely()}},this),ls||this.expand(),this._baseLayersList=Fi("div",He+"-base",Es),this._separator=Fi("div",He+"-separator",Es),this._overlaysList=Fi("div",He+"-overlays",Es),St.appendChild(Es)},_getLayer:function(He){for(var St=0;St<this._layers.length;St++)if(this._layers[St]&&Be(this._layers[St].layer)===He)return this._layers[St]},_addLayer:function(He,St,ls){this._map&&He.on("add remove",this._onLayerChange,this),this._layers.push({layer:He,name:St,overlay:ls}),this.options.sortLayers&&this._layers.sort(Me(function(Es,Fs){return this.options.sortFunction(Es.layer,Fs.layer,Es.name,Fs.name)},this)),this.options.autoZIndex&&He.setZIndex&&(this._lastZIndex++,He.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;ko(this._baseLayersList),ko(this._overlaysList),this._layerControlInputs=[];var He,St,ls,Es,Fs=0;for(ls=0;ls<this._layers.length;ls++)Es=this._layers[ls],this._addItem(Es),St=St||Es.overlay,He=He||!Es.overlay,Fs+=Es.overlay?0:1;return this.options.hideSingleBase&&(He=He&&Fs>1,this._baseLayersList.style.display=He?"":"none"),this._separator.style.display=St&&He?"":"none",this},_onLayerChange:function(He){this._handlingClick||this._update();var St=this._getLayer(Be(He.target)),ls=St.overlay?He.type==="add"?"overlayadd":"overlayremove":He.type==="add"?"baselayerchange":null;ls&&this._map.fire(ls,St)},_createRadioElement:function(He,St){var ls='<input type="radio" class="leaflet-control-layers-selector" name="'+He+'"'+(St?' checked="checked"':"")+"/>",Es=document.createElement("div");return Es.innerHTML=ls,Es.firstChild},_addItem:function(He){var St=document.createElement("label"),ls=this._map.hasLayer(He.layer),Es;He.overlay?(Es=document.createElement("input"),Es.type="checkbox",Es.className="leaflet-control-layers-selector",Es.defaultChecked=ls):Es=this._createRadioElement("leaflet-base-layers_"+Be(this),ls),this._layerControlInputs.push(Es),Es.layerId=Be(He.layer),ni(Es,"click",this._onInputClick,this);var Fs=document.createElement("span");Fs.innerHTML=" "+He.name;var Zs=document.createElement("span");St.appendChild(Zs),Zs.appendChild(Es),Zs.appendChild(Fs);var dr=He.overlay?this._overlaysList:this._baseLayersList;return dr.appendChild(St),this._checkDisabledLayers(),St},_onInputClick:function(){if(!this._preventClick){var He=this._layerControlInputs,St,ls,Es=[],Fs=[];this._handlingClick=!0;for(var Zs=He.length-1;Zs>=0;Zs--)St=He[Zs],ls=this._getLayer(St.layerId).layer,St.checked?Es.push(ls):St.checked||Fs.push(ls);for(Zs=0;Zs<Fs.length;Zs++)this._map.hasLayer(Fs[Zs])&&this._map.removeLayer(Fs[Zs]);for(Zs=0;Zs<Es.length;Zs++)this._map.hasLayer(Es[Zs])||this._map.addLayer(Es[Zs]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var He=this._layerControlInputs,St,ls,Es=this._map.getZoom(),Fs=He.length-1;Fs>=0;Fs--)St=He[Fs],ls=this._getLayer(St.layerId).layer,St.disabled=ls.options.minZoom!==void 0&&Es<ls.options.minZoom||ls.options.maxZoom!==void 0&&Es>ls.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var He=this._section;this._preventClick=!0,ni(He,"click",Nn),this.expand();var St=this;setTimeout(function(){gn(He,"click",Nn),St._preventClick=!1})}}),Hp=function(He,St,ls){return new Dh(He,St,ls)},Jl=ma.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(He){var St="leaflet-control-zoom",ls=Fi("div",St+" leaflet-bar"),Es=this.options;return this._zoomInButton=this._createButton(Es.zoomInText,Es.zoomInTitle,St+"-in",ls,this._zoomIn),this._zoomOutButton=this._createButton(Es.zoomOutText,Es.zoomOutTitle,St+"-out",ls,this._zoomOut),this._updateDisabled(),He.on("zoomend zoomlevelschange",this._updateDisabled,this),ls},onRemove:function(He){He.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(He){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(He.shiftKey?3:1))},_zoomOut:function(He){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(He.shiftKey?3:1))},_createButton:function(He,St,ls,Es,Fs){var Zs=Fi("a",ls,Es);return Zs.innerHTML=He,Zs.href="#",Zs.title=St,Zs.setAttribute("role","button"),Zs.setAttribute("aria-label",St),gc(Zs),ni(Zs,"click",jl),ni(Zs,"click",Fs,this),ni(Zs,"click",this._refocusOnMap,this),Zs},_updateDisabled:function(){var He=this._map,St="leaflet-disabled";Tn(this._zoomInButton,St),Tn(this._zoomOutButton,St),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||He._zoom===He.getMinZoom())&&(ki(this._zoomOutButton,St),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||He._zoom===He.getMaxZoom())&&(ki(this._zoomInButton,St),this._zoomInButton.setAttribute("aria-disabled","true"))}});zi.mergeOptions({zoomControl:!0}),zi.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Jl,this.addControl(this.zoomControl))});var Ql=function(He){return new Jl(He)},Lh=ma.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(He){var St="leaflet-control-scale",ls=Fi("div",St),Es=this.options;return this._addScales(Es,St+"-line",ls),He.on(Es.updateWhenIdle?"moveend":"move",this._update,this),He.whenReady(this._update,this),ls},onRemove:function(He){He.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(He,St,ls){He.metric&&(this._mScale=Fi("div",St,ls)),He.imperial&&(this._iScale=Fi("div",St,ls))},_update:function(){var He=this._map,St=He.getSize().y/2,ls=He.distance(He.containerPointToLatLng([0,St]),He.containerPointToLatLng([this.options.maxWidth,St]));this._updateScales(ls)},_updateScales:function(He){this.options.metric&&He&&this._updateMetric(He),this.options.imperial&&He&&this._updateImperial(He)},_updateMetric:function(He){var St=this._getRoundNum(He),ls=St<1e3?St+" m":St/1e3+" km";this._updateScale(this._mScale,ls,St/He)},_updateImperial:function(He){var St=He*3.2808399,ls,Es,Fs;St>5280?(ls=St/5280,Es=this._getRoundNum(ls),this._updateScale(this._iScale,Es+" mi",Es/ls)):(Fs=this._getRoundNum(St),this._updateScale(this._iScale,Fs+" ft",Fs/St))},_updateScale:function(He,St,ls){He.style.width=Math.round(this.options.maxWidth*ls)+"px",He.innerHTML=St},_getRoundNum:function(He){var St=Math.pow(10,(Math.floor(He)+"").length-1),ls=He/St;return ls=ls>=10?10:ls>=5?5:ls>=3?3:ls>=2?2:1,St*ls}}),fd=function(He){return new Lh(He)},qp='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Rs=ma.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(ci.inlineSvg?qp+" ":"")+"Leaflet</a>"},initialize:function(He){Qe(this,He),this._attributions={}},onAdd:function(He){He.attributionControl=this,this._container=Fi("div","leaflet-control-attribution"),gc(this._container);for(var St in He._layers)He._layers[St].getAttribution&&this.addAttribution(He._layers[St].getAttribution());return this._update(),He.on("layeradd",this._addAttribution,this),this._container},onRemove:function(He){He.off("layeradd",this._addAttribution,this)},_addAttribution:function(He){He.layer.getAttribution&&(this.addAttribution(He.layer.getAttribution()),He.layer.once("remove",function(){this.removeAttribution(He.layer.getAttribution())},this))},setPrefix:function(He){return this.options.prefix=He,this._update(),this},addAttribution:function(He){return He?(this._attributions[He]||(this._attributions[He]=0),this._attributions[He]++,this._update(),this):this},removeAttribution:function(He){return He?(this._attributions[He]&&(this._attributions[He]--,this._update()),this):this},_update:function(){if(this._map){var He=[];for(var St in this._attributions)this._attributions[St]&&He.push(St);var ls=[];this.options.prefix&&ls.push(this.options.prefix),He.length&&ls.push(He.join(", ")),this._container.innerHTML=ls.join(' <span aria-hidden="true">|</span> ')}}});zi.mergeOptions({attributionControl:!0}),zi.addInitHook(function(){this.options.attributionControl&&new Rs().addTo(this)});var qs=function(He){return new Rs(He)};ma.Layers=Dh,ma.Zoom=Jl,ma.Scale=Lh,ma.Attribution=Rs,vc.layers=Hp,vc.zoom=Ql,vc.scale=fd,vc.attribution=qs;var ir=Ds.extend({initialize:function(He){this._map=He},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ir.addTo=function(He,St){return He.addHandler(St,this),this};var pr={Events:bs},br=ci.touch?"touchstart mousedown":"mousedown",Fr=Ns.extend({options:{clickTolerance:3},initialize:function(He,St,ls,Es){Qe(this,Es),this._element=He,this._dragStartTarget=St||He,this._preventOutline=ls},enable:function(){this._enabled||(ni(this._dragStartTarget,br,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Fr._dragging===this&&this.finishDrag(!0),gn(this._dragStartTarget,br,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(He){if(this._enabled&&(this._moved=!1,!yl(this._element,"leaflet-zoom-anim"))){if(He.touches&&He.touches.length!==1){Fr._dragging===this&&this.finishDrag();return}if(!(Fr._dragging||He.shiftKey||He.which!==1&&He.button!==1&&!He.touches)&&(Fr._dragging=this,this._preventOutline&&to(this._element),Gd(),$c(),!this._moving)){this.fire("down");var St=He.touches?He.touches[0]:He,ls=xc(this._element);this._startPoint=new ps(St.clientX,St.clientY),this._startPos=Wl(this._element),this._parentScale=vl(ls);var Es=He.type==="mousedown";ni(document,Es?"mousemove":"touchmove",this._onMove,this),ni(document,Es?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(He){if(this._enabled){if(He.touches&&He.touches.length>1){this._moved=!0;return}var St=He.touches&&He.touches.length===1?He.touches[0]:He,ls=new ps(St.clientX,St.clientY)._subtract(this._startPoint);!ls.x&&!ls.y||Math.abs(ls.x)+Math.abs(ls.y)<this.options.clickTolerance||(ls.x/=this._parentScale.x,ls.y/=this._parentScale.y,Nn(He),this._moved||(this.fire("dragstart"),this._moved=!0,ki(document.body,"leaflet-dragging"),this._lastTarget=He.target||He.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),ki(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(ls),this._moving=!0,this._lastEvent=He,this._updatePosition())}},_updatePosition:function(){var He={originalEvent:this._lastEvent};this.fire("predrag",He),tn(this._element,this._newPos),this.fire("drag",He)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(He){Tn(document.body,"leaflet-dragging"),this._lastTarget&&(Tn(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),gn(document,"mousemove touchmove",this._onMove,this),gn(document,"mouseup touchend touchcancel",this._onUp,this),md(),ho();var St=this._moved&&this._moving;this._moving=!1,Fr._dragging=!1,St&&this.fire("dragend",{noInertia:He,distance:this._newPos.distanceTo(this._startPos)})}});function Xr(He,St,ls){var Es,Fs=[1,4,2,8],Zs,dr,wr,kr,Zr,hi,Ai,Bi;for(Zs=0,hi=He.length;Zs<hi;Zs++)He[Zs]._code=qa(He[Zs],St);for(wr=0;wr<4;wr++){for(Ai=Fs[wr],Es=[],Zs=0,hi=He.length,dr=hi-1;Zs<hi;dr=Zs++)kr=He[Zs],Zr=He[dr],kr._code&Ai?Zr._code&Ai||(Bi=El(Zr,kr,Ai,St,ls),Bi._code=qa(Bi,St),Es.push(Bi)):(Zr._code&Ai&&(Bi=El(Zr,kr,Ai,St,ls),Bi._code=qa(Bi,St),Es.push(Bi)),Es.push(kr));He=Es}return He}function xi(He,St){var ls,Es,Fs,Zs,dr,wr,kr,Zr,hi;if(!He||He.length===0)throw new Error("latlngs not passed");la(He)||(console.warn("latlngs are not flat! Only the first ring will be used"),He=He[0]);var Ai=Cs([0,0]),Bi=ks(He),wa=Bi.getNorthWest().distanceTo(Bi.getSouthWest())*Bi.getNorthEast().distanceTo(Bi.getNorthWest());wa<1700&&(Ai=vi(He));var Wn=He.length,no=[];for(ls=0;ls<Wn;ls++){var jo=Cs(He[ls]);no.push(St.project(Cs([jo.lat-Ai.lat,jo.lng-Ai.lng])))}for(wr=kr=Zr=0,ls=0,Es=Wn-1;ls<Wn;Es=ls++)Fs=no[ls],Zs=no[Es],dr=Fs.y*Zs.x-Zs.y*Fs.x,kr+=(Fs.x+Zs.x)*dr,Zr+=(Fs.y+Zs.y)*dr,wr+=dr*3;wr===0?hi=no[0]:hi=[kr/wr,Zr/wr];var Uu=St.unproject(ws(hi));return Cs([Uu.lat+Ai.lat,Uu.lng+Ai.lng])}function vi(He){for(var St=0,ls=0,Es=0,Fs=0;Fs<He.length;Fs++){var Zs=Cs(He[Fs]);St+=Zs.lat,ls+=Zs.lng,Es++}return Cs([St/Es,ls/Es])}var Li={__proto__:null,clipPolygon:Xr,polygonCenter:xi,centroid:vi};function Oi(He,St){if(!St||!He.length)return He.slice();var ls=St*St;return He=Ea(He,ls),He=fa(He,ls),He}function Qi(He,St,ls){return Math.sqrt(ec(He,St,ls,!0))}function qn(He,St,ls){return ec(He,St,ls)}function fa(He,St){var ls=He.length,Es=typeof Uint8Array<"u"?Uint8Array:Array,Fs=new Es(ls);Fs[0]=Fs[ls-1]=1,jn(He,Fs,St,0,ls-1);var Zs,dr=[];for(Zs=0;Zs<ls;Zs++)Fs[Zs]&&dr.push(He[Zs]);return dr}function jn(He,St,ls,Es,Fs){var Zs=0,dr,wr,kr;for(wr=Es+1;wr<=Fs-1;wr++)kr=ec(He[wr],He[Es],He[Fs],!0),kr>Zs&&(dr=wr,Zs=kr);Zs>ls&&(St[dr]=1,jn(He,St,ls,Es,dr),jn(He,St,ls,dr,Fs))}function Ea(He,St){for(var ls=[He[0]],Es=1,Fs=0,Zs=He.length;Es<Zs;Es++)Gc(He[Es],He[Fs])>St&&(ls.push(He[Es]),Fs=Es);return Fs<Zs-1&&ls.push(He[Zs-1]),ls}var oa;function ka(He,St,ls,Es,Fs){var Zs=Es?oa:qa(He,ls),dr=qa(St,ls),wr,kr,Zr;for(oa=dr;;){if(!(Zs|dr))return[He,St];if(Zs&dr)return!1;wr=Zs||dr,kr=El(He,St,wr,ls,Fs),Zr=qa(kr,ls),wr===Zs?(He=kr,Zs=Zr):(St=kr,dr=Zr)}}function El(He,St,ls,Es,Fs){var Zs=St.x-He.x,dr=St.y-He.y,wr=Es.min,kr=Es.max,Zr,hi;return ls&8?(Zr=He.x+Zs*(kr.y-He.y)/dr,hi=kr.y):ls&4?(Zr=He.x+Zs*(wr.y-He.y)/dr,hi=wr.y):ls&2?(Zr=kr.x,hi=He.y+dr*(kr.x-He.x)/Zs):ls&1&&(Zr=wr.x,hi=He.y+dr*(wr.x-He.x)/Zs),new ps(Zr,hi,Fs)}function qa(He,St){var ls=0;return He.x<St.min.x?ls|=1:He.x>St.max.x&&(ls|=2),He.y<St.min.y?ls|=4:He.y>St.max.y&&(ls|=8),ls}function Gc(He,St){var ls=St.x-He.x,Es=St.y-He.y;return ls*ls+Es*Es}function ec(He,St,ls,Es){var Fs=St.x,Zs=St.y,dr=ls.x-Fs,wr=ls.y-Zs,kr=dr*dr+wr*wr,Zr;return kr>0&&(Zr=((He.x-Fs)*dr+(He.y-Zs)*wr)/kr,Zr>1?(Fs=ls.x,Zs=ls.y):Zr>0&&(Fs+=dr*Zr,Zs+=wr*Zr)),dr=He.x-Fs,wr=He.y-Zs,Es?dr*dr+wr*wr:new ps(Fs,Zs)}function la(He){return!ts(He[0])||typeof He[0][0]!="object"&&typeof He[0][0]<"u"}function Wc(He){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),la(He)}function Zc(He,St){var ls,Es,Fs,Zs,dr,wr,kr,Zr;if(!He||He.length===0)throw new Error("latlngs not passed");la(He)||(console.warn("latlngs are not flat! Only the first ring will be used"),He=He[0]);var hi=Cs([0,0]),Ai=ks(He),Bi=Ai.getNorthWest().distanceTo(Ai.getSouthWest())*Ai.getNorthEast().distanceTo(Ai.getNorthWest());Bi<1700&&(hi=vi(He));var wa=He.length,Wn=[];for(ls=0;ls<wa;ls++){var no=Cs(He[ls]);Wn.push(St.project(Cs([no.lat-hi.lat,no.lng-hi.lng])))}for(ls=0,Es=0;ls<wa-1;ls++)Es+=Wn[ls].distanceTo(Wn[ls+1])/2;if(Es===0)Zr=Wn[0];else for(ls=0,Zs=0;ls<wa-1;ls++)if(dr=Wn[ls],wr=Wn[ls+1],Fs=dr.distanceTo(wr),Zs+=Fs,Zs>Es){kr=(Zs-Es)/Fs,Zr=[wr.x-kr*(wr.x-dr.x),wr.y-kr*(wr.y-dr.y)];break}var jo=St.unproject(ws(Zr));return Cs([jo.lat+hi.lat,jo.lng+hi.lng])}var Fu={__proto__:null,simplify:Oi,pointToSegmentDistance:Qi,closestPointOnSegment:qn,clipSegment:ka,_getEdgeIntersection:El,_getBitCode:qa,_sqClosestPointOnSegment:ec,isFlat:la,_flat:Wc,polylineCenter:Zc},tc={project:function(He){return new ps(He.lng,He.lat)},unproject:function(He){return new zs(He.y,He.x)},bounds:new js([-180,-90],[180,90])},xa={R:6378137,R_MINOR:6356752314245179e-9,bounds:new js([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(He){var St=Math.PI/180,ls=this.R,Es=He.lat*St,Fs=this.R_MINOR/ls,Zs=Math.sqrt(1-Fs*Fs),dr=Zs*Math.sin(Es),wr=Math.tan(Math.PI/4-Es/2)/Math.pow((1-dr)/(1+dr),Zs/2);return Es=-ls*Math.log(Math.max(wr,1e-10)),new ps(He.lng*St*ls,Es)},unproject:function(He){for(var St=180/Math.PI,ls=this.R,Es=this.R_MINOR/ls,Fs=Math.sqrt(1-Es*Es),Zs=Math.exp(-He.y/ls),dr=Math.PI/2-2*Math.atan(Zs),wr=0,kr=.1,Zr;wr<15&&Math.abs(kr)>1e-7;wr++)Zr=Fs*Math.sin(dr),Zr=Math.pow((1-Zr)/(1+Zr),Fs/2),kr=Math.PI/2-2*Math.atan(Zs*Zr)-dr,dr+=kr;return new zs(dr*St,He.x*St/ls)}},Ou={__proto__:null,LonLat:tc,Mercator:xa,SphericalMercator:Vs},wl=Te({},Us,{code:"EPSG:3395",projection:xa,transformation:function(){var He=.5/(Math.PI*xa.R);return or(He,.5,-He,.5)}()}),Zd=Te({},Us,{code:"EPSG:4326",projection:tc,transformation:or(1/180,1,-1/180,.5)}),Mh=Te({},Ps,{projection:tc,transformation:or(1,0,-1,0),scale:function(He){return Math.pow(2,He)},zoom:function(He){return Math.log(He)/Math.LN2},distance:function(He,St){var ls=St.lng-He.lng,Es=St.lat-He.lat;return Math.sqrt(ls*ls+Es*Es)},infinite:!0});Ps.Earth=Us,Ps.EPSG3395=wl,Ps.EPSG3857=rr,Ps.EPSG900913=ur,Ps.EPSG4326=Zd,Ps.Simple=Mh;var kn=Ns.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(He){return He.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(He){return He&&He.removeLayer(this),this},getPane:function(He){return this._map.getPane(He?this.options[He]||He:this.options.pane)},addInteractiveTarget:function(He){return this._map._targets[Be(He)]=this,this},removeInteractiveTarget:function(He){return delete this._map._targets[Be(He)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(He){var St=He.target;if(St.hasLayer(this)){if(this._map=St,this._zoomAnimated=St._zoomAnimated,this.getEvents){var ls=this.getEvents();St.on(ls,this),this.once("remove",function(){St.off(ls,this)},this)}this.onAdd(St),this.fire("add"),St.fire("layeradd",{layer:this})}}});zi.include({addLayer:function(He){if(!He._layerAdd)throw new Error("The provided object is not a Layer.");var St=Be(He);return this._layers[St]?this:(this._layers[St]=He,He._mapToAdd=this,He.beforeAdd&&He.beforeAdd(this),this.whenReady(He._layerAdd,He),this)},removeLayer:function(He){var St=Be(He);return this._layers[St]?(this._loaded&&He.onRemove(this),delete this._layers[St],this._loaded&&(this.fire("layerremove",{layer:He}),He.fire("remove")),He._map=He._mapToAdd=null,this):this},hasLayer:function(He){return Be(He)in this._layers},eachLayer:function(He,St){for(var ls in this._layers)He.call(St,this._layers[ls]);return this},_addLayers:function(He){He=He?ts(He)?He:[He]:[];for(var St=0,ls=He.length;St<ls;St++)this.addLayer(He[St])},_addZoomLimit:function(He){(!isNaN(He.options.maxZoom)||!isNaN(He.options.minZoom))&&(this._zoomBoundLayers[Be(He)]=He,this._updateZoomLevels())},_removeZoomLimit:function(He){var St=Be(He);this._zoomBoundLayers[St]&&(delete this._zoomBoundLayers[St],this._updateZoomLevels())},_updateZoomLevels:function(){var He=1/0,St=-1/0,ls=this._getZoomSpan();for(var Es in this._zoomBoundLayers){var Fs=this._zoomBoundLayers[Es].options;He=Fs.minZoom===void 0?He:Math.min(He,Fs.minZoom),St=Fs.maxZoom===void 0?St:Math.max(St,Fs.maxZoom)}this._layersMaxZoom=St===-1/0?void 0:St,this._layersMinZoom=He===1/0?void 0:He,ls!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var mo=kn.extend({initialize:function(He,St){Qe(this,St),this._layers={};var ls,Es;if(He)for(ls=0,Es=He.length;ls<Es;ls++)this.addLayer(He[ls])},addLayer:function(He){var St=this.getLayerId(He);return this._layers[St]=He,this._map&&this._map.addLayer(He),this},removeLayer:function(He){var St=He in this._layers?He:this.getLayerId(He);return this._map&&this._layers[St]&&this._map.removeLayer(this._layers[St]),delete this._layers[St],this},hasLayer:function(He){var St=typeof He=="number"?He:this.getLayerId(He);return St in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(He){var St=Array.prototype.slice.call(arguments,1),ls,Es;for(ls in this._layers)Es=this._layers[ls],Es[He]&&Es[He].apply(Es,St);return this},onAdd:function(He){this.eachLayer(He.addLayer,He)},onRemove:function(He){this.eachLayer(He.removeLayer,He)},eachLayer:function(He,St){for(var ls in this._layers)He.call(St,this._layers[ls]);return this},getLayer:function(He){return this._layers[He]},getLayers:function(){var He=[];return this.eachLayer(He.push,He),He},setZIndex:function(He){return this.invoke("setZIndex",He)},getLayerId:function(He){return Be(He)}}),xd=function(He,St){return new mo(He,St)},so=mo.extend({addLayer:function(He){return this.hasLayer(He)?this:(He.addEventParent(this),mo.prototype.addLayer.call(this,He),this.fire("layeradd",{layer:He}))},removeLayer:function(He){return this.hasLayer(He)?(He in this._layers&&(He=this._layers[He]),He.removeEventParent(this),mo.prototype.removeLayer.call(this,He),this.fire("layerremove",{layer:He})):this},setStyle:function(He){return this.invoke("setStyle",He)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var He=new ys;for(var St in this._layers){var ls=this._layers[St];He.extend(ls.getBounds?ls.getBounds():ls.getLatLng())}return He}}),ro=function(He,St){return new so(He,St)},Rl=Ds.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(He){Qe(this,He)},createIcon:function(He){return this._createIcon("icon",He)},createShadow:function(He){return this._createIcon("shadow",He)},_createIcon:function(He,St){var ls=this._getIconUrl(He);if(!ls){if(He==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var Es=this._createImg(ls,St&&St.tagName==="IMG"?St:null);return this._setIconStyles(Es,He),(this.options.crossOrigin||this.options.crossOrigin==="")&&(Es.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),Es},_setIconStyles:function(He,St){var ls=this.options,Es=ls[St+"Size"];typeof Es=="number"&&(Es=[Es,Es]);var Fs=ws(Es),Zs=ws(St==="shadow"&&ls.shadowAnchor||ls.iconAnchor||Fs&&Fs.divideBy(2,!0));He.className="leaflet-marker-"+St+" "+(ls.className||""),Zs&&(He.style.marginLeft=-Zs.x+"px",He.style.marginTop=-Zs.y+"px"),Fs&&(He.style.width=Fs.x+"px",He.style.height=Fs.y+"px")},_createImg:function(He,St){return St=St||document.createElement("img"),St.src=He,St},_getIconUrl:function(He){return ci.retina&&this.options[He+"RetinaUrl"]||this.options[He+"Url"]}});function Iu(He){return new Rl(He)}var bc=Rl.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(He){return typeof bc.imagePath!="string"&&(bc.imagePath=this._detectIconPath()),(this.options.imagePath||bc.imagePath)+Rl.prototype._getIconUrl.call(this,He)},_stripUrl:function(He){var St=function(ls,Es,Fs){var Zs=Es.exec(ls);return Zs&&Zs[Fs]};return He=St(He,/^url\((['"])?(.+)\1\)$/,2),He&&St(He,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var He=Fi("div","leaflet-default-icon-path",document.body),St=Cu(He,"background-image")||Cu(He,"backgroundImage");if(document.body.removeChild(He),St=this._stripUrl(St),St)return St;var ls=document.querySelector('link[href$="leaflet.css"]');return ls?ls.href.substring(0,ls.href.length-11-1):""}}),jc=ir.extend({initialize:function(He){this._marker=He},addHooks:function(){var He=this._marker._icon;this._draggable||(this._draggable=new Fr(He,He,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),ki(He,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Tn(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(He){var St=this._marker,ls=St._map,Es=this._marker.options.autoPanSpeed,Fs=this._marker.options.autoPanPadding,Zs=Wl(St._icon),dr=ls.getPixelBounds(),wr=ls.getPixelOrigin(),kr=ms(dr.min._subtract(wr).add(Fs),dr.max._subtract(wr).subtract(Fs));if(!kr.contains(Zs)){var Zr=ws((Math.max(kr.max.x,Zs.x)-kr.max.x)/(dr.max.x-kr.max.x)-(Math.min(kr.min.x,Zs.x)-kr.min.x)/(dr.min.x-kr.min.x),(Math.max(kr.max.y,Zs.y)-kr.max.y)/(dr.max.y-kr.max.y)-(Math.min(kr.min.y,Zs.y)-kr.min.y)/(dr.min.y-kr.min.y)).multiplyBy(Es);ls.panBy(Zr,{animate:!1}),this._draggable._newPos._add(Zr),this._draggable._startPos._add(Zr),tn(St._icon,this._draggable._newPos),this._onDrag(He),this._panRequest=ds(this._adjustPan.bind(this,He))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(He){this._marker.options.autoPan&&(gs(this._panRequest),this._panRequest=ds(this._adjustPan.bind(this,He)))},_onDrag:function(He){var St=this._marker,ls=St._shadow,Es=Wl(St._icon),Fs=St._map.layerPointToLatLng(Es);ls&&tn(ls,Es),St._latlng=Fs,He.latlng=Fs,He.oldLatLng=this._oldLatLng,St.fire("move",He).fire("drag",He)},_onDragEnd:function(He){gs(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",He)}}),_l=kn.extend({options:{icon:new bc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(He,St){Qe(this,St),this._latlng=Cs(He)},onAdd:function(He){this._zoomAnimated=this._zoomAnimated&&He.options.markerZoomAnimation,this._zoomAnimated&&He.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(He){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&He.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(He){var St=this._latlng;return this._latlng=Cs(He),this.update(),this.fire("move",{oldLatLng:St,latlng:this._latlng})},setZIndexOffset:function(He){return this.options.zIndexOffset=He,this.update()},getIcon:function(){return this.options.icon},setIcon:function(He){return this.options.icon=He,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var He=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(He)}return this},_initIcon:function(){var He=this.options,St="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),ls=He.icon.createIcon(this._icon),Es=!1;ls!==this._icon&&(this._icon&&this._removeIcon(),Es=!0,He.title&&(ls.title=He.title),ls.tagName==="IMG"&&(ls.alt=He.alt||"")),ki(ls,St),He.keyboard&&(ls.tabIndex="0",ls.setAttribute("role","button")),this._icon=ls,He.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ni(ls,"focus",this._panOnFocus,this);var Fs=He.icon.createShadow(this._shadow),Zs=!1;Fs!==this._shadow&&(this._removeShadow(),Zs=!0),Fs&&(ki(Fs,St),Fs.alt=""),this._shadow=Fs,He.opacity<1&&this._updateOpacity(),Es&&this.getPane().appendChild(this._icon),this._initInteraction(),Fs&&Zs&&this.getPane(He.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&gn(this._icon,"focus",this._panOnFocus,this),hn(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&hn(this._shadow),this._shadow=null},_setPos:function(He){this._icon&&tn(this._icon,He),this._shadow&&tn(this._shadow,He),this._zIndex=He.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(He){this._icon&&(this._icon.style.zIndex=this._zIndex+He)},_animateZoom:function(He){var St=this._map._latLngToNewLayerPoint(this._latlng,He.zoom,He.center).round();this._setPos(St)},_initInteraction:function(){if(this.options.interactive&&(ki(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),jc)){var He=this.options.draggable;this.dragging&&(He=this.dragging.enabled(),this.dragging.disable()),this.dragging=new jc(this),He&&this.dragging.enable()}},setOpacity:function(He){return this.options.opacity=He,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var He=this.options.opacity;this._icon&&pn(this._icon,He),this._shadow&&pn(this._shadow,He)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var He=this._map;if(He){var St=this.options.icon.options,ls=St.iconSize?ws(St.iconSize):ws(0,0),Es=St.iconAnchor?ws(St.iconAnchor):ws(0,0);He.panInside(this._latlng,{paddingTopLeft:Es,paddingBottomRight:ls.subtract(Es)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function fo(He,St){return new _l(He,St)}var ca=kn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(He){this._renderer=He.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(He){return Qe(this,He),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&He&&Object.prototype.hasOwnProperty.call(He,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Sl=ca.extend({options:{fill:!0,radius:10},initialize:function(He,St){Qe(this,St),this._latlng=Cs(He),this._radius=this.options.radius},setLatLng:function(He){var St=this._latlng;return this._latlng=Cs(He),this.redraw(),this.fire("move",{oldLatLng:St,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(He){return this.options.radius=this._radius=He,this.redraw()},getRadius:function(){return this._radius},setStyle:function(He){var St=He&&He.radius||this._radius;return ca.prototype.setStyle.call(this,He),this.setRadius(St),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var He=this._radius,St=this._radiusY||He,ls=this._clickTolerance(),Es=[He+ls,St+ls];this._pxBounds=new js(this._point.subtract(Es),this._point.add(Es))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(He){return He.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Ec(He,St){return new Sl(He,St)}var wc=Sl.extend({initialize:function(He,St,ls){if(typeof St=="number"&&(St=Te({},ls,{radius:St})),Qe(this,St),this._latlng=Cs(He),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(He){return this._mRadius=He,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var He=[this._radius,this._radiusY||this._radius];return new ys(this._map.layerPointToLatLng(this._point.subtract(He)),this._map.layerPointToLatLng(this._point.add(He)))},setStyle:ca.prototype.setStyle,_project:function(){var He=this._latlng.lng,St=this._latlng.lat,ls=this._map,Es=ls.options.crs;if(Es.distance===Us.distance){var Fs=Math.PI/180,Zs=this._mRadius/Us.R/Fs,dr=ls.project([St+Zs,He]),wr=ls.project([St-Zs,He]),kr=dr.add(wr).divideBy(2),Zr=ls.unproject(kr).lat,hi=Math.acos((Math.cos(Zs*Fs)-Math.sin(St*Fs)*Math.sin(Zr*Fs))/(Math.cos(St*Fs)*Math.cos(Zr*Fs)))/Fs;(isNaN(hi)||hi===0)&&(hi=Zs/Math.cos(Math.PI/180*St)),this._point=kr.subtract(ls.getPixelOrigin()),this._radius=isNaN(hi)?0:kr.x-ls.project([Zr,He-hi]).x,this._radiusY=kr.y-dr.y}else{var Ai=Es.unproject(Es.project(this._latlng).subtract([this._mRadius,0]));this._point=ls.latLngToLayerPoint(this._latlng),this._radius=this._point.x-ls.latLngToLayerPoint(Ai).x}this._updateBounds()}});function Fh(He,St,ls){return new wc(He,St,ls)}var Lo=ca.extend({options:{smoothFactor:1,noClip:!1},initialize:function(He,St){Qe(this,St),this._setLatLngs(He)},getLatLngs:function(){return this._latlngs},setLatLngs:function(He){return this._setLatLngs(He),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(He){for(var St=1/0,ls=null,Es=ec,Fs,Zs,dr=0,wr=this._parts.length;dr<wr;dr++)for(var kr=this._parts[dr],Zr=1,hi=kr.length;Zr<hi;Zr++){Fs=kr[Zr-1],Zs=kr[Zr];var Ai=Es(He,Fs,Zs,!0);Ai<St&&(St=Ai,ls=Es(He,Fs,Zs))}return ls&&(ls.distance=Math.sqrt(St)),ls},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Zc(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(He,St){return St=St||this._defaultShape(),He=Cs(He),St.push(He),this._bounds.extend(He),this.redraw()},_setLatLngs:function(He){this._bounds=new ys,this._latlngs=this._convertLatLngs(He)},_defaultShape:function(){return la(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(He){for(var St=[],ls=la(He),Es=0,Fs=He.length;Es<Fs;Es++)ls?(St[Es]=Cs(He[Es]),this._bounds.extend(St[Es])):St[Es]=this._convertLatLngs(He[Es]);return St},_project:function(){var He=new js;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,He),this._bounds.isValid()&&He.isValid()&&(this._rawPxBounds=He,this._updateBounds())},_updateBounds:function(){var He=this._clickTolerance(),St=new ps(He,He);this._rawPxBounds&&(this._pxBounds=new js([this._rawPxBounds.min.subtract(St),this._rawPxBounds.max.add(St)]))},_projectLatlngs:function(He,St,ls){var Es=He[0]instanceof zs,Fs=He.length,Zs,dr;if(Es){for(dr=[],Zs=0;Zs<Fs;Zs++)dr[Zs]=this._map.latLngToLayerPoint(He[Zs]),ls.extend(dr[Zs]);St.push(dr)}else for(Zs=0;Zs<Fs;Zs++)this._projectLatlngs(He[Zs],St,ls)},_clipPoints:function(){var He=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(He))){if(this.options.noClip){this._parts=this._rings;return}var St=this._parts,ls,Es,Fs,Zs,dr,wr,kr;for(ls=0,Fs=0,Zs=this._rings.length;ls<Zs;ls++)for(kr=this._rings[ls],Es=0,dr=kr.length;Es<dr-1;Es++)wr=ka(kr[Es],kr[Es+1],He,Es,!0),wr&&(St[Fs]=St[Fs]||[],St[Fs].push(wr[0]),(wr[1]!==kr[Es+1]||Es===dr-2)&&(St[Fs].push(wr[1]),Fs++))}},_simplifyPoints:function(){for(var He=this._parts,St=this.options.smoothFactor,ls=0,Es=He.length;ls<Es;ls++)He[ls]=Oi(He[ls],St)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(He,St){var ls,Es,Fs,Zs,dr,wr,kr=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(He))return!1;for(ls=0,Zs=this._parts.length;ls<Zs;ls++)for(wr=this._parts[ls],Es=0,dr=wr.length,Fs=dr-1;Es<dr;Fs=Es++)if(!(!St&&Es===0)&&Qi(He,wr[Fs],wr[Es])<=kr)return!0;return!1}});function ua(He,St){return new Lo(He,St)}Lo._flat=Wc;var Kc=Lo.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return xi(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(He){var St=Lo.prototype._convertLatLngs.call(this,He),ls=St.length;return ls>=2&&St[0]instanceof zs&&St[0].equals(St[ls-1])&&St.pop(),St},_setLatLngs:function(He){Lo.prototype._setLatLngs.call(this,He),la(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return la(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var He=this._renderer._bounds,St=this.options.weight,ls=new ps(St,St);if(He=new js(He.min.subtract(ls),He.max.add(ls)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(He))){if(this.options.noClip){this._parts=this._rings;return}for(var Es=0,Fs=this._rings.length,Zs;Es<Fs;Es++)Zs=Xr(this._rings[Es],He,!0),Zs.length&&this._parts.push(Zs)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(He){var St=!1,ls,Es,Fs,Zs,dr,wr,kr,Zr;if(!this._pxBounds||!this._pxBounds.contains(He))return!1;for(Zs=0,kr=this._parts.length;Zs<kr;Zs++)for(ls=this._parts[Zs],dr=0,Zr=ls.length,wr=Zr-1;dr<Zr;wr=dr++)Es=ls[dr],Fs=ls[wr],Es.y>He.y!=Fs.y>He.y&&He.x<(Fs.x-Es.x)*(He.y-Es.y)/(Fs.y-Es.y)+Es.x&&(St=!St);return St||Lo.prototype._containsPoint.call(this,He,!0)}});function ea(He,St){return new Kc(He,St)}var ta=so.extend({initialize:function(He,St){Qe(this,St),this._layers={},He&&this.addData(He)},addData:function(He){var St=ts(He)?He:He.features,ls,Es,Fs;if(St){for(ls=0,Es=St.length;ls<Es;ls++)Fs=St[ls],(Fs.geometries||Fs.geometry||Fs.features||Fs.coordinates)&&this.addData(Fs);return this}var Zs=this.options;if(Zs.filter&&!Zs.filter(He))return this;var dr=Yc(He,Zs);return dr?(dr.feature=xo(He),dr.defaultOptions=dr.options,this.resetStyle(dr),Zs.onEachFeature&&Zs.onEachFeature(He,dr),this.addLayer(dr)):this},resetStyle:function(He){return He===void 0?this.eachLayer(this.resetStyle,this):(He.options=Te({},He.defaultOptions),this._setLayerStyle(He,this.options.style),this)},setStyle:function(He){return this.eachLayer(function(St){this._setLayerStyle(St,He)},this)},_setLayerStyle:function(He,St){He.setStyle&&(typeof St=="function"&&(St=St(He.feature)),He.setStyle(St))}});function Yc(He,St){var ls=He.type==="Feature"?He.geometry:He,Es=ls?ls.coordinates:null,Fs=[],Zs=St&&St.pointToLayer,dr=St&&St.coordsToLatLng||Bu,wr,kr,Zr,hi;if(!Es&&!ls)return null;switch(ls.type){case"Point":return wr=dr(Es),gd(Zs,He,wr,St);case"MultiPoint":for(Zr=0,hi=Es.length;Zr<hi;Zr++)wr=dr(Es[Zr]),Fs.push(gd(Zs,He,wr,St));return new so(Fs);case"LineString":case"MultiLineString":return kr=Xc(Es,ls.type==="LineString"?0:1,dr),new Lo(kr,St);case"Polygon":case"MultiPolygon":return kr=Xc(Es,ls.type==="Polygon"?1:2,dr),new Kc(kr,St);case"GeometryCollection":for(Zr=0,hi=ls.geometries.length;Zr<hi;Zr++){var Ai=Yc({geometry:ls.geometries[Zr],type:"Feature",properties:He.properties},St);Ai&&Fs.push(Ai)}return new so(Fs);case"FeatureCollection":for(Zr=0,hi=ls.features.length;Zr<hi;Zr++){var Bi=Yc(ls.features[Zr],St);Bi&&Fs.push(Bi)}return new so(Fs);default:throw new Error("Invalid GeoJSON object.")}}function gd(He,St,ls,Es){return He?He(St,ls):new _l(ls,Es&&Es.markersInheritOptions&&Es)}function Bu(He){return new zs(He[1],He[0],He[2])}function Xc(He,St,ls){for(var Es=[],Fs=0,Zs=He.length,dr;Fs<Zs;Fs++)dr=St?Xc(He[Fs],St-1,ls):(ls||Bu)(He[Fs]),Es.push(dr);return Es}function Nl(He,St){return He=Cs(He),He.alt!==void 0?[We(He.lng,St),We(He.lat,St),We(He.alt,St)]:[We(He.lng,St),We(He.lat,St)]}function sc(He,St,ls,Es){for(var Fs=[],Zs=0,dr=He.length;Zs<dr;Zs++)Fs.push(St?sc(He[Zs],la(He[Zs])?0:St-1,ls,Es):Nl(He[Zs],Es));return!St&&ls&&Fs.length>0&&Fs.push(Fs[0].slice()),Fs}function Xo(He,St){return He.feature?Te({},He.feature,{geometry:St}):xo(St)}function xo(He){return He.type==="Feature"||He.type==="FeatureCollection"?He:{type:"Feature",properties:{},geometry:He}}var Al={toGeoJSON:function(He){return Xo(this,{type:"Point",coordinates:Nl(this.getLatLng(),He)})}};_l.include(Al),wc.include(Al),Sl.include(Al),Lo.include({toGeoJSON:function(He){var St=!la(this._latlngs),ls=sc(this._latlngs,St?1:0,!1,He);return Xo(this,{type:(St?"Multi":"")+"LineString",coordinates:ls})}}),Kc.include({toGeoJSON:function(He){var St=!la(this._latlngs),ls=St&&!la(this._latlngs[0]),Es=sc(this._latlngs,ls?2:St?1:0,!0,He);return St||(Es=[Es]),Xo(this,{type:(ls?"Multi":"")+"Polygon",coordinates:Es})}}),mo.include({toMultiPoint:function(He){var St=[];return this.eachLayer(function(ls){St.push(ls.toGeoJSON(He).geometry.coordinates)}),Xo(this,{type:"MultiPoint",coordinates:St})},toGeoJSON:function(He){var St=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(St==="MultiPoint")return this.toMultiPoint(He);var ls=St==="GeometryCollection",Es=[];return this.eachLayer(function(Fs){if(Fs.toGeoJSON){var Zs=Fs.toGeoJSON(He);if(ls)Es.push(Zs.geometry);else{var dr=xo(Zs);dr.type==="FeatureCollection"?Es.push.apply(Es,dr.features):Es.push(dr)}}}),ls?Xo(this,{geometries:Es,type:"GeometryCollection"}):{type:"FeatureCollection",features:Es}}});function Cl(He,St){return new ta(He,St)}var Mo=Cl,Fo=kn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(He,St,ls){this._url=He,this._bounds=ks(St),Qe(this,ls)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(ki(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){hn(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(He){return this.options.opacity=He,this._image&&this._updateOpacity(),this},setStyle:function(He){return He.opacity&&this.setOpacity(He.opacity),this},bringToFront:function(){return this._map&&Ki(this._image),this},bringToBack:function(){return this._map&&fc(this._image),this},setUrl:function(He){return this._url=He,this._image&&(this._image.src=He),this},setBounds:function(He){return this._bounds=ks(He),this._map&&this._reset(),this},getEvents:function(){var He={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(He.zoomanim=this._animateZoom),He},setZIndex:function(He){return this.options.zIndex=He,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var He=this._url.tagName==="IMG",St=this._image=He?this._url:Fi("img");if(ki(St,"leaflet-image-layer"),this._zoomAnimated&&ki(St,"leaflet-zoom-animated"),this.options.className&&ki(St,this.options.className),St.onselectstart=qe,St.onmousemove=qe,St.onload=Me(this.fire,this,"load"),St.onerror=Me(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(St.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),He){this._url=St.src;return}St.src=this._url,St.alt=this.options.alt},_animateZoom:function(He){var St=this._map.getZoomScale(He.zoom),ls=this._map._latLngBoundsToNewLayerBounds(this._bounds,He.zoom,He.center).min;Gl(this._image,ls,St)},_reset:function(){var He=this._image,St=new js(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),ls=St.getSize();tn(He,St.min),He.style.width=ls.x+"px",He.style.height=ls.y+"px"},_updateOpacity:function(){pn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var He=this.options.errorOverlayUrl;He&&this._url!==He&&(this._url=He,this._image.src=He)},getCenter:function(){return this._bounds.getCenter()}}),Yi=function(He,St,ls){return new Fo(He,St,ls)},cn=Fo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var He=this._url.tagName==="VIDEO",St=this._image=He?this._url:Fi("video");if(ki(St,"leaflet-image-layer"),this._zoomAnimated&&ki(St,"leaflet-zoom-animated"),this.options.className&&ki(St,this.options.className),St.onselectstart=qe,St.onmousemove=qe,St.onloadeddata=Me(this.fire,this,"load"),He){for(var ls=St.getElementsByTagName("source"),Es=[],Fs=0;Fs<ls.length;Fs++)Es.push(ls[Fs].src);this._url=ls.length>0?Es:[St.src];return}ts(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(St.style,"objectFit")&&(St.style.objectFit="fill"),St.autoplay=!!this.options.autoplay,St.loop=!!this.options.loop,St.muted=!!this.options.muted,St.playsInline=!!this.options.playsInline;for(var Zs=0;Zs<this._url.length;Zs++){var dr=Fi("source");dr.src=this._url[Zs],St.appendChild(dr)}}});function Gn(He,St,ls){return new cn(He,St,ls)}var da=Fo.extend({_initImage:function(){var He=this._image=this._url;ki(He,"leaflet-image-layer"),this._zoomAnimated&&ki(He,"leaflet-zoom-animated"),this.options.className&&ki(He,this.options.className),He.onselectstart=qe,He.onmousemove=qe}});function go(He,St,ls){return new da(He,St,ls)}var yo=kn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(He,St){He&&(He instanceof zs||ts(He))?(this._latlng=Cs(He),Qe(this,St)):(Qe(this,He),this._source=St),this.options.content&&(this._content=this.options.content)},openOn:function(He){return He=arguments.length?He:this._source._map,He.hasLayer(this)||He.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(He){return this._map?this.close():(arguments.length?this._source=He:He=this._source,this._prepareOpen(),this.openOn(He._map)),this},onAdd:function(He){this._zoomAnimated=He._zoomAnimated,this._container||this._initLayout(),He._fadeAnimated&&pn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),He._fadeAnimated&&pn(this._container,1),this.bringToFront(),this.options.interactive&&(ki(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(He){He._fadeAnimated?(pn(this._container,0),this._removeTimeout=setTimeout(Me(hn,void 0,this._container),200)):hn(this._container),this.options.interactive&&(Tn(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(He){return this._latlng=Cs(He),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(He){return this._content=He,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var He={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(He.zoomanim=this._animateZoom),He},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ki(this._container),this},bringToBack:function(){return this._map&&fc(this._container),this},_prepareOpen:function(He){var St=this._source;if(!St._map)return!1;if(St instanceof so){St=null;var ls=this._source._layers;for(var Es in ls)if(ls[Es]._map){St=ls[Es];break}if(!St)return!1;this._source=St}if(!He)if(St.getCenter)He=St.getCenter();else if(St.getLatLng)He=St.getLatLng();else if(St.getBounds)He=St.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(He),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var He=this._contentNode,St=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof St=="string")He.innerHTML=St;else{for(;He.hasChildNodes();)He.removeChild(He.firstChild);He.appendChild(St)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var He=this._map.latLngToLayerPoint(this._latlng),St=ws(this.options.offset),ls=this._getAnchor();this._zoomAnimated?tn(this._container,He.add(ls)):St=St.add(He).add(ls);var Es=this._containerBottom=-St.y,Fs=this._containerLeft=-Math.round(this._containerWidth/2)+St.x;this._container.style.bottom=Es+"px",this._container.style.left=Fs+"px"}},_getAnchor:function(){return[0,0]}});zi.include({_initOverlay:function(He,St,ls,Es){var Fs=St;return Fs instanceof He||(Fs=new He(Es).setContent(St)),ls&&Fs.setLatLng(ls),Fs}}),kn.include({_initOverlay:function(He,St,ls,Es){var Fs=ls;return Fs instanceof He?(Qe(Fs,Es),Fs._source=this):(Fs=St&&!Es?St:new He(Es,this),Fs.setContent(ls)),Fs}});var Rc=yo.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(He){return He=arguments.length?He:this._source._map,!He.hasLayer(this)&&He._popup&&He._popup.options.autoClose&&He.removeLayer(He._popup),He._popup=this,yo.prototype.openOn.call(this,He)},onAdd:function(He){yo.prototype.onAdd.call(this,He),He.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof ca||this._source.on("preclick",Zl))},onRemove:function(He){yo.prototype.onRemove.call(this,He),He.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof ca||this._source.off("preclick",Zl))},getEvents:function(){var He=yo.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(He.preclick=this.close),this.options.keepInView&&(He.moveend=this._adjustPan),He},_initLayout:function(){var He="leaflet-popup",St=this._container=Fi("div",He+" "+(this.options.className||"")+" leaflet-zoom-animated"),ls=this._wrapper=Fi("div",He+"-content-wrapper",St);if(this._contentNode=Fi("div",He+"-content",ls),gc(St),Kl(this._contentNode),ni(St,"contextmenu",Zl),this._tipContainer=Fi("div",He+"-tip-container",St),this._tip=Fi("div",He+"-tip",this._tipContainer),this.options.closeButton){var Es=this._closeButton=Fi("a",He+"-close-button",St);Es.setAttribute("role","button"),Es.setAttribute("aria-label","Close popup"),Es.href="#close",Es.innerHTML='<span aria-hidden="true">&#215;</span>',ni(Es,"click",function(Fs){Nn(Fs),this.close()},this)}},_updateLayout:function(){var He=this._contentNode,St=He.style;St.width="",St.whiteSpace="nowrap";var ls=He.offsetWidth;ls=Math.min(ls,this.options.maxWidth),ls=Math.max(ls,this.options.minWidth),St.width=ls+1+"px",St.whiteSpace="",St.height="";var Es=He.offsetHeight,Fs=this.options.maxHeight,Zs="leaflet-popup-scrolled";Fs&&Es>Fs?(St.height=Fs+"px",ki(He,Zs)):Tn(He,Zs),this._containerWidth=this._container.offsetWidth},_animateZoom:function(He){var St=this._map._latLngToNewLayerPoint(this._latlng,He.zoom,He.center),ls=this._getAnchor();tn(this._container,St.add(ls))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var He=this._map,St=parseInt(Cu(this._container,"marginBottom"),10)||0,ls=this._container.offsetHeight+St,Es=this._containerWidth,Fs=new ps(this._containerLeft,-ls-this._containerBottom);Fs._add(Wl(this._container));var Zs=He.layerPointToContainerPoint(Fs),dr=ws(this.options.autoPanPadding),wr=ws(this.options.autoPanPaddingTopLeft||dr),kr=ws(this.options.autoPanPaddingBottomRight||dr),Zr=He.getSize(),hi=0,Ai=0;Zs.x+Es+kr.x>Zr.x&&(hi=Zs.x+Es-Zr.x+kr.x),Zs.x-hi-wr.x<0&&(hi=Zs.x-wr.x),Zs.y+ls+kr.y>Zr.y&&(Ai=Zs.y+ls-Zr.y+kr.y),Zs.y-Ai-wr.y<0&&(Ai=Zs.y-wr.y),(hi||Ai)&&(this.options.keepInView&&(this._autopanning=!0),He.fire("autopanstart").panBy([hi,Ai]))}},_getAnchor:function(){return ws(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Oh=function(He,St){return new Rc(He,St)};zi.mergeOptions({closePopupOnClick:!0}),zi.include({openPopup:function(He,St,ls){return this._initOverlay(Rc,He,St,ls).openOn(this),this},closePopup:function(He){return He=arguments.length?He:this._popup,He&&He.close(),this}}),kn.include({bindPopup:function(He,St){return this._popup=this._initOverlay(Rc,this._popup,He,St),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(He){return this._popup&&(this instanceof so||(this._popup._source=this),this._popup._prepareOpen(He||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(He){return this._popup&&this._popup.setContent(He),this},getPopup:function(){return this._popup},_openPopup:function(He){if(!(!this._popup||!this._map)){jl(He);var St=He.layer||He.target;if(this._popup._source===St&&!(St instanceof ca)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(He.latlng);return}this._popup._source=St,this.openPopup(He.latlng)}},_movePopup:function(He){this._popup.setLatLng(He.latlng)},_onKeyPress:function(He){He.originalEvent.keyCode===13&&this._openPopup(He)}});var Ih=yo.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(He){yo.prototype.onAdd.call(this,He),this.setOpacity(this.options.opacity),He.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(He){yo.prototype.onRemove.call(this,He),He.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var He=yo.prototype.getEvents.call(this);return this.options.permanent||(He.preclick=this.close),He},_initLayout:function(){var He="leaflet-tooltip",St=He+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Fi("div",St),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+Be(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(He){var St,ls,Es=this._map,Fs=this._container,Zs=Es.latLngToContainerPoint(Es.getCenter()),dr=Es.layerPointToContainerPoint(He),wr=this.options.direction,kr=Fs.offsetWidth,Zr=Fs.offsetHeight,hi=ws(this.options.offset),Ai=this._getAnchor();wr==="top"?(St=kr/2,ls=Zr):wr==="bottom"?(St=kr/2,ls=0):wr==="center"?(St=kr/2,ls=Zr/2):wr==="right"?(St=0,ls=Zr/2):wr==="left"?(St=kr,ls=Zr/2):dr.x<Zs.x?(wr="right",St=0,ls=Zr/2):(wr="left",St=kr+(hi.x+Ai.x)*2,ls=Zr/2),He=He.subtract(ws(St,ls,!0)).add(hi).add(Ai),Tn(Fs,"leaflet-tooltip-right"),Tn(Fs,"leaflet-tooltip-left"),Tn(Fs,"leaflet-tooltip-top"),Tn(Fs,"leaflet-tooltip-bottom"),ki(Fs,"leaflet-tooltip-"+wr),tn(Fs,He)},_updatePosition:function(){var He=this._map.latLngToLayerPoint(this._latlng);this._setPosition(He)},setOpacity:function(He){this.options.opacity=He,this._container&&pn(this._container,He)},_animateZoom:function(He){var St=this._map._latLngToNewLayerPoint(this._latlng,He.zoom,He.center);this._setPosition(St)},_getAnchor:function(){return ws(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Qx=function(He,St){return new Ih(He,St)};zi.include({openTooltip:function(He,St,ls){return this._initOverlay(Ih,He,St,ls).openOn(this),this},closeTooltip:function(He){return He.close(),this}}),kn.include({bindTooltip:function(He,St){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ih,this._tooltip,He,St),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(He){if(!(!He&&this._tooltipHandlersAdded)){var St=He?"off":"on",ls={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?ls.add=this._openTooltip:(ls.mouseover=this._openTooltip,ls.mouseout=this.closeTooltip,ls.click=this._openTooltip,this._map?this._addFocusListeners():ls.add=this._addFocusListeners),this._tooltip.options.sticky&&(ls.mousemove=this._moveTooltip),this[St](ls),this._tooltipHandlersAdded=!He}},openTooltip:function(He){return this._tooltip&&(this instanceof so||(this._tooltip._source=this),this._tooltip._prepareOpen(He)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(He){return this._tooltip&&this._tooltip.setContent(He),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(He){var St=typeof He.getElement=="function"&&He.getElement();St&&(ni(St,"focus",function(){this._tooltip._source=He,this.openTooltip()},this),ni(St,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(He){var St=typeof He.getElement=="function"&&He.getElement();St&&St.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(He){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var St=this;this._map.once("moveend",function(){St._openOnceFlag=!1,St._openTooltip(He)});return}this._tooltip._source=He.layer||He.target,this.openTooltip(this._tooltip.options.sticky?He.latlng:void 0)}},_moveTooltip:function(He){var St=He.latlng,ls,Es;this._tooltip.options.sticky&&He.originalEvent&&(ls=this._map.mouseEventToContainerPoint(He.originalEvent),Es=this._map.containerPointToLayerPoint(ls),St=this._map.layerPointToLatLng(Es)),this._tooltip.setLatLng(St)}});var hf=Rl.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(He){var St=He&&He.tagName==="DIV"?He:document.createElement("div"),ls=this.options;if(ls.html instanceof Element?(ko(St),St.appendChild(ls.html)):St.innerHTML=ls.html!==!1?ls.html:"",ls.bgPos){var Es=ws(ls.bgPos);St.style.backgroundPosition=-Es.x+"px "+-Es.y+"px"}return this._setIconStyles(St,"icon"),St},createShadow:function(){return null}});function pf(He){return new hf(He)}Rl.Default=bc;var yd=kn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:ci.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(He){Qe(this,He)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(He){He._addZoomLimit(this)},onRemove:function(He){this._removeAllTiles(),hn(this._container),He._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ki(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(fc(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(He){return this.options.opacity=He,this._updateOpacity(),this},setZIndex:function(He){return this.options.zIndex=He,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var He=this._clampZoom(this._map.getZoom());He!==this._tileZoom&&(this._tileZoom=He,this._updateLevels()),this._update()}return this},getEvents:function(){var He={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=ze(this._onMoveEnd,this.options.updateInterval,this)),He.move=this._onMove),this._zoomAnimated&&(He.zoomanim=this._animateZoom),He},createTile:function(){return document.createElement("div")},getTileSize:function(){var He=this.options.tileSize;return He instanceof ps?He:new ps(He,He)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(He){for(var St=this.getPane().children,ls=-He(-1/0,1/0),Es=0,Fs=St.length,Zs;Es<Fs;Es++)Zs=St[Es].style.zIndex,St[Es]!==this._container&&Zs&&(ls=He(ls,+Zs));isFinite(ls)&&(this.options.zIndex=ls+He(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!ci.ielt9){pn(this._container,this.options.opacity);var He=+new Date,St=!1,ls=!1;for(var Es in this._tiles){var Fs=this._tiles[Es];if(!(!Fs.current||!Fs.loaded)){var Zs=Math.min(1,(He-Fs.loaded)/200);pn(Fs.el,Zs),Zs<1?St=!0:(Fs.active?ls=!0:this._onOpaqueTile(Fs),Fs.active=!0)}}ls&&!this._noPrune&&this._pruneTiles(),St&&(gs(this._fadeFrame),this._fadeFrame=ds(this._updateOpacity,this))}},_onOpaqueTile:qe,_initContainer:function(){this._container||(this._container=Fi("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var He=this._tileZoom,St=this.options.maxZoom;if(He!==void 0){for(var ls in this._levels)ls=Number(ls),this._levels[ls].el.children.length||ls===He?(this._levels[ls].el.style.zIndex=St-Math.abs(He-ls),this._onUpdateLevel(ls)):(hn(this._levels[ls].el),this._removeTilesAtZoom(ls),this._onRemoveLevel(ls),delete this._levels[ls]);var Es=this._levels[He],Fs=this._map;return Es||(Es=this._levels[He]={},Es.el=Fi("div","leaflet-tile-container leaflet-zoom-animated",this._container),Es.el.style.zIndex=St,Es.origin=Fs.project(Fs.unproject(Fs.getPixelOrigin()),He).round(),Es.zoom=He,this._setZoomTransform(Es,Fs.getCenter(),Fs.getZoom()),qe(Es.el.offsetWidth),this._onCreateLevel(Es)),this._level=Es,Es}},_onUpdateLevel:qe,_onRemoveLevel:qe,_onCreateLevel:qe,_pruneTiles:function(){if(this._map){var He,St,ls=this._map.getZoom();if(ls>this.options.maxZoom||ls<this.options.minZoom){this._removeAllTiles();return}for(He in this._tiles)St=this._tiles[He],St.retain=St.current;for(He in this._tiles)if(St=this._tiles[He],St.current&&!St.active){var Es=St.coords;this._retainParent(Es.x,Es.y,Es.z,Es.z-5)||this._retainChildren(Es.x,Es.y,Es.z,Es.z+2)}for(He in this._tiles)this._tiles[He].retain||this._removeTile(He)}},_removeTilesAtZoom:function(He){for(var St in this._tiles)this._tiles[St].coords.z===He&&this._removeTile(St)},_removeAllTiles:function(){for(var He in this._tiles)this._removeTile(He)},_invalidateAll:function(){for(var He in this._levels)hn(this._levels[He].el),this._onRemoveLevel(Number(He)),delete this._levels[He];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(He,St,ls,Es){var Fs=Math.floor(He/2),Zs=Math.floor(St/2),dr=ls-1,wr=new ps(+Fs,+Zs);wr.z=+dr;var kr=this._tileCoordsToKey(wr),Zr=this._tiles[kr];return Zr&&Zr.active?(Zr.retain=!0,!0):(Zr&&Zr.loaded&&(Zr.retain=!0),dr>Es?this._retainParent(Fs,Zs,dr,Es):!1)},_retainChildren:function(He,St,ls,Es){for(var Fs=2*He;Fs<2*He+2;Fs++)for(var Zs=2*St;Zs<2*St+2;Zs++){var dr=new ps(Fs,Zs);dr.z=ls+1;var wr=this._tileCoordsToKey(dr),kr=this._tiles[wr];if(kr&&kr.active){kr.retain=!0;continue}else kr&&kr.loaded&&(kr.retain=!0);ls+1<Es&&this._retainChildren(Fs,Zs,ls+1,Es)}},_resetView:function(He){var St=He&&(He.pinch||He.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),St,St)},_animateZoom:function(He){this._setView(He.center,He.zoom,!0,He.noUpdate)},_clampZoom:function(He){var St=this.options;return St.minNativeZoom!==void 0&&He<St.minNativeZoom?St.minNativeZoom:St.maxNativeZoom!==void 0&&St.maxNativeZoom<He?St.maxNativeZoom:He},_setView:function(He,St,ls,Es){var Fs=Math.round(St);this.options.maxZoom!==void 0&&Fs>this.options.maxZoom||this.options.minZoom!==void 0&&Fs<this.options.minZoom?Fs=void 0:Fs=this._clampZoom(Fs);var Zs=this.options.updateWhenZooming&&Fs!==this._tileZoom;(!Es||Zs)&&(this._tileZoom=Fs,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),Fs!==void 0&&this._update(He),ls||this._pruneTiles(),this._noPrune=!!ls),this._setZoomTransforms(He,St)},_setZoomTransforms:function(He,St){for(var ls in this._levels)this._setZoomTransform(this._levels[ls],He,St)},_setZoomTransform:function(He,St,ls){var Es=this._map.getZoomScale(ls,He.zoom),Fs=He.origin.multiplyBy(Es).subtract(this._map._getNewPixelOrigin(St,ls)).round();ci.any3d?Gl(He.el,Fs,Es):tn(He.el,Fs)},_resetGrid:function(){var He=this._map,St=He.options.crs,ls=this._tileSize=this.getTileSize(),Es=this._tileZoom,Fs=this._map.getPixelWorldBounds(this._tileZoom);Fs&&(this._globalTileRange=this._pxBoundsToTileRange(Fs)),this._wrapX=St.wrapLng&&!this.options.noWrap&&[Math.floor(He.project([0,St.wrapLng[0]],Es).x/ls.x),Math.ceil(He.project([0,St.wrapLng[1]],Es).x/ls.y)],this._wrapY=St.wrapLat&&!this.options.noWrap&&[Math.floor(He.project([St.wrapLat[0],0],Es).y/ls.x),Math.ceil(He.project([St.wrapLat[1],0],Es).y/ls.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(He){var St=this._map,ls=St._animatingZoom?Math.max(St._animateToZoom,St.getZoom()):St.getZoom(),Es=St.getZoomScale(ls,this._tileZoom),Fs=St.project(He,this._tileZoom).floor(),Zs=St.getSize().divideBy(Es*2);return new js(Fs.subtract(Zs),Fs.add(Zs))},_update:function(He){var St=this._map;if(St){var ls=this._clampZoom(St.getZoom());if(He===void 0&&(He=St.getCenter()),this._tileZoom!==void 0){var Es=this._getTiledPixelBounds(He),Fs=this._pxBoundsToTileRange(Es),Zs=Fs.getCenter(),dr=[],wr=this.options.keepBuffer,kr=new js(Fs.getBottomLeft().subtract([wr,-wr]),Fs.getTopRight().add([wr,-wr]));if(!(isFinite(Fs.min.x)&&isFinite(Fs.min.y)&&isFinite(Fs.max.x)&&isFinite(Fs.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var Zr in this._tiles){var hi=this._tiles[Zr].coords;(hi.z!==this._tileZoom||!kr.contains(new ps(hi.x,hi.y)))&&(this._tiles[Zr].current=!1)}if(Math.abs(ls-this._tileZoom)>1){this._setView(He,ls);return}for(var Ai=Fs.min.y;Ai<=Fs.max.y;Ai++)for(var Bi=Fs.min.x;Bi<=Fs.max.x;Bi++){var wa=new ps(Bi,Ai);if(wa.z=this._tileZoom,!!this._isValidTile(wa)){var Wn=this._tiles[this._tileCoordsToKey(wa)];Wn?Wn.current=!0:dr.push(wa)}}if(dr.sort(function(jo,Uu){return jo.distanceTo(Zs)-Uu.distanceTo(Zs)}),dr.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var no=document.createDocumentFragment();for(Bi=0;Bi<dr.length;Bi++)this._addTile(dr[Bi],no);this._level.el.appendChild(no)}}}},_isValidTile:function(He){var St=this._map.options.crs;if(!St.infinite){var ls=this._globalTileRange;if(!St.wrapLng&&(He.x<ls.min.x||He.x>ls.max.x)||!St.wrapLat&&(He.y<ls.min.y||He.y>ls.max.y))return!1}if(!this.options.bounds)return!0;var Es=this._tileCoordsToBounds(He);return ks(this.options.bounds).overlaps(Es)},_keyToBounds:function(He){return this._tileCoordsToBounds(this._keyToTileCoords(He))},_tileCoordsToNwSe:function(He){var St=this._map,ls=this.getTileSize(),Es=He.scaleBy(ls),Fs=Es.add(ls),Zs=St.unproject(Es,He.z),dr=St.unproject(Fs,He.z);return[Zs,dr]},_tileCoordsToBounds:function(He){var St=this._tileCoordsToNwSe(He),ls=new ys(St[0],St[1]);return this.options.noWrap||(ls=this._map.wrapLatLngBounds(ls)),ls},_tileCoordsToKey:function(He){return He.x+":"+He.y+":"+He.z},_keyToTileCoords:function(He){var St=He.split(":"),ls=new ps(+St[0],+St[1]);return ls.z=+St[2],ls},_removeTile:function(He){var St=this._tiles[He];St&&(hn(St.el),delete this._tiles[He],this.fire("tileunload",{tile:St.el,coords:this._keyToTileCoords(He)}))},_initTile:function(He){ki(He,"leaflet-tile");var St=this.getTileSize();He.style.width=St.x+"px",He.style.height=St.y+"px",He.onselectstart=qe,He.onmousemove=qe,ci.ielt9&&this.options.opacity<1&&pn(He,this.options.opacity)},_addTile:function(He,St){var ls=this._getTilePos(He),Es=this._tileCoordsToKey(He),Fs=this.createTile(this._wrapCoords(He),Me(this._tileReady,this,He));this._initTile(Fs),this.createTile.length<2&&ds(Me(this._tileReady,this,He,null,Fs)),tn(Fs,ls),this._tiles[Es]={el:Fs,coords:He,current:!0},St.appendChild(Fs),this.fire("tileloadstart",{tile:Fs,coords:He})},_tileReady:function(He,St,ls){St&&this.fire("tileerror",{error:St,tile:ls,coords:He});var Es=this._tileCoordsToKey(He);ls=this._tiles[Es],ls&&(ls.loaded=+new Date,this._map._fadeAnimated?(pn(ls.el,0),gs(this._fadeFrame),this._fadeFrame=ds(this._updateOpacity,this)):(ls.active=!0,this._pruneTiles()),St||(ki(ls.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:ls.el,coords:He})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),ci.ielt9||!this._map._fadeAnimated?ds(this._pruneTiles,this):setTimeout(Me(this._pruneTiles,this),250)))},_getTilePos:function(He){return He.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(He){var St=new ps(this._wrapX?Ve(He.x,this._wrapX):He.x,this._wrapY?Ve(He.y,this._wrapY):He.y);return St.z=He.z,St},_pxBoundsToTileRange:function(He){var St=this.getTileSize();return new js(He.min.unscaleBy(St).floor(),He.max.unscaleBy(St).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var He in this._tiles)if(!this._tiles[He].loaded)return!1;return!0}});function mf(He){return new yd(He)}var ga=yd.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(He,St){this._url=He,St=Qe(this,St),St.detectRetina&&ci.retina&&St.maxZoom>0?(St.tileSize=Math.floor(St.tileSize/2),St.zoomReverse?(St.zoomOffset--,St.minZoom=Math.min(St.maxZoom,St.minZoom+1)):(St.zoomOffset++,St.maxZoom=Math.max(St.minZoom,St.maxZoom-1)),St.minZoom=Math.max(0,St.minZoom)):St.zoomReverse?St.minZoom=Math.min(St.maxZoom,St.minZoom):St.maxZoom=Math.max(St.minZoom,St.maxZoom),typeof St.subdomains=="string"&&(St.subdomains=St.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(He,St){return this._url===He&&St===void 0&&(St=!0),this._url=He,St||this.redraw(),this},createTile:function(He,St){var ls=document.createElement("img");return ni(ls,"load",Me(this._tileOnLoad,this,St,ls)),ni(ls,"error",Me(this._tileOnError,this,St,ls)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(ls.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(ls.referrerPolicy=this.options.referrerPolicy),ls.alt="",ls.src=this.getTileUrl(He),ls},getTileUrl:function(He){var St={r:ci.retina?"@2x":"",s:this._getSubdomain(He),x:He.x,y:He.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var ls=this._globalTileRange.max.y-He.y;this.options.tms&&(St.y=ls),St["-y"]=ls}return rs(this._url,Te(St,this.options))},_tileOnLoad:function(He,St){ci.ielt9?setTimeout(Me(He,this,null,St),0):He(null,St)},_tileOnError:function(He,St,ls){var Es=this.options.errorTileUrl;Es&&St.getAttribute("src")!==Es&&(St.src=Es),He(ls,St)},_onTileRemove:function(He){He.tile.onload=null},_getZoomForUrl:function(){var He=this._tileZoom,St=this.options.maxZoom,ls=this.options.zoomReverse,Es=this.options.zoomOffset;return ls&&(He=St-He),He+Es},_getSubdomain:function(He){var St=Math.abs(He.x+He.y)%this.options.subdomains.length;return this.options.subdomains[St]},_abortLoading:function(){var He,St;for(He in this._tiles)if(this._tiles[He].coords.z!==this._tileZoom&&(St=this._tiles[He].el,St.onload=qe,St.onerror=qe,!St.complete)){St.src=is;var ls=this._tiles[He].coords;hn(St),delete this._tiles[He],this.fire("tileabort",{tile:St,coords:ls})}},_removeTile:function(He){var St=this._tiles[He];if(St)return St.el.setAttribute("src",is),yd.prototype._removeTile.call(this,He)},_tileReady:function(He,St,ls){if(!(!this._map||ls&&ls.getAttribute("src")===is))return yd.prototype._tileReady.call(this,He,St,ls)}});function Oo(He,St){return new ga(He,St)}var zu=ga.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(He,St){this._url=He;var ls=Te({},this.defaultWmsParams);for(var Es in St)Es in this.options||(ls[Es]=St[Es]);St=Qe(this,St);var Fs=St.detectRetina&&ci.retina?2:1,Zs=this.getTileSize();ls.width=Zs.x*Fs,ls.height=Zs.y*Fs,this.wmsParams=ls},onAdd:function(He){this._crs=this.options.crs||He.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var St=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[St]=this._crs.code,ga.prototype.onAdd.call(this,He)},getTileUrl:function(He){var St=this._tileCoordsToNwSe(He),ls=this._crs,Es=ms(ls.project(St[0]),ls.project(St[1])),Fs=Es.min,Zs=Es.max,dr=(this._wmsVersion>=1.3&&this._crs===Zd?[Fs.y,Fs.x,Zs.y,Zs.x]:[Fs.x,Fs.y,Zs.x,Zs.y]).join(","),wr=ga.prototype.getTileUrl.call(this,He);return wr+ns(this.wmsParams,wr,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+dr},setParams:function(He,St){return Te(this.wmsParams,He),St||this.redraw(),this}});function Gp(He,St){return new zu(He,St)}ga.WMS=zu,Oo.wms=Gp;var Jo=kn.extend({options:{padding:.1},initialize:function(He){Qe(this,He),Be(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),ki(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var He={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(He.zoomanim=this._onAnimZoom),He},_onAnimZoom:function(He){this._updateTransform(He.center,He.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(He,St){var ls=this._map.getZoomScale(St,this._zoom),Es=this._map.getSize().multiplyBy(.5+this.options.padding),Fs=this._map.project(this._center,St),Zs=Es.multiplyBy(-ls).add(Fs).subtract(this._map._getNewPixelOrigin(He,St));ci.any3d?Gl(this._container,Zs,ls):tn(this._container,Zs)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var He in this._layers)this._layers[He]._reset()},_onZoomEnd:function(){for(var He in this._layers)this._layers[He]._project()},_updatePaths:function(){for(var He in this._layers)this._layers[He]._update()},_update:function(){var He=this.options.padding,St=this._map.getSize(),ls=this._map.containerPointToLayerPoint(St.multiplyBy(-He)).round();this._bounds=new js(ls,ls.add(St.multiplyBy(1+He*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Kd=Jo.extend({options:{tolerance:0},getEvents:function(){var He=Jo.prototype.getEvents.call(this);return He.viewprereset=this._onViewPreReset,He},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Jo.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var He=this._container=document.createElement("canvas");ni(He,"mousemove",this._onMouseMove,this),ni(He,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ni(He,"mouseout",this._handleMouseOut,this),He._leaflet_disable_events=!0,this._ctx=He.getContext("2d")},_destroyContainer:function(){gs(this._redrawRequest),delete this._ctx,hn(this._container),gn(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var He;this._redrawBounds=null;for(var St in this._layers)He=this._layers[St],He._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Jo.prototype._update.call(this);var He=this._bounds,St=this._container,ls=He.getSize(),Es=ci.retina?2:1;tn(St,He.min),St.width=Es*ls.x,St.height=Es*ls.y,St.style.width=ls.x+"px",St.style.height=ls.y+"px",ci.retina&&this._ctx.scale(2,2),this._ctx.translate(-He.min.x,-He.min.y),this.fire("update")}},_reset:function(){Jo.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(He){this._updateDashArray(He),this._layers[Be(He)]=He;var St=He._order={layer:He,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=St),this._drawLast=St,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(He){this._requestRedraw(He)},_removePath:function(He){var St=He._order,ls=St.next,Es=St.prev;ls?ls.prev=Es:this._drawLast=Es,Es?Es.next=ls:this._drawFirst=ls,delete He._order,delete this._layers[Be(He)],this._requestRedraw(He)},_updatePath:function(He){this._extendRedrawBounds(He),He._project(),He._update(),this._requestRedraw(He)},_updateStyle:function(He){this._updateDashArray(He),this._requestRedraw(He)},_updateDashArray:function(He){if(typeof He.options.dashArray=="string"){var St=He.options.dashArray.split(/[, ]+/),ls=[],Es,Fs;for(Fs=0;Fs<St.length;Fs++){if(Es=Number(St[Fs]),isNaN(Es))return;ls.push(Es)}He.options._dashArray=ls}else He.options._dashArray=He.options.dashArray},_requestRedraw:function(He){this._map&&(this._extendRedrawBounds(He),this._redrawRequest=this._redrawRequest||ds(this._redraw,this))},_extendRedrawBounds:function(He){if(He._pxBounds){var St=(He.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new js,this._redrawBounds.extend(He._pxBounds.min.subtract([St,St])),this._redrawBounds.extend(He._pxBounds.max.add([St,St]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var He=this._redrawBounds;if(He){var St=He.getSize();this._ctx.clearRect(He.min.x,He.min.y,St.x,St.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var He,St=this._redrawBounds;if(this._ctx.save(),St){var ls=St.getSize();this._ctx.beginPath(),this._ctx.rect(St.min.x,St.min.y,ls.x,ls.y),this._ctx.clip()}this._drawing=!0;for(var Es=this._drawFirst;Es;Es=Es.next)He=Es.layer,(!St||He._pxBounds&&He._pxBounds.intersects(St))&&He._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(He,St){if(this._drawing){var ls,Es,Fs,Zs,dr=He._parts,wr=dr.length,kr=this._ctx;if(wr){for(kr.beginPath(),ls=0;ls<wr;ls++){for(Es=0,Fs=dr[ls].length;Es<Fs;Es++)Zs=dr[ls][Es],kr[Es?"lineTo":"moveTo"](Zs.x,Zs.y);St&&kr.closePath()}this._fillStroke(kr,He)}}},_updateCircle:function(He){if(!(!this._drawing||He._empty())){var St=He._point,ls=this._ctx,Es=Math.max(Math.round(He._radius),1),Fs=(Math.max(Math.round(He._radiusY),1)||Es)/Es;Fs!==1&&(ls.save(),ls.scale(1,Fs)),ls.beginPath(),ls.arc(St.x,St.y/Fs,Es,0,Math.PI*2,!1),Fs!==1&&ls.restore(),this._fillStroke(ls,He)}},_fillStroke:function(He,St){var ls=St.options;ls.fill&&(He.globalAlpha=ls.fillOpacity,He.fillStyle=ls.fillColor||ls.color,He.fill(ls.fillRule||"evenodd")),ls.stroke&&ls.weight!==0&&(He.setLineDash&&He.setLineDash(St.options&&St.options._dashArray||[]),He.globalAlpha=ls.opacity,He.lineWidth=ls.weight,He.strokeStyle=ls.color,He.lineCap=ls.lineCap,He.lineJoin=ls.lineJoin,He.stroke())},_onClick:function(He){for(var St=this._map.mouseEventToLayerPoint(He),ls,Es,Fs=this._drawFirst;Fs;Fs=Fs.next)ls=Fs.layer,ls.options.interactive&&ls._containsPoint(St)&&(!(He.type==="click"||He.type==="preclick")||!this._map._draggableMoved(ls))&&(Es=ls);this._fireEvent(Es?[Es]:!1,He)},_onMouseMove:function(He){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var St=this._map.mouseEventToLayerPoint(He);this._handleMouseHover(He,St)}},_handleMouseOut:function(He){var St=this._hoveredLayer;St&&(Tn(this._container,"leaflet-interactive"),this._fireEvent([St],He,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(He,St){if(!this._mouseHoverThrottled){for(var ls,Es,Fs=this._drawFirst;Fs;Fs=Fs.next)ls=Fs.layer,ls.options.interactive&&ls._containsPoint(St)&&(Es=ls);Es!==this._hoveredLayer&&(this._handleMouseOut(He),Es&&(ki(this._container,"leaflet-interactive"),this._fireEvent([Es],He,"mouseover"),this._hoveredLayer=Es)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,He),this._mouseHoverThrottled=!0,setTimeout(Me(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(He,St,ls){this._map._fireDOMEvent(St,ls||St.type,He)},_bringToFront:function(He){var St=He._order;if(St){var ls=St.next,Es=St.prev;if(ls)ls.prev=Es;else return;Es?Es.next=ls:ls&&(this._drawFirst=ls),St.prev=this._drawLast,this._drawLast.next=St,St.next=null,this._drawLast=St,this._requestRedraw(He)}},_bringToBack:function(He){var St=He._order;if(St){var ls=St.next,Es=St.prev;if(Es)Es.next=ls;else return;ls?ls.prev=Es:Es&&(this._drawLast=Es),St.prev=null,St.next=this._drawFirst,this._drawFirst.prev=St,this._drawFirst=St,this._requestRedraw(He)}}});function Bh(He){return ci.canvas?new Kd(He):null}var Qo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(He){return document.createElement("<lvml:"+He+' class="lvml">')}}catch{}return function(He){return document.createElement("<"+He+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),ff={_initContainer:function(){this._container=Fi("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Jo.prototype._update.call(this),this.fire("update"))},_initPath:function(He){var St=He._container=Qo("shape");ki(St,"leaflet-vml-shape "+(this.options.className||"")),St.coordsize="1 1",He._path=Qo("path"),St.appendChild(He._path),this._updateStyle(He),this._layers[Be(He)]=He},_addPath:function(He){var St=He._container;this._container.appendChild(St),He.options.interactive&&He.addInteractiveTarget(St)},_removePath:function(He){var St=He._container;hn(St),He.removeInteractiveTarget(St),delete this._layers[Be(He)]},_updateStyle:function(He){var St=He._stroke,ls=He._fill,Es=He.options,Fs=He._container;Fs.stroked=!!Es.stroke,Fs.filled=!!Es.fill,Es.stroke?(St||(St=He._stroke=Qo("stroke")),Fs.appendChild(St),St.weight=Es.weight+"px",St.color=Es.color,St.opacity=Es.opacity,Es.dashArray?St.dashStyle=ts(Es.dashArray)?Es.dashArray.join(" "):Es.dashArray.replace(/( *, *)/g," "):St.dashStyle="",St.endcap=Es.lineCap.replace("butt","flat"),St.joinstyle=Es.lineJoin):St&&(Fs.removeChild(St),He._stroke=null),Es.fill?(ls||(ls=He._fill=Qo("fill")),Fs.appendChild(ls),ls.color=Es.fillColor||Es.color,ls.opacity=Es.fillOpacity):ls&&(Fs.removeChild(ls),He._fill=null)},_updateCircle:function(He){var St=He._point.round(),ls=Math.round(He._radius),Es=Math.round(He._radiusY||ls);this._setPath(He,He._empty()?"M0 0":"AL "+St.x+","+St.y+" "+ls+","+Es+" 0,"+65535*360)},_setPath:function(He,St){He._path.v=St},_bringToFront:function(He){Ki(He._container)},_bringToBack:function(He){fc(He._container)}},Jc=ci.vml?Qo:Ws,el=Jo.extend({_initContainer:function(){this._container=Jc("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Jc("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){hn(this._container),gn(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Jo.prototype._update.call(this);var He=this._bounds,St=He.getSize(),ls=this._container;(!this._svgSize||!this._svgSize.equals(St))&&(this._svgSize=St,ls.setAttribute("width",St.x),ls.setAttribute("height",St.y)),tn(ls,He.min),ls.setAttribute("viewBox",[He.min.x,He.min.y,St.x,St.y].join(" ")),this.fire("update")}},_initPath:function(He){var St=He._path=Jc("path");He.options.className&&ki(St,He.options.className),He.options.interactive&&ki(St,"leaflet-interactive"),this._updateStyle(He),this._layers[Be(He)]=He},_addPath:function(He){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(He._path),He.addInteractiveTarget(He._path)},_removePath:function(He){hn(He._path),He.removeInteractiveTarget(He._path),delete this._layers[Be(He)]},_updatePath:function(He){He._project(),He._update()},_updateStyle:function(He){var St=He._path,ls=He.options;St&&(ls.stroke?(St.setAttribute("stroke",ls.color),St.setAttribute("stroke-opacity",ls.opacity),St.setAttribute("stroke-width",ls.weight),St.setAttribute("stroke-linecap",ls.lineCap),St.setAttribute("stroke-linejoin",ls.lineJoin),ls.dashArray?St.setAttribute("stroke-dasharray",ls.dashArray):St.removeAttribute("stroke-dasharray"),ls.dashOffset?St.setAttribute("stroke-dashoffset",ls.dashOffset):St.removeAttribute("stroke-dashoffset")):St.setAttribute("stroke","none"),ls.fill?(St.setAttribute("fill",ls.fillColor||ls.color),St.setAttribute("fill-opacity",ls.fillOpacity),St.setAttribute("fill-rule",ls.fillRule||"evenodd")):St.setAttribute("fill","none"))},_updatePoly:function(He,St){this._setPath(He,Er(He._parts,St))},_updateCircle:function(He){var St=He._point,ls=Math.max(Math.round(He._radius),1),Es=Math.max(Math.round(He._radiusY),1)||ls,Fs="a"+ls+","+Es+" 0 1,0 ",Zs=He._empty()?"M0 0":"M"+(St.x-ls)+","+St.y+Fs+ls*2+",0 "+Fs+-ls*2+",0 ";this._setPath(He,Zs)},_setPath:function(He,St){He._path.setAttribute("d",St)},_bringToFront:function(He){Ki(He._path)},_bringToBack:function(He){fc(He._path)}});ci.vml&&el.include(ff);function vo(He){return ci.svg||ci.vml?new el(He):null}zi.include({getRenderer:function(He){var St=He.options.renderer||this._getPaneRenderer(He.options.pane)||this.options.renderer||this._renderer;return St||(St=this._renderer=this._createRenderer()),this.hasLayer(St)||this.addLayer(St),St},_getPaneRenderer:function(He){if(He==="overlayPane"||He===void 0)return!1;var St=this._paneRenderers[He];return St===void 0&&(St=this._createRenderer({pane:He}),this._paneRenderers[He]=St),St},_createRenderer:function(He){return this.options.preferCanvas&&Bh(He)||vo(He)}});var On=Kc.extend({initialize:function(He,St){Kc.prototype.initialize.call(this,this._boundsToLatLngs(He),St)},setBounds:function(He){return this.setLatLngs(this._boundsToLatLngs(He))},_boundsToLatLngs:function(He){return He=ks(He),[He.getSouthWest(),He.getNorthWest(),He.getNorthEast(),He.getSouthEast()]}});function Qc(He,St){return new On(He,St)}el.create=Jc,el.pointsToPath=Er,ta.geometryToLayer=Yc,ta.coordsToLatLng=Bu,ta.coordsToLatLngs=Xc,ta.latLngToCoords=Nl,ta.latLngsToCoords=sc,ta.getFeature=Xo,ta.asFeature=xo,zi.mergeOptions({boxZoom:!0});var _c=ir.extend({initialize:function(He){this._map=He,this._container=He._container,this._pane=He._panes.overlayPane,this._resetStateTimeout=0,He.on("unload",this._destroy,this)},addHooks:function(){ni(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){gn(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){hn(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(He){if(!He.shiftKey||He.which!==1&&He.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),$c(),Gd(),this._startPoint=this._map.mouseEventToContainerPoint(He),ni(document,{contextmenu:jl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(He){this._moved||(this._moved=!0,this._box=Fi("div","leaflet-zoom-box",this._container),ki(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(He);var St=new js(this._point,this._startPoint),ls=St.getSize();tn(this._box,St.min),this._box.style.width=ls.x+"px",this._box.style.height=ls.y+"px"},_finish:function(){this._moved&&(hn(this._box),Tn(this._container,"leaflet-crosshair")),ho(),md(),gn(document,{contextmenu:jl,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(He){if(!(He.which!==1&&He.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(Me(this._resetState,this),0);var St=new ys(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(St).fire("boxzoomend",{boxZoomBounds:St})}},_onKeyDown:function(He){He.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});zi.addInitHook("addHandler","boxZoom",_c),zi.mergeOptions({doubleClickZoom:!0});var Yd=ir.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(He){var St=this._map,ls=St.getZoom(),Es=St.options.zoomDelta,Fs=He.originalEvent.shiftKey?ls-Es:ls+Es;St.options.doubleClickZoom==="center"?St.setZoom(Fs):St.setZoomAround(He.containerPoint,Fs)}});zi.addInitHook("addHandler","doubleClickZoom",Yd),zi.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var $u=ir.extend({addHooks:function(){if(!this._draggable){var He=this._map;this._draggable=new Fr(He._mapPane,He._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),He.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),He.on("zoomend",this._onZoomEnd,this),He.whenReady(this._onZoomEnd,this))}ki(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Tn(this._map._container,"leaflet-grab"),Tn(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var He=this._map;if(He._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var St=ks(this._map.options.maxBounds);this._offsetLimit=ms(this._map.latLngToContainerPoint(St.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(St.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;He.fire("movestart").fire("dragstart"),He.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(He){if(this._map.options.inertia){var St=this._lastTime=+new Date,ls=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(ls),this._times.push(St),this._prunePositions(St)}this._map.fire("move",He).fire("drag",He)},_prunePositions:function(He){for(;this._positions.length>1&&He-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var He=this._map.getSize().divideBy(2),St=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=St.subtract(He).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(He,St){return He-(He-St)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var He=this._draggable._newPos.subtract(this._draggable._startPos),St=this._offsetLimit;He.x<St.min.x&&(He.x=this._viscousLimit(He.x,St.min.x)),He.y<St.min.y&&(He.y=this._viscousLimit(He.y,St.min.y)),He.x>St.max.x&&(He.x=this._viscousLimit(He.x,St.max.x)),He.y>St.max.y&&(He.y=this._viscousLimit(He.y,St.max.y)),this._draggable._newPos=this._draggable._startPos.add(He)}},_onPreDragWrap:function(){var He=this._worldWidth,St=Math.round(He/2),ls=this._initialWorldOffset,Es=this._draggable._newPos.x,Fs=(Es-St+ls)%He+St-ls,Zs=(Es+St+ls)%He-St-ls,dr=Math.abs(Fs+ls)<Math.abs(Zs+ls)?Fs:Zs;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=dr},_onDragEnd:function(He){var St=this._map,ls=St.options,Es=!ls.inertia||He.noInertia||this._times.length<2;if(St.fire("dragend",He),Es)St.fire("moveend");else{this._prunePositions(+new Date);var Fs=this._lastPos.subtract(this._positions[0]),Zs=(this._lastTime-this._times[0])/1e3,dr=ls.easeLinearity,wr=Fs.multiplyBy(dr/Zs),kr=wr.distanceTo([0,0]),Zr=Math.min(ls.inertiaMaxSpeed,kr),hi=wr.multiplyBy(Zr/kr),Ai=Zr/(ls.inertiaDeceleration*dr),Bi=hi.multiplyBy(-Ai/2).round();!Bi.x&&!Bi.y?St.fire("moveend"):(Bi=St._limitOffset(Bi,St.options.maxBounds),ds(function(){St.panBy(Bi,{duration:Ai,easeLinearity:dr,noMoveStart:!0,animate:!0})}))}}});zi.addInitHook("addHandler","dragging",$u),zi.mergeOptions({keyboard:!0,keyboardPanDelta:80});var io=ir.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(He){this._map=He,this._setPanDelta(He.options.keyboardPanDelta),this._setZoomDelta(He.options.zoomDelta)},addHooks:function(){var He=this._map._container;He.tabIndex<=0&&(He.tabIndex="0"),ni(He,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),gn(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var He=document.body,St=document.documentElement,ls=He.scrollTop||St.scrollTop,Es=He.scrollLeft||St.scrollLeft;this._map._container.focus(),window.scrollTo(Es,ls)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(He){var St=this._panKeys={},ls=this.keyCodes,Es,Fs;for(Es=0,Fs=ls.left.length;Es<Fs;Es++)St[ls.left[Es]]=[-1*He,0];for(Es=0,Fs=ls.right.length;Es<Fs;Es++)St[ls.right[Es]]=[He,0];for(Es=0,Fs=ls.down.length;Es<Fs;Es++)St[ls.down[Es]]=[0,He];for(Es=0,Fs=ls.up.length;Es<Fs;Es++)St[ls.up[Es]]=[0,-1*He]},_setZoomDelta:function(He){var St=this._zoomKeys={},ls=this.keyCodes,Es,Fs;for(Es=0,Fs=ls.zoomIn.length;Es<Fs;Es++)St[ls.zoomIn[Es]]=He;for(Es=0,Fs=ls.zoomOut.length;Es<Fs;Es++)St[ls.zoomOut[Es]]=-He},_addHooks:function(){ni(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){gn(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(He){if(!(He.altKey||He.ctrlKey||He.metaKey)){var St=He.keyCode,ls=this._map,Es;if(St in this._panKeys){if(!ls._panAnim||!ls._panAnim._inProgress)if(Es=this._panKeys[St],He.shiftKey&&(Es=ws(Es).multiplyBy(3)),ls.options.maxBounds&&(Es=ls._limitOffset(ws(Es),ls.options.maxBounds)),ls.options.worldCopyJump){var Fs=ls.wrapLatLng(ls.unproject(ls.project(ls.getCenter()).add(Es)));ls.panTo(Fs)}else ls.panBy(Es)}else if(St in this._zoomKeys)ls.setZoom(ls.getZoom()+(He.shiftKey?3:1)*this._zoomKeys[St]);else if(St===27&&ls._popup&&ls._popup.options.closeOnEscapeKey)ls.closePopup();else return;jl(He)}}});zi.addInitHook("addHandler","keyboard",io),zi.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var bo=ir.extend({addHooks:function(){ni(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){gn(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(He){var St=Uc(He),ls=this._map.options.wheelDebounceTime;this._delta+=St,this._lastMousePos=this._map.mouseEventToContainerPoint(He),this._startTime||(this._startTime=+new Date);var Es=Math.max(ls-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(Me(this._performZoom,this),Es),jl(He)},_performZoom:function(){var He=this._map,St=He.getZoom(),ls=this._map.options.zoomSnap||0;He._stop();var Es=this._delta/(this._map.options.wheelPxPerZoomLevel*4),Fs=4*Math.log(2/(1+Math.exp(-Math.abs(Es))))/Math.LN2,Zs=ls?Math.ceil(Fs/ls)*ls:Fs,dr=He._limitZoom(St+(this._delta>0?Zs:-Zs))-St;this._delta=0,this._startTime=null,dr&&(He.options.scrollWheelZoom==="center"?He.setZoom(St+dr):He.setZoomAround(this._lastMousePos,St+dr))}});zi.addInitHook("addHandler","scrollWheelZoom",bo);var Vu=600;zi.mergeOptions({tapHold:ci.touchNative&&ci.safari&&ci.mobile,tapTolerance:15});var Pl=ir.extend({addHooks:function(){ni(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){gn(this._map._container,"touchstart",this._onDown,this)},_onDown:function(He){if(clearTimeout(this._holdTimeout),He.touches.length===1){var St=He.touches[0];this._startPos=this._newPos=new ps(St.clientX,St.clientY),this._holdTimeout=setTimeout(Me(function(){this._cancel(),this._isTapValid()&&(ni(document,"touchend",Nn),ni(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",St))},this),Vu),ni(document,"touchend touchcancel contextmenu",this._cancel,this),ni(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function He(){gn(document,"touchend",Nn),gn(document,"touchend touchcancel",He)},_cancel:function(){clearTimeout(this._holdTimeout),gn(document,"touchend touchcancel contextmenu",this._cancel,this),gn(document,"touchmove",this._onMove,this)},_onMove:function(He){var St=He.touches[0];this._newPos=new ps(St.clientX,St.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(He,St){var ls=new MouseEvent(He,{bubbles:!0,cancelable:!0,view:window,screenX:St.screenX,screenY:St.screenY,clientX:St.clientX,clientY:St.clientY});ls._simulated=!0,St.target.dispatchEvent(ls)}});zi.addInitHook("addHandler","tapHold",Pl),zi.mergeOptions({touchZoom:ci.touch,bounceAtZoomLimits:!0});var Tl=ir.extend({addHooks:function(){ki(this._map._container,"leaflet-touch-zoom"),ni(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Tn(this._map._container,"leaflet-touch-zoom"),gn(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(He){var St=this._map;if(!(!He.touches||He.touches.length!==2||St._animatingZoom||this._zooming)){var ls=St.mouseEventToContainerPoint(He.touches[0]),Es=St.mouseEventToContainerPoint(He.touches[1]);this._centerPoint=St.getSize()._divideBy(2),this._startLatLng=St.containerPointToLatLng(this._centerPoint),St.options.touchZoom!=="center"&&(this._pinchStartLatLng=St.containerPointToLatLng(ls.add(Es)._divideBy(2))),this._startDist=ls.distanceTo(Es),this._startZoom=St.getZoom(),this._moved=!1,this._zooming=!0,St._stop(),ni(document,"touchmove",this._onTouchMove,this),ni(document,"touchend touchcancel",this._onTouchEnd,this),Nn(He)}},_onTouchMove:function(He){if(!(!He.touches||He.touches.length!==2||!this._zooming)){var St=this._map,ls=St.mouseEventToContainerPoint(He.touches[0]),Es=St.mouseEventToContainerPoint(He.touches[1]),Fs=ls.distanceTo(Es)/this._startDist;if(this._zoom=St.getScaleZoom(Fs,this._startZoom),!St.options.bounceAtZoomLimits&&(this._zoom<St.getMinZoom()&&Fs<1||this._zoom>St.getMaxZoom()&&Fs>1)&&(this._zoom=St._limitZoom(this._zoom)),St.options.touchZoom==="center"){if(this._center=this._startLatLng,Fs===1)return}else{var Zs=ls._add(Es)._divideBy(2)._subtract(this._centerPoint);if(Fs===1&&Zs.x===0&&Zs.y===0)return;this._center=St.unproject(St.project(this._pinchStartLatLng,this._zoom).subtract(Zs),this._zoom)}this._moved||(St._moveStart(!0,!1),this._moved=!0),gs(this._animRequest);var dr=Me(St._move,St,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ds(dr,this,!0),Nn(He)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,gs(this._animRequest),gn(document,"touchmove",this._onTouchMove,this),gn(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});zi.addInitHook("addHandler","touchZoom",Tl),zi.BoxZoom=_c,zi.DoubleClickZoom=Yd,zi.Drag=$u,zi.Keyboard=io,zi.ScrollWheelZoom=bo,zi.TapHold=Pl,zi.TouchZoom=Tl,Ee.Bounds=js,Ee.Browser=ci,Ee.CRS=Ps,Ee.Canvas=Kd,Ee.Circle=wc,Ee.CircleMarker=Sl,Ee.Class=Ds,Ee.Control=ma,Ee.DivIcon=hf,Ee.DivOverlay=yo,Ee.DomEvent=Hc,Ee.DomUtil=Du,Ee.Draggable=Fr,Ee.Evented=Ns,Ee.FeatureGroup=so,Ee.GeoJSON=ta,Ee.GridLayer=yd,Ee.Handler=ir,Ee.Icon=Rl,Ee.ImageOverlay=Fo,Ee.LatLng=zs,Ee.LatLngBounds=ys,Ee.Layer=kn,Ee.LayerGroup=mo,Ee.LineUtil=Fu,Ee.Map=zi,Ee.Marker=_l,Ee.Mixin=pr,Ee.Path=ca,Ee.Point=ps,Ee.PolyUtil=Li,Ee.Polygon=Kc,Ee.Polyline=Lo,Ee.Popup=Rc,Ee.PosAnimation=Mu,Ee.Projection=Ou,Ee.Rectangle=On,Ee.Renderer=Jo,Ee.SVG=el,Ee.SVGOverlay=da,Ee.TileLayer=ga,Ee.Tooltip=Ih,Ee.Transformation=Ks,Ee.Util=Ts,Ee.VideoOverlay=cn,Ee.bind=Me,Ee.bounds=ms,Ee.canvas=Bh,Ee.circle=Fh,Ee.circleMarker=Ec,Ee.control=vc,Ee.divIcon=pf,Ee.extend=Te,Ee.featureGroup=ro,Ee.geoJSON=Cl,Ee.geoJson=Mo,Ee.gridLayer=mf,Ee.icon=Iu,Ee.imageOverlay=Yi,Ee.latLng=Cs,Ee.latLngBounds=ks,Ee.layerGroup=xd,Ee.map=qc,Ee.marker=fo,Ee.point=ws,Ee.polygon=ea,Ee.polyline=ua,Ee.popup=Oh,Ee.rectangle=Qc,Ee.setOptions=Qe,Ee.stamp=Be,Ee.svg=vo,Ee.svgOverlay=go,Ee.tileLayer=Oo,Ee.tooltip=Qx,Ee.transformation=or,Ee.version=Ce,Ee.videoOverlay=Gn;var Sc=window.L;Ee.noConflict=function(){return window.L=Sc,this},window.L=Ee})}(leafletSrc$1,leafletSrc$1.exports)),leafletSrc$1.exports}var leafletSrcExports=requireLeafletSrc();const L$1=getDefaultExportFromCjs(leafletSrcExports);function createElementObject(Re,e,Ee){return Object.freeze({instance:Re,context:e,container:Ee})}function createElementHook(Re,e){return e==null?function(Ce,Te){const De=reactExports.useRef(void 0);return De.current||(De.current=Re(Ce,Te)),De}:function(Ce,Te){const De=reactExports.useRef(void 0);De.current||(De.current=Re(Ce,Te));const Me=reactExports.useRef(Ce),{instance:Oe}=De.current;return reactExports.useEffect(function(){Me.current!==Ce&&(e(Oe,Ce,Me.current),Me.current=Ce)},[Oe,Ce,e]),De}}function useLayerLifecycle(Re,e){reactExports.useEffect(function(){return(e.layerContainer??e.map).addLayer(Re.instance),function(){var De;(De=e.layerContainer)==null||De.removeLayer(Re.instance),e.map.removeLayer(Re.instance)}},[e,Re])}function createLayerHook(Re){return function(Ee){const Ce=useLeafletContext(),Te=Re(withPane(Ee,Ce),Ce);return useAttribution(Ce.map,Ee.attribution),useEventHandlers(Te.current,Ee.eventHandlers),useLayerLifecycle(Te.current,Ce),Te}}function usePathOptions(Re,e){const Ee=reactExports.useRef(void 0);reactExports.useEffect(function(){if(e.pathOptions!==Ee.current){const Te=e.pathOptions??{};Re.instance.setStyle(Te),Ee.current=Te}},[Re,e])}function createPathHook(Re){return function(Ee){const Ce=useLeafletContext(),Te=Re(withPane(Ee,Ce),Ce);return useEventHandlers(Te.current,Ee.eventHandlers),useLayerLifecycle(Te.current,Ce),usePathOptions(Te.current,Ee),Te}}function createLayerComponent(Re,e){const Ee=createElementHook(Re,e),Ce=createLayerHook(Ee);return createContainerComponent(Ce)}function createOverlayComponent(Re,e){const Ee=createElementHook(Re),Ce=createDivOverlayHook(Ee,e);return createDivOverlayComponent(Ce)}function createPathComponent(Re,e){const Ee=createElementHook(Re,e),Ce=createPathHook(Ee);return createContainerComponent(Ce)}function createTileLayerComponent(Re,e){const Ee=createElementHook(Re,e),Ce=createLayerHook(Ee);return createLeafComponent(Ce)}function updateGridLayer(Re,e,Ee){const{opacity:Ce,zIndex:Te}=e;Ce!=null&&Ce!==Ee.opacity&&Re.setOpacity(Ce),Te!=null&&Te!==Ee.zIndex&&Re.setZIndex(Te)}function useMap(){return useLeafletContext().map}function MapContainerComponent({bounds:Re,boundsOptions:e,center:Ee,children:Ce,className:Te,id:De,placeholder:Me,style:Oe,whenReady:Be,zoom:ze,...Ve},qe){const[We]=reactExports.useState({className:Te,id:De,style:Oe}),[Ge,Je]=reactExports.useState(null),Qe=reactExports.useRef(void 0);reactExports.useImperativeHandle(qe,()=>(Ge==null?void 0:Ge.map)??null,[Ge]);const ns=reactExports.useCallback(rs=>{if(rs!==null&&!Qe.current){const ts=new leafletSrcExports.Map(rs,Ve);Qe.current=ts,Ee!=null&&ze!=null?ts.setView(Ee,ze):Re!=null&&ts.fitBounds(Re,e),Be!=null&&ts.whenReady(Be),Je(createLeafletContext(ts))}},[]);reactExports.useEffect(()=>()=>{Ge==null||Ge.map.remove()},[Ge]);const Ye=Ge?React.createElement(LeafletContext,{value:Ge},Ce):Me??null;return React.createElement("div",{...We,ref:ns},Ye)}const MapContainer=reactExports.forwardRef(MapContainerComponent),Marker=createLayerComponent(function({position:e,...Ee},Ce){const Te=new leafletSrcExports.Marker(e,Ee);return createElementObject(Te,extendContext(Ce,{overlayContainer:Te}))},function(e,Ee,Ce){Ee.position!==Ce.position&&e.setLatLng(Ee.position),Ee.icon!=null&&Ee.icon!==Ce.icon&&e.setIcon(Ee.icon),Ee.zIndexOffset!=null&&Ee.zIndexOffset!==Ce.zIndexOffset&&e.setZIndexOffset(Ee.zIndexOffset),Ee.opacity!=null&&Ee.opacity!==Ce.opacity&&e.setOpacity(Ee.opacity),e.dragging!=null&&Ee.draggable!==Ce.draggable&&(Ee.draggable===!0?e.dragging.enable():e.dragging.disable())}),Polyline=createPathComponent(function({positions:e,...Ee},Ce){const Te=new leafletSrcExports.Polyline(e,Ee);return createElementObject(Te,extendContext(Ce,{overlayContainer:Te}))},function(e,Ee,Ce){Ee.positions!==Ce.positions&&e.setLatLngs(Ee.positions)}),Popup=createOverlayComponent(function(e,Ee){const Ce=new leafletSrcExports.Popup(e,Ee.overlayContainer);return createElementObject(Ce,Ee)},function(e,Ee,{position:Ce},Te){reactExports.useEffect(function(){const{instance:Me}=e;function Oe(ze){ze.popup===Me&&(Me.update(),Te(!0))}function Be(ze){ze.popup===Me&&Te(!1)}return Ee.map.on({popupopen:Oe,popupclose:Be}),Ee.overlayContainer==null?(Ce!=null&&Me.setLatLng(Ce),Me.openOn(Ee.map)):Ee.overlayContainer.bindPopup(Me),function(){var Ve;Ee.map.off({popupopen:Oe,popupclose:Be}),(Ve=Ee.overlayContainer)==null||Ve.unbindPopup(),Ee.map.removeLayer(Me)}},[e,Ee,Te,Ce])}),TileLayer=createTileLayerComponent(function({url:e,...Ee},Ce){const Te=new leafletSrcExports.TileLayer(e,withPane(Ee,Ce));return createElementObject(Te,Ce)},function(e,Ee,Ce){updateGridLayer(e,Ee,Ce);const{url:Te}=Ee;Te!=null&&Te!==Ce.url&&e.setUrl(Te)});var es={},computeDestinationPoint={},getLatitude={},constants={},hasRequiredConstants;function requireConstants(){if(hasRequiredConstants)return constants;hasRequiredConstants=1,Object.defineProperty(constants,"__esModule",{value:!0}),constants.areaConversion=constants.timeConversion=constants.distanceConversion=constants.altitudeKeys=constants.latitudeKeys=constants.longitudeKeys=constants.MAXLON=constants.MINLON=constants.MAXLAT=constants.MINLAT=constants.earthRadius=constants.sexagesimalPattern=void 0;var Re=/^([0-9]{1,3})Â°\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)['â€²]\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["â€³]\s*)?([NEOSW]?)$/;constants.sexagesimalPattern=Re;var e=6378137;constants.earthRadius=e;var Ee=-90;constants.MINLAT=Ee;var Ce=90;constants.MAXLAT=Ce;var Te=-180;constants.MINLON=Te;var De=180;constants.MAXLON=De;var Me=["lng","lon","longitude",0];constants.longitudeKeys=Me;var Oe=["lat","latitude",1];constants.latitudeKeys=Oe;var Be=["alt","altitude","elevation","elev",2];constants.altitudeKeys=Be;var ze={m:1,km:.001,cm:100,mm:1e3,mi:1/1609.344,sm:1/1852.216,ft:100/30.48,in:100/2.54,yd:1/.9144};constants.distanceConversion=ze;var Ve={m:60,h:3600,d:86400};constants.timeConversion=Ve;var qe={m2:1,km2:1e-6,ha:1e-4,a:.01,ft2:10.763911,yd2:1.19599,in2:1550.0031};return constants.areaConversion=qe,qe.sqm=qe.m2,qe.sqkm=qe.km2,qe.sqft=qe.ft2,qe.sqyd=qe.yd2,qe.sqin=qe.in2,constants}var getCoordinateKey={},hasRequiredGetCoordinateKey;function requireGetCoordinateKey(){if(hasRequiredGetCoordinateKey)return getCoordinateKey;hasRequiredGetCoordinateKey=1,Object.defineProperty(getCoordinateKey,"__esModule",{value:!0}),getCoordinateKey.default=void 0;var Re=function(Ce,Te){return Te.reduce(function(De,Me){if(typeof Ce>"u"||Ce===null)throw new Error("'".concat(Ce,"' is no valid coordinate."));return Object.prototype.hasOwnProperty.call(Ce,Me)&&typeof Me<"u"&&typeof De>"u"?(De=Me,Me):De},void 0)},e=Re;return getCoordinateKey.default=e,getCoordinateKey}var toDecimal={},isDecimal={},hasRequiredIsDecimal;function requireIsDecimal(){if(hasRequiredIsDecimal)return isDecimal;hasRequiredIsDecimal=1,Object.defineProperty(isDecimal,"__esModule",{value:!0}),isDecimal.default=void 0;var Re=function(Ce){var Te=Ce.toString().trim();return isNaN(parseFloat(Te))?!1:parseFloat(Te)===Number(Te)},e=Re;return isDecimal.default=e,isDecimal}var isSexagesimal={},hasRequiredIsSexagesimal;function requireIsSexagesimal(){if(hasRequiredIsSexagesimal)return isSexagesimal;hasRequiredIsSexagesimal=1,Object.defineProperty(isSexagesimal,"__esModule",{value:!0}),isSexagesimal.default=void 0;var Re=requireConstants(),e=function(Te){return Re.sexagesimalPattern.test(Te.toString().trim())},Ee=e;return isSexagesimal.default=Ee,isSexagesimal}var sexagesimalToDecimal={},hasRequiredSexagesimalToDecimal;function requireSexagesimalToDecimal(){if(hasRequiredSexagesimalToDecimal)return sexagesimalToDecimal;hasRequiredSexagesimalToDecimal=1,Object.defineProperty(sexagesimalToDecimal,"__esModule",{value:!0}),sexagesimalToDecimal.default=void 0;var Re=requireConstants(),e=function(Te){var De=new RegExp(Re.sexagesimalPattern).exec(Te.toString().trim());if(typeof De>"u"||De===null)throw new Error("Given value is not in sexagesimal format");var Me=Number(De[2])/60||0,Oe=Number(De[4])/3600||0,Be=parseFloat(De[1])+Me+Oe;return["S","W"].includes(De[7])?-Be:Be},Ee=e;return sexagesimalToDecimal.default=Ee,sexagesimalToDecimal}var isValidCoordinate={},getCoordinateKeys={},hasRequiredGetCoordinateKeys;function requireGetCoordinateKeys(){if(hasRequiredGetCoordinateKeys)return getCoordinateKeys;hasRequiredGetCoordinateKeys=1,Object.defineProperty(getCoordinateKeys,"__esModule",{value:!0}),getCoordinateKeys.default=void 0;var Re=requireConstants(),e=Ee(requireGetCoordinateKey());function Ee(Be){return Be&&Be.__esModule?Be:{default:Be}}function Ce(Be,ze){var Ve=Object.keys(Be);if(Object.getOwnPropertySymbols){var qe=Object.getOwnPropertySymbols(Be);ze&&(qe=qe.filter(function(We){return Object.getOwnPropertyDescriptor(Be,We).enumerable})),Ve.push.apply(Ve,qe)}return Ve}function Te(Be){for(var ze=1;ze<arguments.length;ze++){var Ve=arguments[ze]!=null?arguments[ze]:{};ze%2?Ce(Object(Ve),!0).forEach(function(qe){De(Be,qe,Ve[qe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Be,Object.getOwnPropertyDescriptors(Ve)):Ce(Object(Ve)).forEach(function(qe){Object.defineProperty(Be,qe,Object.getOwnPropertyDescriptor(Ve,qe))})}return Be}function De(Be,ze,Ve){return ze in Be?Object.defineProperty(Be,ze,{value:Ve,enumerable:!0,configurable:!0,writable:!0}):Be[ze]=Ve,Be}var Me=function(ze){var Ve=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{longitude:Re.longitudeKeys,latitude:Re.latitudeKeys,altitude:Re.altitudeKeys},qe=(0,e.default)(ze,Ve.longitude),We=(0,e.default)(ze,Ve.latitude),Ge=(0,e.default)(ze,Ve.altitude);return Te({latitude:We,longitude:qe},Ge?{altitude:Ge}:{})},Oe=Me;return getCoordinateKeys.default=Oe,getCoordinateKeys}var isValidLatitude={},hasRequiredIsValidLatitude;function requireIsValidLatitude(){if(hasRequiredIsValidLatitude)return isValidLatitude;hasRequiredIsValidLatitude=1,Object.defineProperty(isValidLatitude,"__esModule",{value:!0}),isValidLatitude.default=void 0;var Re=Te(requireIsDecimal()),e=Te(requireIsSexagesimal()),Ee=Te(requireSexagesimalToDecimal()),Ce=requireConstants();function Te(Oe){return Oe&&Oe.__esModule?Oe:{default:Oe}}var De=function Oe(Be){return(0,Re.default)(Be)?!(parseFloat(Be)>Ce.MAXLAT||Be<Ce.MINLAT):(0,e.default)(Be)?Oe((0,Ee.default)(Be)):!1},Me=De;return isValidLatitude.default=Me,isValidLatitude}var isValidLongitude={},hasRequiredIsValidLongitude;function requireIsValidLongitude(){if(hasRequiredIsValidLongitude)return isValidLongitude;hasRequiredIsValidLongitude=1,Object.defineProperty(isValidLongitude,"__esModule",{value:!0}),isValidLongitude.default=void 0;var Re=Te(requireIsDecimal()),e=Te(requireIsSexagesimal()),Ee=Te(requireSexagesimalToDecimal()),Ce=requireConstants();function Te(Oe){return Oe&&Oe.__esModule?Oe:{default:Oe}}var De=function Oe(Be){return(0,Re.default)(Be)?!(parseFloat(Be)>Ce.MAXLON||Be<Ce.MINLON):(0,e.default)(Be)?Oe((0,Ee.default)(Be)):!1},Me=De;return isValidLongitude.default=Me,isValidLongitude}var hasRequiredIsValidCoordinate;function requireIsValidCoordinate(){if(hasRequiredIsValidCoordinate)return isValidCoordinate;hasRequiredIsValidCoordinate=1,Object.defineProperty(isValidCoordinate,"__esModule",{value:!0}),isValidCoordinate.default=void 0;var Re=Ce(requireGetCoordinateKeys()),e=Ce(requireIsValidLatitude()),Ee=Ce(requireIsValidLongitude());function Ce(Me){return Me&&Me.__esModule?Me:{default:Me}}var Te=function(Oe){var Be=(0,Re.default)(Oe),ze=Be.latitude,Ve=Be.longitude;if(Array.isArray(Oe)&&Oe.length>=2)return(0,Ee.default)(Oe[0])&&(0,e.default)(Oe[1]);if(typeof ze>"u"||typeof Ve>"u")return!1;var qe=Oe[Ve],We=Oe[ze];return!(typeof We>"u"||typeof qe>"u"||(0,e.default)(We)===!1||(0,Ee.default)(qe)===!1)},De=Te;return isValidCoordinate.default=De,isValidCoordinate}var hasRequiredToDecimal;function requireToDecimal(){if(hasRequiredToDecimal)return toDecimal;hasRequiredToDecimal=1,Object.defineProperty(toDecimal,"__esModule",{value:!0}),toDecimal.default=void 0;var Re=De(requireIsDecimal()),e=De(requireIsSexagesimal()),Ee=De(requireSexagesimalToDecimal()),Ce=De(requireIsValidCoordinate()),Te=De(requireGetCoordinateKeys());function De(qe){return qe&&qe.__esModule?qe:{default:qe}}function Me(qe,We){var Ge=Object.keys(qe);if(Object.getOwnPropertySymbols){var Je=Object.getOwnPropertySymbols(qe);We&&(Je=Je.filter(function(Qe){return Object.getOwnPropertyDescriptor(qe,Qe).enumerable})),Ge.push.apply(Ge,Je)}return Ge}function Oe(qe){for(var We=1;We<arguments.length;We++){var Ge=arguments[We]!=null?arguments[We]:{};We%2?Me(Object(Ge),!0).forEach(function(Je){Be(qe,Je,Ge[Je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(qe,Object.getOwnPropertyDescriptors(Ge)):Me(Object(Ge)).forEach(function(Je){Object.defineProperty(qe,Je,Object.getOwnPropertyDescriptor(Ge,Je))})}return qe}function Be(qe,We,Ge){return We in qe?Object.defineProperty(qe,We,{value:Ge,enumerable:!0,configurable:!0,writable:!0}):qe[We]=Ge,qe}var ze=function qe(We){if((0,Re.default)(We))return Number(We);if((0,e.default)(We))return(0,Ee.default)(We);if((0,Ce.default)(We)){var Ge=(0,Te.default)(We);return Array.isArray(We)?We.map(function(Je,Qe){return[0,1].includes(Qe)?qe(Je):Je}):Oe(Oe(Oe({},We),Ge.latitude&&Be({},Ge.latitude,qe(We[Ge.latitude]))),Ge.longitude&&Be({},Ge.longitude,qe(We[Ge.longitude])))}return Array.isArray(We)?We.map(function(Je){return(0,Ce.default)(Je)?qe(Je):Je}):We},Ve=ze;return toDecimal.default=Ve,toDecimal}var hasRequiredGetLatitude;function requireGetLatitude(){if(hasRequiredGetLatitude)return getLatitude;hasRequiredGetLatitude=1,Object.defineProperty(getLatitude,"__esModule",{value:!0}),getLatitude.default=void 0;var Re=requireConstants(),e=Ce(requireGetCoordinateKey()),Ee=Ce(requireToDecimal());function Ce(Me){return Me&&Me.__esModule?Me:{default:Me}}var Te=function(Oe,Be){var ze=(0,e.default)(Oe,Re.latitudeKeys);if(!(typeof ze>"u"||ze===null)){var Ve=Oe[ze];return Be===!0?Ve:(0,Ee.default)(Ve)}},De=Te;return getLatitude.default=De,getLatitude}var getLongitude={},hasRequiredGetLongitude;function requireGetLongitude(){if(hasRequiredGetLongitude)return getLongitude;hasRequiredGetLongitude=1,Object.defineProperty(getLongitude,"__esModule",{value:!0}),getLongitude.default=void 0;var Re=requireConstants(),e=Ce(requireGetCoordinateKey()),Ee=Ce(requireToDecimal());function Ce(Me){return Me&&Me.__esModule?Me:{default:Me}}var Te=function(Oe,Be){var ze=(0,e.default)(Oe,Re.longitudeKeys);if(!(typeof ze>"u"||ze===null)){var Ve=Oe[ze];return Be===!0?Ve:(0,Ee.default)(Ve)}},De=Te;return getLongitude.default=De,getLongitude}var toRad={},hasRequiredToRad;function requireToRad(){if(hasRequiredToRad)return toRad;hasRequiredToRad=1,Object.defineProperty(toRad,"__esModule",{value:!0}),toRad.default=void 0;var Re=function(Ce){return Ce*Math.PI/180},e=Re;return toRad.default=e,toRad}var toDeg={},hasRequiredToDeg;function requireToDeg(){if(hasRequiredToDeg)return toDeg;hasRequiredToDeg=1,Object.defineProperty(toDeg,"__esModule",{value:!0}),toDeg.default=void 0;var Re=function(Ce){return Ce*180/Math.PI},e=Re;return toDeg.default=e,toDeg}var hasRequiredComputeDestinationPoint;function requireComputeDestinationPoint(){if(hasRequiredComputeDestinationPoint)return computeDestinationPoint;hasRequiredComputeDestinationPoint=1,Object.defineProperty(computeDestinationPoint,"__esModule",{value:!0}),computeDestinationPoint.default=void 0;var Re=De(requireGetLatitude()),e=De(requireGetLongitude()),Ee=De(requireToRad()),Ce=De(requireToDeg()),Te=requireConstants();function De(Be){return Be&&Be.__esModule?Be:{default:Be}}var Me=function(ze,Ve,qe){var We=arguments.length>3&&arguments[3]!==void 0?arguments[3]:6371e3,Ge=(0,Re.default)(ze),Je=(0,e.default)(ze),Qe=Ve/We,ns=(0,Ee.default)(qe),Ye=(0,Ee.default)(Ge),rs=(0,Ee.default)(Je),ts=Math.asin(Math.sin(Ye)*Math.cos(Qe)+Math.cos(Ye)*Math.sin(Qe)*Math.cos(ns)),Xe=rs+Math.atan2(Math.sin(ns)*Math.sin(Qe)*Math.cos(Ye),Math.cos(Qe)-Math.sin(Ye)*Math.sin(ts)),is=(0,Ce.default)(Xe);return(is<Te.MINLON||is>Te.MAXLON)&&(Xe=(Xe+3*Math.PI)%(2*Math.PI)-Math.PI,is=(0,Ce.default)(Xe)),{latitude:(0,Ce.default)(ts),longitude:is}},Oe=Me;return computeDestinationPoint.default=Oe,computeDestinationPoint}var convertArea={},hasRequiredConvertArea;function requireConvertArea(){if(hasRequiredConvertArea)return convertArea;hasRequiredConvertArea=1,Object.defineProperty(convertArea,"__esModule",{value:!0}),convertArea.default=void 0;var Re=requireConstants(),e=function(Te){var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m",Me=Re.areaConversion[De];if(Me)return Te*Me;throw new Error("Invalid unit used for area conversion.")},Ee=e;return convertArea.default=Ee,convertArea}var convertDistance={},hasRequiredConvertDistance;function requireConvertDistance(){if(hasRequiredConvertDistance)return convertDistance;hasRequiredConvertDistance=1,Object.defineProperty(convertDistance,"__esModule",{value:!0}),convertDistance.default=void 0;var Re=requireConstants(),e=function(Te){var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m",Me=Re.distanceConversion[De];if(Me)return Te*Me;throw new Error("Invalid unit used for distance conversion.")},Ee=e;return convertDistance.default=Ee,convertDistance}var convertSpeed={},hasRequiredConvertSpeed;function requireConvertSpeed(){if(hasRequiredConvertSpeed)return convertSpeed;hasRequiredConvertSpeed=1,Object.defineProperty(convertSpeed,"__esModule",{value:!0}),convertSpeed.default=void 0;var Re=requireConstants(),e=function(Te){var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"kmh";switch(De){case"kmh":return Te*Re.timeConversion.h*Re.distanceConversion.km;case"mph":return Te*Re.timeConversion.h*Re.distanceConversion.mi;default:return Te}},Ee=e;return convertSpeed.default=Ee,convertSpeed}var decimalToSexagesimal={},hasRequiredDecimalToSexagesimal;function requireDecimalToSexagesimal(){if(hasRequiredDecimalToSexagesimal)return decimalToSexagesimal;hasRequiredDecimalToSexagesimal=1,Object.defineProperty(decimalToSexagesimal,"__esModule",{value:!0}),decimalToSexagesimal.default=void 0;function Re(ze,Ve){return De(ze)||Te(ze,Ve)||Ee(ze,Ve)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ee(ze,Ve){if(ze){if(typeof ze=="string")return Ce(ze,Ve);var qe=Object.prototype.toString.call(ze).slice(8,-1);if(qe==="Object"&&ze.constructor&&(qe=ze.constructor.name),qe==="Map"||qe==="Set")return Array.from(ze);if(qe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(qe))return Ce(ze,Ve)}}function Ce(ze,Ve){(Ve==null||Ve>ze.length)&&(Ve=ze.length);for(var qe=0,We=new Array(Ve);qe<Ve;qe++)We[qe]=ze[qe];return We}function Te(ze,Ve){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(ze)))){var qe=[],We=!0,Ge=!1,Je=void 0;try{for(var Qe=ze[Symbol.iterator](),ns;!(We=(ns=Qe.next()).done)&&(qe.push(ns.value),!(Ve&&qe.length===Ve));We=!0);}catch(Ye){Ge=!0,Je=Ye}finally{try{!We&&Qe.return!=null&&Qe.return()}finally{if(Ge)throw Je}}return qe}}function De(ze){if(Array.isArray(ze))return ze}var Me=function(Ve){var qe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,We=Math.pow(10,qe);return Math.round(Ve*We)/We},Oe=function(Ve){var qe=Ve.toString().split("."),We=Re(qe,2),Ge=We[0],Je=We[1],Qe=Math.abs(Number(Ge)),ns=+("0."+(Je||0))*60,Ye=ns.toString().split("."),rs=Math.floor(ns),ts=Me(+("0."+(Ye[1]||0))*60).toString(),Xe=ts.split("."),is=Re(Xe,2),os=is[0],hs=is[1],fs=hs===void 0?"0":hs;return Qe+"Â° "+rs.toString().padStart(2,"0")+"' "+os.padStart(2,"0")+"."+fs.padEnd(1,"0")+'"'},Be=Oe;return decimalToSexagesimal.default=Be,decimalToSexagesimal}var findNearest={},orderByDistance={},getDistance={},robustAcos={},hasRequiredRobustAcos;function requireRobustAcos(){if(hasRequiredRobustAcos)return robustAcos;hasRequiredRobustAcos=1,Object.defineProperty(robustAcos,"__esModule",{value:!0}),robustAcos.default=void 0;var Re=function(Ce){return Ce>1?1:Ce<-1?-1:Ce},e=Re;return robustAcos.default=e,robustAcos}var hasRequiredGetDistance;function requireGetDistance(){if(hasRequiredGetDistance)return getDistance;hasRequiredGetDistance=1,Object.defineProperty(getDistance,"__esModule",{value:!0}),getDistance.default=void 0;var Re=De(requireGetLatitude()),e=De(requireGetLongitude()),Ee=De(requireToRad()),Ce=De(requireRobustAcos()),Te=requireConstants();function De(Be){return Be&&Be.__esModule?Be:{default:Be}}var Me=function(ze,Ve){var qe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;qe=typeof qe<"u"&&!isNaN(qe)?qe:1;var We=(0,Re.default)(ze),Ge=(0,e.default)(ze),Je=(0,Re.default)(Ve),Qe=(0,e.default)(Ve),ns=Math.acos((0,Ce.default)(Math.sin((0,Ee.default)(Je))*Math.sin((0,Ee.default)(We))+Math.cos((0,Ee.default)(Je))*Math.cos((0,Ee.default)(We))*Math.cos((0,Ee.default)(Ge)-(0,Ee.default)(Qe))))*Te.earthRadius;return Math.round(ns/qe)*qe},Oe=Me;return getDistance.default=Oe,getDistance}var hasRequiredOrderByDistance;function requireOrderByDistance(){if(hasRequiredOrderByDistance)return orderByDistance;hasRequiredOrderByDistance=1,Object.defineProperty(orderByDistance,"__esModule",{value:!0}),orderByDistance.default=void 0;var Re=e(requireGetDistance());function e(Te){return Te&&Te.__esModule?Te:{default:Te}}var Ee=function(De,Me){var Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Re.default;return Oe=typeof Oe=="function"?Oe:Re.default,Me.slice().sort(function(Be,ze){return Oe(De,Be)-Oe(De,ze)})},Ce=Ee;return orderByDistance.default=Ce,orderByDistance}var hasRequiredFindNearest;function requireFindNearest(){if(hasRequiredFindNearest)return findNearest;hasRequiredFindNearest=1,Object.defineProperty(findNearest,"__esModule",{value:!0}),findNearest.default=void 0;var Re=e(requireOrderByDistance());function e(Te){return Te&&Te.__esModule?Te:{default:Te}}var Ee=function(De,Me){return(0,Re.default)(De,Me)[0]},Ce=Ee;return findNearest.default=Ce,findNearest}var getAreaOfPolygon={},hasRequiredGetAreaOfPolygon;function requireGetAreaOfPolygon(){if(hasRequiredGetAreaOfPolygon)return getAreaOfPolygon;hasRequiredGetAreaOfPolygon=1,Object.defineProperty(getAreaOfPolygon,"__esModule",{value:!0}),getAreaOfPolygon.default=void 0;var Re=Te(requireToRad()),e=Te(requireGetLatitude()),Ee=Te(requireGetLongitude()),Ce=requireConstants();function Te(Oe){return Oe&&Oe.__esModule?Oe:{default:Oe}}var De=function(Be){var ze=0;if(Be.length>2){for(var Ve,qe,We,Ge=0;Ge<Be.length;Ge++){Ge===Be.length-2?(Ve=Be.length-2,qe=Be.length-1,We=0):Ge===Be.length-1?(Ve=Be.length-1,qe=0,We=1):(Ve=Ge,qe=Ge+1,We=Ge+2);var Je=(0,Ee.default)(Be[Ve]),Qe=(0,e.default)(Be[qe]),ns=(0,Ee.default)(Be[We]);ze+=((0,Re.default)(ns)-(0,Re.default)(Je))*Math.sin((0,Re.default)(Qe))}ze=ze*Ce.earthRadius*Ce.earthRadius/2}return Math.abs(ze)},Me=De;return getAreaOfPolygon.default=Me,getAreaOfPolygon}var getBounds={},hasRequiredGetBounds;function requireGetBounds(){if(hasRequiredGetBounds)return getBounds;hasRequiredGetBounds=1,Object.defineProperty(getBounds,"__esModule",{value:!0}),getBounds.default=void 0;var Re=Ee(requireGetLatitude()),e=Ee(requireGetLongitude());function Ee(De){return De&&De.__esModule?De:{default:De}}var Ce=function(Me){if(Array.isArray(Me)===!1||Me.length===0)throw new Error("No points were given.");return Me.reduce(function(Oe,Be){var ze=(0,Re.default)(Be),Ve=(0,e.default)(Be);return{maxLat:Math.max(ze,Oe.maxLat),minLat:Math.min(ze,Oe.minLat),maxLng:Math.max(Ve,Oe.maxLng),minLng:Math.min(Ve,Oe.minLng)}},{maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0})},Te=Ce;return getBounds.default=Te,getBounds}var getBoundsOfDistance={},hasRequiredGetBoundsOfDistance;function requireGetBoundsOfDistance(){if(hasRequiredGetBoundsOfDistance)return getBoundsOfDistance;hasRequiredGetBoundsOfDistance=1,Object.defineProperty(getBoundsOfDistance,"__esModule",{value:!0}),getBoundsOfDistance.default=void 0;var Re=De(requireGetLatitude()),e=De(requireGetLongitude()),Ee=De(requireToRad()),Ce=De(requireToDeg()),Te=requireConstants();function De(Be){return Be&&Be.__esModule?Be:{default:Be}}var Me=function(ze,Ve){var qe=(0,Re.default)(ze),We=(0,e.default)(ze),Ge=(0,Ee.default)(qe),Je=(0,Ee.default)(We),Qe=Ve/Te.earthRadius,ns=Ge-Qe,Ye=Ge+Qe,rs=(0,Ee.default)(Te.MAXLAT),ts=(0,Ee.default)(Te.MINLAT),Xe=(0,Ee.default)(Te.MAXLON),is=(0,Ee.default)(Te.MINLON),os,hs;if(ns>ts&&Ye<rs){var fs=Math.asin(Math.sin(Qe)/Math.cos(Ge));os=Je-fs,os<is&&(os+=Math.PI*2),hs=Je+fs,hs>Xe&&(hs-=Math.PI*2)}else ns=Math.max(ns,ts),Ye=Math.min(Ye,rs),os=is,hs=Xe;return[{latitude:(0,Ce.default)(ns),longitude:(0,Ce.default)(os)},{latitude:(0,Ce.default)(Ye),longitude:(0,Ce.default)(hs)}]},Oe=Me;return getBoundsOfDistance.default=Oe,getBoundsOfDistance}var getCenter={},hasRequiredGetCenter;function requireGetCenter(){if(hasRequiredGetCenter)return getCenter;hasRequiredGetCenter=1,Object.defineProperty(getCenter,"__esModule",{value:!0}),getCenter.default=void 0;var Re=Te(requireGetLatitude()),e=Te(requireGetLongitude()),Ee=Te(requireToRad()),Ce=Te(requireToDeg());function Te(Oe){return Oe&&Oe.__esModule?Oe:{default:Oe}}var De=function(Be){if(Array.isArray(Be)===!1||Be.length===0)return!1;var ze=Be.length,Ve=Be.reduce(function(Je,Qe){var ns=(0,Ee.default)((0,Re.default)(Qe)),Ye=(0,Ee.default)((0,e.default)(Qe));return{X:Je.X+Math.cos(ns)*Math.cos(Ye),Y:Je.Y+Math.cos(ns)*Math.sin(Ye),Z:Je.Z+Math.sin(ns)}},{X:0,Y:0,Z:0}),qe=Ve.X/ze,We=Ve.Y/ze,Ge=Ve.Z/ze;return{longitude:(0,Ce.default)(Math.atan2(We,qe)),latitude:(0,Ce.default)(Math.atan2(Ge,Math.sqrt(qe*qe+We*We)))}},Me=De;return getCenter.default=Me,getCenter}var getCenterOfBounds={},hasRequiredGetCenterOfBounds;function requireGetCenterOfBounds(){if(hasRequiredGetCenterOfBounds)return getCenterOfBounds;hasRequiredGetCenterOfBounds=1,Object.defineProperty(getCenterOfBounds,"__esModule",{value:!0}),getCenterOfBounds.default=void 0;var Re=e(requireGetBounds());function e(Te){return Te&&Te.__esModule?Te:{default:Te}}var Ee=function(De){var Me=(0,Re.default)(De),Oe=Me.minLat+(Me.maxLat-Me.minLat)/2,Be=Me.minLng+(Me.maxLng-Me.minLng)/2;return{latitude:parseFloat(Oe.toFixed(6)),longitude:parseFloat(Be.toFixed(6))}},Ce=Ee;return getCenterOfBounds.default=Ce,getCenterOfBounds}var getCompassDirection={},getRhumbLineBearing={},hasRequiredGetRhumbLineBearing;function requireGetRhumbLineBearing(){if(hasRequiredGetRhumbLineBearing)return getRhumbLineBearing;hasRequiredGetRhumbLineBearing=1,Object.defineProperty(getRhumbLineBearing,"__esModule",{value:!0}),getRhumbLineBearing.default=void 0;var Re=Te(requireGetLatitude()),e=Te(requireGetLongitude()),Ee=Te(requireToRad()),Ce=Te(requireToDeg());function Te(Oe){return Oe&&Oe.__esModule?Oe:{default:Oe}}var De=function(Be,ze){var Ve=(0,Ee.default)((0,e.default)(ze))-(0,Ee.default)((0,e.default)(Be)),qe=Math.log(Math.tan((0,Ee.default)((0,Re.default)(ze))/2+Math.PI/4)/Math.tan((0,Ee.default)((0,Re.default)(Be))/2+Math.PI/4));return Math.abs(Ve)>Math.PI&&(Ve>0?Ve=(Math.PI*2-Ve)*-1:Ve=Math.PI*2+Ve),((0,Ce.default)(Math.atan2(Ve,qe))+360)%360},Me=De;return getRhumbLineBearing.default=Me,getRhumbLineBearing}var hasRequiredGetCompassDirection;function requireGetCompassDirection(){if(hasRequiredGetCompassDirection)return getCompassDirection;hasRequiredGetCompassDirection=1,Object.defineProperty(getCompassDirection,"__esModule",{value:!0}),getCompassDirection.default=void 0;var Re=e(requireGetRhumbLineBearing());function e(Te){return Te&&Te.__esModule?Te:{default:Te}}var Ee=function(De,Me){var Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Re.default,Be=typeof Oe=="function"?Oe(De,Me):(0,Re.default)(De,Me);if(isNaN(Be))throw new Error("Could not calculate bearing for given points. Check your bearing function");switch(Math.round(Be/22.5)){case 1:return"NNE";case 2:return"NE";case 3:return"ENE";case 4:return"E";case 5:return"ESE";case 6:return"SE";case 7:return"SSE";case 8:return"S";case 9:return"SSW";case 10:return"SW";case 11:return"WSW";case 12:return"W";case 13:return"WNW";case 14:return"NW";case 15:return"NNW";default:return"N"}},Ce=Ee;return getCompassDirection.default=Ce,getCompassDirection}var getDistanceFromLine={},hasRequiredGetDistanceFromLine;function requireGetDistanceFromLine(){if(hasRequiredGetDistanceFromLine)return getDistanceFromLine;hasRequiredGetDistanceFromLine=1,Object.defineProperty(getDistanceFromLine,"__esModule",{value:!0}),getDistanceFromLine.default=void 0;var Re=Ee(requireGetDistance()),e=Ee(requireRobustAcos());function Ee(De){return De&&De.__esModule?De:{default:De}}var Ce=function(Me,Oe,Be){var ze=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,Ve=(0,Re.default)(Oe,Me,ze),qe=(0,Re.default)(Me,Be,ze),We=(0,Re.default)(Oe,Be,ze),Ge=Math.acos((0,e.default)((Ve*Ve+We*We-qe*qe)/(2*Ve*We))),Je=Math.acos((0,e.default)((qe*qe+We*We-Ve*Ve)/(2*qe*We)));return Ge>Math.PI/2?Ve:Je>Math.PI/2?qe:Math.sin(Ge)*Ve},Te=Ce;return getDistanceFromLine.default=Te,getDistanceFromLine}var getGreatCircleBearing={},hasRequiredGetGreatCircleBearing;function requireGetGreatCircleBearing(){if(hasRequiredGetGreatCircleBearing)return getGreatCircleBearing;hasRequiredGetGreatCircleBearing=1,Object.defineProperty(getGreatCircleBearing,"__esModule",{value:!0}),getGreatCircleBearing.default=void 0;var Re=Te(requireGetLatitude()),e=Te(requireGetLongitude()),Ee=Te(requireToRad()),Ce=Te(requireToDeg());function Te(Oe){return Oe&&Oe.__esModule?Oe:{default:Oe}}var De=function(Be,ze){var Ve=(0,Re.default)(ze),qe=(0,e.default)(ze),We=(0,Re.default)(Be),Ge=(0,e.default)(Be),Je=((0,Ce.default)(Math.atan2(Math.sin((0,Ee.default)(qe)-(0,Ee.default)(Ge))*Math.cos((0,Ee.default)(Ve)),Math.cos((0,Ee.default)(We))*Math.sin((0,Ee.default)(Ve))-Math.sin((0,Ee.default)(We))*Math.cos((0,Ee.default)(Ve))*Math.cos((0,Ee.default)(qe)-(0,Ee.default)(Ge))))+360)%360;return Je},Me=De;return getGreatCircleBearing.default=Me,getGreatCircleBearing}var getPathLength={},hasRequiredGetPathLength;function requireGetPathLength(){if(hasRequiredGetPathLength)return getPathLength;hasRequiredGetPathLength=1,Object.defineProperty(getPathLength,"__esModule",{value:!0}),getPathLength.default=void 0;var Re=e(requireGetDistance());function e(De){return De&&De.__esModule?De:{default:De}}function Ee(De){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ee=function(Oe){return typeof Oe}:Ee=function(Oe){return Oe&&typeof Symbol=="function"&&Oe.constructor===Symbol&&Oe!==Symbol.prototype?"symbol":typeof Oe},Ee(De)}var Ce=function(Me){var Oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Re.default;return Me.reduce(function(Be,ze){return Ee(Be)==="object"&&Be.last!==null&&(Be.distance+=Oe(ze,Be.last)),Be.last=ze,Be},{last:null,distance:0}).distance},Te=Ce;return getPathLength.default=Te,getPathLength}var getPreciseDistance={},hasRequiredGetPreciseDistance;function requireGetPreciseDistance(){if(hasRequiredGetPreciseDistance)return getPreciseDistance;hasRequiredGetPreciseDistance=1,Object.defineProperty(getPreciseDistance,"__esModule",{value:!0}),getPreciseDistance.default=void 0;var Re=Te(requireGetLatitude()),e=Te(requireGetLongitude()),Ee=Te(requireToRad()),Ce=requireConstants();function Te(Oe){return Oe&&Oe.__esModule?Oe:{default:Oe}}var De=function(Be,ze){var Ve=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;Ve=typeof Ve<"u"&&!isNaN(Ve)?Ve:1;var qe=(0,Re.default)(Be),We=(0,e.default)(Be),Ge=(0,Re.default)(ze),Je=(0,e.default)(ze),Qe=6356752314245e-6,ns=1/298.257223563,Ye=(0,Ee.default)(Je-We),rs,ts,Xe,is,os,hs,fs=Math.atan((1-ns)*Math.tan((0,Ee.default)(parseFloat(qe)))),xs=Math.atan((1-ns)*Math.tan((0,Ee.default)(parseFloat(Ge)))),Ss=Math.sin(fs),ds=Math.cos(fs),gs=Math.sin(xs),Ts=Math.cos(xs),Ds=Ye,Ms,bs=100;do{var Ns=Math.sin(Ds),ps=Math.cos(Ds);if(hs=Math.sqrt(Ts*Ns*(Ts*Ns)+(ds*gs-Ss*Ts*ps)*(ds*gs-Ss*Ts*ps)),hs===0)return 0;rs=Ss*gs+ds*Ts*ps,ts=Math.atan2(hs,rs),Xe=ds*Ts*Ns/hs,is=1-Xe*Xe,os=rs-2*Ss*gs/is,isNaN(os)&&(os=0);var _s=ns/16*is*(4+ns*(4-3*is));Ms=Ds,Ds=Ye+(1-_s)*ns*Xe*(ts+_s*hs*(os+_s*rs*(-1+2*os*os)))}while(Math.abs(Ds-Ms)>1e-12&&--bs>0);if(bs===0)return NaN;var ws=is*(Ce.earthRadius*Ce.earthRadius-Qe*Qe)/(Qe*Qe),js=1+ws/16384*(4096+ws*(-768+ws*(320-175*ws))),ms=ws/1024*(256+ws*(-128+ws*(74-47*ws))),ys=ms*hs*(os+ms/4*(rs*(-1+2*os*os)-ms/6*os*(-3+4*hs*hs)*(-3+4*os*os))),ks=Qe*js*(ts-ys);return Math.round(ks/Ve)*Ve},Me=De;return getPreciseDistance.default=Me,getPreciseDistance}var getRoughCompassDirection={},hasRequiredGetRoughCompassDirection;function requireGetRoughCompassDirection(){if(hasRequiredGetRoughCompassDirection)return getRoughCompassDirection;hasRequiredGetRoughCompassDirection=1,Object.defineProperty(getRoughCompassDirection,"__esModule",{value:!0}),getRoughCompassDirection.default=void 0;var Re=function(Ce){if(/^(NNE|NE|NNW|N)$/.test(Ce))return"N";if(/^(ENE|E|ESE|SE)$/.test(Ce))return"E";if(/^(SSE|S|SSW|SW)$/.test(Ce))return"S";if(/^(WSW|W|WNW|NW)$/.test(Ce))return"W"},e=Re;return getRoughCompassDirection.default=e,getRoughCompassDirection}var getSpeed={},hasRequiredGetSpeed;function requireGetSpeed(){if(hasRequiredGetSpeed)return getSpeed;hasRequiredGetSpeed=1,Object.defineProperty(getSpeed,"__esModule",{value:!0}),getSpeed.default=void 0;var Re=e(requireGetDistance());function e(Te){return Te&&Te.__esModule?Te:{default:Te}}var Ee=function(De,Me){var Oe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Re.default,Be=Oe(De,Me),ze=Number(Me.time)-Number(De.time),Ve=Be/ze*1e3;return Ve},Ce=Ee;return getSpeed.default=Ce,getSpeed}var isPointInLine={},hasRequiredIsPointInLine;function requireIsPointInLine(){if(hasRequiredIsPointInLine)return isPointInLine;hasRequiredIsPointInLine=1,Object.defineProperty(isPointInLine,"__esModule",{value:!0}),isPointInLine.default=void 0;var Re=e(requireGetDistance());function e(Te){return Te&&Te.__esModule?Te:{default:Te}}var Ee=function(De,Me,Oe){return(0,Re.default)(Me,De)+(0,Re.default)(De,Oe)===(0,Re.default)(Me,Oe)},Ce=Ee;return isPointInLine.default=Ce,isPointInLine}var isPointInPolygon={},hasRequiredIsPointInPolygon;function requireIsPointInPolygon(){if(hasRequiredIsPointInPolygon)return isPointInPolygon;hasRequiredIsPointInPolygon=1,Object.defineProperty(isPointInPolygon,"__esModule",{value:!0}),isPointInPolygon.default=void 0;var Re=Ee(requireGetLatitude()),e=Ee(requireGetLongitude());function Ee(De){return De&&De.__esModule?De:{default:De}}var Ce=function(Me,Oe){for(var Be=!1,ze=Oe.length,Ve=-1,qe=ze-1;++Ve<ze;qe=Ve)((0,e.default)(Oe[Ve])<=(0,e.default)(Me)&&(0,e.default)(Me)<(0,e.default)(Oe[qe])||(0,e.default)(Oe[qe])<=(0,e.default)(Me)&&(0,e.default)(Me)<(0,e.default)(Oe[Ve]))&&(0,Re.default)(Me)<((0,Re.default)(Oe[qe])-(0,Re.default)(Oe[Ve]))*((0,e.default)(Me)-(0,e.default)(Oe[Ve]))/((0,e.default)(Oe[qe])-(0,e.default)(Oe[Ve]))+(0,Re.default)(Oe[Ve])&&(Be=!Be);return Be},Te=Ce;return isPointInPolygon.default=Te,isPointInPolygon}var isPointNearLine={},hasRequiredIsPointNearLine;function requireIsPointNearLine(){if(hasRequiredIsPointNearLine)return isPointNearLine;hasRequiredIsPointNearLine=1,Object.defineProperty(isPointNearLine,"__esModule",{value:!0}),isPointNearLine.default=void 0;var Re=e(requireGetDistanceFromLine());function e(Te){return Te&&Te.__esModule?Te:{default:Te}}var Ee=function(De,Me,Oe,Be){return(0,Re.default)(De,Me,Oe)<Be},Ce=Ee;return isPointNearLine.default=Ce,isPointNearLine}var isPointWithinRadius={},hasRequiredIsPointWithinRadius;function requireIsPointWithinRadius(){if(hasRequiredIsPointWithinRadius)return isPointWithinRadius;hasRequiredIsPointWithinRadius=1,Object.defineProperty(isPointWithinRadius,"__esModule",{value:!0}),isPointWithinRadius.default=void 0;var Re=e(requireGetDistance());function e(Te){return Te&&Te.__esModule?Te:{default:Te}}var Ee=function(De,Me,Oe){var Be=.01;return(0,Re.default)(De,Me,Be)<Oe},Ce=Ee;return isPointWithinRadius.default=Ce,isPointWithinRadius}var wktToPolygon={},hasRequiredWktToPolygon;function requireWktToPolygon(){if(hasRequiredWktToPolygon)return wktToPolygon;hasRequiredWktToPolygon=1,Object.defineProperty(wktToPolygon,"__esModule",{value:!0}),wktToPolygon.default=void 0;function Re(Be,ze){return De(Be)||Te(Be,ze)||Ee(Be,ze)||e()}function e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ee(Be,ze){if(Be){if(typeof Be=="string")return Ce(Be,ze);var Ve=Object.prototype.toString.call(Be).slice(8,-1);if(Ve==="Object"&&Be.constructor&&(Ve=Be.constructor.name),Ve==="Map"||Ve==="Set")return Array.from(Be);if(Ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ve))return Ce(Be,ze)}}function Ce(Be,ze){(ze==null||ze>Be.length)&&(ze=Be.length);for(var Ve=0,qe=new Array(ze);Ve<ze;Ve++)qe[Ve]=Be[Ve];return qe}function Te(Be,ze){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(Be)))){var Ve=[],qe=!0,We=!1,Ge=void 0;try{for(var Je=Be[Symbol.iterator](),Qe;!(qe=(Qe=Je.next()).done)&&(Ve.push(Qe.value),!(ze&&Ve.length===ze));qe=!0);}catch(ns){We=!0,Ge=ns}finally{try{!qe&&Je.return!=null&&Je.return()}finally{if(We)throw Ge}}return Ve}}function De(Be){if(Array.isArray(Be))return Be}var Me=function(ze){if(!ze.startsWith("POLYGON"))throw new Error("Invalid wkt.");var Ve=ze.slice(ze.indexOf("(")+2,ze.indexOf(")")).split(", "),qe=Ve.map(function(We){var Ge=We.split(" "),Je=Re(Ge,2),Qe=Je[0],ns=Je[1];return{longitude:parseFloat(Qe),latitude:parseFloat(ns)}});return qe},Oe=Me;return wktToPolygon.default=Oe,wktToPolygon}var hasRequiredEs;function requireEs(){return hasRequiredEs||(hasRequiredEs=1,function(Re){Object.defineProperty(Re,"__esModule",{value:!0});var e={computeDestinationPoint:!0,convertArea:!0,convertDistance:!0,convertSpeed:!0,decimalToSexagesimal:!0,findNearest:!0,getAreaOfPolygon:!0,getBounds:!0,getBoundsOfDistance:!0,getCenter:!0,getCenterOfBounds:!0,getCompassDirection:!0,getCoordinateKey:!0,getCoordinateKeys:!0,getDistance:!0,getDistanceFromLine:!0,getGreatCircleBearing:!0,getLatitude:!0,getLongitude:!0,getPathLength:!0,getPreciseDistance:!0,getRhumbLineBearing:!0,getRoughCompassDirection:!0,getSpeed:!0,isDecimal:!0,isPointInLine:!0,isPointInPolygon:!0,isPointNearLine:!0,isPointWithinRadius:!0,isSexagesimal:!0,isValidCoordinate:!0,isValidLatitude:!0,isValidLongitude:!0,orderByDistance:!0,sexagesimalToDecimal:!0,toDecimal:!0,toRad:!0,toDeg:!0,wktToPolygon:!0};Object.defineProperty(Re,"computeDestinationPoint",{enumerable:!0,get:function(){return Ee.default}}),Object.defineProperty(Re,"convertArea",{enumerable:!0,get:function(){return Ce.default}}),Object.defineProperty(Re,"convertDistance",{enumerable:!0,get:function(){return Te.default}}),Object.defineProperty(Re,"convertSpeed",{enumerable:!0,get:function(){return De.default}}),Object.defineProperty(Re,"decimalToSexagesimal",{enumerable:!0,get:function(){return Me.default}}),Object.defineProperty(Re,"findNearest",{enumerable:!0,get:function(){return Oe.default}}),Object.defineProperty(Re,"getAreaOfPolygon",{enumerable:!0,get:function(){return Be.default}}),Object.defineProperty(Re,"getBounds",{enumerable:!0,get:function(){return ze.default}}),Object.defineProperty(Re,"getBoundsOfDistance",{enumerable:!0,get:function(){return Ve.default}}),Object.defineProperty(Re,"getCenter",{enumerable:!0,get:function(){return qe.default}}),Object.defineProperty(Re,"getCenterOfBounds",{enumerable:!0,get:function(){return We.default}}),Object.defineProperty(Re,"getCompassDirection",{enumerable:!0,get:function(){return Ge.default}}),Object.defineProperty(Re,"getCoordinateKey",{enumerable:!0,get:function(){return Je.default}}),Object.defineProperty(Re,"getCoordinateKeys",{enumerable:!0,get:function(){return Qe.default}}),Object.defineProperty(Re,"getDistance",{enumerable:!0,get:function(){return ns.default}}),Object.defineProperty(Re,"getDistanceFromLine",{enumerable:!0,get:function(){return Ye.default}}),Object.defineProperty(Re,"getGreatCircleBearing",{enumerable:!0,get:function(){return rs.default}}),Object.defineProperty(Re,"getLatitude",{enumerable:!0,get:function(){return ts.default}}),Object.defineProperty(Re,"getLongitude",{enumerable:!0,get:function(){return Xe.default}}),Object.defineProperty(Re,"getPathLength",{enumerable:!0,get:function(){return is.default}}),Object.defineProperty(Re,"getPreciseDistance",{enumerable:!0,get:function(){return os.default}}),Object.defineProperty(Re,"getRhumbLineBearing",{enumerable:!0,get:function(){return hs.default}}),Object.defineProperty(Re,"getRoughCompassDirection",{enumerable:!0,get:function(){return fs.default}}),Object.defineProperty(Re,"getSpeed",{enumerable:!0,get:function(){return xs.default}}),Object.defineProperty(Re,"isDecimal",{enumerable:!0,get:function(){return Ss.default}}),Object.defineProperty(Re,"isPointInLine",{enumerable:!0,get:function(){return ds.default}}),Object.defineProperty(Re,"isPointInPolygon",{enumerable:!0,get:function(){return gs.default}}),Object.defineProperty(Re,"isPointNearLine",{enumerable:!0,get:function(){return Ts.default}}),Object.defineProperty(Re,"isPointWithinRadius",{enumerable:!0,get:function(){return Ds.default}}),Object.defineProperty(Re,"isSexagesimal",{enumerable:!0,get:function(){return Ms.default}}),Object.defineProperty(Re,"isValidCoordinate",{enumerable:!0,get:function(){return bs.default}}),Object.defineProperty(Re,"isValidLatitude",{enumerable:!0,get:function(){return Ns.default}}),Object.defineProperty(Re,"isValidLongitude",{enumerable:!0,get:function(){return ps.default}}),Object.defineProperty(Re,"orderByDistance",{enumerable:!0,get:function(){return _s.default}}),Object.defineProperty(Re,"sexagesimalToDecimal",{enumerable:!0,get:function(){return ws.default}}),Object.defineProperty(Re,"toDecimal",{enumerable:!0,get:function(){return js.default}}),Object.defineProperty(Re,"toRad",{enumerable:!0,get:function(){return ms.default}}),Object.defineProperty(Re,"toDeg",{enumerable:!0,get:function(){return ys.default}}),Object.defineProperty(Re,"wktToPolygon",{enumerable:!0,get:function(){return ks.default}});var Ee=Cs(requireComputeDestinationPoint()),Ce=Cs(requireConvertArea()),Te=Cs(requireConvertDistance()),De=Cs(requireConvertSpeed()),Me=Cs(requireDecimalToSexagesimal()),Oe=Cs(requireFindNearest()),Be=Cs(requireGetAreaOfPolygon()),ze=Cs(requireGetBounds()),Ve=Cs(requireGetBoundsOfDistance()),qe=Cs(requireGetCenter()),We=Cs(requireGetCenterOfBounds()),Ge=Cs(requireGetCompassDirection()),Je=Cs(requireGetCoordinateKey()),Qe=Cs(requireGetCoordinateKeys()),ns=Cs(requireGetDistance()),Ye=Cs(requireGetDistanceFromLine()),rs=Cs(requireGetGreatCircleBearing()),ts=Cs(requireGetLatitude()),Xe=Cs(requireGetLongitude()),is=Cs(requireGetPathLength()),os=Cs(requireGetPreciseDistance()),hs=Cs(requireGetRhumbLineBearing()),fs=Cs(requireGetRoughCompassDirection()),xs=Cs(requireGetSpeed()),Ss=Cs(requireIsDecimal()),ds=Cs(requireIsPointInLine()),gs=Cs(requireIsPointInPolygon()),Ts=Cs(requireIsPointNearLine()),Ds=Cs(requireIsPointWithinRadius()),Ms=Cs(requireIsSexagesimal()),bs=Cs(requireIsValidCoordinate()),Ns=Cs(requireIsValidLatitude()),ps=Cs(requireIsValidLongitude()),_s=Cs(requireOrderByDistance()),ws=Cs(requireSexagesimalToDecimal()),js=Cs(requireToDecimal()),ms=Cs(requireToRad()),ys=Cs(requireToDeg()),ks=Cs(requireWktToPolygon()),zs=requireConstants();Object.keys(zs).forEach(function(Ps){Ps==="default"||Ps==="__esModule"||Object.prototype.hasOwnProperty.call(e,Ps)||Object.defineProperty(Re,Ps,{enumerable:!0,get:function(){return zs[Ps]}})});function Cs(Ps){return Ps&&Ps.__esModule?Ps:{default:Ps}}}(es)),es}var esExports=requireEs();delete L$1.Icon.Default.prototype._getIconUrl;L$1.Icon.Default.mergeOptions({iconRetinaUrl:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",import.meta.url).href,iconUrl:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",import.meta.url).href,shadowUrl:new URL("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",import.meta.url).href});const categories$1={"Hills & Caves":[{id:1,title:"Barabar Hills",img:"https://film.bihar.gov.in/assets/Hills%20and%20Caves/Barabar%20Hills%20000.jpg",description:"Barabar Hills, located in the Jehanabad district of Bihar, are home to the oldest surviving rock-cut caves in India, dating back to the Mauryan period.",lat:25.0076,lng:85.0653},{id:2,title:"Gridhakut Hills",img:"https://film.bihar.gov.in/assets/Hills%20and%20Caves/Gridhakut%20Hill3%20000.jpg",description:"Gridhakut Hills, also known as Vulture Peak, is located near Rajgir in Bihar. It is a significant Buddhist pilgrimage site where Lord Buddha is said to have delivered many important sermons.",lat:25.0172,lng:85.4217},{id:3,title:"Grupa Hills Gaya",img:"https://film.bihar.gov.in/assets/Hills%20and%20Caves/Gurpa%20Hill%20Gaya%20000.jpg",description:"Grupa Hills (also known as Gurpa Hills) is a sacred Buddhist site located near Gaya in Bihar. .",lat:24.9251,lng:85.1522},{id:4,title:"Kaimur Hills",img:"https://film.bihar.gov.in/assets/Hills%20and%20Caves/kaimur%20hills1%20000.jpg",description:"Kaimur Hills are part of the Vindhya range in Bihar, known for scenic landscapes, waterfalls, and wildlife.",lat:24.6215,lng:83.583},{id:5,title:"Kakolat Waterfall",img:"https://film.bihar.gov.in/assets/Hills%20and%20Caves/Kakolat%20Waterfalls%20000.jpg",description:"Kakolat Waterfall is a scenic spot in Nawada district, famous for its clear waters and natural setting. Itâ€™s a popular picnic and shooting destination.",lat:24.7082,lng:85.52},{id:6,title:"Telhar Kund Kaimur",img:"https://film.bihar.gov.in/assets/Hills%20and%20Caves/Telhar%20Kund%20Kaimur%20000.jpg",description:"Telhar Kund is a picturesque waterfall located in the Kaimur hills, surrounded by lush forests and rocky cliffs.",lat:24.6467,lng:83.4801},{id:7,title:"Tutla Bhawani Waterfall",img:"https://film.bihar.gov.in/assets/Hills%20and%20Caves/tutla%20bhawani%20waterfall.jpeg",description:"Tutla Bhawani Waterfall is a hidden gem in Rohtas, known for its serene environment and religious significance.",lat:24.955,lng:84.0583},{id:8,title:"Vishwa Shanti Stupa",img:"https://film.bihar.gov.in/assets/Hills%20and%20Caves/Vishwa%20Stanti%20Stupa%20Rajgir%20000.jpg",description:"Vishwa Shanti Stupa in Rajgir is a symbol of world peace, perched on Ratnagiri Hill and accessible by a ropeway.",lat:25.0305,lng:85.4215}],"Monuments & Museums":[{id:1,title:"Bihar Museum",img:"https://film.bihar.gov.in/assets/Markets%20and%20Buildings/Bihar%20Museum1%20000.jpg",description:"Bihar Museum in Patna showcases Biharâ€™s rich cultural heritage with modern exhibits and galleries.",lat:25.6071,lng:85.1234},{id:2,title:"Dutch Building",img:"https://film.bihar.gov.in/assets/Markets%20and%20Buildings/dutch%20building%20000.jpg",description:"The Dutch Building in Patna is a historic colonial-era structure, known for its architectural significance.",lat:25.6102,lng:85.1408},{id:3,title:"Gandhi Sangrahalay",img:"https://film.bihar.gov.in/assets/Markets%20and%20Buildings/Gandhi%20Sangrahalaya%20000.jpg",description:"Gandhi Sangrahalaya is a museum in Patna dedicated to the life and ideals of Mahatma Gandhi.",lat:25.6135,lng:85.1413},{id:4,title:"Khuda baksh Oriental Library",img:"https://film.bihar.gov.in/assets/Markets%20and%20Buildings/khuda%20baksh%20oriental%20library%200000.jpg",description:"Khuda Bakhsh Oriental Library in Patna holds rare manuscripts and ancient texts, a treasure trove of history.",lat:25.612,lng:85.1418},{id:5,title:"Patna Museum",img:"https://film.bihar.gov.in/assets/Markets%20and%20Buildings/patna%20museum%20000.jpg",description:"Patna Museum in Patna showcases Biharâ€™s rich cultural heritage with modern exhibits and galleries.",lat:25.6071,lng:85.1234},{id:6,title:"Planetarium Patna",img:"https://film.bihar.gov.in/assets/Markets%20and%20Buildings/planetarium%20patna%20000.jpg",description:"Patna Planetarium offers educational astronomy shows and exhibits for all ages.",lat:25.6139,lng:85.1442}],Nature:[{id:1,title:"Valmiki Tiger Reserve",img:"https://hindi.cdn.zeenews.com/hindi/sites/default/files/2024/03/09/2681300-valmiki-tiger-reserve.jpg?im=Resize=(1200,900)",description:"Valmiki Tiger Reserve is Biharâ€™s only tiger reserve, rich in wildlife including tigers, elephants, and deer.",lat:27.4456,lng:84.9206},{id:2,title:"Rajgir Zoo",img:"https://images.bhaskarassets.com/web2images/521/2021/03/10/orig_4_1615322925.jpg",description:"Rajgir Zoo (Vishwa Shanti Van) offers a small but diverse collection of animals amid scenic surroundings near Rajgir.",lat:25.0269,lng:85.4204},{id:3,title:"Kaimur Wildlife",img:"https://pbs.twimg.com/profile_images/1288390076041277440/pP_qpOz9_400x400.jpg",description:"Rajgir Zoo (Vishwa Shanti Van) offers a small but diverse collection of animals amid scenic   surroundings near Rajgir.",lat:25.0269,lng:85.4204},{id:4,title:"Bhimband wildlife Sanctuary",img:"https://film.bihar.gov.in/assets/Forest%20and%20wildlife/Bhimband%20Sanctuary%20000.jpg",description:"Bhimbandh Wildlife Sanctuary in Munger is known for its hot springs, forests, and a variety of wildlife.",lat:24.4535,lng:86.3286},{id:5,title:"Patna Zoo",img:"https://thebusinesscluster.net/wp-content/uploads/2024/03/image-235.png",description:"Patna Zoo houses a variety of animal species including tigers, lions, elephants, and offers educational exhibits in a park-like setting.",lat:25.6122,lng:85.125}]},LocationDetail=()=>{const{category:Re,id:e}=useParams(),Ee=useNavigate(),Ce=parseInt(e,10),Te=categories$1[Re];if(!Te)return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"Category not found."}),jsxRuntimeExports.jsx("button",{onClick:()=>Ee("/"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded",children:"Go Back"})]});const De=Te.find(ze=>ze.id===Ce);if(!De)return jsxRuntimeExports.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-gray-100",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold",children:"Location not found."}),jsxRuntimeExports.jsx("button",{onClick:()=>Ee("/"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded",children:"Go Back"})]});const Me={latitude:25.611,longitude:85.144},Oe={latitude:De.lat,longitude:De.lng},Be=(esExports.getDistance(Me,Oe)/1e3).toFixed(2);return jsxRuntimeExports.jsxs("div",{className:"h-screen overflow-hidden bg-[#190108] text-white flex flex-col items-center px-4 py-8 md:px-16",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Ee(-1),className:"self-start mb-6 px-3 py-2 bg-gray-800 rounded hover:bg-gray-700 flex items-center gap-2",children:"â† Back"}),jsxRuntimeExports.jsxs("div",{className:"max-w-6xl w-full bg-gray-900 rounded-2xl overflow-hidden shadow-lg grid md:grid-cols-2 flex-grow",children:[jsxRuntimeExports.jsx("img",{src:De.img,alt:De.title,className:"w-full h-full object-cover"}),jsxRuntimeExports.jsxs("div",{className:"p-6 flex flex-col justify-between overflow-y-auto max-h-screen",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold mb-4",children:De.title}),jsxRuntimeExports.jsx("p",{className:"text-base leading-relaxed mb-4",children:De.description||"No description available for this location."}),jsxRuntimeExports.jsxs("div",{className:"mb-4",children:[jsxRuntimeExports.jsxs("p",{children:[jsxRuntimeExports.jsx("strong",{children:"Distance from Patna:"})," ",Be," km"]}),jsxRuntimeExports.jsxs("p",{className:"mt-2",children:[jsxRuntimeExports.jsx("strong",{children:"How to Reach:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc ml-5 mt-1 space-y-1",children:[jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Train:"})," Take a train to Rajgir Railway Station. From there, hire a taxi (approx. 6 km)."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Bus:"})," Buses are available from Patna to Rajgir. Use local transport to reach the location."]}),jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsx("strong",{children:"Air:"})," Nearest airport is in Patna. Take a cab/bus to Rajgir (~95 km)."]})]})]})]})]}),De.lat&&De.lng&&jsxRuntimeExports.jsx("div",{className:"h-64 w-full rounded-lg overflow-hidden mt-4",children:jsxRuntimeExports.jsxs(MapContainer,{center:[De.lat,De.lng],zoom:13,scrollWheelZoom:!1,style:{height:"100%",width:"100%"},children:[jsxRuntimeExports.jsx(TileLayer,{attribution:'Â© <a href="https://osm.org/">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),jsxRuntimeExports.jsx(Marker,{position:[De.lat,De.lng],children:jsxRuntimeExports.jsx(Popup,{children:De.title})})]})})]})]})]})},UserAvatar="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='640'%20height='640'%20viewBox='0%200%20640%20640'%20role='img'%20artist='Katerina%20Limpitsouni'%20source='https://undraw.co/'%3e%3cdefs%3e%3cclipPath%20id='clip-path-156'%3e%3ccircle%20id='Ellipse_889'%20data-name='Ellipse%20889'%20cx='320'%20cy='320'%20r='320'%20transform='translate(-4451%20-15900)'%20fill='none'%20stroke='%23707070'%20stroke-width='1'/%3e%3c/clipPath%3e%3c/defs%3e%3cg%20id='Group_306'%20data-name='Group%20306'%20transform='translate(-640%20-220)'%3e%3cpath%20id='Path_5233-157'%20data-name='Path%205233'%20d='M320,0C496.731,0,640,143.269,640,320S496.731,640,320,640,0,496.731,0,320,143.269,0,320,0Z'%20transform='translate(640%20220)'%20fill='%23a92b43'/%3e%3cg%20id='Mask_Group_9'%20data-name='Mask%20Group%209'%20transform='translate(5091%2016120)'%20clip-path='url(%23clip-path-156)'%3e%3cg%20id='Group_302'%20data-name='Group%20302'%20transform='translate(-4315.748%20-15782.601)'%3e%3cellipse%20id='Ellipse_851'%20data-name='Ellipse%20851'%20cx='55.3'%20cy='55.3'%20rx='55.3'%20ry='55.3'%20transform='translate(148.307%2030.406)'%20fill='%23ffb9b9'/%3e%3cpath%20id='Path_4985-158'%20data-name='Path%204985'%20d='M970.3,323.643s-2.514,77.922-15.082,87.977,45.245,52.785,45.245,52.785l37.7-60.326v-55.3Z'%20transform='translate(-814.455%20-225.374)'%20fill='%23ffb9b9'/%3e%3cpath%20id='Path_4986-159'%20data-name='Path%204986'%20d='M855.123,269.622l-30.517-46.081L807.367,247,782.23,317.381l20.111,273.984,118.143,2.514,15.082-314.2-37.7-45.244Z'%20transform='translate(-674.142%20-65.778)'%20fill='%23f2f2f2'/%3e%3cpath%20id='Path_4987-160'%20data-name='Path%204987'%20d='M920.045,374.6l20.111-2.514s5.026,2.514,7.541,20.108,32.667,173.442,32.667,173.442L940.145,756.662,894.9,696.336,922.56,590.773,894.908,485.2Z'%20transform='translate(-610.868%20-153.163)'%20fill='%23090814'/%3e%3cpath%20id='Path_4988-161'%20data-name='Path%204988'%20d='M906.682,248.1H891.6L853.894,451.7l35.189,158.361,35.192-57.814-10.055-62.84,5.013-55.3,17.6-32.68Z'%20transform='translate(-853.894%20-29.172)'%20fill='%23090814'/%3e%3cpath%20id='Path_4991-162'%20data-name='Path%204991'%20d='M970.562,369.89l10.055-2.514s7.541-42.743,25.137-37.7,62.841,10.055,62.841-10.055-42.744-37.7-67.867-35.192-67.867,10.055-65.355,47.756,18.733,74.384,18.733,74.384l1.319-22.356Z'%20transform='translate(-799.632%20-284.185)'%20fill='%23090814'/%3e%3cpath%20id='Path_4994-163'%20data-name='Path%204994'%20d='M1212.25,404.431l-80.437-32.677-18.852-13.826L1056.4,608.034,1018.7,494.92l11.311-144.533L925.7,404.431l35.192,170.928,5.026,65.355L950.834,693.5s-52.786,37.7-35.19,77.922,37.7,42.743,37.7,42.743,85.463-80.436,90.5-100.544,12.567-55.3,12.567-55.3,42.743,160.873,93,158.358,50.274-55.3,50.274-55.3l-12.567-55.3-20.108-57.814,10.055-95.513Z'%20transform='translate(-885.472%20-185.507)'%20fill='%23090814'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e",ProducerRegistration=({onSuccess:Re})=>{const[e,Ee]=reactExports.useState({companyDetails:{productionCompanyName:"",companyType:"",fullAddress:"",pinCode:"",state:"",country:"",email:"",contactNumber:"",authorizedRepresentative:""},producerDocumentation:{companyIdentificationNumber:"",companyIdentificationDocument:null,pan:"",panDocument:null,gstRegistrationNumber:"",gstCertificate:null},lineProducerDetails:{lineProducerCompanyType:"",lineProducerCompanyName:"",lineProducerName:"",lineProducerPan:"",lineProducerAddress:"",lineProducerPinCode:"",lineProducerState:"",lineProducerEmail:"",lineProducerMobile:""}}),[Ce,Te]=reactExports.useState(!1),[De,Me]=reactExports.useState(1),[Oe,Be]=reactExports.useState({show:!1,message:"",type:""}),[ze,Ve]=reactExports.useState("idle"),[qe,We]=reactExports.useState({}),[Ge,Je]=reactExports.useState(!1),[Qe,ns]=reactExports.useState(!1),Ye=["Proprietor","Firm","Partnership Firm","Private Limited Company","Limited Liability Partnership (LLP)","Society","Trust"],rs=js=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(js),ts=js=>/^[0-9]{10}$/.test(js),Xe=js=>/^[0-9]{6}$/.test(js),is=js=>/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/.test(js),os=js=>/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/.test(js),hs=(js,ms,ys)=>{Ee(ks=>({...ks,[js]:{...ks[js],[ms]:ys}})),We(ks=>({...ks,[`${js}.${ms}`]:""}))},fs=(js,ms,ys)=>{if(!ys)return;let ks=5;ms==="panDocument"&&(ks=1);const zs=validateFile(ys,ks);if(!zs.isValid){Be({show:!0,message:zs.error,type:"warning"}),setTimeout(()=>Be({show:!1,message:"",type:""}),3e3);return}Ee(Cs=>({...Cs,[js]:{...Cs[js],[ms]:ys}})),Be({show:!0,message:`File uploaded successfully: ${ys.name}`,type:"success"}),setTimeout(()=>Be({show:!1,message:"",type:""}),2e3)},xs=js=>{const ms={};if(js===1){const{companyDetails:ys}=e;ys.productionCompanyName.trim()||(ms["companyDetails.productionCompanyName"]="Production Company Name is required"),ys.companyType||(ms["companyDetails.companyType"]="Company Type is required"),ys.fullAddress.trim()||(ms["companyDetails.fullAddress"]="Full Address is required"),ys.pinCode?Xe(ys.pinCode)||(ms["companyDetails.pinCode"]="Pin code must be 6 digits"):ms["companyDetails.pinCode"]="Pin code is required",ys.state.trim()||(ms["companyDetails.state"]="State is required"),ys.country.trim()||(ms["companyDetails.country"]="Country is required"),ys.email?rs(ys.email)||(ms["companyDetails.email"]="Please enter a valid email address"):ms["companyDetails.email"]="Email ID is required",ys.contactNumber?ts(ys.contactNumber)||(ms["companyDetails.contactNumber"]="Contact Number must be 10 digits"):ms["companyDetails.contactNumber"]="Contact Number is required",ys.authorizedRepresentative.trim()||(ms["companyDetails.authorizedRepresentative"]="Authorized Representative is required")}else if(js===2){const{producerDocumentation:ys}=e;ys.companyIdentificationNumber.trim()||(ms["producerDocumentation.companyIdentificationNumber"]="ABCDE1234F"),ys.companyIdentificationDocument||(ms["producerDocumentation.companyIdentificationDocument"]="Company Identification Document is required"),ys.pan?is(ys.pan.toUpperCase())||(ms["producerDocumentation.pan"]="Please enter a valid PAN (e.g., ABCDE1234F)"):ms["producerDocumentation.pan"]="PAN is required",ys.panDocument||(ms["producerDocumentation.panDocument"]="Copy of PAN is required"),ys.gstRegistrationNumber?os(ys.gstRegistrationNumber.toUpperCase())||(ms["producerDocumentation.gstRegistrationNumber"]="Please enter a valid GST Number"):ms["producerDocumentation.gstRegistrationNumber"]="GST Registration Number is required",ys.gstCertificate||(ms["producerDocumentation.gstCertificate"]="GST Registration Certificate is required")}else if(js===3){const{lineProducerDetails:ys}=e;ys.lineProducerCompanyType||(ms["lineProducerDetails.lineProducerCompanyType"]="Line Producer Company Type is required"),ys.lineProducerCompanyName.trim()||(ms["lineProducerDetails.lineProducerCompanyName"]="Line Producer Company Name is required"),ys.lineProducerName.trim()||(ms["lineProducerDetails.lineProducerName"]="Line Producer Name is required"),ys.lineProducerPan?is(ys.lineProducerPan.toUpperCase())||(ms["lineProducerDetails.lineProducerPan"]="Please enter a valid PAN (e.g., ABCDE1234F)"):ms["lineProducerDetails.lineProducerPan"]="PAN Number is required",ys.lineProducerAddress.trim()||(ms["lineProducerDetails.lineProducerAddress"]="Full Address is required"),ys.lineProducerPinCode?Xe(ys.lineProducerPinCode)||(ms["lineProducerDetails.lineProducerPinCode"]="Pin code must be 6 digits"):ms["lineProducerDetails.lineProducerPinCode"]="Pin code is required",ys.lineProducerState.trim()||(ms["lineProducerDetails.lineProducerState"]="State is required"),ys.lineProducerEmail?rs(ys.lineProducerEmail)||(ms["lineProducerDetails.lineProducerEmail"]="Please enter a valid email address"):ms["lineProducerDetails.lineProducerEmail"]="Email ID is required",ys.lineProducerMobile?ts(ys.lineProducerMobile)||(ms["lineProducerDetails.lineProducerMobile"]="Mobile Number must be 10 digits"):ms["lineProducerDetails.lineProducerMobile"]="Mobile Number is required"}return ms},Ss=()=>{const js=xs(De);if(Object.keys(js).length>0){We(js),Be({show:!0,message:"Please fill all required fields correctly",type:"warning"});return}Je(!0)},ds=async()=>{var js,ms,ys,ks,zs;try{Ve("saving");const Cs=new FormData;Object.entries(e).forEach(([Us,Is])=>{Object.entries(Is).forEach(([Vs,Ks])=>{(Ks instanceof File||Ks&&Ks!=="")&&Cs.append(Vs,Ks)})});const Ps=await api.post("/api/producer-registration/addProducerRegistration",Cs,{headers:{"Content-Type":"multipart/form-data"}});console.log("âœ… Producer registration submitted:",Ps.data),Ve("success"),Be({show:!0,message:"Producer registration submitted successfully!",type:"success"}),localStorage.setItem("producerRegistrationCompleted","true"),localStorage.removeItem("companyDetails"),localStorage.removeItem("producerDocumentation"),localStorage.removeItem("lineProducerDetails"),setTimeout(()=>{Je(!1),Ee({companyDetails:{productionCompanyName:"",companyType:"",fullAddress:"",pinCode:"",state:"",country:"",email:"",contactNumber:"",authorizedRepresentative:""},producerDocumentation:{companyIdentificationNumber:"",companyIdentificationDocument:null,pan:"",panDocument:null,gstRegistrationNumber:"",gstCertificate:null},lineProducerDetails:{lineProducerCompanyType:"",lineProducerCompanyName:"",lineProducerName:"",lineProducerPan:"",lineProducerAddress:"",lineProducerPinCode:"",lineProducerState:"",lineProducerEmail:"",lineProducerMobile:""}}),Me(1),Re&&Re(),ns(!0)},2e3)}catch(Cs){console.error("âŒ Error submitting form:",Cs),Ve("error"),Je(!1);let Ps="Failed to submit registration. Please try again.";((js=Cs.response)==null?void 0:js.status)===401?(Ps="Session expired. Please login again.",setTimeout(()=>{window.location.href="/login"},2e3)):((ms=Cs.response)==null?void 0:ms.status)===400?Ps=((ys=Cs.response.data)==null?void 0:ys.message)||"Invalid form data. Please check all fields.":(zs=(ks=Cs.response)==null?void 0:ks.data)!=null&&zs.message&&(Ps=Cs.response.data.message),Be({show:!0,message:Ps,type:"error"})}finally{setTimeout(()=>{Be({show:!1,message:"",type:""}),Ve("idle")},5e3)}};reactExports.useEffect(()=>{["companyDetails","producerDocumentation","lineProducerDetails"].forEach(ms=>{const ys=localStorage.getItem(ms);if(ys)try{const ks=JSON.parse(ys);Object.keys(ks).forEach(zs=>{ks[zs]&&typeof ks[zs]=="object"&&ks[zs].isFile&&(ks[zs]={name:ks[zs].name,size:ks[zs].size,type:ks[zs].type,lastModified:ks[zs].lastModified,isStoredFile:!0})}),Ee(zs=>({...zs,[ms]:ks}))}catch(ks){console.warn(`Error parsing stored data for ${ms}:`,ks)}}),Te(!1)},[]);const gs=()=>{const ms={1:"companyDetails",2:"producerDocumentation",3:"lineProducerDetails"}[De];if(ms){const ys={...e[ms]};Object.keys(ys).forEach(ks=>{ys[ks]instanceof File&&(ys[ks]={name:ys[ks].name,size:ys[ks].size,lastModified:ys[ks].lastModified,isFile:!0,type:ys[ks].type})}),localStorage.setItem(ms,JSON.stringify(ys))}},Ts=()=>{const js=xs(De);if(Object.keys(js).length>0){We(js),Be({show:!0,message:"Please fill all required fields correctly",type:"warning"}),setTimeout(()=>Be({show:!1,message:"",type:""}),3e3);return}gs(),We({}),De<3&&(Me(De+1),window.scrollTo({top:0,behavior:"smooth"}))},Ds=()=>{De>1&&(Me(De-1),window.scrollTo({top:0,behavior:"smooth"}))},Ms=(js,ms,ys,ks="text",zs=!0,Cs=null)=>{const Ps=e[js][ms],Us=`${js}.${ms}`,Is=qe[Us];return jsxRuntimeExports.jsx(InputGroup$4,{label:ys,required:zs,error:{message:Is},children:Cs?jsxRuntimeExports.jsxs("select",{value:Ps,onChange:Vs=>hs(js,ms,Vs.target.value),className:"form-select",children:[jsxRuntimeExports.jsxs("option",{value:"",children:["Select ",ys]}),Cs.map(Vs=>jsxRuntimeExports.jsx("option",{value:Vs,children:Vs},Vs))]}):jsxRuntimeExports.jsx("input",{type:ks,value:Ps,onChange:Vs=>{let Ks=Vs.target.value;(ms.includes("pan")||ms.includes("Pan"))&&(Ks=Ks.toUpperCase()),(ms.includes("gst")||ms.includes("Gst"))&&(Ks=Ks.toUpperCase()),ks==="tel"&&(Ks=Ks.replace(/\D/g,"").slice(0,10)),(ms.includes("pinCode")||ms.includes("PinCode"))&&(Ks=Ks.replace(/\D/g,"").slice(0,6)),hs(js,ms,Ks)},className:"form-input",placeholder:ys})})},bs=(js,ms,ys,ks="10 MB",zs=!0)=>{const Cs=e[js][ms],Ps=`${js}.${ms}`,Us=qe[Ps];return jsxRuntimeExports.jsx(InputGroup$4,{label:ys,required:zs,error:{message:Us},children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsx("input",{type:"file",accept:"application/pdf,image/jpeg,image/png",onChange:Is=>fs(js,ms,Is.target.files[0]),className:"block w-full text-base text-gray-600 file:mr-4 file:py-2.5 file:px-6 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-[#891737] file:text-white hover:file:bg-[#70122d] file:transition-colors cursor-pointer border border-gray-300 rounded-lg p-1.5 focus:outline-none focus:ring-1 focus:ring-[#891737]"})}),jsxRuntimeExports.jsxs("small",{className:"text-gray-500 text-sm block",children:["Upload supported file: PDF, JPG, PNG. Max ",ks,"."]}),Cs&&jsxRuntimeExports.jsxs("div",{className:"mt-2 p-3 bg-green-50 border border-green-100 rounded-lg text-sm text-green-700 flex items-center gap-2",children:[jsxRuntimeExports.jsx(CircleCheck,{className:"w-5 h-5 text-green-600 flex-shrink-0"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"font-medium truncate",children:Cs.name||Cs}),Cs.isStoredFile&&jsxRuntimeExports.jsx("p",{className:"text-green-600/80 text-xs",children:"(Previously uploaded)"})]})]})]})})},Ns=()=>jsxRuntimeExports.jsxs(SectionBlock$4,{title:"Company Details",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-8 gap-y-6",children:[Ms("companyDetails","productionCompanyName","Production Company Name"),Ms("companyDetails","companyType","Company Type","text",!0,Ye),Ms("companyDetails","fullAddress","Full Address"),Ms("companyDetails","pinCode","Pin code","text"),Ms("companyDetails","state","State"),Ms("companyDetails","country","Country"),Ms("companyDetails","email","E-Mail ID","email"),Ms("companyDetails","contactNumber","Contact No. (Mobile)","tel"),Ms("companyDetails","authorizedRepresentative","Authorized Representative")]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end mt-10 pt-6 border-t border-gray-200",children:jsxRuntimeExports.jsxs("button",{type:"button",onClick:Ts,className:"inline-flex items-center px-8 py-2.5 text-sm font-semibold text-white bg-[#891737] rounded-lg hover:bg-[#70122d] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#891737] transition-all",children:["Save & Continue ",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-2 w-4 h-4"})]})})]}),ps=()=>jsxRuntimeExports.jsxs(SectionBlock$4,{title:"Producer Documentation",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-8 gap-y-6",children:[Ms("producerDocumentation","companyIdentificationNumber","Company Identification Number"),bs("producerDocumentation","companyIdentificationDocument","Company ID Document (Self Attested)"),Ms("producerDocumentation","pan","PAN"),bs("producerDocumentation","panDocument","Copy of PAN (Self Attested)","1 MB"),Ms("producerDocumentation","gstRegistrationNumber","GST Registration Number"),bs("producerDocumentation","gstCertificate","GST Registration Certificate (Self Attested)")]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-10 pt-6 border-t border-gray-200",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Ds,className:"px-6 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-200 transition-all",children:"â† Go Back"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:Ts,className:"inline-flex items-center px-8 py-2.5 text-sm font-semibold text-white bg-[#891737] rounded-lg hover:bg-[#70122d] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#891737] transition-all",children:["Save & Continue ",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-2 w-4 h-4"})]})]})]}),_s=()=>jsxRuntimeExports.jsxs(SectionBlock$4,{title:"Line Producer Details",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-x-8 gap-y-6",children:[Ms("lineProducerDetails","lineProducerCompanyType","Line Producer Company Type","text",!0,Ye),Ms("lineProducerDetails","lineProducerCompanyName","Line Producer Company Name"),Ms("lineProducerDetails","lineProducerName","Line Producer Representative Name"),Ms("lineProducerDetails","lineProducerPan","PAN Number"),Ms("lineProducerDetails","lineProducerAddress","Full Address"),Ms("lineProducerDetails","lineProducerPinCode","Pin code","text"),Ms("lineProducerDetails","lineProducerState","State"),Ms("lineProducerDetails","lineProducerEmail","E-Mail Id","email"),Ms("lineProducerDetails","lineProducerMobile","Mobile Number","tel")]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-10 pt-6 border-t border-gray-200",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Ds,className:"px-6 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-200 transition-all",children:"â† Go Back"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:Ss,disabled:ze==="saving",className:"inline-flex items-center px-8 py-2.5 text-sm font-semibold text-white bg-[#891737] rounded-lg hover:bg-[#70122d] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#891737] disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:ze==="saving"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"animate-spin -ml-1 mr-2 h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"Submitting..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Submit Registration ",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-2 w-4 h-4"})]})})]})]}),ws=()=>{const js=[{number:1,title:"Company Details"},{number:2,title:"Producer Documentation"},{number:3,title:"Line Producer"}];return jsxRuntimeExports.jsx("div",{className:"mb-12",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:js.map((ms,ys)=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center z-10",children:[jsxRuntimeExports.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300 border-2 ${De===ms.number?"bg-[#891737] border-[#891737] text-white ring-4 ring-[#891737]/10":De>ms.number?"bg-[#891737] border-[#891737] text-white":"bg-white border-gray-300 text-gray-400"}`,children:De>ms.number?jsxRuntimeExports.jsx(CircleCheck,{className:"w-5 h-5"}):ms.number}),jsxRuntimeExports.jsx("p",{className:`mt-2 text-xs font-medium tracking-wide uppercase ${De===ms.number||De>ms.number?"text-[#891737]":"text-gray-400"}`,children:ms.title})]}),ys<js.length-1&&jsxRuntimeExports.jsx("div",{className:`w-24 h-0.5 -mx-3 mb-6 transition-all duration-300 ${De>ms.number?"bg-[#891737]":"bg-gray-200"}`})]},ms.number))})})};return Ce?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 border-4 border-[#891737] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 font-medium",children:"Loading form..."})]})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen pt-4 pb-12 px-4 sm:px-6 lg:px-8 bg-white font-sans",children:[Oe.show&&jsxRuntimeExports.jsxs("div",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg flex items-center max-w-sm animate-in fade-in slide-in-from-top-4 ${Oe.type==="success"?"bg-green-600 text-white":Oe.type==="warning"?"bg-amber-500 text-white":"bg-red-600 text-white"}`,children:[jsxRuntimeExports.jsx("span",{className:"mr-3",children:Oe.type==="warning"?jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(CircleCheck,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:Oe.message})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-5xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-10 border-b border-gray-100 pb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Producer Registration Form"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto text-sm",children:"Bihar State Film Development & Finance Corporation Ltd"})]}),ws(),jsxRuntimeExports.jsxs("form",{onSubmit:js=>{js.preventDefault();const ms=xs(3);if(Object.keys(ms).length>0){We(ms),Be({show:!0,message:"Please fill all required fields correctly",type:"warning"}),setTimeout(()=>Be({show:!1,message:"",type:""}),3e3);return}Ss()},className:"animate-in fade-in duration-500",children:[De===1&&Ns(),De===2&&ps(),De===3&&_s()]})]}),jsxRuntimeExports.jsx("style",{children:`
        .form-input, .form-select, .form-textarea {
          width: 100%;
          background-color: #ffffff;
          border: 1px solid #e5e7eb;
          border-radius: 0.5rem;
          padding: 0.75rem 1rem;
          font-size: 1rem;
          color: #1f2937;
          transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }
        .form-input:focus, .form-select:focus, .form-textarea:focus {
          outline: none;
          border-color: #891737;
          box-shadow: 0 0 0 1px #891737;
        }
        .form-input::placeholder, .form-textarea::placeholder {
          color: #9ca3af;
        }
        .form-select {
          appearance: none;
          background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
          background-position: right 0.75rem center;
          background-repeat: no-repeat;
          background-size: 1.5em 1.5em;
          padding-right: 2.5rem;
        }
      `}),jsxRuntimeExports.jsx(UniversalPreviewModal,{isOpen:Ge,onClose:()=>Je(!1),onConfirm:ds,data:e,title:"PRODUCER REGISTRATION FORM",isSubmitting:ze==="saving"}),jsxRuntimeExports.jsx(AlertBox,{isOpen:Qe,onClose:()=>{ns(!1),window.location.reload()},onConfirm:()=>{ns(!1),window.location.reload()},type:"success",title:"Registration Successful",message:"Your producer registration form is filled successfully. Please refresh the page once.",confirmText:"Refresh Page"})]})},SectionBlock$4=({title:Re,children:e})=>jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 border-b border-gray-100 pb-2",children:[jsxRuntimeExports.jsx("div",{className:"w-1 h-6 bg-[#891737]"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:Re})]}),jsxRuntimeExports.jsx("div",{className:"",children:e})]}),InputGroup$4=({label:Re,error:e,required:Ee,children:Ce})=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1.5 min-w-0",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-gray-700 flex items-center justify-between",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[Re,Ee&&jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]})}),jsxRuntimeExports.jsx("div",{className:"relative group",children:Ce}),(e==null?void 0:e.message)&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-xs mt-1 animate-in fade-in",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:e.message})]})]});var isCheckBoxInput=Re=>Re.type==="checkbox",isDateObject=Re=>Re instanceof Date,isNullOrUndefined=Re=>Re==null;const isObjectType=Re=>typeof Re=="object";var isObject$1=Re=>!isNullOrUndefined(Re)&&!Array.isArray(Re)&&isObjectType(Re)&&!isDateObject(Re),getEventValue=Re=>isObject$1(Re)&&Re.target?isCheckBoxInput(Re.target)?Re.target.checked:Re.target.value:Re,getNodeParentName=Re=>Re.substring(0,Re.search(/\.\d+(\.|$)/))||Re,isNameInFieldArray=(Re,e)=>Re.has(getNodeParentName(e)),isPlainObject$1=Re=>{const e=Re.constructor&&Re.constructor.prototype;return isObject$1(e)&&e.hasOwnProperty("isPrototypeOf")},isWeb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cloneObject(Re){if(Re instanceof Date)return new Date(Re);const e=typeof FileList<"u"&&Re instanceof FileList;if(isWeb&&(Re instanceof Blob||e))return Re;const Ee=Array.isArray(Re);if(!Ee&&!(isObject$1(Re)&&isPlainObject$1(Re)))return Re;const Ce=Ee?[]:Object.create(Object.getPrototypeOf(Re));for(const Te in Re)Object.prototype.hasOwnProperty.call(Re,Te)&&(Ce[Te]=cloneObject(Re[Te]));return Ce}var isKey=Re=>/^\w*$/.test(Re),isUndefined=Re=>Re===void 0,compact=Re=>Array.isArray(Re)?Re.filter(Boolean):[],stringToPath=Re=>compact(Re.replace(/["|']|\]/g,"").split(/\.|\[/)),get=(Re,e,Ee)=>{if(!e||!isObject$1(Re))return Ee;const Ce=(isKey(e)?[e]:stringToPath(e)).reduce((Te,De)=>isNullOrUndefined(Te)?Te:Te[De],Re);return isUndefined(Ce)||Ce===Re?isUndefined(Re[e])?Ee:Re[e]:Ce},isBoolean=Re=>typeof Re=="boolean",isFunction=Re=>typeof Re=="function",set=(Re,e,Ee)=>{let Ce=-1;const Te=isKey(e)?[e]:stringToPath(e),De=Te.length,Me=De-1;for(;++Ce<De;){const Oe=Te[Ce];let Be=Ee;if(Ce!==Me){const ze=Re[Oe];Be=isObject$1(ze)||Array.isArray(ze)?ze:isNaN(+Te[Ce+1])?{}:[]}if(Oe==="__proto__"||Oe==="constructor"||Oe==="prototype")return;Re[Oe]=Be,Re=Re[Oe]}};const EVENTS={BLUR:"blur",FOCUS_OUT:"focusout"},VALIDATION_MODE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},INPUT_VALIDATION_RULES={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HookFormControlContext=React.createContext(null);HookFormControlContext.displayName="HookFormControlContext";var getProxyFormState=(Re,e,Ee,Ce=!0)=>{const Te={defaultValues:e._defaultValues};for(const De in Re)Object.defineProperty(Te,De,{get:()=>{const Me=De;return e._proxyFormState[Me]!==VALIDATION_MODE.all&&(e._proxyFormState[Me]=!Ce||VALIDATION_MODE.all),Re[Me]}});return Te};const useIsomorphicLayoutEffect=typeof window<"u"?React.useLayoutEffect:React.useEffect;var isString$1=Re=>typeof Re=="string",generateWatchOutput=(Re,e,Ee,Ce,Te)=>isString$1(Re)?(Ce&&e.watch.add(Re),get(Ee,Re,Te)):Array.isArray(Re)?Re.map(De=>(Ce&&e.watch.add(De),get(Ee,De))):(Ce&&(e.watchAll=!0),Ee),isPrimitive=Re=>isNullOrUndefined(Re)||!isObjectType(Re);function deepEqual(Re,e,Ee=new WeakSet){if(isPrimitive(Re)||isPrimitive(e))return Object.is(Re,e);if(isDateObject(Re)&&isDateObject(e))return Object.is(Re.getTime(),e.getTime());const Ce=Object.keys(Re),Te=Object.keys(e);if(Ce.length!==Te.length)return!1;if(Ee.has(Re)||Ee.has(e))return!0;Ee.add(Re),Ee.add(e);for(const De of Ce){const Me=Re[De];if(!Te.includes(De))return!1;if(De!=="ref"){const Oe=e[De];if(isDateObject(Me)&&isDateObject(Oe)||isObject$1(Me)&&isObject$1(Oe)||Array.isArray(Me)&&Array.isArray(Oe)?!deepEqual(Me,Oe,Ee):!Object.is(Me,Oe))return!1}}return!0}const HookFormContext=React.createContext(null);HookFormContext.displayName="HookFormContext";var appendErrors=(Re,e,Ee,Ce,Te)=>e?{...Ee[Re],types:{...Ee[Re]&&Ee[Re].types?Ee[Re].types:{},[Ce]:Te||!0}}:{},convertToArrayPayload=Re=>Array.isArray(Re)?Re:[Re],createSubject=()=>{let Re=[];return{get observers(){return Re},next:Te=>{for(const De of Re)De.next&&De.next(Te)},subscribe:Te=>(Re.push(Te),{unsubscribe:()=>{Re=Re.filter(De=>De!==Te)}}),unsubscribe:()=>{Re=[]}}};function extractFormValues(Re,e){const Ee={};for(const Ce in Re)if(Re.hasOwnProperty(Ce)){const Te=Re[Ce],De=e[Ce];if(Te&&isObject$1(Te)&&De){const Me=extractFormValues(Te,De);isObject$1(Me)&&(Ee[Ce]=Me)}else Re[Ce]&&(Ee[Ce]=De)}return Ee}var isEmptyObject=Re=>isObject$1(Re)&&!Object.keys(Re).length,isFileInput=Re=>Re.type==="file",isHTMLElement=Re=>{if(!isWeb)return!1;const e=Re?Re.ownerDocument:0;return Re instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},isMultipleSelect=Re=>Re.type==="select-multiple",isRadioInput=Re=>Re.type==="radio",isRadioOrCheckbox=Re=>isRadioInput(Re)||isCheckBoxInput(Re),live=Re=>isHTMLElement(Re)&&Re.isConnected;function baseGet(Re,e){const Ee=e.slice(0,-1).length;let Ce=0;for(;Ce<Ee;)Re=isUndefined(Re)?Ce++:Re[e[Ce++]];return Re}function isEmptyArray(Re){for(const e in Re)if(Re.hasOwnProperty(e)&&!isUndefined(Re[e]))return!1;return!0}function unset(Re,e){const Ee=Array.isArray(e)?e:isKey(e)?[e]:stringToPath(e),Ce=Ee.length===1?Re:baseGet(Re,Ee),Te=Ee.length-1,De=Ee[Te];return Ce&&delete Ce[De],Te!==0&&(isObject$1(Ce)&&isEmptyObject(Ce)||Array.isArray(Ce)&&isEmptyArray(Ce))&&unset(Re,Ee.slice(0,-1)),Re}var objectHasFunction=Re=>{for(const e in Re)if(isFunction(Re[e]))return!0;return!1};function isTraversable(Re){return Array.isArray(Re)||isObject$1(Re)&&!objectHasFunction(Re)}function markFieldsDirty(Re,e={}){for(const Ee in Re){const Ce=Re[Ee];isTraversable(Ce)?(e[Ee]=Array.isArray(Ce)?[]:{},markFieldsDirty(Ce,e[Ee])):isUndefined(Ce)||(e[Ee]=!0)}return e}function getDirtyFields(Re,e,Ee){Ee||(Ee=markFieldsDirty(e));for(const Ce in Re){const Te=Re[Ce];if(isTraversable(Te))isUndefined(e)||isPrimitive(Ee[Ce])?Ee[Ce]=markFieldsDirty(Te,Array.isArray(Te)?[]:{}):getDirtyFields(Te,isNullOrUndefined(e)?{}:e[Ce],Ee[Ce]);else{const De=e[Ce];Ee[Ce]=!deepEqual(Te,De)}}return Ee}const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=Re=>{if(Array.isArray(Re)){if(Re.length>1){const e=Re.filter(Ee=>Ee&&Ee.checked&&!Ee.disabled).map(Ee=>Ee.value);return{value:e,isValid:!!e.length}}return Re[0].checked&&!Re[0].disabled?Re[0].attributes&&!isUndefined(Re[0].attributes.value)?isUndefined(Re[0].value)||Re[0].value===""?validResult:{value:Re[0].value,isValid:!0}:validResult:defaultResult}return defaultResult},getFieldValueAs=(Re,{valueAsNumber:e,valueAsDate:Ee,setValueAs:Ce})=>isUndefined(Re)?Re:e?Re===""?NaN:Re&&+Re:Ee&&isString$1(Re)?new Date(Re):Ce?Ce(Re):Re;const defaultReturn={isValid:!1,value:null};var getRadioValue=Re=>Array.isArray(Re)?Re.reduce((e,Ee)=>Ee&&Ee.checked&&!Ee.disabled?{isValid:!0,value:Ee.value}:e,defaultReturn):defaultReturn;function getFieldValue(Re){const e=Re.ref;return isFileInput(e)?e.files:isRadioInput(e)?getRadioValue(Re.refs).value:isMultipleSelect(e)?[...e.selectedOptions].map(({value:Ee})=>Ee):isCheckBoxInput(e)?getCheckboxValue(Re.refs).value:getFieldValueAs(isUndefined(e.value)?Re.ref.value:e.value,Re)}var getResolverOptions=(Re,e,Ee,Ce)=>{const Te={};for(const De of Re){const Me=get(e,De);Me&&set(Te,De,Me._f)}return{criteriaMode:Ee,names:[...Re],fields:Te,shouldUseNativeValidation:Ce}},isRegex=Re=>Re instanceof RegExp,getRuleValue=Re=>isUndefined(Re)?Re:isRegex(Re)?Re.source:isObject$1(Re)?isRegex(Re.value)?Re.value.source:Re.value:Re,getValidationModes=Re=>({isOnSubmit:!Re||Re===VALIDATION_MODE.onSubmit,isOnBlur:Re===VALIDATION_MODE.onBlur,isOnChange:Re===VALIDATION_MODE.onChange,isOnAll:Re===VALIDATION_MODE.all,isOnTouch:Re===VALIDATION_MODE.onTouched});const ASYNC_FUNCTION="AsyncFunction";var hasPromiseValidation=Re=>!!Re&&!!Re.validate&&!!(isFunction(Re.validate)&&Re.validate.constructor.name===ASYNC_FUNCTION||isObject$1(Re.validate)&&Object.values(Re.validate).find(e=>e.constructor.name===ASYNC_FUNCTION)),hasValidation=Re=>Re.mount&&(Re.required||Re.min||Re.max||Re.maxLength||Re.minLength||Re.pattern||Re.validate),isWatched=(Re,e,Ee)=>!Ee&&(e.watchAll||e.watch.has(Re)||[...e.watch].some(Ce=>Re.startsWith(Ce)&&/^\.\w+/.test(Re.slice(Ce.length))));const iterateFieldsByAction=(Re,e,Ee,Ce)=>{for(const Te of Ee||Object.keys(Re)){const De=get(Re,Te);if(De){const{_f:Me,...Oe}=De;if(Me){if(Me.refs&&Me.refs[0]&&e(Me.refs[0],Te)&&!Ce)return!0;if(Me.ref&&e(Me.ref,Me.name)&&!Ce)return!0;if(iterateFieldsByAction(Oe,e))break}else if(isObject$1(Oe)&&iterateFieldsByAction(Oe,e))break}}};function schemaErrorLookup(Re,e,Ee){const Ce=get(Re,Ee);if(Ce||isKey(Ee))return{error:Ce,name:Ee};const Te=Ee.split(".");for(;Te.length;){const De=Te.join("."),Me=get(e,De),Oe=get(Re,De);if(Me&&!Array.isArray(Me)&&Ee!==De)return{name:Ee};if(Oe&&Oe.type)return{name:De,error:Oe};if(Oe&&Oe.root&&Oe.root.type)return{name:`${De}.root`,error:Oe.root};Te.pop()}return{name:Ee}}var shouldRenderFormState=(Re,e,Ee,Ce)=>{Ee(Re);const{name:Te,...De}=Re;return isEmptyObject(De)||Object.keys(De).length>=Object.keys(e).length||Object.keys(De).find(Me=>e[Me]===(!Ce||VALIDATION_MODE.all))},shouldSubscribeByName=(Re,e,Ee)=>!Re||!e||Re===e||convertToArrayPayload(Re).some(Ce=>Ce&&(Ee?Ce===e:Ce.startsWith(e)||e.startsWith(Ce))),skipValidation=(Re,e,Ee,Ce,Te)=>Te.isOnAll?!1:!Ee&&Te.isOnTouch?!(e||Re):(Ee?Ce.isOnBlur:Te.isOnBlur)?!Re:(Ee?Ce.isOnChange:Te.isOnChange)?Re:!0,unsetEmptyArray=(Re,e)=>!compact(get(Re,e)).length&&unset(Re,e),updateFieldArrayRootError=(Re,e,Ee)=>{const Ce=convertToArrayPayload(get(Re,Ee));return set(Ce,"root",e[Ee]),set(Re,Ee,Ce),Re};function getValidateError(Re,e,Ee="validate"){if(isString$1(Re)||Array.isArray(Re)&&Re.every(isString$1)||isBoolean(Re)&&!Re)return{type:Ee,message:isString$1(Re)?Re:"",ref:e}}var getValueAndMessage=Re=>isObject$1(Re)&&!isRegex(Re)?Re:{value:Re,message:""},validateField=async(Re,e,Ee,Ce,Te,De)=>{const{ref:Me,refs:Oe,required:Be,maxLength:ze,minLength:Ve,min:qe,max:We,pattern:Ge,validate:Je,name:Qe,valueAsNumber:ns,mount:Ye}=Re._f,rs=get(Ee,Qe);if(!Ye||e.has(Qe))return{};const ts=Oe?Oe[0]:Me,Xe=gs=>{Te&&ts.reportValidity&&(ts.setCustomValidity(isBoolean(gs)?"":gs||""),ts.reportValidity())},is={},os=isRadioInput(Me),hs=isCheckBoxInput(Me),fs=os||hs,xs=(ns||isFileInput(Me))&&isUndefined(Me.value)&&isUndefined(rs)||isHTMLElement(Me)&&Me.value===""||rs===""||Array.isArray(rs)&&!rs.length,Ss=appendErrors.bind(null,Qe,Ce,is),ds=(gs,Ts,Ds,Ms=INPUT_VALIDATION_RULES.maxLength,bs=INPUT_VALIDATION_RULES.minLength)=>{const Ns=gs?Ts:Ds;is[Qe]={type:gs?Ms:bs,message:Ns,ref:Me,...Ss(gs?Ms:bs,Ns)}};if(De?!Array.isArray(rs)||!rs.length:Be&&(!fs&&(xs||isNullOrUndefined(rs))||isBoolean(rs)&&!rs||hs&&!getCheckboxValue(Oe).isValid||os&&!getRadioValue(Oe).isValid)){const{value:gs,message:Ts}=isString$1(Be)?{value:!!Be,message:Be}:getValueAndMessage(Be);if(gs&&(is[Qe]={type:INPUT_VALIDATION_RULES.required,message:Ts,ref:ts,...Ss(INPUT_VALIDATION_RULES.required,Ts)},!Ce))return Xe(Ts),is}if(!xs&&(!isNullOrUndefined(qe)||!isNullOrUndefined(We))){let gs,Ts;const Ds=getValueAndMessage(We),Ms=getValueAndMessage(qe);if(!isNullOrUndefined(rs)&&!isNaN(rs)){const bs=Me.valueAsNumber||rs&&+rs;isNullOrUndefined(Ds.value)||(gs=bs>Ds.value),isNullOrUndefined(Ms.value)||(Ts=bs<Ms.value)}else{const bs=Me.valueAsDate||new Date(rs),Ns=ws=>new Date(new Date().toDateString()+" "+ws),ps=Me.type=="time",_s=Me.type=="week";isString$1(Ds.value)&&rs&&(gs=ps?Ns(rs)>Ns(Ds.value):_s?rs>Ds.value:bs>new Date(Ds.value)),isString$1(Ms.value)&&rs&&(Ts=ps?Ns(rs)<Ns(Ms.value):_s?rs<Ms.value:bs<new Date(Ms.value))}if((gs||Ts)&&(ds(!!gs,Ds.message,Ms.message,INPUT_VALIDATION_RULES.max,INPUT_VALIDATION_RULES.min),!Ce))return Xe(is[Qe].message),is}if((ze||Ve)&&!xs&&(isString$1(rs)||De&&Array.isArray(rs))){const gs=getValueAndMessage(ze),Ts=getValueAndMessage(Ve),Ds=!isNullOrUndefined(gs.value)&&rs.length>+gs.value,Ms=!isNullOrUndefined(Ts.value)&&rs.length<+Ts.value;if((Ds||Ms)&&(ds(Ds,gs.message,Ts.message),!Ce))return Xe(is[Qe].message),is}if(Ge&&!xs&&isString$1(rs)){const{value:gs,message:Ts}=getValueAndMessage(Ge);if(isRegex(gs)&&!rs.match(gs)&&(is[Qe]={type:INPUT_VALIDATION_RULES.pattern,message:Ts,ref:Me,...Ss(INPUT_VALIDATION_RULES.pattern,Ts)},!Ce))return Xe(Ts),is}if(Je){if(isFunction(Je)){const gs=await Je(rs,Ee),Ts=getValidateError(gs,ts);if(Ts&&(is[Qe]={...Ts,...Ss(INPUT_VALIDATION_RULES.validate,Ts.message)},!Ce))return Xe(Ts.message),is}else if(isObject$1(Je)){let gs={};for(const Ts in Je){if(!isEmptyObject(gs)&&!Ce)break;const Ds=getValidateError(await Je[Ts](rs,Ee),ts,Ts);Ds&&(gs={...Ds,...Ss(Ts,Ds.message)},Xe(Ds.message),Ce&&(is[Qe]=gs))}if(!isEmptyObject(gs)&&(is[Qe]={ref:ts,...gs},!Ce))return is}}return Xe(!0),is};const defaultOptions={mode:VALIDATION_MODE.onSubmit,reValidateMode:VALIDATION_MODE.onChange,shouldFocusError:!0};function createFormControl(Re={}){let e={...defaultOptions,...Re},Ee={submitCount:0,isDirty:!1,isReady:!1,isLoading:isFunction(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},Ce={},Te=isObject$1(e.defaultValues)||isObject$1(e.values)?cloneObject(e.defaultValues||e.values)||{}:{},De=e.shouldUnregister?{}:cloneObject(Te),Me={action:!1,mount:!1,watch:!1,keepIsValid:!1},Oe={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},Be,ze=0;const Ve={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},qe={...Ve};let We={...qe};const Ge={array:createSubject(),state:createSubject()},Je=e.criteriaMode===VALIDATION_MODE.all,Qe=Js=>lr=>{clearTimeout(ze),ze=setTimeout(Js,lr)},ns=async Js=>{if(!Me.keepIsValid&&!e.disabled&&(qe.isValid||We.isValid||Js)){let lr;e.resolver?(lr=isEmptyObject((await fs()).errors),Ye()):lr=await Ss(Ce,!0),lr!==Ee.isValid&&Ge.state.next({isValid:lr})}},Ye=(Js,lr)=>{!e.disabled&&(qe.isValidating||qe.validatingFields||We.isValidating||We.validatingFields)&&((Js||Array.from(Oe.mount)).forEach(hr=>{hr&&(lr?set(Ee.validatingFields,hr,lr):unset(Ee.validatingFields,hr))}),Ge.state.next({validatingFields:Ee.validatingFields,isValidating:!isEmptyObject(Ee.validatingFields)}))},rs=(Js,lr=[],hr,Ar,Pr=!0,vr=!0)=>{if(Ar&&hr&&!e.disabled){if(Me.action=!0,vr&&Array.isArray(get(Ce,Js))){const Mr=hr(get(Ce,Js),Ar.argA,Ar.argB);Pr&&set(Ce,Js,Mr)}if(vr&&Array.isArray(get(Ee.errors,Js))){const Mr=hr(get(Ee.errors,Js),Ar.argA,Ar.argB);Pr&&set(Ee.errors,Js,Mr),unsetEmptyArray(Ee.errors,Js)}if((qe.touchedFields||We.touchedFields)&&vr&&Array.isArray(get(Ee.touchedFields,Js))){const Mr=hr(get(Ee.touchedFields,Js),Ar.argA,Ar.argB);Pr&&set(Ee.touchedFields,Js,Mr)}(qe.dirtyFields||We.dirtyFields)&&(Ee.dirtyFields=getDirtyFields(Te,De)),Ge.state.next({name:Js,isDirty:gs(Js,lr),dirtyFields:Ee.dirtyFields,errors:Ee.errors,isValid:Ee.isValid})}else set(De,Js,lr)},ts=(Js,lr)=>{set(Ee.errors,Js,lr),Ge.state.next({errors:Ee.errors})},Xe=Js=>{Ee.errors=Js,Ge.state.next({errors:Ee.errors,isValid:!1})},is=(Js,lr,hr,Ar)=>{const Pr=get(Ce,Js);if(Pr){const vr=get(De,Js,isUndefined(hr)?get(Te,Js):hr);isUndefined(vr)||Ar&&Ar.defaultChecked||lr?set(De,Js,lr?vr:getFieldValue(Pr._f)):Ms(Js,vr),Me.mount&&!Me.action&&ns()}},os=(Js,lr,hr,Ar,Pr)=>{let vr=!1,Mr=!1;const Qr={name:Js};if(!e.disabled){if(!hr||Ar){(qe.isDirty||We.isDirty)&&(Mr=Ee.isDirty,Ee.isDirty=Qr.isDirty=gs(),vr=Mr!==Qr.isDirty);const Ur=deepEqual(get(Te,Js),lr);Mr=!!get(Ee.dirtyFields,Js),Ur?unset(Ee.dirtyFields,Js):set(Ee.dirtyFields,Js,!0),Qr.dirtyFields=Ee.dirtyFields,vr=vr||(qe.dirtyFields||We.dirtyFields)&&Mr!==!Ur}if(hr){const Ur=get(Ee.touchedFields,Js);Ur||(set(Ee.touchedFields,Js,hr),Qr.touchedFields=Ee.touchedFields,vr=vr||(qe.touchedFields||We.touchedFields)&&Ur!==hr)}vr&&Pr&&Ge.state.next(Qr)}return vr?Qr:{}},hs=(Js,lr,hr,Ar)=>{const Pr=get(Ee.errors,Js),vr=(qe.isValid||We.isValid)&&isBoolean(lr)&&Ee.isValid!==lr;if(e.delayError&&hr?(Be=Qe(()=>ts(Js,hr)),Be(e.delayError)):(clearTimeout(ze),Be=null,hr?set(Ee.errors,Js,hr):unset(Ee.errors,Js)),(hr?!deepEqual(Pr,hr):Pr)||!isEmptyObject(Ar)||vr){const Mr={...Ar,...vr&&isBoolean(lr)?{isValid:lr}:{},errors:Ee.errors,name:Js};Ee={...Ee,...Mr},Ge.state.next(Mr)}},fs=async Js=>(Ye(Js,!0),await e.resolver(De,e.context,getResolverOptions(Js||Oe.mount,Ce,e.criteriaMode,e.shouldUseNativeValidation))),xs=async Js=>{const{errors:lr}=await fs(Js);if(Ye(Js),Js)for(const hr of Js){const Ar=get(lr,hr);Ar?set(Ee.errors,hr,Ar):unset(Ee.errors,hr)}else Ee.errors=lr;return lr},Ss=async(Js,lr,hr={valid:!0})=>{for(const Ar in Js){const Pr=Js[Ar];if(Pr){const{_f:vr,...Mr}=Pr;if(vr){const Qr=Oe.array.has(vr.name),Ur=Pr._f&&hasPromiseValidation(Pr._f);Ur&&qe.validatingFields&&Ye([vr.name],!0);const ti=await validateField(Pr,Oe.disabled,De,Je,e.shouldUseNativeValidation&&!lr,Qr);if(Ur&&qe.validatingFields&&Ye([vr.name]),ti[vr.name]&&(hr.valid=!1,lr||Re.shouldUseNativeValidation))break;!lr&&(get(ti,vr.name)?Qr?updateFieldArrayRootError(Ee.errors,ti,vr.name):set(Ee.errors,vr.name,ti[vr.name]):unset(Ee.errors,vr.name))}!isEmptyObject(Mr)&&await Ss(Mr,lr,hr)}}return hr.valid},ds=()=>{for(const Js of Oe.unMount){const lr=get(Ce,Js);lr&&(lr._f.refs?lr._f.refs.every(hr=>!live(hr)):!live(lr._f.ref))&&Us(Js)}Oe.unMount=new Set},gs=(Js,lr)=>!e.disabled&&(Js&&lr&&set(De,Js,lr),!deepEqual(js(),Te)),Ts=(Js,lr,hr)=>generateWatchOutput(Js,Oe,{...Me.mount?De:isUndefined(lr)?Te:isString$1(Js)?{[Js]:lr}:lr},hr,lr),Ds=Js=>compact(get(Me.mount?De:Te,Js,e.shouldUnregister?get(Te,Js,[]):[])),Ms=(Js,lr,hr={})=>{const Ar=get(Ce,Js);let Pr=lr;if(Ar){const vr=Ar._f;vr&&(!vr.disabled&&set(De,Js,getFieldValueAs(lr,vr)),Pr=isHTMLElement(vr.ref)&&isNullOrUndefined(lr)?"":lr,isMultipleSelect(vr.ref)?[...vr.ref.options].forEach(Mr=>Mr.selected=Pr.includes(Mr.value)):vr.refs?isCheckBoxInput(vr.ref)?vr.refs.forEach(Mr=>{(!Mr.defaultChecked||!Mr.disabled)&&(Array.isArray(Pr)?Mr.checked=!!Pr.find(Qr=>Qr===Mr.value):Mr.checked=Pr===Mr.value||!!Pr)}):vr.refs.forEach(Mr=>Mr.checked=Mr.value===Pr):isFileInput(vr.ref)?vr.ref.value="":(vr.ref.value=Pr,vr.ref.type||Ge.state.next({name:Js,values:cloneObject(De)})))}(hr.shouldDirty||hr.shouldTouch)&&os(Js,Pr,hr.shouldTouch,hr.shouldDirty,!0),hr.shouldValidate&&ws(Js)},bs=(Js,lr,hr)=>{for(const Ar in lr){if(!lr.hasOwnProperty(Ar))return;const Pr=lr[Ar],vr=Js+"."+Ar,Mr=get(Ce,vr);(Oe.array.has(Js)||isObject$1(Pr)||Mr&&!Mr._f)&&!isDateObject(Pr)?bs(vr,Pr,hr):Ms(vr,Pr,hr)}},Ns=(Js,lr,hr={})=>{const Ar=get(Ce,Js),Pr=Oe.array.has(Js),vr=cloneObject(lr);set(De,Js,vr),Pr?(Ge.array.next({name:Js,values:cloneObject(De)}),(qe.isDirty||qe.dirtyFields||We.isDirty||We.dirtyFields)&&hr.shouldDirty&&Ge.state.next({name:Js,dirtyFields:getDirtyFields(Te,De),isDirty:gs(Js,vr)})):Ar&&!Ar._f&&!isNullOrUndefined(vr)?bs(Js,vr,hr):Ms(Js,vr,hr),isWatched(Js,Oe)?Ge.state.next({...Ee,name:Js,values:cloneObject(De)}):Ge.state.next({name:Me.mount?Js:void 0,values:cloneObject(De)})},ps=async Js=>{Me.mount=!0;const lr=Js.target;let hr=lr.name,Ar=!0;const Pr=get(Ce,hr),vr=Ur=>{Ar=Number.isNaN(Ur)||isDateObject(Ur)&&isNaN(Ur.getTime())||deepEqual(Ur,get(De,hr,Ur))},Mr=getValidationModes(e.mode),Qr=getValidationModes(e.reValidateMode);if(Pr){let Ur,ti;const oi=lr.type?getFieldValue(Pr._f):getEventValue(Js),Ti=Js.type===EVENTS.BLUR||Js.type===EVENTS.FOCUS_OUT,_i=!hasValidation(Pr._f)&&!e.resolver&&!get(Ee.errors,hr)&&!Pr._f.deps||skipValidation(Ti,get(Ee.touchedFields,hr),Ee.isSubmitted,Qr,Mr),mi=isWatched(hr,Oe,Ti);set(De,hr,oi),Ti?(!lr||!lr.readOnly)&&(Pr._f.onBlur&&Pr._f.onBlur(Js),Be&&Be(0)):Pr._f.onChange&&Pr._f.onChange(Js);const Ci=os(hr,oi,Ti),Tr=!isEmptyObject(Ci)||mi;if(!Ti&&Ge.state.next({name:hr,type:Js.type,values:cloneObject(De)}),_i)return(qe.isValid||We.isValid)&&(e.mode==="onBlur"?Ti&&ns():Ti||ns()),Tr&&Ge.state.next({name:hr,...mi?{}:Ci});if(!Ti&&mi&&Ge.state.next({...Ee}),e.resolver){const{errors:Sr}=await fs([hr]);if(Ye([hr]),vr(oi),Ar){const Ir=schemaErrorLookup(Ee.errors,Ce,hr),Kr=schemaErrorLookup(Sr,Ce,Ir.name||hr);Ur=Kr.error,hr=Kr.name,ti=isEmptyObject(Sr)}}else Ye([hr],!0),Ur=(await validateField(Pr,Oe.disabled,De,Je,e.shouldUseNativeValidation))[hr],Ye([hr]),vr(oi),Ar&&(Ur?ti=!1:(qe.isValid||We.isValid)&&(ti=await Ss(Ce,!0)));Ar&&(Pr._f.deps&&(!Array.isArray(Pr._f.deps)||Pr._f.deps.length>0)&&ws(Pr._f.deps),hs(hr,ti,Ur,Ci))}},_s=(Js,lr)=>{if(get(Ee.errors,lr)&&Js.focus)return Js.focus(),1},ws=async(Js,lr={})=>{let hr,Ar;const Pr=convertToArrayPayload(Js);if(e.resolver){const vr=await xs(isUndefined(Js)?Js:Pr);hr=isEmptyObject(vr),Ar=Js?!Pr.some(Mr=>get(vr,Mr)):hr}else Js?(Ar=(await Promise.all(Pr.map(async vr=>{const Mr=get(Ce,vr);return await Ss(Mr&&Mr._f?{[vr]:Mr}:Mr)}))).every(Boolean),!(!Ar&&!Ee.isValid)&&ns()):Ar=hr=await Ss(Ce);return Ge.state.next({...!isString$1(Js)||(qe.isValid||We.isValid)&&hr!==Ee.isValid?{}:{name:Js},...e.resolver||!Js?{isValid:hr}:{},errors:Ee.errors}),lr.shouldFocus&&!Ar&&iterateFieldsByAction(Ce,_s,Js?Pr:Oe.mount),Ar},js=(Js,lr)=>{let hr={...Me.mount?De:Te};return lr&&(hr=extractFormValues(lr.dirtyFields?Ee.dirtyFields:Ee.touchedFields,hr)),isUndefined(Js)?hr:isString$1(Js)?get(hr,Js):Js.map(Ar=>get(hr,Ar))},ms=(Js,lr)=>({invalid:!!get((lr||Ee).errors,Js),isDirty:!!get((lr||Ee).dirtyFields,Js),error:get((lr||Ee).errors,Js),isValidating:!!get(Ee.validatingFields,Js),isTouched:!!get((lr||Ee).touchedFields,Js)}),ys=Js=>{Js&&convertToArrayPayload(Js).forEach(lr=>unset(Ee.errors,lr)),Ge.state.next({errors:Js?Ee.errors:{}})},ks=(Js,lr,hr)=>{const Ar=(get(Ce,Js,{_f:{}})._f||{}).ref,Pr=get(Ee.errors,Js)||{},{ref:vr,message:Mr,type:Qr,...Ur}=Pr;set(Ee.errors,Js,{...Ur,...lr,ref:Ar}),Ge.state.next({name:Js,errors:Ee.errors,isValid:!1}),hr&&hr.shouldFocus&&Ar&&Ar.focus&&Ar.focus()},zs=(Js,lr)=>isFunction(Js)?Ge.state.subscribe({next:hr=>"values"in hr&&Js(Ts(void 0,lr),hr)}):Ts(Js,lr,!0),Cs=Js=>Ge.state.subscribe({next:lr=>{shouldSubscribeByName(Js.name,lr.name,Js.exact)&&shouldRenderFormState(lr,Js.formState||qe,Or,Js.reRenderRoot)&&Js.callback({values:{...De},...Ee,...lr,defaultValues:Te})}}).unsubscribe,Ps=Js=>(Me.mount=!0,We={...We,...Js.formState},Cs({...Js,formState:{...Ve,...Js.formState}})),Us=(Js,lr={})=>{for(const hr of Js?convertToArrayPayload(Js):Oe.mount)Oe.mount.delete(hr),Oe.array.delete(hr),lr.keepValue||(unset(Ce,hr),unset(De,hr)),!lr.keepError&&unset(Ee.errors,hr),!lr.keepDirty&&unset(Ee.dirtyFields,hr),!lr.keepTouched&&unset(Ee.touchedFields,hr),!lr.keepIsValidating&&unset(Ee.validatingFields,hr),!e.shouldUnregister&&!lr.keepDefaultValue&&unset(Te,hr);Ge.state.next({values:cloneObject(De)}),Ge.state.next({...Ee,...lr.keepDirty?{isDirty:gs()}:{}}),!lr.keepIsValid&&ns()},Is=({disabled:Js,name:lr})=>{if(isBoolean(Js)&&Me.mount||Js||Oe.disabled.has(lr)){const Pr=Oe.disabled.has(lr)!==!!Js;Js?Oe.disabled.add(lr):Oe.disabled.delete(lr),Pr&&Me.mount&&!Me.action&&ns()}},Vs=(Js,lr={})=>{let hr=get(Ce,Js);const Ar=isBoolean(lr.disabled)||isBoolean(e.disabled);return set(Ce,Js,{...hr||{},_f:{...hr&&hr._f?hr._f:{ref:{name:Js}},name:Js,mount:!0,...lr}}),Oe.mount.add(Js),hr?Is({disabled:isBoolean(lr.disabled)?lr.disabled:e.disabled,name:Js}):is(Js,!0,lr.value),{...Ar?{disabled:lr.disabled||e.disabled}:{},...e.progressive?{required:!!lr.required,min:getRuleValue(lr.min),max:getRuleValue(lr.max),minLength:getRuleValue(lr.minLength),maxLength:getRuleValue(lr.maxLength),pattern:getRuleValue(lr.pattern)}:{},name:Js,onChange:ps,onBlur:ps,ref:Pr=>{if(Pr){Vs(Js,lr),hr=get(Ce,Js);const vr=isUndefined(Pr.value)&&Pr.querySelectorAll&&Pr.querySelectorAll("input,select,textarea")[0]||Pr,Mr=isRadioOrCheckbox(vr),Qr=hr._f.refs||[];if(Mr?Qr.find(Ur=>Ur===vr):vr===hr._f.ref)return;set(Ce,Js,{_f:{...hr._f,...Mr?{refs:[...Qr.filter(live),vr,...Array.isArray(get(Te,Js))?[{}]:[]],ref:{type:vr.type,name:Js}}:{ref:vr}}}),is(Js,!1,void 0,vr)}else hr=get(Ce,Js,{}),hr._f&&(hr._f.mount=!1),(e.shouldUnregister||lr.shouldUnregister)&&!(isNameInFieldArray(Oe.array,Js)&&Me.action)&&Oe.unMount.add(Js)}}},Ks=()=>e.shouldFocusError&&iterateFieldsByAction(Ce,_s,Oe.mount),or=Js=>{isBoolean(Js)&&(Ge.state.next({disabled:Js}),iterateFieldsByAction(Ce,(lr,hr)=>{const Ar=get(Ce,hr);Ar&&(lr.disabled=Ar._f.disabled||Js,Array.isArray(Ar._f.refs)&&Ar._f.refs.forEach(Pr=>{Pr.disabled=Ar._f.disabled||Js}))},0,!1))},rr=(Js,lr)=>async hr=>{let Ar;hr&&(hr.preventDefault&&hr.preventDefault(),hr.persist&&hr.persist());let Pr=cloneObject(De);if(Ge.state.next({isSubmitting:!0}),e.resolver){const{errors:vr,values:Mr}=await fs();Ye(),Ee.errors=vr,Pr=cloneObject(Mr)}else await Ss(Ce);if(Oe.disabled.size)for(const vr of Oe.disabled)unset(Pr,vr);if(unset(Ee.errors,"root"),isEmptyObject(Ee.errors)){Ge.state.next({errors:{}});try{await Js(Pr,hr)}catch(vr){Ar=vr}}else lr&&await lr({...Ee.errors},hr),Ks(),setTimeout(Ks);if(Ge.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject(Ee.errors)&&!Ar,submitCount:Ee.submitCount+1,errors:Ee.errors}),Ar)throw Ar},ur=(Js,lr={})=>{get(Ce,Js)&&(isUndefined(lr.defaultValue)?Ns(Js,cloneObject(get(Te,Js))):(Ns(Js,lr.defaultValue),set(Te,Js,cloneObject(lr.defaultValue))),lr.keepTouched||unset(Ee.touchedFields,Js),lr.keepDirty||(unset(Ee.dirtyFields,Js),Ee.isDirty=lr.defaultValue?gs(Js,cloneObject(get(Te,Js))):gs()),lr.keepError||(unset(Ee.errors,Js),qe.isValid&&ns()),Ge.state.next({...Ee}))},Ws=(Js,lr={})=>{const hr=Js?cloneObject(Js):Te,Ar=cloneObject(hr),Pr=isEmptyObject(Js),vr=Pr?Te:Ar;if(lr.keepDefaultValues||(Te=hr),!lr.keepValues){if(lr.keepDirtyValues){const Mr=new Set([...Oe.mount,...Object.keys(getDirtyFields(Te,De))]);for(const Qr of Array.from(Mr)){const Ur=get(Ee.dirtyFields,Qr),ti=get(De,Qr),oi=get(vr,Qr);Ur&&!isUndefined(ti)?set(vr,Qr,ti):!Ur&&!isUndefined(oi)&&Ns(Qr,oi)}}else{if(isWeb&&isUndefined(Js))for(const Mr of Oe.mount){const Qr=get(Ce,Mr);if(Qr&&Qr._f){const Ur=Array.isArray(Qr._f.refs)?Qr._f.refs[0]:Qr._f.ref;if(isHTMLElement(Ur)){const ti=Ur.closest("form");if(ti){ti.reset();break}}}}if(lr.keepFieldsRef)for(const Mr of Oe.mount)Ns(Mr,get(vr,Mr));else Ce={}}De=e.shouldUnregister?lr.keepDefaultValues?cloneObject(Te):{}:cloneObject(vr),Ge.array.next({values:{...vr}}),Ge.state.next({values:{...vr}})}Oe={mount:lr.keepDirtyValues?Oe.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},Me.mount=!qe.isValid||!!lr.keepIsValid||!!lr.keepDirtyValues||!e.shouldUnregister&&!isEmptyObject(vr),Me.watch=!!e.shouldUnregister,Me.keepIsValid=!!lr.keepIsValid,Me.action=!1,lr.keepErrors||(Ee.errors={}),Ge.state.next({submitCount:lr.keepSubmitCount?Ee.submitCount:0,isDirty:Pr?!1:lr.keepDirty?Ee.isDirty:!!(lr.keepDefaultValues&&!deepEqual(Js,Te)),isSubmitted:lr.keepIsSubmitted?Ee.isSubmitted:!1,dirtyFields:Pr?{}:lr.keepDirtyValues?lr.keepDefaultValues&&De?getDirtyFields(Te,De):Ee.dirtyFields:lr.keepDefaultValues&&Js?getDirtyFields(Te,Js):lr.keepDirty?Ee.dirtyFields:{},touchedFields:lr.keepTouched?Ee.touchedFields:{},errors:lr.keepErrors?Ee.errors:{},isSubmitSuccessful:lr.keepIsSubmitSuccessful?Ee.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:Te})},Er=(Js,lr)=>Ws(isFunction(Js)?Js(De):Js,{...e.resetOptions,...lr}),zr=(Js,lr={})=>{const hr=get(Ce,Js),Ar=hr&&hr._f;if(Ar){const Pr=Ar.refs?Ar.refs[0]:Ar.ref;Pr.focus&&setTimeout(()=>{Pr.focus(),lr.shouldSelect&&isFunction(Pr.select)&&Pr.select()})}},Or=Js=>{Ee={...Ee,...Js}},Lr={control:{register:Vs,unregister:Us,getFieldState:ms,handleSubmit:rr,setError:ks,_subscribe:Cs,_runSchema:fs,_updateIsValidating:Ye,_focusError:Ks,_getWatch:Ts,_getDirty:gs,_setValid:ns,_setFieldArray:rs,_setDisabledField:Is,_setErrors:Xe,_getFieldArray:Ds,_reset:Ws,_resetDefaultValues:()=>isFunction(e.defaultValues)&&e.defaultValues().then(Js=>{Er(Js,e.resetOptions),Ge.state.next({isLoading:!1})}),_removeUnmounted:ds,_disableForm:or,_subjects:Ge,_proxyFormState:qe,get _fields(){return Ce},get _formValues(){return De},get _state(){return Me},set _state(Js){Me=Js},get _defaultValues(){return Te},get _names(){return Oe},set _names(Js){Oe=Js},get _formState(){return Ee},get _options(){return e},set _options(Js){e={...e,...Js}}},subscribe:Ps,trigger:ws,register:Vs,handleSubmit:rr,watch:zs,setValue:Ns,getValues:js,reset:Er,resetField:ur,clearErrors:ys,unregister:Us,setError:ks,setFocus:zr,getFieldState:ms};return{...Lr,formControl:Lr}}function useForm(Re={}){const e=React.useRef(void 0),Ee=React.useRef(void 0),[Ce,Te]=React.useState({isDirty:!1,isValidating:!1,isLoading:isFunction(Re.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:Re.errors||{},disabled:Re.disabled||!1,isReady:!1,defaultValues:isFunction(Re.defaultValues)?void 0:Re.defaultValues});if(!e.current)if(Re.formControl)e.current={...Re.formControl,formState:Ce},Re.defaultValues&&!isFunction(Re.defaultValues)&&Re.formControl.reset(Re.defaultValues,Re.resetOptions);else{const{formControl:Me,...Oe}=createFormControl(Re);e.current={...Oe,formState:Ce}}const De=e.current.control;return De._options=Re,useIsomorphicLayoutEffect(()=>{const Me=De._subscribe({formState:De._proxyFormState,callback:()=>Te({...De._formState}),reRenderRoot:!0});return Te(Oe=>({...Oe,isReady:!0})),De._formState.isReady=!0,Me},[De]),React.useEffect(()=>De._disableForm(Re.disabled),[De,Re.disabled]),React.useEffect(()=>{Re.mode&&(De._options.mode=Re.mode),Re.reValidateMode&&(De._options.reValidateMode=Re.reValidateMode)},[De,Re.mode,Re.reValidateMode]),React.useEffect(()=>{Re.errors&&(De._setErrors(Re.errors),De._focusError())},[De,Re.errors]),React.useEffect(()=>{Re.shouldUnregister&&De._subjects.state.next({values:De._getWatch()})},[De,Re.shouldUnregister]),React.useEffect(()=>{if(De._proxyFormState.isDirty){const Me=De._getDirty();Me!==Ce.isDirty&&De._subjects.state.next({isDirty:Me})}},[De,Ce.isDirty]),React.useEffect(()=>{var Me;Re.values&&!deepEqual(Re.values,Ee.current)?(De._reset(Re.values,{keepFieldsRef:!0,...De._options.resetOptions}),!((Me=De._options.resetOptions)===null||Me===void 0)&&Me.keepIsValid||De._setValid(),Ee.current=Re.values,Te(Oe=>({...Oe}))):De._resetDefaultValues()},[De,Re.values]),React.useEffect(()=>{De._state.mount||(De._setValid(),De._state.mount=!0),De._state.watch&&(De._state.watch=!1,De._subjects.state.next({...De._formState})),De._removeUnmounted()}),e.current.formState=React.useMemo(()=>getProxyFormState(Ce,De),[De,Ce]),e.current}const r$1=(Re,e,Ee)=>{if(Re&&"reportValidity"in Re){const Ce=get(Ee,e);Re.setCustomValidity(Ce&&Ce.message||""),Re.reportValidity()}},o=(Re,e)=>{for(const Ee in e.fields){const Ce=e.fields[Ee];Ce&&Ce.ref&&"reportValidity"in Ce.ref?r$1(Ce.ref,Ee,Re):Ce&&Ce.refs&&Ce.refs.forEach(Te=>r$1(Te,Ee,Re))}},s$1=(Re,e)=>{e.shouldUseNativeValidation&&o(Re,e);const Ee={};for(const Ce in Re){const Te=get(e.fields,Ce),De=Object.assign(Re[Ce]||{},{ref:Te&&Te.ref});if(i$1(e.names||Object.keys(Re),Ce)){const Me=Object.assign({},get(Ee,Ce));set(Me,"root",De),set(Ee,Ce,Me)}else set(Ee,Ce,De)}return Ee},i$1=(Re,e)=>{const Ee=n(e);return Re.some(Ce=>n(Ce).match(`^${Ee}\\.\\d+`))};function n(Re){return Re.replace(/\]|\[/g,"")}function $constructor(Re,e,Ee){function Ce(Oe,Be){if(Oe._zod||Object.defineProperty(Oe,"_zod",{value:{def:Be,constr:Me,traits:new Set},enumerable:!1}),Oe._zod.traits.has(Re))return;Oe._zod.traits.add(Re),e(Oe,Be);const ze=Me.prototype,Ve=Object.keys(ze);for(let qe=0;qe<Ve.length;qe++){const We=Ve[qe];We in Oe||(Oe[We]=ze[We].bind(Oe))}}const Te=(Ee==null?void 0:Ee.Parent)??Object;class De extends Te{}Object.defineProperty(De,"name",{value:Re});function Me(Oe){var Be;const ze=Ee!=null&&Ee.Parent?new De:this;Ce(ze,Oe),(Be=ze._zod).deferred??(Be.deferred=[]);for(const Ve of ze._zod.deferred)Ve();return ze}return Object.defineProperty(Me,"init",{value:Ce}),Object.defineProperty(Me,Symbol.hasInstance,{value:Oe=>{var Be,ze;return Ee!=null&&Ee.Parent&&Oe instanceof Ee.Parent?!0:(ze=(Be=Oe==null?void 0:Oe._zod)==null?void 0:Be.traits)==null?void 0:ze.has(Re)}}),Object.defineProperty(Me,"name",{value:Re}),Me}class $ZodAsyncError extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class $ZodEncodeError extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const globalConfig={};function config(Re){return globalConfig}function getEnumValues(Re){const e=Object.values(Re).filter(Ce=>typeof Ce=="number");return Object.entries(Re).filter(([Ce,Te])=>e.indexOf(+Ce)===-1).map(([Ce,Te])=>Te)}function jsonStringifyReplacer(Re,e){return typeof e=="bigint"?e.toString():e}function cached(Re){return{get value(){{const e=Re();return Object.defineProperty(this,"value",{value:e}),e}}}}function nullish(Re){return Re==null}function cleanRegex(Re){const e=Re.startsWith("^")?1:0,Ee=Re.endsWith("$")?Re.length-1:Re.length;return Re.slice(e,Ee)}function floatSafeRemainder(Re,e){const Ee=(Re.toString().split(".")[1]||"").length,Ce=e.toString();let Te=(Ce.split(".")[1]||"").length;if(Te===0&&/\d?e-\d?/.test(Ce)){const Be=Ce.match(/\d?e-(\d?)/);Be!=null&&Be[1]&&(Te=Number.parseInt(Be[1]))}const De=Ee>Te?Ee:Te,Me=Number.parseInt(Re.toFixed(De).replace(".","")),Oe=Number.parseInt(e.toFixed(De).replace(".",""));return Me%Oe/10**De}const EVALUATING=Symbol("evaluating");function defineLazy(Re,e,Ee){let Ce;Object.defineProperty(Re,e,{get(){if(Ce!==EVALUATING)return Ce===void 0&&(Ce=EVALUATING,Ce=Ee()),Ce},set(Te){Object.defineProperty(Re,e,{value:Te})},configurable:!0})}function assignProp(Re,e,Ee){Object.defineProperty(Re,e,{value:Ee,writable:!0,enumerable:!0,configurable:!0})}function mergeDefs(...Re){const e={};for(const Ee of Re){const Ce=Object.getOwnPropertyDescriptors(Ee);Object.assign(e,Ce)}return Object.defineProperties({},e)}function esc(Re){return JSON.stringify(Re)}function slugify(Re){return Re.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const captureStackTrace="captureStackTrace"in Error?Error.captureStackTrace:(...Re)=>{};function isObject(Re){return typeof Re=="object"&&Re!==null&&!Array.isArray(Re)}const allowsEval=cached(()=>{var Re;if(typeof navigator<"u"&&((Re=navigator==null?void 0:navigator.userAgent)!=null&&Re.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function isPlainObject(Re){if(isObject(Re)===!1)return!1;const e=Re.constructor;if(e===void 0||typeof e!="function")return!0;const Ee=e.prototype;return!(isObject(Ee)===!1||Object.prototype.hasOwnProperty.call(Ee,"isPrototypeOf")===!1)}function shallowClone(Re){return isPlainObject(Re)?{...Re}:Array.isArray(Re)?[...Re]:Re}const propertyKeyTypes=new Set(["string","number","symbol"]);function escapeRegex(Re){return Re.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function clone(Re,e,Ee){const Ce=new Re._zod.constr(e??Re._zod.def);return(!e||Ee!=null&&Ee.parent)&&(Ce._zod.parent=Re),Ce}function normalizeParams(Re){const e=Re;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function optionalKeys(Re){return Object.keys(Re).filter(e=>Re[e]._zod.optin==="optional"&&Re[e]._zod.optout==="optional")}const NUMBER_FORMAT_RANGES={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function pick(Re,e){const Ee=Re._zod.def,Ce=Ee.checks;if(Ce&&Ce.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const De=mergeDefs(Re._zod.def,{get shape(){const Me={};for(const Oe in e){if(!(Oe in Ee.shape))throw new Error(`Unrecognized key: "${Oe}"`);e[Oe]&&(Me[Oe]=Ee.shape[Oe])}return assignProp(this,"shape",Me),Me},checks:[]});return clone(Re,De)}function omit(Re,e){const Ee=Re._zod.def,Ce=Ee.checks;if(Ce&&Ce.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const De=mergeDefs(Re._zod.def,{get shape(){const Me={...Re._zod.def.shape};for(const Oe in e){if(!(Oe in Ee.shape))throw new Error(`Unrecognized key: "${Oe}"`);e[Oe]&&delete Me[Oe]}return assignProp(this,"shape",Me),Me},checks:[]});return clone(Re,De)}function extend(Re,e){if(!isPlainObject(e))throw new Error("Invalid input to extend: expected a plain object");const Ee=Re._zod.def.checks;if(Ee&&Ee.length>0){const De=Re._zod.def.shape;for(const Me in e)if(Object.getOwnPropertyDescriptor(De,Me)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const Te=mergeDefs(Re._zod.def,{get shape(){const De={...Re._zod.def.shape,...e};return assignProp(this,"shape",De),De}});return clone(Re,Te)}function safeExtend(Re,e){if(!isPlainObject(e))throw new Error("Invalid input to safeExtend: expected a plain object");const Ee=mergeDefs(Re._zod.def,{get shape(){const Ce={...Re._zod.def.shape,...e};return assignProp(this,"shape",Ce),Ce}});return clone(Re,Ee)}function merge(Re,e){const Ee=mergeDefs(Re._zod.def,{get shape(){const Ce={...Re._zod.def.shape,...e._zod.def.shape};return assignProp(this,"shape",Ce),Ce},get catchall(){return e._zod.def.catchall},checks:[]});return clone(Re,Ee)}function partial(Re,e,Ee){const Te=e._zod.def.checks;if(Te&&Te.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const Me=mergeDefs(e._zod.def,{get shape(){const Oe=e._zod.def.shape,Be={...Oe};if(Ee)for(const ze in Ee){if(!(ze in Oe))throw new Error(`Unrecognized key: "${ze}"`);Ee[ze]&&(Be[ze]=Re?new Re({type:"optional",innerType:Oe[ze]}):Oe[ze])}else for(const ze in Oe)Be[ze]=Re?new Re({type:"optional",innerType:Oe[ze]}):Oe[ze];return assignProp(this,"shape",Be),Be},checks:[]});return clone(e,Me)}function required(Re,e,Ee){const Ce=mergeDefs(e._zod.def,{get shape(){const Te=e._zod.def.shape,De={...Te};if(Ee)for(const Me in Ee){if(!(Me in De))throw new Error(`Unrecognized key: "${Me}"`);Ee[Me]&&(De[Me]=new Re({type:"nonoptional",innerType:Te[Me]}))}else for(const Me in Te)De[Me]=new Re({type:"nonoptional",innerType:Te[Me]});return assignProp(this,"shape",De),De}});return clone(e,Ce)}function aborted(Re,e=0){var Ee;if(Re.aborted===!0)return!0;for(let Ce=e;Ce<Re.issues.length;Ce++)if(((Ee=Re.issues[Ce])==null?void 0:Ee.continue)!==!0)return!0;return!1}function prefixIssues(Re,e){return e.map(Ee=>{var Ce;return(Ce=Ee).path??(Ce.path=[]),Ee.path.unshift(Re),Ee})}function unwrapMessage(Re){return typeof Re=="string"?Re:Re==null?void 0:Re.message}function finalizeIssue(Re,e,Ee){var Te,De,Me,Oe,Be,ze;const Ce={...Re,path:Re.path??[]};if(!Re.message){const Ve=unwrapMessage((Me=(De=(Te=Re.inst)==null?void 0:Te._zod.def)==null?void 0:De.error)==null?void 0:Me.call(De,Re))??unwrapMessage((Oe=e==null?void 0:e.error)==null?void 0:Oe.call(e,Re))??unwrapMessage((Be=Ee.customError)==null?void 0:Be.call(Ee,Re))??unwrapMessage((ze=Ee.localeError)==null?void 0:ze.call(Ee,Re))??"Invalid input";Ce.message=Ve}return delete Ce.inst,delete Ce.continue,e!=null&&e.reportInput||delete Ce.input,Ce}function getLengthableOrigin(Re){return Array.isArray(Re)?"array":typeof Re=="string"?"string":"unknown"}function issue(...Re){const[e,Ee,Ce]=Re;return typeof e=="string"?{message:e,code:"custom",input:Ee,inst:Ce}:{...e}}const initializer$1=(Re,e)=>{Re.name="$ZodError",Object.defineProperty(Re,"_zod",{value:Re._zod,enumerable:!1}),Object.defineProperty(Re,"issues",{value:e,enumerable:!1}),Re.message=JSON.stringify(e,jsonStringifyReplacer,2),Object.defineProperty(Re,"toString",{value:()=>Re.message,enumerable:!1})},$ZodError=$constructor("$ZodError",initializer$1),$ZodRealError=$constructor("$ZodError",initializer$1,{Parent:Error});function flattenError(Re,e=Ee=>Ee.message){const Ee={},Ce=[];for(const Te of Re.issues)Te.path.length>0?(Ee[Te.path[0]]=Ee[Te.path[0]]||[],Ee[Te.path[0]].push(e(Te))):Ce.push(e(Te));return{formErrors:Ce,fieldErrors:Ee}}function formatError(Re,e=Ee=>Ee.message){const Ee={_errors:[]},Ce=Te=>{for(const De of Te.issues)if(De.code==="invalid_union"&&De.errors.length)De.errors.map(Me=>Ce({issues:Me}));else if(De.code==="invalid_key")Ce({issues:De.issues});else if(De.code==="invalid_element")Ce({issues:De.issues});else if(De.path.length===0)Ee._errors.push(e(De));else{let Me=Ee,Oe=0;for(;Oe<De.path.length;){const Be=De.path[Oe];Oe===De.path.length-1?(Me[Be]=Me[Be]||{_errors:[]},Me[Be]._errors.push(e(De))):Me[Be]=Me[Be]||{_errors:[]},Me=Me[Be],Oe++}}};return Ce(Re),Ee}const _parse=Re=>(e,Ee,Ce,Te)=>{const De=Ce?Object.assign(Ce,{async:!1}):{async:!1},Me=e._zod.run({value:Ee,issues:[]},De);if(Me instanceof Promise)throw new $ZodAsyncError;if(Me.issues.length){const Oe=new((Te==null?void 0:Te.Err)??Re)(Me.issues.map(Be=>finalizeIssue(Be,De,config())));throw captureStackTrace(Oe,Te==null?void 0:Te.callee),Oe}return Me.value},parse$1=_parse($ZodRealError),_parseAsync=Re=>async(e,Ee,Ce,Te)=>{const De=Ce?Object.assign(Ce,{async:!0}):{async:!0};let Me=e._zod.run({value:Ee,issues:[]},De);if(Me instanceof Promise&&(Me=await Me),Me.issues.length){const Oe=new((Te==null?void 0:Te.Err)??Re)(Me.issues.map(Be=>finalizeIssue(Be,De,config())));throw captureStackTrace(Oe,Te==null?void 0:Te.callee),Oe}return Me.value},parseAsync$1=_parseAsync($ZodRealError),_safeParse=Re=>(e,Ee,Ce)=>{const Te=Ce?{...Ce,async:!1}:{async:!1},De=e._zod.run({value:Ee,issues:[]},Te);if(De instanceof Promise)throw new $ZodAsyncError;return De.issues.length?{success:!1,error:new(Re??$ZodError)(De.issues.map(Me=>finalizeIssue(Me,Te,config())))}:{success:!0,data:De.value}},safeParse$1=_safeParse($ZodRealError),_safeParseAsync=Re=>async(e,Ee,Ce)=>{const Te=Ce?Object.assign(Ce,{async:!0}):{async:!0};let De=e._zod.run({value:Ee,issues:[]},Te);return De instanceof Promise&&(De=await De),De.issues.length?{success:!1,error:new Re(De.issues.map(Me=>finalizeIssue(Me,Te,config())))}:{success:!0,data:De.value}},safeParseAsync$1=_safeParseAsync($ZodRealError),_encode=Re=>(e,Ee,Ce)=>{const Te=Ce?Object.assign(Ce,{direction:"backward"}):{direction:"backward"};return _parse(Re)(e,Ee,Te)},_decode=Re=>(e,Ee,Ce)=>_parse(Re)(e,Ee,Ce),_encodeAsync=Re=>async(e,Ee,Ce)=>{const Te=Ce?Object.assign(Ce,{direction:"backward"}):{direction:"backward"};return _parseAsync(Re)(e,Ee,Te)},_decodeAsync=Re=>async(e,Ee,Ce)=>_parseAsync(Re)(e,Ee,Ce),_safeEncode=Re=>(e,Ee,Ce)=>{const Te=Ce?Object.assign(Ce,{direction:"backward"}):{direction:"backward"};return _safeParse(Re)(e,Ee,Te)},_safeDecode=Re=>(e,Ee,Ce)=>_safeParse(Re)(e,Ee,Ce),_safeEncodeAsync=Re=>async(e,Ee,Ce)=>{const Te=Ce?Object.assign(Ce,{direction:"backward"}):{direction:"backward"};return _safeParseAsync(Re)(e,Ee,Te)},_safeDecodeAsync=Re=>async(e,Ee,Ce)=>_safeParseAsync(Re)(e,Ee,Ce),cuid=/^[cC][^\s-]{8,}$/,cuid2=/^[0-9a-z]+$/,ulid=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,xid=/^[0-9a-vA-V]{20}$/,ksuid=/^[A-Za-z0-9]{27}$/,nanoid=/^[a-zA-Z0-9_-]{21}$/,duration$1=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,guid=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,uuid=Re=>Re?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${Re}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,email=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,_emoji$1="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function emoji(){return new RegExp(_emoji$1,"u")}const ipv4=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,cidrv4=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,cidrv6=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,base64url=/^[A-Za-z0-9_-]*$/,e164=/^\+[1-9]\d{6,14}$/,dateSource="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",date$1=new RegExp(`^${dateSource}$`);function timeSource(Re){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof Re.precision=="number"?Re.precision===-1?`${e}`:Re.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${Re.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function time$1(Re){return new RegExp(`^${timeSource(Re)}$`)}function datetime$1(Re){const e=timeSource({precision:Re.precision}),Ee=["Z"];Re.local&&Ee.push(""),Re.offset&&Ee.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const Ce=`${e}(?:${Ee.join("|")})`;return new RegExp(`^${dateSource}T(?:${Ce})$`)}const string$1=Re=>{const e=Re?`[\\s\\S]{${(Re==null?void 0:Re.minimum)??0},${(Re==null?void 0:Re.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},integer=/^-?\d+$/,number$1=/^-?\d+(?:\.\d+)?$/,lowercase=/^[^A-Z]*$/,uppercase=/^[^a-z]*$/,$ZodCheck=$constructor("$ZodCheck",(Re,e)=>{var Ee;Re._zod??(Re._zod={}),Re._zod.def=e,(Ee=Re._zod).onattach??(Ee.onattach=[])}),numericOriginMap={number:"number",bigint:"bigint",object:"date"},$ZodCheckLessThan=$constructor("$ZodCheckLessThan",(Re,e)=>{$ZodCheck.init(Re,e);const Ee=numericOriginMap[typeof e.value];Re._zod.onattach.push(Ce=>{const Te=Ce._zod.bag,De=(e.inclusive?Te.maximum:Te.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<De&&(e.inclusive?Te.maximum=e.value:Te.exclusiveMaximum=e.value)}),Re._zod.check=Ce=>{(e.inclusive?Ce.value<=e.value:Ce.value<e.value)||Ce.issues.push({origin:Ee,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:Ce.value,inclusive:e.inclusive,inst:Re,continue:!e.abort})}}),$ZodCheckGreaterThan=$constructor("$ZodCheckGreaterThan",(Re,e)=>{$ZodCheck.init(Re,e);const Ee=numericOriginMap[typeof e.value];Re._zod.onattach.push(Ce=>{const Te=Ce._zod.bag,De=(e.inclusive?Te.minimum:Te.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>De&&(e.inclusive?Te.minimum=e.value:Te.exclusiveMinimum=e.value)}),Re._zod.check=Ce=>{(e.inclusive?Ce.value>=e.value:Ce.value>e.value)||Ce.issues.push({origin:Ee,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:Ce.value,inclusive:e.inclusive,inst:Re,continue:!e.abort})}}),$ZodCheckMultipleOf=$constructor("$ZodCheckMultipleOf",(Re,e)=>{$ZodCheck.init(Re,e),Re._zod.onattach.push(Ee=>{var Ce;(Ce=Ee._zod.bag).multipleOf??(Ce.multipleOf=e.value)}),Re._zod.check=Ee=>{if(typeof Ee.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof Ee.value=="bigint"?Ee.value%e.value===BigInt(0):floatSafeRemainder(Ee.value,e.value)===0)||Ee.issues.push({origin:typeof Ee.value,code:"not_multiple_of",divisor:e.value,input:Ee.value,inst:Re,continue:!e.abort})}}),$ZodCheckNumberFormat=$constructor("$ZodCheckNumberFormat",(Re,e)=>{var Me;$ZodCheck.init(Re,e),e.format=e.format||"float64";const Ee=(Me=e.format)==null?void 0:Me.includes("int"),Ce=Ee?"int":"number",[Te,De]=NUMBER_FORMAT_RANGES[e.format];Re._zod.onattach.push(Oe=>{const Be=Oe._zod.bag;Be.format=e.format,Be.minimum=Te,Be.maximum=De,Ee&&(Be.pattern=integer)}),Re._zod.check=Oe=>{const Be=Oe.value;if(Ee){if(!Number.isInteger(Be)){Oe.issues.push({expected:Ce,format:e.format,code:"invalid_type",continue:!1,input:Be,inst:Re});return}if(!Number.isSafeInteger(Be)){Be>0?Oe.issues.push({input:Be,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:Re,origin:Ce,inclusive:!0,continue:!e.abort}):Oe.issues.push({input:Be,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:Re,origin:Ce,inclusive:!0,continue:!e.abort});return}}Be<Te&&Oe.issues.push({origin:"number",input:Be,code:"too_small",minimum:Te,inclusive:!0,inst:Re,continue:!e.abort}),Be>De&&Oe.issues.push({origin:"number",input:Be,code:"too_big",maximum:De,inclusive:!0,inst:Re,continue:!e.abort})}}),$ZodCheckMaxLength=$constructor("$ZodCheckMaxLength",(Re,e)=>{var Ee;$ZodCheck.init(Re,e),(Ee=Re._zod.def).when??(Ee.when=Ce=>{const Te=Ce.value;return!nullish(Te)&&Te.length!==void 0}),Re._zod.onattach.push(Ce=>{const Te=Ce._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<Te&&(Ce._zod.bag.maximum=e.maximum)}),Re._zod.check=Ce=>{const Te=Ce.value;if(Te.length<=e.maximum)return;const Me=getLengthableOrigin(Te);Ce.issues.push({origin:Me,code:"too_big",maximum:e.maximum,inclusive:!0,input:Te,inst:Re,continue:!e.abort})}}),$ZodCheckMinLength=$constructor("$ZodCheckMinLength",(Re,e)=>{var Ee;$ZodCheck.init(Re,e),(Ee=Re._zod.def).when??(Ee.when=Ce=>{const Te=Ce.value;return!nullish(Te)&&Te.length!==void 0}),Re._zod.onattach.push(Ce=>{const Te=Ce._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>Te&&(Ce._zod.bag.minimum=e.minimum)}),Re._zod.check=Ce=>{const Te=Ce.value;if(Te.length>=e.minimum)return;const Me=getLengthableOrigin(Te);Ce.issues.push({origin:Me,code:"too_small",minimum:e.minimum,inclusive:!0,input:Te,inst:Re,continue:!e.abort})}}),$ZodCheckLengthEquals=$constructor("$ZodCheckLengthEquals",(Re,e)=>{var Ee;$ZodCheck.init(Re,e),(Ee=Re._zod.def).when??(Ee.when=Ce=>{const Te=Ce.value;return!nullish(Te)&&Te.length!==void 0}),Re._zod.onattach.push(Ce=>{const Te=Ce._zod.bag;Te.minimum=e.length,Te.maximum=e.length,Te.length=e.length}),Re._zod.check=Ce=>{const Te=Ce.value,De=Te.length;if(De===e.length)return;const Me=getLengthableOrigin(Te),Oe=De>e.length;Ce.issues.push({origin:Me,...Oe?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:Ce.value,inst:Re,continue:!e.abort})}}),$ZodCheckStringFormat=$constructor("$ZodCheckStringFormat",(Re,e)=>{var Ee,Ce;$ZodCheck.init(Re,e),Re._zod.onattach.push(Te=>{const De=Te._zod.bag;De.format=e.format,e.pattern&&(De.patterns??(De.patterns=new Set),De.patterns.add(e.pattern))}),e.pattern?(Ee=Re._zod).check??(Ee.check=Te=>{e.pattern.lastIndex=0,!e.pattern.test(Te.value)&&Te.issues.push({origin:"string",code:"invalid_format",format:e.format,input:Te.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:Re,continue:!e.abort})}):(Ce=Re._zod).check??(Ce.check=()=>{})}),$ZodCheckRegex=$constructor("$ZodCheckRegex",(Re,e)=>{$ZodCheckStringFormat.init(Re,e),Re._zod.check=Ee=>{e.pattern.lastIndex=0,!e.pattern.test(Ee.value)&&Ee.issues.push({origin:"string",code:"invalid_format",format:"regex",input:Ee.value,pattern:e.pattern.toString(),inst:Re,continue:!e.abort})}}),$ZodCheckLowerCase=$constructor("$ZodCheckLowerCase",(Re,e)=>{e.pattern??(e.pattern=lowercase),$ZodCheckStringFormat.init(Re,e)}),$ZodCheckUpperCase=$constructor("$ZodCheckUpperCase",(Re,e)=>{e.pattern??(e.pattern=uppercase),$ZodCheckStringFormat.init(Re,e)}),$ZodCheckIncludes=$constructor("$ZodCheckIncludes",(Re,e)=>{$ZodCheck.init(Re,e);const Ee=escapeRegex(e.includes),Ce=new RegExp(typeof e.position=="number"?`^.{${e.position}}${Ee}`:Ee);e.pattern=Ce,Re._zod.onattach.push(Te=>{const De=Te._zod.bag;De.patterns??(De.patterns=new Set),De.patterns.add(Ce)}),Re._zod.check=Te=>{Te.value.includes(e.includes,e.position)||Te.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:Te.value,inst:Re,continue:!e.abort})}}),$ZodCheckStartsWith=$constructor("$ZodCheckStartsWith",(Re,e)=>{$ZodCheck.init(Re,e);const Ee=new RegExp(`^${escapeRegex(e.prefix)}.*`);e.pattern??(e.pattern=Ee),Re._zod.onattach.push(Ce=>{const Te=Ce._zod.bag;Te.patterns??(Te.patterns=new Set),Te.patterns.add(Ee)}),Re._zod.check=Ce=>{Ce.value.startsWith(e.prefix)||Ce.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:Ce.value,inst:Re,continue:!e.abort})}}),$ZodCheckEndsWith=$constructor("$ZodCheckEndsWith",(Re,e)=>{$ZodCheck.init(Re,e);const Ee=new RegExp(`.*${escapeRegex(e.suffix)}$`);e.pattern??(e.pattern=Ee),Re._zod.onattach.push(Ce=>{const Te=Ce._zod.bag;Te.patterns??(Te.patterns=new Set),Te.patterns.add(Ee)}),Re._zod.check=Ce=>{Ce.value.endsWith(e.suffix)||Ce.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:Ce.value,inst:Re,continue:!e.abort})}}),$ZodCheckOverwrite=$constructor("$ZodCheckOverwrite",(Re,e)=>{$ZodCheck.init(Re,e),Re._zod.check=Ee=>{Ee.value=e.tx(Ee.value)}});class Doc{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const Ce=e.split(`
`).filter(Me=>Me),Te=Math.min(...Ce.map(Me=>Me.length-Me.trimStart().length)),De=Ce.map(Me=>Me.slice(Te)).map(Me=>" ".repeat(this.indent*2)+Me);for(const Me of De)this.content.push(Me)}compile(){const e=Function,Ee=this==null?void 0:this.args,Te=[...((this==null?void 0:this.content)??[""]).map(De=>`  ${De}`)];return new e(...Ee,Te.join(`
`))}}const version$1={major:4,minor:3,patch:6},$ZodType=$constructor("$ZodType",(Re,e)=>{var Te;var Ee;Re??(Re={}),Re._zod.def=e,Re._zod.bag=Re._zod.bag||{},Re._zod.version=version$1;const Ce=[...Re._zod.def.checks??[]];Re._zod.traits.has("$ZodCheck")&&Ce.unshift(Re);for(const De of Ce)for(const Me of De._zod.onattach)Me(Re);if(Ce.length===0)(Ee=Re._zod).deferred??(Ee.deferred=[]),(Te=Re._zod.deferred)==null||Te.push(()=>{Re._zod.run=Re._zod.parse});else{const De=(Oe,Be,ze)=>{let Ve=aborted(Oe),qe;for(const We of Be){if(We._zod.def.when){if(!We._zod.def.when(Oe))continue}else if(Ve)continue;const Ge=Oe.issues.length,Je=We._zod.check(Oe);if(Je instanceof Promise&&(ze==null?void 0:ze.async)===!1)throw new $ZodAsyncError;if(qe||Je instanceof Promise)qe=(qe??Promise.resolve()).then(async()=>{await Je,Oe.issues.length!==Ge&&(Ve||(Ve=aborted(Oe,Ge)))});else{if(Oe.issues.length===Ge)continue;Ve||(Ve=aborted(Oe,Ge))}}return qe?qe.then(()=>Oe):Oe},Me=(Oe,Be,ze)=>{if(aborted(Oe))return Oe.aborted=!0,Oe;const Ve=De(Be,Ce,ze);if(Ve instanceof Promise){if(ze.async===!1)throw new $ZodAsyncError;return Ve.then(qe=>Re._zod.parse(qe,ze))}return Re._zod.parse(Ve,ze)};Re._zod.run=(Oe,Be)=>{if(Be.skipChecks)return Re._zod.parse(Oe,Be);if(Be.direction==="backward"){const Ve=Re._zod.parse({value:Oe.value,issues:[]},{...Be,skipChecks:!0});return Ve instanceof Promise?Ve.then(qe=>Me(qe,Oe,Be)):Me(Ve,Oe,Be)}const ze=Re._zod.parse(Oe,Be);if(ze instanceof Promise){if(Be.async===!1)throw new $ZodAsyncError;return ze.then(Ve=>De(Ve,Ce,Be))}return De(ze,Ce,Be)}}defineLazy(Re,"~standard",()=>({validate:De=>{var Me;try{const Oe=safeParse$1(Re,De);return Oe.success?{value:Oe.data}:{issues:(Me=Oe.error)==null?void 0:Me.issues}}catch{return safeParseAsync$1(Re,De).then(Be=>{var ze;return Be.success?{value:Be.data}:{issues:(ze=Be.error)==null?void 0:ze.issues}})}},vendor:"zod",version:1}))}),$ZodString=$constructor("$ZodString",(Re,e)=>{var Ee;$ZodType.init(Re,e),Re._zod.pattern=[...((Ee=Re==null?void 0:Re._zod.bag)==null?void 0:Ee.patterns)??[]].pop()??string$1(Re._zod.bag),Re._zod.parse=(Ce,Te)=>{if(e.coerce)try{Ce.value=String(Ce.value)}catch{}return typeof Ce.value=="string"||Ce.issues.push({expected:"string",code:"invalid_type",input:Ce.value,inst:Re}),Ce}}),$ZodStringFormat=$constructor("$ZodStringFormat",(Re,e)=>{$ZodCheckStringFormat.init(Re,e),$ZodString.init(Re,e)}),$ZodGUID=$constructor("$ZodGUID",(Re,e)=>{e.pattern??(e.pattern=guid),$ZodStringFormat.init(Re,e)}),$ZodUUID=$constructor("$ZodUUID",(Re,e)=>{if(e.version){const Ce={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(Ce===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=uuid(Ce))}else e.pattern??(e.pattern=uuid());$ZodStringFormat.init(Re,e)}),$ZodEmail=$constructor("$ZodEmail",(Re,e)=>{e.pattern??(e.pattern=email),$ZodStringFormat.init(Re,e)}),$ZodURL=$constructor("$ZodURL",(Re,e)=>{$ZodStringFormat.init(Re,e),Re._zod.check=Ee=>{try{const Ce=Ee.value.trim(),Te=new URL(Ce);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(Te.hostname)||Ee.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:Ee.value,inst:Re,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(Te.protocol.endsWith(":")?Te.protocol.slice(0,-1):Te.protocol)||Ee.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:Ee.value,inst:Re,continue:!e.abort})),e.normalize?Ee.value=Te.href:Ee.value=Ce;return}catch{Ee.issues.push({code:"invalid_format",format:"url",input:Ee.value,inst:Re,continue:!e.abort})}}}),$ZodEmoji=$constructor("$ZodEmoji",(Re,e)=>{e.pattern??(e.pattern=emoji()),$ZodStringFormat.init(Re,e)}),$ZodNanoID=$constructor("$ZodNanoID",(Re,e)=>{e.pattern??(e.pattern=nanoid),$ZodStringFormat.init(Re,e)}),$ZodCUID=$constructor("$ZodCUID",(Re,e)=>{e.pattern??(e.pattern=cuid),$ZodStringFormat.init(Re,e)}),$ZodCUID2=$constructor("$ZodCUID2",(Re,e)=>{e.pattern??(e.pattern=cuid2),$ZodStringFormat.init(Re,e)}),$ZodULID=$constructor("$ZodULID",(Re,e)=>{e.pattern??(e.pattern=ulid),$ZodStringFormat.init(Re,e)}),$ZodXID=$constructor("$ZodXID",(Re,e)=>{e.pattern??(e.pattern=xid),$ZodStringFormat.init(Re,e)}),$ZodKSUID=$constructor("$ZodKSUID",(Re,e)=>{e.pattern??(e.pattern=ksuid),$ZodStringFormat.init(Re,e)}),$ZodISODateTime=$constructor("$ZodISODateTime",(Re,e)=>{e.pattern??(e.pattern=datetime$1(e)),$ZodStringFormat.init(Re,e)}),$ZodISODate=$constructor("$ZodISODate",(Re,e)=>{e.pattern??(e.pattern=date$1),$ZodStringFormat.init(Re,e)}),$ZodISOTime=$constructor("$ZodISOTime",(Re,e)=>{e.pattern??(e.pattern=time$1(e)),$ZodStringFormat.init(Re,e)}),$ZodISODuration=$constructor("$ZodISODuration",(Re,e)=>{e.pattern??(e.pattern=duration$1),$ZodStringFormat.init(Re,e)}),$ZodIPv4=$constructor("$ZodIPv4",(Re,e)=>{e.pattern??(e.pattern=ipv4),$ZodStringFormat.init(Re,e),Re._zod.bag.format="ipv4"}),$ZodIPv6=$constructor("$ZodIPv6",(Re,e)=>{e.pattern??(e.pattern=ipv6),$ZodStringFormat.init(Re,e),Re._zod.bag.format="ipv6",Re._zod.check=Ee=>{try{new URL(`http://[${Ee.value}]`)}catch{Ee.issues.push({code:"invalid_format",format:"ipv6",input:Ee.value,inst:Re,continue:!e.abort})}}}),$ZodCIDRv4=$constructor("$ZodCIDRv4",(Re,e)=>{e.pattern??(e.pattern=cidrv4),$ZodStringFormat.init(Re,e)}),$ZodCIDRv6=$constructor("$ZodCIDRv6",(Re,e)=>{e.pattern??(e.pattern=cidrv6),$ZodStringFormat.init(Re,e),Re._zod.check=Ee=>{const Ce=Ee.value.split("/");try{if(Ce.length!==2)throw new Error;const[Te,De]=Ce;if(!De)throw new Error;const Me=Number(De);if(`${Me}`!==De)throw new Error;if(Me<0||Me>128)throw new Error;new URL(`http://[${Te}]`)}catch{Ee.issues.push({code:"invalid_format",format:"cidrv6",input:Ee.value,inst:Re,continue:!e.abort})}}});function isValidBase64(Re){if(Re==="")return!0;if(Re.length%4!==0)return!1;try{return atob(Re),!0}catch{return!1}}const $ZodBase64=$constructor("$ZodBase64",(Re,e)=>{e.pattern??(e.pattern=base64),$ZodStringFormat.init(Re,e),Re._zod.bag.contentEncoding="base64",Re._zod.check=Ee=>{isValidBase64(Ee.value)||Ee.issues.push({code:"invalid_format",format:"base64",input:Ee.value,inst:Re,continue:!e.abort})}});function isValidBase64URL(Re){if(!base64url.test(Re))return!1;const e=Re.replace(/[-_]/g,Ce=>Ce==="-"?"+":"/"),Ee=e.padEnd(Math.ceil(e.length/4)*4,"=");return isValidBase64(Ee)}const $ZodBase64URL=$constructor("$ZodBase64URL",(Re,e)=>{e.pattern??(e.pattern=base64url),$ZodStringFormat.init(Re,e),Re._zod.bag.contentEncoding="base64url",Re._zod.check=Ee=>{isValidBase64URL(Ee.value)||Ee.issues.push({code:"invalid_format",format:"base64url",input:Ee.value,inst:Re,continue:!e.abort})}}),$ZodE164=$constructor("$ZodE164",(Re,e)=>{e.pattern??(e.pattern=e164),$ZodStringFormat.init(Re,e)});function isValidJWT(Re,e=null){try{const Ee=Re.split(".");if(Ee.length!==3)return!1;const[Ce]=Ee;if(!Ce)return!1;const Te=JSON.parse(atob(Ce));return!("typ"in Te&&(Te==null?void 0:Te.typ)!=="JWT"||!Te.alg||e&&(!("alg"in Te)||Te.alg!==e))}catch{return!1}}const $ZodJWT=$constructor("$ZodJWT",(Re,e)=>{$ZodStringFormat.init(Re,e),Re._zod.check=Ee=>{isValidJWT(Ee.value,e.alg)||Ee.issues.push({code:"invalid_format",format:"jwt",input:Ee.value,inst:Re,continue:!e.abort})}}),$ZodNumber=$constructor("$ZodNumber",(Re,e)=>{$ZodType.init(Re,e),Re._zod.pattern=Re._zod.bag.pattern??number$1,Re._zod.parse=(Ee,Ce)=>{if(e.coerce)try{Ee.value=Number(Ee.value)}catch{}const Te=Ee.value;if(typeof Te=="number"&&!Number.isNaN(Te)&&Number.isFinite(Te))return Ee;const De=typeof Te=="number"?Number.isNaN(Te)?"NaN":Number.isFinite(Te)?void 0:"Infinity":void 0;return Ee.issues.push({expected:"number",code:"invalid_type",input:Te,inst:Re,...De?{received:De}:{}}),Ee}}),$ZodNumberFormat=$constructor("$ZodNumberFormat",(Re,e)=>{$ZodCheckNumberFormat.init(Re,e),$ZodNumber.init(Re,e)}),$ZodAny=$constructor("$ZodAny",(Re,e)=>{$ZodType.init(Re,e),Re._zod.parse=Ee=>Ee}),$ZodUnknown=$constructor("$ZodUnknown",(Re,e)=>{$ZodType.init(Re,e),Re._zod.parse=Ee=>Ee}),$ZodNever=$constructor("$ZodNever",(Re,e)=>{$ZodType.init(Re,e),Re._zod.parse=(Ee,Ce)=>(Ee.issues.push({expected:"never",code:"invalid_type",input:Ee.value,inst:Re}),Ee)});function handleArrayResult(Re,e,Ee){Re.issues.length&&e.issues.push(...prefixIssues(Ee,Re.issues)),e.value[Ee]=Re.value}const $ZodArray=$constructor("$ZodArray",(Re,e)=>{$ZodType.init(Re,e),Re._zod.parse=(Ee,Ce)=>{const Te=Ee.value;if(!Array.isArray(Te))return Ee.issues.push({expected:"array",code:"invalid_type",input:Te,inst:Re}),Ee;Ee.value=Array(Te.length);const De=[];for(let Me=0;Me<Te.length;Me++){const Oe=Te[Me],Be=e.element._zod.run({value:Oe,issues:[]},Ce);Be instanceof Promise?De.push(Be.then(ze=>handleArrayResult(ze,Ee,Me))):handleArrayResult(Be,Ee,Me)}return De.length?Promise.all(De).then(()=>Ee):Ee}});function handlePropertyResult(Re,e,Ee,Ce,Te){if(Re.issues.length){if(Te&&!(Ee in Ce))return;e.issues.push(...prefixIssues(Ee,Re.issues))}Re.value===void 0?Ee in Ce&&(e.value[Ee]=void 0):e.value[Ee]=Re.value}function normalizeDef(Re){var Ce,Te,De,Me;const e=Object.keys(Re.shape);for(const Oe of e)if(!((Me=(De=(Te=(Ce=Re.shape)==null?void 0:Ce[Oe])==null?void 0:Te._zod)==null?void 0:De.traits)!=null&&Me.has("$ZodType")))throw new Error(`Invalid element at key "${Oe}": expected a Zod schema`);const Ee=optionalKeys(Re.shape);return{...Re,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(Ee)}}function handleCatchall(Re,e,Ee,Ce,Te,De){const Me=[],Oe=Te.keySet,Be=Te.catchall._zod,ze=Be.def.type,Ve=Be.optout==="optional";for(const qe in e){if(Oe.has(qe))continue;if(ze==="never"){Me.push(qe);continue}const We=Be.run({value:e[qe],issues:[]},Ce);We instanceof Promise?Re.push(We.then(Ge=>handlePropertyResult(Ge,Ee,qe,e,Ve))):handlePropertyResult(We,Ee,qe,e,Ve)}return Me.length&&Ee.issues.push({code:"unrecognized_keys",keys:Me,input:e,inst:De}),Re.length?Promise.all(Re).then(()=>Ee):Ee}const $ZodObject=$constructor("$ZodObject",(Re,e)=>{$ZodType.init(Re,e);const Ee=Object.getOwnPropertyDescriptor(e,"shape");if(!(Ee!=null&&Ee.get)){const Oe=e.shape;Object.defineProperty(e,"shape",{get:()=>{const Be={...Oe};return Object.defineProperty(e,"shape",{value:Be}),Be}})}const Ce=cached(()=>normalizeDef(e));defineLazy(Re._zod,"propValues",()=>{const Oe=e.shape,Be={};for(const ze in Oe){const Ve=Oe[ze]._zod;if(Ve.values){Be[ze]??(Be[ze]=new Set);for(const qe of Ve.values)Be[ze].add(qe)}}return Be});const Te=isObject,De=e.catchall;let Me;Re._zod.parse=(Oe,Be)=>{Me??(Me=Ce.value);const ze=Oe.value;if(!Te(ze))return Oe.issues.push({expected:"object",code:"invalid_type",input:ze,inst:Re}),Oe;Oe.value={};const Ve=[],qe=Me.shape;for(const We of Me.keys){const Ge=qe[We],Je=Ge._zod.optout==="optional",Qe=Ge._zod.run({value:ze[We],issues:[]},Be);Qe instanceof Promise?Ve.push(Qe.then(ns=>handlePropertyResult(ns,Oe,We,ze,Je))):handlePropertyResult(Qe,Oe,We,ze,Je)}return De?handleCatchall(Ve,ze,Oe,Be,Ce.value,Re):Ve.length?Promise.all(Ve).then(()=>Oe):Oe}}),$ZodObjectJIT=$constructor("$ZodObjectJIT",(Re,e)=>{$ZodObject.init(Re,e);const Ee=Re._zod.parse,Ce=cached(()=>normalizeDef(e)),Te=We=>{var ts;const Ge=new Doc(["shape","payload","ctx"]),Je=Ce.value,Qe=Xe=>{const is=esc(Xe);return`shape[${is}]._zod.run({ value: input[${is}], issues: [] }, ctx)`};Ge.write("const input = payload.value;");const ns=Object.create(null);let Ye=0;for(const Xe of Je.keys)ns[Xe]=`key_${Ye++}`;Ge.write("const newResult = {};");for(const Xe of Je.keys){const is=ns[Xe],os=esc(Xe),hs=We[Xe],fs=((ts=hs==null?void 0:hs._zod)==null?void 0:ts.optout)==="optional";Ge.write(`const ${is} = ${Qe(Xe)};`),fs?Ge.write(`
        if (${is}.issues.length) {
          if (${os} in input) {
            payload.issues = payload.issues.concat(${is}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${os}, ...iss.path] : [${os}]
            })));
          }
        }
        
        if (${is}.value === undefined) {
          if (${os} in input) {
            newResult[${os}] = undefined;
          }
        } else {
          newResult[${os}] = ${is}.value;
        }
        
      `):Ge.write(`
        if (${is}.issues.length) {
          payload.issues = payload.issues.concat(${is}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${os}, ...iss.path] : [${os}]
          })));
        }
        
        if (${is}.value === undefined) {
          if (${os} in input) {
            newResult[${os}] = undefined;
          }
        } else {
          newResult[${os}] = ${is}.value;
        }
        
      `)}Ge.write("payload.value = newResult;"),Ge.write("return payload;");const rs=Ge.compile();return(Xe,is)=>rs(We,Xe,is)};let De;const Me=isObject,Oe=!globalConfig.jitless,ze=Oe&&allowsEval.value,Ve=e.catchall;let qe;Re._zod.parse=(We,Ge)=>{qe??(qe=Ce.value);const Je=We.value;return Me(Je)?Oe&&ze&&(Ge==null?void 0:Ge.async)===!1&&Ge.jitless!==!0?(De||(De=Te(e.shape)),We=De(We,Ge),Ve?handleCatchall([],Je,We,Ge,qe,Re):We):Ee(We,Ge):(We.issues.push({expected:"object",code:"invalid_type",input:Je,inst:Re}),We)}});function handleUnionResults(Re,e,Ee,Ce){for(const De of Re)if(De.issues.length===0)return e.value=De.value,e;const Te=Re.filter(De=>!aborted(De));return Te.length===1?(e.value=Te[0].value,Te[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:Ee,errors:Re.map(De=>De.issues.map(Me=>finalizeIssue(Me,Ce,config())))}),e)}const $ZodUnion=$constructor("$ZodUnion",(Re,e)=>{$ZodType.init(Re,e),defineLazy(Re._zod,"optin",()=>e.options.some(Te=>Te._zod.optin==="optional")?"optional":void 0),defineLazy(Re._zod,"optout",()=>e.options.some(Te=>Te._zod.optout==="optional")?"optional":void 0),defineLazy(Re._zod,"values",()=>{if(e.options.every(Te=>Te._zod.values))return new Set(e.options.flatMap(Te=>Array.from(Te._zod.values)))}),defineLazy(Re._zod,"pattern",()=>{if(e.options.every(Te=>Te._zod.pattern)){const Te=e.options.map(De=>De._zod.pattern);return new RegExp(`^(${Te.map(De=>cleanRegex(De.source)).join("|")})$`)}});const Ee=e.options.length===1,Ce=e.options[0]._zod.run;Re._zod.parse=(Te,De)=>{if(Ee)return Ce(Te,De);let Me=!1;const Oe=[];for(const Be of e.options){const ze=Be._zod.run({value:Te.value,issues:[]},De);if(ze instanceof Promise)Oe.push(ze),Me=!0;else{if(ze.issues.length===0)return ze;Oe.push(ze)}}return Me?Promise.all(Oe).then(Be=>handleUnionResults(Be,Te,Re,De)):handleUnionResults(Oe,Te,Re,De)}}),$ZodIntersection=$constructor("$ZodIntersection",(Re,e)=>{$ZodType.init(Re,e),Re._zod.parse=(Ee,Ce)=>{const Te=Ee.value,De=e.left._zod.run({value:Te,issues:[]},Ce),Me=e.right._zod.run({value:Te,issues:[]},Ce);return De instanceof Promise||Me instanceof Promise?Promise.all([De,Me]).then(([Be,ze])=>handleIntersectionResults(Ee,Be,ze)):handleIntersectionResults(Ee,De,Me)}});function mergeValues(Re,e){if(Re===e)return{valid:!0,data:Re};if(Re instanceof Date&&e instanceof Date&&+Re==+e)return{valid:!0,data:Re};if(isPlainObject(Re)&&isPlainObject(e)){const Ee=Object.keys(e),Ce=Object.keys(Re).filter(De=>Ee.indexOf(De)!==-1),Te={...Re,...e};for(const De of Ce){const Me=mergeValues(Re[De],e[De]);if(!Me.valid)return{valid:!1,mergeErrorPath:[De,...Me.mergeErrorPath]};Te[De]=Me.data}return{valid:!0,data:Te}}if(Array.isArray(Re)&&Array.isArray(e)){if(Re.length!==e.length)return{valid:!1,mergeErrorPath:[]};const Ee=[];for(let Ce=0;Ce<Re.length;Ce++){const Te=Re[Ce],De=e[Ce],Me=mergeValues(Te,De);if(!Me.valid)return{valid:!1,mergeErrorPath:[Ce,...Me.mergeErrorPath]};Ee.push(Me.data)}return{valid:!0,data:Ee}}return{valid:!1,mergeErrorPath:[]}}function handleIntersectionResults(Re,e,Ee){const Ce=new Map;let Te;for(const Oe of e.issues)if(Oe.code==="unrecognized_keys"){Te??(Te=Oe);for(const Be of Oe.keys)Ce.has(Be)||Ce.set(Be,{}),Ce.get(Be).l=!0}else Re.issues.push(Oe);for(const Oe of Ee.issues)if(Oe.code==="unrecognized_keys")for(const Be of Oe.keys)Ce.has(Be)||Ce.set(Be,{}),Ce.get(Be).r=!0;else Re.issues.push(Oe);const De=[...Ce].filter(([,Oe])=>Oe.l&&Oe.r).map(([Oe])=>Oe);if(De.length&&Te&&Re.issues.push({...Te,keys:De}),aborted(Re))return Re;const Me=mergeValues(e.value,Ee.value);if(!Me.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(Me.mergeErrorPath)}`);return Re.value=Me.data,Re}const $ZodEnum=$constructor("$ZodEnum",(Re,e)=>{$ZodType.init(Re,e);const Ee=getEnumValues(e.entries),Ce=new Set(Ee);Re._zod.values=Ce,Re._zod.pattern=new RegExp(`^(${Ee.filter(Te=>propertyKeyTypes.has(typeof Te)).map(Te=>typeof Te=="string"?escapeRegex(Te):Te.toString()).join("|")})$`),Re._zod.parse=(Te,De)=>{const Me=Te.value;return Ce.has(Me)||Te.issues.push({code:"invalid_value",values:Ee,input:Me,inst:Re}),Te}}),$ZodTransform=$constructor("$ZodTransform",(Re,e)=>{$ZodType.init(Re,e),Re._zod.parse=(Ee,Ce)=>{if(Ce.direction==="backward")throw new $ZodEncodeError(Re.constructor.name);const Te=e.transform(Ee.value,Ee);if(Ce.async)return(Te instanceof Promise?Te:Promise.resolve(Te)).then(Me=>(Ee.value=Me,Ee));if(Te instanceof Promise)throw new $ZodAsyncError;return Ee.value=Te,Ee}});function handleOptionalResult(Re,e){return Re.issues.length&&e===void 0?{issues:[],value:void 0}:Re}const $ZodOptional=$constructor("$ZodOptional",(Re,e)=>{$ZodType.init(Re,e),Re._zod.optin="optional",Re._zod.optout="optional",defineLazy(Re._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),defineLazy(Re._zod,"pattern",()=>{const Ee=e.innerType._zod.pattern;return Ee?new RegExp(`^(${cleanRegex(Ee.source)})?$`):void 0}),Re._zod.parse=(Ee,Ce)=>{if(e.innerType._zod.optin==="optional"){const Te=e.innerType._zod.run(Ee,Ce);return Te instanceof Promise?Te.then(De=>handleOptionalResult(De,Ee.value)):handleOptionalResult(Te,Ee.value)}return Ee.value===void 0?Ee:e.innerType._zod.run(Ee,Ce)}}),$ZodExactOptional=$constructor("$ZodExactOptional",(Re,e)=>{$ZodOptional.init(Re,e),defineLazy(Re._zod,"values",()=>e.innerType._zod.values),defineLazy(Re._zod,"pattern",()=>e.innerType._zod.pattern),Re._zod.parse=(Ee,Ce)=>e.innerType._zod.run(Ee,Ce)}),$ZodNullable=$constructor("$ZodNullable",(Re,e)=>{$ZodType.init(Re,e),defineLazy(Re._zod,"optin",()=>e.innerType._zod.optin),defineLazy(Re._zod,"optout",()=>e.innerType._zod.optout),defineLazy(Re._zod,"pattern",()=>{const Ee=e.innerType._zod.pattern;return Ee?new RegExp(`^(${cleanRegex(Ee.source)}|null)$`):void 0}),defineLazy(Re._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),Re._zod.parse=(Ee,Ce)=>Ee.value===null?Ee:e.innerType._zod.run(Ee,Ce)}),$ZodDefault=$constructor("$ZodDefault",(Re,e)=>{$ZodType.init(Re,e),Re._zod.optin="optional",defineLazy(Re._zod,"values",()=>e.innerType._zod.values),Re._zod.parse=(Ee,Ce)=>{if(Ce.direction==="backward")return e.innerType._zod.run(Ee,Ce);if(Ee.value===void 0)return Ee.value=e.defaultValue,Ee;const Te=e.innerType._zod.run(Ee,Ce);return Te instanceof Promise?Te.then(De=>handleDefaultResult(De,e)):handleDefaultResult(Te,e)}});function handleDefaultResult(Re,e){return Re.value===void 0&&(Re.value=e.defaultValue),Re}const $ZodPrefault=$constructor("$ZodPrefault",(Re,e)=>{$ZodType.init(Re,e),Re._zod.optin="optional",defineLazy(Re._zod,"values",()=>e.innerType._zod.values),Re._zod.parse=(Ee,Ce)=>(Ce.direction==="backward"||Ee.value===void 0&&(Ee.value=e.defaultValue),e.innerType._zod.run(Ee,Ce))}),$ZodNonOptional=$constructor("$ZodNonOptional",(Re,e)=>{$ZodType.init(Re,e),defineLazy(Re._zod,"values",()=>{const Ee=e.innerType._zod.values;return Ee?new Set([...Ee].filter(Ce=>Ce!==void 0)):void 0}),Re._zod.parse=(Ee,Ce)=>{const Te=e.innerType._zod.run(Ee,Ce);return Te instanceof Promise?Te.then(De=>handleNonOptionalResult(De,Re)):handleNonOptionalResult(Te,Re)}});function handleNonOptionalResult(Re,e){return!Re.issues.length&&Re.value===void 0&&Re.issues.push({code:"invalid_type",expected:"nonoptional",input:Re.value,inst:e}),Re}const $ZodCatch=$constructor("$ZodCatch",(Re,e)=>{$ZodType.init(Re,e),defineLazy(Re._zod,"optin",()=>e.innerType._zod.optin),defineLazy(Re._zod,"optout",()=>e.innerType._zod.optout),defineLazy(Re._zod,"values",()=>e.innerType._zod.values),Re._zod.parse=(Ee,Ce)=>{if(Ce.direction==="backward")return e.innerType._zod.run(Ee,Ce);const Te=e.innerType._zod.run(Ee,Ce);return Te instanceof Promise?Te.then(De=>(Ee.value=De.value,De.issues.length&&(Ee.value=e.catchValue({...Ee,error:{issues:De.issues.map(Me=>finalizeIssue(Me,Ce,config()))},input:Ee.value}),Ee.issues=[]),Ee)):(Ee.value=Te.value,Te.issues.length&&(Ee.value=e.catchValue({...Ee,error:{issues:Te.issues.map(De=>finalizeIssue(De,Ce,config()))},input:Ee.value}),Ee.issues=[]),Ee)}}),$ZodPipe=$constructor("$ZodPipe",(Re,e)=>{$ZodType.init(Re,e),defineLazy(Re._zod,"values",()=>e.in._zod.values),defineLazy(Re._zod,"optin",()=>e.in._zod.optin),defineLazy(Re._zod,"optout",()=>e.out._zod.optout),defineLazy(Re._zod,"propValues",()=>e.in._zod.propValues),Re._zod.parse=(Ee,Ce)=>{if(Ce.direction==="backward"){const De=e.out._zod.run(Ee,Ce);return De instanceof Promise?De.then(Me=>handlePipeResult(Me,e.in,Ce)):handlePipeResult(De,e.in,Ce)}const Te=e.in._zod.run(Ee,Ce);return Te instanceof Promise?Te.then(De=>handlePipeResult(De,e.out,Ce)):handlePipeResult(Te,e.out,Ce)}});function handlePipeResult(Re,e,Ee){return Re.issues.length?(Re.aborted=!0,Re):e._zod.run({value:Re.value,issues:Re.issues},Ee)}const $ZodReadonly=$constructor("$ZodReadonly",(Re,e)=>{$ZodType.init(Re,e),defineLazy(Re._zod,"propValues",()=>e.innerType._zod.propValues),defineLazy(Re._zod,"values",()=>e.innerType._zod.values),defineLazy(Re._zod,"optin",()=>{var Ee,Ce;return(Ce=(Ee=e.innerType)==null?void 0:Ee._zod)==null?void 0:Ce.optin}),defineLazy(Re._zod,"optout",()=>{var Ee,Ce;return(Ce=(Ee=e.innerType)==null?void 0:Ee._zod)==null?void 0:Ce.optout}),Re._zod.parse=(Ee,Ce)=>{if(Ce.direction==="backward")return e.innerType._zod.run(Ee,Ce);const Te=e.innerType._zod.run(Ee,Ce);return Te instanceof Promise?Te.then(handleReadonlyResult):handleReadonlyResult(Te)}});function handleReadonlyResult(Re){return Re.value=Object.freeze(Re.value),Re}const $ZodCustom=$constructor("$ZodCustom",(Re,e)=>{$ZodCheck.init(Re,e),$ZodType.init(Re,e),Re._zod.parse=(Ee,Ce)=>Ee,Re._zod.check=Ee=>{const Ce=Ee.value,Te=e.fn(Ce);if(Te instanceof Promise)return Te.then(De=>handleRefineResult(De,Ee,Ce,Re));handleRefineResult(Te,Ee,Ce,Re)}});function handleRefineResult(Re,e,Ee,Ce){if(!Re){const Te={code:"custom",input:Ee,inst:Ce,path:[...Ce._zod.def.path??[]],continue:!Ce._zod.def.abort};Ce._zod.def.params&&(Te.params=Ce._zod.def.params),e.issues.push(issue(Te))}}var _a;class $ZodRegistry{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...Ee){const Ce=Ee[0];return this._map.set(e,Ce),Ce&&typeof Ce=="object"&&"id"in Ce&&this._idmap.set(Ce.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const Ee=this._map.get(e);return Ee&&typeof Ee=="object"&&"id"in Ee&&this._idmap.delete(Ee.id),this._map.delete(e),this}get(e){const Ee=e._zod.parent;if(Ee){const Ce={...this.get(Ee)??{}};delete Ce.id;const Te={...Ce,...this._map.get(e)};return Object.keys(Te).length?Te:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function registry(){return new $ZodRegistry}(_a=globalThis).__zod_globalRegistry??(_a.__zod_globalRegistry=registry());const globalRegistry=globalThis.__zod_globalRegistry;function _string(Re,e){return new Re({type:"string",...normalizeParams(e)})}function _email(Re,e){return new Re({type:"string",format:"email",check:"string_format",abort:!1,...normalizeParams(e)})}function _guid(Re,e){return new Re({type:"string",format:"guid",check:"string_format",abort:!1,...normalizeParams(e)})}function _uuid(Re,e){return new Re({type:"string",format:"uuid",check:"string_format",abort:!1,...normalizeParams(e)})}function _uuidv4(Re,e){return new Re({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...normalizeParams(e)})}function _uuidv6(Re,e){return new Re({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...normalizeParams(e)})}function _uuidv7(Re,e){return new Re({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...normalizeParams(e)})}function _url(Re,e){return new Re({type:"string",format:"url",check:"string_format",abort:!1,...normalizeParams(e)})}function _emoji(Re,e){return new Re({type:"string",format:"emoji",check:"string_format",abort:!1,...normalizeParams(e)})}function _nanoid(Re,e){return new Re({type:"string",format:"nanoid",check:"string_format",abort:!1,...normalizeParams(e)})}function _cuid(Re,e){return new Re({type:"string",format:"cuid",check:"string_format",abort:!1,...normalizeParams(e)})}function _cuid2(Re,e){return new Re({type:"string",format:"cuid2",check:"string_format",abort:!1,...normalizeParams(e)})}function _ulid(Re,e){return new Re({type:"string",format:"ulid",check:"string_format",abort:!1,...normalizeParams(e)})}function _xid(Re,e){return new Re({type:"string",format:"xid",check:"string_format",abort:!1,...normalizeParams(e)})}function _ksuid(Re,e){return new Re({type:"string",format:"ksuid",check:"string_format",abort:!1,...normalizeParams(e)})}function _ipv4(Re,e){return new Re({type:"string",format:"ipv4",check:"string_format",abort:!1,...normalizeParams(e)})}function _ipv6(Re,e){return new Re({type:"string",format:"ipv6",check:"string_format",abort:!1,...normalizeParams(e)})}function _cidrv4(Re,e){return new Re({type:"string",format:"cidrv4",check:"string_format",abort:!1,...normalizeParams(e)})}function _cidrv6(Re,e){return new Re({type:"string",format:"cidrv6",check:"string_format",abort:!1,...normalizeParams(e)})}function _base64(Re,e){return new Re({type:"string",format:"base64",check:"string_format",abort:!1,...normalizeParams(e)})}function _base64url(Re,e){return new Re({type:"string",format:"base64url",check:"string_format",abort:!1,...normalizeParams(e)})}function _e164(Re,e){return new Re({type:"string",format:"e164",check:"string_format",abort:!1,...normalizeParams(e)})}function _jwt(Re,e){return new Re({type:"string",format:"jwt",check:"string_format",abort:!1,...normalizeParams(e)})}function _isoDateTime(Re,e){return new Re({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...normalizeParams(e)})}function _isoDate(Re,e){return new Re({type:"string",format:"date",check:"string_format",...normalizeParams(e)})}function _isoTime(Re,e){return new Re({type:"string",format:"time",check:"string_format",precision:null,...normalizeParams(e)})}function _isoDuration(Re,e){return new Re({type:"string",format:"duration",check:"string_format",...normalizeParams(e)})}function _coercedNumber(Re,e){return new Re({type:"number",coerce:!0,checks:[],...normalizeParams(e)})}function _int(Re,e){return new Re({type:"number",check:"number_format",abort:!1,format:"safeint",...normalizeParams(e)})}function _any(Re){return new Re({type:"any"})}function _unknown(Re){return new Re({type:"unknown"})}function _never(Re,e){return new Re({type:"never",...normalizeParams(e)})}function _lt(Re,e){return new $ZodCheckLessThan({check:"less_than",...normalizeParams(e),value:Re,inclusive:!1})}function _lte(Re,e){return new $ZodCheckLessThan({check:"less_than",...normalizeParams(e),value:Re,inclusive:!0})}function _gt(Re,e){return new $ZodCheckGreaterThan({check:"greater_than",...normalizeParams(e),value:Re,inclusive:!1})}function _gte(Re,e){return new $ZodCheckGreaterThan({check:"greater_than",...normalizeParams(e),value:Re,inclusive:!0})}function _multipleOf(Re,e){return new $ZodCheckMultipleOf({check:"multiple_of",...normalizeParams(e),value:Re})}function _maxLength(Re,e){return new $ZodCheckMaxLength({check:"max_length",...normalizeParams(e),maximum:Re})}function _minLength(Re,e){return new $ZodCheckMinLength({check:"min_length",...normalizeParams(e),minimum:Re})}function _length(Re,e){return new $ZodCheckLengthEquals({check:"length_equals",...normalizeParams(e),length:Re})}function _regex(Re,e){return new $ZodCheckRegex({check:"string_format",format:"regex",...normalizeParams(e),pattern:Re})}function _lowercase(Re){return new $ZodCheckLowerCase({check:"string_format",format:"lowercase",...normalizeParams(Re)})}function _uppercase(Re){return new $ZodCheckUpperCase({check:"string_format",format:"uppercase",...normalizeParams(Re)})}function _includes(Re,e){return new $ZodCheckIncludes({check:"string_format",format:"includes",...normalizeParams(e),includes:Re})}function _startsWith(Re,e){return new $ZodCheckStartsWith({check:"string_format",format:"starts_with",...normalizeParams(e),prefix:Re})}function _endsWith(Re,e){return new $ZodCheckEndsWith({check:"string_format",format:"ends_with",...normalizeParams(e),suffix:Re})}function _overwrite(Re){return new $ZodCheckOverwrite({check:"overwrite",tx:Re})}function _normalize(Re){return _overwrite(e=>e.normalize(Re))}function _trim(){return _overwrite(Re=>Re.trim())}function _toLowerCase(){return _overwrite(Re=>Re.toLowerCase())}function _toUpperCase(){return _overwrite(Re=>Re.toUpperCase())}function _slugify(){return _overwrite(Re=>slugify(Re))}function _array(Re,e,Ee){return new Re({type:"array",element:e,...normalizeParams(Ee)})}function _refine(Re,e,Ee){return new Re({type:"custom",check:"custom",fn:e,...normalizeParams(Ee)})}function _superRefine(Re){const e=_check(Ee=>(Ee.addIssue=Ce=>{if(typeof Ce=="string")Ee.issues.push(issue(Ce,Ee.value,e._zod.def));else{const Te=Ce;Te.fatal&&(Te.continue=!1),Te.code??(Te.code="custom"),Te.input??(Te.input=Ee.value),Te.inst??(Te.inst=e),Te.continue??(Te.continue=!e._zod.def.abort),Ee.issues.push(issue(Te))}},Re(Ee.value,Ee)));return e}function _check(Re,e){const Ee=new $ZodCheck({check:"custom",...normalizeParams(e)});return Ee._zod.check=Re,Ee}function initializeContext(Re){let e=(Re==null?void 0:Re.target)??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:Re.processors??{},metadataRegistry:(Re==null?void 0:Re.metadata)??globalRegistry,target:e,unrepresentable:(Re==null?void 0:Re.unrepresentable)??"throw",override:(Re==null?void 0:Re.override)??(()=>{}),io:(Re==null?void 0:Re.io)??"output",counter:0,seen:new Map,cycles:(Re==null?void 0:Re.cycles)??"ref",reused:(Re==null?void 0:Re.reused)??"inline",external:(Re==null?void 0:Re.external)??void 0}}function process$1(Re,e,Ee={path:[],schemaPath:[]}){var Ve,qe;var Ce;const Te=Re._zod.def,De=e.seen.get(Re);if(De)return De.count++,Ee.schemaPath.includes(Re)&&(De.cycle=Ee.path),De.schema;const Me={schema:{},count:1,cycle:void 0,path:Ee.path};e.seen.set(Re,Me);const Oe=(qe=(Ve=Re._zod).toJSONSchema)==null?void 0:qe.call(Ve);if(Oe)Me.schema=Oe;else{const We={...Ee,schemaPath:[...Ee.schemaPath,Re],path:Ee.path};if(Re._zod.processJSONSchema)Re._zod.processJSONSchema(e,Me.schema,We);else{const Je=Me.schema,Qe=e.processors[Te.type];if(!Qe)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${Te.type}`);Qe(Re,e,Je,We)}const Ge=Re._zod.parent;Ge&&(Me.ref||(Me.ref=Ge),process$1(Ge,e,We),e.seen.get(Ge).isParent=!0)}const Be=e.metadataRegistry.get(Re);return Be&&Object.assign(Me.schema,Be),e.io==="input"&&isTransforming(Re)&&(delete Me.schema.examples,delete Me.schema.default),e.io==="input"&&Me.schema._prefault&&((Ce=Me.schema).default??(Ce.default=Me.schema._prefault)),delete Me.schema._prefault,e.seen.get(Re).schema}function extractDefs(Re,e){var Me,Oe,Be,ze;const Ee=Re.seen.get(e);if(!Ee)throw new Error("Unprocessed schema. This is a bug in Zod.");const Ce=new Map;for(const Ve of Re.seen.entries()){const qe=(Me=Re.metadataRegistry.get(Ve[0]))==null?void 0:Me.id;if(qe){const We=Ce.get(qe);if(We&&We!==Ve[0])throw new Error(`Duplicate schema id "${qe}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);Ce.set(qe,Ve[0])}}const Te=Ve=>{var Qe;const qe=Re.target==="draft-2020-12"?"$defs":"definitions";if(Re.external){const ns=(Qe=Re.external.registry.get(Ve[0]))==null?void 0:Qe.id,Ye=Re.external.uri??(ts=>ts);if(ns)return{ref:Ye(ns)};const rs=Ve[1].defId??Ve[1].schema.id??`schema${Re.counter++}`;return Ve[1].defId=rs,{defId:rs,ref:`${Ye("__shared")}#/${qe}/${rs}`}}if(Ve[1]===Ee)return{ref:"#"};const Ge=`#/${qe}/`,Je=Ve[1].schema.id??`__schema${Re.counter++}`;return{defId:Je,ref:Ge+Je}},De=Ve=>{if(Ve[1].schema.$ref)return;const qe=Ve[1],{ref:We,defId:Ge}=Te(Ve);qe.def={...qe.schema},Ge&&(qe.defId=Ge);const Je=qe.schema;for(const Qe in Je)delete Je[Qe];Je.$ref=We};if(Re.cycles==="throw")for(const Ve of Re.seen.entries()){const qe=Ve[1];if(qe.cycle)throw new Error(`Cycle detected: #/${(Oe=qe.cycle)==null?void 0:Oe.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const Ve of Re.seen.entries()){const qe=Ve[1];if(e===Ve[0]){De(Ve);continue}if(Re.external){const Ge=(Be=Re.external.registry.get(Ve[0]))==null?void 0:Be.id;if(e!==Ve[0]&&Ge){De(Ve);continue}}if((ze=Re.metadataRegistry.get(Ve[0]))==null?void 0:ze.id){De(Ve);continue}if(qe.cycle){De(Ve);continue}if(qe.count>1&&Re.reused==="ref"){De(Ve);continue}}}function finalize(Re,e){var Me,Oe,Be;const Ee=Re.seen.get(e);if(!Ee)throw new Error("Unprocessed schema. This is a bug in Zod.");const Ce=ze=>{const Ve=Re.seen.get(ze);if(Ve.ref===null)return;const qe=Ve.def??Ve.schema,We={...qe},Ge=Ve.ref;if(Ve.ref=null,Ge){Ce(Ge);const Qe=Re.seen.get(Ge),ns=Qe.schema;if(ns.$ref&&(Re.target==="draft-07"||Re.target==="draft-04"||Re.target==="openapi-3.0")?(qe.allOf=qe.allOf??[],qe.allOf.push(ns)):Object.assign(qe,ns),Object.assign(qe,We),ze._zod.parent===Ge)for(const rs in qe)rs==="$ref"||rs==="allOf"||rs in We||delete qe[rs];if(ns.$ref&&Qe.def)for(const rs in qe)rs==="$ref"||rs==="allOf"||rs in Qe.def&&JSON.stringify(qe[rs])===JSON.stringify(Qe.def[rs])&&delete qe[rs]}const Je=ze._zod.parent;if(Je&&Je!==Ge){Ce(Je);const Qe=Re.seen.get(Je);if(Qe!=null&&Qe.schema.$ref&&(qe.$ref=Qe.schema.$ref,Qe.def))for(const ns in qe)ns==="$ref"||ns==="allOf"||ns in Qe.def&&JSON.stringify(qe[ns])===JSON.stringify(Qe.def[ns])&&delete qe[ns]}Re.override({zodSchema:ze,jsonSchema:qe,path:Ve.path??[]})};for(const ze of[...Re.seen.entries()].reverse())Ce(ze[0]);const Te={};if(Re.target==="draft-2020-12"?Te.$schema="https://json-schema.org/draft/2020-12/schema":Re.target==="draft-07"?Te.$schema="http://json-schema.org/draft-07/schema#":Re.target==="draft-04"?Te.$schema="http://json-schema.org/draft-04/schema#":Re.target,(Me=Re.external)!=null&&Me.uri){const ze=(Oe=Re.external.registry.get(e))==null?void 0:Oe.id;if(!ze)throw new Error("Schema is missing an `id` property");Te.$id=Re.external.uri(ze)}Object.assign(Te,Ee.def??Ee.schema);const De=((Be=Re.external)==null?void 0:Be.defs)??{};for(const ze of Re.seen.entries()){const Ve=ze[1];Ve.def&&Ve.defId&&(De[Ve.defId]=Ve.def)}Re.external||Object.keys(De).length>0&&(Re.target==="draft-2020-12"?Te.$defs=De:Te.definitions=De);try{const ze=JSON.parse(JSON.stringify(Te));return Object.defineProperty(ze,"~standard",{value:{...e["~standard"],jsonSchema:{input:createStandardJSONSchemaMethod(e,"input",Re.processors),output:createStandardJSONSchemaMethod(e,"output",Re.processors)}},enumerable:!1,writable:!1}),ze}catch{throw new Error("Error converting schema to JSON.")}}function isTransforming(Re,e){const Ee=e??{seen:new Set};if(Ee.seen.has(Re))return!1;Ee.seen.add(Re);const Ce=Re._zod.def;if(Ce.type==="transform")return!0;if(Ce.type==="array")return isTransforming(Ce.element,Ee);if(Ce.type==="set")return isTransforming(Ce.valueType,Ee);if(Ce.type==="lazy")return isTransforming(Ce.getter(),Ee);if(Ce.type==="promise"||Ce.type==="optional"||Ce.type==="nonoptional"||Ce.type==="nullable"||Ce.type==="readonly"||Ce.type==="default"||Ce.type==="prefault")return isTransforming(Ce.innerType,Ee);if(Ce.type==="intersection")return isTransforming(Ce.left,Ee)||isTransforming(Ce.right,Ee);if(Ce.type==="record"||Ce.type==="map")return isTransforming(Ce.keyType,Ee)||isTransforming(Ce.valueType,Ee);if(Ce.type==="pipe")return isTransforming(Ce.in,Ee)||isTransforming(Ce.out,Ee);if(Ce.type==="object"){for(const Te in Ce.shape)if(isTransforming(Ce.shape[Te],Ee))return!0;return!1}if(Ce.type==="union"){for(const Te of Ce.options)if(isTransforming(Te,Ee))return!0;return!1}if(Ce.type==="tuple"){for(const Te of Ce.items)if(isTransforming(Te,Ee))return!0;return!!(Ce.rest&&isTransforming(Ce.rest,Ee))}return!1}const createToJSONSchemaMethod=(Re,e={})=>Ee=>{const Ce=initializeContext({...Ee,processors:e});return process$1(Re,Ce),extractDefs(Ce,Re),finalize(Ce,Re)},createStandardJSONSchemaMethod=(Re,e,Ee={})=>Ce=>{const{libraryOptions:Te,target:De}=Ce??{},Me=initializeContext({...Te??{},target:De,io:e,processors:Ee});return process$1(Re,Me),extractDefs(Me,Re),finalize(Me,Re)},formatMap={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},stringProcessor=(Re,e,Ee,Ce)=>{const Te=Ee;Te.type="string";const{minimum:De,maximum:Me,format:Oe,patterns:Be,contentEncoding:ze}=Re._zod.bag;if(typeof De=="number"&&(Te.minLength=De),typeof Me=="number"&&(Te.maxLength=Me),Oe&&(Te.format=formatMap[Oe]??Oe,Te.format===""&&delete Te.format,Oe==="time"&&delete Te.format),ze&&(Te.contentEncoding=ze),Be&&Be.size>0){const Ve=[...Be];Ve.length===1?Te.pattern=Ve[0].source:Ve.length>1&&(Te.allOf=[...Ve.map(qe=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:qe.source}))])}},numberProcessor=(Re,e,Ee,Ce)=>{const Te=Ee,{minimum:De,maximum:Me,format:Oe,multipleOf:Be,exclusiveMaximum:ze,exclusiveMinimum:Ve}=Re._zod.bag;typeof Oe=="string"&&Oe.includes("int")?Te.type="integer":Te.type="number",typeof Ve=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(Te.minimum=Ve,Te.exclusiveMinimum=!0):Te.exclusiveMinimum=Ve),typeof De=="number"&&(Te.minimum=De,typeof Ve=="number"&&e.target!=="draft-04"&&(Ve>=De?delete Te.minimum:delete Te.exclusiveMinimum)),typeof ze=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(Te.maximum=ze,Te.exclusiveMaximum=!0):Te.exclusiveMaximum=ze),typeof Me=="number"&&(Te.maximum=Me,typeof ze=="number"&&e.target!=="draft-04"&&(ze<=Me?delete Te.maximum:delete Te.exclusiveMaximum)),typeof Be=="number"&&(Te.multipleOf=Be)},neverProcessor=(Re,e,Ee,Ce)=>{Ee.not={}},anyProcessor=(Re,e,Ee,Ce)=>{},unknownProcessor=(Re,e,Ee,Ce)=>{},enumProcessor=(Re,e,Ee,Ce)=>{const Te=Re._zod.def,De=getEnumValues(Te.entries);De.every(Me=>typeof Me=="number")&&(Ee.type="number"),De.every(Me=>typeof Me=="string")&&(Ee.type="string"),Ee.enum=De},customProcessor=(Re,e,Ee,Ce)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},transformProcessor=(Re,e,Ee,Ce)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},arrayProcessor=(Re,e,Ee,Ce)=>{const Te=Ee,De=Re._zod.def,{minimum:Me,maximum:Oe}=Re._zod.bag;typeof Me=="number"&&(Te.minItems=Me),typeof Oe=="number"&&(Te.maxItems=Oe),Te.type="array",Te.items=process$1(De.element,e,{...Ce,path:[...Ce.path,"items"]})},objectProcessor=(Re,e,Ee,Ce)=>{var ze;const Te=Ee,De=Re._zod.def;Te.type="object",Te.properties={};const Me=De.shape;for(const Ve in Me)Te.properties[Ve]=process$1(Me[Ve],e,{...Ce,path:[...Ce.path,"properties",Ve]});const Oe=new Set(Object.keys(Me)),Be=new Set([...Oe].filter(Ve=>{const qe=De.shape[Ve]._zod;return e.io==="input"?qe.optin===void 0:qe.optout===void 0}));Be.size>0&&(Te.required=Array.from(Be)),((ze=De.catchall)==null?void 0:ze._zod.def.type)==="never"?Te.additionalProperties=!1:De.catchall?De.catchall&&(Te.additionalProperties=process$1(De.catchall,e,{...Ce,path:[...Ce.path,"additionalProperties"]})):e.io==="output"&&(Te.additionalProperties=!1)},unionProcessor=(Re,e,Ee,Ce)=>{const Te=Re._zod.def,De=Te.inclusive===!1,Me=Te.options.map((Oe,Be)=>process$1(Oe,e,{...Ce,path:[...Ce.path,De?"oneOf":"anyOf",Be]}));De?Ee.oneOf=Me:Ee.anyOf=Me},intersectionProcessor=(Re,e,Ee,Ce)=>{const Te=Re._zod.def,De=process$1(Te.left,e,{...Ce,path:[...Ce.path,"allOf",0]}),Me=process$1(Te.right,e,{...Ce,path:[...Ce.path,"allOf",1]}),Oe=ze=>"allOf"in ze&&Object.keys(ze).length===1,Be=[...Oe(De)?De.allOf:[De],...Oe(Me)?Me.allOf:[Me]];Ee.allOf=Be},nullableProcessor=(Re,e,Ee,Ce)=>{const Te=Re._zod.def,De=process$1(Te.innerType,e,Ce),Me=e.seen.get(Re);e.target==="openapi-3.0"?(Me.ref=Te.innerType,Ee.nullable=!0):Ee.anyOf=[De,{type:"null"}]},nonoptionalProcessor=(Re,e,Ee,Ce)=>{const Te=Re._zod.def;process$1(Te.innerType,e,Ce);const De=e.seen.get(Re);De.ref=Te.innerType},defaultProcessor=(Re,e,Ee,Ce)=>{const Te=Re._zod.def;process$1(Te.innerType,e,Ce);const De=e.seen.get(Re);De.ref=Te.innerType,Ee.default=JSON.parse(JSON.stringify(Te.defaultValue))},prefaultProcessor=(Re,e,Ee,Ce)=>{const Te=Re._zod.def;process$1(Te.innerType,e,Ce);const De=e.seen.get(Re);De.ref=Te.innerType,e.io==="input"&&(Ee._prefault=JSON.parse(JSON.stringify(Te.defaultValue)))},catchProcessor=(Re,e,Ee,Ce)=>{const Te=Re._zod.def;process$1(Te.innerType,e,Ce);const De=e.seen.get(Re);De.ref=Te.innerType;let Me;try{Me=Te.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}Ee.default=Me},pipeProcessor=(Re,e,Ee,Ce)=>{const Te=Re._zod.def,De=e.io==="input"?Te.in._zod.def.type==="transform"?Te.out:Te.in:Te.out;process$1(De,e,Ce);const Me=e.seen.get(Re);Me.ref=De},readonlyProcessor=(Re,e,Ee,Ce)=>{const Te=Re._zod.def;process$1(Te.innerType,e,Ce);const De=e.seen.get(Re);De.ref=Te.innerType,Ee.readOnly=!0},optionalProcessor=(Re,e,Ee,Ce)=>{const Te=Re._zod.def;process$1(Te.innerType,e,Ce);const De=e.seen.get(Re);De.ref=Te.innerType};function t(Re,e){try{var Ee=Re()}catch(Ce){return e(Ce)}return Ee&&Ee.then?Ee.then(void 0,e):Ee}function s(Re,e){for(var Ee={};Re.length;){var Ce=Re[0],Te=Ce.code,De=Ce.message,Me=Ce.path.join(".");if(!Ee[Me])if("unionErrors"in Ce){var Oe=Ce.unionErrors[0].errors[0];Ee[Me]={message:Oe.message,type:Oe.code}}else Ee[Me]={message:De,type:Te};if("unionErrors"in Ce&&Ce.unionErrors.forEach(function(Ve){return Ve.errors.forEach(function(qe){return Re.push(qe)})}),e){var Be=Ee[Me].types,ze=Be&&Be[Ce.code];Ee[Me]=appendErrors(Me,e,Ee,Te,ze?[].concat(ze,Ce.message):Ce.message)}Re.shift()}return Ee}function i(Re,e){for(var Ee={};Re.length;){var Ce=Re[0],Te=Ce.code,De=Ce.message,Me=Ce.path.join(".");if(!Ee[Me])if(Ce.code==="invalid_union"&&Ce.errors.length>0){var Oe=Ce.errors[0][0];Ee[Me]={message:Oe.message,type:Oe.code}}else Ee[Me]={message:De,type:Te};if(Ce.code==="invalid_union"&&Ce.errors.forEach(function(Ve){return Ve.forEach(function(qe){return Re.push(qe)})}),e){var Be=Ee[Me].types,ze=Be&&Be[Ce.code];Ee[Me]=appendErrors(Me,e,Ee,Te,ze?[].concat(ze,Ce.message):Ce.message)}Re.shift()}return Ee}function a(Re,e,Ee){if(Ee===void 0&&(Ee={}),function(Ce){return"_def"in Ce&&typeof Ce._def=="object"&&"typeName"in Ce._def}(Re))return function(Ce,Te,De){try{return Promise.resolve(t(function(){return Promise.resolve(Re[Ee.mode==="sync"?"parse":"parseAsync"](Ce,e)).then(function(Me){return De.shouldUseNativeValidation&&o({},De),{errors:{},values:Ee.raw?Object.assign({},Ce):Me}})},function(Me){if(function(Oe){return Array.isArray(Oe==null?void 0:Oe.issues)}(Me))return{values:{},errors:s$1(s(Me.errors,!De.shouldUseNativeValidation&&De.criteriaMode==="all"),De)};throw Me}))}catch(Me){return Promise.reject(Me)}};if(function(Ce){return"_zod"in Ce&&typeof Ce._zod=="object"}(Re))return function(Ce,Te,De){try{return Promise.resolve(t(function(){return Promise.resolve((Ee.mode==="sync"?parse$1:parseAsync$1)(Re,Ce,e)).then(function(Me){return De.shouldUseNativeValidation&&o({},De),{errors:{},values:Ee.raw?Object.assign({},Ce):Me}})},function(Me){if(function(Oe){return Oe instanceof $ZodError}(Me))return{values:{},errors:s$1(i(Me.issues,!De.shouldUseNativeValidation&&De.criteriaMode==="all"),De)};throw Me}))}catch(Me){return Promise.reject(Me)}};throw new Error("Invalid input: not a Zod schema")}const ZodISODateTime=$constructor("ZodISODateTime",(Re,e)=>{$ZodISODateTime.init(Re,e),ZodStringFormat.init(Re,e)});function datetime(Re){return _isoDateTime(ZodISODateTime,Re)}const ZodISODate=$constructor("ZodISODate",(Re,e)=>{$ZodISODate.init(Re,e),ZodStringFormat.init(Re,e)});function date(Re){return _isoDate(ZodISODate,Re)}const ZodISOTime=$constructor("ZodISOTime",(Re,e)=>{$ZodISOTime.init(Re,e),ZodStringFormat.init(Re,e)});function time(Re){return _isoTime(ZodISOTime,Re)}const ZodISODuration=$constructor("ZodISODuration",(Re,e)=>{$ZodISODuration.init(Re,e),ZodStringFormat.init(Re,e)});function duration(Re){return _isoDuration(ZodISODuration,Re)}const initializer=(Re,e)=>{$ZodError.init(Re,e),Re.name="ZodError",Object.defineProperties(Re,{format:{value:Ee=>formatError(Re,Ee)},flatten:{value:Ee=>flattenError(Re,Ee)},addIssue:{value:Ee=>{Re.issues.push(Ee),Re.message=JSON.stringify(Re.issues,jsonStringifyReplacer,2)}},addIssues:{value:Ee=>{Re.issues.push(...Ee),Re.message=JSON.stringify(Re.issues,jsonStringifyReplacer,2)}},isEmpty:{get(){return Re.issues.length===0}}})},ZodRealError=$constructor("ZodError",initializer,{Parent:Error}),parse=_parse(ZodRealError),parseAsync=_parseAsync(ZodRealError),safeParse=_safeParse(ZodRealError),safeParseAsync=_safeParseAsync(ZodRealError),encode=_encode(ZodRealError),decode=_decode(ZodRealError),encodeAsync=_encodeAsync(ZodRealError),decodeAsync=_decodeAsync(ZodRealError),safeEncode=_safeEncode(ZodRealError),safeDecode=_safeDecode(ZodRealError),safeEncodeAsync=_safeEncodeAsync(ZodRealError),safeDecodeAsync=_safeDecodeAsync(ZodRealError),ZodType=$constructor("ZodType",(Re,e)=>($ZodType.init(Re,e),Object.assign(Re["~standard"],{jsonSchema:{input:createStandardJSONSchemaMethod(Re,"input"),output:createStandardJSONSchemaMethod(Re,"output")}}),Re.toJSONSchema=createToJSONSchemaMethod(Re,{}),Re.def=e,Re.type=e.type,Object.defineProperty(Re,"_def",{value:e}),Re.check=(...Ee)=>Re.clone(mergeDefs(e,{checks:[...e.checks??[],...Ee.map(Ce=>typeof Ce=="function"?{_zod:{check:Ce,def:{check:"custom"},onattach:[]}}:Ce)]}),{parent:!0}),Re.with=Re.check,Re.clone=(Ee,Ce)=>clone(Re,Ee,Ce),Re.brand=()=>Re,Re.register=(Ee,Ce)=>(Ee.add(Re,Ce),Re),Re.parse=(Ee,Ce)=>parse(Re,Ee,Ce,{callee:Re.parse}),Re.safeParse=(Ee,Ce)=>safeParse(Re,Ee,Ce),Re.parseAsync=async(Ee,Ce)=>parseAsync(Re,Ee,Ce,{callee:Re.parseAsync}),Re.safeParseAsync=async(Ee,Ce)=>safeParseAsync(Re,Ee,Ce),Re.spa=Re.safeParseAsync,Re.encode=(Ee,Ce)=>encode(Re,Ee,Ce),Re.decode=(Ee,Ce)=>decode(Re,Ee,Ce),Re.encodeAsync=async(Ee,Ce)=>encodeAsync(Re,Ee,Ce),Re.decodeAsync=async(Ee,Ce)=>decodeAsync(Re,Ee,Ce),Re.safeEncode=(Ee,Ce)=>safeEncode(Re,Ee,Ce),Re.safeDecode=(Ee,Ce)=>safeDecode(Re,Ee,Ce),Re.safeEncodeAsync=async(Ee,Ce)=>safeEncodeAsync(Re,Ee,Ce),Re.safeDecodeAsync=async(Ee,Ce)=>safeDecodeAsync(Re,Ee,Ce),Re.refine=(Ee,Ce)=>Re.check(refine(Ee,Ce)),Re.superRefine=Ee=>Re.check(superRefine(Ee)),Re.overwrite=Ee=>Re.check(_overwrite(Ee)),Re.optional=()=>optional(Re),Re.exactOptional=()=>exactOptional(Re),Re.nullable=()=>nullable(Re),Re.nullish=()=>optional(nullable(Re)),Re.nonoptional=Ee=>nonoptional(Re,Ee),Re.array=()=>array(Re),Re.or=Ee=>union([Re,Ee]),Re.and=Ee=>intersection(Re,Ee),Re.transform=Ee=>pipe(Re,transform(Ee)),Re.default=Ee=>_default(Re,Ee),Re.prefault=Ee=>prefault(Re,Ee),Re.catch=Ee=>_catch(Re,Ee),Re.pipe=Ee=>pipe(Re,Ee),Re.readonly=()=>readonly(Re),Re.describe=Ee=>{const Ce=Re.clone();return globalRegistry.add(Ce,{description:Ee}),Ce},Object.defineProperty(Re,"description",{get(){var Ee;return(Ee=globalRegistry.get(Re))==null?void 0:Ee.description},configurable:!0}),Re.meta=(...Ee)=>{if(Ee.length===0)return globalRegistry.get(Re);const Ce=Re.clone();return globalRegistry.add(Ce,Ee[0]),Ce},Re.isOptional=()=>Re.safeParse(void 0).success,Re.isNullable=()=>Re.safeParse(null).success,Re.apply=Ee=>Ee(Re),Re)),_ZodString=$constructor("_ZodString",(Re,e)=>{$ZodString.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ce,Te,De)=>stringProcessor(Re,Ce,Te);const Ee=Re._zod.bag;Re.format=Ee.format??null,Re.minLength=Ee.minimum??null,Re.maxLength=Ee.maximum??null,Re.regex=(...Ce)=>Re.check(_regex(...Ce)),Re.includes=(...Ce)=>Re.check(_includes(...Ce)),Re.startsWith=(...Ce)=>Re.check(_startsWith(...Ce)),Re.endsWith=(...Ce)=>Re.check(_endsWith(...Ce)),Re.min=(...Ce)=>Re.check(_minLength(...Ce)),Re.max=(...Ce)=>Re.check(_maxLength(...Ce)),Re.length=(...Ce)=>Re.check(_length(...Ce)),Re.nonempty=(...Ce)=>Re.check(_minLength(1,...Ce)),Re.lowercase=Ce=>Re.check(_lowercase(Ce)),Re.uppercase=Ce=>Re.check(_uppercase(Ce)),Re.trim=()=>Re.check(_trim()),Re.normalize=(...Ce)=>Re.check(_normalize(...Ce)),Re.toLowerCase=()=>Re.check(_toLowerCase()),Re.toUpperCase=()=>Re.check(_toUpperCase()),Re.slugify=()=>Re.check(_slugify())}),ZodString=$constructor("ZodString",(Re,e)=>{$ZodString.init(Re,e),_ZodString.init(Re,e),Re.email=Ee=>Re.check(_email(ZodEmail,Ee)),Re.url=Ee=>Re.check(_url(ZodURL,Ee)),Re.jwt=Ee=>Re.check(_jwt(ZodJWT,Ee)),Re.emoji=Ee=>Re.check(_emoji(ZodEmoji,Ee)),Re.guid=Ee=>Re.check(_guid(ZodGUID,Ee)),Re.uuid=Ee=>Re.check(_uuid(ZodUUID,Ee)),Re.uuidv4=Ee=>Re.check(_uuidv4(ZodUUID,Ee)),Re.uuidv6=Ee=>Re.check(_uuidv6(ZodUUID,Ee)),Re.uuidv7=Ee=>Re.check(_uuidv7(ZodUUID,Ee)),Re.nanoid=Ee=>Re.check(_nanoid(ZodNanoID,Ee)),Re.guid=Ee=>Re.check(_guid(ZodGUID,Ee)),Re.cuid=Ee=>Re.check(_cuid(ZodCUID,Ee)),Re.cuid2=Ee=>Re.check(_cuid2(ZodCUID2,Ee)),Re.ulid=Ee=>Re.check(_ulid(ZodULID,Ee)),Re.base64=Ee=>Re.check(_base64(ZodBase64,Ee)),Re.base64url=Ee=>Re.check(_base64url(ZodBase64URL,Ee)),Re.xid=Ee=>Re.check(_xid(ZodXID,Ee)),Re.ksuid=Ee=>Re.check(_ksuid(ZodKSUID,Ee)),Re.ipv4=Ee=>Re.check(_ipv4(ZodIPv4,Ee)),Re.ipv6=Ee=>Re.check(_ipv6(ZodIPv6,Ee)),Re.cidrv4=Ee=>Re.check(_cidrv4(ZodCIDRv4,Ee)),Re.cidrv6=Ee=>Re.check(_cidrv6(ZodCIDRv6,Ee)),Re.e164=Ee=>Re.check(_e164(ZodE164,Ee)),Re.datetime=Ee=>Re.check(datetime(Ee)),Re.date=Ee=>Re.check(date(Ee)),Re.time=Ee=>Re.check(time(Ee)),Re.duration=Ee=>Re.check(duration(Ee))});function string(Re){return _string(ZodString,Re)}const ZodStringFormat=$constructor("ZodStringFormat",(Re,e)=>{$ZodStringFormat.init(Re,e),_ZodString.init(Re,e)}),ZodEmail=$constructor("ZodEmail",(Re,e)=>{$ZodEmail.init(Re,e),ZodStringFormat.init(Re,e)}),ZodGUID=$constructor("ZodGUID",(Re,e)=>{$ZodGUID.init(Re,e),ZodStringFormat.init(Re,e)}),ZodUUID=$constructor("ZodUUID",(Re,e)=>{$ZodUUID.init(Re,e),ZodStringFormat.init(Re,e)}),ZodURL=$constructor("ZodURL",(Re,e)=>{$ZodURL.init(Re,e),ZodStringFormat.init(Re,e)}),ZodEmoji=$constructor("ZodEmoji",(Re,e)=>{$ZodEmoji.init(Re,e),ZodStringFormat.init(Re,e)}),ZodNanoID=$constructor("ZodNanoID",(Re,e)=>{$ZodNanoID.init(Re,e),ZodStringFormat.init(Re,e)}),ZodCUID=$constructor("ZodCUID",(Re,e)=>{$ZodCUID.init(Re,e),ZodStringFormat.init(Re,e)}),ZodCUID2=$constructor("ZodCUID2",(Re,e)=>{$ZodCUID2.init(Re,e),ZodStringFormat.init(Re,e)}),ZodULID=$constructor("ZodULID",(Re,e)=>{$ZodULID.init(Re,e),ZodStringFormat.init(Re,e)}),ZodXID=$constructor("ZodXID",(Re,e)=>{$ZodXID.init(Re,e),ZodStringFormat.init(Re,e)}),ZodKSUID=$constructor("ZodKSUID",(Re,e)=>{$ZodKSUID.init(Re,e),ZodStringFormat.init(Re,e)}),ZodIPv4=$constructor("ZodIPv4",(Re,e)=>{$ZodIPv4.init(Re,e),ZodStringFormat.init(Re,e)}),ZodIPv6=$constructor("ZodIPv6",(Re,e)=>{$ZodIPv6.init(Re,e),ZodStringFormat.init(Re,e)}),ZodCIDRv4=$constructor("ZodCIDRv4",(Re,e)=>{$ZodCIDRv4.init(Re,e),ZodStringFormat.init(Re,e)}),ZodCIDRv6=$constructor("ZodCIDRv6",(Re,e)=>{$ZodCIDRv6.init(Re,e),ZodStringFormat.init(Re,e)}),ZodBase64=$constructor("ZodBase64",(Re,e)=>{$ZodBase64.init(Re,e),ZodStringFormat.init(Re,e)}),ZodBase64URL=$constructor("ZodBase64URL",(Re,e)=>{$ZodBase64URL.init(Re,e),ZodStringFormat.init(Re,e)}),ZodE164=$constructor("ZodE164",(Re,e)=>{$ZodE164.init(Re,e),ZodStringFormat.init(Re,e)}),ZodJWT=$constructor("ZodJWT",(Re,e)=>{$ZodJWT.init(Re,e),ZodStringFormat.init(Re,e)}),ZodNumber=$constructor("ZodNumber",(Re,e)=>{$ZodNumber.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ce,Te,De)=>numberProcessor(Re,Ce,Te),Re.gt=(Ce,Te)=>Re.check(_gt(Ce,Te)),Re.gte=(Ce,Te)=>Re.check(_gte(Ce,Te)),Re.min=(Ce,Te)=>Re.check(_gte(Ce,Te)),Re.lt=(Ce,Te)=>Re.check(_lt(Ce,Te)),Re.lte=(Ce,Te)=>Re.check(_lte(Ce,Te)),Re.max=(Ce,Te)=>Re.check(_lte(Ce,Te)),Re.int=Ce=>Re.check(int(Ce)),Re.safe=Ce=>Re.check(int(Ce)),Re.positive=Ce=>Re.check(_gt(0,Ce)),Re.nonnegative=Ce=>Re.check(_gte(0,Ce)),Re.negative=Ce=>Re.check(_lt(0,Ce)),Re.nonpositive=Ce=>Re.check(_lte(0,Ce)),Re.multipleOf=(Ce,Te)=>Re.check(_multipleOf(Ce,Te)),Re.step=(Ce,Te)=>Re.check(_multipleOf(Ce,Te)),Re.finite=()=>Re;const Ee=Re._zod.bag;Re.minValue=Math.max(Ee.minimum??Number.NEGATIVE_INFINITY,Ee.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,Re.maxValue=Math.min(Ee.maximum??Number.POSITIVE_INFINITY,Ee.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,Re.isInt=(Ee.format??"").includes("int")||Number.isSafeInteger(Ee.multipleOf??.5),Re.isFinite=!0,Re.format=Ee.format??null}),ZodNumberFormat=$constructor("ZodNumberFormat",(Re,e)=>{$ZodNumberFormat.init(Re,e),ZodNumber.init(Re,e)});function int(Re){return _int(ZodNumberFormat,Re)}const ZodAny=$constructor("ZodAny",(Re,e)=>{$ZodAny.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ee,Ce,Te)=>anyProcessor()});function any(){return _any(ZodAny)}const ZodUnknown=$constructor("ZodUnknown",(Re,e)=>{$ZodUnknown.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ee,Ce,Te)=>unknownProcessor()});function unknown(){return _unknown(ZodUnknown)}const ZodNever=$constructor("ZodNever",(Re,e)=>{$ZodNever.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ee,Ce,Te)=>neverProcessor(Re,Ee,Ce)});function never(Re){return _never(ZodNever,Re)}const ZodArray=$constructor("ZodArray",(Re,e)=>{$ZodArray.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ee,Ce,Te)=>arrayProcessor(Re,Ee,Ce,Te),Re.element=e.element,Re.min=(Ee,Ce)=>Re.check(_minLength(Ee,Ce)),Re.nonempty=Ee=>Re.check(_minLength(1,Ee)),Re.max=(Ee,Ce)=>Re.check(_maxLength(Ee,Ce)),Re.length=(Ee,Ce)=>Re.check(_length(Ee,Ce)),Re.unwrap=()=>Re.element});function array(Re,e){return _array(ZodArray,Re,e)}const ZodObject=$constructor("ZodObject",(Re,e)=>{$ZodObjectJIT.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ee,Ce,Te)=>objectProcessor(Re,Ee,Ce,Te),defineLazy(Re,"shape",()=>e.shape),Re.keyof=()=>_enum(Object.keys(Re._zod.def.shape)),Re.catchall=Ee=>Re.clone({...Re._zod.def,catchall:Ee}),Re.passthrough=()=>Re.clone({...Re._zod.def,catchall:unknown()}),Re.loose=()=>Re.clone({...Re._zod.def,catchall:unknown()}),Re.strict=()=>Re.clone({...Re._zod.def,catchall:never()}),Re.strip=()=>Re.clone({...Re._zod.def,catchall:void 0}),Re.extend=Ee=>extend(Re,Ee),Re.safeExtend=Ee=>safeExtend(Re,Ee),Re.merge=Ee=>merge(Re,Ee),Re.pick=Ee=>pick(Re,Ee),Re.omit=Ee=>omit(Re,Ee),Re.partial=(...Ee)=>partial(ZodOptional,Re,Ee[0]),Re.required=(...Ee)=>required(ZodNonOptional,Re,Ee[0])});function object(Re,e){const Ee={type:"object",shape:Re??{},...normalizeParams(e)};return new ZodObject(Ee)}const ZodUnion=$constructor("ZodUnion",(Re,e)=>{$ZodUnion.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ee,Ce,Te)=>unionProcessor(Re,Ee,Ce,Te),Re.options=e.options});function union(Re,e){return new ZodUnion({type:"union",options:Re,...normalizeParams(e)})}const ZodIntersection=$constructor("ZodIntersection",(Re,e)=>{$ZodIntersection.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ee,Ce,Te)=>intersectionProcessor(Re,Ee,Ce,Te)});function intersection(Re,e){return new ZodIntersection({type:"intersection",left:Re,right:e})}const ZodEnum=$constructor("ZodEnum",(Re,e)=>{$ZodEnum.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ce,Te,De)=>enumProcessor(Re,Ce,Te),Re.enum=e.entries,Re.options=Object.values(e.entries);const Ee=new Set(Object.keys(e.entries));Re.extract=(Ce,Te)=>{const De={};for(const Me of Ce)if(Ee.has(Me))De[Me]=e.entries[Me];else throw new Error(`Key ${Me} not found in enum`);return new ZodEnum({...e,checks:[],...normalizeParams(Te),entries:De})},Re.exclude=(Ce,Te)=>{const De={...e.entries};for(const Me of Ce)if(Ee.has(Me))delete De[Me];else throw new Error(`Key ${Me} not found in enum`);return new ZodEnum({...e,checks:[],...normalizeParams(Te),entries:De})}});function _enum(Re,e){const Ee=Array.isArray(Re)?Object.fromEntries(Re.map(Ce=>[Ce,Ce])):Re;return new ZodEnum({type:"enum",entries:Ee,...normalizeParams(e)})}const ZodTransform=$constructor("ZodTransform",(Re,e)=>{$ZodTransform.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ee,Ce,Te)=>transformProcessor(Re,Ee),Re._zod.parse=(Ee,Ce)=>{if(Ce.direction==="backward")throw new $ZodEncodeError(Re.constructor.name);Ee.addIssue=De=>{if(typeof De=="string")Ee.issues.push(issue(De,Ee.value,e));else{const Me=De;Me.fatal&&(Me.continue=!1),Me.code??(Me.code="custom"),Me.input??(Me.input=Ee.value),Me.inst??(Me.inst=Re),Ee.issues.push(issue(Me))}};const Te=e.transform(Ee.value,Ee);return Te instanceof Promise?Te.then(De=>(Ee.value=De,Ee)):(Ee.value=Te,Ee)}});function transform(Re){return new ZodTransform({type:"transform",transform:Re})}const ZodOptional=$constructor("ZodOptional",(Re,e)=>{$ZodOptional.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ee,Ce,Te)=>optionalProcessor(Re,Ee,Ce,Te),Re.unwrap=()=>Re._zod.def.innerType});function optional(Re){return new ZodOptional({type:"optional",innerType:Re})}const ZodExactOptional=$constructor("ZodExactOptional",(Re,e)=>{$ZodExactOptional.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ee,Ce,Te)=>optionalProcessor(Re,Ee,Ce,Te),Re.unwrap=()=>Re._zod.def.innerType});function exactOptional(Re){return new ZodExactOptional({type:"optional",innerType:Re})}const ZodNullable=$constructor("ZodNullable",(Re,e)=>{$ZodNullable.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ee,Ce,Te)=>nullableProcessor(Re,Ee,Ce,Te),Re.unwrap=()=>Re._zod.def.innerType});function nullable(Re){return new ZodNullable({type:"nullable",innerType:Re})}const ZodDefault=$constructor("ZodDefault",(Re,e)=>{$ZodDefault.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ee,Ce,Te)=>defaultProcessor(Re,Ee,Ce,Te),Re.unwrap=()=>Re._zod.def.innerType,Re.removeDefault=Re.unwrap});function _default(Re,e){return new ZodDefault({type:"default",innerType:Re,get defaultValue(){return typeof e=="function"?e():shallowClone(e)}})}const ZodPrefault=$constructor("ZodPrefault",(Re,e)=>{$ZodPrefault.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ee,Ce,Te)=>prefaultProcessor(Re,Ee,Ce,Te),Re.unwrap=()=>Re._zod.def.innerType});function prefault(Re,e){return new ZodPrefault({type:"prefault",innerType:Re,get defaultValue(){return typeof e=="function"?e():shallowClone(e)}})}const ZodNonOptional=$constructor("ZodNonOptional",(Re,e)=>{$ZodNonOptional.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ee,Ce,Te)=>nonoptionalProcessor(Re,Ee,Ce,Te),Re.unwrap=()=>Re._zod.def.innerType});function nonoptional(Re,e){return new ZodNonOptional({type:"nonoptional",innerType:Re,...normalizeParams(e)})}const ZodCatch=$constructor("ZodCatch",(Re,e)=>{$ZodCatch.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ee,Ce,Te)=>catchProcessor(Re,Ee,Ce,Te),Re.unwrap=()=>Re._zod.def.innerType,Re.removeCatch=Re.unwrap});function _catch(Re,e){return new ZodCatch({type:"catch",innerType:Re,catchValue:typeof e=="function"?e:()=>e})}const ZodPipe=$constructor("ZodPipe",(Re,e)=>{$ZodPipe.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ee,Ce,Te)=>pipeProcessor(Re,Ee,Ce,Te),Re.in=e.in,Re.out=e.out});function pipe(Re,e){return new ZodPipe({type:"pipe",in:Re,out:e})}const ZodReadonly=$constructor("ZodReadonly",(Re,e)=>{$ZodReadonly.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ee,Ce,Te)=>readonlyProcessor(Re,Ee,Ce,Te),Re.unwrap=()=>Re._zod.def.innerType});function readonly(Re){return new ZodReadonly({type:"readonly",innerType:Re})}const ZodCustom=$constructor("ZodCustom",(Re,e)=>{$ZodCustom.init(Re,e),ZodType.init(Re,e),Re._zod.processJSONSchema=(Ee,Ce,Te)=>customProcessor(Re,Ee)});function refine(Re,e={}){return _refine(ZodCustom,Re,e)}function superRefine(Re){return _superRefine(Re)}function number(Re){return _coercedNumber(ZodNumber,Re)}const ALPHA$1=/^[A-Za-z\s]+$/,ALPHANUM$1=/^[A-Za-z0-9\s]+$/,MOBILE$1=/^[6-9]\d{9}$/,schema$3=object({projectType:string().min(1,"Project type is required").regex(ALPHA$1,"Only alphabets are allowed"),language:string().min(1,"Language is required").regex(ALPHA$1,"Only alphabets are allowed"),genre:string().min(1,"Genre is required").regex(ALPHA$1,"Only alphabets are allowed"),duration:number({invalid_type_error:"Duration must be a number"}).positive("Duration must be a positive number"),projectTitle:string().min(1,"Project title is required").regex(ALPHANUM$1,"Only letters and numbers are allowed (no special characters)"),producerName:string().min(1,"Producer name is required").regex(ALPHA$1,"Only alphabets are allowed"),productionHouse:string().min(1,"Production house is required").regex(ALPHANUM$1,"Only letters and numbers are allowed (no special characters)"),totalShootingDays:number({invalid_type_error:"Required"}).positive("Must be positive"),biharShootingDays:number({invalid_type_error:"Required"}).positive("Must be positive"),shootingStartDate:string().min(1,"Start date required"),shootingEndDate:string().min(1,"End date required"),approxBudget:number({invalid_type_error:"Required"}).positive("Must be positive"),approxExpenditureBihar:number({invalid_type_error:"Required"}).positive("Must be positive"),estimatedManpower:number({invalid_type_error:"Required"}).int().positive("Must be positive"),shootingLocation:string().min(1,"Location is required"),lineProducerName:string().min(1,"Line Producer name is required").regex(ALPHA$1,"Only alphabets are allowed"),lineProducerContact:string().min(1,"Contact is required").regex(MOBILE$1,"Only numbers are allowed"),producerContactName:string().min(1,"Name is required").regex(ALPHA$1,"Only alphabets are allowed"),producerDesignation:string().min(1,"Designation is required").regex(ALPHA$1,"Only alphabets are allowed"),producerAddress:string().min(1,"Address is required").regex(ALPHANUM$1,"Only letters and numbers are allowed (no special characters)"),producerEmail:string().min(1,"Email is required").email("Invalid email"),producerMobile:string().min(1,"Mobile is required").regex(MOBILE$1,"Only numbers are allowed"),directorName:string().min(1,"Director name is required").regex(ALPHA$1,"Only alphabets are allowed"),mainCast:string().min(1,"Main cast names are required").regex(/^[a-zA-Z\s,]+$/,"Only alphabets, spaces and commas are allowed in Main Cast"),synopsis:string().min(10,"Synopsis is too short").refine(Re=>Re.trim().split(/\s+/).length<=100,{message:"Synopsis must not exceed 100 words"})}).refine(Re=>Re.shootingStartDate&&Re.shootingEndDate?new Date(Re.shootingEndDate)>=new Date(Re.shootingStartDate):!0,{message:"End date must be after start date",path:["shootingEndDate"]}),Annexure1=({activeApplication:Re})=>{const[e,Ee]=reactExports.useState(!1),{register:Ce,handleSubmit:Te,watch:De,reset:Me,formState:{errors:Oe}}=useForm({resolver:a(schema$3),mode:"onChange"}),[Be,ze]=reactExports.useState(!1),Ve=Qe=>{if(!Re||!Re.id){alert("No active application found. Please create an application via the 'NOC Forms' menu first.");return}ze(!0)},qe=async()=>{var ns,Ye;const Qe=De();Ee(!0);try{const rs={language:Qe.language,genre:Qe.genre,typeOfProject:Qe.projectType,titleOfProject:Qe.projectTitle,durationOfProject:Qe.duration.toString(),producerName:Qe.producerName,productionHouse:Qe.productionHouse,lineProducerNameAndContact:`${Qe.lineProducerName} (${Qe.lineProducerContact})`,totalShootingDays:parseInt(Qe.totalShootingDays),shootingDaysInBihar:parseInt(Qe.biharShootingDays),shootingDatesInBihar:`${Qe.shootingStartDate} to ${Qe.shootingEndDate}`,proposedShootingLocationInBihar:Qe.shootingLocation,approximateBudgetOfProject:Qe.approxBudget.toString(),approximateExpenditureInBihar:Qe.approxExpenditureBihar.toString(),estimatedManpowerUtilizationBihar:Qe.estimatedManpower.toString(),executiveProducerName:Qe.producerContactName,executiveProducerDesignation:Qe.producerDesignation,executiveProducerAddress:Qe.producerAddress,executiveProducerEmail:Qe.producerEmail,executiveProducerMobile:Qe.producerMobile,directorAndMainCastNames:`Director: ${Qe.directorName}, Cast: ${Qe.mainCast}`,synopsis:Qe.synopsis};console.log("Submitting Annexure 1 Payload for App ID:",Re.id,rs);const ts=await api.post(`/api/annexureOne/applications/${Re.id}/annexure-one`,rs);ts.data.success?(alert("Annexure 1 Submitted Successfully!"),Me(),ze(!1)):(alert(ts.data.message||"Submission failed."),ze(!1))}catch(rs){console.error("Submission Error:",rs);const ts=((Ye=(ns=rs.response)==null?void 0:ns.data)==null?void 0:Ye.message)||"An error occurred while submitting. Please try again.";alert(ts),ze(!1)}finally{Ee(!1)}},We=De("synopsis")||"",Ge=We.trim()===""?0:We.trim().split(/\s+/).length,Je=new Date().toISOString().split("T")[0];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white py-12 px-4 sm:px-6 lg:px-8 font-sans",children:[jsxRuntimeExports.jsxs("div",{className:"max-w-5xl mx-auto space-y-10",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2 border-b border-gray-200 pb-6",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Project Specific Detail Format"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-xs",children:"Please fill in the details below accurately. This information is required for Annexure-1 compliance."})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Te(Ve),className:"space-y-10",children:[jsxRuntimeExports.jsx(SectionBlock$3,{title:"Project Overview",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[jsxRuntimeExports.jsx(InputGroup$3,{label:"Title of Project",error:Oe.projectTitle,required:!0,children:jsxRuntimeExports.jsx("input",{...Ce("projectTitle"),className:"form-input",placeholder:"Enter full title"})}),jsxRuntimeExports.jsx(InputGroup$3,{label:"Type of Project",error:Oe.projectType,required:!0,children:jsxRuntimeExports.jsxs("select",{...Ce("projectType"),className:"form-select",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Type"}),jsxRuntimeExports.jsx("option",{value:"Feature Film",children:"Feature Film"}),jsxRuntimeExports.jsx("option",{value:"Web Series",children:"Web Series"}),jsxRuntimeExports.jsx("option",{value:"TV Serial",children:"TV Serial"}),jsxRuntimeExports.jsx("option",{value:"Documentary",children:"Documentary"}),jsxRuntimeExports.jsx("option",{value:"Short Film",children:"Short Film"})]})}),jsxRuntimeExports.jsx(InputGroup$3,{label:"Language",error:Oe.language,required:!0,children:jsxRuntimeExports.jsx("input",{...Ce("language"),className:"form-input",placeholder:"e.g. Hindi, Bhojpuri"})}),jsxRuntimeExports.jsx(InputGroup$3,{label:"Genre",error:Oe.genre,required:!0,children:jsxRuntimeExports.jsx("input",{...Ce("genre"),className:"form-input",placeholder:"e.g. Drama, Action"})}),jsxRuntimeExports.jsx(InputGroup$3,{label:"Duration (Minutes)",error:Oe.duration,required:!0,children:jsxRuntimeExports.jsx("input",{type:"number",min:"0",...Ce("duration"),className:"form-input",placeholder:"e.g. 120"})})]})}),jsxRuntimeExports.jsx(SectionBlock$3,{title:"Production Details",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[jsxRuntimeExports.jsx(InputGroup$3,{label:"Producer Name",error:Oe.producerName,required:!0,children:jsxRuntimeExports.jsx("input",{...Ce("producerName"),className:"form-input",placeholder:"Full legal name"})}),jsxRuntimeExports.jsx(InputGroup$3,{label:"Production House",error:Oe.productionHouse,required:!0,children:jsxRuntimeExports.jsx("input",{...Ce("productionHouse"),className:"form-input",placeholder:"Registered company name"})}),jsxRuntimeExports.jsx(InputGroup$3,{label:"Approx Budget (â‚¹)",error:Oe.approxBudget,required:!0,children:jsxRuntimeExports.jsx("input",{type:"number",min:"0",...Ce("approxBudget"),className:"form-input",placeholder:"0.00"})}),jsxRuntimeExports.jsx(InputGroup$3,{label:"Est. Expenditure in Bihar (â‚¹)",error:Oe.approxExpenditureBihar,required:!0,children:jsxRuntimeExports.jsx("input",{type:"number",min:"0",...Ce("approxExpenditureBihar"),className:"form-input",placeholder:"0.00"})})]})}),jsxRuntimeExports.jsx(SectionBlock$3,{title:"Shooting Schedule",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[jsxRuntimeExports.jsx(InputGroup$3,{label:"Total Shooting Days",error:Oe.totalShootingDays,required:!0,children:jsxRuntimeExports.jsx("input",{type:"number",min:"0",...Ce("totalShootingDays"),className:"form-input",placeholder:"Total days"})}),jsxRuntimeExports.jsx(InputGroup$3,{label:"Shooting Days in Bihar",error:Oe.biharShootingDays,required:!0,children:jsxRuntimeExports.jsx("input",{type:"number",min:"0",...Ce("biharShootingDays"),className:"form-input",placeholder:"Days in Bihar"})}),jsxRuntimeExports.jsx(InputGroup$3,{label:"Shooting Location (Bihar)",error:Oe.shootingLocation,required:!0,children:jsxRuntimeExports.jsx("input",{...Ce("shootingLocation"),className:"form-input",placeholder:"e.g. Patna, Gaya, Rajgir"})}),jsxRuntimeExports.jsx(InputGroup$3,{label:"Bihar Manpower (Est.)",error:Oe.estimatedManpower,required:!0,children:jsxRuntimeExports.jsx("input",{type:"number",min:"0",...Ce("estimatedManpower"),className:"form-input",placeholder:"Number of personnel"})}),jsxRuntimeExports.jsx(InputGroup$3,{label:"Shooting Start Date",error:Oe.shootingStartDate,required:!0,children:jsxRuntimeExports.jsx("input",{type:"date",min:Je,...Ce("shootingStartDate"),className:"form-input"})}),jsxRuntimeExports.jsx(InputGroup$3,{label:"Shooting End Date",error:Oe.shootingEndDate,required:!0,children:jsxRuntimeExports.jsx("input",{type:"date",min:Je,...Ce("shootingEndDate"),className:"form-input"})})]})}),jsxRuntimeExports.jsx(SectionBlock$3,{title:"Key Personnel",children:jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{className:"p-0",children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-4 border-b border-gray-100 pb-2",children:"Line Producer"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[jsxRuntimeExports.jsx(InputGroup$3,{label:"Name",error:Oe.lineProducerName,required:!0,children:jsxRuntimeExports.jsx("input",{...Ce("lineProducerName"),className:"form-input",placeholder:"Full Name"})}),jsxRuntimeExports.jsx(InputGroup$3,{label:"Contact",error:Oe.lineProducerContact,required:!0,children:jsxRuntimeExports.jsx("input",{...Ce("lineProducerContact"),className:"form-input",placeholder:"+91..."})})]})]}),jsxRuntimeExports.jsxs("div",{className:"p-0",children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-4 border-b border-gray-100 pb-2",children:"Producer / Executive Producer"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[jsxRuntimeExports.jsx(InputGroup$3,{label:"Contact Person",error:Oe.producerContactName,required:!0,children:jsxRuntimeExports.jsx("input",{...Ce("producerContactName"),className:"form-input",placeholder:"Name"})}),jsxRuntimeExports.jsx(InputGroup$3,{label:"Designation",error:Oe.producerDesignation,required:!0,children:jsxRuntimeExports.jsx("input",{...Ce("producerDesignation"),className:"form-input",placeholder:"e.g. Executive Producer"})}),jsxRuntimeExports.jsx(InputGroup$3,{label:"Email",error:Oe.producerEmail,required:!0,children:jsxRuntimeExports.jsx("input",{...Ce("producerEmail"),className:"form-input",placeholder:"producer@example.com"})}),jsxRuntimeExports.jsx(InputGroup$3,{label:"Mobile (WhatsApp)",error:Oe.producerMobile,required:!0,children:jsxRuntimeExports.jsx("input",{...Ce("producerMobile"),className:"form-input",placeholder:"+91..."})}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx(InputGroup$3,{label:"Full Address",error:Oe.producerAddress,required:!0,children:jsxRuntimeExports.jsx("textarea",{...Ce("producerAddress"),className:"form-textarea",rows:"3",placeholder:"Registered office address..."})})})]})]})]})}),jsxRuntimeExports.jsxs(SectionBlock$3,{title:"Cast & Creative",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 mb-6",children:[jsxRuntimeExports.jsx(InputGroup$3,{label:"Director Name",error:Oe.directorName,required:!0,children:jsxRuntimeExports.jsx("input",{...Ce("directorName"),className:"form-input",placeholder:"Director Name"})}),jsxRuntimeExports.jsx(InputGroup$3,{label:"Main Cast",error:Oe.mainCast,required:!0,children:jsxRuntimeExports.jsx("input",{...Ce("mainCast"),className:"form-input",placeholder:"e.g. Actor A, Actor B..."})})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-1",children:[jsxRuntimeExports.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center gap-1",children:["Synopsis",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("span",{className:`text-xs ${Ge>100?"text-red-500 font-bold":"text-gray-500"}`,children:[Ge,"/100 words"]})]}),jsxRuntimeExports.jsx("textarea",{...Ce("synopsis"),className:`form-textarea h-32 ${Oe.synopsis?"ring-red-500 border-red-500":""}`,placeholder:"Brief summary of the project (max 100 words)..."}),Oe.synopsis&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 mt-1.5 text-red-500 text-xs",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:Oe.synopsis.message})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-4 pt-10 border-t border-gray-200",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Me(),className:"px-6 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-200 transition-all",children:"Reset Form"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:e,className:"inline-flex items-center justify-center px-8 py-2.5 text-sm font-semibold text-white bg-[#891737] rounded hover:bg-[#70122d] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#891737] disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Submit Application ",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-2 w-4 h-4"})]})})]})]})]}),jsxRuntimeExports.jsx("style",{children:`
        .form-input, .form-select, .form-textarea {
          width: 100%;
          background-color: #ffffff;
          border: 1px solid #e5e7eb;
          border-radius: 0.5rem;
          padding: 0.75rem 1rem;
          font-size: 1rem;
          color: #1f2937;
          transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }
        .form-input:focus, .form-select:focus, .form-textarea:focus {
          outline: none;
          border-color: #891737;
          box-shadow: 0 0 0 1px #891737;
        }
        .form-input::placeholder, .form-textarea::placeholder {
          color: #9ca3af;
        }
        .form-select {
          appearance: none;
          background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
          background-position: right 0.75rem center;
          background-repeat: no-repeat;
          background-size: 1.5em 1.5em;
          padding-right: 2.5rem;
        }
      `}),jsxRuntimeExports.jsx(UniversalPreviewModal,{isOpen:Be,onClose:()=>ze(!1),onConfirm:qe,title:"PROJECT DETAILS PREVIEW (ANNEXURE 1)",isSubmitting:e,data:{"Project Overview":{Title:De("projectTitle"),Type:De("projectType"),Language:De("language"),Genre:De("genre"),Duration:`${De("duration")} mins`},"Production Details":{"Producer Name":De("producerName"),"Production House":De("productionHouse"),Budget:`â‚¹${De("approxBudget")}`,"Est. Expenditure (Bihar)":`â‚¹${De("approxExpenditureBihar")}`},"Shooting Schedule":{"Total Days":De("totalShootingDays"),"Days in Bihar":De("biharShootingDays"),Location:De("shootingLocation"),Dates:`${De("shootingStartDate")} to ${De("shootingEndDate")}`,Manpower:De("estimatedManpower")},"Key Personnel":{"Line Producer":`${De("lineProducerName")} (${De("lineProducerContact")})`,"Executive Producer":`${De("producerContactName")} - ${De("producerDesignation")}`,"Producer Email":De("producerEmail"),"Producer Mobile":De("producerMobile")},"Cast & Creative":{Director:De("directorName"),"Main Cast":De("mainCast"),Synopsis:De("synopsis")}}})]})},SectionBlock$3=({title:Re,children:e})=>jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 border-b border-gray-100 pb-2",children:[jsxRuntimeExports.jsx("div",{className:"w-1 h-6 bg-[#891737]"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:Re})]}),jsxRuntimeExports.jsx("div",{className:"",children:e})]}),InputGroup$3=({label:Re,error:e,required:Ee,children:Ce})=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1.5 min-w-0",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-gray-700 flex items-center justify-between",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[Re,Ee&&jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]})}),jsxRuntimeExports.jsx("div",{className:"relative group",children:Ce}),e&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-xs mt-1",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:e.message})]})]}),ALPHA=/^[A-Za-z\s]+$/,ALPHANUM=/^[A-Za-z0-9\s]+$/,MOBILE=/^[6-9]\d{9}$/,schema$2=object({typeOfProject:string().min(1,"Required").regex(ALPHA,"Only alphabets are allowed"),language:string().min(1,"Required").regex(ALPHA,"Only alphabets are allowed"),genre:string().min(1,"Required").regex(ALPHA,"Only alphabets are allowed"),duration:number().positive("Required"),title:string().min(1,"Required").regex(ALPHANUM,"Only letters and numbers are allowed (no special characters)"),directorAndCast:string().min(1,"Required").regex(ALPHA,"Only alphabets are allowed"),synopsis:string().min(1,"Synopsis is required").refine(Re=>Re.trim().split(/\s+/).length<=250,"Max 250 words"),productionHouse:string().min(1,"Required").regex(ALPHANUM,"Only letters and numbers are allowed (no special characters)"),productionAddress:string().min(5,"Address too short"),productionContact:string().min(1,"Required").regex(MOBILE,"Only numbers are allowed"),productionEmail:string().min(1,"Required").email(),constitution:string().min(1,"Required").regex(ALPHA,"Only alphabets are allowed"),registrationDetails:string().min(1,"Required").regex(ALPHANUM,"Only letters and numbers are allowed (no special characters)"),representativeName:string().min(1,"Required").regex(ALPHA,"Only alphabets are allowed"),designation:string().min(1,"Required").regex(ALPHA,"Only alphabets are allowed"),applicantAddress:string().min(5,"Address too short"),applicantContact:string().min(1,"Required").regex(MOBILE,"Only numbers are allowed"),applicantEmail:string().min(1,"Required").email(),mainArtists:string().min(1,"Required").regex(ALPHA,"Only alphabets are allowed"),totalLocations:number().positive("Required"),drone:_enum(["Yes","No"],{errorMap:()=>({message:"Required"})}),animal:_enum(["Yes","No"],{errorMap:()=>({message:"Required"})}),fireScene:_enum(["Yes","No"],{errorMap:()=>({message:"Required"})}),temporaryStructure:_enum(["Yes","No"],{errorMap:()=>({message:"Required"})}),otherDetails:string().optional(),lineProducerDetails:string().optional(),policeSecurityDetails:string().optional(),contactInCharge:string().min(1,"Required").regex(ALPHA,"Only alphabets are allowed"),brandingDetails:string().optional(),mibPermission:any().optional(),competentAuthorityPermission:any().optional(),otherParticulars:string().optional(),authorizedName:string().min(1,"Required").regex(ALPHA,"Only alphabets are allowed"),sealFile:any().refine(Re=>Re&&Re.length>0,"File is required"),signatureFile:any().refine(Re=>Re&&Re.length>0,"File is required")});function Annexure2Form({activeApplication:Re,onSubmit:e}){const[Ee,Ce]=reactExports.useState(1),[Te,De]=reactExports.useState(!1),{register:Me,handleSubmit:Oe,trigger:Be,getValues:ze,resetField:Ve,formState:{errors:qe}}=useForm({resolver:a(schema$2),mode:"onChange"}),We={1:["typeOfProject","language","genre","duration","title","directorAndCast","synopsis"],2:["productionHouse","productionAddress","productionContact","productionEmail","constitution","registrationDetails","representativeName","designation","applicantAddress","applicantContact","applicantEmail"],3:["mainArtists","totalLocations","drone","animal","fireScene","temporaryStructure","otherDetails","lineProducerDetails","policeSecurityDetails","contactInCharge","brandingDetails"],4:["mibPermission","competentAuthorityPermission","otherParticulars","authorizedName","sealFile","signatureFile"]},Ge=async()=>{const is=We[Ee];await Be(is)&&Ce(hs=>hs+1)},Je=()=>Ce(is=>is-1),Qe=()=>{We[Ee].forEach(os=>Ve(os))},ns=is=>{const os=Object.keys(is)[0];if(os){const hs=Object.keys(We).find(fs=>We[fs].includes(os));hs&&(Ce(Number(hs)),alert(`Please complete required fields in Step ${hs}`))}},[Ye,rs]=reactExports.useState(!1),ts=()=>{if(!Re||!Re.id){alert("No active application found.");return}rs(!0)},Xe=async()=>{const is=ze();De(!0);try{const os=new FormData;if(os.append("typeOfProject",is.typeOfProject),os.append("language",is.language),os.append("genre",is.genre),os.append("duration",is.duration.toString()),os.append("title",is.title),os.append("directorAndMainCast",is.directorAndCast),os.append("producerHouse",is.productionHouse),os.append("synopsis",is.synopsis),os.append("contactOfProductionHouse",is.productionContact),os.append("productionHouseAddress",is.productionAddress),os.append("emailOfProductionHouse",is.productionEmail),os.append("productionHouseConstitution",is.constitution),os.append("registrationNumber",is.registrationDetails),os.append("representativeName",is.representativeName),os.append("designationOfApplicant",is.designation),os.append("addressOfApplicant",is.applicantAddress),os.append("contactOfApplicant",is.applicantContact),os.append("emailOfApplicant",is.applicantEmail),os.append("briefSynopsis",is.synopsis),os.append("mainArtistsAtLocation",is.mainArtists),os.append("numberOfShootingLocations",is.totalLocations.toString()),os.append("dronePermissionRequired",is.drone==="Yes"?"true":"false"),os.append("animalPartOfShooting",is.animal==="Yes"?"true":"false"),os.append("fireOrBlastingScene",is.fireScene==="Yes"?"true":"false"),os.append("temporaryStructureCreation",is.temporaryStructure==="Yes"?"true":"false"),is.otherDetails&&os.append("otherDetails",is.otherDetails),is.lineProducerDetails&&os.append("lineProducerDetails",is.lineProducerDetails),is.policeSecurityDetails&&os.append("policeOrSecurityRequirement",is.policeSecurityDetails),is.contactInCharge&&os.append("siteContactPersonDetails",is.contactInCharge),is.brandingDetails){const fs=os.get("otherDetails")||"";os.set("otherDetails",fs?`${fs} | Branding: ${is.brandingDetails}`:`Branding: ${is.brandingDetails}`)}if(os.append("authorizedApplicantName",is.authorizedName),is.mibPermission&&is.mibPermission[0]&&os.append("mibCertificate",is.mibPermission[0]),is.competentAuthorityPermission&&is.competentAuthorityPermission[0]&&os.append("meaCertificate",is.competentAuthorityPermission[0]),is.otherParticulars){const fs=os.get("otherDetails")||"";os.set("otherDetails",fs?`${fs} | Particulars: ${is.otherParticulars}`:`Particulars: ${is.otherParticulars}`)}is.sealFile&&is.sealFile[0]&&os.append("seal",is.sealFile[0]),is.signatureFile&&is.signatureFile[0]&&os.append("signature",is.signatureFile[0]),console.log("Submitting NOC Payload for App ID:",Re.id);const hs=await api.post(`/api/noc/applications/${Re.id}/noc-form`,os,{headers:{"Content-Type":"multipart/form-data"}});hs.data.success?(alert("NOC Form Submitted Successfully!"),e&&e(),rs(!1)):(alert(hs.data.message||"Submission failed."),rs(!1))}catch(os){console.error("Submission Error:",os);let hs="An error occurred.";os.response&&(hs=os.response.data.message||hs,os.response.status===400?hs=`Validation Error: ${hs}`:os.response.status===409&&(hs="Already Submitted: This application already has a NOC form.")),alert(hs),rs(!1)}finally{De(!1)}};return jsxRuntimeExports.jsxs("div",{className:"max-w-5xl mx-auto py-10 space-y-8",children:[jsxRuntimeExports.jsx("div",{className:"text-center mb-10 border-b border-gray-100 pb-8",children:jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 uppercase",children:"Application form for seeking permission to shoot in bihar"})}),jsxRuntimeExports.jsx(Stepper,{currentStep:Ee,onStepClick:Ce}),Ee===1&&jsxRuntimeExports.jsxs(Card,{title:"Step 1: Project Details",children:[jsxRuntimeExports.jsxs(Grid,{children:[jsxRuntimeExports.jsx(Alpha,{label:"1. Type of Project",name:"typeOfProject",placeholder:"e.g. Feature Film, Documentary",register:Me,error:qe}),jsxRuntimeExports.jsx(Alpha,{label:"2. Language of the Film/Project",name:"language",placeholder:"e.g. Hindi, Bhojpuri",register:Me,error:qe}),jsxRuntimeExports.jsx(Alpha,{label:"3. Genre",name:"genre",placeholder:"e.g. Drama, Action",register:Me,error:qe}),jsxRuntimeExports.jsx(NumberInput,{label:"4. Duration of Project (minutes)",name:"duration",placeholder:"e.g. 120",register:Me,error:qe}),jsxRuntimeExports.jsx(AlphaNum,{label:"5. Title of Project",name:"title",placeholder:"e.g. The Bihar Story",register:Me,error:qe}),jsxRuntimeExports.jsx(Alpha,{label:"6. Director and Main Cast Names",name:"directorAndCast",placeholder:"e.g. Director: John Doe, Cast: Jane Doe",register:Me,error:qe})]}),jsxRuntimeExports.jsx(Textarea,{label:"7. Synopsis of Project (In 250 Words)",name:"synopsis",placeholder:"Brief summary of the project...",register:Me,error:qe})]}),Ee===2&&jsxRuntimeExports.jsx(Card,{title:"Step 2: Production & Applicant Details",children:jsxRuntimeExports.jsxs(Grid,{children:[jsxRuntimeExports.jsx(AlphaNum,{label:"8. Production House",name:"productionHouse",placeholder:"e.g. ABC Productions",register:Me,error:qe}),jsxRuntimeExports.jsx(Input,{label:"9. Address of the production house",name:"productionAddress",placeholder:"Full address",register:Me,error:qe}),jsxRuntimeExports.jsx(Mobile,{label:"10. Contact of the production house",name:"productionContact",placeholder:"+91...",register:Me,error:qe}),jsxRuntimeExports.jsx(Input,{label:"11. E-mail ID of the production house",name:"productionEmail",placeholder:"example@domain.com",register:Me,error:qe}),jsxRuntimeExports.jsx(Alpha,{label:"12. Production House Constitution",name:"constitution",placeholder:"Proprietorship, Partnership, Company",register:Me,error:qe}),jsxRuntimeExports.jsx(AlphaNum,{label:"13. Details of Constitution/ Registration no.",name:"registrationDetails",placeholder:"Registration Number",register:Me,error:qe}),jsxRuntimeExports.jsx(Alpha,{label:"14. Representative Name (Attach Authorization letter)",name:"representativeName",placeholder:"Name of representative",register:Me,error:qe}),jsxRuntimeExports.jsx(Alpha,{label:"15. Designation of the applicant",name:"designation",placeholder:"e.g. Producer, Manager",register:Me,error:qe}),jsxRuntimeExports.jsx(Input,{label:"16. Address of the applicant",name:"applicantAddress",placeholder:"Full address",register:Me,error:qe}),jsxRuntimeExports.jsx(Mobile,{label:"17. Contact of the applicant",name:"applicantContact",placeholder:"+91...",register:Me,error:qe}),jsxRuntimeExports.jsx(Input,{label:"18. E-mail ID of the applicant",name:"applicantEmail",placeholder:"applicant@domain.com",register:Me,error:qe})]})}),Ee===3&&jsxRuntimeExports.jsxs(Card,{title:"Step 3: Shooting Specifics",children:[jsxRuntimeExports.jsxs(Grid,{children:[jsxRuntimeExports.jsx(Alpha,{label:"19. Main Artist/s at shooting Location (Names only)",name:"mainArtists",placeholder:"List main artists",register:Me,error:qe}),jsxRuntimeExports.jsx(NumberInput,{label:"20. Total Number of Shooting Locations",name:"totalLocations",placeholder:"e.g. 5",register:Me,error:qe})]}),jsxRuntimeExports.jsx("div",{className:"space-y-4 border-t pt-4 mt-2",children:jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx(YesNo,{label:"21. Is Drone Permission required",name:"drone",register:Me,error:qe}),jsxRuntimeExports.jsx(YesNo,{label:"22. Whether any animal is part of shooting",name:"animal",register:Me,error:qe}),jsxRuntimeExports.jsx(YesNo,{label:"23. Is there any fire/blasting scene in the script",name:"fireScene",register:Me,error:qe}),jsxRuntimeExports.jsx(YesNo,{label:"24. Is there any temporary structure to be created",name:"temporaryStructure",register:Me,error:qe})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-6 space-y-4",children:[jsxRuntimeExports.jsx(Textarea,{label:"25. Other Details (Road Blocks, set creation, special assistance etc.)",name:"otherDetails",placeholder:"Enter details if any...",register:Me,error:qe}),jsxRuntimeExports.jsx(Textarea,{label:"26. Details of Line Producer (Name, Contact, E-mail, Address)",name:"lineProducerDetails",placeholder:"Enter Line Producer details...",register:Me,error:qe}),jsxRuntimeExports.jsx(Input,{label:"27. Details/No. of Police convoy/security person need",name:"policeSecurityDetails",placeholder:"Enter requirements...",register:Me,error:qe}),jsxRuntimeExports.jsx(Alpha,{label:"28. Contact details of person in charge (for BSFDFC official)",name:"contactInCharge",placeholder:"Name and Contact",register:Me,error:qe}),jsxRuntimeExports.jsx(Textarea,{label:"29. In case of In-Film Branding or using any Assets/Name/Place...",name:"brandingDetails",placeholder:"Enter branding details...",register:Me,error:qe})]})]}),Ee===4&&jsxRuntimeExports.jsx(Card,{title:"Step 4: Permissions & Declaration",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-yellow-800 mb-2",children:"Foreign/International Productions (Optional)"}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-1 gap-6",children:[jsxRuntimeExports.jsx(File$1,{label:"30. In case of International Film, Web Series and TV Serials shooting - Enclose shoot Permission Certificate issued by the MIB (Ministry of Information & Broadcasting)",name:"mibPermission",register:Me,error:qe}),jsxRuntimeExports.jsx(File$1,{label:"31. In case of International Documentary, AV Commercial and Music Videos shooting - Enclose shoot Permission Certificate issued by the competent authority",name:"competentAuthorityPermission",register:Me,error:qe})]})]}),jsxRuntimeExports.jsx(Textarea,{label:"32. Other particular (if any)",name:"otherParticulars",placeholder:"Any other information...",register:Me,error:qe}),jsxRuntimeExports.jsxs("div",{className:"border-t pt-6 mt-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-[#891737] mb-4",children:"Declaration"}),jsxRuntimeExports.jsxs(Grid,{children:[jsxRuntimeExports.jsx(Alpha,{label:"Name of Authorized Applicant",name:"authorizedName",placeholder:"Full Name",register:Me,error:qe}),jsxRuntimeExports.jsx(File$1,{label:"Upload Seal",name:"sealFile",register:Me,error:qe}),jsxRuntimeExports.jsx(File$1,{label:"Upload Signature",name:"signatureFile",register:Me,error:qe})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between pt-6 border-t border-gray-100",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Qe,className:"px-6 py-3 rounded-lg border border-gray-300 text-gray-700 font-medium hover:bg-gray-50 transition-colors shadow-sm",children:"Clear Step"}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[Ee>1&&jsxRuntimeExports.jsx("button",{onClick:Je,className:"px-8 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-all duration-300 font-medium shadow-sm hover:shadow",children:"Back"}),Ee<4?jsxRuntimeExports.jsx("button",{onClick:Ge,className:"px-8 py-3 bg-[#891737] text-white rounded-lg hover:bg-[#70122d] transition-all duration-300 font-medium shadow-md hover:shadow-lg flex items-center gap-2",children:"Save And Continue"}):jsxRuntimeExports.jsx("button",{onClick:Oe(ts,ns),className:"px-8 py-3 bg-[#891737] text-white rounded-lg hover:bg-[#70122d] transition-all duration-300 font-medium shadow-md hover:shadow-lg flex items-center gap-2 min-w-[200px] justify-center disabled:opacity-70 disabled:cursor-not-allowed",disabled:Te,children:Te?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting Application..."]}):"Submit Application"})]})]}),jsxRuntimeExports.jsx(Styles,{}),jsxRuntimeExports.jsx(UniversalPreviewModal,{isOpen:Ye,onClose:()=>rs(!1),onConfirm:Xe,data:{"Project Details":{"Type of Project":ze("typeOfProject"),Language:ze("language"),Genre:ze("genre"),"Duration (min)":ze("duration"),Title:ze("title"),"Director & Cast":ze("directorAndCast"),Synopsis:ze("synopsis")},"Production Info":{"Production House":ze("productionHouse"),Address:ze("productionAddress"),Contact:ze("productionContact"),Email:ze("productionEmail"),Constitution:ze("constitution"),"Registration No":ze("registrationDetails"),Representative:ze("representativeName"),Designation:ze("designation")},"Applicant Info":{Address:ze("applicantAddress"),Contact:ze("applicantContact"),Email:ze("applicantEmail")},"Shooting Specs":{"Main Artists":ze("mainArtists"),"Total Locations":ze("totalLocations"),"Drone Required?":ze("drone"),"Animals Used?":ze("animal"),"Fire/Blasting?":ze("fireScene"),"Temp Structure?":ze("temporaryStructure"),"Line Producer":ze("lineProducerDetails")||"N/A","Police/Security":ze("policeSecurityDetails")||"N/A",Branding:ze("brandingDetails")||"N/A"},Declaration:{"Authorized Applicant":ze("authorizedName"),"Other Particulars":ze("otherParticulars")||"N/A"}},title:"Application Preview - Annexure 2",isSubmitting:Te})]})}const Stepper=({currentStep:Re,onStepClick:e})=>{const Ee=[{number:1,title:"Project Details"},{number:2,title:"Production Info"},{number:3,title:"Shooting Specs"},{number:4,title:"Uploads"}];return jsxRuntimeExports.jsx("div",{className:"mb-12",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:Ee.map((Ce,Te)=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center z-10 cursor-pointer",onClick:()=>e(Ce.number),children:[jsxRuntimeExports.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300 border-2 ${Re===Ce.number?"bg-[#891737] border-[#891737] text-white ring-4 ring-[#891737]/10":Re>Ce.number?"bg-[#891737] border-[#891737] text-white":"bg-white border-gray-300 text-gray-400"}`,children:Re>Ce.number?jsxRuntimeExports.jsx(CircleCheck,{className:"w-5 h-5"}):Ce.number}),jsxRuntimeExports.jsx("p",{className:`mt-2 text-xs font-medium tracking-wide uppercase ${Re===Ce.number||Re>Ce.number?"text-[#891737]":"text-gray-400"}`,children:Ce.title})]}),Te<Ee.length-1&&jsxRuntimeExports.jsx("div",{className:`w-16 md:w-24 h-0.5 -mx-3 mb-6 transition-all duration-300 ${Re>Ce.number?"bg-[#891737]":"bg-gray-200"}`})]},Ce.number))})})},Card=({title:Re,children:e})=>jsxRuntimeExports.jsxs("div",{className:"space-y-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 border-b border-gray-100 pb-2",children:[jsxRuntimeExports.jsx("div",{className:"w-1 h-6 bg-[#891737]"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:Re})]}),jsxRuntimeExports.jsx("div",{className:"",children:e})]}),InputGroup$2=({label:Re,error:e,required:Ee,children:Ce})=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1.5 min-w-0",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-gray-700 flex items-center justify-between",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[Re,Ee&&jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]})}),jsxRuntimeExports.jsx("div",{className:"relative group",children:Ce}),(e==null?void 0:e.message)&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-xs mt-1 animate-in fade-in",children:[jsxRuntimeExports.jsx(CircleX,{size:12}),jsxRuntimeExports.jsx("span",{children:e.message})]})]}),Grid=({children:Re})=>jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:Re}),Alpha=({label:Re,name:e,register:Ee,error:Ce,placeholder:Te})=>jsxRuntimeExports.jsx(InputGroup$2,{label:Re,error:Ce==null?void 0:Ce[e],required:!0,children:jsxRuntimeExports.jsx("input",{...Ee(e),className:"form-input",placeholder:Te||Re})}),AlphaNum=({label:Re,name:e,register:Ee,error:Ce,placeholder:Te})=>jsxRuntimeExports.jsx(InputGroup$2,{label:Re,error:Ce==null?void 0:Ce[e],required:!0,children:jsxRuntimeExports.jsx("input",{...Ee(e),className:"form-input",placeholder:Te||Re})}),Mobile=({label:Re,name:e,register:Ee,error:Ce,placeholder:Te})=>jsxRuntimeExports.jsx(InputGroup$2,{label:Re,error:Ce==null?void 0:Ce[e],required:!0,children:jsxRuntimeExports.jsx("input",{...Ee(e),className:"form-input",placeholder:Te||"+91...",maxLength:10,inputMode:"numeric"})}),NumberInput=({label:Re,name:e,register:Ee,error:Ce,placeholder:Te})=>jsxRuntimeExports.jsx(InputGroup$2,{label:Re,error:Ce==null?void 0:Ce[e],required:!0,children:jsxRuntimeExports.jsx("input",{type:"number",min:"0",...Ee(e),className:"form-input",placeholder:Te||"0"})}),Input=({label:Re,name:e,register:Ee,error:Ce,placeholder:Te,type:De="text"})=>jsxRuntimeExports.jsx(InputGroup$2,{label:Re,error:Ce==null?void 0:Ce[e],required:!0,children:jsxRuntimeExports.jsx("input",{type:De,...Ee(e),className:"form-input",placeholder:Te||Re})}),YesNo=({label:Re,name:e,register:Ee,error:Ce})=>jsxRuntimeExports.jsx(InputGroup$2,{label:Re,error:Ce==null?void 0:Ce[e],required:!0,children:jsxRuntimeExports.jsxs("select",{...Ee(e),className:"form-select",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Option"}),jsxRuntimeExports.jsx("option",{value:"Yes",children:"Yes"}),jsxRuntimeExports.jsx("option",{value:"No",children:"No"})]})}),File$1=({label:Re,name:e,register:Ee,error:Ce})=>jsxRuntimeExports.jsx(InputGroup$2,{label:Re,error:Ce==null?void 0:Ce[e],required:!0,children:jsxRuntimeExports.jsx("input",{type:"file",...Ee(e),className:"block w-full text-base text-gray-600 file:mr-4 file:py-2.5 file:px-6 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-[#891737] file:text-white hover:file:bg-[#70122d] file:transition-colors cursor-pointer border border-gray-300 rounded-lg p-1.5 focus:outline-none focus:ring-1 focus:ring-[#891737]"})}),Textarea=({label:Re,name:e,register:Ee,error:Ce,placeholder:Te})=>jsxRuntimeExports.jsx(InputGroup$2,{label:Re,error:Ce==null?void 0:Ce[e],required:!0,children:jsxRuntimeExports.jsx("textarea",{...Ee(e),className:"form-textarea h-32 resize-none",placeholder:Te||"Enter details..."})}),Styles=()=>jsxRuntimeExports.jsx("style",{children:`
    .form-input, .form-select, .form-textarea {
      width: 100%;
      background-color: #ffffff;
      border: 1px solid #e5e7eb;
      border-radius: 0.5rem;
      padding: 0.75rem 1rem;
      font-size: 1rem;
      color: #1f2937;
      transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
    }
    .form-input:focus, .form-select:focus, .form-textarea:focus {
      outline: none;
      border-color: #891737;
      box-shadow: 0 0 0 1px #891737;
    }
    .form-input::placeholder, .form-textarea::placeholder {
      color: #9ca3af;
    }
    .form-select {
      appearance: none;
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
      background-position: right 0.75rem center;
      background-repeat: no-repeat;
      background-size: 1.5em 1.5em;
      padding-right: 2.5rem;
    }
  `}),schema$1=object({location:string().min(1,"Location is required").min(3,"Location must be at least 3 characters"),landmark:string().min(1,"Landmark is required").min(3,"Landmark must be at least 3 characters"),locationType:_enum(["indoor","outdoor","both"],{errorMap:()=>({message:"Please select a location type"})}),startDateTime:string().min(1,"Start date and time is required").refine(Re=>{const e=new Date(Re),Ee=new Date;return e>=new Date(Ee.getTime()-6e4)},{message:"Start time cannot be in the past"}),endDateTime:string().min(1,"End date and time is required").refine(Re=>{const e=new Date(Re),Ee=new Date;return e>=new Date(Ee.getTime()-6e4)},{message:"End time cannot be in the past"}),crewPublicInvolvement:string().min(1,"Please specify crew/public involvement").min(5,"Provide more details"),personCount:number({invalid_type_error:"Required"}).int("Must be a whole number").positive("Must be a positive number"),permissionDetails:string().min(1,"Permission details are required").min(10,"Provide more details about permissions needed"),locationFees:number({invalid_type_error:"Required"}).nonnegative("Cannot be negative"),securityDeposit:number({invalid_type_error:"Required"}).nonnegative("Cannot be negative"),paymentReference:string().min(1,"Payment reference number or DD number is required"),locationManagerName:string().min(1,"Location manager name is required"),locationManagerPhone:string().min(10,"Valid phone number required"),locationManagerEmail:string().min(1,"Email is required").email("Invalid email address"),sceneDetails:string().min(10,"Scene details are too short").refine(Re=>Re.trim().split(/\s+/).length<=100,{message:"Scene details must not exceed 100 words"}),isForestArea:_enum(["yes","no"],{errorMap:()=>({message:"Please specify if location is a forest area"})}),forestType:union([string(),array(string())]).optional(),forestDetails:string().optional(),applicantName:string().min(1,"Authorized applicant name is required"),applicantDate:string().min(1,"Date is required")}).refine(Re=>Re.startDateTime&&Re.endDateTime?new Date(Re.endDateTime)>=new Date(Re.startDateTime):!0,{message:"End date and time must be after start date and time",path:["endDateTime"]}).refine(Re=>Re.isForestArea==="yes"?Re.forestType&&Re.forestType.length>0:!0,{message:"Forest type is required when location is a forest area",path:["forestType"]}),AnnextureA=({activeApplication:Re})=>{const[e,Ee]=reactExports.useState(!1),[Ce,Te]=reactExports.useState(null),[De,Me]=reactExports.useState(1),[Oe,Be]=reactExports.useState(0),[ze,Ve]=reactExports.useState([]),[qe,We]=reactExports.useState(!1);reactExports.useEffect(()=>{(async()=>{var ps;if(console.log("Using Active Application ID:",Re==null?void 0:Re.id),!(Re!=null&&Re.id)){console.warn("No Active Application ID found");return}try{We(!0);let _s=1;try{console.log("Attempting to fetch specific NOC form...");const ws=await api.get(`/api/noc/applications/${Re.id}/noc-form`);if(console.log("Specific NOC Response:",ws.data),ws.data.success&&ws.data.data){const js=ws.data.data;if(js.numberOfShootingLocations){console.log("Found location count in specific NOC:",js.numberOfShootingLocations),Me(Number(js.numberOfShootingLocations));return}}}catch(ws){console.warn("Specific NOC fetch failed, trying generic list...",ws)}try{const ws=await api.get("/api/noc/my-forms");if(console.log("All NOCs Response:",ws.data),ws.data.success&&Array.isArray(ws.data.data)){const js=ws.data.data.find(ms=>ms.applicationId===Re.id||ms.application&&ms.application.id===Re.id||ms.application===Re.id);if(js&&js.numberOfShootingLocations){console.log("Found matching NOC in list. Locations:",js.numberOfShootingLocations),Me(Number(js.numberOfShootingLocations));return}}}catch(ws){console.error("Failed to fetch NOC list",ws)}if((ps=Re==null?void 0:Re.nocForm)!=null&&ps.numberOfShootingLocations){console.log("Using prop fallback:",Re.nocForm.numberOfShootingLocations),Me(Number(Re.nocForm.numberOfShootingLocations));return}console.warn("Could not determine detailed location count. Defaulting to 1."),Me(1)}catch(_s){console.error("Critical error in data fetch",_s),Me(1)}finally{We(!1)}})()},[Re==null?void 0:Re.id]);const{register:Ge,handleSubmit:Je,watch:Qe,reset:ns,formState:{errors:Ye},control:rs,trigger:ts}=useForm({resolver:a(schema$1),mode:"onChange",defaultValues:{locationType:"outdoor",isForestArea:"no",locationFees:0,securityDeposit:0,personCount:0}}),Xe=Qe("isForestArea"),is=Qe("sceneDetails")||"",os=is.trim()===""?0:is.trim().split(/\s+/).length,hs=new Date().toISOString().split("T")[0],fs=new Date;new Date(fs.getTime()-fs.getTimezoneOffset()*6e4).toISOString().slice(0,16);const[xs,Ss]=reactExports.useState(!1),[ds,gs]=reactExports.useState(null),Ts=Ns=>{if(!Re||!Re.id){alert("No active application found.");return}gs(Ns),Ss(!0)},Ds=async()=>{const Ns=ds;Ss(!1);const ps={location:Ns.location,landmark:Ns.landmark,locationType:Ns.locationType.charAt(0).toUpperCase()+Ns.locationType.slice(1),startDateTime:new Date(Ns.startDateTime).toISOString(),endDateTime:new Date(Ns.endDateTime).toISOString(),crewInvolvement:Ns.crewPublicInvolvement,personCount:parseInt(Ns.personCount),permissionDetails:Ns.permissionDetails,locationFee:`â‚¹${Ns.locationFees}`,securityDeposit:`â‚¹${Ns.securityDeposit}`,paymentRef:Ns.paymentReference,locationManager:`${Ns.locationManagerName} (${Ns.locationManagerPhone}, ${Ns.locationManagerEmail})`,sceneDetails:Ns.sceneDetails,forestType:Ns.isForestArea==="yes"&&Ns.forestType?Array.isArray(Ns.forestType)?Ns.forestType.join(", "):Ns.forestType:null,forestDetails:Ns.isForestArea==="yes"?Ns.forestDetails:null,applicantName:Ns.applicantName,applicantDate:Ns.applicantDate},_s=[...ze,ps];if(Ve(_s),Oe<De-1)confirm(`Location ${Oe+1} saved. Proceed to Location ${Oe+2}?`)&&(Be(ws=>ws+1),ns(),Te(null),window.scrollTo(0,0));else{Ee(!0);try{const ws={locations:_s};console.log("Submitting Annexure A Payload:",JSON.stringify(ws,null,2));const js=await api.post(`/api/annexureA/applications/${Re.id}/annexure-a`,ws);js.data.success?(alert("Annexure A Submitted Successfully!"),ns(),Ve([]),Be(0)):alert(js.data.message||"Submission failed.")}catch(ws){console.error("Submission Error:",ws);let js="An error occurred.";ws.response&&(js=ws.response.data.message||js,ws.response.status===400?js=`Validation Error: ${js}`:ws.response.status===409&&(js="Already Submitted: Annexure A already exists for this application.")),alert(js),Ve(ze)}finally{Ee(!1)}}},Ms=Ns=>{var _s;const ps=(_s=Ns.target.files)==null?void 0:_s[0];if(ps){const ws=new FileReader;ws.onloadend=()=>{Te(ws.result)},ws.readAsDataURL(ps)}},bs=Ns=>{console.error("Validation Errors:",Ns);const ps=Object.values(Ns)[0];if(ps){alert(`Validation Error: ${ps.message}`);const _s=document.querySelector(`[name="${Object.keys(Ns)[0]}"]`);_s&&(_s.scrollIntoView({behavior:"smooth",block:"center"}),_s.focus())}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen pt-4 pb-12 px-4 sm:px-6 lg:px-8 bg-white font-sans",children:[jsxRuntimeExports.jsxs("div",{className:"max-w-5xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-10 border-b border-gray-100 pb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 uppercase",children:"Annexure-A: Location Detail Format"}),jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center gap-2 mt-4",children:jsxRuntimeExports.jsxs("span",{className:"bg-[#891737] text-white px-3 py-1 rounded-full text-xs font-bold",children:["Location ",Oe+1," of ",De]})}),jsxRuntimeExports.jsxs("p",{className:"text-gray-500 max-w-2xl mx-auto text-sm mt-2",children:["Please fill details for Location #",Oe+1]})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Je(Ts,bs),className:"space-y-8 animate-in fade-in duration-500",children:[jsxRuntimeExports.jsx(SectionBlock$2,{title:"Location Information",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[jsxRuntimeExports.jsx(InputGroup$1,{label:"Location",error:Ye.location,required:!0,children:jsxRuntimeExports.jsx("input",{...Ge("location"),className:"form-input",placeholder:"Enter location name"})}),jsxRuntimeExports.jsx(InputGroup$1,{label:"Landmark",error:Ye.landmark,required:!0,children:jsxRuntimeExports.jsx("input",{...Ge("landmark"),className:"form-input",placeholder:"Enter nearby landmark"})}),jsxRuntimeExports.jsx(InputGroup$1,{label:"Location Type",error:Ye.locationType,required:!0,children:jsxRuntimeExports.jsxs("select",{...Ge("locationType"),className:"form-select",children:[jsxRuntimeExports.jsx("option",{value:"indoor",children:"Indoor"}),jsxRuntimeExports.jsx("option",{value:"outdoor",children:"Outdoor"}),jsxRuntimeExports.jsx("option",{value:"both",children:"Both"})]})})]})}),jsxRuntimeExports.jsx(SectionBlock$2,{title:"Date & Time Details",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[jsxRuntimeExports.jsx(InputGroup$1,{label:"Start Date & Time",error:Ye.startDateTime,required:!0,children:jsxRuntimeExports.jsx("input",{type:"datetime-local",...Ge("startDateTime"),className:"form-input"})}),jsxRuntimeExports.jsx(InputGroup$1,{label:"Expected End Date & Time",error:Ye.endDateTime,required:!0,children:jsxRuntimeExports.jsx("input",{type:"datetime-local",...Ge("endDateTime"),className:"form-input"})})]})}),jsxRuntimeExports.jsx(SectionBlock$2,{title:"Personnel & Involvement",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[jsxRuntimeExports.jsx(InputGroup$1,{label:"Crew / Public Involvement",error:Ye.crewPublicInvolvement,required:!0,children:jsxRuntimeExports.jsx("textarea",{...Ge("crewPublicInvolvement"),className:"form-textarea h-24 pt-2 resize-none",placeholder:"Describe crew and public involvement..."})}),jsxRuntimeExports.jsx(InputGroup$1,{label:"Tentative Count (Persons & Extras)",error:Ye.personCount,required:!0,children:jsxRuntimeExports.jsx("input",{type:"number",...Ge("personCount"),className:"form-input",placeholder:"Total count",min:"1"})})]})}),jsxRuntimeExports.jsx(SectionBlock$2,{title:"Permissions & Fees",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(InputGroup$1,{label:"Details of Permission Required",error:Ye.permissionDetails,required:!0,children:jsxRuntimeExports.jsx("textarea",{...Ge("permissionDetails"),className:"form-textarea h-24 pt-2 resize-none",placeholder:"Specify what permissions are required..."})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[jsxRuntimeExports.jsx(InputGroup$1,{label:"Location Fees (â‚¹)",error:Ye.locationFees,required:!0,children:jsxRuntimeExports.jsx("input",{type:"number",...Ge("locationFees"),className:"form-input",placeholder:"0.00",min:"0",step:"0.01"})}),jsxRuntimeExports.jsx(InputGroup$1,{label:"Security Deposit (â‚¹)",error:Ye.securityDeposit,required:!0,children:jsxRuntimeExports.jsx("input",{type:"number",...Ge("securityDeposit"),className:"form-input",placeholder:"0.00",min:"0",step:"0.01"})})]}),jsxRuntimeExports.jsx(InputGroup$1,{label:"Payment Reference / DD Number",error:Ye.paymentReference,required:!0,children:jsxRuntimeExports.jsx("input",{...Ge("paymentReference"),className:"form-input",placeholder:"Reference or DD number"})})]})}),jsxRuntimeExports.jsx(SectionBlock$2,{title:"Location Manager Details",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[jsxRuntimeExports.jsx(InputGroup$1,{label:"Location Manager Name",error:Ye.locationManagerName,required:!0,children:jsxRuntimeExports.jsx("input",{...Ge("locationManagerName"),className:"form-input",placeholder:"Full name"})}),jsxRuntimeExports.jsx(InputGroup$1,{label:"Phone Number",error:Ye.locationManagerPhone,required:!0,children:jsxRuntimeExports.jsx("input",{type:"tel",...Ge("locationManagerPhone"),className:"form-input",placeholder:"..."})}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsx(InputGroup$1,{label:"Email Address",error:Ye.locationManagerEmail,required:!0,children:jsxRuntimeExports.jsx("input",{type:"email",...Ge("locationManagerEmail"),className:"form-input",placeholder:"email@example.com"})})})]})}),jsxRuntimeExports.jsx(SectionBlock$2,{title:"Scene Details",children:jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mb-1",children:[jsxRuntimeExports.jsxs("label",{className:"text-sm font-medium text-gray-700",children:["Scene Details (max 100 words)"," ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("span",{className:`text-xs ${os>100?"text-red-500 font-bold":"text-gray-500"}`,children:[os,"/100 words"]})]}),jsxRuntimeExports.jsx("textarea",{...Ge("sceneDetails"),className:`form-textarea h-32 pt-2 resize-none ${Ye.sceneDetails?"border-red-500 focus:ring-red-500":""}`,placeholder:"Describe the scenes to be shot at this location..."}),Ye.sceneDetails&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-xs mt-1",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:Ye.sceneDetails.message})]})]})}),jsxRuntimeExports.jsx(SectionBlock$2,{title:"Forest Area Details",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx(InputGroup$1,{label:"Is this location a forest area?",error:Ye.isForestArea,required:!0,children:jsxRuntimeExports.jsxs("div",{className:"flex gap-6 mt-2",children:[jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"radio",value:"yes",...Ge("isForestArea"),className:"cursor-pointer w-4 h-4 text-[#891737] focus:ring-[#891737]"}),jsxRuntimeExports.jsx("span",{className:"text-gray-700",children:"Yes"})]}),jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"radio",value:"no",...Ge("isForestArea"),className:"cursor-pointer w-4 h-4 text-[#891737] focus:ring-[#891737]"}),jsxRuntimeExports.jsx("span",{className:"text-gray-700",children:"No"})]})]})}),Xe==="yes"&&jsxRuntimeExports.jsxs("div",{className:"animate-in fade-in slide-in-from-top-4 space-y-6",children:[jsxRuntimeExports.jsx(InputGroup$1,{label:"Type of Forest Area",error:Ye.forestType,required:!0,children:jsxRuntimeExports.jsx("div",{className:"space-y-3 mt-2",children:["Reserve Forest","National Park","Buffer zone","Sanctuary","Zoo"].map(Ns=>jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",value:Ns,...Ge("forestType"),className:"cursor-pointer w-4 h-4 text-[#891737] rounded focus:ring-[#891737]"}),jsxRuntimeExports.jsx("span",{className:"text-gray-700",children:Ns})]},Ns))})}),jsxRuntimeExports.jsx(InputGroup$1,{label:"Mention Details of Forest Area",error:Ye.forestDetails,children:jsxRuntimeExports.jsx("textarea",{...Ge("forestDetails"),className:"form-textarea h-24 pt-2 resize-none",placeholder:"Provide details about the forest area..."})})]})]})}),jsxRuntimeExports.jsx(SectionBlock$2,{title:"Authorization & Signature",children:jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6",children:[jsxRuntimeExports.jsx(InputGroup$1,{label:"Name of Authorized Applicant",error:Ye.applicantName,required:!0,children:jsxRuntimeExports.jsx("input",{...Ge("applicantName"),className:"form-input",placeholder:"Full name"})}),jsxRuntimeExports.jsx(InputGroup$1,{label:"Date",error:Ye.applicantDate,required:!0,children:jsxRuntimeExports.jsx("input",{type:"date",min:hs,...Ge("applicantDate"),className:"form-input"})})]}),jsxRuntimeExports.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-[#891737] transition-colors",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:Ms,className:"hidden",id:"signature-upload"}),jsxRuntimeExports.jsx("label",{htmlFor:"signature-upload",className:"cursor-pointer w-full h-full block",children:Ce?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-2",children:[jsxRuntimeExports.jsx("img",{src:Ce,alt:"Signature",className:"h-20 object-contain"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Click to change signature"})]}):jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-2",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-100 flex items-center justify-center text-gray-400 mb-2",children:jsxRuntimeExports.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),jsxRuntimeExports.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"Upload Signature"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Click to upload your signature image"})]})})]}),jsxRuntimeExports.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-700 flex items-start gap-2",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),jsxRuntimeExports.jsxs("span",{children:[jsxRuntimeExports.jsx("span",{className:"font-semibold",children:"Seal & Signature:"})," ","Please ensure your signature is clear and legible in the image format."]})]})})]})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-4 pt-10 border-t border-gray-200",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{ns(),Te(null)},className:"px-6 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-200 transition-all",children:"Reset Form"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:e,className:"inline-flex items-center justify-center px-8 py-2.5 text-sm font-semibold text-white bg-[#891737] rounded hover:bg-[#70122d] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#891737] disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:e?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Submitting"]}):jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:Oe<De-1?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Save & Next Location"," ",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-2 w-4 h-4"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Submit Application (",ze.length+1,"/",De,") ",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-2 w-4 h-4"})]})})})]})]})]}),jsxRuntimeExports.jsx("style",{children:`
        .form-input, .form-select, .form-textarea {
          width: 100%;
          background-color: #ffffff;
          border: 1px solid #e5e7eb;
          border-radius: 0.5rem;
          padding: 0.75rem 1rem;
          font-size: 1rem;
          color: #1f2937;
          transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }
        .form-input:focus, .form-select:focus, .form-textarea:focus {
          outline: none;
          border-color: #891737;
          box-shadow: 0 0 0 1px #891737;
        }
        .form-input::placeholder, .form-textarea::placeholder {
          color: #9ca3af;
        }
        .form-select {
          appearance: none;
          background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
          background-position: right 0.75rem center;
          background-repeat: no-repeat;
          background-size: 1.5em 1.5em;
          padding-right: 2.5rem;
        }
      `}),jsxRuntimeExports.jsx(UniversalPreviewModal,{isOpen:xs,onClose:()=>Ss(!1),onConfirm:Ds,title:`LOCATION PREVIEW (${Oe+1}/${De})`,isSubmitting:e,data:{"Location Info":{"Location Name":ds==null?void 0:ds.location,Landmark:ds==null?void 0:ds.landmark,Type:ds==null?void 0:ds.locationType,"Is Forest?":ds==null?void 0:ds.isForestArea},Schedule:{Start:ds==null?void 0:ds.startDateTime,End:ds==null?void 0:ds.endDateTime},Involvement:{"Crew/Public":ds==null?void 0:ds.crewPublicInvolvement,"Person Count":ds==null?void 0:ds.personCount},"Permissions & Fees":{Details:ds==null?void 0:ds.permissionDetails,Fees:`â‚¹${ds==null?void 0:ds.locationFees}`,"Security Deposit":`â‚¹${ds==null?void 0:ds.securityDeposit}`,"Payment Ref":ds==null?void 0:ds.paymentReference},"Location Manager":{Name:ds==null?void 0:ds.locationManagerName,Phone:ds==null?void 0:ds.locationManagerPhone,Email:ds==null?void 0:ds.locationManagerEmail},"Scene & Forest":{"Scene Details":ds==null?void 0:ds.sceneDetails,"Forest Type":ds!=null&&ds.forestType&&Array.isArray(ds.forestType)?ds==null?void 0:ds.forestType.join(", "):(ds==null?void 0:ds.forestType)||"N/A","Forest Details":ds==null?void 0:ds.forestDetails},Authorization:{Applicant:ds==null?void 0:ds.applicantName,Date:ds==null?void 0:ds.applicantDate}}})]})},SectionBlock$2=({title:Re,children:e})=>jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 border-b border-gray-100 pb-2",children:[jsxRuntimeExports.jsx("div",{className:"w-1 h-6 bg-[#891737]"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:Re})]}),jsxRuntimeExports.jsx("div",{className:"",children:e})]}),InputGroup$1=({label:Re,error:e,required:Ee,children:Ce})=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1.5 min-w-0",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-gray-700 flex items-center justify-between",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[Re,Ee&&jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]})}),jsxRuntimeExports.jsx("div",{className:"relative group",children:Ce}),e&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-xs mt-1",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:e.message})]})]}),schema=object({undertakingFile:any().refine(Re=>(Re==null?void 0:Re.length)===1,"File is required").refine(Re=>{var e;return["application/pdf","image/jpeg","image/png"].includes((e=Re[0])==null?void 0:e.type)},"Only PDF / JPG / PNG allowed").refine(Re=>{var e;return((e=Re[0])==null?void 0:e.size)<=5*1024*1024},"Max 5MB allowed")});function UndertakingForm({activeApplication:Re,refreshData:e}){var Ye;const[Ee,Ce]=reactExports.useState(null),[Te,De]=reactExports.useState(!1),[Me,Oe]=reactExports.useState(!1),[Be,ze]=reactExports.useState(!1),{register:Ve,handleSubmit:qe,watch:We,formState:{errors:Ge}}=useForm({resolver:a(schema)}),Je=We("undertakingFile");reactExports.useEffect(()=>{const rs=ts=>{(ts.ctrlKey||ts.metaKey)&&["p","s"].includes(ts.key.toLowerCase())&&ts.preventDefault()};return document.addEventListener("keydown",rs),()=>document.removeEventListener("keydown",rs)},[]);const Qe=rs=>{if(!(Re!=null&&Re.id)){alert("No active application found.");return}Oe(!0)},ns=async()=>{if(!(!Je||!Je[0]))try{ze(!0);const rs=new FormData;rs.append("undertaking",Je[0]),console.log("Submitting Undertaking for App ID:",Re.id);const ts=await api.post(`/api/undertaking/applications/${Re.id}/undertaking`,rs,{headers:{"Content-Type":"multipart/form-data"},withCredentials:!0});ts.data.success?(alert("Undertaking uploaded successfully!"),Oe(!1),e&&e()):(alert(ts.data.message||"Upload failed."),Oe(!1))}catch(rs){console.error("Undertaking Upload Error:",rs);let ts="An error occurred during upload.";rs.response&&(ts=rs.response.data.message||ts,rs.response.status===400&&ts.includes("Annexure A")&&(ts="Cannot upload Undertaking: Annexure A must be submitted first.")),alert(ts),Oe(!1)}finally{ze(!1)}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen pt-4 pb-12 px-4 sm:px-6 lg:px-8 bg-white font-sans",children:[jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-10 border-b border-gray-100 pb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2 uppercase",children:"Undertaking"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto text-sm",children:"Download, Fill, Sign and Upload"})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-8 animate-in fade-in duration-500",children:[jsxRuntimeExports.jsx(SectionBlock$1,{title:"Step 1: Download Undertaking",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"bg-gray-50 rounded-xl border border-gray-200 overflow-hidden",children:jsxRuntimeExports.jsx("iframe",{src:"NOC_Documents/UndertakingForm.pdf#toolbar=0&navpanes=0&scrollbar=0",className:"w-full h-[500px]"})}),jsxRuntimeExports.jsx("div",{className:"flex justify-center",children:jsxRuntimeExports.jsxs("a",{href:"NOC_Documents/UndertakingForm.pdf",download:!0,className:"inline-flex items-center px-6 py-3 text-sm font-semibold text-white bg-[#891737] rounded-lg hover:bg-[#70122d] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#891737] transition-all",children:[jsxRuntimeExports.jsx(Download,{className:"mr-2 w-4 h-4"}),"Download Undertaking PDF"]})})]})}),jsxRuntimeExports.jsx(SectionBlock$1,{title:"Step 2: Fill & Sign",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-100  rounded-lg p-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-gray-600 font-semibold mb-3",children:"Instructions:"}),jsxRuntimeExports.jsxs("ul",{className:"list-disc ml-5 space-y-2 text-gray-600 text-sm",children:[jsxRuntimeExports.jsx("li",{children:"Print the downloaded PDF document."}),jsxRuntimeExports.jsx("li",{children:"Mention the Place, Date, and apply the official Seal."}),jsxRuntimeExports.jsx("li",{children:"Scan the filled document clearly (high quality PDF/Image)."})]})]})}),jsxRuntimeExports.jsx(SectionBlock$1,{title:"Step 3: Upload Signed Undertaking",children:jsxRuntimeExports.jsxs("form",{onSubmit:qe(Qe),className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("label",{className:"text-sm font-medium text-gray-700 flex items-center justify-between",children:["Upload Signed Document ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-4",children:[jsxRuntimeExports.jsx("div",{className:"relative group",children:jsxRuntimeExports.jsx("input",{type:"file",accept:".pdf,.jpg,.jpeg,.png",...Ve("undertakingFile"),className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2.5 file:px-6 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-[#891737] file:text-white hover:file:bg-[#70122d] file:transition-colors cursor-pointer border border-gray-300 rounded-lg p-1.5 focus:outline-none focus:ring-1 focus:ring-[#891737] bg-white transition-all",onChange:rs=>{var ts;Ve("undertakingFile").onChange(rs),(ts=rs.target.files)!=null&&ts[0]&&(Ce(rs.target.files[0]),De(!0))}})}),Ge.undertakingFile&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-xs",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:Ge.undertakingFile.message})]}),Ee&&!Te&&jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>De(!0),className:"text-sm font-semibold text-[#891737] hover:underline flex items-center gap-1",children:[jsxRuntimeExports.jsx(ArrowRight,{className:"w-4 h-4"})," View Preview"]})]})]}),jsxRuntimeExports.jsx("div",{className:"pt-4 border-t border-gray-100 flex justify-end",children:jsxRuntimeExports.jsx("button",{type:"submit",disabled:Be,className:"inline-flex items-center justify-center px-8 py-2.5 text-sm font-semibold text-white bg-[#891737] rounded-lg hover:bg-[#70122d] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#891737] transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:Be?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Uploading..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Upload,{className:"mr-2 w-4 h-4"}),"Submit Undertaking"]})})})]})})]})]}),Te&&Ee&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 z-50 flex items-center justify-center p-4 backdrop-blur-sm animate-in fade-in",onContextMenu:rs=>rs.preventDefault(),children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl w-full max-w-4xl h-[85vh] relative overflow-hidden shadow-2xl flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-100",children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900",children:"Document Preview"}),jsxRuntimeExports.jsxs("button",{onClick:()=>De(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:[jsxRuntimeExports.jsx("span",{className:"sr-only",children:"Close"}),jsxRuntimeExports.jsx("svg",{className:"w-5 h-5 text-gray-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 bg-gray-100 overflow-auto p-4 flex items-center justify-center",children:Ee.type==="application/pdf"?jsxRuntimeExports.jsx("iframe",{src:`${URL.createObjectURL(Ee)}#toolbar=0&navpanes=0&scrollbar=0`,className:"w-full h-full rounded shadow-sm bg-white"}):jsxRuntimeExports.jsx("img",{src:URL.createObjectURL(Ee),alt:"Preview",className:"max-w-full max-h-full object-contain rounded shadow-sm",draggable:!1})})]})}),jsxRuntimeExports.jsx("style",{children:`
        .form-input, .form-select, .form-textarea {
          width: 100%;
          background-color: #ffffff;
          border: 1px solid #e5e7eb;
          border-radius: 0.5rem;
          padding: 0.75rem 1rem;
          font-size: 1rem;
          color: #1f2937;
          transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }
        .form-input:focus, .form-select:focus, .form-textarea:focus {
          outline: none;
          border-color: #891737;
          box-shadow: 0 0 0 1px #891737;
        }
        .form-input::placeholder, .form-textarea::placeholder {
          color: #9ca3af;
        }
      `}),jsxRuntimeExports.jsx(UniversalPreviewModal,{isOpen:Me,onClose:()=>Oe(!1),onConfirm:ns,title:"CONFIRM UNDERTAKING UPLOAD",isSubmitting:Be,data:{"Upload Details":{"Document Type":"Undertaking Form","File Name":((Ye=Je==null?void 0:Je[0])==null?void 0:Ye.name)||"Selected File","File Size":Je!=null&&Je[0]?`${(Je[0].size/1024/1024).toFixed(2)} MB`:"N/A","Application ID":(Re==null?void 0:Re.id)||"N/A"}}})]})}const SectionBlock$1=({title:Re,children:e})=>jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 border-b border-gray-100 pb-2",children:[jsxRuntimeExports.jsx("div",{className:"w-1 h-6 bg-[#891737]"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:Re})]}),jsxRuntimeExports.jsx("div",{className:"",children:e})]}),ShootingPermissionDocuments=({applicationId:Re,onSuccess:e})=>{var Ns,ps,_s;const[Ee,Ce]=reactExports.useState({requestLetterFile:null,registrationCertificateFile:null,titleRegistrationFile:null,synopsis:""}),[Te,De]=reactExports.useState(!1),[Me,Oe]=reactExports.useState(1),[Be,ze]=reactExports.useState({show:!1,message:"",type:""}),[Ve,qe]=reactExports.useState("idle"),[We,Ge]=reactExports.useState({}),[Je,Qe]=reactExports.useState(!1),[ns,Ye]=reactExports.useState(!1),rs=ws=>{const js={};return ws===1?Ee.requestLetterFile||(js.requestLetterFile="Request Letter on Letter Head is required"):ws===2?Ee.registrationCertificateFile||(js.registrationCertificateFile="Registration Certificate of Company is required"):ws===3?Ee.titleRegistrationFile||(js.titleRegistrationFile="Title Registration Certificate is required"):ws===4&&(Ee.synopsis.trim()?Ee.synopsis.trim().split(/\s+/).length>250&&(js.synopsis="Synopsis must not exceed 250 words"):js.synopsis="Synopsis is required"),js},ts=(ws,js,ms)=>{if(!js)return;const ks=validateFile(js,5);if(!ks.isValid){ms!=null&&ms.target&&(ms.target.value=""),ze({show:!0,message:ks.error,type:"warning"}),setTimeout(()=>ze({show:!1,message:"",type:""}),3e3);return}Ce(zs=>({...zs,[ws]:js})),Ge(zs=>({...zs,[ws]:""})),ze({show:!0,message:`File uploaded successfully: ${js.name}`,type:"success"}),setTimeout(()=>ze({show:!1,message:"",type:""}),2e3)},Xe=(ws,js)=>{Ce(ms=>({...ms,[ws]:js})),Ge(ms=>({...ms,[ws]:""}))},is=ws=>{Ce(js=>({...js,[ws]:null})),Ge(js=>({...js,[ws]:""})),ze({show:!0,message:"File removed successfully. You can upload a new file.",type:"success"}),setTimeout(()=>ze({show:!1,message:"",type:""}),2e3)},os=()=>{const ws={};for(let js=1;js<=4;js++){const ms=rs(js);Object.assign(ws,ms)}if(Object.keys(ws).length>0){Ge(ws),ze({show:!0,message:"Please fill all required fields correctly",type:"warning"});return}Qe(!0)},hs=async()=>{var ws,js,ms,ys,ks,zs,Cs;if(!Re){ze({show:!0,message:"No application selected. Please select an application first.",type:"error"});return}try{qe("saving");const Ps=new FormData;Ee.requestLetterFile&&Ps.append("requestLetter",Ee.requestLetterFile),Ee.registrationCertificateFile&&Ps.append("registrationCertificate",Ee.registrationCertificateFile),Ee.titleRegistrationFile&&Ps.append("titleRegistration",Ee.titleRegistrationFile),Ee.synopsis&&Ps.append("synopsis",Ee.synopsis);const Us=await api.post(`/api/documents/${Re}/upload`,Ps,{headers:{"Content-Type":"multipart/form-data"}});console.log("âœ… Shooting permission documents submitted:",Us.data),qe("success"),ze({show:!0,message:"Shooting permission documents submitted successfully!",type:"success"}),localStorage.setItem("shootingPermissionCompleted","true"),localStorage.removeItem("shootingPermissionData"),setTimeout(()=>{Qe(!1),Ce({requestLetterFile:null,registrationCertificateFile:null,titleRegistrationFile:null,synopsis:""}),Oe(1),e&&e(),Ye(!0)},2e3)}catch(Ps){console.error("âŒ Error submitting form:",Ps),qe("error"),Qe(!1);let Us="Failed to submit documents. Please try again.";((ws=Ps.response)==null?void 0:ws.status)===401?(Us="Session expired. Please login again.",setTimeout(()=>{window.location.href="/login"},2e3)):((js=Ps.response)==null?void 0:js.status)===403?Us="This application does not belong to your account.":((ms=Ps.response)==null?void 0:ms.status)===404?Us="Application not found. Please check your application ID.":((ys=Ps.response)==null?void 0:ys.status)===400?Us=((ks=Ps.response.data)==null?void 0:ks.message)||"Invalid form data. Please check all fields.":(Cs=(zs=Ps.response)==null?void 0:zs.data)!=null&&Cs.message&&(Us=Ps.response.data.message),ze({show:!0,message:Us,type:"error"})}finally{setTimeout(()=>{ze({show:!1,message:"",type:""}),qe("idle")},5e3)}};reactExports.useEffect(()=>{const ws=localStorage.getItem("shootingPermissionData");if(ws)try{const js=JSON.parse(ws);Ce(ms=>({...ms,...js}))}catch(js){console.warn("Error parsing stored data:",js)}De(!1)},[]);const fs=()=>{const ws={synopsis:Ee.synopsis};localStorage.setItem("shootingPermissionData",JSON.stringify(ws))},xs=()=>{const ws=rs(Me);if(Object.keys(ws).length>0){Ge(ws),ze({show:!0,message:"Please fill all required fields correctly",type:"warning"}),setTimeout(()=>ze({show:!1,message:"",type:""}),3e3);return}fs(),Ge({}),Me<4&&(Oe(Me+1),window.scrollTo({top:0,behavior:"smooth"}))},Ss=()=>{Me>1&&(Oe(Me-1),window.scrollTo({top:0,behavior:"smooth"}))},ds=(ws,js,ms="5 MB",ys=!0)=>{const ks=Ee[ws],zs=We[ws];return jsxRuntimeExports.jsx(InputGroup,{label:js,required:ys,error:{message:zs},children:jsxRuntimeExports.jsx("div",{className:"space-y-3",children:ks?jsxRuntimeExports.jsxs("div",{className:"border-2 border-green-200 bg-green-50 rounded-lg p-4 transition-all",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx(CircleCheck,{className:"w-6 h-6 text-green-600 flex-shrink-0 mt-0.5"}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"font-semibold text-green-900 text-sm mb-1",children:"File uploaded successfully"}),jsxRuntimeExports.jsx("p",{className:"font-medium text-green-700 truncate text-sm",children:ks.name||ks}),jsxRuntimeExports.jsx("p",{className:"text-green-600 text-xs mt-1",children:ks.size?`${(ks.size/1024/1024).toFixed(2)} MB`:""})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>is(ws),className:"ml-2 p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors flex-shrink-0 group",title:"Remove file",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:jsxRuntimeExports.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})})})]}),jsxRuntimeExports.jsx("div",{className:"mt-3 pt-3 border-t border-green-200",children:jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>is(ws),className:"text-sm font-medium text-red-600 hover:text-red-700 hover:underline transition-colors",children:"Remove and upload a different file"})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsx("input",{type:"file",accept:"application/pdf,image/jpeg,image/png",onChange:Cs=>ts(ws,Cs.target.files[0],Cs),className:"block w-full text-base text-gray-600 file:mr-4 file:py-2.5 file:px-6 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-[#891737] file:text-white hover:file:bg-[#70122d] file:transition-colors cursor-pointer border border-gray-300 rounded-lg p-1.5 focus:outline-none focus:ring-1 focus:ring-[#891737]"})}),jsxRuntimeExports.jsxs("small",{className:"text-gray-500 text-sm block",children:["Upload supported file: PDF, JPG, PNG. Max ",ms,"."]})]})})})},gs=()=>jsxRuntimeExports.jsxs(SectionBlock,{title:"Step 1: Request Letter on Letter Head",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:"Please upload a formal request letter on your company's official letterhead."}),ds("requestLetterFile","Request Letter on Letter Head")]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end mt-10 pt-6 border-t border-gray-200",children:jsxRuntimeExports.jsxs("button",{type:"button",onClick:xs,className:"inline-flex items-center px-8 py-2.5 text-sm font-semibold text-white bg-[#891737] rounded-lg hover:bg-[#70122d] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#891737] transition-all",children:["Save & Continue ",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-2 w-4 h-4"})]})})]}),Ts=()=>jsxRuntimeExports.jsxs(SectionBlock,{title:"Step 2: Registration Certificate of Company",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:"Upload your company's official registration certificate."}),ds("registrationCertificateFile","Registration Certificate of Company")]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-10 pt-6 border-t border-gray-200",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Ss,className:"px-6 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-200 transition-all",children:"â† Go Back"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:xs,className:"inline-flex items-center px-8 py-2.5 text-sm font-semibold text-white bg-[#891737] rounded-lg hover:bg-[#70122d] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#891737] transition-all",children:["Save & Continue ",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-2 w-4 h-4"})]})]})]}),Ds=()=>jsxRuntimeExports.jsxs(SectionBlock,{title:"Step 3: Title Registration Certificate",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:"Upload the title registration certificate for your film/project."}),ds("titleRegistrationFile","Title Registration Certificate")]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-10 pt-6 border-t border-gray-200",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Ss,className:"px-6 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-200 transition-all",children:"â† Go Back"}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:xs,className:"inline-flex items-center px-8 py-2.5 text-sm font-semibold text-white bg-[#891737] rounded-lg hover:bg-[#70122d] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#891737] transition-all",children:["Save & Continue ",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-2 w-4 h-4"})]})]})]}),Ms=()=>{const ws=Ee.synopsis.trim().split(/\s+/).filter(Boolean).length,js=We.synopsis;return jsxRuntimeExports.jsxs(SectionBlock,{title:"Step 4: Synopsis (250 words)",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:"Provide a brief synopsis of your film/project. Maximum 250 words."}),jsxRuntimeExports.jsxs(InputGroup,{label:"Synopsis",required:!0,error:{message:js},children:[jsxRuntimeExports.jsx("textarea",{value:Ee.synopsis,onChange:ms=>Xe("synopsis",ms.target.value),className:"form-textarea",placeholder:"Enter your synopsis here...",rows:8}),jsxRuntimeExports.jsx("div",{className:"flex justify-between items-center mt-2",children:jsxRuntimeExports.jsxs("small",{className:`text-sm ${ws>250?"text-red-500 font-medium":"text-gray-500"}`,children:["Word count: ",ws," / 250"]})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center mt-10 pt-6 border-t border-gray-200",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:Ss,className:"px-6 py-2.5 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-200 transition-all",children:"â† Go Back"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:os,disabled:Ve==="saving",className:"inline-flex items-center px-8 py-2.5 text-sm font-semibold text-white bg-[#891737] rounded-lg hover:bg-[#70122d] focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-[#891737] disabled:opacity-50 disabled:cursor-not-allowed transition-all",children:Ve==="saving"?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"animate-spin -ml-1 mr-2 h-4 w-4 border-2 border-white border-t-transparent rounded-full"}),"Submitting..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:["Submit Documents ",jsxRuntimeExports.jsx(ArrowRight,{className:"ml-2 w-4 h-4"})]})})]})]})},bs=()=>{const ws=[{number:1,title:"Request Letter"},{number:2,title:"Registration Certificate"},{number:3,title:"Title Registration"},{number:4,title:"Synopsis"}];return jsxRuntimeExports.jsx("div",{className:"mb-12",children:jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center",children:ws.map((js,ms)=>jsxRuntimeExports.jsxs(React.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center z-10",children:[jsxRuntimeExports.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center text-sm font-bold transition-all duration-300 border-2 ${Me===js.number?"bg-[#891737] border-[#891737] text-white ring-4 ring-[#891737]/10":Me>js.number?"bg-[#891737] border-[#891737] text-white":"bg-white border-gray-300 text-gray-400"}`,children:Me>js.number?jsxRuntimeExports.jsx(CircleCheck,{className:"w-5 h-5"}):js.number}),jsxRuntimeExports.jsx("p",{className:`mt-2 text-xs font-medium tracking-wide uppercase ${Me===js.number||Me>js.number?"text-[#891737]":"text-gray-400"}`,children:js.title})]}),ms<ws.length-1&&jsxRuntimeExports.jsx("div",{className:`w-24 h-0.5 -mx-3 mb-6 transition-all duration-300 ${Me>js.number?"bg-[#891737]":"bg-gray-200"}`})]},js.number))})})};return Te?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 border-4 border-[#891737] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 font-medium",children:"Loading form..."})]})}):Re?jsxRuntimeExports.jsxs("div",{className:"min-h-screen pt-4 pb-12 px-4 sm:px-6 lg:px-8 bg-white font-sans",children:[Be.show&&jsxRuntimeExports.jsxs("div",{className:`fixed top-4 right-4 z-50 px-4 py-3 rounded-lg shadow-lg flex items-center max-w-sm animate-in fade-in slide-in-from-top-4 ${Be.type==="success"?"bg-green-600 text-white":Be.type==="warning"?"bg-amber-500 text-white":"bg-red-600 text-white"}`,children:[jsxRuntimeExports.jsx("span",{className:"mr-3",children:Be.type==="warning"?jsxRuntimeExports.jsx(CircleAlert,{className:"w-5 h-5"}):jsxRuntimeExports.jsx(CircleCheck,{className:"w-5 h-5"})}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium",children:Be.message})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-5xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-10 border-b border-gray-100 pb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Shooting Permission Documents"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 max-w-2xl mx-auto text-sm",children:"Bihar State Film Development & Finance Corporation Ltd"})]}),bs(),jsxRuntimeExports.jsxs("form",{onSubmit:ws=>{ws.preventDefault()},className:"animate-in fade-in duration-500",children:[Me===1&&gs(),Me===2&&Ts(),Me===3&&Ds(),Me===4&&Ms()]})]}),jsxRuntimeExports.jsx("style",{children:`
        .form-input, .form-select, .form-textarea {
          width: 100%;
          background-color: #ffffff;
          border: 1px solid #e5e7eb;
          border-radius: 0.5rem;
          padding: 0.75rem 1rem;
          font-size: 1rem;
          color: #1f2937;
          transition: border-color 0.15s ease-in-out, box-shadow 0.15s ease-in-out;
        }
        .form-input:focus, .form-select:focus, .form-textarea:focus {
          outline: none;
          border-color: #891737;
          box-shadow: 0 0 0 1px #891737;
        }
        .form-input::placeholder, .form-textarea::placeholder {
          color: #9ca3af;
        }
      `}),jsxRuntimeExports.jsx(UniversalPreviewModal,{isOpen:Je,onClose:()=>Qe(!1),onConfirm:hs,data:{Documents:{"Request Letter":((Ns=Ee.requestLetterFile)==null?void 0:Ns.name)||"Not uploaded","Registration Certificate":((ps=Ee.registrationCertificateFile)==null?void 0:ps.name)||"Not uploaded","Title Registration":((_s=Ee.titleRegistrationFile)==null?void 0:_s.name)||"Not uploaded"},Synopsis:{"Word Count":Ee.synopsis.trim().split(/\s+/).filter(Boolean).length,Content:Ee.synopsis||"N/A"}},title:"SHOOTING PERMISSION DOCUMENTS",isSubmitting:Ve==="saving"}),jsxRuntimeExports.jsx(AlertBox,{isOpen:ns,onClose:()=>{Ye(!1),window.location.reload()},onConfirm:()=>{Ye(!1),window.location.reload()},type:"success",title:"Submission Successful",message:"Your shooting permission documents have been submitted successfully. Please refresh the page.",confirmText:"Refresh Page"})]}):jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-white px-4",children:jsxRuntimeExports.jsxs("div",{className:"text-center max-w-md",children:[jsxRuntimeExports.jsx("div",{className:"w-14 h-14 rounded-xl bg-amber-50 flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(CircleAlert,{className:"w-7 h-7 text-amber-500"})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-2",children:"No Application Selected"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500",children:"Please select an application from the sidebar to upload your shooting permission documents."})]})})},SectionBlock=({title:Re,children:e})=>jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 border-b border-gray-100 pb-2",children:[jsxRuntimeExports.jsx("div",{className:"w-1 h-6 bg-[#891737]"}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:Re})]}),jsxRuntimeExports.jsx("div",{className:"",children:e})]}),InputGroup=({label:Re,error:e,required:Ee,children:Ce})=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1.5 min-w-0",children:[jsxRuntimeExports.jsx("label",{className:"text-sm font-medium text-gray-700 flex items-center justify-between",children:jsxRuntimeExports.jsxs("span",{className:"flex items-center gap-1",children:[Re,Ee&&jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]})}),jsxRuntimeExports.jsx("div",{className:"relative group",children:Ce}),(e==null?void 0:e.message)&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 text-red-500 text-xs mt-1 animate-in fade-in",children:[jsxRuntimeExports.jsx(CircleAlert,{className:"w-3 h-3"}),jsxRuntimeExports.jsx("span",{children:e.message})]})]}),normalizeList=Re=>(Re==null?void 0:Re.map(e=>typeof e=="object"?e.name||e.link||e.url||"":e))||[],normalizeArtistData=Re=>({...Re,professions:normalizeList(Re.professions),specializations:normalizeList(Re.specializations),videoLinks:normalizeList(Re.videos||Re.videoLinks),galleryImages:normalizeList(Re.images||Re.galleryImages)}),calculateAge=Re=>{if(!Re)return null;const e=new Date(Re),Ee=new Date;let Ce=Ee.getFullYear()-e.getFullYear();const Te=Ee.getMonth()-e.getMonth();return(Te<0||Te===0&&Ee.getDate()<e.getDate())&&Ce--,Ce},ArtistProfile=()=>{const[Re,e]=reactExports.useState(null),[Ee,Ce]=reactExports.useState(!0),[Te,De]=reactExports.useState(!1),[Me,Oe]=reactExports.useState(!1),[Be,ze]=reactExports.useState("/newBannerArtist.jpg"),[Ve,qe]=reactExports.useState({isOpen:!1,type:"info",title:"",message:""}),We=(rs,ts,Xe)=>qe({isOpen:!0,type:rs,title:ts,message:Xe});reactExports.useEffect(()=>{Ge()},[]);const Ge=async()=>{try{Ce(!0);const ts=(await api.get("/api/artist/myProfileWithExperiences")).data.data;e(normalizeArtistData(ts))}catch(rs){console.error("Fetch error",rs)}finally{Ce(!1)}},Je=rs=>{e(normalizeArtistData(rs)),Oe(!1),We("success","Welcome!","Profile created successfully.")},Qe=rs=>{console.log("handleUpdate called with:",rs);const ts={...Re,...rs};e(normalizeArtistData(ts)),We("success","Success","Profile updated successfully!")};if(Ee)return jsxRuntimeExports.jsx("div",{className:"flex h-screen items-center justify-center",children:jsxRuntimeExports.jsx(Loader,{className:"animate-spin text-[#891737] w-8 h-8"})});const ns=Re||SKELETON_ARTIST,Ye=!Re;return jsxRuntimeExports.jsxs("div",{className:"min-h-screen  pb-20 font-sans",children:[jsxRuntimeExports.jsx(AlertBox,{...Ve,onClose:()=>qe(rs=>({...rs,isOpen:!1}))}),jsxRuntimeExports.jsx("div",{className:"relative h-48 md:h-64 w-full overflow-hidden group rounded-2xl",children:jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 bg-gray-900",children:[jsxRuntimeExports.jsx("img",{src:Be,alt:"Banner",className:"w-full h-full object-cover opacity-60 group-hover:scale-105 transition-transform duration-700"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/90 via-gray-900/40 to-transparent"})]})}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10 -mt-16 md:-mt-20",children:[jsxRuntimeExports.jsx("div",{className:"bg-white rounded-2xl shadow-xl shadow-gray-200/50 border border-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"p-5 md:p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-5 md:items-end",children:[jsxRuntimeExports.jsx("div",{className:"relative -mt-12 md:-mt-16 self-center md:self-auto",children:jsxRuntimeExports.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full border-[4px] border-white shadow-xl overflow-hidden bg-gray-100 ring-1 ring-gray-100",children:jsxRuntimeExports.jsx("img",{src:ns.image||"/placeholderProfile.jpg",alt:ns.fullName,className:"w-full h-full object-cover"})})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 text-center md:text-left space-y-1.5",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 tracking-tight",children:ns.fullName}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-center md:justify-start gap-1.5",children:ns.professions&&ns.professions.length>0?ns.professions.map((rs,ts)=>jsxRuntimeExports.jsx("span",{className:"px-2.5 py-0.5 bg-[#891737]/5 text-[#891737] border border-[#891737]/10 rounded-full text-[7px] md:text-[7px] font-semibold uppercase",children:typeof rs=="object"?rs.name:rs},ts)):jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-xs italic",children:"Add your profession"})})]}),jsxRuntimeExports.jsx("div",{className:"flex gap-3 justify-center md:justify-end pb-1",children:jsxRuntimeExports.jsx("button",{onClick:()=>De(!0),className:"flex items-center gap-1.5 px-4 py-2 bg-gray-900 text-white rounded-lg hover:bg-black transition-all shadow-md shadow-gray-900/20 font-medium text-xs md:text-sm group",children:Ye?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Plus,{size:16})," Create Artist Profile"]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Pencil,{size:14})," Edit Profile"]})})})]}),jsxRuntimeExports.jsxs("div",{className:"mt-6 grid grid-cols-2 md:grid-cols-4 gap-3 pt-4 border-t border-gray-100/80",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2.5 p-2 rounded-xl hover:bg-gray-50 transition-colors border border-transparent hover:border-gray-100",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-gray-50 rounded-lg text-[#891737]",children:jsxRuntimeExports.jsx(Mail,{size:14})}),jsxRuntimeExports.jsxs("div",{className:"overflow-hidden min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase text-gray-400 font-bold tracking-wider",children:"Email"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",title:ns.email,children:ns.email})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2.5 p-2 rounded-xl hover:bg-gray-50 transition-colors border border-transparent hover:border-gray-100",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-gray-50 rounded-lg text-[#891737]",children:jsxRuntimeExports.jsx(Phone,{size:14})}),jsxRuntimeExports.jsxs("div",{className:"overflow-hidden min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase text-gray-400 font-bold tracking-wider",children:"Phone"}),jsxRuntimeExports.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-900 truncate",children:ns.phoneNumber})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2.5 p-2 rounded-xl hover:bg-gray-50 transition-colors border border-transparent hover:border-gray-100",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-gray-50 rounded-lg text-[#891737]",children:jsxRuntimeExports.jsx(MapPin,{size:14})}),jsxRuntimeExports.jsxs("div",{className:"overflow-hidden min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase text-gray-400 font-bold tracking-wider",children:"Location"}),jsxRuntimeExports.jsx("p",{className:"text-xs md:text-sm font-medium text-gray-900 truncate",title:ns.address,children:ns.address||"N/A"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2.5 p-2 rounded-xl hover:bg-gray-50 transition-colors border border-transparent hover:border-gray-100",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-gray-50 rounded-lg text-[#891737]",children:jsxRuntimeExports.jsx(User,{size:14})}),jsxRuntimeExports.jsxs("div",{className:"overflow-hidden min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-[10px] uppercase text-gray-400 font-bold tracking-wider",children:"Gender & Date of Birth"}),jsxRuntimeExports.jsxs("p",{className:"text-xs md:text-sm font-medium text-gray-900 truncate",children:[ns.gender," ",ns.dob&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"mx-1",children:"â€¢"}),jsxRuntimeExports.jsxs("span",{className:" ml-1",children:[calculateAge(ns.dob)," Years"]})]})]})]})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-6 grid grid-cols-1 lg:grid-cols-12 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[jsxRuntimeExports.jsx(AboutMeCard,{artist:ns,onUpdate:Qe}),jsxRuntimeExports.jsx(ExperienceCard,{artist:ns,onUpdate:Qe,onAdd:()=>Oe(!0)}),jsxRuntimeExports.jsx(GalleryCard,{artist:ns,onUpdate:Qe})]}),jsxRuntimeExports.jsxs("div",{className:"lg:col-span-4 space-y-6",children:[jsxRuntimeExports.jsx(VideoLinksCard,{artist:ns,onUpdate:Qe}),jsxRuntimeExports.jsx(BioDataCard,{artist:ns,onUpdate:Qe}),jsxRuntimeExports.jsx(SocialMediaCard,{artist:ns,onUpdate:Qe})]})]})]}),Te&&jsxRuntimeExports.jsx(EditProfileModal,{artist:Re||SKELETON_ARTIST,isCreating:Ye,onClose:()=>De(!1),onUpdate:Ye?Je:Qe}),Me&&jsxRuntimeExports.jsx(AddSectionForm,{onClose:()=>Oe(!1),onProfileCreated:Je,artist:Re,isCreatingProfile:Ye})]})},COMPANY_NAME="BIHAR STATE FILM DEVELOPMENT & FINANCE CORPORATION",DEPT_NAME="Department of Art, Culture & Youth, Govt. of Bihar",ADDRESS="Morisson Building, Near Golghar, Patna-800001, Bihar, India",addHeader=(Re,e)=>{const Ee=Re.internal.pageSize.width;try{Re.addImage(Logo1,"PNG",15,10,20,20)}catch(Ce){console.error("Error adding logo:",Ce)}Re.setFont("times","bold"),Re.setFontSize(14),Re.setTextColor(0,0,0),Re.text(COMPANY_NAME,Ee/2+10,18,{align:"center"}),Re.setFontSize(10),Re.setFont("times","normal"),Re.text(DEPT_NAME,Ee/2+10,24,{align:"center"}),Re.text(ADDRESS,Ee/2+10,29,{align:"center"}),Re.setLineWidth(.5),Re.line(10,35,Ee-10,35),Re.setFontSize(16),Re.setFont("times","bold"),Re.setTextColor(30,64,175),Re.text(e.toUpperCase(),Ee/2,48,{align:"center"}),Re.setLineWidth(.2),Re.setTextColor(0,0,0)},addFooter=Re=>{const e=Re.internal.getNumberOfPages(),Ee=Re.internal.pageSize.width,Ce=Re.internal.pageSize.height;for(let Te=1;Te<=e;Te++)Re.setPage(Te),Re.setFont("times","italic"),Re.setFontSize(8),Re.text(`Page ${Te} of ${e}`,Ee-20,Ce-10,{align:"right"}),Re.text(`Generated on ${new Date().toLocaleDateString()}`,20,Ce-10,{align:"left"})},generateKeyValueTable=(Re,e,Ee)=>{autoTable(Re,{startY:Ee,head:[],body:e,theme:"grid",styles:{font:"times",fontSize:10,cellPadding:3,valign:"middle",lineColor:[200,200,200]},columnStyles:{0:{fontStyle:"bold",fillColor:[249,250,251],cellWidth:70},1:{cellWidth:"auto"}},margin:{top:10,left:15,right:15}})},generateAnnexure1PDF=Re=>{const e=new E;addHeader(e,"Annexure 1: Project Details");const Ee=[["Project Title",Re.titleOfProject],["Project Type",Re.typeOfProject],["Language",Re.language],["Genre",Re.genre],["Duration",Re.durationOfProject],["Producer Name",Re.producerName],["Production House",Re.productionHouse],["Line Producer",Re.lineProducerNameAndContact],["Total Shooting Days",Re.totalShootingDays],["Days In Bihar",Re.shootingDaysInBihar],["Shooting Dates",Re.shootingDatesInBihar],["Proposed Locations",Re.proposedShootingLocationInBihar],["Approx Budget",Re.approximateBudgetOfProject?`INR ${Re.approximateBudgetOfProject}`:""],["Expenditure In Bihar",Re.approximateExpenditureInBihar?`INR ${Re.approximateExpenditureInBihar}`:""],["Est. Manpower (Bihar)",Re.estimatedManpowerUtilizationBihar],["Executive Producer",Re.executiveProducerName],["EP Designation",Re.executiveProducerDesignation],["EP Address",Re.executiveProducerAddress],["EP Email",Re.executiveProducerEmail],["EP Mobile",Re.executiveProducerMobile],["Director & Cast",Re.directorAndMainCastNames],["Synopsis",Re.synopsis],["Additional Details",Re.details]];generateKeyValueTable(e,Ee,55),addFooter(e),e.save("Annexure_1_Project_Details.pdf")},generateAnnexure2PDF=Re=>{const e=new E;addHeader(e,"Annexure 2: NOC Application");const Ee=[["Project Title",Re.title],["Project Type",Re.typeOfProject],["Language",Re.language],["Genre",Re.genre],["Duration",Re.duration],["Director & Main Cast",Re.directorAndMainCast],["Brief Synopsis",Re.briefSynopsis],["Production House",Re.producerHouse],["Address",Re.productionHouseAddress],["Email",Re.emailOfProductionHouse],["Contact",Re.contactOfProductionHouse],["Constitution",Re.productionHouseConstitution],["Registration No",Re.registrationNumber],["Line Producer",Re.lineProducerDetails],["Auth. Representative",Re.representativeName],["Applicant Name",Re.authorizedApplicantName],["Designation",Re.designationOfApplicant],["Applicant Address",Re.addressOfApplicant],["Applicant Contact",Re.contactOfApplicant],["Applicant Email",Re.emailOfApplicant],["Description of Scenes",Re.briefSynopsis],["No. of Locations",Re.numberOfShootingLocations],["Drone Permission",Re.dronePermissionRequired?"Yes":"No"],["Animals Used",Re.animalPartOfShooting?"Yes":"No"],["Fire/Blasting",Re.fireOrBlastingScene?"Yes":"No"],["Temporary Structures",Re.temporaryStructureCreation?"Yes":"No"],["Police/Security",Re.policeOrSecurityRequirement?"Yes":"No"],["Site Contact Details",Re.siteContactPersonDetails],["Branding/Asset Use",Re.inFilmBrandingOrAssetUse],["Other Particulars",Re.otherParticulars]];generateKeyValueTable(e,Ee,55),addFooter(e),e.save("Annexure_2_NOC_Application.pdf")},generateAnnexureAPDF=Re=>{const e=new E("l","mm","a4");addHeader(e,"Annexure A: Location Details");const Ee=Re.map((Ce,Te)=>[Te+1,Ce.location,Ce.locationType,`${new Date(Ce.startDateTime).toLocaleDateString()}
${new Date(Ce.startDateTime).toLocaleTimeString()}`,`${new Date(Ce.endDateTime).toLocaleDateString()}
${new Date(Ce.endDateTime).toLocaleTimeString()}`,Ce.sceneDetails||"-",Ce.personCount||"0",Ce.locationManager||"-",Ce.permissionDetails||"-"]);autoTable(e,{startY:55,head:[["#","Location","Type","Start Time","End Time","Scene Info","Crew","Manager","Permissions"]],body:Ee,theme:"grid",styles:{font:"times",fontSize:9,cellPadding:2,lineColor:[200,200,200]},headStyles:{fillColor:[30,64,175],textColor:[255,255,255],fontStyle:"bold"},columnStyles:{0:{cellWidth:10},5:{cellWidth:50}},margin:{top:10,left:10,right:10}}),addFooter(e),e.save("Annexure_A_Locations.pdf")},generateUndertakingPDF=Re=>{const e=new E;addHeader(e,"Undertaking / Declaration"),e.setFont("times","normal"),e.setFontSize(11);const Ee=`
  I, ${Re.authorizedPersonName||"[Name]"}, in the capacity of ${Re.designation||"[Designation]"}  at ${Re.productionHouse||"[Production House]"}, having its registered office at ${Re.address||"[Address]"}, do hereby solemnly affirm and declare as under:

  1. That the details provided in the Common Application Form (CAF) and Annexures are true and correct to the best of my knowledge and belief.
  
  2. That we shall abide by all the rules, regulations, and guidelines issued by the Bihar State Film Development & Finance Corporation and the Government of Bihar regarding film shooting in the state.

  3. That we shall not engage in any activity that is detrimental to the public order, decency, or morality, or that defames the State or the Nation.

  4. That we shall ensure the safety and security of all crew members and the general public during the shooting.

  5. That we shall be liable for any damage caused to public or private property during the course of our shooting activities.

  Date: ${new Date().toLocaleDateString()}
  Place: ${Re.place||"Bihar"}
  `,Ce=e.splitTextToSize(Ee,180);e.text(Ce,15,60),e.text("__________________________",140,200),e.text("Signature of Applicant",140,205),e.setFont("times","bold"),e.text(Re.authorizedPersonName||"",140,210),addFooter(e),e.save("Undertaking.pdf")},ApplicationDetailsModal=({isOpen:Re,onClose:e,data:Ee,loading:Ce})=>{var rs,ts,Xe,is,os,hs,fs,xs,Ss,ds,gs,Ts,Ds,Ms,bs,Ns,ps,_s,ws,js,ms,ys,ks,zs,Cs,Ps,Us,Is,Vs,Ks,or,rr,ur,Ws,Er,zr,Or,tr,Lr,Js,lr,hr,Ar,Pr,vr,Mr,Qr,Ur,ti,oi,Ti,_i,mi,Ci,Tr,Sr,Ir,Kr,ri;const[Te,De]=reactExports.useState("producerRegistration"),[Me,Oe]=reactExports.useState(!1);if(!Re)return null;const Be=[{id:"producerRegistration",label:"Producer"},{id:"annexureOne",label:"Annexure 1"},{id:"nocForm",label:"Annexure 2"},{id:"annexureA",label:"Annexure A"},{id:"documents",label:"Documents"},{id:"synopsis",label:"Synopsis"},{id:"timeline",label:"Timeline"}],ze=(Wr,ai)=>Wr?ai.split(".").reduce((ii,yi)=>ii&&ii[yi],Wr):null,Ve=Wr=>Wr==null||Wr===""?"â€”":typeof Wr=="boolean"?jsxRuntimeExports.jsx("span",{className:`inline-flex items-center gap-1 text-xs font-medium px-2 py-0.5 rounded ${Wr?"bg-emerald-50 text-emerald-700":"bg-gray-100 text-gray-500"}`,children:Wr?"Yes":"No"}):typeof Wr=="string"&&(Wr.startsWith("http://")||Wr.startsWith("https://"))?jsxRuntimeExports.jsxs("a",{href:Wr,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1.5 text-blue-600 hover:text-blue-700 text-xs font-semibold bg-blue-50 hover:bg-blue-100 px-2.5 py-1 rounded-md border border-blue-100 transition-colors",children:["View Document ",jsxRuntimeExports.jsx(FaExternalLinkAlt,{className:"text-[9px]"})]}):String(Wr),qe=Wr=>Wr?new Date(Wr).toLocaleDateString("en-IN",{year:"numeric",month:"short",day:"numeric"}):"â€”",We=(Wr,ai)=>Wr?jsxRuntimeExports.jsx("div",{className:"overflow-hidden border border-gray-200/80 rounded-xl bg-white",children:jsxRuntimeExports.jsx("table",{className:"w-full text-left border-collapse",children:jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-100",children:ai.map(([ii,yi],Sn)=>jsxRuntimeExports.jsxs("tr",{className:"group hover:bg-gray-50/50 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-5 py-3 bg-gray-50/30 text-[11px] font-semibold text-gray-500 uppercase tracking-wider w-[35%] border-r border-gray-100",children:ii}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3 text-[13px] text-gray-800 break-words",children:Ve(ze(Wr,yi)??Wr[yi])})]},Sn))})})}):jsxRuntimeExports.jsxs("div",{className:"py-12 text-center text-gray-400 text-sm bg-gray-50/50 border border-dashed border-gray-200 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-100 flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(FaFilePdf,{className:"text-gray-300",size:16})}),"Data not available"]}),Ge=Wr=>!Wr||Wr.length===0?jsxRuntimeExports.jsx("div",{className:"py-12 text-center text-gray-400 text-sm bg-gray-50/50 border border-dashed border-gray-200 rounded-xl",children:"No location records found"}):jsxRuntimeExports.jsx("div",{className:"space-y-4",children:Wr.map((ai,ii)=>jsxRuntimeExports.jsxs("div",{className:"border border-gray-200/80 rounded-xl overflow-hidden bg-white hover:shadow-sm transition-shadow",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-50/80 px-5 py-3 border-b border-gray-100 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("span",{className:"w-7 h-7 bg-gray-900 text-white rounded-lg flex items-center justify-center font-bold text-xs",children:ii+1}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h4",{className:"text-[13px] font-bold text-gray-900",children:ai.location}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-gray-400 font-medium uppercase tracking-wider",children:ai.landmark})]})]}),jsxRuntimeExports.jsx("span",{className:"px-2.5 py-1 bg-blue-50 text-blue-700 rounded-md text-[10px] font-bold uppercase border border-blue-100",children:ai.locationType})]}),jsxRuntimeExports.jsxs("div",{className:"p-5 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider block mb-1.5",children:"Timeline"}),jsxRuntimeExports.jsxs("div",{className:"text-[11px] font-medium text-gray-700 space-y-1.5 bg-gray-50 p-3 rounded-lg border border-gray-100",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"Start"}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:new Date(ai.startDateTime).toLocaleString()})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between",children:[jsxRuntimeExports.jsx("span",{className:"text-gray-400",children:"End"}),jsxRuntimeExports.jsx("span",{className:"font-semibold",children:new Date(ai.endDateTime).toLocaleString()})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider block mb-1.5",children:"Scene Details"}),jsxRuntimeExports.jsx("p",{className:"text-[12px] text-gray-600 leading-relaxed",children:ai.sceneDetails||"No scene details provided"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider block mb-1.5",children:"Crew & Manpower"}),jsxRuntimeExports.jsxs("div",{className:"text-[12px] text-gray-700",children:[jsxRuntimeExports.jsx("span",{className:"text-lg font-bold text-gray-900",children:ai.personCount}),jsxRuntimeExports.jsx("span",{className:"text-gray-400 ml-1",children:"people"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 mt-1 text-[11px] leading-relaxed",children:ai.crewInvolvement})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider block mb-1.5",children:"Permission Details"}),jsxRuntimeExports.jsx("p",{className:"text-[12px] text-gray-600 leading-relaxed",children:ai.permissionDetails||"â€”"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider block mb-1.5",children:"Financials"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[jsxRuntimeExports.jsxs("div",{className:"bg-emerald-50 border border-emerald-100 p-2.5 rounded-lg text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-[9px] text-emerald-600 font-bold uppercase",children:"Fee"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-bold text-emerald-800 mt-0.5",children:ai.locationFee})]}),jsxRuntimeExports.jsxs("div",{className:"bg-amber-50 border border-amber-100 p-2.5 rounded-lg text-center",children:[jsxRuntimeExports.jsx("div",{className:"text-[9px] text-amber-600 font-bold uppercase",children:"Deposit"}),jsxRuntimeExports.jsx("div",{className:"text-sm font-bold text-amber-800 mt-0.5",children:ai.securityDeposit})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider block mb-1.5",children:"Location Manager"}),jsxRuntimeExports.jsx("div",{className:"text-[12px] text-gray-700 bg-gray-50 p-2.5 rounded-lg border border-gray-100 font-medium",children:ai.locationManager})]})]})]})]},ii))}),Je=Wr=>{switch(Wr==null?void 0:Wr.toUpperCase()){case"APPROVED":case"ACCEPTED":return{bg:"bg-emerald-50",text:"text-emerald-700",border:"border-emerald-200",dot:"bg-emerald-500"};case"REJECTED":return{bg:"bg-red-50",text:"text-red-700",border:"border-red-200",dot:"bg-red-500"};case"PROCESSING":case"FORWARDED":return{bg:"bg-blue-50",text:"text-blue-700",border:"border-blue-200",dot:"bg-blue-500"};default:return{bg:"bg-gray-50",text:"text-gray-600",border:"border-gray-200",dot:"bg-gray-400"}}},Qe=Wr=>{var ai,ii,yi,Sn,$i,dn,Si,pi,Xa,ml,Ja,Qa,Ji,ci,aa,Pa,Rn;if(Oe(!1),!!Ee)switch(Wr){case"annexure1":(ii=(ai=Ee.forms)==null?void 0:ai.annexureOne)!=null&&ii.data?generateAnnexure1PDF(Ee.forms.annexureOne.data):window.open(((Sn=(yi=Ee.forms)==null?void 0:yi.annexureOne)==null?void 0:Sn.documentUrl)||"#","_blank");break;case"annexure2":(dn=($i=Ee.forms)==null?void 0:$i.nocForm)!=null&&dn.data?generateAnnexure2PDF(Ee.forms.nocForm.data):window.open(((pi=(Si=Ee.forms)==null?void 0:Si.nocForm)==null?void 0:pi.documentUrl)||"#","_blank");break;case"annexureA":((Qa=(Ja=(ml=(Xa=Ee.forms)==null?void 0:Xa.nocForm)==null?void 0:ml.data)==null?void 0:Ja.annexureA)==null?void 0:Qa.length)>0&&generateAnnexureAPDF(Ee.forms.nocForm.data.annexureA);break;case"undertaking":(ci=(Ji=Ee.forms)==null?void 0:Ji.undertaking)!=null&&ci.data?generateUndertakingPDF(Ee.forms.undertaking.data):window.open(((Rn=(Pa=(aa=Ee.forms)==null?void 0:aa.undertaking)==null?void 0:Pa.data)==null?void 0:Rn.documentUrl)||"#","_blank");break}},ns=Ee?[{label:"Annexure 1 (Project)",action:()=>Qe("annexure1"),show:!0,hasData:!!((ts=(rs=Ee.forms)==null?void 0:rs.annexureOne)!=null&&ts.data)},{label:"Annexure 2 (NOC)",action:()=>Qe("annexure2"),show:!0,hasData:!!((is=(Xe=Ee.forms)==null?void 0:Xe.nocForm)!=null&&is.data)},{label:`Annexure A (${((xs=(fs=(hs=(os=Ee.forms)==null?void 0:os.nocForm)==null?void 0:hs.data)==null?void 0:fs.annexureA)==null?void 0:xs.length)||0})`,action:()=>Qe("annexureA"),show:!0,hasData:((Ts=(gs=(ds=(Ss=Ee.forms)==null?void 0:Ss.nocForm)==null?void 0:ds.data)==null?void 0:gs.annexureA)==null?void 0:Ts.length)>0},{label:"Undertaking",action:()=>Qe("undertaking"),show:!0,hasData:!!((Ms=(Ds=Ee.forms)==null?void 0:Ds.undertaking)!=null&&Ms.data)}]:[],Ye=Ee?Je(Ee.status):null;return jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-[2px]",onClick:e}),jsxRuntimeExports.jsxs("div",{className:"relative bg-white w-full max-w-6xl h-[88vh] rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"px-5 py-3.5 border-b border-gray-100 flex items-center justify-between bg-white shrink-0",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:e,className:"p-1.5 text-gray-400 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-all",children:jsxRuntimeExports.jsx(FaArrowLeft,{size:13})}),jsxRuntimeExports.jsx("img",{src:Logo1,alt:"Bihar Film",className:"h-9 w-auto object-contain"}),jsxRuntimeExports.jsxs("div",{className:"pl-3 border-l border-gray-200",children:[jsxRuntimeExports.jsx("h2",{className:"text-sm font-bold text-gray-900",children:"Application Details"}),Ee&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[jsxRuntimeExports.jsx("span",{className:"text-[11px] font-mono bg-gray-100 px-2 py-0.5 rounded text-gray-600",children:Ee.applicationNumber}),jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1 text-[9px] px-2 py-0.5 rounded-md border font-bold uppercase tracking-wider ${Ye==null?void 0:Ye.bg} ${Ye==null?void 0:Ye.text} ${Ye==null?void 0:Ye.border}`,children:[jsxRuntimeExports.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${Ye==null?void 0:Ye.dot}`}),Ee.status]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[Ee&&jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Oe(!Me),className:"flex items-center gap-2 px-3.5 py-2 bg-gray-900 text-white rounded-lg hover:bg-gray-800 transition-colors text-[11px] font-bold uppercase tracking-wide",children:[jsxRuntimeExports.jsx(FaDownload,{size:11}),"Download",jsxRuntimeExports.jsx(FaChevronDown,{size:8,className:`transition-transform duration-200 ${Me?"rotate-180":""}`})]}),Me&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>Oe(!1)}),jsxRuntimeExports.jsxs("div",{className:"absolute right-0 top-full mt-1.5 w-56 bg-white rounded-xl shadow-lg border border-gray-100 z-20 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"px-3.5 py-2 bg-gray-50 border-b border-gray-100 text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Select Document"}),ns.map((Wr,ai)=>Wr.show&&jsxRuntimeExports.jsxs("button",{onClick:Wr.action,disabled:!Wr.hasData,className:`w-full flex items-center justify-between px-3.5 py-2.5 border-b border-gray-50 last:border-0 transition-colors text-left ${Wr.hasData?"hover:bg-gray-50 cursor-pointer":"opacity-50 cursor-not-allowed"}`,children:[jsxRuntimeExports.jsx("span",{className:`text-[11px] font-semibold ${Wr.hasData?"text-gray-700":"text-gray-400"}`,children:Wr.label}),Wr.hasData?jsxRuntimeExports.jsx(FaDownload,{size:9,className:"text-gray-400"}):jsxRuntimeExports.jsx("span",{className:"text-[9px] text-gray-400 bg-gray-50 px-1.5 py-0.5 rounded border border-gray-100",children:"No Data"})]},ai))]})]})]}),jsxRuntimeExports.jsx("button",{onClick:e,className:"p-2 text-gray-400 hover:text-gray-700 hover:bg-gray-100 rounded-lg transition-all",children:jsxRuntimeExports.jsx(FaTimes,{size:14})})]})]}),Ce&&jsxRuntimeExports.jsxs("div",{className:"absolute inset-0 bg-white/90 z-10 flex flex-col items-center justify-center",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-xl bg-gray-100 flex items-center justify-center mb-3",children:jsxRuntimeExports.jsx(FaClock,{size:20,className:"text-gray-400 animate-spin"})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Loading application data..."})]}),!Ee&&!Ce&&jsxRuntimeExports.jsx("div",{className:"flex-1 flex items-center justify-center",children:jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"No data available."})}),jsxRuntimeExports.jsx("div",{className:"bg-white border-b border-gray-200 px-5 flex overflow-x-auto scrollbar-hide shrink-0",children:Be.map(Wr=>jsxRuntimeExports.jsx("button",{onClick:()=>De(Wr.id),className:`py-3 px-4 text-[11px] font-semibold uppercase tracking-wider border-b-2 transition-all whitespace-nowrap ${Te===Wr.id?"border-gray-900 text-gray-900":"border-transparent text-gray-400 hover:text-gray-600 hover:border-gray-200"}`,children:Wr.label},Wr.id))}),Ee&&jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-gray-50/30",children:jsxRuntimeExports.jsxs("div",{className:"max-w-5xl mx-auto",children:[Te==="producerRegistration"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Producer Registration Details"}),We((bs=Ee.filmmaker)==null?void 0:bs.producerRegistration,[["Company Name","productionCompanyName"],["Company Type","companyType"],["Authorized Rep","authorizedRepresentative"],["Full Address","fullAddress"],["Pin Code","pinCode"],["State","state"],["Country","country"],["Email","email"],["Contact","contactNumber"],["CIN/Reg No","companyIdentificationNumber"],["CIN Document","companyIdentificationDocument"],["PAN","pan"],["PAN Document","panDocument"],["GST No","gstRegistrationNumber"],["GST Certificate","gstCertificate"],["LP Company Name","lineProducerCompanyName"],["LP Company Type","lineProducerCompanyType"],["LP Name","lineProducerName"],["LP PAN","lineProducerPan"],["LP Address","lineProducerAddress"],["LP Pin Code","lineProducerPinCode"],["LP State","lineProducerState"],["LP Email","lineProducerEmail"],["LP Mobile","lineProducerMobile"]])]}),Te==="annexureOne"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Annexure 1 â€” Project Details"}),We((ps=(Ns=Ee.forms)==null?void 0:Ns.annexureOne)==null?void 0:ps.data,[["Project Title","titleOfProject"],["Project Type","typeOfProject"],["Language","language"],["Genre","genre"],["Duration","durationOfProject"],["Producer Name","producerName"],["Production House","productionHouse"],["Line Producer","lineProducerNameAndContact"],["Total Shooting Days","totalShootingDays"],["Days In Bihar","shootingDaysInBihar"],["Shooting Dates","shootingDatesInBihar"],["Proposed Locations","proposedShootingLocationInBihar"],["Approx Budget","approximateBudgetOfProject"],["Expenditure In Bihar","approximateExpenditureInBihar"],["Est. Manpower (Bihar)","estimatedManpowerUtilizationBihar"],["Executive Producer","executiveProducerName"],["EP Designation","executiveProducerDesignation"],["EP Address","executiveProducerAddress"],["EP Email","executiveProducerEmail"],["EP Mobile","executiveProducerMobile"],["Director & Cast","directorAndMainCastNames"],["Synopsis","synopsis"],["Additional Details","details"]])]}),Te==="nocForm"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Annexure 2 â€” NOC Application"}),We((ws=(_s=Ee.forms)==null?void 0:_s.nocForm)==null?void 0:ws.data,[["Project Title","title"],["Project Type","typeOfProject"],["Language","language"],["Genre","genre"],["Duration","duration"],["Director & Main Cast","directorAndMainCast"],["Synopsis","synopsis"],["Brief Synopsis","briefSynopsis"],["Production House","producerHouse"],["Production House Address","productionHouseAddress"],["Production House Email","emailOfProductionHouse"],["Production House Contact","contactOfProductionHouse"],["PH Constitution","productionHouseConstitution"],["Registration Number","registrationNumber"],["Line Producer Details","lineProducerDetails"],["Authorized Representative","representativeName"],["Applicant Name","authorizedApplicantName"],["Applicant Designation","designationOfApplicant"],["Applicant Address","addressOfApplicant"],["Applicant Contact","contactOfApplicant"],["Applicant Email","emailOfApplicant"],["Main Artists at Location","mainArtistsAtLocation"],["Shooting Locations Count","numberOfShootingLocations"],["Drone Permission","dronePermissionRequired"],["Animal in Shooting","animalPartOfShooting"],["Fire/Blasting Scene","fireOrBlastingScene"],["Temporary Structures","temporaryStructureCreation"],["Police/Security Req","policeOrSecurityRequirement"],["Site Contact Details","siteContactPersonDetails"],["Branding/Asset Use","inFilmBrandingOrAssetUse"],["Other Particulars","otherParticulars"],["Other Details","otherDetails"],["MIB Certificate","mibCertificate"],["MEA Certificate","meaCertificate"],["Official Seal","seal"],["Signature","signature"]])]}),Te==="annexureA"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Annexure A â€” Shooting Locations"}),Ge((ys=(ms=(js=Ee.forms)==null?void 0:js.nocForm)==null?void 0:ms.data)==null?void 0:ys.annexureA)]}),Te==="documents"&&jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[((zs=(ks=Ee.forms)==null?void 0:ks.nocDocumentsAndSynopsis)==null?void 0:zs.data)&&jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Shooting Permission Documents"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[{label:"Request Letter",url:Ee.forms.nocDocumentsAndSynopsis.data.requestLetter},{label:"Registration Certificate",url:Ee.forms.nocDocumentsAndSynopsis.data.registrationCertificate},{label:"Title Registration",url:Ee.forms.nocDocumentsAndSynopsis.data.titleRegistration}].map((Wr,ai)=>Wr.url&&jsxRuntimeExports.jsxs("a",{href:Wr.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3.5 bg-white border border-gray-200/80 rounded-xl hover:border-gray-300 hover:shadow-sm transition-all group",children:[jsxRuntimeExports.jsx("div",{className:"w-9 h-9 rounded-lg bg-blue-50 flex items-center justify-center flex-shrink-0 group-hover:bg-blue-100 transition-colors",children:jsxRuntimeExports.jsx(FaFilePdf,{size:14,className:"text-blue-500"})}),jsxRuntimeExports.jsxs("div",{className:"overflow-hidden",children:[jsxRuntimeExports.jsx("h5",{className:"text-[12px] font-bold text-gray-700 truncate group-hover:text-gray-900",children:Wr.label}),jsxRuntimeExports.jsxs("span",{className:"text-[10px] text-blue-500 font-medium flex items-center gap-1 mt-0.5",children:["View Document ",jsxRuntimeExports.jsx(FaExternalLinkAlt,{size:7})]})]})]},`noc-${ai}`))}),Ee.forms.nocDocumentsAndSynopsis.data.uploadedAt&&jsxRuntimeExports.jsxs("p",{className:"text-[10px] text-gray-400 mt-1",children:["Uploaded:"," ",qe(Ee.forms.nocDocumentsAndSynopsis.data.uploadedAt),Ee.forms.nocDocumentsAndSynopsis.data.updatedAt&&Ee.forms.nocDocumentsAndSynopsis.data.updatedAt!==Ee.forms.nocDocumentsAndSynopsis.data.uploadedAt&&` Â· Updated: ${qe(Ee.forms.nocDocumentsAndSynopsis.data.updatedAt)}`]})]}),jsxRuntimeExports.jsx(SectionHeader,{title:"Other Documents"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:[[{label:"Company ID",url:(Ps=(Cs=Ee.filmmaker)==null?void 0:Cs.producerRegistration)==null?void 0:Ps.companyIdentificationDocument},{label:"PAN Card",url:(Is=(Us=Ee.filmmaker)==null?void 0:Us.producerRegistration)==null?void 0:Is.panDocument},{label:"GST Certificate",url:(Ks=(Vs=Ee.filmmaker)==null?void 0:Vs.producerRegistration)==null?void 0:Ks.gstCertificate},{label:"MIB Certificate",url:(ur=(rr=(or=Ee.forms)==null?void 0:or.nocForm)==null?void 0:rr.data)==null?void 0:ur.mibCertificate},{label:"MEA Certificate",url:(zr=(Er=(Ws=Ee.forms)==null?void 0:Ws.nocForm)==null?void 0:Er.data)==null?void 0:zr.meaCertificate},{label:"Undertaking",url:(Lr=(tr=(Or=Ee.forms)==null?void 0:Or.undertaking)==null?void 0:tr.data)==null?void 0:Lr.documentUrl},{label:"Request Letter",url:(hr=(lr=(Js=Ee.forms)==null?void 0:Js.requestLetter)==null?void 0:lr.data)==null?void 0:hr.documentUrl},{label:"Synopsis",url:(vr=(Pr=(Ar=Ee.forms)==null?void 0:Ar.nocDocumentsAndSynopsis)==null?void 0:Pr.data)==null?void 0:vr.synopsis},{label:"Title Registration",url:(Ur=(Qr=(Mr=Ee.forms)==null?void 0:Mr.nocDocumentsAndSynopsis)==null?void 0:Qr.data)==null?void 0:Ur.titleRegistration},{label:"Registration Certificate",url:(Ti=(oi=(ti=Ee.forms)==null?void 0:ti.nocDocumentsAndSynopsis)==null?void 0:oi.data)==null?void 0:Ti.registrationCertificate}].map((Wr,ai)=>Wr.url&&jsxRuntimeExports.jsxs("a",{href:Wr.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-3 p-3.5 bg-white border border-gray-200/80 rounded-xl hover:border-gray-300 hover:shadow-sm transition-all group",children:[jsxRuntimeExports.jsx("div",{className:"w-9 h-9 rounded-lg bg-red-50 flex items-center justify-center flex-shrink-0 group-hover:bg-red-100 transition-colors",children:jsxRuntimeExports.jsx(FaFilePdf,{size:14,className:"text-red-500"})}),jsxRuntimeExports.jsxs("div",{className:"overflow-hidden",children:[jsxRuntimeExports.jsx("h5",{className:"text-[12px] font-bold text-gray-700 truncate group-hover:text-gray-900",children:Wr.label}),jsxRuntimeExports.jsxs("span",{className:"text-[10px] text-blue-500 font-medium flex items-center gap-1 mt-0.5",children:["View PDF ",jsxRuntimeExports.jsx(FaExternalLinkAlt,{size:7})]})]})]},ai)),!((mi=(_i=Ee.filmmaker)==null?void 0:_i.producerRegistration)!=null&&mi.companyIdentificationDocument)&&!((Sr=(Tr=(Ci=Ee.forms)==null?void 0:Ci.nocForm)==null?void 0:Tr.data)!=null&&Sr.mibCertificate)&&jsxRuntimeExports.jsx("div",{className:"col-span-full py-12 text-center text-gray-400 text-sm border border-dashed border-gray-200 rounded-xl",children:"No documents found"})]})]}),Te==="synopsis"&&jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Synopsis"}),(ri=(Kr=(Ir=Ee.forms)==null?void 0:Ir.nocDocumentsAndSynopsis)==null?void 0:Kr.data)!=null&&ri.synopsis?jsxRuntimeExports.jsx("div",{className:"bg-white border border-gray-200/80 rounded-xl p-6",children:jsxRuntimeExports.jsx("p",{className:"text-[13px] text-gray-700 leading-relaxed whitespace-pre-wrap",children:Ee.forms.nocDocumentsAndSynopsis.data.synopsis})}):jsxRuntimeExports.jsxs("div",{className:"py-12 text-center text-gray-400 text-sm bg-gray-50/50 border border-dashed border-gray-200 rounded-xl",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 rounded-xl bg-gray-100 flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(FaFilePdf,{className:"text-gray-300",size:16})}),"No synopsis available"]})]}),Te==="timeline"&&jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsx(SectionHeader,{title:"Application Timeline"}),(()=>{const Wr=Ee.timeline||[],ai={};Wr.forEach(yi=>{yi.officeType==="DEPARTMENT"&&(!ai[yi.officeId]||yi.id>ai[yi.officeId].id)&&(ai[yi.officeId]=yi)});const ii=Object.values(ai);return jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-200/80 p-5 flex flex-col md:flex-row gap-6 items-start",children:[ii.length>0&&jsxRuntimeExports.jsxs("div",{className:"flex-1 w-full space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Overall Progress"}),jsxRuntimeExports.jsx("div",{className:"h-2 w-full bg-gray-100 rounded-full overflow-hidden flex",children:Ee.status==="APPROVED"?jsxRuntimeExports.jsx("div",{className:"h-full w-full bg-emerald-500 rounded-full"}):ii.map((yi,Sn)=>{let $i="bg-gray-300";return["APPROVED","ACCEPTED"].includes(yi.status)&&($i="bg-emerald-500"),yi.status==="REJECTED"&&($i="bg-red-500"),jsxRuntimeExports.jsx("div",{className:`h-full flex-1 ${$i} border-r border-white last:border-0`},Sn)})}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between text-[11px] font-medium text-gray-500",children:[jsxRuntimeExports.jsxs("span",{children:[Ee.status==="APPROVED"?ii.length:ii.filter(yi=>["APPROVED","ACCEPTED"].includes(yi.status)).length," ","Approved"]}),jsxRuntimeExports.jsxs("span",{children:[ii.length," Departments"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 w-full space-y-2",children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Current Stage"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap items-center gap-1.5",children:(()=>{if(Ee.status==="APPROVED")return jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1.5 text-emerald-700 font-bold text-xs bg-emerald-50 px-2.5 py-1 rounded-md border border-emerald-100",children:[jsxRuntimeExports.jsx(FaCheckCircle,{size:11})," All Stages Cleared"]});const yi=ii.filter(dn=>!["APPROVED","ACCEPTED","REJECTED"].includes(dn.status)),Sn=ii.filter(dn=>["APPROVED","ACCEPTED"].includes(dn.status)),$i=ii.filter(dn=>dn.status==="REJECTED");return yi.length>0||Sn.length>0||$i.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[$i.map((dn,Si)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px] text-red-700 font-medium bg-red-50 px-2 py-1 rounded-md border border-red-100",children:[jsxRuntimeExports.jsx(FaTimes,{size:9})," ",dn.officeName]},`rej-${Si}`)),Sn.map((dn,Si)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px] text-emerald-700 font-medium bg-emerald-50 px-2 py-1 rounded-md border border-emerald-100",children:[jsxRuntimeExports.jsx(FaCheckCircle,{size:9})," ",dn.officeName]},`app-${Si}`)),yi.map((dn,Si)=>jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px] text-blue-700 font-medium bg-blue-50 px-2 py-1 rounded-md border border-blue-100",children:[jsxRuntimeExports.jsx(FaClock,{size:9})," ",dn.officeName]},`pend-${Si}`))]}):jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-xs",children:"Initial Review"})})()})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1 text-right shrink-0",children:[jsxRuntimeExports.jsx("label",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest block",children:"Last Updated"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-gray-800",children:qe(Ee.updatedAt||Ee.createdAt)}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-gray-400 font-mono",children:Ee.applicationNumber})]})]})})(),jsxRuntimeExports.jsx("div",{className:"overflow-hidden border border-gray-200/80 rounded-xl bg-white",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-xs",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200/80",children:[jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-[10px] font-semibold text-gray-500 uppercase tracking-wider",children:"Department"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-center text-[10px] font-semibold text-gray-500 uppercase tracking-wider",children:"Doc"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-center text-[10px] font-semibold text-gray-500 uppercase tracking-wider",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-center text-[10px] font-semibold text-gray-500 uppercase tracking-wider",children:"Forwarded"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-center text-[10px] font-semibold text-gray-500 uppercase tracking-wider",children:"Decided"}),jsxRuntimeExports.jsx("th",{className:"px-5 py-3 text-left text-[10px] font-semibold text-gray-500 uppercase tracking-wider",children:"Remarks"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-100",children:(()=>{var $i,dn;const Wr=Ee.timeline||[],ai={};Wr.forEach(Si=>{Si.officeType!=="DISTRICT"&&(ai[Si.officeId]?Si.id>ai[Si.officeId].id&&(ai[Si.officeId]=Si):ai[Si.officeId]=Si)});const ii=Object.values(ai),yi=(($i=Ee.finalApproval)==null?void 0:$i.isApproved)&&((dn=Ee.finalApproval)==null?void 0:dn.status)==="APPROVED",Sn=ii.length>0&&ii.every(Si=>{var pi;return["ACCEPTED","APPROVED"].includes((pi=Si.status)==null?void 0:pi.toUpperCase())});return yi&&ii.push({id:"final-approval-row",officeName:"Bihar State Film Development and Finance Corporation",status:"APPROVED",documentUrl:Ee.finalApproval.documentUrl,forwardedAt:Ee.finalApproval.createdAt,decidedAt:Ee.finalApproval.approvedAt,remarks:"Final Shooting Permission Granted"}),ii.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"px-5 py-12 text-center text-gray-400 text-sm",children:"No timeline history available yet"})}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[yi&&jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"px-0 py-0",children:jsxRuntimeExports.jsxs("div",{className:"bg-emerald-50 border-b border-emerald-100 px-5 py-3 flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(FaCheckCircle,{size:14,className:"text-emerald-600"}),jsxRuntimeExports.jsx("span",{className:"text-emerald-700 font-bold text-xs uppercase tracking-wider",children:"NOC Permission Granted"})]})})}),!yi&&Sn&&jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"6",className:"px-0 py-0",children:jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 border-b border-blue-100 px-5 py-3 flex items-center justify-center gap-2",children:[jsxRuntimeExports.jsx(FaClock,{size:14,className:"text-blue-600"}),jsxRuntimeExports.jsx("span",{className:"text-blue-700 font-bold text-xs uppercase tracking-wider",children:"Awaiting Final Approval"})]})})}),ii.sort((Si,pi)=>Si.status==="REJECTED"?-1:pi.status==="REJECTED"?1:0).map(Si=>{const pi=Je(Si.status);return jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50/50 transition-colors",children:[jsxRuntimeExports.jsx("td",{className:"px-5 py-3 text-[12px] font-medium text-gray-700",children:Si.officeName}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3 text-center",children:Si.documentUrl||Si.forwardedLetterUrl?jsxRuntimeExports.jsx("a",{href:Si.documentUrl||Si.forwardedLetterUrl,target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center w-7 h-7 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors",title:"View Document",children:jsxRuntimeExports.jsx(FaFilePdf,{size:11})}):jsxRuntimeExports.jsx("span",{className:"text-gray-300",children:"â€”"})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3 text-center",children:jsxRuntimeExports.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-md border text-[9px] uppercase font-bold tracking-wider ${pi.bg} ${pi.text} ${pi.border}`,children:[jsxRuntimeExports.jsx("span",{className:`w-1 h-1 rounded-full ${pi.dot}`}),Si.status]})}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3 text-gray-500 text-center text-[11px]",children:qe(Si.forwardedAt)}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3 text-gray-500 text-center whitespace-nowrap text-[11px]",children:Si.decidedAt?qe(Si.decidedAt):"â€”"}),jsxRuntimeExports.jsx("td",{className:"px-5 py-3 text-gray-500 max-w-xs truncate text-[11px]",title:Si.remarks,children:Si.remarks||"â€”"})]},Si.id)})]})})()})]})})]})]})})]})]})},SectionHeader=({title:Re})=>jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 pb-3 border-b border-gray-200/80 mb-1",children:[jsxRuntimeExports.jsx("div",{className:"w-1 h-5 bg-gray-900 rounded-full"}),jsxRuntimeExports.jsx("h3",{className:"text-[13px] font-bold text-gray-900 tracking-tight",children:Re})]}),PartialGuideImg="/assets/partial_forms_guide-C4xH5Abb.png",computeLatestDepartments=Re=>{const e={};for(const Ee of Re)Ee.officeType==="DEPARTMENT"&&(!e[Ee.officeId]||Ee.id>e[Ee.officeId].id)&&(e[Ee.officeId]=Ee);return Object.values(e)},computeOverallStatus=(Re,e)=>{const Ee=e==null?void 0:e.toUpperCase();return["APPROVED","FINAL_APPROVED","ACCEPTED"].includes(Ee)?"APPROVED":Ee==="REJECTED"?"REJECTED":!Re||Re.length===0?"SUBMITTED":Re.some(Ce=>Ce.status==="REJECTED")?"REJECTED":"FORWARDED"},FilmmakerOverview=()=>{var _s,ws;const[Re,e]=reactExports.useState(!0),[Ee,Ce]=reactExports.useState(null),[Te,De]=reactExports.useState([]),[Me,Oe]=reactExports.useState({}),[Be,ze]=reactExports.useState(!1),[Ve,qe]=reactExports.useState(null),[We,Ge]=reactExports.useState("ALL"),[Je,Qe]=reactExports.useState("basic"),[ns,Ye]=reactExports.useState(!1),[rs,ts]=reactExports.useState(null),[Xe,is]=reactExports.useState(null),[os,hs]=reactExports.useState(!1),fs=useNavigate(),[xs,Ss]=reactExports.useState(new Set),ds=async()=>{var js;try{e(!0),Ss(new Set),Oe({});const ms=await api.get("/api/applications/my");if(ms.data.success){const ys=ms.data.data;De(Array.isArray(ys)?ys:[ys])}}catch(ms){console.error("Error fetching applications:",ms),((js=ms.response)==null?void 0:js.status)===401?(Ce("Session expired. Please login again."),setTimeout(()=>fs("/login"),2e3)):Ce("Failed to load applications.")}finally{e(!1)}};reactExports.useEffect(()=>{ds()},[fs]),reactExports.useEffect(()=>{(async()=>{if(!(Te!=null&&Te.length))return;const ms={};await Promise.all(Te.map(async ys=>{const ks=ys.applicationId||ys.id||ys._id;if(ks)try{const zs=await api.get(`/api/applicationTimeline/applications/${ks}/timeline`);zs.data.success&&(ms[ks]=zs.data)}catch(zs){console.error(`Failed to fetch timeline for app ${ks}`,zs)}})),Oe(ms)})()},[Te]);const gs=js=>{switch(js==null?void 0:js.toUpperCase()){case"APPROVED":return"bg-green-100 text-green-700 border-green-200";case"ACCEPTED":return"bg-green-100 text-green-700 border-green-200";case"SUBMITTED":return"bg-green-100 text-green-700 border-green-200";case"REJECTED":return"bg-red-100 text-red-700 border-red-200";case"PROCESSING":return"bg-orange-100 text-orange-700 border-orange-200";case"FORWARDED":return"bg-blue-100 text-blue-700 border-blue-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},Ts=js=>js?new Date(js).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",Ds=async js=>{try{hs(!0),is(null);const ms=await api.get(`/api/applications/my/${js}`);ms.data.success&&is(ms.data.data)}catch(ms){console.error("Error fetching detailed application:",ms)}finally{hs(!1)}},Ms=reactExports.useMemo(()=>{const js={total:Te.length,approved:0,pending:0,rejected:0};return Te.forEach(ms=>{const ys=ms.applicationId||ms.id||ms._id,ks=Me[ys],zs=(ks==null?void 0:ks.application)||ms,Cs=(ks==null?void 0:ks.timeline)||[],Ps=computeLatestDepartments(Cs),Us=computeOverallStatus(Ps,zs.status);Us==="APPROVED"?js.approved++:Us==="REJECTED"?js.rejected++:js.pending++}),js},[Te,Me]),bs=reactExports.useMemo(()=>We==="ALL"?Te:Te.filter(js=>{const ms=js.applicationId||js.id||js._id,ys=Me[ms],ks=(ys==null?void 0:ys.application)||js,zs=(ys==null?void 0:ys.timeline)||[],Cs=computeLatestDepartments(zs);return computeOverallStatus(Cs,ks.status)===We}),[Te,Me,We]),Ns=()=>{if(xs.size===bs.length)Ss(new Set);else{const js=new Set(bs.map(ms=>ms.applicationId||ms.id||ms._id));Ss(js)}},ps=(js,ms)=>{ms.stopPropagation();const ys=new Set(xs);ys.has(js)?ys.delete(js):ys.add(js),Ss(ys)};return Re&&Te.length===0?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center h-64",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin text-rose-700",children:jsxRuntimeExports.jsx(Clock,{size:32})}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 mt-4 text-xs",children:"Loading applications..."})]}):Ee?jsxRuntimeExports.jsx("div",{className:"p-4 bg-rose-50 text-rose-700 rounded-lg border border-rose-200 text-sm",children:Ee}):jsxRuntimeExports.jsxs("div",{className:"space-y-6 pb-12",children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-700",children:"Shooting Permission Request"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(CircleCheck,{size:14,className:"text-green-600"}),jsxRuntimeExports.jsx("span",{children:"Approved"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx(CircleCheck,{size:14,className:"text-blue-600"}),jsxRuntimeExports.jsx("span",{children:"Processing"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5",children:[jsxRuntimeExports.jsx("div",{className:"w-3.5 h-3.5 rounded-full border border-gray-300"}),jsxRuntimeExports.jsx("span",{children:"Pending"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx(StatCard,{label:"Total Applications",value:Ms.total,icon:jsxRuntimeExports.jsx(FileText,{size:20}),colorClass:"text-indigo-600",bgClass:"bg-indigo-50/50",borderClass:"hover:border-indigo-100"}),jsxRuntimeExports.jsx(StatCard,{label:"Approved",value:Ms.approved,icon:jsxRuntimeExports.jsx(CircleCheck,{size:20}),colorClass:"text-emerald-600",bgClass:"bg-emerald-50/50",borderClass:"hover:border-emerald-100"}),jsxRuntimeExports.jsx(StatCard,{label:"Pending / Processing",value:Ms.pending,icon:jsxRuntimeExports.jsx(Clock,{size:20}),colorClass:"text-amber-600",bgClass:"bg-amber-50/50",borderClass:"hover:border-amber-100"}),jsxRuntimeExports.jsx(StatCard,{label:"Rejected",value:Ms.rejected,icon:jsxRuntimeExports.jsx(CircleX,{size:20}),colorClass:"text-rose-600",bgClass:"bg-rose-50/50",borderClass:"hover:border-rose-100"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center flex-wrap gap-2",children:[{label:"All Applications",value:"ALL"},{label:"Pending",value:"FORWARDED"},{label:"Approved",value:"APPROVED"},{label:"Rejected",value:"REJECTED"}].map(js=>jsxRuntimeExports.jsx("button",{onClick:()=>{Ge(js.value),Ss(new Set)},className:`px-4 py-1.5 rounded-full text-xs font-medium transition-all border ${We===js.value?"bg-indigo-600 text-white border-indigo-600 shadow-sm":"bg-white text-gray-500 border-gray-200 hover:bg-gray-50 hover:border-gray-300"}`,children:js.label},js.value))}),jsxRuntimeExports.jsx("button",{onClick:ds,disabled:Re,className:"p-2 text-gray-400 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-all border border-gray-200 bg-white shadow-sm disabled:opacity-50",title:"Refresh Table",children:jsxRuntimeExports.jsx(RefreshCcw,{size:16,className:Re?"animate-spin":""})})]}),bs.length===0?jsxRuntimeExports.jsx("div",{className:"py-12 bg-gray-50/50 rounded-xl border border-dashed border-gray-200 text-center",children:jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm",children:"No applications found in this category."})}):jsxRuntimeExports.jsx("div",{className:"bg-white border border-gray-100 rounded-xl shadow-sm overflow-hidden",children:jsxRuntimeExports.jsxs("table",{className:"w-full text-sm",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-50/50 border-b border-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-4 w-10 text-center",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-rose-600 focus:ring-rose-500 cursor-pointer",checked:bs.length>0&&xs.size===bs.length,onChange:Ns})}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-left font-medium text-gray-500 uppercase tracking-wider text-xs",children:"Application ID"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-left font-medium text-gray-500 uppercase tracking-wider text-xs",children:"Last Updated"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-center font-medium text-gray-500 uppercase tracking-wider text-xs",children:"Status"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-left font-medium text-gray-500 uppercase tracking-wider text-xs",children:"Current Stage"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-center font-medium text-gray-500 uppercase tracking-wider text-xs",children:"Letter"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-end font-medium text-gray-500 uppercase tracking-wider text-xs",children:"Actions"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-50",children:bs.map(js=>{const ms=js.applicationId||js.id||js._id,ys=Me[ms],ks=(ys==null?void 0:ys.application)||js,zs=(ys==null?void 0:ys.timeline)||[],Cs=computeLatestDepartments(zs),Ps=computeOverallStatus(Cs,ks.status);return Cs.find(Us=>Us.status==="REJECTED"),jsxRuntimeExports.jsx(React.Fragment,{children:jsxRuntimeExports.jsxs("tr",{className:`transition-colors cursor-pointer border-b border-gray-50 last:border-0 ${xs.has(ms)?"bg-rose-50/30":"hover:bg-gray-50"}`,onClick:()=>{ts({appItem:js,appDetails:ks,departments:Cs,overallStatus:Ps}),Qe("basic"),Ye(!0),Ds(ms)},children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-3 text-center",children:jsxRuntimeExports.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-rose-600 focus:ring-rose-500 cursor-pointer",checked:xs.has(ms),onChange:Us=>ps(ms,Us),onClick:Us=>Us.stopPropagation()})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-3 font-semibold text-gray-700 text-sm",children:ks.applicationNumber}),jsxRuntimeExports.jsx("td",{className:"px-6 py-3 text-gray-500 text-xs",children:Ts(ks.updatedAt||ks.createdAt)}),jsxRuntimeExports.jsx("td",{className:"px-6 py-3 text-center",children:(()=>{var Er;const Us=js.forms||ks.forms||{},Is=js.progress||ks.progress||{},Vs=Is.annexureOneCompleted||!!Us.annexureOne,Ks=Is.nocFormCompleted||!!Us.nocForm,or=Is.undertakingUploaded||!!Us.undertaking,rr=Is.annexureAFilledOrNot===!0,ur=Is.nocDocumentsSubmitted===!0;if(Vs&&Ks&&rr&&or&&ur)return jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center gap-1.5",children:[jsxRuntimeExports.jsx("span",{className:`px-2.5 py-0.5 rounded-full border text-[10px] font-medium uppercase tracking-wide inline-block ${gs(ks.status)}`,children:ks.status||"SUBMITTED"}),["PROCESSING","FORWARDED","REJECTED"].includes((Er=ks.status)==null?void 0:Er.toUpperCase())&&Cs.length>0&&jsxRuntimeExports.jsxs("div",{className:"w-24 group relative",children:[jsxRuntimeExports.jsx("div",{className:"h-1.5 w-full bg-gray-100 rounded-full overflow-hidden flex",children:Cs.map((zr,Or)=>{let tr="bg-gray-300";return["APPROVED","ACCEPTED"].includes(zr.status)&&(tr="bg-green-500"),zr.status==="REJECTED"&&(tr="bg-red-500"),jsxRuntimeExports.jsx("div",{className:`h-full flex-1 ${tr} border-r border-white last:border-0`},Or)})}),jsxRuntimeExports.jsxs("div",{className:"text-[9px] text-gray-400 mt-0.5 font-medium",children:[Cs.filter(zr=>["APPROVED","ACCEPTED"].includes(zr.status)).length,"/",Cs.length," Approved"]})]}),(()=>{const zr=ks.status==="REJECTED"?Cs.find(Or=>Or.status==="REJECTED"):Cs[0];return zr!=null&&zr.remarks?jsxRuntimeExports.jsxs("div",{className:"absolute top-0 right-0 -mr-2 -mt-2 group/comment",children:[jsxRuntimeExports.jsx("div",{className:"bg-white p-1 rounded-full shadow-sm border border-gray-100 cursor-help",children:jsxRuntimeExports.jsx(MessageSquare,{size:10,className:"text-gray-400"})}),jsxRuntimeExports.jsxs("div",{className:"hidden group-hover/comment:block absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 bg-gray-800 text-white text-[10px] p-2 rounded-lg shadow-xl z-50",children:[jsxRuntimeExports.jsxs("div",{className:"font-semibold mb-0.5 text-gray-300",children:[zr.officeName,":"]}),'"',zr.remarks,'"',jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 left-1/2 -translate-x-1/2 w-2 h-2 bg-gray-800 rotate-45"})]})]}):null})()]});{const zr=[{name:"Documents",done:ur},{name:"Annexure 1",done:Vs},{name:"Annexure 2",done:Ks},{name:"Annexure A",done:rr},{name:"Undertaking",done:or}];return jsxRuntimeExports.jsx("div",{className:"flex flex-col gap-1 items-start w-full max-w-[140px] mx-auto",children:zr.map((Or,tr)=>jsxRuntimeExports.jsx("div",{className:"flex items-center gap-1.5 w-full",children:Or.done?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 bg-green-50 px-1.5 py-0.5 rounded-full text-[9px] text-green-700 font-medium border border-green-100 w-full",children:[jsxRuntimeExports.jsx(CircleCheck,{size:10,strokeWidth:2.5}),jsxRuntimeExports.jsx("span",{className:"truncate",children:Or.name})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 bg-gray-100 px-1.5 py-0.5 rounded-full text-[9px] text-gray-500 font-medium border border-gray-200 w-full opacity-70",children:[jsxRuntimeExports.jsx("div",{className:"w-2.5 h-2.5 rounded-full border border-gray-400"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:Or.name})]})},tr))})}})()}),jsxRuntimeExports.jsx("td",{className:"px-6 py-3",children:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:(()=>{var Ks,or,rr,ur;if((or=(Ks=ys==null?void 0:ys.application)==null?void 0:Ks.finalApproval)!=null&&or.completed&&((ur=(rr=ys==null?void 0:ys.application)==null?void 0:rr.finalApproval)!=null&&ur.isApproved))return jsxRuntimeExports.jsxs("span",{className:"text-xs text-green-600 font-medium flex items-center gap-1",children:[jsxRuntimeExports.jsx(CircleCheck,{size:12})," NOC Permission Granted"]});if(ks.status==="APPROVED")return jsxRuntimeExports.jsxs("span",{className:"text-xs text-green-600 font-medium flex items-center gap-1",children:[jsxRuntimeExports.jsx(CircleCheck,{size:12})," All Stages Cleared"]});const Us=Cs.filter(Ws=>!["APPROVED","ACCEPTED","REJECTED"].includes(Ws.status)),Is=Cs.filter(Ws=>["APPROVED","ACCEPTED"].includes(Ws.status)),Vs=Cs.filter(Ws=>Ws.status==="REJECTED");return Us.length>0||Is.length>0||Vs.length>0?jsxRuntimeExports.jsxs("div",{className:"flex flex-col gap-1",children:[Vs.map((Ws,Er)=>jsxRuntimeExports.jsxs("span",{className:"text-xs text-red-600 font-medium border border-red-100 bg-red-50 px-2 py-0.5 rounded-md flex items-center gap-1",children:[jsxRuntimeExports.jsx(CircleX,{size:10})," Rejected by"," ",Ws.officeName]},`rej-${Er}`)),Is.map((Ws,Er)=>jsxRuntimeExports.jsxs("span",{className:"text-xs text-green-600 font-medium border border-green-100 bg-green-50 px-2 py-0.5 rounded-md flex items-center gap-1",children:[jsxRuntimeExports.jsx(CircleCheck,{size:10})," ",Ws.officeName]},`app-${Er}`)),Us.slice(0,1).map((Ws,Er)=>jsxRuntimeExports.jsxs("span",{className:"text-xs text-indigo-600 font-medium border border-indigo-100 bg-indigo-50 px-2 py-0.5 rounded-md",children:["Pending with ",Ws.officeName||"Dept"]},`pend-${Er}`)),Us.length>1&&jsxRuntimeExports.jsxs("span",{className:"text-[10px] text-gray-400",children:["+",Us.length-1," more"]})]}):jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:"Initial Review"})})()})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-3 text-center",children:ks.forwardedLetterUrl?jsxRuntimeExports.jsxs("a",{href:ks.forwardedLetterUrl,target:"_blank",rel:"noopener noreferrer",className:"text-rose-600 font-bold text-xs hover:underline flex items-center justify-center gap-1",onClick:Us=>Us.stopPropagation(),children:[jsxRuntimeExports.jsx(FileText,{size:14}),"VIEW NOC"]}):jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-xs font-semibold",children:"NA"})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end gap-2",children:[jsxRuntimeExports.jsx("button",{className:"p-1.5 text-gray-400 hover:text-gray-600 transition-colors rounded-full hover:bg-gray-100",title:"View Details",onClick:Us=>{Us.stopPropagation(),ts({appItem:js,appDetails:ks,departments:Cs,overallStatus:Ps}),Qe("basic"),Ye(!0),Ds(ms)},children:jsxRuntimeExports.jsx(Eye,{size:16})}),jsxRuntimeExports.jsx("button",{className:"p-1.5 text-gray-400 hover:text-gray-600 transition-colors rounded-full hover:bg-gray-100",title:"Download Application",onClick:Us=>{Us.stopPropagation()},children:jsxRuntimeExports.jsx(Download,{size:16})})]})})]})},ms)})})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-8 overflow-hidden bg-white border border-gray-100 rounded-2xl shadow-sm",children:[jsxRuntimeExports.jsx("div",{className:"p-6 border-b border-gray-50 flex items-center justify-between bg-gray-50/30",children:jsxRuntimeExports.jsxs("h4",{className:"text-[13px] font-bold text-gray-700 uppercase tracking-widest flex items-center gap-2",children:[jsxRuntimeExports.jsx(Info,{size:16,className:"text-rose-600"}),"Application Processing Guide"]})}),jsxRuntimeExports.jsxs("div",{className:"p-8 grid grid-cols-1 lg:grid-cols-2 gap-12",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsx("h5",{className:"text-[12px] font-bold text-gray-400 uppercase tracking-widest border-b border-gray-50 pb-2",children:"Status Codes Explained"}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("span",{className:"shrink-0 px-2.5 py-0.5 rounded-full border border-green-200 bg-green-100 text-green-700 text-[9px] font-bold h-fit mt-1",children:"APPROVED"}),jsxRuntimeExports.jsx("p",{className:"text-[12px] text-gray-500 leading-relaxed",children:"Verified and cleared by the specific department. All departments must approve for final NOC."})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("span",{className:"shrink-0 px-2.5 py-0.5 rounded-full border border-green-200 bg-green-100 text-green-700 text-[9px] font-bold h-fit mt-1",children:"SUBMITTED"}),jsxRuntimeExports.jsx("p",{className:"text-[12px] text-gray-500 leading-relaxed",children:"All forms (Annexure 1, 2, A, Undertaking) are properly filled and submitted. Your application is now with the admin for initial review."})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("span",{className:"shrink-0 px-2.5 py-0.5 rounded-full border border-blue-200 bg-blue-100 text-blue-700 text-[9px] font-bold h-fit mt-1",children:"PENDING"}),jsxRuntimeExports.jsx("p",{className:"text-[12px] text-gray-500 leading-relaxed",children:"Currently under review by the department's nodal officer. No action required."})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4",children:[jsxRuntimeExports.jsx("span",{className:"shrink-0 px-2.5 py-0.5 rounded-full border border-red-200 bg-red-100 text-red-700 text-[9px] font-bold h-fit mt-1",children:"REJECTED"}),jsxRuntimeExports.jsx("p",{className:"text-[12px] text-gray-500 leading-relaxed",children:'Rejected by a specific department. Check "Current Stage" or details for the exact reason.'})]}),jsxRuntimeExports.jsxs("div",{className:"pt-4 border-t border-gray-50",children:[jsxRuntimeExports.jsx("h6",{className:"text-[11px] font-bold text-gray-600 mb-2",children:"Partial Information (Action Required)"}),jsxRuntimeExports.jsxs("p",{className:"text-[11px] text-gray-400 leading-relaxed mb-3",children:["If a checklist appears in the status column as shown below, it indicates that"," ",jsxRuntimeExports.jsx("strong",{className:"underline text-gray-700",children:"all required forms have not yet been completed"}),". To successfully submit your application, you must fill out all four forms: Annexure 1, Annexure 2, Annexure A, and the Undertaking."]}),jsxRuntimeExports.jsx("div",{className:"bg-gray-50 p-2 rounded-lg border border-gray-100 inline-block",children:jsxRuntimeExports.jsx("img",{src:PartialGuideImg,alt:"Partial Status Example",className:"h-auto w-48 rounded shadow-sm opacity-90"})})]})]})]}),jsxRuntimeExports.jsx("div",{className:"space-y-8",children:jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("h5",{className:"text-[12px] font-bold text-gray-400 uppercase tracking-widest border-b border-gray-50 pb-2",children:"New Timeline System"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-[12px] font-semibold text-gray-700",children:[jsxRuntimeExports.jsx(CircleCheck,{size:14,className:"text-green-500"})," ","Multi-Dept Tracking"]}),jsxRuntimeExports.jsx("p",{className:"text-[11px] text-gray-400 leading-relaxed",children:"Track approvals individually. See which departments have cleared your request and which are pending."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-[12px] font-semibold text-gray-700",children:[jsxRuntimeExports.jsx(FileText,{size:14,className:"text-blue-500"})," Documents"]}),jsxRuntimeExports.jsx("p",{className:"text-[11px] text-gray-400 leading-relaxed",children:"Download forwarded letters or NOCs directly from the timeline as soon as they are issued by a department."})]})]})]})})]})]}),jsxRuntimeExports.jsx(ApplicationDetailsModal,{isOpen:ns,onClose:()=>Ye(!1),data:Xe?{...Xe,finalApproval:(ws=(_s=Me[Xe.applicationId||Xe.id||Xe._id])==null?void 0:_s.application)==null?void 0:ws.finalApproval}:null,loading:os})]})},StatCard=({label:Re,value:e,icon:Ee,colorClass:Ce,bgClass:Te,borderClass:De})=>jsxRuntimeExports.jsxs("div",{className:`bg-white p-5 border border-gray-100 rounded-2xl shadow-sm transition-all duration-300 hover:shadow-md hover:-translate-y-1 group ${De}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsx("p",{className:"text-[12px] font-semibold text-gray-400 uppercase tracking-widest",children:Re}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-800 tracking-tight",children:e})]}),jsxRuntimeExports.jsx("div",{className:`p-3 rounded-xl transition-colors duration-300 ${Te} ${Ce} group-hover:scale-110 transform`,children:Ee})]}),jsxRuntimeExports.jsx("div",{className:"mt-4 flex items-center gap-2",children:jsxRuntimeExports.jsx("div",{className:"h-1 w-8 rounded-full bg-gray-100 group-hover:bg-current transition-colors duration-500 opacity-20"})})]}),CategoryDropdown=({options:Re,value:e,onChange:Ee,placeholder:Ce="Select categories",label:Te="Categories",required:De=!1,error:Me=""})=>{const[Oe,Be]=reactExports.useState(!1),ze=reactExports.useRef(null),Ve=Array.isArray(e)?e:[];reactExports.useEffect(()=>{const Ge=Je=>{ze.current&&!ze.current.contains(Je.target)&&Be(!1)};return document.addEventListener("mousedown",Ge),()=>{document.removeEventListener("mousedown",Ge)}},[]);const qe=Ge=>{let Je;Ve.includes(Ge)?Je=Ve.filter(Qe=>Qe!==Ge):Je=[...Ve,Ge],Ee(Je)},We=(Ge,Je)=>{Ge.stopPropagation();const Qe=Ve.filter(ns=>ns!==Je);Ee(Qe)};return jsxRuntimeExports.jsxs("div",{className:"relative",ref:ze,children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:[Te," ",De&&jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>Be(!Oe),className:`w-full px-3 py-2 bg-white border rounded-lg flex items-center justify-between transition-colors focus:outline-none focus:ring-2 focus:ring-[#a92b4e] focus:border-transparent ${Me?"border-red-500":"border-gray-300"} min-h-[42px]`,children:[jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-1 text-left",children:Ve.length>0?Ve.map(Ge=>jsxRuntimeExports.jsxs("span",{className:"bg-rose-50 text-[#a92b4e] text-xs px-2 py-0.5 rounded-md flex items-center gap-1",children:[Ge,jsxRuntimeExports.jsx("span",{role:"button",onClick:Je=>We(Je,Ge),className:"hover:text-rose-800 rounded-full",children:jsxRuntimeExports.jsx(X$1,{className:"w-3 h-3"})})]},Ge)):jsxRuntimeExports.jsx("span",{className:"text-gray-500",children:Ce})}),jsxRuntimeExports.jsx(ChevronDown,{className:`w-4 h-4 text-gray-500 transition-transform duration-200 flex-shrink-0 ml-2 ${Oe?"transform rotate-180":""}`})]}),Me&&jsxRuntimeExports.jsx("p",{className:"mt-1 text-xs text-red-500",children:Me}),Oe&&jsxRuntimeExports.jsx("div",{className:"absolute z-50 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-auto",children:jsxRuntimeExports.jsx("ul",{className:"py-1",children:Re.map(Ge=>{const Je=Ve.includes(Ge);return jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>qe(Ge),className:`w-full px-4 py-2 text-sm text-left flex items-center justify-between hover:bg-gray-50 transition-colors ${Je?"bg-rose-50/50 text-[#a92b4e] font-medium":"text-gray-700"}`,children:[jsxRuntimeExports.jsx("span",{className:"truncate",children:Ge}),Je&&jsxRuntimeExports.jsx(Check,{className:"w-4 h-4"})]})},Ge)})})})]})},VENDOR_CATEGORIES=["Shooting Studios","Sound Studios","Editing Studios","Animation & Graphics Studios","Costume Suppliers","Props Suppliers","Food & Catering Suppliers","Cine Equipment Suppliers","Junior Artist Providers","Spot Boy Providers","Hotels & Hospitality Providers","Vanity Van Providers","Transport Providers","Logistics Providers","Travel Agents","Generator Services","Security Services","Houses for shooting providers","Choreography & Dancers","Still Photography & BTS","Lighting Equipment Suppliers","Others"],ITEMS_PER_PAGE=5,extractCategories=Re=>Re?Array.isArray(Re.categories)?Re.categories.map(e=>{var Ee;return typeof e=="object"?(Ee=e.category)==null?void 0:Ee.name:e}).filter(Boolean):Array.isArray(Re.category)?Re.category:typeof Re.category=="string"?Re.category.split(",").map(e=>e.trim()).filter(Boolean):[]:[],isVisibleOnHomepage=Re=>(Re==null?void 0:Re.verified)===!0||(Re==null?void 0:Re.verified)===1,VendorDashboard=()=>{var Ti,_i,mi,Ci;const[Re,e]=reactExports.useState(null),[Ee,Ce]=reactExports.useState(!0),[Te,De]=reactExports.useState(null),[Me,Oe]=reactExports.useState(!1),[Be,ze]=reactExports.useState({id:null,vendorName:"",category:[],phoneNumber:"",email:"",address:"",website:"",logoUrl:"",products:[],createdAt:new Date().toISOString()}),[Ve,qe]=reactExports.useState({totalProducts:0,totalViews:1247,totalInquiries:89,averageRating:4.6,monthlyRevenue:125e3,activeBookings:7}),[We,Ge]=reactExports.useState(!1),[Je,Qe]=reactExports.useState(!1),[ns,Ye]=reactExports.useState(!1),[rs,ts]=reactExports.useState(null),[Xe,is]=reactExports.useState(1),[os,hs]=reactExports.useState(!1),[fs,xs]=reactExports.useState(null),[Ss,ds]=reactExports.useState(null),[gs,Ts]=reactExports.useState(null),[Ds,Ms]=reactExports.useState(null),[bs,Ns]=reactExports.useState({name:"",type:"",subType:"",description:"",price:"",priceFrom:"",priceTo:"",link:""}),[ps,_s]=reactExports.useState(!1),[ws,js]=reactExports.useState(!1),[ms,ys]=reactExports.useState({vendorName:"",category:[],phoneNumber:"",email:"",address:"",website:""}),[ks,zs]=reactExports.useState({isOpen:!1,type:"info",title:"",message:"",confirmText:"OK",showCancel:!1,onConfirm:null,autoClose:!1}),[Cs,Ps]=reactExports.useState({vendorName:"",phoneNumber:"",email:"",address:"",website:""}),Us="/api/vendor",Is="/api/vendorproduct",Vs=Tr=>{zs({isOpen:!0,type:Tr.type||"info",title:Tr.title||"",message:Tr.message||"",confirmText:Tr.confirmText||"OK",cancelText:Tr.cancelText||"Cancel",showCancel:Tr.showCancel||!1,onConfirm:Tr.onConfirm||null,autoClose:Tr.autoClose||!1,duration:Tr.duration||3e3})},Ks=()=>{zs(Tr=>({...Tr,isOpen:!1}))},or=(Tr,Sr)=>{let Ir="";switch(Tr){case"vendorName":Sr&&!/^[a-zA-Z\s]*$/.test(Sr)&&(Ir="Only text allowed (no numbers or special characters).");break;case"phoneNumber":Sr&&!/^\d*$/.test(Sr)?Ir="Only numbers allowed.":Sr.length>0&&Sr.length!==10&&Sr.length!==12&&(Ir="Phone number must be either 10 or 12 digits.");break;case"email":{Sr&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Sr)&&(Ir="Please enter a valid email.");break}case"website":Sr&&!Sr.startsWith("https://")&&(Ir="Website URL must start with https://");break}return Ir};reactExports.useEffect(()=>{(async()=>{try{Ce(!0),De(null);const Sr=await api.get(`${Us}/myVendorProfile`,{validateStatus:()=>!0});if(Sr.status>=200&&Sr.status<300){const Ir=Sr.data,Kr=extractCategories(Ir.data);ze({...Ir.data,category:Kr}),e(Ir.data.id),qe(ri=>{var Wr;return{...ri,totalProducts:((Wr=Ir.data.products)==null?void 0:Wr.length)||0}}),ys({vendorName:Ir.data.vendorName||"",category:Kr,phoneNumber:Ir.data.phoneNumber||"",email:Ir.data.email||"",address:Ir.data.address||"",website:Ir.data.website||""}),Ir.data.logoUrl&&ds(Ir.data.logoUrl)}else if(Sr.status===404||Sr.status===403)e(null),De(null);else if(Sr.status===401)De("Session expired. Please login again."),Vs({type:"error",title:"Session Expired",message:"Your session has expired. Please login again.",confirmText:"Login",onConfirm:()=>{window.location.href="/login"}});else throw new Error(`HTTP ${Sr.status}`)}catch(Sr){console.error("Error fetching vendor profile:",Sr),De("Failed to load vendor profile. Please try again."),Vs({type:"error",title:"Failed to Load Profile",message:"Unable to load your vendor profile. Please try again.",confirmText:"Retry",onConfirm:()=>window.location.reload()})}finally{Ce(!1)}})()},[]);const rr=async Tr=>{var Sr;Tr.preventDefault(),Oe(!0);try{if(Object.values(Cs).some(ri=>ri)){Vs({type:"error",title:"Validation Error",message:"Please fix the errors in the form before submitting."});return}if(!ms.vendorName||ms.category.length===0||!ms.phoneNumber||!ms.email||!ms.address){Vs({type:"warning",title:"Missing Fields",message:"Please fill in all required fields"});return}if(!fs){Vs({type:"warning",title:"Logo Required",message:"Please upload a logo for your vendor profile"});return}const Ir=new FormData;Ir.append("vendorName",ms.vendorName),Ir.append("categories",ms.category.join(", ")),Ir.append("phoneNumber",ms.phoneNumber),Ir.append("email",ms.email),Ir.append("address",ms.address),Ir.append("website",ms.website||""),Ir.append("logo",fs);const Kr=await api.post(`${Us}/addvendors`,Ir,{validateStatus:()=>!0});if(Kr.status>=200&&Kr.status<300){const ri=Kr.data,Wr=extractCategories(ri.data);e(ri.data.id),ze({...ri.data,category:Wr}),ys({vendorName:ri.data.vendorName||"",category:Wr,phoneNumber:ri.data.phoneNumber||"",email:ri.data.email||"",address:ri.data.address||"",website:ri.data.website||""}),Qe(!1),ds(null),xs(null),Vs({type:"success",title:"Profile Created!",message:"Your vendor profile has been created successfully. Now add your products!",autoClose:!0,duration:2500})}else throw new Error(((Sr=Kr.data)==null?void 0:Sr.message)||"Failed to create profile")}catch(Ir){console.error("Error creating profile:",Ir),Vs({type:"error",title:"Creation Failed",message:`Failed to create profile: ${Ir.message}`})}finally{Oe(!1)}},ur=async Tr=>{var Sr;Tr.preventDefault(),Oe(!0);try{if(Object.values(Cs).some(ri=>ri)){Vs({type:"error",title:"Validation Error",message:"Please fix the errors in the form before submitting."});return}if(!ms.vendorName||ms.category.length===0||!ms.phoneNumber||!ms.email||!ms.address){Vs({type:"warning",title:"Missing Fields",message:"Please fill in all required fields"});return}const Ir=new FormData;Ir.append("vendorName",ms.vendorName),Ir.append("categories",ms.category.join(", ")),Ir.append("phoneNumber",ms.phoneNumber),Ir.append("email",ms.email),Ir.append("address",ms.address),Ir.append("website",ms.website||""),fs&&Ir.append("logo",fs);const Kr=await api.put(`${Us}/vendors/${Re}`,Ir,{validateStatus:()=>!0});if(Kr.status>=200&&Kr.status<300){const ri=Kr.data,Wr=extractCategories(ri.data);ze({...ri.data,category:Wr}),ys({vendorName:ri.data.vendorName||"",category:Wr,phoneNumber:ri.data.phoneNumber||"",email:ri.data.email||"",address:ri.data.address||"",website:ri.data.website||""}),Qe(!1),ds(null),xs(null),Vs({type:"success",title:"Profile Updated!",message:"Your profile has been updated successfully.",autoClose:!0,duration:2e3})}else if(Kr.status===403)Vs({type:"error",title:"Unauthorized",message:"You cannot update this vendor profile."});else throw new Error(((Sr=Kr.data)==null?void 0:Sr.message)||"Failed to update profile")}catch(Ir){console.error("Error updating profile:",Ir),Vs({type:"error",title:"Update Failed",message:`Failed to update profile: ${Ir.message}`})}finally{Oe(!1)}},Ws=Tr=>{const{name:Sr,value:Ir}=Tr.target;Ns(Kr=>({...Kr,[Sr]:Ir}))},Er=Tr=>{const Sr=Tr.target.value;if(Sr==="Other"){_s(!0),js(!0),Ns(Ir=>({...Ir,type:"",subType:""}));return}_s(!1),js(!1),Ns(Ir=>({...Ir,type:Sr,subType:""}))},zr=Tr=>{const Sr=Tr.target.value;if(Sr==="Other"){js(!0),Ns(Ir=>({...Ir,subType:""}));return}js(!1),Ns(Ir=>({...Ir,subType:Sr}))},Or=()=>{var Tr,Sr,Ir,Kr;return(Tr=bs.name)!=null&&Tr.trim()?(Sr=bs.type)!=null&&Sr.trim()?(Ir=bs.subType)!=null&&Ir.trim()?(Kr=bs.description)!=null&&Kr.trim()?null:"Description is required.":"Sub-Type is required.":"Type is required.":"Product name is required."},tr=async Tr=>{var Sr;Tr.preventDefault(),Ye(!0);try{if(!Re){Vs({type:"warning",title:"Profile Required",message:"Please create your vendor profile first"});return}const Ir=Or();if(Ir){Vs({type:"warning",title:"Missing Fields",message:Ir});return}const Kr=new FormData;Kr.append("name",bs.name.trim()),Kr.append("type",bs.type.trim()),Kr.append("subType",bs.subType.trim()),Kr.append("description",bs.description.trim()),bs.link&&/^https:\/\/.+/.test(bs.link)&&Kr.append("productLink",bs.link);const ri=bs.priceFrom&&bs.priceTo?`${bs.priceFrom}-${bs.priceTo}`:bs.price;Kr.append("price",ri||""),gs&&Kr.append("image",gs);const Wr=await api.post(`${Is}/vendors/${Re}/products`,Kr,{validateStatus:()=>!0});if(Wr.status>=200&&Wr.status<300)await Lr(),Ns({name:"",type:"",subType:"",description:"",price:"",priceFrom:"",priceTo:"",link:""}),Ms(null),Ts(null),_s(!1),js(!1),Ge(!1),Vs({type:"success",title:"Product Added!",message:"Your product has been added successfully.",autoClose:!0,duration:2e3});else if(Wr.status===403)Vs({type:"error",title:"Unauthorized",message:"You cannot add products to this vendor."});else throw new Error(((Sr=Wr.data)==null?void 0:Sr.message)||`Failed to add product: ${Wr.status}`)}catch(Ir){console.error("Error adding product:",Ir),Vs({type:"error",title:"Failed to Add Product",message:`Failed to add product: ${Ir.message}`})}finally{Ye(!1)}},Lr=async()=>{try{if(!Re)return;hs(!0);const Tr=await api.get(`${Us}/myVendorProfile`,{validateStatus:()=>!0});if(Tr.status>=200&&Tr.status<300){const Sr=Tr.data;ze(Ir=>({...Ir,products:Sr.data.products||[]})),qe(Ir=>{var Kr;return{...Ir,totalProducts:((Kr=Sr.data.products)==null?void 0:Kr.length)||0}})}}catch(Tr){console.error("Refresh failed:",Tr)}finally{hs(!1)}},Js=Tr=>{var Wr;ts(Tr);const Sr=(Tr.type||"").trim(),Ir=(Tr.subType||"").trim(),Kr=vendorCategories.find(ai=>ai.name===Sr),ri=!Kr;if(_s(ri),ri)js(!0);else{const ai=(Wr=Kr.subcategories)==null?void 0:Wr.some(ii=>ii.name===Ir);js(!ai)}Ns({name:Tr.name||"",type:Sr,subType:Ir,description:Tr.description||"",price:Tr.price&&!String(Tr.price).includes("-")?Tr.price:"",priceFrom:Tr.price&&String(Tr.price).includes("-")?String(Tr.price).split("-")[0]:"",priceTo:Tr.price&&String(Tr.price).includes("-")?String(Tr.price).split("-")[1]:"",link:Tr.productLink||""}),Ms(Tr.imageUrl||null),Ts(null),Ge(!0)},lr=async Tr=>{var Sr;Tr.preventDefault(),Ye(!0);try{if(!(rs!=null&&rs.id))return;const Ir=Or();if(Ir){Vs({type:"warning",title:"Missing Fields",message:Ir});return}const Kr=new FormData;Kr.append("name",bs.name.trim()),Kr.append("type",bs.type.trim()),Kr.append("subType",bs.subType.trim()),Kr.append("description",bs.description.trim()),bs.link&&/^https:\/\/.+/.test(bs.link)&&Kr.append("productLink",bs.link);const ri=bs.priceFrom&&bs.priceTo?`${bs.priceFrom}-${bs.priceTo}`:bs.price;Kr.append("price",ri||""),gs&&Kr.append("image",gs);const Wr=await api.put(`${Is}/updateproduct/${rs.id}`,Kr,{validateStatus:()=>!0});if(Wr.status>=200&&Wr.status<300)await Lr(),ts(null),Ge(!1),Ns({name:"",type:"",subType:"",description:"",price:"",priceFrom:"",priceTo:"",link:""}),Ms(null),Ts(null),_s(!1),js(!1),Vs({type:"success",title:"Product Updated!",message:"Product details updated successfully.",autoClose:!0,duration:2e3});else throw new Error(((Sr=Wr.data)==null?void 0:Sr.message)||"Failed to update product")}catch(Ir){console.error("Error updating product:",Ir),Vs({type:"error",title:"Update Failed",message:Ir.message})}finally{Ye(!1)}},hr=async Tr=>{Vs({type:"warning",title:"Delete Product?",message:"Are you sure you want to delete this product? This action cannot be undone.",confirmText:"Delete",cancelText:"Cancel",showCancel:!0,onConfirm:async()=>{var Sr;try{const Ir=await api.delete(`${Is}/products/${Tr}`,{validateStatus:()=>!0});if(Ir.status>=200&&Ir.status<300)await Lr(),Vs({type:"success",title:"Product Deleted!",message:"Product has been deleted successfully.",autoClose:!0,duration:1800});else throw new Error(((Sr=Ir.data)==null?void 0:Sr.message)||"Failed to delete product")}catch(Ir){console.error("Delete failed:",Ir),Vs({type:"error",title:"Delete Failed",message:Ir.message})}}})},Ar=Tr=>{var ri;const Sr=(ri=Tr.target.files)==null?void 0:ri[0];if(!Sr)return;const Ir=validateFile(Sr);if(!Ir.isValid){Vs({type:"warning",title:"Validation Error",message:Ir.error}),Tr.target.value=null;return}xs(Sr);const Kr=new FileReader;Kr.onload=Wr=>ds(Wr.target.result),Kr.readAsDataURL(Sr)},Pr=Tr=>{var ri;const Sr=(ri=Tr.target.files)==null?void 0:ri[0];if(!Sr)return;const Ir=validateFile(Sr,1);if(!Ir.isValid){Vs({type:"warning",title:"Validation Error",message:Ir.error}),Tr.target.value=null;return}Ts(Sr);const Kr=new FileReader;Kr.onload=Wr=>Ms(Wr.target.result),Kr.readAsDataURL(Sr)},vr=Tr=>{const{name:Sr,value:Ir}=Tr.target;if(Sr==="phoneNumber"&&Ir.length>12)return;const Kr=or(Sr,Ir);Ps(ri=>({...ri,[Sr]:Kr})),ys(ri=>({...ri,[Sr]:Ir}))},Mr=reactExports.useMemo(()=>Array.isArray(Be.products)?Be.products:[],[Be.products]),Qr=Math.ceil(Mr.length/ITEMS_PER_PAGE)||1,Ur=Mr.slice((Xe-1)*ITEMS_PER_PAGE,Xe*ITEMS_PER_PAGE),ti=()=>Xe<Qr&&is(Tr=>Tr+1),oi=()=>Xe>1&&is(Tr=>Tr-1);return Ee?jsxRuntimeExports.jsx("div",{className:"min-h-screen  flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-[#a92b4e] rounded-xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:jsxRuntimeExports.jsx(Loader,{className:"w-8 h-8 text-white animate-spin"})}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Loading Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600",children:"Fetching your profile..."})]})}):Te&&Re?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center p-6",children:jsxRuntimeExports.jsxs("div",{className:"text-center max-w-lg bg-white rounded-xl p-6 shadow-lg",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(CircleAlert,{className:"w-8 h-8 text-red-600"})}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Error"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:Te}),jsxRuntimeExports.jsx("button",{onClick:()=>window.location.reload(),className:"bg-[#a92b4e] hover:bg-[#891737] text-white px-6 py-2 rounded-lg",children:"Try Again"})]})}):Re?jsxRuntimeExports.jsxs("div",{className:"min-h-screen p-4",children:[jsxRuntimeExports.jsx(AlertBox,{...ks,onClose:Ks}),jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 flex-1 min-w-0",children:[jsxRuntimeExports.jsxs("div",{className:"relative flex-shrink-0",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 rounded-lg bg-gray-100 flex items-center justify-center overflow-hidden border-2 border-gray-50",children:Be.logoUrl?jsxRuntimeExports.jsx("img",{src:Be.logoUrl,alt:"Logo",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx(User,{className:"w-7 h-7 text-gray-400"})}),jsxRuntimeExports.jsx("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 bg-green-500 rounded-full border-2 border-white flex items-center justify-center",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3 h-3 text-white"})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h1",{className:"text-lg font-semibold text-gray-900 mb-2",children:Be.vendorName||"Complete your profile"}),Be.category&&Be.category.length>0?jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:Be.category.map(Tr=>jsxRuntimeExports.jsx("span",{className:"bg-rose-50 text-rose-700 text-xs px-2.5 py-1 rounded-full whitespace-nowrap",children:Tr},Tr))}):jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"No category"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[jsxRuntimeExports.jsx("span",{className:"w-1 h-1 bg-gray-300 rounded-full"}),jsxRuntimeExports.jsxs("span",{children:["Member since"," ",new Date(Be.createdAt).toLocaleDateString("en-US",{month:"short",year:"numeric"})]})]}),Be.address?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-600",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-3.5 h-3.5 text-gray-400"}),jsxRuntimeExports.jsx("span",{className:"truncate",children:Be.address})]}):jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-gray-400",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-3.5 h-3.5"}),jsxRuntimeExports.jsx("span",{children:"Location not provided"})]})]})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Qe(!0),className:"flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-[#891737] hover:bg-[#891737]/90 rounded-lg transition-colors flex-shrink-0",children:[jsxRuntimeExports.jsx(PenLine,{className:"w-4 h-4"}),"Edit Profile"]})]})})}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"lg:col-span-2 bg-white rounded-xl border border-gray-100 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:"Products & Services"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-0.5",children:[((Ti=Be.products)==null?void 0:Ti.length)||0," ",((_i=Be.products)==null?void 0:_i.length)===1?"item":"items"]})]}),jsxRuntimeExports.jsx("button",{onClick:Lr,disabled:os,className:`p-1.5 rounded-full hover:bg-gray-100 transition-colors ${os?"animate-spin text-[#a92b4e]":"text-gray-400 hover:text-[#a92b4e]"}`,title:"Refresh Products",children:jsxRuntimeExports.jsx(RefreshCw,{className:"w-4 h-4"})})]}),jsxRuntimeExports.jsxs("button",{onClick:()=>{ts(null),_s(!1),js(!1),Ns({name:"",type:"",subType:"",description:"",price:"",priceFrom:"",priceTo:"",link:""}),Ms(null),Ts(null),Ge(!0)},className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-white bg-[#891737] hover:bg-[#891737]/90 rounded-lg transition-colors",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Add Product"]})]}),jsxRuntimeExports.jsx("div",{className:"p-6",children:Ur&&Ur.length>0?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"space-y-3 min-h-[300px]",children:Ur.map(Tr=>jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3 p-3 border border-gray-100 rounded-lg hover:border-gray-200 hover:bg-gray-50/50 transition-all",children:[jsxRuntimeExports.jsx("div",{className:"w-14 h-14 rounded-lg overflow-hidden bg-gray-100 flex-shrink-0",children:jsxRuntimeExports.jsx("img",{src:Tr.imageUrl||"/api/placeholder/56/56",alt:Tr.name,className:"w-full h-full object-cover"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm font-medium text-gray-900 mb-0.5",children:Tr.name}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mb-1",children:[Tr.type," â€¢ ",Tr.subType]}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-600 line-clamp-2",children:Tr.description}),jsxRuntimeExports.jsx("div",{className:"mt-2",children:isVisibleOnHomepage(Tr)?jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[11px] font-medium bg-green-50 text-green-700 border border-green-100",children:[jsxRuntimeExports.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-600"}),"Visible on Homepage"]}):jsxRuntimeExports.jsxs("span",{className:"inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-[11px] font-medium bg-amber-50 text-amber-700 border border-amber-100",children:[jsxRuntimeExports.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-600"}),"Under Review (Not Visible)"]})}),Tr.productLink&&jsxRuntimeExports.jsxs("a",{href:Tr.productLink,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1 text-xs text-blue-600 hover:text-blue-800 hover:underline mt-1",children:[jsxRuntimeExports.jsx(ExternalLink,{className:"w-3 h-3"}),"View Link"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-end gap-2 flex-shrink-0",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-semibold text-gray-900",children:Tr.price?`â‚¹${String(Tr.price)}`:jsxRuntimeExports.jsx("span",{className:"text-gray-400 font-normal",children:"Not set"})}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Js(Tr),className:"text-xs font-medium text-blue-600 hover:text-blue-700 transition-colors flex items-center gap-1",children:[jsxRuntimeExports.jsx(PenLine,{className:"w-3 h-3"})," Edit"]}),jsxRuntimeExports.jsx("button",{onClick:()=>hr(Tr.id),className:"text-xs font-medium text-red-600 hover:text-red-700 transition-colors",children:"Remove"})]})]})]},Tr.id))}),Qr>1&&jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between pt-4 mt-4 border-t border-gray-100",children:[jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500",children:["Page ",Xe," of ",Qr]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:oi,disabled:Xe===1,className:"p-1.5 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-gray-600",children:jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4"})}),jsxRuntimeExports.jsx("button",{onClick:ti,disabled:Xe===Qr,className:"p-1.5 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-gray-600",children:jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"})})]})]})]}):jsxRuntimeExports.jsxs("div",{className:"text-center py-12",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-50 rounded-lg flex items-center justify-center mx-auto mb-3",children:jsxRuntimeExports.jsx(Package,{className:"w-8 h-8 text-gray-400"})}),jsxRuntimeExports.jsx("h3",{className:"text-sm font-semibold text-gray-900 mb-1",children:"No products yet"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mb-4 max-w-xs mx-auto",children:"Start building your catalog by adding your first product or service"}),jsxRuntimeExports.jsxs("button",{onClick:()=>Ge(!0),className:"inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-[#891737] hover:bg-[#891737]/90 rounded-lg transition-colors",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),"Add First Product"]})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"px-6 py-4 border-b border-gray-100",children:jsxRuntimeExports.jsx("h2",{className:"text-sm font-semibold text-gray-900",children:"Contact Information"})}),jsxRuntimeExports.jsx("div",{className:"p-6",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-9 h-9 bg-gray-50 rounded-lg flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4 text-gray-600"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-gray-500 mb-0.5",children:"Phone"}),Be.phoneNumber?jsxRuntimeExports.jsx("a",{href:`tel:${Be.phoneNumber}`,className:"text-sm text-gray-900 hover:text-[#891737] transition-colors",children:Be.phoneNumber}):jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Not provided"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-9 h-9 bg-gray-50 rounded-lg flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 text-gray-600"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-gray-500 mb-0.5",children:"Email"}),Be.email?jsxRuntimeExports.jsx("a",{href:`mailto:${Be.email}`,className:"text-sm text-gray-900 hover:text-[#891737] transition-colors truncate block",children:Be.email}):jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Not provided"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-9 h-9 bg-gray-50 rounded-lg flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Globe,{className:"w-4 h-4 text-gray-600"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-gray-500 mb-0.5",children:"Website"}),Be.website?jsxRuntimeExports.jsx("a",{href:Be.website.startsWith("http")?Be.website:`https://${Be.website}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 text-sm text-[#891737] hover:text-[#891737]/80 font-medium transition-colors",children:"View Website"}):jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Not provided"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-9 h-9 bg-gray-50 rounded-lg flex items-center justify-center flex-shrink-0",children:jsxRuntimeExports.jsx(Building2,{className:"w-4 h-4 text-gray-600"})}),jsxRuntimeExports.jsxs("div",{className:"flex-1 min-w-0",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-medium text-gray-500 mb-1.5",children:"Categories"}),Be.category&&Be.category.length>0?jsxRuntimeExports.jsx("div",{className:"flex flex-wrap gap-2",children:Be.category.map(Tr=>jsxRuntimeExports.jsx("span",{className:"bg-rose-50 text-rose-700 text-xs px-2.5 py-1 rounded-full whitespace-nowrap",children:Tr},Tr))}):jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400",children:"Not specified"})]})]})]})})]})]})]}),We&&Re&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-base font-semibold text-gray-900",children:rs?"Edit Product":"Add New Product"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:rs?"Update product details below":"Fill in the product details below"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>{Ge(!1),ts(null),_s(!1),js(!1),Ns({name:"",type:"",subType:"",description:"",price:"",priceFrom:"",priceTo:"",link:""}),Ms(null),Ts(null)},className:"w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4 text-gray-500"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:rs?lr:tr,className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Product Image"}),jsxRuntimeExports.jsxs("label",{className:"cursor-pointer block",children:[jsxRuntimeExports.jsx("div",{className:"w-full h-32 rounded-lg bg-gray-50 border-2 border-dashed border-gray-200 hover:border-gray-300 flex items-center justify-center overflow-hidden transition-colors",children:Ds?jsxRuntimeExports.jsx("img",{src:Ds,alt:"Preview",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(Image$1,{className:"w-8 h-8 text-gray-400 mx-auto mb-2"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Click to upload image"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 mt-0.5",children:"Max 1MB"})]})}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:Pr,className:"hidden"})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["Product Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:bs.name,onChange:Ws,required:!0,className:"w-full px-3 py-2 text-sm text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-300 transition-colors",placeholder:"Enter name"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["Type ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),ps?jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"type",value:bs.type,onChange:Ws,required:!0,className:"w-full px-3 py-2 text-sm text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-300 transition-colors pr-8",placeholder:"Enter custom type",autoFocus:!0}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{_s(!1),js(!1),Ns(Tr=>({...Tr,type:"",subType:""}))},className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"Back to list",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]}):jsxRuntimeExports.jsxs("select",{value:bs.type,onChange:Er,required:!0,className:"w-full px-3 py-2 text-sm text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-300 transition-colors bg-white",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Type"}),vendorCategories.map((Tr,Sr)=>jsxRuntimeExports.jsx("option",{value:Tr.name,children:Tr.name},Sr)),jsxRuntimeExports.jsx("option",{value:"Other",children:"Other"})]})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["Sub-Type ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),!ws&&!ps?jsxRuntimeExports.jsxs("select",{value:bs.subType,onChange:zr,required:!0,disabled:!bs.type,className:"w-full px-3 py-2 text-sm text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-300 transition-colors bg-white disabled:bg-gray-50 disabled:text-gray-400",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select Sub-Type"}),(Ci=(mi=vendorCategories.find(Tr=>Tr.name===bs.type))==null?void 0:mi.subcategories)==null?void 0:Ci.map((Tr,Sr)=>jsxRuntimeExports.jsx("option",{value:Tr.name,children:Tr.name},Sr)),jsxRuntimeExports.jsx("option",{value:"Other",children:"Other"})]}):jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"text",name:"subType",value:bs.subType,onChange:Ws,required:!0,className:"w-full px-3 py-2 text-sm text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-300 transition-colors pr-8",placeholder:"Enter custom sub-type"}),!ps&&jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{js(!1),Ns(Tr=>({...Tr,subType:""}))},className:"absolute right-2 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600",title:"Back to list",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["Description ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("textarea",{name:"description",value:bs.description,onChange:Ws,required:!0,rows:3,className:"w-full px-3 py-2 text-sm text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-300 transition-colors resize-none",placeholder:"Describe your product..."})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["Price Range (â‚¹)"," ",jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"Optional"})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"number",name:"priceFrom",value:bs.priceFrom,onChange:Ws,min:"0",className:"w-full px-3 py-2 text-sm text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-300 transition-colors",placeholder:"From"}),jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-sm",children:"to"}),jsxRuntimeExports.jsx("input",{type:"number",name:"priceTo",value:bs.priceTo,onChange:Ws,min:"0",className:"w-full px-3 py-2 text-sm text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-300 transition-colors",placeholder:"To"})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["Product Link"," ",jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"Optional"})]}),jsxRuntimeExports.jsx("input",{type:"url",name:"link",value:bs.link,onChange:Ws,className:"w-full px-3 py-2 text-sm text-gray-900 border border-gray-200 rounded-lg focus:outline-none focus:border-gray-300 transition-colors",placeholder:"https://example.com"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 pt-6 mt-6 border-t border-gray-100",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{Ge(!1),ts(null),_s(!1),js(!1),Ns({name:"",type:"",subType:"",description:"",price:"",priceFrom:"",priceTo:"",link:""}),Ms(null),Ts(null)},className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:ns,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-[#891737] hover:bg-[#891737]/90 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-colors",children:ns?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader,{className:"w-4 h-4 animate-spin"}),rs?"Updating...":"Adding..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[rs?jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}):jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4"}),rs?"Update Product":"Add Product"]})})]})]})]})}),Je&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-hidden shadow-2xl",children:[jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-base font-semibold text-gray-900",children:"Edit Profile"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-0.5",children:"Update your vendor information"})]}),jsxRuntimeExports.jsx("button",{onClick:()=>Qe(!1),className:"w-8 h-8 rounded-lg hover:bg-gray-100 flex items-center justify-center transition-colors",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4 text-gray-500"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:ur,className:"p-6 overflow-y-auto max-h-[calc(90vh-80px)]",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-5",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"Profile Logo"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("label",{className:"cursor-pointer",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 rounded-lg bg-gray-100 border-2 border-gray-200 hover:border-gray-300 flex items-center justify-center overflow-hidden transition-colors",children:Ss||Be.logoUrl?jsxRuntimeExports.jsx("img",{src:Ss||Be.logoUrl,alt:"Logo",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx(User,{className:"w-8 h-8 text-gray-400"})}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:Ar,className:"hidden"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{var Tr;return(Tr=document.querySelector('input[type="file"]'))==null?void 0:Tr.click()},className:"text-sm font-medium text-[#891737] hover:text-[#891737]/80 transition-colors",children:"Change Logo"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG up to 5MB"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["Vendor Name ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"text",name:"vendorName",value:ms.vendorName,onChange:vr,required:!0,className:`w-full px-3 py-2 text-sm text-gray-900 border ${Cs.vendorName?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:border-gray-300 transition-colors`}),Cs.vendorName&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:Cs.vendorName})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(CategoryDropdown,{value:ms.category,onChange:Tr=>ys(Sr=>({...Sr,category:Tr})),options:VENDOR_CATEGORIES,required:!0})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["Phone Number ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"tel",name:"phoneNumber",value:ms.phoneNumber,onChange:vr,required:!0,className:`w-full px-3 py-2 text-sm text-gray-900 border ${Cs.phoneNumber?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:border-gray-300 transition-colors`}),Cs.phoneNumber&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:Cs.phoneNumber})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["Email Address ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:ms.email,onChange:vr,required:!0,className:`w-full px-3 py-2 text-sm text-gray-900 border ${Cs.email?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:border-gray-300 transition-colors`}),Cs.email&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:Cs.email})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["Business Address ",jsxRuntimeExports.jsx("span",{className:"text-red-500",children:"*"})]}),jsxRuntimeExports.jsx("textarea",{name:"address",value:ms.address,onChange:vr,required:!0,rows:2,className:`w-full px-3 py-2 text-sm text-gray-900 border ${Cs.address?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:border-gray-300 transition-colors resize-none`}),Cs.address&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:Cs.address})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:["Website ",jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"Optional"})]}),jsxRuntimeExports.jsx("input",{type:"url",name:"website",value:ms.website,onChange:vr,className:`w-full px-3 py-2 text-sm text-gray-900 border ${Cs.website?"border-red-500":"border-gray-200"} rounded-lg focus:outline-none focus:border-gray-300 transition-colors`,placeholder:"https://yourwebsite.com"}),Cs.website&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:Cs.website})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 pt-6 mt-6 border-t border-gray-100",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Qe(!1),className:"flex-1 px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:Me,className:"flex-1 px-4 py-2 text-sm font-medium text-white bg-[#891737] hover:bg-[#891737]/90 rounded-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2 transition-colors",children:Me?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Loader,{className:"w-4 h-4 animate-spin"}),"Saving..."]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),"Update Profile"]})})]})]})]})})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(AlertBox,{...ks,onClose:Ks}),jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center p-6",children:jsxRuntimeExports.jsxs("div",{className:"text-center max-w-lg bg-white rounded-xl p-6 shadow-lg",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-xl flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(Building2,{className:"w-8 h-8 text-blue-600"})}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Create Your Vendor Profile"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 mb-4",children:"Set up your vendor profile to start showcasing your products!"}),jsxRuntimeExports.jsx("button",{onClick:()=>Qe(!0),className:"bg-[#a92b4e] hover:bg-[#891737] text-white px-6 py-2 rounded-lg",children:"+ Create Profile"})]})}),Je&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 z-50 flex items-center justify-center p-4",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 bg-[#a92b4e] text-white rounded-t-xl",children:[jsxRuntimeExports.jsx("h2",{className:"font-bold",children:Re?"Edit Profile":"Create Profile"}),jsxRuntimeExports.jsx("button",{onClick:()=>Qe(!1),children:jsxRuntimeExports.jsx(X$1,{className:"w-5 h-5"})})]}),jsxRuntimeExports.jsxs("form",{onSubmit:Re?ur:rr,className:"p-4 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsxs("label",{className:"cursor-pointer",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-r from-[#a92b4e] to-[#891737] flex items-center justify-center overflow-hidden mx-auto",children:Ss||Be.logoUrl?jsxRuntimeExports.jsx("img",{src:Ss||Be.logoUrl,alt:"Logo",className:"w-full h-full object-cover"}):jsxRuntimeExports.jsx(User,{className:"w-8 h-8 text-white"})}),jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:Ar,className:"hidden"})]}),jsxRuntimeExports.jsx("p",{className:"text-sm font-medium mt-2",children:"Click to upload logo"})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"vendorName",value:ms.vendorName,onChange:vr,required:!0,className:`w-full px-3 py-2 border ${Cs.vendorName?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-[#a92b4e] focus:border-transparent`}),Cs.vendorName&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:Cs.vendorName})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(CategoryDropdown,{value:ms.category,onChange:Tr=>ys(Sr=>({...Sr,category:Tr})),options:VENDOR_CATEGORIES,required:!0})})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone *"}),jsxRuntimeExports.jsx("input",{type:"tel",name:"phoneNumber",value:ms.phoneNumber,onChange:vr,required:!0,className:`w-full px-3 py-2 border ${Cs.phoneNumber?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-[#a92b4e] focus:border-transparent`,placeholder:"9876543210"}),Cs.phoneNumber&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:Cs.phoneNumber})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:ms.email,onChange:vr,required:!0,className:`w-full px-3 py-2 border ${Cs.email?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-[#a92b4e] focus:border-transparent`,placeholder:"vendor@example.com"}),Cs.email&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:Cs.email})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),jsxRuntimeExports.jsx("textarea",{name:"address",value:ms.address,onChange:vr,required:!0,rows:2,className:`w-full px-3 py-2 border ${Cs.address?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-[#a92b4e] focus:border-transparent resize-none`,placeholder:"Complete address..."}),Cs.address&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:Cs.address})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),jsxRuntimeExports.jsx("input",{type:"url",name:"website",value:ms.website,onChange:vr,className:`w-full px-3 py-2 border ${Cs.website?"border-red-500":"border-gray-300"} rounded-lg focus:ring-2 focus:ring-[#a92b4e] focus:border-transparent`,placeholder:"https://example.com"}),Cs.website&&jsxRuntimeExports.jsx("p",{className:"text-xs text-red-500 mt-1",children:Cs.website})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-3 pt-2",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Qe(!1),className:"flex-1 px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),jsxRuntimeExports.jsxs("button",{type:"submit",disabled:Me,className:"flex-1 bg-[#a92b4e] hover:bg-[#891737] text-white px-4 py-2 rounded-lg disabled:opacity-50 flex items-center justify-center gap-2",children:[Me?jsxRuntimeExports.jsx(Loader,{className:"w-4 h-4 animate-spin"}):jsxRuntimeExports.jsx(Save,{className:"w-4 h-4"}),Me?"Saving...":"Create"]})]})]})]})})]})},UserProfile=()=>{const[Re,e]=reactExports.useState({name:"John Doe",email:"john.doe@example.com",lastUpdated:"2025-11-28T10:30:00"}),Ee=useNavigate(),[Ce,Te]=reactExports.useState({});reactExports.useEffect(()=>{(async()=>{try{const Ts=await api.get("/api/auth/me");Ts.data.success&&Ts.data.user&&(Te(Ts.data.user),e(Ds=>({...Ds,name:Ts.data.user.name||Ds.name,email:Ts.data.user.email||Ds.email})))}catch(Ts){console.error("Failed to fetch user:",Ts)}})()},[]),reactExports.useEffect(()=>{Ce&&Ce.name&&e(gs=>({...gs,name:Ce.name||gs.name,email:Ce.email||gs.email}))},[Ce]);const[De,Me]=reactExports.useState({currentPassword:"",newPassword:"",confirmPassword:"",lastChanged:"2025-10-15T14:20:00"}),[Oe,Be]=reactExports.useState({current:!1,new:!1,confirm:!1}),[ze,Ve]=reactExports.useState({isOpen:!1,type:"info",title:"",message:"",confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:null}),qe=gs=>{Ve({isOpen:!0,confirmText:"OK",cancelText:"Cancel",showCancel:!1,onConfirm:null,...gs})},We=()=>{Ve(gs=>({...gs,isOpen:!1}))},[Ge,Je]=reactExports.useState({length:!1,upper:!1,lower:!1,number:!1,special:!1});reactExports.useEffect(()=>{const gs=De.newPassword;Je({length:gs.length>=8,upper:/[A-Z]/.test(gs),lower:/[a-z]/.test(gs),number:/\d/.test(gs),special:/[@$!%*?&]/.test(gs)})},[De.newPassword]);const[Qe,ns]=reactExports.useState(!1),[Ye,rs]=reactExports.useState(!1),[ts,Xe]=reactExports.useState(Re),is=gs=>gs===0?"bg-gray-200":gs<=2?"bg-red-500":gs<=4?"bg-orange-500":"bg-green-500",os=Object.values(Ge).filter(Boolean).length,hs=({fulfilled:gs,text:Ts})=>jsxRuntimeExports.jsxs("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-medium border flex items-center gap-1 transition-colors ${gs?"bg-green-50 text-green-700 border-green-200":"bg-gray-50 text-gray-500 border-gray-200"}`,children:[gs?jsxRuntimeExports.jsx(CircleCheckBig,{size:10}):null,Ts]}),fs=gs=>gs?new Date(gs).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Never",xs=async()=>{var Ts,Ds;if(De.newPassword!==De.confirmPassword){qe({type:"warning",title:"Validation Error",message:"Passwords do not match!"});return}if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(De.newPassword)){qe({type:"warning",title:"Weak Password",message:"Password must be at least 8 characters long and include uppercase, lowercase, number, and special character."});return}try{(await api.put(`/api/auth/update-user-password-self/${Ce.id}`,{password:De.newPassword,newPassword:De.newPassword})).data.success&&(qe({type:"success",title:"Success",message:"Password updated successfully!"}),Me({currentPassword:"",newPassword:"",confirmPassword:"",lastChanged:new Date().toISOString()}),rs(!1))}catch(Ms){console.error("Password update error:",Ms),qe({type:"error",title:"Update Failed",message:((Ds=(Ts=Ms.response)==null?void 0:Ts.data)==null?void 0:Ds.message)||"Failed to update password."})}},Ss=()=>{Me({...De,currentPassword:"",newPassword:"",confirmPassword:""}),rs(!1)},ds=()=>{qe({type:"warning",title:"Delete Account?",message:"Are you sure you want to permanently delete your account? This action cannot be undone.",showCancel:!0,confirmText:"Yes, Delete My Account",onConfirm:async()=>{var gs,Ts;try{await api.delete(`/api/auth/delete-user-self/${Ce.id}`),qe({type:"success",title:"Account Deleted",message:"Your account has been successfully deleted. Redirecting...",onConfirm:()=>Ee("/login")}),setTimeout(()=>Ee("/login"),2e3)}catch(Ds){console.error("Account deletion error:",Ds),qe({type:"error",title:"Deletion Failed",message:((Ts=(gs=Ds.response)==null?void 0:gs.data)==null?void 0:Ts.message)||"Failed to delete account."})}}})};return jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[jsxRuntimeExports.jsx("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-gray-900 tracking-tight",children:"Account Settings"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Manage your personal information and security preferences."})]})}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl  overflow-hidden max-w-3xl mx-auto",children:[jsxRuntimeExports.jsxs("div",{className:"p-6 md:p-8 bg-gray-50/30",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between mb-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-gray-50 rounded-lg text-[#891737]",children:jsxRuntimeExports.jsx(Lock,{size:20})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Security"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500",children:"Manage your password and security settings."})]})]})}),Ye?jsxRuntimeExports.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-6 animate-in fade-in slide-in-from-top-2 duration-200",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-5 mb-6",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Current Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:Oe.current?"text":"password",value:De.currentPassword,onChange:gs=>Me({...De,currentPassword:gs.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:border-[#891737] focus:ring-1 focus:ring-[#891737] pr-10",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Be(gs=>({...gs,current:!gs.current})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none",children:Oe.current?jsxRuntimeExports.jsx(EyeOff,{size:16}):jsxRuntimeExports.jsx(Eye,{size:16})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-gray-700",children:"New Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:Oe.new?"text":"password",value:De.newPassword,onChange:gs=>Me({...De,newPassword:gs.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:border-[#891737] focus:ring-1 focus:ring-[#891737] pr-10",placeholder:"Min 8 chars"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Be(gs=>({...gs,new:!gs.new})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none",children:Oe.new?jsxRuntimeExports.jsx(EyeOff,{size:16}):jsxRuntimeExports.jsx(Eye,{size:16})})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-1.5",children:[jsxRuntimeExports.jsx("label",{className:"text-xs font-medium text-gray-700",children:"Confirm Password"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:Oe.confirm?"text":"password",value:De.confirmPassword,onChange:gs=>Me({...De,confirmPassword:gs.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:outline-none focus:border-[#891737] focus:ring-1 focus:ring-[#891737] pr-10",placeholder:"â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Be(gs=>({...gs,confirm:!gs.confirm})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 focus:outline-none",children:Oe.confirm?jsxRuntimeExports.jsx(EyeOff,{size:16}):jsxRuntimeExports.jsx(Eye,{size:16})})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-2",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center justify-between",children:jsxRuntimeExports.jsx("p",{className:"text-xs font-semibold text-gray-600",children:"Password must contain:"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[jsxRuntimeExports.jsx(hs,{fulfilled:Ge.length,text:"8+ Chars"}),jsxRuntimeExports.jsx(hs,{fulfilled:Ge.upper,text:"Upper"}),jsxRuntimeExports.jsx(hs,{fulfilled:Ge.lower,text:"Lower"}),jsxRuntimeExports.jsx(hs,{fulfilled:Ge.number,text:"Number"}),jsxRuntimeExports.jsx(hs,{fulfilled:Ge.special,text:"Special"})]}),jsxRuntimeExports.jsx("div",{className:"h-1.5 w-full bg-gray-200 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:`h-full transition-all duration-300 ${is(os)}`,style:{width:`${os/5*100}%`}})})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:Ss,className:"px-4 py-2 text-xs font-medium text-gray-700 bg-white border border-gray-200 hover:bg-gray-50 rounded-lg transition-colors",children:"Cancel"}),jsxRuntimeExports.jsx("button",{onClick:xs,className:"px-4 py-2 text-xs font-medium text-white bg-[#891737] hover:bg-[#891737]/90 rounded-lg transition-colors",children:"Update Password"})]})]})]}):jsxRuntimeExports.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Password"}),jsxRuntimeExports.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Last changed: ",fs(De.lastChanged)]})]}),jsxRuntimeExports.jsx("button",{onClick:()=>rs(!0),className:"text-sm font-medium text-[#891737] hover:bg-[#891737]/5 px-4 py-2 rounded-lg border border-[#891737]/20 transition-colors",children:"Change Password"})]})]}),jsxRuntimeExports.jsx("div",{className:"p-6 md:p-8 bg-red-50/50 border-t border-red-100",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-red-100/50 rounded-lg text-red-600 mt-1",children:jsxRuntimeExports.jsx(TriangleAlert,{size:20})}),jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-1",children:"Danger Zone"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mb-4",children:"Permanently delete your account and all associated data."}),jsxRuntimeExports.jsx("div",{className:"bg-white border border-red-100 rounded-lg p-4 mb-4",children:jsxRuntimeExports.jsxs("ul",{className:"list-disc list-inside text-xs text-red-600 space-y-1 font-medium",children:[jsxRuntimeExports.jsx("li",{children:"Account deletion is permanent and cannot be reversed."}),jsxRuntimeExports.jsx("li",{className:"whitespace-nowrap",children:"Once the account is deleted, all associated work, data, and saved progress will be permanently removed."})]})}),jsxRuntimeExports.jsx("button",{onClick:ds,className:"px-4 py-2 text-xs font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg transition-colors shadow-sm flex items-center gap-2",children:"Delete Account"})]})]})})]})]}),jsxRuntimeExports.jsx(AlertBox,{...ze,onClose:We})]})},UserDashboard=()=>{console.log("User Dashboard rendered");const[Re,e]=reactExports.useState(null),[Ee,Ce]=reactExports.useState(""),[Te,De]=reactExports.useState(null),[Me,Oe]=reactExports.useState(""),[Be,ze]=reactExports.useState(!1),[Ve,qe]=reactExports.useState("Dashboard"),[We,Ge]=reactExports.useState([]),[Je,Qe]=reactExports.useState(!0),[ns,Ye]=reactExports.useState(!1),rs=useNavigate(),[ts,Xe]=reactExports.useState(!1),[is,os]=reactExports.useState(!1),[hs,fs]=reactExports.useState(null),[xs,Ss]=reactExports.useState(null),[ds,gs]=reactExports.useState({isOpen:!1,type:"info",title:"",message:"",confirmText:"OK",showCancel:!1,onConfirm:null,autoClose:!1}),Ts=js=>{gs({isOpen:!0,type:js.type||"info",title:js.title||"",message:js.message||"",confirmText:js.confirmText||"OK",cancelText:js.cancelText||"Cancel",showCancel:js.showCancel||!1,onConfirm:js.onConfirm||null,autoClose:js.autoClose||!1,duration:js.duration||3e3})},Ds=()=>{gs({...ds,isOpen:!1})},Ms=async()=>{var js,ms,ys;try{console.log("ðŸ“¡ Fetching user profile...");const ks=await api.get("/api/auth/me");if(console.log("âœ… Auth response:",ks.data),!ks.data.success||!ks.data.user)throw new Error("Not authenticated");const zs=ks.data.user;De(zs.id),Oe(zs.email),e((js=zs.role)==null?void 0:js.toLowerCase()),zs.name?Ce(zs.name):console.warn("User name not found in auth response, waiting for profile data...");try{let Cs;const Ps=(ms=zs.role)==null?void 0:ms.toLowerCase();if(Ps==="filmmaker"){try{Cs=await api.get("/api/filmmakerProfile/filmmakerProfile")}catch(Us){console.warn("Could not fetch filmmaker profile:",Us)}try{const Us=zs.id||zs._id,Is=await api.get(`/api/producer-registration/getProducerRegistrationFormById/${Us}`);if(Is.data.success&&Is.data.data){console.log("âœ… Producer Registration Found - Unlocking Dashboard"),ze(!0);try{const Vs=await api.get("/api/applications/my");if(Vs.data.success){const Ks=Vs.data.data,or=Array.isArray(Ks)?Ks:[Ks];or.length>0,Ge(or)}}catch(Vs){console.warn("Could not fetch applications:",Vs)}}else console.log("âš ï¸ No Producer Registration Found - Locking Dashboard"),ze(!1),qe("Producer Registration Form"),Ts({type:"info",title:"Welcome!",message:"Please complete your Producer Registration to proceed.",confirmText:"Start Registration"})}catch(Us){console.warn("Could not fetch producer registration:",Us),ze(!1),qe("Producer Registration Form"),((ys=Us.response)==null?void 0:ys.status)===404&&Ts({type:"info",title:"Welcome!",message:"Please complete your Producer Registration to proceed.",confirmText:"Start Registration"})}}else if(Ps==="vendor")try{Cs=await api.get("/api/vendor/myVendorProfile",{validateStatus:()=>!0})}catch{}if(Cs&&Cs.status>=200&&Cs.status<300){console.log("âœ… Profile response:",Cs.data);const Us=Cs.data.data||{};if(Ps==="filmmaker"){const{user:Is,nocForms:Vs}=Us;if(Is){const{id:Ks,name:or,email:rr}=Is;or&&Ce(or),Ks&&De(Ks),rr&&Oe(rr)}Vs&&Array.isArray(Vs)&&Ge(Vs)}else Ps==="vendor"&&(Us.vendorName&&Ce(Us.vendorName),Us.id&&De(Us.id))}}catch(Cs){console.warn("âš ï¸ Profile fetch failed or skipped, using basic auth data:",Cs),Ce(zs.email)}}catch(ks){console.error("âŒ Authentication failed:",ks),Ts({type:"error",title:"Authentication Required",message:"Please login to access your dashboard.",confirmText:"Login",onConfirm:()=>{rs("/login",{replace:!0})}})}finally{Qe(!1)}};reactExports.useEffect(()=>{Ms()},[rs]);const bs=async()=>{Ts({type:"warning",title:"Logout Confirmation",message:"Are you sure you want to logout?",confirmText:"Yes, Logout",cancelText:"Cancel",showCancel:!0,onConfirm:async()=>{try{await api.post("/api/auth/logout"),console.log("âœ… Logged out successfully"),Ts({type:"success",title:"Logged Out",message:"You have been successfully logged out.",confirmText:"OK",autoClose:!0,duration:2e3,onConfirm:()=>{rs("/login",{replace:!0})}}),setTimeout(()=>{rs("/login",{replace:!0})},2e3)}catch(js){console.error("âŒ Logout error:",js),rs("/login",{replace:!0})}}})},Ns=js=>{Ms(),Ts({type:"success",title:"NOC Submitted!",message:"Your NOC application has been submitted successfully.",confirmText:"Great!",autoClose:!0,duration:3e3})},ps=()=>{qe("Artist Registration")},_s={filmmaker:[{name:"Dashboard",icon:LayoutDashboard},{name:"Producer Registration Form",icon:Clapperboard},{name:"Profile",icon:User}],artist:[{name:"Dashboard",icon:LayoutDashboard},{name:"Profile",icon:User}],vendor:[{name:"Dashboard",icon:LayoutDashboard},{name:"Profile",icon:User}]},ws=()=>{if(Re==="filmmaker"&&!Be&&Ve!=="Producer Registration Form"&&!Je)return qe("Producer Registration Form"),null;console.log("Rendering Section - Active:",Ve,"Role:",Re);let js=null;if(hs&&(js=We.find(ms=>(ms.applicationId||ms.id||ms._id)===hs)),!js&&We.length>0&&(js=We[0]),Ve==="Dashboard"){if(Re==="filmmaker")return jsxRuntimeExports.jsx(FilmmakerOverview,{nocList:We});if(Re==="artist")return jsxRuntimeExports.jsx(ArtistProfile,{});if(Re==="vendor")return jsxRuntimeExports.jsx(VendorDashboard,{})}return Ve==="Annexure 2"?jsxRuntimeExports.jsx(Annexure2Form,{onSubmit:()=>{Ns(),Ms()},activeApplication:js}):Ve==="Profile"?jsxRuntimeExports.jsx(UserProfile,{}):Ve==="Annexure 1"?jsxRuntimeExports.jsx(Annexure1,{activeApplication:js}):Ve==="Annexure A"?jsxRuntimeExports.jsx(AnnextureA,{activeApplication:js,refreshData:Ms}):Ve==="Undertaking"?jsxRuntimeExports.jsx(UndertakingForm,{activeApplication:js,refreshData:Ms}):Ve==="Producer Registration Form"?jsxRuntimeExports.jsx(ProducerRegistration,{onSuccess:()=>qe("Dashboard")}):Ve==="Artist Registration"?jsxRuntimeExports.jsx(AddArtistForm,{}):Ve==="Upload Documents"?jsxRuntimeExports.jsx(ShootingPermissionDocuments,{applicationId:hs,onSuccess:()=>{Ms(),qe("Dashboard")}}):jsxRuntimeExports.jsxs("div",{className:"p-4",children:[jsxRuntimeExports.jsx("p",{className:"text-red-500 font-bold",children:"Invalid section"}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["Active Section: ",Ve]}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-500",children:["User Role: ",Re]})]})};return Je?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#a92b43] mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm",children:"Loading dashboard..."})]})}):jsxRuntimeExports.jsxs("div",{className:"flex h-screen bg-white font-sans",children:[jsxRuntimeExports.jsx(AlertBox,{...ds,onClose:Ds}),ns&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-black/50 z-40 md:hidden",onClick:()=>Ye(!1)}),jsxRuntimeExports.jsxs("div",{className:`fixed inset-y-0 left-0 z-50 w-64 bg-white border-r border-gray-100 flex flex-col transition-transform duration-300 transform md:relative md:translate-x-0 ${ns?"translate-x-0":"-translate-x-full"}`,children:[jsxRuntimeExports.jsx("div",{className:"px-5 py-4 border-b border-gray-100",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("img",{src:Logo1,alt:"Logo",className:"h-10 w-auto"}),jsxRuntimeExports.jsx("span",{className:"text-[9px] font-bold text-gray-700 leading-tight uppercase max-w-[120px]",children:"BIHAR STATE FILM DEVELOPMENT & FINANCE CO. LTD"})]}),jsxRuntimeExports.jsx("button",{className:"md:hidden p-2 text-gray-500 hover:bg-gray-100 rounded-lg",onClick:()=>Ye(!1),children:jsxRuntimeExports.jsx(X$1,{size:20,strokeWidth:1.5})})]})}),jsxRuntimeExports.jsx("nav",{className:"flex-1 px-4 py-2 overflow-y-auto",children:jsxRuntimeExports.jsxs("ul",{className:"space-y-1",children:[(_s[Re]||[]).map((js,ms)=>{const ys=js.icon,ks=js.name===Ve;return jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsx("button",{className:`w-full px-4 py-2 flex items-center justify-between text-[13px] font-medium rounded-xl transition-all duration-200 ${ks?"text-rose-600 bg-rose-50/80":"text-gray-600 hover:text-gray-900 hover:bg-gray-50/60"}`,onClick:()=>{js.name==="Artist Registration"?ps():qe(js.name),Ye(!1)},children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 overflow-hidden",children:[jsxRuntimeExports.jsx(ys,{size:18,strokeWidth:1.5,className:ks?"text-rose-600":"text-gray-500"}),jsxRuntimeExports.jsx("span",{className:"truncate whitespace-nowrap",children:js.name})]})})},ms)}),Re==="filmmaker"&&Be&&jsxRuntimeExports.jsxs("li",{children:[jsxRuntimeExports.jsxs("button",{disabled:is,className:`w-full px-4 py-2 flex items-center justify-between text-[13px] font-medium rounded-xl transition-all duration-200 text-gray-600 hover:text-gray-900 hover:bg-gray-50/60 ${is?"opacity-70 cursor-wait":""}`,onClick:async()=>{if(is)return;if(ts){Xe(!1);return}if(We.length>0?We[0]:null)Xe(!0);else try{os(!0);const ms=await api.post("/api/applications");ms.data.success&&(Ge([ms.data.data,...We]),Xe(!0),qe("Annexure 1"))}catch(ms){console.error("âŒ Error creating application:",ms),ms.response&&ms.response.status===409?Xe(!0):Ts({type:"error",title:"Error",message:"Failed to start application. Please try again."})}finally{os(!1)}},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[is?jsxRuntimeExports.jsx("div",{className:"h-4 w-4 border-2 border-gray-300 border-t-rose-600 rounded-full animate-spin"}):jsxRuntimeExports.jsx(FileCheck,{size:18,strokeWidth:1.5,className:"text-gray-500"}),jsxRuntimeExports.jsx("span",{children:"NOC Forms"})]}),jsxRuntimeExports.jsx("div",{className:"flex items-center gap-2",children:ts?jsxRuntimeExports.jsx(ChevronDown,{size:14,className:"text-gray-400"}):jsxRuntimeExports.jsx(ChevronRight,{size:14,className:"text-gray-400"})})]}),ts&&jsxRuntimeExports.jsxs("div",{className:"mt-1 relative",children:[jsxRuntimeExports.jsx("div",{className:"absolute left-[26px] top-0 bottom-6 w-[1px] bg-gray-200"}),jsxRuntimeExports.jsxs("div",{className:"pl-9 pr-4 pt-2",children:[jsxRuntimeExports.jsx("button",{onClick:async()=>{if(!is)try{os(!0);const js=await api.post("/api/applications");if(js.data.success){const ms=js.data.data;Ge([ms,...We]),Ss(ms.applicationId||ms._id),fs(ms.applicationId||ms._id),qe("Annexure 1")}}catch(js){console.error("âŒ Error creating application:",js),Ts({type:"error",title:"Error",message:"Failed to create new application. Please try again."})}finally{os(!1)}},disabled:is,className:"w-full mb-3 flex items-center justify-center gap-2 py-1.5 px-2 bg-gray-50 text-gray-600 text-[10px] font-bold uppercase tracking-wider rounded-lg  hover:bg-gray-100 transition-all disabled:opacity-50",children:is?jsxRuntimeExports.jsx("div",{className:"h-3 w-3  border-t-transparent rounded-full animate-spin"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("span",{className:"text-lg leading-none",children:"+"})," ","Apply New NOC"]})}),jsxRuntimeExports.jsx("div",{className:"space-y-3",children:We.map((js,ms)=>{const ys=js.applicationId||js.id||js._id||`temp-${ms}`,ks=xs===ys,zs=hs===ys&&ys!==null&&ys!==void 0,Cs={PENDING:"bg-yellow-100 text-yellow-700 border-yellow-200",APPROVED:"bg-green-100 text-green-700 border-green-200",REJECTED:"bg-red-100 text-red-700 border-red-200",PROCESSING:"bg-blue-100 text-blue-700 border-blue-200"},Ps=js.status||"PENDING",Us=Cs[Ps.toUpperCase()]||"bg-green-200 text-green-800 border-green-200";return jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>{Ss(!ks?ys:null),fs(ys)},className:`w-full flex items-center justify-between text-xs font-medium py-2 px-2 rounded-lg transition-colors ${zs?"bg-rose-50 text-rose-700":"text-gray-600 hover:bg-gray-50"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-start gap-0.5 overflow-hidden",children:[jsxRuntimeExports.jsx("span",{className:"truncate font-bold text-[11px]",children:js.applicationNumber||(js.applicationId?`#${js.applicationId}`:`Application ${ms+1}`)}),(()=>{const Is=js.forms||{},Vs=js.progress||{},Ks=Vs.annexureOneCompleted||!!Is.annexureOne,or=Vs.nocFormCompleted||!!Is.nocForm,rr=Vs.undertakingUploaded||!!Is.undertaking,ur=Vs.annexureAFilledOrNot===!0;return Ks&&or&&ur&&rr?jsxRuntimeExports.jsx("span",{className:`text-[9px] px-1.5 py-0.5 rounded-full border uppercase tracking-wider ${Us}`,children:Ps}):null})()]}),ks?jsxRuntimeExports.jsx(ChevronDown,{size:14,className:"text-gray-400"}):jsxRuntimeExports.jsx(ChevronRight,{size:14,className:"text-gray-400"})]}),ks&&jsxRuntimeExports.jsx("ul",{className:"mt-1 space-y-0.5 pl-2 border-l-2 border-gray-100 ml-2",children:[{name:"Upload Documents",icon:FileText},{name:"Annexure 1",icon:FileStack},{name:"Annexure 2",icon:FileCheck},{name:"Annexure A",icon:FileStack},{name:"Undertaking",icon:FilePenLine}].map(Is=>{var ur,Ws,Er,zr;const Vs=js.progress||{};let Ks=!1;Is.name==="Annexure 1"&&(Ks=Vs.annexureOneCompleted||!!((ur=js.forms)!=null&&ur.annexureOne)),Is.name==="Annexure 2"&&(Ks=Vs.nocFormCompleted||!!((Ws=js.forms)!=null&&Ws.nocForm)),Is.name==="Annexure A"&&(Ks=Vs.annexureAFilledOrNot===!0),Is.name==="Undertaking"&&(Ks=Vs.undertakingUploaded||!!((Er=js.forms)!=null&&Er.undertaking)),Is.name==="Upload Documents"&&(Ks=Vs.nocDocumentsSubmitted===!0||js.nocDocumentsSubmitted===!0||Vs.shootingPermissionUploaded||!!((zr=js.forms)!=null&&zr.shootingPermission)||!!js.documents);const or=Ks&&js.status!=="REJECTED",rr=zs&&Ve===Is.name;return jsxRuntimeExports.jsx("li",{children:jsxRuntimeExports.jsxs("button",{className:`w-full py-2 px-2 flex items-center justify-between text-[11px] rounded-md transition-all ${rr?"bg-gray-100/80 text-rose-600 font-bold":"text-gray-500 hover:text-gray-800 hover:bg-gray-50"}`,onClick:()=>{or?Ts({type:"success",title:"Submitted",message:"Form already submitted for this active application.",confirmText:"View Status",onConfirm:()=>{qe("Dashboard"),fs(ys)}}):(fs(ys),qe(Is.name),Ye(!1))},children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 overflow-hidden flex-1",children:[jsxRuntimeExports.jsx(Is.icon,{size:14,strokeWidth:rr?2:1.5,className:`flex-shrink-0 ${Ks?"text-green-600":""}`}),jsxRuntimeExports.jsx("span",{className:"truncate",children:Is.name})]}),Ks?jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1 bg-green-50 px-1.5 py-0.5 rounded-full text-[7px] text-green-700 font-medium ",children:[jsxRuntimeExports.jsx(Check,{size:10,strokeWidth:3}),jsxRuntimeExports.jsx("span",{children:"Done"})]}):jsxRuntimeExports.jsx("span",{className:"bg-red-100 text-red-500 px-1.5 py-0.5 rounded-full text-[7px] font-medium",children:"Pending"})]})},Is.name)})})]},ys)})})]})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"p-4 mt-auto",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-50/50 rounded-2xl p-4 border border-gray-100",children:[jsxRuntimeExports.jsx("p",{className:"text-[11px] font-semibold text-gray-500 mb-1",children:"Need help?"}),jsxRuntimeExports.jsx("a",{href:"mailto:support.biharfilm@gov.in",className:"text-[11px] font-medium text-rose-600 hover:rose-700 transition-colors block mb-4",children:"biharfilmnigam@gmail.com"})]})})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden bg-white",children:[jsxRuntimeExports.jsxs("div",{className:"bg-white border-b border-gray-100 px-6 py-3 flex items-center justify-between shadow-sm relative z-20",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("button",{className:"md:hidden p-1 text-gray-500 hover:bg-gray-100 rounded-lg",onClick:()=>Ye(!0),children:jsxRuntimeExports.jsx(Menu,{size:24})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-gray-800 tracking-tight",children:Ve}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 font-medium mt-0.5",children:new Date().toLocaleDateString("en-IN",{weekday:"long",day:"numeric",month:"long",year:"numeric"})})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"hidden md:block text-right",children:[jsxRuntimeExports.jsxs("p",{className:"text-sm font-bold text-gray-700",children:["Welcome,"," ",jsxRuntimeExports.jsx("span",{className:"text-rose-600",children:Ee||"User"})]}),jsxRuntimeExports.jsx("p",{className:"text-[10px] text-gray-400 font-medium uppercase tracking-wider",children:Re==="filmmaker"?"Producer":Re==="artist"?"Artist":Re==="vendor"?"Vendor":"Guest"})]}),jsxRuntimeExports.jsxs("div",{className:"relative group",children:[jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-2 p-1 pr-2 rounded-full border border-gray-200 hover:border-rose-200 transition-colors focus:outline-none",children:[jsxRuntimeExports.jsx("img",{src:UserAvatar,alt:"User",className:"w-8 h-8 rounded-full object-cover bg-gray-100"}),jsxRuntimeExports.jsx(ChevronDown,{size:14,className:"text-gray-400 group-hover:text-rose-500 transition-colors"})]}),jsxRuntimeExports.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 bg-white rounded-xl shadow-xl border border-gray-100 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 transform origin-top-right z-50",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-gray-50 bg-gray-50/50 rounded-t-xl",children:[jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-gray-800 truncate",children:Ee||"User Name"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 capitalize",children:Re==="filmmaker"?"Producer":"Guest"})]}),jsxRuntimeExports.jsxs("div",{className:"p-2",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>qe("Profile"),className:"w-full flex items-center gap-3 px-3 py-2 text-sm font-medium text-gray-600 hover:text-rose-600 hover:bg-rose-50 rounded-lg transition-colors",children:[jsxRuntimeExports.jsx(Key,{size:16}),jsxRuntimeExports.jsx("span",{children:"Update Password"})]}),jsxRuntimeExports.jsxs("button",{onClick:bs,className:"w-full flex items-center gap-3 px-3 py-2 text-sm font-medium text-gray-600 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:[jsxRuntimeExports.jsx(IoIosLogOut,{size:16}),jsxRuntimeExports.jsx("span",{children:"Logout"})]})]})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 overflow-y-auto p-6 bg-white",children:ws()})]})]})},imageData=[{src:"https://film.bihar.gov.in/img/cs1/a12.jpeg",title:"Session A",description:"Interactive discussion on storytelling and visual language."},{src:"https://film.bihar.gov.in/img/cs1/b12.jpeg",title:"Session B",description:"Exploring regional cinema's impact and scope in Bihar."},{src:"https://film.bihar.gov.in/img/cs1/c12.jpeg",title:"Session C",description:"Panel talk with filmmakers and critics."},{src:"https://film.bihar.gov.in/img/cs1/d12.jpeg",title:"Session D",description:"Youth participation in cinematic arts."},{src:"https://film.bihar.gov.in/img/cs1/e12.jpeg",title:"Session E",description:"Understanding the cultural lens in film narratives."},{src:"https://film.bihar.gov.in/img/cs1/f12.jpeg",title:"Session F",description:"Workshops on screenwriting and editing basics."},{src:"https://film.bihar.gov.in/img/cs1/g12.jpeg",title:"Session G",description:"Short film screenings by local artists."},{src:"https://film.bihar.gov.in/img/cs1/h12.jpeg",title:"Session H",description:"Behind-the-scenes of documentary production."}],CineSamvad=()=>(useNavigate(),reactExports.useEffect(()=>{window.scrollTo(0,0)},[]),jsxRuntimeExports.jsxs("div",{className:"relative w-full min-h-screen bg-[#190108] text-white overflow-hidden",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-0",children:[jsxRuntimeExports.jsx("video",{className:"absolute top-0 left-0 w-full h-full object-cover",src:"/Filmclub.mp4",autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[#190108]/80 backdrop-blur-[2px]"})]}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 w-full max-w-7xl mx-auto px-4 py-24 sm:py-32",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"mb-12 flex flex-col items-center text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl font-bold text-white mb-4 great-vibes-regular drop-shadow-2xl",children:"Cine-Samvad Sessions"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-sm max-w-4xl mx-auto leading-relaxed text-center",children:"An initiative by the Corporation to facilitate interactive sessions where filmmakers, film students, and film enthusiasts meet to brainstorm ideas for development of the film industry in Bihar, the efforts to find solutions to the current problems along with the necessary changes and the need to find new ways to achieve the purpose of overall development of Bihar"})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:imageData.map((Re,e)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:e*.05},className:"group relative h-[320px] rounded-2xl overflow-hidden bg-white/5 border border-white/10 backdrop-blur-md shadow-xl hover:shadow-2xl hover:shadow-[#4f0419]/20 transition-all duration-500 hover:-translate-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative h-[65%] overflow-hidden bg-[#190108] flex items-center justify-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-3xl sm:text-4xl md:text-5xl text-gray-500 great-vibes-regular transform -rotate-12 select-none",children:"CineSamvad"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#190108] via-transparent to-transparent opacity-80"})]}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-0 left-0 w-full h-[35%] p-5 flex flex-col justify-center bg-gradient-to-b from-[#190108]/90 to-[#190108]",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold text-white mb-2 group-hover:text-[#ff4d6d] transition-colors",children:Re.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 group-hover:text-gray-200 transition-colors",children:Re.description}),jsxRuntimeExports.jsx("div",{className:"mt-3 w-12 h-0.5 bg-[#4f0419] rounded-full transition-all duration-500 group-hover:w-full opacity-50 group-hover:opacity-100"})]})]},e))})]})]})),Filmclub="/Filmclub.mp4",tabData={"IFFI Film Festival":[{src:"",title:"IFFI Participation A",description:"Bihar's delegates at the International Film Festival of India."},{src:"",title:"IFFI Awards",description:"Showcasing award-winning entries from Bihar."},{src:"",title:"IFFI Awards",description:"Showcasing award-winning entries from Bihar."}],"Children Film Festival":[{src:"",title:"Child Artist Workshop",description:"Workshops designed for children on filmmaking basics."},{src:"",title:"Young Talents",description:"Screenings of children's films made by school students."},{src:"",title:"Young Talents",description:"Screenings of children's films made by school students."}],"Women Film Festival":[{src:"",title:"Women Directors",description:"Celebrating women behind the camera in Bihar."},{src:"",title:"Voices of Women",description:"Films highlighting women-centric narratives."},{src:"",title:"Voices of Women",description:"Films highlighting women-centric narratives."}]},tabDescriptions={"IFFI Film Festival":"The Bihar Film Nigam actively participates in the Film Bazaar during the International Film Festival of India (IFFI) organized by NFDC. The objective is to promote the Bihar Film Policy and position Bihar as an attractive and film-friendly destination for national and international filmmakers.","Children Film Festival":"The Corporation organizes film screenings for students of government and private schools and colleges, highlighting the role and creativity of children in cinema. The festival encourages young minds to appreciate films as a medium of learning and expression.","Women Film Festival":"Every year, on the occasion of International Womenâ€™s Day, the Corporation celebrates the South Asia Women Film Festival, showcasing films based on womenâ€™s empowerment and achievements. The event emphasizes womenâ€™s contributions to cinema and promotes gender equality through the lens of art."},Chatarpatar=()=>{const[Re,e]=reactExports.useState("IFFI Film Festival"),Ee=useNavigate();return reactExports.useEffect(()=>{window.scrollTo(0,0)},[]),jsxRuntimeExports.jsxs("div",{className:"relative w-full min-h-screen bg-[#190108] text-white overflow-hidden",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-0",children:[jsxRuntimeExports.jsx("video",{className:"absolute top-0 left-0 w-full h-full object-cover",src:Filmclub,autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[#190108]/80 backdrop-blur-[2px]"})]}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 w-full max-w-7xl mx-auto px-4 py-24 sm:py-32",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"mb-12 text-center sm:text-left",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>Ee(-1),className:"group inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/5 border border-white/10 hover:bg-[#4f0419] hover:border-[#4f0419] transition-all duration-300 mb-8 backdrop-blur-sm",children:[jsxRuntimeExports.jsx(IoIosArrowBack,{className:"text-lg text-gray-300 group-hover:text-white transition-colors"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-gray-300 group-hover:text-white transition-colors",children:"Back to Film Club"})]}),jsxRuntimeExports.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl font-bold text-white mb-4 great-vibes-regular drop-shadow-2xl text-center",children:"Film Festival"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-lg max-w-4xl mx-auto leading-relaxed text-center min-h-[80px]",children:tabDescriptions[Re]})]}),jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"flex justify-center mb-12 flex-wrap gap-4",children:Object.keys(tabData).map(Ce=>jsxRuntimeExports.jsx("button",{onClick:()=>e(Ce),className:`px-6 py-3 rounded-full border text-sm sm:text-base font-medium transition-all duration-300 backdrop-blur-sm ${Re===Ce?"bg-[#4f0419] text-white border-[#4f0419] shadow-lg shadow-[#4f0419]/30 scale-105":"bg-white/5 text-gray-300 border-white/10 hover:bg-white/10 hover:border-white/20"}`,children:Ce},Ce))}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:tabData[Re].map((Ce,Te)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-20,scale:.95},transition:{duration:.4,delay:Te*.1},className:"group relative h-[320px] rounded-2xl overflow-hidden bg-white/5 border border-white/10 backdrop-blur-md shadow-xl hover:shadow-2xl hover:shadow-[#4f0419]/20 transition-all duration-500 hover:-translate-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative h-[65%] overflow-hidden bg-gray-900",children:[Ce.src?jsxRuntimeExports.jsx("img",{src:Ce.src,alt:Ce.title,className:"w-full h-full object-cover transition-transform duration-700 ease-out group-hover:scale-110"}):jsxRuntimeExports.jsx("div",{className:"w-full h-full flex items-center justify-center bg-[#190108]",children:jsxRuntimeExports.jsx("span",{className:"text-white/20 text-4xl font-bold great-vibes-regular",children:"Film Festival"})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#190108] via-transparent to-transparent opacity-80"})]}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-0 left-0 w-full h-[35%] p-5 flex flex-col justify-center bg-gradient-to-b from-[#190108]/90 to-[#190108]",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-white mb-2 group-hover:text-[#ff4d6d] transition-colors",children:Ce.title}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 group-hover:text-gray-200 transition-colors",children:Ce.description}),jsxRuntimeExports.jsx("div",{className:"mt-3 w-12 h-0.5 bg-[#4f0419] rounded-full transition-all duration-500 group-hover:w-full opacity-50 group-hover:opacity-100"})]})]},`${Re}-${Te}`))})})]})]})},sessions=[{title:"12 May 2023 (Azad Vartaman ka ek din & Dharti ke bhagwan)",url:"https://deshkiupasana.com/wp-content/uploads/2023/05/3-7.jpg"},{title:"07 September 2022 (Sumi)",url:"https://akamaividz2.zee5.com/image/upload/w_480,h_270,c_scale,f_webp,q_auto:eco/resources/0-1-6z5213766/list/000002372ab2b04fd67b424491e7c3e40b5042d0.jpg"},{title:"07 July 2022 (Peepli Live)",url:"https://ksboxoffice.com/wp-content/uploads/2020/11/21672-1024x575.jpg"},{title:"07 June 2022 (Manjhi - The Mountain Man)",url:"https://i0.wp.com/nasheman.in/wp-content/uploads/2015/09/Manjhi-the-Mountain.jpg"},{title:"27 January 2017 (Road To Sangam)",url:"https://m.media-amazon.com/images/S/pv-target-images/b4b6762d6161f87de6a3d3f0773bf2d0b99e9ad7b1e8442d9f2d1ef6ee1289eb._SX1080_FMjpg_.jpg"},{title:"27 August 2016 (Nil Battey Sannata)",url:"https://www.colouryellow.com/wp-content/uploads/2021/11/6-sheeter_Nil-battey-sannata-merged-1.jpg"},{title:"29 July 2016 (Antardwand)",url:"https://m.media-amazon.com/images/S/pv-target-images/3eefa43c3505b739aeb844f038a46fcb49ecd9a2753ac401f02128b9f6aa59a1.jpg"},{title:"24 June 2016 (Dulha)",url:"https://upload.wikimedia.org/wikipedia/commons/6/60/Indian_bride-groom_%288925311033%29.jpg"},{title:"27 May 2016 (Handover)",url:"https://m.media-amazon.com/images/M/MV5BZjllN2VhNTYtM2YyYS00MzA1LTk4NTYtM2YxZmI3Nzc1OTY4XkEyXkFqcGc@._V1_.jpg"}],CoffeeWithFilm=()=>(useNavigate(),reactExports.useEffect(()=>{window.scrollTo(0,0)},[]),jsxRuntimeExports.jsxs("div",{className:"relative w-full min-h-screen bg-[#190108] text-white overflow-hidden",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-0",children:[jsxRuntimeExports.jsx("video",{className:"absolute top-0 left-0 w-full h-full object-cover",src:Filmclub,autoPlay:!0,loop:!0,muted:!0,playsInline:!0}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[#190108]/80 backdrop-blur-[2px]"})]}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 w-full max-w-7xl mx-auto px-4 py-24 sm:py-32",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"mb-12 flex flex-col items-center text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl font-bold text-white mb-4 great-vibes-regular drop-shadow-2xl",children:"Coffee with Film"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-lg max-w-4xl mx-auto leading-relaxed text-center",children:"A unique interactive platform where film producers and directors from Bihar showcase their films and share their filmmaking journeys. The audience gets an opportunity to interact with the filmmakers, gain insights into the creative process, and understand the challenges faced during film production."})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8",children:sessions.map((Re,e)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:e*.05},className:"group relative h-[320px] rounded-2xl overflow-hidden bg-white/5 border border-white/10 backdrop-blur-md shadow-xl hover:shadow-2xl hover:shadow-[#4f0419]/20 transition-all duration-500 hover:-translate-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"relative h-[65%] overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:Re.url,alt:Re.title,className:"w-full h-full object-cover transition-transform duration-700 ease-out group-hover:scale-110"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#190108] via-transparent to-transparent opacity-80"}),jsxRuntimeExports.jsx("div",{className:"absolute top-4 right-4 w-8 h-8 rounded-full bg-black/40 backdrop-blur-md border border-white/20 flex items-center justify-center",children:jsxRuntimeExports.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-white/80"})})]}),jsxRuntimeExports.jsxs("div",{className:"absolute bottom-0 left-0 w-full h-[35%] p-5 flex flex-col justify-center bg-gradient-to-b from-[#190108]/90 to-[#190108]",children:[jsxRuntimeExports.jsx("h2",{className:"text-base font-medium text-white/90 leading-snug line-clamp-2 group-hover:text-white transition-colors",children:Re.title}),jsxRuntimeExports.jsx("div",{className:"mt-3 w-12 h-0.5 bg-[#4f0419] rounded-full transition-all duration-500 group-hover:w-full opacity-50 group-hover:opacity-100"})]})]},e))})]})]})),categories={"Hills & Caves":[{id:1,title:"Barabar Hills",district:"Jehanabad",img:"/BarabarHills.jpeg",description:"Barabar Hills, located in the Jehanabad district of Bihar, are home to the oldest surviving rock-cut caves in India, dating back to the Mauryan period.",lat:25.0076,lng:85.0653},{id:2,title:"Gridhakut Hills",district:"Nalanda",img:"/GridhakutHills.jpg",description:"Gridhakut Hills, also known as Vulture Peak, is located near Rajgir in Bihar. It is a significant Buddhist pilgrimage site where Lord Buddha is said to have delivered many important sermons.",lat:25.0172,lng:85.4217},{id:3,title:"Grupa Hills Gaya",district:"Gaya",img:"/GrupaHillsGaya.png",description:"Grupa Hills (also known as Gurpa Hills) is a sacred Buddhist site located near Gaya in Bihar. .",lat:24.9251,lng:85.1522},{id:4,title:"Kaimur Hills",district:"Kaimur",img:"/kaimurhills.png",description:"Kaimur Hills are part of the Vindhya range in Bihar, known for its scenic landscapes, waterfalls, and wildlife.",lat:24.6215,lng:83.583},{id:5,title:"Kakolat Waterfall",district:"Nawada",img:"/kakolatfalls.jpg",description:"Kakolat Waterfall is a scenic spot in Nawada district, famous for its clear waters and natural setting. Itâ€™s a popular picnic and shooting destination.",lat:24.7082,lng:85.52},{id:6,title:"Telhar Kund Kaimur",district:"Kaimur",img:"/TelharKundKaimur.jpg",description:"Telhar Kund is a picturesque waterfall located in the Kaimur hills, surrounded by lush forests and rocky cliffs.",lat:24.6467,lng:83.4801},{id:7,title:"Tutla Bhawani Waterfall",district:"Rohtas",img:"/TutlaBhawaniWaterfall.png",description:"Tutla Bhawani Waterfall is a hidden gem in Rohtas, known for its serene environment and religious significance.",lat:24.955,lng:84.0583},{id:8,title:"Vishwa Shanti Stupa",district:"Nalanda",img:"/VishwaShantiStupa.png",description:"Vishwa Shanti Stupa in Rajgir is a symbol of world peace, perched on Ratnagiri Hill and accessible by a ropeway.",lat:25.0305,lng:85.4215}],"Monuments & Museums":[{id:1,title:"Bihar Museum",district:"Patna",img:"/biharmuseum.jpeg",description:"Bihar Museum in Patna showcases Biharâ€™s rich cultural heritage with modern exhibits and galleries.",lat:25.6071,lng:85.1234},{id:2,title:"Dutch Building",district:"Patna",img:"/dutchBuilding.png",description:"The Dutch Building in Patna is a historic colonial-era structure, known for its architectural significance.",lat:25.6102,lng:85.1408},{id:3,title:"Gandhi Sangrahalay",district:"Patna",img:"/GandhiSangrahalaya.jpeg",description:"Gandhi Sangrahalaya is a museum in Patna dedicated to the life and ideals of Mahatma Gandhi.",lat:25.6135,lng:85.1413},{id:4,title:"Khuda Baksh Oriental Library",district:"Patna",img:"/KhudaBakhshOrientalLibrary.jpeg",description:"Khuda Bakhsh Oriental Library in Patna holds rare manuscripts and ancient texts, a treasure trove of history.",lat:25.612,lng:85.1418},{id:5,title:"Patna Museum",district:"Patna",img:"/PatnaMuseum.jpeg",description:"Patna Museum in Patna showcases Biharâ€™s rich cultural heritage with modern exhibits and galleries.",lat:25.6071,lng:85.1234},{id:6,title:"Planetarium Patna",district:"Patna",img:"/PlanetariumPatna.jpeg",description:"Patna Planetarium offers educational astronomy shows and exhibits for all ages.",lat:25.6139,lng:85.1442}],Nature:[{id:1,title:"Valmiki Tiger Reserve",district:"West Champaran",img:"https://hindi.cdn.zeenews.com/hindi/sites/default/files/2024/03/09/2681300-valmiki-tiger-reserve.jpg?im=Resize=(1200,900)",description:"Valmiki Tiger Reserve is Biharâ€™s only tiger reserve, rich in wildlife including tigers, elephants, and deer.",lat:27.4456,lng:84.9206},{id:2,title:"Rajgir Zoo",district:"Nalanda",img:"https://images.bhaskarassets.com/web2images/521/2021/03/10/orig_4_1615322925.jpg",description:"Rajgir Zoo (Vishwa Shanti Van) offers a small but diverse collection of animals amid scenic surroundings near Rajgir.",lat:25.0269,lng:85.4204},{id:3,title:"Kaimur Wildlife",district:"Kaimur",img:"https://pbs.twimg.com/profile_images/1288390076041277440/pP_qpOz9_400x400.jpg",description:"Kaimur Wildlife Sanctuary is a forested region in the Kaimur range, known for rich biodiversity including leopards, sloth bears, and diverse flora.",lat:24.6,lng:83.6},{id:4,title:"Bhimband wildlife Sanctuary",district:"Munger",img:"/BhimbandWildlifeSanctuary.jpg",description:"Bhimbandh Wildlife Sanctuary in Munger is known for its hot springs, forests, and a variety of wildlife.",lat:24.4535,lng:86.3286},{id:5,title:"Patna Zoo",district:"Patna",img:"https://thebusinesscluster.net/wp-content/uploads/2024/03/image-235.png",description:"Patna Zoo houses a variety of animal species including tigers, lions, elephants, and offers educational exhibits in a park-like setting.",lat:25.6122,lng:85.125}],"Garden & Parks ":[{id:1,title:"Buddha Smriti Park",district:"Patna",img:"/buddhaSmriti.png",description:"A serene urban park in Patna commemorating Buddha's teachings.",lat:25.609,lng:85.1376},{id:2,title:"Ghora Katora",district:"Nalanda",img:"/GhoraKatora.jpg",description:"A natural, horseâ€‘shaped lake near Rajgir surrounded by hills and migratory birds.",lat:25.0085,lng:85.4201},{id:3,title:"Kanwar Lake Begusarai",district:"Begusarai",img:"/KanwarLakeBegusarai.jpg",description:"Asiaâ€™s largest freshwater oxbow lake and Biharâ€™s only Ramsarâ€‘designated bird sanctuary.",lat:25.630383,lng:86.145172},{id:4,title:"Pandu Pokhar",district:"Nalanda",img:"/PanduPokhar.jpg",description:"A well-maintained urban recreational park in Rajgir, offering boating, kids play zones, and cultural shows.",lat:25.02,lng:85.42},{id:5,title:"Venuvan Nalanda",district:"Nalanda",img:"/VenuvanNalanda.webp",description:"The bamboo grove donated by King Bimbisara to Buddha in Rajgir, featuring a lake and sculpture.",lat:25.03,lng:85.416}],"Cultural Sites ":[{id:1,title:"Ashok Pillar, Kolhua",district:"Vaishali",img:"/AshokanPillarKolhuaVaishali.webp",description:"The Ashokan pillar at Kolhua, Vaishali, is an ancient sandstone pillar topped with a lion capital, symbolizing Emperor Ashoka's embrace of Buddhism.",lat:26.014,lng:85.109},{id:2,title:"Cyclopean Wall, Rajgir",district:"Nalanda",img:"/CyclopeanWallRajgir.avif",description:"An ancient stone wall surrounding the city of Rajgir, believed to be over 2500 years old and built during the Mauryan era.",lat:25.0216,lng:85.4159},{id:3,title:"Ruins of Vikaramshila",district:"Bhagalpur",img:"/Ruins of Vikramshila.jpg",description:"The remains of Vikramshila University in Bhagalpur, one of the two most important centers of Buddhist learning in India during the Pala Empire.",lat:25.253391,lng:86.989059},{id:4,title:"Darbhanga House",district:"Patna",img:"/DarbhangaHouse.jpg",description:"A heritage building on the banks of the Ganga in Patna, built by the royal family of Darbhanga, known for its Indo-Saracenic architecture.",lat:25.6214,lng:85.1642},{id:5,title:"Kesariya Stupa",district:"East Champaran",img:"/KesariyaStupa.webp",description:"One of the largest Buddhist stupas in the world, located in East Champaran. It is believed to date back to the time of Buddha's last journey.",lat:26.33414,lng:84.85476},{id:6,title:"Kumhrar Park",district:"Patna",img:"/KumhrarPark.png",description:"An archaeological site in Patna showcasing the remains of ancient Pataliputra, including Mauryan pillared halls and artifacts.",lat:25.5998,lng:85.18493},{id:7,title:"Rohtasgarh Fort",district:"Rohtas",img:"/RohtasgarhFort.png",description:"A grand fort built on the Kaimur hills in Rohtas district, known for its strategic location, massive gates, and architectural ruins.",lat:24.9474,lng:84.0161},{id:8,title:"Raj Mahal Palace Darbhanga",district:"Darbhanga",img:"/RajMahalPalaceDarbhanga.jpg",description:"A royal palace built by the Darbhanga Raj family, reflecting the grandeur of Rajput-Mughal architecture in north Bihar.",lat:26.153,lng:85.9014},{id:9,title:"Sher Shah Suri Tomb",district:"Rohtas",img:"/SherShahSuriTomb.jpg",description:"A grand mausoleum of Sher Shah Suri located in Sasaram, built in Indo-Islamic style and surrounded by a large lake.",lat:24.9435,lng:84.0417}],"Government Institutions ":[{id:1,title:"Martyr's memorial",district:"Patna",img:"/Martyr'smemorial.jpg",description:"A prominent landmark in Patna commemorating seven young freedom fighters who sacrificed their lives during the Quit India Movement.",lat:25.6094,lng:85.1233},{id:2,title:"Bihar Vidhan Sabha",district:"Patna",img:"/BiharVidhanSabha.jpg",description:"The legislative building of Bihar in Patna, known for its colonial architecture and political significance.",lat:25.609,lng:85.1376},{id:3,title:"Niyojan Bhavan",district:"Patna",img:"/NiyojanBhavan.webp",description:"A key government office in Patna, housing departments related to planning and development.",lat:25.6155,lng:85.1411},{id:4,title:"Old Secretariat",district:"Patna",img:"/OldSecretariat.png",description:"An iconic colonial-era administrative building in Patna, currently housing several state government offices.",lat:25.6215,lng:85.1411},{id:5,title:"Sardar Patel Bhawan",district:"Patna",img:"/SardarPatelBhawan.avif",description:"A government complex named after Sardar Vallabhbhai Patel, serving as an administrative hub in Patna.",lat:25.6112,lng:85.1377},{id:6,title:"Sultan palace",district:"Patna",img:"/SultanPalace.png",description:"A beautiful Indo-Saracenic style palace built in the early 20th century in Patna, originally the residence of Sir Sultan Ahmad.",lat:25.6213,lng:85.1306}]},Location=()=>{useNavigate();const[Re,e]=reactExports.useState("Hills & Caves"),[Ee,Ce]=reactExports.useState(categories[Re][0]),[Te,De]=reactExports.useState(categories[Re].slice(1)),Me=({lat:Ve,lng:qe})=>{const We=useMap();return reactExports.useEffect(()=>{We&&Ve&&qe&&We.setView([Ve,qe],We.getZoom(),{animate:!0,duration:1})},[Ve,qe,We]),null};reactExports.useEffect(()=>{categories[Re]&&categories[Re].length>0&&(Ce(categories[Re][0]),De(categories[Re].slice(1)))},[Re]);const Oe=(Ve,qe)=>{if(!Te.length)return;const We=Ee,Ge=[...Te],Je=qe%Te.length;Ge[Je]=We,Ce(Ve),De(Ge)},Be={latitude:25.5941,longitude:85.0877};let ze=null;if(Ee&&Ee.lat&&Ee.lng){const Ve={latitude:Ee.lat,longitude:Ee.lng};ze=esExports.getDistance(Be,Ve)/1e3}return jsxRuntimeExports.jsxs(motion.div,{className:"w-full min-h-screen flex flex-col items-center bg-[#190108] pt-24 px-4 sm:px-8 md:px-12 lg:px-16 pb-20",id:"Shooting-location",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsxs("div",{className:"bg-[#190108] w-full pt-10 px-2 sm:px-6 lg:px-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-white text-4xl sm:text-6xl carter-one-regular text-center mb-12",children:"Explore Locations"}),jsxRuntimeExports.jsx("div",{className:"flex flex-wrap justify-center gap-4 mt-4 pb-10",children:Object.keys(categories).map(Ve=>jsxRuntimeExports.jsx("button",{className:`px-4 py-2 rounded-lg text-sm sm:text-base transition duration-300 ${Re===Ve?"bg-[#4f0419] text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,onClick:()=>e(Ve),children:Ve},Ve))}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 items-start mb-16",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,ease:"easeInOut"},className:"w-full h-[25rem] rounded-2xl border-4 border-[#a92b4e] shadow-xl overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:Ee.img,alt:Ee.title,className:"w-full h-full object-cover"})},Ee.title),jsxRuntimeExports.jsxs("div",{className:"px-2 md:px-6",children:[jsxRuntimeExports.jsxs("h3",{className:"text-[#a92b4e] text-3xl font-semibold mb-4",children:[Ee.title,", ",Ee.district]}),jsxRuntimeExports.jsx("p",{className:"text-white text-base leading-relaxed text-justify",children:Ee.description||"No description available for this location."}),jsxRuntimeExports.jsxs("p",{className:"text-white",children:[jsxRuntimeExports.jsx("strong",{children:"Distance from Patna Airport:"})," ",ze?`${ze.toFixed(2)} km`:"N/A"]}),jsxRuntimeExports.jsx("div",{className:"mt-6 w-full max-w-md h-48 rounded-xl overflow-hidden shadow-lg",children:jsxRuntimeExports.jsxs(MapContainer,{center:[Ee.lat,Ee.lng],zoom:9,className:"w-full h-full -z-[-10]",children:[jsxRuntimeExports.jsx(TileLayer,{attribution:"Â© OpenStreetMap contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),jsxRuntimeExports.jsx(Marker,{position:[Ee.lat,Ee.lng],children:jsxRuntimeExports.jsxs(Popup,{children:[Ee.title,", ",Ee.district]})}),jsxRuntimeExports.jsx(Polyline,{positions:[[25.5941,85.0877],[Ee.lat,Ee.lng]],color:"#a92b4e"}),jsxRuntimeExports.jsx(Me,{lat:Ee.lat,lng:Ee.lng})]})})]})]}),jsxRuntimeExports.jsx("div",{className:"overflow-hidden group px-4 mt-4",children:jsxRuntimeExports.jsx("div",{className:"flex w-max space-x-4 animate-scrollImages group-hover:pause-scroll",children:[...Te,...Te].map((Ve,qe)=>jsxRuntimeExports.jsx(motion.div,{whileHover:{scale:1.05},className:"cursor-pointer rounded-xl overflow-hidden shadow-md border border-gray-600 w-60 h-36",onClick:()=>Oe(Ve,qe),children:jsxRuntimeExports.jsx("img",{src:Ve.img,alt:Ve.title,className:"w-full h-full object-cover"})},`${Ve.title}-${qe}`))})})]})]})},VendorProductForm=()=>{const[Re,e]=reactExports.useState(1),[Ee,Ce]=reactExports.useState(!1),[Te,De]=reactExports.useState({}),[Me,Oe]=reactExports.useState([]);useNavigate();const[Be,ze]=reactExports.useState({vendorName:"",phoneNumber:"",email:"",address:"",website:"",category:[]}),[Ve,qe]=reactExports.useState(null),[We,Ge]=reactExports.useState(null),Je=["Photography & Videography","Catering Services","Decorations & Lighting","Music & Entertainment","Transportation","Venues & Locations","Costumes & Makeup","Equipment Rental","Post-Production","Security","Other"],Qe={"Photography & Videography":["Cameras","Lighting","Sound","Grip","Drones"],"Catering Services":["Food Catering","Beverage Services","Equipment Rental","Staff Services"],"Decorations & Lighting":["Furniture","Decor","Lighting Equipment","Temporary Structures"],"Music & Entertainment":["Sound Systems","Musical Instruments","DJ Equipment","Entertainment Services"],Transportation:["Vanity Vans","Generators","Cranes","Trolleys"],"Venues & Locations":["Sets","Green Screen","Outdoor Props","Temporary Structures"],"Costumes & Makeup":["Traditional","Modern","Fantasy","Historical","Uniforms"],"Equipment Rental":["Cameras","Lighting","Sound","Grip","Drones"],"Post-Production":["Editing Systems","VFX Workstations","Color Grading Tools"],Other:["Miscellaneous Equipment","Special Services","Custom Solutions"]},[ns,Ye]=reactExports.useState({}),[rs,ts]=reactExports.useState({}),[Xe,is]=reactExports.useState({});reactExports.useEffect(()=>{const Ds=Object.keys(Te).filter(Ms=>Te[Ms]);Oe(Ds)},[Te]);const os=Ds=>{const Ms=Ds.target.files[0];if(Ms){const bs=validateFile(Ms);if(!bs.isValid){alert(bs.error),Ds.target.value=null;return}qe(Ms);const Ns=URL.createObjectURL(Ms);Ge(Ns)}},hs=()=>{const Ds={};return Be.vendorName.trim()||(Ds.vendorName="Vendor name is required"),Be.phoneNumber.trim()||(Ds.phoneNumber="Phone is required"),Be.email.trim()?/\S+@\S+\.\S+/.test(Be.email)||(Ds.email="Invalid email format"):Ds.email="Email is required",Be.address.trim()||(Ds.address="Address is required"),Be.website&&!/^https?:\/\/.+/.test(Be.website)&&(Ds.website="Invalid URL format"),Be.category.length===0&&(Ds.category="Select at least one category"),Ve||(Ds.logo="Please upload a logo"),Ye(Ds),Object.keys(Ds).length===0},fs=()=>{const Ds={};return Me.forEach((Ms,bs)=>{var ps,_s;const Ns=rs[Ms]||{};(ps=Ns.name)!=null&&ps.trim()||(Ds[`${Ms}_name`]="Product name is required"),(_s=Ns.description)!=null&&_s.trim()||(Ds[`${Ms}_description`]="Description is required"),(!Ns.price||Ns.price<=0)&&(Ds[`${Ms}_price`]="Price must be a positive number")}),is(Ds),Object.keys(Ds).length===0},xs=Ds=>{const{name:Ms,value:bs,type:Ns,checked:ps}=Ds.target;Ns==="checkbox"?Ms==="category"&&ze(_s=>({..._s,category:ps?[..._s.category,bs]:_s.category.filter(ws=>ws!==bs)})):ze(_s=>({..._s,[Ms]:bs})),ns[Ms]&&Ye(_s=>({..._s,[Ms]:""}))},Ss=(Ds,Ms,bs)=>{ts(ps=>({...ps,[Ds]:{...ps[Ds],[Ms]:bs}}));const Ns=`${Ds}_${Ms}`;Xe[Ns]&&is(ps=>({...ps,[Ns]:""}))},ds=Ds=>{Ds.preventDefault(),hs()&&(console.log("Vendor data:",Be),e(2))},gs=(Ds,Ms,bs)=>{const Ns=`${Ds}-${Ms}`;De(ps=>({...ps,[Ns]:bs})),bs||ts(ps=>{const _s={...ps};return delete _s[Ns],_s})},Ts=async Ds=>{if(Ds.preventDefault(),!!fs()){console.log("Form data being submitted"),Ce(!0);try{const Ms=[];if(Me.forEach(_s=>{const[ws,js]=_s.split("-"),ms=rs[_s];ms&&ms.name&&ms.description&&ms.price&&Ms.push({name:ms.name,type:js,description:ms.description,price:parseFloat(ms.price)})}),console.log("Valid products:",Ms),Ms.length===0){alert("Please add at least one complete product with all required fields.");return}const bs=new FormData;bs.append("vendorName",Be.vendorName.trim()),bs.append("category",Be.category.join(", ")),bs.append("phoneNumber",Be.phoneNumber.trim()),bs.append("email",Be.email.trim()),bs.append("address",Be.address.trim()),Be.website&&Be.website.trim()&&bs.append("website",Be.website.trim()),Ms&&Ms.length>0&&Ms.forEach((_s,ws)=>{bs.append(`products[${ws}][name]`,_s.name),bs.append(`products[${ws}][type]`,_s.type),_s.description&&bs.append(`products[${ws}][description]`,_s.description),_s.price&&bs.append(`products[${ws}][price]`,_s.price)}),bs.append("logo",Ve),console.log("Form data being sent:");for(let[_s,ws]of bs.entries())console.log(_s,ws);const Ns=await api.post("/api/vendor/addvendors",bs);console.log("Response status:",Ns.status);const ps=Ns.data;if(console.log("Success response:",ps),ps.success)alert("Vendor registered successfully!"),ze({vendorName:"",phoneNumber:"",email:"",address:"",website:"",category:[]}),ts({}),De({}),Oe([]),Ye({}),is({}),qe(null),Ge(null),e(1);else throw new Error(ps.message||"Registration failed")}catch(Ms){console.error("Submit error:",Ms),alert(`Registration failed: ${Ms.message}`)}finally{Ce(!1)}}};return jsxRuntimeExports.jsxs("div",{className:"max-w-5xl mx-auto mt-8 p-8 bg-white rounded-2xl shadow-lg",children:[Re===1&&jsxRuntimeExports.jsxs("form",{onSubmit:ds,className:"space-y-6",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-[#a92b4e]",children:"Vendor Information"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Vendor Name *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"vendorName",value:Be.vendorName,onChange:xs,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:border-[#a92b4e] focus:outline-none",placeholder:"Enter vendor name"}),ns.vendorName&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ns.vendorName})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Phone *"}),jsxRuntimeExports.jsx("input",{type:"tel",name:"phoneNumber",value:Be.phoneNumber,onChange:xs,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:border-[#a92b4e] focus:outline-none",placeholder:"Enter phone number"}),ns.phoneNumber&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ns.phoneNumber})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Email *"}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:Be.email,onChange:xs,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:border-[#a92b4e] focus:outline-none",placeholder:"Enter email address"}),ns.email&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ns.email})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Address *"}),jsxRuntimeExports.jsx("textarea",{name:"address",value:Be.address,onChange:xs,rows:3,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:border-[#a92b4e] focus:outline-none",placeholder:"Enter complete address"}),ns.address&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ns.address})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Website (Optional)"}),jsxRuntimeExports.jsx("input",{type:"url",name:"website",value:Be.website,onChange:xs,className:"w-full px-4 py-2 rounded-lg border border-gray-300 focus:border-[#a92b4e] focus:outline-none",placeholder:"https://example.com"}),ns.website&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ns.website})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-3 font-medium",children:"Company Logo *"}),jsxRuntimeExports.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:os,className:"hidden",id:"logo-upload"}),jsxRuntimeExports.jsx("label",{htmlFor:"logo-upload",className:"cursor-pointer flex flex-col items-center justify-center",children:We?jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("img",{src:We,alt:"Logo preview",className:"max-w-32 max-h-32 object-contain rounded-lg"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{qe(null),Ge(null)},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm",children:"Ã—"})]}):jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-lg flex items-center justify-center",children:jsxRuntimeExports.jsx("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})})}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600",children:"Click to upload logo"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400",children:"Max size: 10MB, Format: JPG, PNG, GIF"})]})})]}),ns.logo&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ns.logo})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-3 font-medium",children:"Categories *"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:Je.map(Ds=>jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",name:"category",value:Ds,checked:Be.category.includes(Ds),onChange:xs,className:"w-4 h-4 text-[#a92b4e] focus:ring-[#a92b4e]"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:Ds})]},Ds))}),ns.category&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:ns.category})]}),jsxRuntimeExports.jsx("button",{type:"submit",className:"bg-[#a92b4e] hover:bg-[#f27d9c] text-white px-8 py-3 rounded-lg shadow-md transition-colors duration-200 font-medium",children:"Next: Products â†’"})]}),Re===2&&jsxRuntimeExports.jsxs("form",{onSubmit:Ts,className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-[#a92b4e]",children:"Product Details"}),jsxRuntimeExports.jsxs("div",{className:"text-sm text-gray-600",children:["Selected: ",Me.length," product(s)"]})]}),Be.category.map(Ds=>jsxRuntimeExports.jsxs("div",{className:"border rounded-xl p-6 space-y-4 bg-gray-50",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:Ds}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:(Qe[Ds]||[]).map(Ms=>jsxRuntimeExports.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:Te[`${Ds}-${Ms}`]||!1,onChange:bs=>gs(Ds,Ms,bs.target.checked),className:"w-4 h-4 text-[#a92b4e] focus:ring-[#a92b4e]"}),jsxRuntimeExports.jsx("span",{className:"text-sm",children:Ms})]},Ms))}),(Qe[Ds]||[]).map(Ms=>{var ps,_s,ws;const bs=`${Ds}-${Ms}`;return Te[bs]&&jsxRuntimeExports.jsxs("div",{className:"border-t pt-4 mt-4 bg-white p-4 rounded-lg",children:[jsxRuntimeExports.jsxs("h4",{className:"font-medium mb-3 text-[#a92b4e]",children:[Ms," Details"]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Product Name *"}),jsxRuntimeExports.jsx("input",{type:"text",value:((ps=rs[bs])==null?void 0:ps.name)||"",onChange:js=>Ss(bs,"name",js.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-300 focus:border-[#a92b4e] focus:outline-none",placeholder:"Enter product name..."}),Xe[`${bs}_name`]&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:Xe[`${bs}_name`]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Description *"}),jsxRuntimeExports.jsx("textarea",{value:((_s=rs[bs])==null?void 0:_s.description)||"",onChange:js=>Ss(bs,"description",js.target.value),rows:3,className:"w-full px-3 py-2 rounded-lg border border-gray-300 focus:border-[#a92b4e] focus:outline-none",placeholder:"Describe the product..."}),Xe[`${bs}_description`]&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:Xe[`${bs}_description`]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block mb-1 font-medium",children:"Price (â‚¹) *"}),jsxRuntimeExports.jsx("input",{type:"number",min:"0",step:"0.01",value:((ws=rs[bs])==null?void 0:ws.price)||"",onChange:js=>Ss(bs,"price",js.target.value),className:"w-full px-3 py-2 rounded-lg border border-gray-300 focus:border-[#a92b4e] focus:outline-none",placeholder:"0.00"}),Xe[`${bs}_price`]&&jsxRuntimeExports.jsx("p",{className:"text-red-500 text-sm mt-1",children:Xe[`${bs}_price`]})]})]})]},Ms)})]},Ds)),Me.length===0&&jsxRuntimeExports.jsx("div",{className:"text-center py-8",children:jsxRuntimeExports.jsx("p",{className:"text-gray-500",children:"Select product types above to add their details"})}),jsxRuntimeExports.jsxs("div",{className:"flex gap-4 pt-6",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>e(1),className:"bg-gray-500 hover:bg-gray-600 text-white px-6 py-3 rounded-lg shadow-md transition-colors duration-200 font-medium",children:"â† Back"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:Ee||Me.length===0,className:"flex-1 bg-[#a92b4e] hover:bg-[#f27d9c] disabled:bg-gray-400 disabled:cursor-not-allowed text-white px-6 py-3 rounded-lg shadow-md flex items-center justify-center gap-2 transition-colors duration-200 font-medium",children:Ee?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Submitting..."]}):`Submit All (${Me.length} products)`})]})]})]})},Notifications=()=>{const Re=useNavigate(),[e,Ee]=reactExports.useState([]),[Ce,Te]=reactExports.useState(!0);reactExports.useEffect(()=>{const Me=document.createElement("link");Me.href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap",Me.rel="stylesheet",document.head.appendChild(Me),De()},[]);const De=async()=>{try{const{data:Me}=await axios.get("https://film.bihar.gov.in/api/notification/notifications");Ee(Me.notifications||[])}catch(Me){console.error("Failed to fetch notifications:",Me)}finally{Te(!1)}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-[#190108] px-4 sm:px-10 lg:px-20 py-10 text-white font-[Poppins] animate-fade",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("div",{className:"mb-10 mt-18",children:jsxRuntimeExports.jsx("button",{onClick:()=>Re("/"),className:"bg-white text-[#891737] font-semibold px-4 py-2 rounded shadow hover:bg-gray-200 transition duration-300",children:"â† Back to Home"})}),jsxRuntimeExports.jsxs("div",{className:"text-center mb-10",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",children:"Notifications"}),jsxRuntimeExports.jsx("p",{className:"text-zinc-300 italic text-sm sm:text-base max-w-2xl mx-auto",children:"â€œStay informed. Opportunities donâ€™t knock twice â€” stay updated with every notice.â€"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-y-auto text-black animate-slide-up w-full max-w-5xl mx-auto max-h-[500px]",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold bg-[#891737] text-white p-4",children:"Notifications"}),jsxRuntimeExports.jsxs("table",{className:"w-full divide-y divide-gray-300",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left",children:"Sr. No"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left",children:"Title"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left",children:"Download"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-200",children:Ce?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"5",className:"px-4 py-8 text-center text-gray-500",children:"Loading notifications..."})}):e.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"5",className:"px-4 py-8 text-center text-gray-500",children:"No notifications found."})}):e.map((Me,Oe)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 transition duration-300",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-3",children:Oe+1}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 font-medium",children:Me.notificationTitle}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Me.notificationDate?new Date(Me.notificationDate).toLocaleDateString():"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:Me.notificationDescription}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3",children:Me.notificationPdf?jsxRuntimeExports.jsx("a",{href:Me.notificationPdf,target:"_blank",rel:"noopener noreferrer",className:"inline-block text-[#891737] border border-[#891737] px-3 py-1 rounded hover:bg-[#891737] hover:text-white text-sm font-semibold transition duration-300 no-underline",children:"â¬‡ PDF"}):jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-sm",children:"-"})})]},Me.id||Oe))})]})]})]})},Tenders=()=>{const Re=useNavigate(),[e,Ee]=reactExports.useState([]),[Ce,Te]=reactExports.useState(!0);reactExports.useEffect(()=>{const Me=document.createElement("link");Me.href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap",Me.rel="stylesheet",document.head.appendChild(Me),De()},[]);const De=async()=>{try{const{data:Me}=await axios.get("https://film.bihar.gov.in/api/tender/tenders");Ee(Me.tenders||[])}catch(Me){console.error("Failed to fetch tenders:",Me)}finally{Te(!1)}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-[#190108] px-4 sm:px-10 lg:px-20 py-10 text-white font-[Poppins] animate-fade",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("div",{className:"mb-10 mt-18",children:jsxRuntimeExports.jsx("button",{onClick:()=>Re("/"),className:"bg-white text-[#891737] font-semibold px-4 py-2 rounded shadow hover:bg-gray-200 transition duration-300",children:"â† Back to Home"})}),jsxRuntimeExports.jsxs("div",{className:"text-center mb-10",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl sm:text-4xl font-bold mb-2",children:"Tenders"}),jsxRuntimeExports.jsx("p",{className:"text-zinc-300 italic text-sm sm:text-base max-w-2xl mx-auto",children:"â€œStay informed. Explore the latest tenders and opportunities available for filmmakers and vendors.â€"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl shadow-md overflow-y-auto text-black animate-slide-up w-full max-w-5xl mx-auto max-h-[500px]",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold bg-[#891737] text-white p-4",children:"Tenders"}),jsxRuntimeExports.jsxs("table",{className:"w-full divide-y divide-gray-300",children:[jsxRuntimeExports.jsx("thead",{className:"bg-gray-100",children:jsxRuntimeExports.jsxs("tr",{children:[jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left",children:"Sr. No"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left",children:"Title"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left",children:"Date"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left",children:"Description"}),jsxRuntimeExports.jsx("th",{className:"px-4 py-3 text-left",children:"Download"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-200",children:Ce?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"5",className:"px-4 py-8 text-center text-gray-500",children:"Loading tenders..."})}):e.length===0?jsxRuntimeExports.jsx("tr",{children:jsxRuntimeExports.jsx("td",{colSpan:"5",className:"px-4 py-8 text-center text-gray-500",children:"No tenders found."})}):e.map((Me,Oe)=>jsxRuntimeExports.jsxs("tr",{className:"hover:bg-gray-50 transition duration-300",children:[jsxRuntimeExports.jsx("td",{className:"px-4 py-3",children:Oe+1}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 font-medium",children:Me.title}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-sm text-gray-600",children:Me.date?new Date(Me.date).toLocaleDateString():"-"}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3 text-sm text-gray-700",children:Me.description}),jsxRuntimeExports.jsx("td",{className:"px-4 py-3",children:Me.pdf?jsxRuntimeExports.jsx("a",{href:Me.pdf,target:"_blank",rel:"noopener noreferrer",className:"inline-block text-[#891737] border border-[#891737] px-3 py-1 rounded hover:bg-[#891737] hover:text-white text-sm font-semibold transition duration-300 no-underline",children:"â¬‡ PDF"}):jsxRuntimeExports.jsx("span",{className:"text-gray-400 text-sm",children:"-"})})]},Me.id||Oe))})]})]})]})},vrExperiences=[{id:1,image:"/VrPictures/Glass_Bridge.jpg",link:"https://www.youtube.com/watch?v=i11IEYQWGBw&list=PLf8xXpSmtMYmxbZmyGGOXR_zNvuZt8Efc&index=7",title:"Glass Bridge, Rajgir"},{id:2,image:"/VrPictures/Pawapuri_Jalmandir.jpg",link:"https://www.youtube.com/watch?v=gGRXylek7Pc&list=PLf8xXpSmtMYmxbZmyGGOXR_zNvuZt8Efc&index=13",title:"Pawapuri Jalmandir, Nalanda"},{id:3,image:"/VrPictures/Junglee_Safari.jpg",link:"https://www.youtube.com/watch?v=BjR83bnrGxw&list=PLf8xXpSmtMYmxbZmyGGOXR_zNvuZt8Efc&index=10",title:"Jungle Safari, Rajgir"},{id:4,image:"/VrPictures/Ghora_Katora.jpg",link:"https://www.youtube.com/watch?v=pDidhvA7c1w&list=PLf8xXpSmtMYmxbZmyGGOXR_zNvuZt8Efc&index=6",title:"Ghora Katora, Rajgir"},{id:5,image:"/VrPictures/Jarasandh_Smarak.jpg",link:"https://www.youtube.com/watch?v=1d_R7WVSeEI&list=PLf8xXpSmtMYmxbZmyGGOXR_zNvuZt8Efc&index=9",title:"Jarasangh Ka Akhada, Rajgir"},{id:6,image:"/VrPictures/Hiuen_Tsang.jpg",link:"https://www.youtube.com/watch?v=Vk4xoPvqsPY&list=PLf8xXpSmtMYmxbZmyGGOXR_zNvuZt8Efc&index=8",title:"Hiuen Tsang Memorial Hall, Nalanda"},{id:7,image:"/VrPictures/Sabhyata_Dwar.jpg",link:"https://www.youtube.com/watch?v=kvVaThc5wPU&list=PLf8xXpSmtMYmxbZmyGGOXR_zNvuZt8Efc&index=15",title:"Sabhyata Dwar, Patna"},{id:8,image:"/VrPictures/Golghar.jpg",link:"https://www.youtube.com/watch?v=0_yqrRucwNQ&list=PLf8xXpSmtMYmxbZmyGGOXR_zNvuZt8Efc&index=1",title:"Golghar, Patna"},{id:9,image:"/VrPictures/Buddha_Smriti.jpg",link:"https://www.youtube.com/watch?v=P_dkju9n5L4list=PLf8xXpSmtMYmxbZmyGGOXR_zNvuZt8Efc&index=2",title:"Buddha Smiriti Park, Patna"},{id:10,image:"/VrPictures/Bapu_Tower.jpg",link:"https://www.youtube.com/watch?v=tsrKxzqEKMs&list=PLf8xXpSmtMYmxbZmyGGOXR_zNvuZt8Efc&index=3",title:"Bapu Tower, Patna"},{id:11,image:"/VrPictures/Shantivan.jpg",link:"https://www.youtube.com/watch?v=ZNh2Lkjh0F4&list=PLf8xXpSmtMYmxbZmyGGOXR_zNvuZt8Efc&index=16",title:"Shantivan, Rajgir"},{id:12,image:"/VrPictures/venu_van.jpeg",link:"https://www.youtube.com/watch?v=_zpjszA9rDU&list=PLf8xXpSmtMYmxbZmyGGOXR_zNvuZt8Efc&index=17",title:"Venuvan, Rajgir"},{id:13,image:"/VrPictures/Ropeway.jpg",link:"https://www.youtube.com/watch?v=kvASST923iE&list=PLf8xXpSmtMYmxbZmyGGOXR_zNvuZt8Efc&index=14",title:"Ropeway, Rajgir"},{id:14,image:"/VrPictures/Ancient_Nalanda.jpg",link:"https://www.youtube.com/watch?v=SLXsL2jeH0g&list=PLf8xXpSmtMYmxbZmyGGOXR_zNvuZt8Efc&index=11",title:"Ancient Nalanda University, Rajgir"},{id:15,image:"/VrPictures/New_Nalanda.jpg",link:"https://www.youtube.com/watch?v=8SHH66U46Yg&list=PLf8xXpSmtMYmxbZmyGGOXR_zNvuZt8Efc&index=12",title:"New Nalanda University, Rajgir"}],Vrpage=()=>(reactExports.useEffect(()=>{window.scrollTo(0,0)},[]),jsxRuntimeExports.jsxs("div",{className:"relative w-full min-h-screen bg-[#190108] text-white overflow-hidden",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsxs("div",{className:"fixed inset-0 z-0",children:[jsxRuntimeExports.jsxs("video",{className:"absolute top-0 left-0 w-full h-full object-cover",autoPlay:!0,loop:!0,muted:!0,playsInline:!0,children:[jsxRuntimeExports.jsx("source",{src:"https://res.cloudinary.com/dgra109xv/video/upload/v1755760966/Vrpage_cj0a7w.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-[#190108]/80 backdrop-blur-[2px]"})]}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 w-full max-w-7xl mx-auto px-4 py-24 sm:py-32",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"mb-16 text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl font-bold text-white mb-6 great-vibes-regular drop-shadow-2xl",children:"Explore Bihar in Virtual Reality"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 text-lg max-w-3xl mx-auto leading-relaxed",children:"Immerse yourself in the rich heritage and breathtaking landscapes of Bihar through our curated VR experiences."})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 mb-20",children:vrExperiences.map((Re,e)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0,margin:"-50px"},transition:{duration:.5,delay:e*.05},className:"group relative h-[320px] rounded-2xl overflow-hidden bg-white/5 border border-white/10 backdrop-blur-md shadow-xl hover:shadow-2xl hover:shadow-[#4f0419]/20 transition-all duration-500 hover:-translate-y-2 cursor-pointer",onClick:()=>window.open(Re.link,"_blank"),children:[jsxRuntimeExports.jsxs("div",{className:"relative h-[75%] overflow-hidden",children:[jsxRuntimeExports.jsx("img",{src:Re.image,alt:Re.title,className:"w-full h-full object-cover transition-transform duration-700 ease-out group-hover:scale-110"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#190108] via-transparent to-transparent opacity-60"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:jsxRuntimeExports.jsx("div",{className:"w-16 h-16 rounded-full bg-white/20 backdrop-blur-md flex items-center justify-center border border-white/30",children:jsxRuntimeExports.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-8 h-8 text-white",children:jsxRuntimeExports.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5.25 5.653c0-.856.917-1.398 1.667-.986l11.54 6.347a1.125 1.125 0 0 1 0 1.972l-11.54 6.347a1.125 1.125 0 0 1-1.667-.986V5.653Z"})})})})]}),jsxRuntimeExports.jsx("div",{className:"absolute bottom-0 left-0 w-full h-[25%] px-5 flex items-center bg-[#190108]",children:jsxRuntimeExports.jsxs("div",{className:"w-full",children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-white group-hover:text-[#ff4d6d] transition-colors truncate",children:Re.title}),jsxRuntimeExports.jsx("div",{className:"mt-2 w-full h-0.5 bg-white/10 rounded-full overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"h-full bg-[#4f0419] w-0 group-hover:w-full transition-all duration-500 ease-out"})})]})})]},Re.id))})]}),jsxRuntimeExports.jsx(Footer,{})]}));var lottie$2={exports:{}},lottie$1=lottie$2.exports,hasRequiredLottie;function requireLottie(){return hasRequiredLottie||(hasRequiredLottie=1,function(module,exports){typeof document<"u"&&typeof navigator<"u"&&function(Re,e){module.exports=e()}(lottie$1,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(Re){return document.createElement(Re)}function extendPrototype(Re,e){var Ee,Ce=Re.length,Te;for(Ee=0;Ee<Ce;Ee+=1){Te=Re[Ee].prototype;for(var De in Te)Object.prototype.hasOwnProperty.call(Te,De)&&(e.prototype[De]=Te[De])}}function getDescriptor(Re,e){return Object.getOwnPropertyDescriptor(Re,e)}function createProxyFunction(Re){function e(){}return e.prototype=Re,e}var audioControllerFactory=function(){function Re(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return Re.prototype={addAudio:function(Ee){this.audios.push(Ee)},pause:function(){var Ee,Ce=this.audios.length;for(Ee=0;Ee<Ce;Ee+=1)this.audios[Ee].pause()},resume:function(){var Ee,Ce=this.audios.length;for(Ee=0;Ee<Ce;Ee+=1)this.audios[Ee].resume()},setRate:function(Ee){var Ce,Te=this.audios.length;for(Ce=0;Ce<Te;Ce+=1)this.audios[Ce].setRate(Ee)},createAudio:function(Ee){return this.audioFactory?this.audioFactory(Ee):window.Howl?new window.Howl({src:[Ee]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(Ee){this.audioFactory=Ee},setVolume:function(Ee){this._volume=Ee,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var Ee,Ce=this.audios.length;for(Ee=0;Ee<Ce;Ee+=1)this.audios[Ee].volume(this._volume*(this._isMuted?0:1))}},function(){return new Re}}(),createTypedArray=function(){function Re(Ee,Ce){var Te=0,De=[],Me;switch(Ee){case"int16":case"uint8c":Me=1;break;default:Me=1.1;break}for(Te=0;Te<Ce;Te+=1)De.push(Me);return De}function e(Ee,Ce){return Ee==="float32"?new Float32Array(Ce):Ee==="int16"?new Int16Array(Ce):Ee==="uint8c"?new Uint8ClampedArray(Ce):Re(Ee,Ce)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?e:Re}();function createSizedArray(Re){return Array.apply(null,{length:Re})}function _typeof$6(Re){"@babel/helpers - typeof";return _typeof$6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$6(Re)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var Re=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],e,Ee=Re.length;for(e=0;e<Ee;e+=1)BMMath[Re[e]]=Math[Re[e]]})(),BMMath.random=Math.random,BMMath.abs=function(Re){var e=_typeof$6(Re);if(e==="object"&&Re.length){var Ee=createSizedArray(Re.length),Ce,Te=Re.length;for(Ce=0;Ce<Te;Ce+=1)Ee[Ce]=Math.abs(Re[Ce]);return Ee}return Math.abs(Re)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(Re){Re.style.position="absolute",Re.style.top=0,Re.style.left=0,Re.style.display="block",Re.style.transformOrigin="0 0",Re.style.webkitTransformOrigin="0 0",Re.style.backfaceVisibility="visible",Re.style.webkitBackfaceVisibility="visible",Re.style.transformStyle="preserve-3d",Re.style.webkitTransformStyle="preserve-3d",Re.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(Re,e,Ee,Ce){this.type=Re,this.currentTime=e,this.totalTime=Ee,this.direction=Ce<0?-1:1}function BMCompleteEvent(Re,e){this.type=Re,this.direction=e<0?-1:1}function BMCompleteLoopEvent(Re,e,Ee,Ce){this.type=Re,this.currentLoop=Ee,this.totalLoops=e,this.direction=Ce<0?-1:1}function BMSegmentStartEvent(Re,e,Ee){this.type=Re,this.firstFrame=e,this.totalFrames=Ee}function BMDestroyEvent(Re,e){this.type=Re,this.target=e}function BMRenderFrameErrorEvent(Re,e){this.type="renderFrameError",this.nativeError=Re,this.currentTime=e}function BMConfigErrorEvent(Re){this.type="configError",this.nativeError=Re}var createElementID=function(){var Re=0;return function(){return Re+=1,idPrefix$1+"__lottie_element_"+Re}}();function HSVtoRGB(Re,e,Ee){var Ce,Te,De,Me,Oe,Be,ze,Ve;switch(Me=Math.floor(Re*6),Oe=Re*6-Me,Be=Ee*(1-e),ze=Ee*(1-Oe*e),Ve=Ee*(1-(1-Oe)*e),Me%6){case 0:Ce=Ee,Te=Ve,De=Be;break;case 1:Ce=ze,Te=Ee,De=Be;break;case 2:Ce=Be,Te=Ee,De=Ve;break;case 3:Ce=Be,Te=ze,De=Ee;break;case 4:Ce=Ve,Te=Be,De=Ee;break;case 5:Ce=Ee,Te=Be,De=ze;break}return[Ce,Te,De]}function RGBtoHSV(Re,e,Ee){var Ce=Math.max(Re,e,Ee),Te=Math.min(Re,e,Ee),De=Ce-Te,Me,Oe=Ce===0?0:De/Ce,Be=Ce/255;switch(Ce){case Te:Me=0;break;case Re:Me=e-Ee+De*(e<Ee?6:0),Me/=6*De;break;case e:Me=Ee-Re+De*2,Me/=6*De;break;case Ee:Me=Re-e+De*4,Me/=6*De;break}return[Me,Oe,Be]}function addSaturationToRGB(Re,e){var Ee=RGBtoHSV(Re[0]*255,Re[1]*255,Re[2]*255);return Ee[1]+=e,Ee[1]>1?Ee[1]=1:Ee[1]<=0&&(Ee[1]=0),HSVtoRGB(Ee[0],Ee[1],Ee[2])}function addBrightnessToRGB(Re,e){var Ee=RGBtoHSV(Re[0]*255,Re[1]*255,Re[2]*255);return Ee[2]+=e,Ee[2]>1?Ee[2]=1:Ee[2]<0&&(Ee[2]=0),HSVtoRGB(Ee[0],Ee[1],Ee[2])}function addHueToRGB(Re,e){var Ee=RGBtoHSV(Re[0]*255,Re[1]*255,Re[2]*255);return Ee[0]+=e/360,Ee[0]>1?Ee[0]-=1:Ee[0]<0&&(Ee[0]+=1),HSVtoRGB(Ee[0],Ee[1],Ee[2])}var rgbToHex=function(){var Re=[],e,Ee;for(e=0;e<256;e+=1)Ee=e.toString(16),Re[e]=Ee.length===1?"0"+Ee:Ee;return function(Ce,Te,De){return Ce<0&&(Ce=0),Te<0&&(Te=0),De<0&&(De=0),"#"+Re[Ce]+Re[Te]+Re[De]}}(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(e){expressionsInterfaces=e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e};function createNS(Re){return document.createElementNS(svgNS,Re)}function _typeof$5(Re){"@babel/helpers - typeof";return _typeof$5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$5(Re)}var dataManager=function(){var Re=1,e=[],Ee,Ce,Te={onmessage:function(){},postMessage:function(Ge){Ee({data:Ge})}},De={postMessage:function(Ge){Te.onmessage({data:Ge})}};function Me(We){if(window.Worker&&window.Blob&&getWebWorker()){var Ge=new Blob(["var _workerSelf = self; self.onmessage = ",We.toString()],{type:"text/javascript"}),Je=URL.createObjectURL(Ge);return new Worker(Je)}return Ee=We,Te}function Oe(){Ce||(Ce=Me(function(Ge){function Je(){function ns(Ms,bs){var Ns,ps,_s=Ms.length,ws,js,ms,ys;for(ps=0;ps<_s;ps+=1)if(Ns=Ms[ps],"ks"in Ns&&!Ns.completed){if(Ns.completed=!0,Ns.hasMask){var ks=Ns.masksProperties;for(js=ks.length,ws=0;ws<js;ws+=1)if(ks[ws].pt.k.i)is(ks[ws].pt.k);else for(ys=ks[ws].pt.k.length,ms=0;ms<ys;ms+=1)ks[ws].pt.k[ms].s&&is(ks[ws].pt.k[ms].s[0]),ks[ws].pt.k[ms].e&&is(ks[ws].pt.k[ms].e[0])}Ns.ty===0?(Ns.layers=ts(Ns.refId,bs),ns(Ns.layers,bs)):Ns.ty===4?Xe(Ns.shapes):Ns.ty===5&&Ts(Ns)}}function Ye(Ms,bs){if(Ms){var Ns=0,ps=Ms.length;for(Ns=0;Ns<ps;Ns+=1)Ms[Ns].t===1&&(Ms[Ns].data.layers=ts(Ms[Ns].data.refId,bs),ns(Ms[Ns].data.layers,bs))}}function rs(Ms,bs){for(var Ns=0,ps=bs.length;Ns<ps;){if(bs[Ns].id===Ms)return bs[Ns];Ns+=1}return null}function ts(Ms,bs){var Ns=rs(Ms,bs);return Ns?Ns.layers.__used?JSON.parse(JSON.stringify(Ns.layers)):(Ns.layers.__used=!0,Ns.layers):null}function Xe(Ms){var bs,Ns=Ms.length,ps,_s;for(bs=Ns-1;bs>=0;bs-=1)if(Ms[bs].ty==="sh")if(Ms[bs].ks.k.i)is(Ms[bs].ks.k);else for(_s=Ms[bs].ks.k.length,ps=0;ps<_s;ps+=1)Ms[bs].ks.k[ps].s&&is(Ms[bs].ks.k[ps].s[0]),Ms[bs].ks.k[ps].e&&is(Ms[bs].ks.k[ps].e[0]);else Ms[bs].ty==="gr"&&Xe(Ms[bs].it)}function is(Ms){var bs,Ns=Ms.i.length;for(bs=0;bs<Ns;bs+=1)Ms.i[bs][0]+=Ms.v[bs][0],Ms.i[bs][1]+=Ms.v[bs][1],Ms.o[bs][0]+=Ms.v[bs][0],Ms.o[bs][1]+=Ms.v[bs][1]}function os(Ms,bs){var Ns=bs?bs.split("."):[100,100,100];return Ms[0]>Ns[0]?!0:Ns[0]>Ms[0]?!1:Ms[1]>Ns[1]?!0:Ns[1]>Ms[1]?!1:Ms[2]>Ns[2]?!0:Ns[2]>Ms[2]?!1:null}var hs=function(){var Ms=[4,4,14];function bs(ps){var _s=ps.t.d;ps.t.d={k:[{s:_s,t:0}]}}function Ns(ps){var _s,ws=ps.length;for(_s=0;_s<ws;_s+=1)ps[_s].ty===5&&bs(ps[_s])}return function(ps){if(os(Ms,ps.v)&&(Ns(ps.layers),ps.assets)){var _s,ws=ps.assets.length;for(_s=0;_s<ws;_s+=1)ps.assets[_s].layers&&Ns(ps.assets[_s].layers)}}}(),fs=function(){var Ms=[4,7,99];return function(bs){if(bs.chars&&!os(Ms,bs.v)){var Ns,ps=bs.chars.length;for(Ns=0;Ns<ps;Ns+=1){var _s=bs.chars[Ns];_s.data&&_s.data.shapes&&(Xe(_s.data.shapes),_s.data.ip=0,_s.data.op=99999,_s.data.st=0,_s.data.sr=1,_s.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},bs.chars[Ns].t||(_s.data.shapes.push({ty:"no"}),_s.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),xs=function(){var Ms=[5,7,15];function bs(ps){var _s=ps.t.p;typeof _s.a=="number"&&(_s.a={a:0,k:_s.a}),typeof _s.p=="number"&&(_s.p={a:0,k:_s.p}),typeof _s.r=="number"&&(_s.r={a:0,k:_s.r})}function Ns(ps){var _s,ws=ps.length;for(_s=0;_s<ws;_s+=1)ps[_s].ty===5&&bs(ps[_s])}return function(ps){if(os(Ms,ps.v)&&(Ns(ps.layers),ps.assets)){var _s,ws=ps.assets.length;for(_s=0;_s<ws;_s+=1)ps.assets[_s].layers&&Ns(ps.assets[_s].layers)}}}(),Ss=function(){var Ms=[4,1,9];function bs(ps){var _s,ws=ps.length,js,ms;for(_s=0;_s<ws;_s+=1)if(ps[_s].ty==="gr")bs(ps[_s].it);else if(ps[_s].ty==="fl"||ps[_s].ty==="st")if(ps[_s].c.k&&ps[_s].c.k[0].i)for(ms=ps[_s].c.k.length,js=0;js<ms;js+=1)ps[_s].c.k[js].s&&(ps[_s].c.k[js].s[0]/=255,ps[_s].c.k[js].s[1]/=255,ps[_s].c.k[js].s[2]/=255,ps[_s].c.k[js].s[3]/=255),ps[_s].c.k[js].e&&(ps[_s].c.k[js].e[0]/=255,ps[_s].c.k[js].e[1]/=255,ps[_s].c.k[js].e[2]/=255,ps[_s].c.k[js].e[3]/=255);else ps[_s].c.k[0]/=255,ps[_s].c.k[1]/=255,ps[_s].c.k[2]/=255,ps[_s].c.k[3]/=255}function Ns(ps){var _s,ws=ps.length;for(_s=0;_s<ws;_s+=1)ps[_s].ty===4&&bs(ps[_s].shapes)}return function(ps){if(os(Ms,ps.v)&&(Ns(ps.layers),ps.assets)){var _s,ws=ps.assets.length;for(_s=0;_s<ws;_s+=1)ps.assets[_s].layers&&Ns(ps.assets[_s].layers)}}}(),ds=function(){var Ms=[4,4,18];function bs(ps){var _s,ws=ps.length,js,ms;for(_s=ws-1;_s>=0;_s-=1)if(ps[_s].ty==="sh")if(ps[_s].ks.k.i)ps[_s].ks.k.c=ps[_s].closed;else for(ms=ps[_s].ks.k.length,js=0;js<ms;js+=1)ps[_s].ks.k[js].s&&(ps[_s].ks.k[js].s[0].c=ps[_s].closed),ps[_s].ks.k[js].e&&(ps[_s].ks.k[js].e[0].c=ps[_s].closed);else ps[_s].ty==="gr"&&bs(ps[_s].it)}function Ns(ps){var _s,ws,js=ps.length,ms,ys,ks,zs;for(ws=0;ws<js;ws+=1){if(_s=ps[ws],_s.hasMask){var Cs=_s.masksProperties;for(ys=Cs.length,ms=0;ms<ys;ms+=1)if(Cs[ms].pt.k.i)Cs[ms].pt.k.c=Cs[ms].cl;else for(zs=Cs[ms].pt.k.length,ks=0;ks<zs;ks+=1)Cs[ms].pt.k[ks].s&&(Cs[ms].pt.k[ks].s[0].c=Cs[ms].cl),Cs[ms].pt.k[ks].e&&(Cs[ms].pt.k[ks].e[0].c=Cs[ms].cl)}_s.ty===4&&bs(_s.shapes)}}return function(ps){if(os(Ms,ps.v)&&(Ns(ps.layers),ps.assets)){var _s,ws=ps.assets.length;for(_s=0;_s<ws;_s+=1)ps.assets[_s].layers&&Ns(ps.assets[_s].layers)}}}();function gs(Ms){Ms.__complete||(Ss(Ms),hs(Ms),fs(Ms),xs(Ms),ds(Ms),ns(Ms.layers,Ms.assets),Ye(Ms.chars,Ms.assets),Ms.__complete=!0)}function Ts(Ms){Ms.t.a.length===0&&"m"in Ms.t.p}var Ds={};return Ds.completeData=gs,Ds.checkColors=Ss,Ds.checkChars=fs,Ds.checkPathProperties=xs,Ds.checkShapes=ds,Ds.completeLayers=ns,Ds}if(De.dataManager||(De.dataManager=Je()),De.assetLoader||(De.assetLoader=function(){function ns(rs){var ts=rs.getResponseHeader("content-type");return ts&&rs.responseType==="json"&&ts.indexOf("json")!==-1||rs.response&&_typeof$5(rs.response)==="object"?rs.response:rs.response&&typeof rs.response=="string"?JSON.parse(rs.response):rs.responseText?JSON.parse(rs.responseText):null}function Ye(rs,ts,Xe,is){var os,hs=new XMLHttpRequest;try{hs.responseType="json"}catch{}hs.onreadystatechange=function(){if(hs.readyState===4)if(hs.status===200)os=ns(hs),Xe(os);else try{os=ns(hs),Xe(os)}catch(fs){is&&is(fs)}};try{hs.open(["G","E","T"].join(""),rs,!0)}catch{hs.open(["G","E","T"].join(""),ts+"/"+rs,!0)}hs.send()}return{load:Ye}}()),Ge.data.type==="loadAnimation")De.assetLoader.load(Ge.data.path,Ge.data.fullPath,function(ns){De.dataManager.completeData(ns),De.postMessage({id:Ge.data.id,payload:ns,status:"success"})},function(){De.postMessage({id:Ge.data.id,status:"error"})});else if(Ge.data.type==="complete"){var Qe=Ge.data.animation;De.dataManager.completeData(Qe),De.postMessage({id:Ge.data.id,payload:Qe,status:"success"})}else Ge.data.type==="loadData"&&De.assetLoader.load(Ge.data.path,Ge.data.fullPath,function(ns){De.postMessage({id:Ge.data.id,payload:ns,status:"success"})},function(){De.postMessage({id:Ge.data.id,status:"error"})})}),Ce.onmessage=function(We){var Ge=We.data,Je=Ge.id,Qe=e[Je];e[Je]=null,Ge.status==="success"?Qe.onComplete(Ge.payload):Qe.onError&&Qe.onError()})}function Be(We,Ge){Re+=1;var Je="processId_"+Re;return e[Je]={onComplete:We,onError:Ge},Je}function ze(We,Ge,Je){Oe();var Qe=Be(Ge,Je);Ce.postMessage({type:"loadAnimation",path:We,fullPath:window.location.origin+window.location.pathname,id:Qe})}function Ve(We,Ge,Je){Oe();var Qe=Be(Ge,Je);Ce.postMessage({type:"loadData",path:We,fullPath:window.location.origin+window.location.pathname,id:Qe})}function qe(We,Ge,Je){Oe();var Qe=Be(Ge,Je);Ce.postMessage({type:"complete",animation:We,id:Qe})}return{loadAnimation:ze,loadData:Ve,completeAnimation:qe}}(),ImagePreloader=function(){var Re=function(){var Ye=createTag("canvas");Ye.width=1,Ye.height=1;var rs=Ye.getContext("2d");return rs.fillStyle="rgba(0,0,0,0)",rs.fillRect(0,0,1,1),Ye}();function e(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function Ee(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function Ce(Ye,rs,ts){var Xe="";if(Ye.e)Xe=Ye.p;else if(rs){var is=Ye.p;is.indexOf("images/")!==-1&&(is=is.split("/")[1]),Xe=rs+is}else Xe=ts,Xe+=Ye.u?Ye.u:"",Xe+=Ye.p;return Xe}function Te(Ye){var rs=0,ts=setInterval((function(){var Xe=Ye.getBBox();(Xe.width||rs>500)&&(this._imageLoaded(),clearInterval(ts)),rs+=1}).bind(this),50)}function De(Ye){var rs=Ce(Ye,this.assetsPath,this.path),ts=createNS("image");isSafari?this.testImageLoaded(ts):ts.addEventListener("load",this._imageLoaded,!1),ts.addEventListener("error",(function(){Xe.img=Re,this._imageLoaded()}).bind(this),!1),ts.setAttributeNS("http://www.w3.org/1999/xlink","href",rs),this._elementHelper.append?this._elementHelper.append(ts):this._elementHelper.appendChild(ts);var Xe={img:ts,assetData:Ye};return Xe}function Me(Ye){var rs=Ce(Ye,this.assetsPath,this.path),ts=createTag("img");ts.crossOrigin="anonymous",ts.addEventListener("load",this._imageLoaded,!1),ts.addEventListener("error",(function(){Xe.img=Re,this._imageLoaded()}).bind(this),!1),ts.src=rs;var Xe={img:ts,assetData:Ye};return Xe}function Oe(Ye){var rs={assetData:Ye},ts=Ce(Ye,this.assetsPath,this.path);return dataManager.loadData(ts,(function(Xe){rs.img=Xe,this._footageLoaded()}).bind(this),(function(){rs.img={},this._footageLoaded()}).bind(this)),rs}function Be(Ye,rs){this.imagesLoadedCb=rs;var ts,Xe=Ye.length;for(ts=0;ts<Xe;ts+=1)Ye[ts].layers||(!Ye[ts].t||Ye[ts].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(Ye[ts]))):Ye[ts].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(Ye[ts]))))}function ze(Ye){this.path=Ye||""}function Ve(Ye){this.assetsPath=Ye||""}function qe(Ye){for(var rs=0,ts=this.images.length;rs<ts;){if(this.images[rs].assetData===Ye)return this.images[rs].img;rs+=1}return null}function We(){this.imagesLoadedCb=null,this.images.length=0}function Ge(){return this.totalImages===this.loadedAssets}function Je(){return this.totalFootages===this.loadedFootagesCount}function Qe(Ye,rs){Ye==="svg"?(this._elementHelper=rs,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function ns(){this._imageLoaded=e.bind(this),this._footageLoaded=Ee.bind(this),this.testImageLoaded=Te.bind(this),this.createFootageData=Oe.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return ns.prototype={loadAssets:Be,setAssetsPath:Ve,setPath:ze,loadedImages:Ge,loadedFootages:Je,destroy:We,getAsset:qe,createImgData:Me,createImageData:De,imageLoaded:e,footageLoaded:Ee,setCacheType:Qe},ns}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,Ee){if(this._cbs[e])for(var Ce=this._cbs[e],Te=0;Te<Ce.length;Te+=1)Ce[Te](Ee)},addEventListener:function(e,Ee){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(Ee),(function(){this.removeEventListener(e,Ee)}).bind(this)},removeEventListener:function(e,Ee){if(!Ee)this._cbs[e]=null;else if(this._cbs[e]){for(var Ce=0,Te=this._cbs[e].length;Ce<Te;)this._cbs[e][Ce]===Ee&&(this._cbs[e].splice(Ce,1),Ce-=1,Te-=1),Ce+=1;this._cbs[e].length||(this._cbs[e]=null)}}};var markerParser=function(){function Re(e){for(var Ee=e.split(`\r
`),Ce={},Te,De=0,Me=0;Me<Ee.length;Me+=1)Te=Ee[Me].split(":"),Te.length===2&&(Ce[Te[0]]=Te[1].trim(),De+=1);if(De===0)throw new Error;return Ce}return function(e){for(var Ee=[],Ce=0;Ce<e.length;Ce+=1){var Te=e[Ce],De={time:Te.tm,duration:Te.dr};try{De.payload=JSON.parse(e[Ce].cm)}catch{try{De.payload=Re(e[Ce].cm)}catch{De.payload={name:e[Ce].cm}}}Ee.push(De)}return Ee}}(),ProjectInterface=function(){function Re(e){this.compositions.push(e)}return function(){function e(Ee){for(var Ce=0,Te=this.compositions.length;Ce<Te;){if(this.compositions[Ce].data&&this.compositions[Ce].data.nm===Ee)return this.compositions[Ce].prepareFrame&&this.compositions[Ce].data.xt&&this.compositions[Ce].prepareFrame(this.currentFrame),this.compositions[Ce].compInterface;Ce+=1}return null}return e.compositions=[],e.currentFrame=0,e.registerComposition=Re,e}}(),renderers={},registerRenderer=function(e,Ee){renderers[e]=Ee};function getRenderer(Re){return renderers[Re]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var Re in renderers)if(renderers[Re])return Re;return""}function _typeof$4(Re){"@babel/helpers - typeof";return _typeof$4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$4(Re)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(Re){(Re.wrapper||Re.container)&&(this.wrapper=Re.wrapper||Re.container);var e="svg";Re.animType?e=Re.animType:Re.renderer&&(e=Re.renderer);var Ee=getRenderer(e);this.renderer=new Ee(this,Re.rendererSettings),this.imagePreloader.setCacheType(e,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=e,Re.loop===""||Re.loop===null||Re.loop===void 0||Re.loop===!0?this.loop=!0:Re.loop===!1?this.loop=!1:this.loop=parseInt(Re.loop,10),this.autoplay="autoplay"in Re?Re.autoplay:!0,this.name=Re.name?Re.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(Re,"autoloadSegments")?Re.autoloadSegments:!0,this.assetsPath=Re.assetsPath,this.initialSegment=Re.initialSegment,Re.audioFactory&&this.audioController.setAudioFactory(Re.audioFactory),Re.animationData?this.setupAnimation(Re.animationData):Re.path&&(Re.path.lastIndexOf("\\")!==-1?this.path=Re.path.substr(0,Re.path.lastIndexOf("\\")+1):this.path=Re.path.substr(0,Re.path.lastIndexOf("/")+1),this.fileName=Re.path.substr(Re.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(Re.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(Re){dataManager.completeAnimation(Re,this.configAnimation)},AnimationItem.prototype.setData=function(Re,e){e&&_typeof$4(e)!=="object"&&(e=JSON.parse(e));var Ee={wrapper:Re,animationData:e},Ce=Re.attributes;Ee.path=Ce.getNamedItem("data-animation-path")?Ce.getNamedItem("data-animation-path").value:Ce.getNamedItem("data-bm-path")?Ce.getNamedItem("data-bm-path").value:Ce.getNamedItem("bm-path")?Ce.getNamedItem("bm-path").value:"",Ee.animType=Ce.getNamedItem("data-anim-type")?Ce.getNamedItem("data-anim-type").value:Ce.getNamedItem("data-bm-type")?Ce.getNamedItem("data-bm-type").value:Ce.getNamedItem("bm-type")?Ce.getNamedItem("bm-type").value:Ce.getNamedItem("data-bm-renderer")?Ce.getNamedItem("data-bm-renderer").value:Ce.getNamedItem("bm-renderer")?Ce.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var Te=Ce.getNamedItem("data-anim-loop")?Ce.getNamedItem("data-anim-loop").value:Ce.getNamedItem("data-bm-loop")?Ce.getNamedItem("data-bm-loop").value:Ce.getNamedItem("bm-loop")?Ce.getNamedItem("bm-loop").value:"";Te==="false"?Ee.loop=!1:Te==="true"?Ee.loop=!0:Te!==""&&(Ee.loop=parseInt(Te,10));var De=Ce.getNamedItem("data-anim-autoplay")?Ce.getNamedItem("data-anim-autoplay").value:Ce.getNamedItem("data-bm-autoplay")?Ce.getNamedItem("data-bm-autoplay").value:Ce.getNamedItem("bm-autoplay")?Ce.getNamedItem("bm-autoplay").value:!0;Ee.autoplay=De!=="false",Ee.name=Ce.getNamedItem("data-name")?Ce.getNamedItem("data-name").value:Ce.getNamedItem("data-bm-name")?Ce.getNamedItem("data-bm-name").value:Ce.getNamedItem("bm-name")?Ce.getNamedItem("bm-name").value:"";var Me=Ce.getNamedItem("data-anim-prerender")?Ce.getNamedItem("data-anim-prerender").value:Ce.getNamedItem("data-bm-prerender")?Ce.getNamedItem("data-bm-prerender").value:Ce.getNamedItem("bm-prerender")?Ce.getNamedItem("bm-prerender").value:"";Me==="false"&&(Ee.prerender=!1),Ee.path?this.setParams(Ee):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(Re){Re.op>this.animationData.op&&(this.animationData.op=Re.op,this.totalFrames=Math.floor(Re.op-this.animationData.ip));var e=this.animationData.layers,Ee,Ce=e.length,Te=Re.layers,De,Me=Te.length;for(De=0;De<Me;De+=1)for(Ee=0;Ee<Ce;){if(e[Ee].id===Te[De].id){e[Ee]=Te[De];break}Ee+=1}if((Re.chars||Re.fonts)&&(this.renderer.globalData.fontManager.addChars(Re.chars),this.renderer.globalData.fontManager.addFonts(Re.fonts,this.renderer.globalData.defs)),Re.assets)for(Ce=Re.assets.length,Ee=0;Ee<Ce;Ee+=1)this.animationData.assets.push(Re.assets[Ee]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(Re){this.animationData=Re;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var Re=this.animationData.segments;if(!Re||Re.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var e=Re.shift();this.timeCompleted=e.time*this.frameRate;var Ee=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(Ee,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var Re=this.animationData.segments;Re||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(Re){if(this.renderer)try{this.animationData=Re,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(Re),Re.assets||(Re.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(Re.assets),this.markers=markerParser(Re.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var Re=getExpressionsPlugin();Re&&Re.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(Re,e){var Ee=typeof Re=="number"?Re:void 0,Ce=typeof e=="number"?e:void 0;this.renderer.updateContainerSize(Ee,Ce)},AnimationItem.prototype.setSubframe=function(Re){this.isSubframeEnabled=!!Re},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(Re){this.triggerRenderFrameError(Re)}},AnimationItem.prototype.play=function(Re){Re&&this.name!==Re||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(Re){Re&&this.name!==Re||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(Re){Re&&this.name!==Re||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(Re){Re&&this.name!==Re||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(Re){for(var e,Ee=0;Ee<this.markers.length;Ee+=1)if(e=this.markers[Ee],e.payload&&e.payload.name===Re)return e;return null},AnimationItem.prototype.goToAndStop=function(Re,e,Ee){if(!(Ee&&this.name!==Ee)){var Ce=Number(Re);if(isNaN(Ce)){var Te=this.getMarkerData(Re);Te&&this.goToAndStop(Te.time,!0)}else e?this.setCurrentRawFrameValue(Re):this.setCurrentRawFrameValue(Re*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(Re,e,Ee){if(!(Ee&&this.name!==Ee)){var Ce=Number(Re);if(isNaN(Ce)){var Te=this.getMarkerData(Re);Te&&(Te.duration?this.playSegments([Te.time,Te.time+Te.duration],!0):this.goToAndStop(Te.time,!0))}else this.goToAndStop(Ce,e,Ee);this.play()}},AnimationItem.prototype.advanceTime=function(Re){if(!(this.isPaused===!0||this.isLoaded===!1)){var e=this.currentRawFrame+Re*this.frameModifier,Ee=!1;e>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(e>this.totalFrames?e%this.totalFrames:0)||(Ee=!0,e=this.totalFrames-1):e>=this.totalFrames?(this.playCount+=1,this.checkSegments(e%this.totalFrames)||(this.setCurrentRawFrameValue(e%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(e):e<0?this.checkSegments(e%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+e%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(Ee=!0,e=0)):this.setCurrentRawFrameValue(e),Ee&&(this.setCurrentRawFrameValue(e),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(Re,e){this.playCount=0,Re[1]<Re[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=Re[0]-Re[1],this.timeCompleted=this.totalFrames,this.firstFrame=Re[1],this.setCurrentRawFrameValue(this.totalFrames-.001-e)):Re[1]>Re[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=Re[1]-Re[0],this.timeCompleted=this.totalFrames,this.firstFrame=Re[0],this.setCurrentRawFrameValue(.001+e)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(Re,e){var Ee=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<Re?Ee=Re:this.currentRawFrame+this.firstFrame>e&&(Ee=e-Re)),this.firstFrame=Re,this.totalFrames=e-Re,this.timeCompleted=this.totalFrames,Ee!==-1&&this.goToAndStop(Ee,!0)},AnimationItem.prototype.playSegments=function(Re,e){if(e&&(this.segments.length=0),_typeof$4(Re[0])==="object"){var Ee,Ce=Re.length;for(Ee=0;Ee<Ce;Ee+=1)this.segments.push(Re[Ee])}else this.segments.push(Re);this.segments.length&&e&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(Re){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),Re&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(Re){return this.segments.length?(this.adjustSegment(this.segments.shift(),Re),!0):!1},AnimationItem.prototype.destroy=function(Re){Re&&this.name!==Re||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(Re){this.currentRawFrame=Re,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(Re){this.playSpeed=Re,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(Re){this.playDirection=Re<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(Re){this.loop=Re},AnimationItem.prototype.setVolume=function(Re,e){e&&this.name!==e||this.audioController.setVolume(Re)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(Re){Re&&this.name!==Re||this.audioController.mute()},AnimationItem.prototype.unmute=function(Re){Re&&this.name!==Re||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(Re){var e="";if(Re.e)e=Re.p;else if(this.assetsPath){var Ee=Re.p;Ee.indexOf("images/")!==-1&&(Ee=Ee.split("/")[1]),e=this.assetsPath+Ee}else e=this.path,e+=Re.u?Re.u:"",e+=Re.p;return e},AnimationItem.prototype.getAssetData=function(Re){for(var e=0,Ee=this.assets.length;e<Ee;){if(Re===this.assets[e].id)return this.assets[e];e+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(Re){return Re?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(Re,e,Ee){try{var Ce=this.renderer.getElementByPath(Re);Ce.updateDocumentData(e,Ee)}catch{}},AnimationItem.prototype.trigger=function(Re){if(this._cbs&&this._cbs[Re])switch(Re){case"enterFrame":this.triggerEvent(Re,new BMEnterFrameEvent(Re,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(Re,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(Re,new BMCompleteLoopEvent(Re,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(Re,new BMCompleteEvent(Re,this.frameMult));break;case"segmentStart":this.triggerEvent(Re,new BMSegmentStartEvent(Re,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(Re,new BMDestroyEvent(Re,this));break;default:this.triggerEvent(Re)}Re==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(Re,this.currentFrame,this.totalFrames,this.frameMult)),Re==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(Re,this.loop,this.playCount,this.frameMult)),Re==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(Re,this.frameMult)),Re==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(Re,this.firstFrame,this.totalFrames)),Re==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(Re,this))},AnimationItem.prototype.triggerRenderFrameError=function(Re){var e=new BMRenderFrameErrorEvent(Re,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)},AnimationItem.prototype.triggerConfigError=function(Re){var e=new BMConfigErrorEvent(Re,this.currentFrame);this.triggerEvent("error",e),this.onError&&this.onError.call(this,e)};var animationManager=function(){var Re={},e=[],Ee=0,Ce=0,Te=0,De=!0,Me=!1;function Oe(bs){for(var Ns=0,ps=bs.target;Ns<Ce;)e[Ns].animation===ps&&(e.splice(Ns,1),Ns-=1,Ce-=1,ps.isPaused||qe()),Ns+=1}function Be(bs,Ns){if(!bs)return null;for(var ps=0;ps<Ce;){if(e[ps].elem===bs&&e[ps].elem!==null)return e[ps].animation;ps+=1}var _s=new AnimationItem;return We(_s,bs),_s.setData(bs,Ns),_s}function ze(){var bs,Ns=e.length,ps=[];for(bs=0;bs<Ns;bs+=1)ps.push(e[bs].animation);return ps}function Ve(){Te+=1,Ss()}function qe(){Te-=1}function We(bs,Ns){bs.addEventListener("destroy",Oe),bs.addEventListener("_active",Ve),bs.addEventListener("_idle",qe),e.push({elem:Ns,animation:bs}),Ce+=1}function Ge(bs){var Ns=new AnimationItem;return We(Ns,null),Ns.setParams(bs),Ns}function Je(bs,Ns){var ps;for(ps=0;ps<Ce;ps+=1)e[ps].animation.setSpeed(bs,Ns)}function Qe(bs,Ns){var ps;for(ps=0;ps<Ce;ps+=1)e[ps].animation.setDirection(bs,Ns)}function ns(bs){var Ns;for(Ns=0;Ns<Ce;Ns+=1)e[Ns].animation.play(bs)}function Ye(bs){var Ns=bs-Ee,ps;for(ps=0;ps<Ce;ps+=1)e[ps].animation.advanceTime(Ns);Ee=bs,Te&&!Me?window.requestAnimationFrame(Ye):De=!0}function rs(bs){Ee=bs,window.requestAnimationFrame(Ye)}function ts(bs){var Ns;for(Ns=0;Ns<Ce;Ns+=1)e[Ns].animation.pause(bs)}function Xe(bs,Ns,ps){var _s;for(_s=0;_s<Ce;_s+=1)e[_s].animation.goToAndStop(bs,Ns,ps)}function is(bs){var Ns;for(Ns=0;Ns<Ce;Ns+=1)e[Ns].animation.stop(bs)}function os(bs){var Ns;for(Ns=0;Ns<Ce;Ns+=1)e[Ns].animation.togglePause(bs)}function hs(bs){var Ns;for(Ns=Ce-1;Ns>=0;Ns-=1)e[Ns].animation.destroy(bs)}function fs(bs,Ns,ps){var _s=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),ws,js=_s.length;for(ws=0;ws<js;ws+=1)ps&&_s[ws].setAttribute("data-bm-type",ps),Be(_s[ws],bs);if(Ns&&js===0){ps||(ps="svg");var ms=document.getElementsByTagName("body")[0];ms.innerText="";var ys=createTag("div");ys.style.width="100%",ys.style.height="100%",ys.setAttribute("data-bm-type",ps),ms.appendChild(ys),Be(ys,bs)}}function xs(){var bs;for(bs=0;bs<Ce;bs+=1)e[bs].animation.resize()}function Ss(){!Me&&Te&&De&&(window.requestAnimationFrame(rs),De=!1)}function ds(){Me=!0}function gs(){Me=!1,Ss()}function Ts(bs,Ns){var ps;for(ps=0;ps<Ce;ps+=1)e[ps].animation.setVolume(bs,Ns)}function Ds(bs){var Ns;for(Ns=0;Ns<Ce;Ns+=1)e[Ns].animation.mute(bs)}function Ms(bs){var Ns;for(Ns=0;Ns<Ce;Ns+=1)e[Ns].animation.unmute(bs)}return Re.registerAnimation=Be,Re.loadAnimation=Ge,Re.setSpeed=Je,Re.setDirection=Qe,Re.play=ns,Re.pause=ts,Re.stop=is,Re.togglePause=os,Re.searchAnimations=fs,Re.resize=xs,Re.goToAndStop=Xe,Re.destroy=hs,Re.freeze=ds,Re.unfreeze=gs,Re.setVolume=Ts,Re.mute=Ds,Re.unmute=Ms,Re.getRegisteredAnimations=ze,Re}(),BezierFactory=function(){var Re={};Re.getBezierEasing=Ee;var e={};function Ee(rs,ts,Xe,is,os){var hs=os||("bez_"+rs+"_"+ts+"_"+Xe+"_"+is).replace(/\./g,"p");if(e[hs])return e[hs];var fs=new Ye([rs,ts,Xe,is]);return e[hs]=fs,fs}var Ce=4,Te=.001,De=1e-7,Me=10,Oe=11,Be=1/(Oe-1),ze=typeof Float32Array=="function";function Ve(rs,ts){return 1-3*ts+3*rs}function qe(rs,ts){return 3*ts-6*rs}function We(rs){return 3*rs}function Ge(rs,ts,Xe){return((Ve(ts,Xe)*rs+qe(ts,Xe))*rs+We(ts))*rs}function Je(rs,ts,Xe){return 3*Ve(ts,Xe)*rs*rs+2*qe(ts,Xe)*rs+We(ts)}function Qe(rs,ts,Xe,is,os){var hs,fs,xs=0;do fs=ts+(Xe-ts)/2,hs=Ge(fs,is,os)-rs,hs>0?Xe=fs:ts=fs;while(Math.abs(hs)>De&&++xs<Me);return fs}function ns(rs,ts,Xe,is){for(var os=0;os<Ce;++os){var hs=Je(ts,Xe,is);if(hs===0)return ts;var fs=Ge(ts,Xe,is)-rs;ts-=fs/hs}return ts}function Ye(rs){this._p=rs,this._mSampleValues=ze?new Float32Array(Oe):new Array(Oe),this._precomputed=!1,this.get=this.get.bind(this)}return Ye.prototype={get:function(ts){var Xe=this._p[0],is=this._p[1],os=this._p[2],hs=this._p[3];return this._precomputed||this._precompute(),Xe===is&&os===hs?ts:ts===0?0:ts===1?1:Ge(this._getTForX(ts),is,hs)},_precompute:function(){var ts=this._p[0],Xe=this._p[1],is=this._p[2],os=this._p[3];this._precomputed=!0,(ts!==Xe||is!==os)&&this._calcSampleValues()},_calcSampleValues:function(){for(var ts=this._p[0],Xe=this._p[2],is=0;is<Oe;++is)this._mSampleValues[is]=Ge(is*Be,ts,Xe)},_getTForX:function(ts){for(var Xe=this._p[0],is=this._p[2],os=this._mSampleValues,hs=0,fs=1,xs=Oe-1;fs!==xs&&os[fs]<=ts;++fs)hs+=Be;--fs;var Ss=(ts-os[fs])/(os[fs+1]-os[fs]),ds=hs+Ss*Be,gs=Je(ds,Xe,is);return gs>=Te?ns(ts,ds,Xe,is):gs===0?ds:Qe(ts,hs,hs+Be,Xe,is)}},Re}(),pooling=function(){function Re(e){return e.concat(createSizedArray(e.length))}return{double:Re}}(),poolFactory=function(){return function(Re,e,Ee){var Ce=0,Te=Re,De=createSizedArray(Te),Me={newElement:Oe,release:Be};function Oe(){var ze;return Ce?(Ce-=1,ze=De[Ce]):ze=e(),ze}function Be(ze){Ce===Te&&(De=pooling.double(De),Te*=2),Ee&&Ee(ze),De[Ce]=ze,Ce+=1}return Me}}(),bezierLengthPool=function(){function Re(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,Re)}(),segmentsLengthPool=function(){function Re(){return{lengths:[],totalLength:0}}function e(Ee){var Ce,Te=Ee.lengths.length;for(Ce=0;Ce<Te;Ce+=1)bezierLengthPool.release(Ee.lengths[Ce]);Ee.lengths.length=0}return poolFactory(8,Re,e)}();function bezFunction(){var Re=Math;function e(We,Ge,Je,Qe,ns,Ye){var rs=We*Qe+Ge*ns+Je*Ye-ns*Qe-Ye*We-Je*Ge;return rs>-.001&&rs<.001}function Ee(We,Ge,Je,Qe,ns,Ye,rs,ts,Xe){if(Je===0&&Ye===0&&Xe===0)return e(We,Ge,Qe,ns,rs,ts);var is=Re.sqrt(Re.pow(Qe-We,2)+Re.pow(ns-Ge,2)+Re.pow(Ye-Je,2)),os=Re.sqrt(Re.pow(rs-We,2)+Re.pow(ts-Ge,2)+Re.pow(Xe-Je,2)),hs=Re.sqrt(Re.pow(rs-Qe,2)+Re.pow(ts-ns,2)+Re.pow(Xe-Ye,2)),fs;return is>os?is>hs?fs=is-os-hs:fs=hs-os-is:hs>os?fs=hs-os-is:fs=os-is-hs,fs>-1e-4&&fs<1e-4}var Ce=function(){return function(We,Ge,Je,Qe){var ns=getDefaultCurveSegments(),Ye,rs,ts,Xe,is,os=0,hs,fs=[],xs=[],Ss=bezierLengthPool.newElement();for(ts=Je.length,Ye=0;Ye<ns;Ye+=1){for(is=Ye/(ns-1),hs=0,rs=0;rs<ts;rs+=1)Xe=bmPow(1-is,3)*We[rs]+3*bmPow(1-is,2)*is*Je[rs]+3*(1-is)*bmPow(is,2)*Qe[rs]+bmPow(is,3)*Ge[rs],fs[rs]=Xe,xs[rs]!==null&&(hs+=bmPow(fs[rs]-xs[rs],2)),xs[rs]=fs[rs];hs&&(hs=bmSqrt(hs),os+=hs),Ss.percents[Ye]=is,Ss.lengths[Ye]=os}return Ss.addedLength=os,Ss}}();function Te(We){var Ge=segmentsLengthPool.newElement(),Je=We.c,Qe=We.v,ns=We.o,Ye=We.i,rs,ts=We._length,Xe=Ge.lengths,is=0;for(rs=0;rs<ts-1;rs+=1)Xe[rs]=Ce(Qe[rs],Qe[rs+1],ns[rs],Ye[rs+1]),is+=Xe[rs].addedLength;return Je&&ts&&(Xe[rs]=Ce(Qe[rs],Qe[0],ns[rs],Ye[0]),is+=Xe[rs].addedLength),Ge.totalLength=is,Ge}function De(We){this.segmentLength=0,this.points=new Array(We)}function Me(We,Ge){this.partialLength=We,this.point=Ge}var Oe=function(){var We={};return function(Ge,Je,Qe,ns){var Ye=(Ge[0]+"_"+Ge[1]+"_"+Je[0]+"_"+Je[1]+"_"+Qe[0]+"_"+Qe[1]+"_"+ns[0]+"_"+ns[1]).replace(/\./g,"p");if(!We[Ye]){var rs=getDefaultCurveSegments(),ts,Xe,is,os,hs,fs=0,xs,Ss,ds=null;Ge.length===2&&(Ge[0]!==Je[0]||Ge[1]!==Je[1])&&e(Ge[0],Ge[1],Je[0],Je[1],Ge[0]+Qe[0],Ge[1]+Qe[1])&&e(Ge[0],Ge[1],Je[0],Je[1],Je[0]+ns[0],Je[1]+ns[1])&&(rs=2);var gs=new De(rs);for(is=Qe.length,ts=0;ts<rs;ts+=1){for(Ss=createSizedArray(is),hs=ts/(rs-1),xs=0,Xe=0;Xe<is;Xe+=1)os=bmPow(1-hs,3)*Ge[Xe]+3*bmPow(1-hs,2)*hs*(Ge[Xe]+Qe[Xe])+3*(1-hs)*bmPow(hs,2)*(Je[Xe]+ns[Xe])+bmPow(hs,3)*Je[Xe],Ss[Xe]=os,ds!==null&&(xs+=bmPow(Ss[Xe]-ds[Xe],2));xs=bmSqrt(xs),fs+=xs,gs.points[ts]=new Me(xs,Ss),ds=Ss}gs.segmentLength=fs,We[Ye]=gs}return We[Ye]}}();function Be(We,Ge){var Je=Ge.percents,Qe=Ge.lengths,ns=Je.length,Ye=bmFloor((ns-1)*We),rs=We*Ge.addedLength,ts=0;if(Ye===ns-1||Ye===0||rs===Qe[Ye])return Je[Ye];for(var Xe=Qe[Ye]>rs?-1:1,is=!0;is;)if(Qe[Ye]<=rs&&Qe[Ye+1]>rs?(ts=(rs-Qe[Ye])/(Qe[Ye+1]-Qe[Ye]),is=!1):Ye+=Xe,Ye<0||Ye>=ns-1){if(Ye===ns-1)return Je[Ye];is=!1}return Je[Ye]+(Je[Ye+1]-Je[Ye])*ts}function ze(We,Ge,Je,Qe,ns,Ye){var rs=Be(ns,Ye),ts=1-rs,Xe=Re.round((ts*ts*ts*We[0]+(rs*ts*ts+ts*rs*ts+ts*ts*rs)*Je[0]+(rs*rs*ts+ts*rs*rs+rs*ts*rs)*Qe[0]+rs*rs*rs*Ge[0])*1e3)/1e3,is=Re.round((ts*ts*ts*We[1]+(rs*ts*ts+ts*rs*ts+ts*ts*rs)*Je[1]+(rs*rs*ts+ts*rs*rs+rs*ts*rs)*Qe[1]+rs*rs*rs*Ge[1])*1e3)/1e3;return[Xe,is]}var Ve=createTypedArray("float32",8);function qe(We,Ge,Je,Qe,ns,Ye,rs){ns<0?ns=0:ns>1&&(ns=1);var ts=Be(ns,rs);Ye=Ye>1?1:Ye;var Xe=Be(Ye,rs),is,os=We.length,hs=1-ts,fs=1-Xe,xs=hs*hs*hs,Ss=ts*hs*hs*3,ds=ts*ts*hs*3,gs=ts*ts*ts,Ts=hs*hs*fs,Ds=ts*hs*fs+hs*ts*fs+hs*hs*Xe,Ms=ts*ts*fs+hs*ts*Xe+ts*hs*Xe,bs=ts*ts*Xe,Ns=hs*fs*fs,ps=ts*fs*fs+hs*Xe*fs+hs*fs*Xe,_s=ts*Xe*fs+hs*Xe*Xe+ts*fs*Xe,ws=ts*Xe*Xe,js=fs*fs*fs,ms=Xe*fs*fs+fs*Xe*fs+fs*fs*Xe,ys=Xe*Xe*fs+fs*Xe*Xe+Xe*fs*Xe,ks=Xe*Xe*Xe;for(is=0;is<os;is+=1)Ve[is*4]=Re.round((xs*We[is]+Ss*Je[is]+ds*Qe[is]+gs*Ge[is])*1e3)/1e3,Ve[is*4+1]=Re.round((Ts*We[is]+Ds*Je[is]+Ms*Qe[is]+bs*Ge[is])*1e3)/1e3,Ve[is*4+2]=Re.round((Ns*We[is]+ps*Je[is]+_s*Qe[is]+ws*Ge[is])*1e3)/1e3,Ve[is*4+3]=Re.round((js*We[is]+ms*Je[is]+ys*Qe[is]+ks*Ge[is])*1e3)/1e3;return Ve}return{getSegmentsLength:Te,getNewSegment:qe,getPointInSegment:ze,buildBezierData:Oe,pointOnLine2D:e,pointOnLine3D:Ee}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(Re,e){var Ee=this.offsetTime,Ce;this.propType==="multidimensional"&&(Ce=createTypedArray("float32",this.pv.length));for(var Te=e.lastIndex,De=Te,Me=this.keyframes.length-1,Oe=!0,Be,ze,Ve;Oe;){if(Be=this.keyframes[De],ze=this.keyframes[De+1],De===Me-1&&Re>=ze.t-Ee){Be.h&&(Be=ze),Te=0;break}if(ze.t-Ee>Re){Te=De;break}De<Me-1?De+=1:(Te=0,Oe=!1)}Ve=this.keyframesMetadata[De]||{};var qe,We,Ge,Je,Qe,ns,Ye=ze.t-Ee,rs=Be.t-Ee,ts;if(Be.to){Ve.bezierData||(Ve.bezierData=bez.buildBezierData(Be.s,ze.s||Be.e,Be.to,Be.ti));var Xe=Ve.bezierData;if(Re>=Ye||Re<rs){var is=Re>=Ye?Xe.points.length-1:0;for(We=Xe.points[is].point.length,qe=0;qe<We;qe+=1)Ce[qe]=Xe.points[is].point[qe]}else{Ve.__fnct?ns=Ve.__fnct:(ns=BezierFactory.getBezierEasing(Be.o.x,Be.o.y,Be.i.x,Be.i.y,Be.n).get,Ve.__fnct=ns),Ge=ns((Re-rs)/(Ye-rs));var os=Xe.segmentLength*Ge,hs,fs=e.lastFrame<Re&&e._lastKeyframeIndex===De?e._lastAddedLength:0;for(Qe=e.lastFrame<Re&&e._lastKeyframeIndex===De?e._lastPoint:0,Oe=!0,Je=Xe.points.length;Oe;){if(fs+=Xe.points[Qe].partialLength,os===0||Ge===0||Qe===Xe.points.length-1){for(We=Xe.points[Qe].point.length,qe=0;qe<We;qe+=1)Ce[qe]=Xe.points[Qe].point[qe];break}else if(os>=fs&&os<fs+Xe.points[Qe+1].partialLength){for(hs=(os-fs)/Xe.points[Qe+1].partialLength,We=Xe.points[Qe].point.length,qe=0;qe<We;qe+=1)Ce[qe]=Xe.points[Qe].point[qe]+(Xe.points[Qe+1].point[qe]-Xe.points[Qe].point[qe])*hs;break}Qe<Je-1?Qe+=1:Oe=!1}e._lastPoint=Qe,e._lastAddedLength=fs-Xe.points[Qe].partialLength,e._lastKeyframeIndex=De}}else{var xs,Ss,ds,gs,Ts;if(Me=Be.s.length,ts=ze.s||Be.e,this.sh&&Be.h!==1)if(Re>=Ye)Ce[0]=ts[0],Ce[1]=ts[1],Ce[2]=ts[2];else if(Re<=rs)Ce[0]=Be.s[0],Ce[1]=Be.s[1],Ce[2]=Be.s[2];else{var Ds=createQuaternion(Be.s),Ms=createQuaternion(ts),bs=(Re-rs)/(Ye-rs);quaternionToEuler(Ce,slerp(Ds,Ms,bs))}else for(De=0;De<Me;De+=1)Be.h!==1&&(Re>=Ye?Ge=1:Re<rs?Ge=0:(Be.o.x.constructor===Array?(Ve.__fnct||(Ve.__fnct=[]),Ve.__fnct[De]?ns=Ve.__fnct[De]:(xs=Be.o.x[De]===void 0?Be.o.x[0]:Be.o.x[De],Ss=Be.o.y[De]===void 0?Be.o.y[0]:Be.o.y[De],ds=Be.i.x[De]===void 0?Be.i.x[0]:Be.i.x[De],gs=Be.i.y[De]===void 0?Be.i.y[0]:Be.i.y[De],ns=BezierFactory.getBezierEasing(xs,Ss,ds,gs).get,Ve.__fnct[De]=ns)):Ve.__fnct?ns=Ve.__fnct:(xs=Be.o.x,Ss=Be.o.y,ds=Be.i.x,gs=Be.i.y,ns=BezierFactory.getBezierEasing(xs,Ss,ds,gs).get,Be.keyframeMetadata=ns),Ge=ns((Re-rs)/(Ye-rs)))),ts=ze.s||Be.e,Ts=Be.h===1?Be.s[De]:Be.s[De]+(ts[De]-Be.s[De])*Ge,this.propType==="multidimensional"?Ce[De]=Ts:Ce=Ts}return e.lastIndex=Te,Ce}function slerp(Re,e,Ee){var Ce=[],Te=Re[0],De=Re[1],Me=Re[2],Oe=Re[3],Be=e[0],ze=e[1],Ve=e[2],qe=e[3],We,Ge,Je,Qe,ns;return Ge=Te*Be+De*ze+Me*Ve+Oe*qe,Ge<0&&(Ge=-Ge,Be=-Be,ze=-ze,Ve=-Ve,qe=-qe),1-Ge>1e-6?(We=Math.acos(Ge),Je=Math.sin(We),Qe=Math.sin((1-Ee)*We)/Je,ns=Math.sin(Ee*We)/Je):(Qe=1-Ee,ns=Ee),Ce[0]=Qe*Te+ns*Be,Ce[1]=Qe*De+ns*ze,Ce[2]=Qe*Me+ns*Ve,Ce[3]=Qe*Oe+ns*qe,Ce}function quaternionToEuler(Re,e){var Ee=e[0],Ce=e[1],Te=e[2],De=e[3],Me=Math.atan2(2*Ce*De-2*Ee*Te,1-2*Ce*Ce-2*Te*Te),Oe=Math.asin(2*Ee*Ce+2*Te*De),Be=Math.atan2(2*Ee*De-2*Ce*Te,1-2*Ee*Ee-2*Te*Te);Re[0]=Me/degToRads,Re[1]=Oe/degToRads,Re[2]=Be/degToRads}function createQuaternion(Re){var e=Re[0]*degToRads,Ee=Re[1]*degToRads,Ce=Re[2]*degToRads,Te=Math.cos(e/2),De=Math.cos(Ee/2),Me=Math.cos(Ce/2),Oe=Math.sin(e/2),Be=Math.sin(Ee/2),ze=Math.sin(Ce/2),Ve=Te*De*Me-Oe*Be*ze,qe=Oe*Be*Me+Te*De*ze,We=Oe*De*Me+Te*Be*ze,Ge=Te*Be*Me-Oe*De*ze;return[qe,We,Ge,Ve]}function getValueAtCurrentTime(){var Re=this.comp.renderedFrame-this.offsetTime,e=this.keyframes[0].t-this.offsetTime,Ee=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(Re===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=Ee&&Re>=Ee||this._caching.lastFrame<e&&Re<e))){this._caching.lastFrame>=Re&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var Ce=this.interpolateValue(Re,this._caching);this.pv=Ce}return this._caching.lastFrame=Re,this.pv}function setVValue(Re){var e;if(this.propType==="unidimensional")e=Re*this.mult,mathAbs(this.v-e)>1e-5&&(this.v=e,this._mdf=!0);else for(var Ee=0,Ce=this.v.length;Ee<Ce;)e=Re[Ee]*this.mult,mathAbs(this.v[Ee]-e)>1e-5&&(this.v[Ee]=e,this._mdf=!0),Ee+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var Re,e=this.effectsSequence.length,Ee=this.kf?this.pv:this.data.k;for(Re=0;Re<e;Re+=1)Ee=this.effectsSequence[Re](Ee);this.setVValue(Ee),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(Re){this.effectsSequence.push(Re),this.container.addDynamicProperty(this)}function ValueProperty(Re,e,Ee,Ce){this.propType="unidimensional",this.mult=Ee||1,this.data=e,this.v=Ee?e.k*Ee:e.k,this.pv=e.k,this._mdf=!1,this.elem=Re,this.container=Ce,this.comp=Re.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(Re,e,Ee,Ce){this.propType="multidimensional",this.mult=Ee||1,this.data=e,this._mdf=!1,this.elem=Re,this.container=Ce,this.comp=Re.comp,this.k=!1,this.kf=!1,this.frameId=-1;var Te,De=e.k.length;for(this.v=createTypedArray("float32",De),this.pv=createTypedArray("float32",De),this.vel=createTypedArray("float32",De),Te=0;Te<De;Te+=1)this.v[Te]=e.k[Te]*this.mult,this.pv[Te]=e.k[Te];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(Re,e,Ee,Ce){this.propType="unidimensional",this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=Re.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=e,this.mult=Ee||1,this.elem=Re,this.container=Ce,this.comp=Re.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(Re,e,Ee,Ce){this.propType="multidimensional";var Te,De=e.k.length,Me,Oe,Be,ze;for(Te=0;Te<De-1;Te+=1)e.k[Te].to&&e.k[Te].s&&e.k[Te+1]&&e.k[Te+1].s&&(Me=e.k[Te].s,Oe=e.k[Te+1].s,Be=e.k[Te].to,ze=e.k[Te].ti,(Me.length===2&&!(Me[0]===Oe[0]&&Me[1]===Oe[1])&&bez.pointOnLine2D(Me[0],Me[1],Oe[0],Oe[1],Me[0]+Be[0],Me[1]+Be[1])&&bez.pointOnLine2D(Me[0],Me[1],Oe[0],Oe[1],Oe[0]+ze[0],Oe[1]+ze[1])||Me.length===3&&!(Me[0]===Oe[0]&&Me[1]===Oe[1]&&Me[2]===Oe[2])&&bez.pointOnLine3D(Me[0],Me[1],Me[2],Oe[0],Oe[1],Oe[2],Me[0]+Be[0],Me[1]+Be[1],Me[2]+Be[2])&&bez.pointOnLine3D(Me[0],Me[1],Me[2],Oe[0],Oe[1],Oe[2],Oe[0]+ze[0],Oe[1]+ze[1],Oe[2]+ze[2]))&&(e.k[Te].to=null,e.k[Te].ti=null),Me[0]===Oe[0]&&Me[1]===Oe[1]&&Be[0]===0&&Be[1]===0&&ze[0]===0&&ze[1]===0&&(Me.length===2||Me[2]===Oe[2]&&Be[2]===0&&ze[2]===0)&&(e.k[Te].to=null,e.k[Te].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=e,this.keyframes=e.k,this.keyframesMetadata=[],this.offsetTime=Re.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=Ee||1,this.elem=Re,this.container=Ce,this.comp=Re.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var Ve=e.k[0].s.length;for(this.v=createTypedArray("float32",Ve),this.pv=createTypedArray("float32",Ve),Te=0;Te<Ve;Te+=1)this.v[Te]=initFrame,this.pv[Te]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",Ve)},this.addEffect=addEffect}var PropertyFactory=function(){function Re(Ee,Ce,Te,De,Me){Ce.sid&&(Ce=Ee.globalData.slotManager.getProp(Ce));var Oe;if(!Ce.k.length)Oe=new ValueProperty(Ee,Ce,De,Me);else if(typeof Ce.k[0]=="number")Oe=new MultiDimensionalProperty(Ee,Ce,De,Me);else switch(Te){case 0:Oe=new KeyframedValueProperty(Ee,Ce,De,Me);break;case 1:Oe=new KeyframedMultidimensionalProperty(Ee,Ce,De,Me);break}return Oe.effectsSequence.length&&Me.addDynamicProperty(Oe),Oe}var e={getProp:Re};return e}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var e,Ee=this.dynamicProperties.length;for(e=0;e<Ee;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function Re(){return createTypedArray("float32",2)}return poolFactory(8,Re)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(Re,e){this.c=Re,this.setLength(e);for(var Ee=0;Ee<e;)this.v[Ee]=pointPool.newElement(),this.o[Ee]=pointPool.newElement(),this.i[Ee]=pointPool.newElement(),Ee+=1},ShapePath.prototype.setLength=function(Re){for(;this._maxLength<Re;)this.doubleArrayLength();this._length=Re},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(Re,e,Ee,Ce,Te){var De;switch(this._length=Math.max(this._length,Ce+1),this._length>=this._maxLength&&this.doubleArrayLength(),Ee){case"v":De=this.v;break;case"i":De=this.i;break;case"o":De=this.o;break;default:De=[];break}(!De[Ce]||De[Ce]&&!Te)&&(De[Ce]=pointPool.newElement()),De[Ce][0]=Re,De[Ce][1]=e},ShapePath.prototype.setTripleAt=function(Re,e,Ee,Ce,Te,De,Me,Oe){this.setXYAt(Re,e,"v",Me,Oe),this.setXYAt(Ee,Ce,"o",Me,Oe),this.setXYAt(Te,De,"i",Me,Oe)},ShapePath.prototype.reverse=function(){var Re=new ShapePath;Re.setPathData(this.c,this._length);var e=this.v,Ee=this.o,Ce=this.i,Te=0;this.c&&(Re.setTripleAt(e[0][0],e[0][1],Ce[0][0],Ce[0][1],Ee[0][0],Ee[0][1],0,!1),Te=1);var De=this._length-1,Me=this._length,Oe;for(Oe=Te;Oe<Me;Oe+=1)Re.setTripleAt(e[De][0],e[De][1],Ce[De][0],Ce[De][1],Ee[De][0],Ee[De][1],Oe,!1),De-=1;return Re},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function Re(){return new ShapePath}function e(Te){var De=Te._length,Me;for(Me=0;Me<De;Me+=1)pointPool.release(Te.v[Me]),pointPool.release(Te.i[Me]),pointPool.release(Te.o[Me]),Te.v[Me]=null,Te.i[Me]=null,Te.o[Me]=null;Te._length=0,Te.c=!1}function Ee(Te){var De=Ce.newElement(),Me,Oe=Te._length===void 0?Te.v.length:Te._length;for(De.setLength(Oe),De.c=Te.c,Me=0;Me<Oe;Me+=1)De.setTripleAt(Te.v[Me][0],Te.v[Me][1],Te.o[Me][0],Te.o[Me][1],Te.i[Me][0],Te.i[Me][1],Me);return De}var Ce=poolFactory(4,Re,e);return Ce.clone=Ee,Ce}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(Re){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=Re,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var Re;for(Re=0;Re<this._length;Re+=1)shapePool.release(this.shapes[Re]);this._length=0};var shapeCollectionPool=function(){var Re={newShapeCollection:Te,release:De},e=0,Ee=4,Ce=createSizedArray(Ee);function Te(){var Me;return e?(e-=1,Me=Ce[e]):Me=new ShapeCollection,Me}function De(Me){var Oe,Be=Me._length;for(Oe=0;Oe<Be;Oe+=1)shapePool.release(Me.shapes[Oe]);Me._length=0,e===Ee&&(Ce=pooling.double(Ce),Ee*=2),Ce[e]=Me,e+=1}return Re}(),ShapePropertyFactory=function(){var Re=-999999;function e(Ye,rs,ts){var Xe=ts.lastIndex,is,os,hs,fs,xs,Ss,ds,gs,Ts,Ds=this.keyframes;if(Ye<Ds[0].t-this.offsetTime)is=Ds[0].s[0],hs=!0,Xe=0;else if(Ye>=Ds[Ds.length-1].t-this.offsetTime)is=Ds[Ds.length-1].s?Ds[Ds.length-1].s[0]:Ds[Ds.length-2].e[0],hs=!0;else{for(var Ms=Xe,bs=Ds.length-1,Ns=!0,ps,_s,ws;Ns&&(ps=Ds[Ms],_s=Ds[Ms+1],!(_s.t-this.offsetTime>Ye));)Ms<bs-1?Ms+=1:Ns=!1;if(ws=this.keyframesMetadata[Ms]||{},hs=ps.h===1,Xe=Ms,!hs){if(Ye>=_s.t-this.offsetTime)gs=1;else if(Ye<ps.t-this.offsetTime)gs=0;else{var js;ws.__fnct?js=ws.__fnct:(js=BezierFactory.getBezierEasing(ps.o.x,ps.o.y,ps.i.x,ps.i.y).get,ws.__fnct=js),gs=js((Ye-(ps.t-this.offsetTime))/(_s.t-this.offsetTime-(ps.t-this.offsetTime)))}os=_s.s?_s.s[0]:ps.e[0]}is=ps.s[0]}for(Ss=rs._length,ds=is.i[0].length,ts.lastIndex=Xe,fs=0;fs<Ss;fs+=1)for(xs=0;xs<ds;xs+=1)Ts=hs?is.i[fs][xs]:is.i[fs][xs]+(os.i[fs][xs]-is.i[fs][xs])*gs,rs.i[fs][xs]=Ts,Ts=hs?is.o[fs][xs]:is.o[fs][xs]+(os.o[fs][xs]-is.o[fs][xs])*gs,rs.o[fs][xs]=Ts,Ts=hs?is.v[fs][xs]:is.v[fs][xs]+(os.v[fs][xs]-is.v[fs][xs])*gs,rs.v[fs][xs]=Ts}function Ee(){var Ye=this.comp.renderedFrame-this.offsetTime,rs=this.keyframes[0].t-this.offsetTime,ts=this.keyframes[this.keyframes.length-1].t-this.offsetTime,Xe=this._caching.lastFrame;return Xe!==Re&&(Xe<rs&&Ye<rs||Xe>ts&&Ye>ts)||(this._caching.lastIndex=Xe<Ye?this._caching.lastIndex:0,this.interpolateShape(Ye,this.pv,this._caching)),this._caching.lastFrame=Ye,this.pv}function Ce(){this.paths=this.localShapeCollection}function Te(Ye,rs){if(Ye._length!==rs._length||Ye.c!==rs.c)return!1;var ts,Xe=Ye._length;for(ts=0;ts<Xe;ts+=1)if(Ye.v[ts][0]!==rs.v[ts][0]||Ye.v[ts][1]!==rs.v[ts][1]||Ye.o[ts][0]!==rs.o[ts][0]||Ye.o[ts][1]!==rs.o[ts][1]||Ye.i[ts][0]!==rs.i[ts][0]||Ye.i[ts][1]!==rs.i[ts][1])return!1;return!0}function De(Ye){Te(this.v,Ye)||(this.v=shapePool.clone(Ye),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function Me(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var Ye;this.kf?Ye=this.pv:this.data.ks?Ye=this.data.ks.k:Ye=this.data.pt.k;var rs,ts=this.effectsSequence.length;for(rs=0;rs<ts;rs+=1)Ye=this.effectsSequence[rs](Ye);this.setVValue(Ye),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function Oe(Ye,rs,ts){this.propType="shape",this.comp=Ye.comp,this.container=Ye,this.elem=Ye,this.data=rs,this.k=!1,this.kf=!1,this._mdf=!1;var Xe=ts===3?rs.pt.k:rs.ks.k;this.v=shapePool.clone(Xe),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=Ce,this.effectsSequence=[]}function Be(Ye){this.effectsSequence.push(Ye),this.container.addDynamicProperty(this)}Oe.prototype.interpolateShape=e,Oe.prototype.getValue=Me,Oe.prototype.setVValue=De,Oe.prototype.addEffect=Be;function ze(Ye,rs,ts){this.propType="shape",this.comp=Ye.comp,this.elem=Ye,this.container=Ye,this.offsetTime=Ye.data.st,this.keyframes=ts===3?rs.pt.k:rs.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var Xe=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,Xe),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=Re,this.reset=Ce,this._caching={lastFrame:Re,lastIndex:0},this.effectsSequence=[Ee.bind(this)]}ze.prototype.getValue=Me,ze.prototype.interpolateShape=e,ze.prototype.setVValue=De,ze.prototype.addEffect=Be;var Ve=function(){var Ye=roundCorner;function rs(ts,Xe){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=Xe.d,this.elem=ts,this.comp=ts.comp,this.frameId=-1,this.initDynamicPropertyContainer(ts),this.p=PropertyFactory.getProp(ts,Xe.p,1,0,this),this.s=PropertyFactory.getProp(ts,Xe.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return rs.prototype={reset:Ce,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var Xe=this.p.v[0],is=this.p.v[1],os=this.s.v[0]/2,hs=this.s.v[1]/2,fs=this.d!==3,xs=this.v;xs.v[0][0]=Xe,xs.v[0][1]=is-hs,xs.v[1][0]=fs?Xe+os:Xe-os,xs.v[1][1]=is,xs.v[2][0]=Xe,xs.v[2][1]=is+hs,xs.v[3][0]=fs?Xe-os:Xe+os,xs.v[3][1]=is,xs.i[0][0]=fs?Xe-os*Ye:Xe+os*Ye,xs.i[0][1]=is-hs,xs.i[1][0]=fs?Xe+os:Xe-os,xs.i[1][1]=is-hs*Ye,xs.i[2][0]=fs?Xe+os*Ye:Xe-os*Ye,xs.i[2][1]=is+hs,xs.i[3][0]=fs?Xe-os:Xe+os,xs.i[3][1]=is+hs*Ye,xs.o[0][0]=fs?Xe+os*Ye:Xe-os*Ye,xs.o[0][1]=is-hs,xs.o[1][0]=fs?Xe+os:Xe-os,xs.o[1][1]=is+hs*Ye,xs.o[2][0]=fs?Xe-os*Ye:Xe+os*Ye,xs.o[2][1]=is+hs,xs.o[3][0]=fs?Xe-os:Xe+os,xs.o[3][1]=is-hs*Ye}},extendPrototype([DynamicPropertyContainer],rs),rs}(),qe=function(){function Ye(rs,ts){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=rs,this.comp=rs.comp,this.data=ts,this.frameId=-1,this.d=ts.d,this.initDynamicPropertyContainer(rs),ts.sy===1?(this.ir=PropertyFactory.getProp(rs,ts.ir,0,0,this),this.is=PropertyFactory.getProp(rs,ts.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(rs,ts.pt,0,0,this),this.p=PropertyFactory.getProp(rs,ts.p,1,0,this),this.r=PropertyFactory.getProp(rs,ts.r,0,degToRads,this),this.or=PropertyFactory.getProp(rs,ts.or,0,0,this),this.os=PropertyFactory.getProp(rs,ts.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return Ye.prototype={reset:Ce,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var ts=Math.floor(this.pt.v)*2,Xe=Math.PI*2/ts,is=!0,os=this.or.v,hs=this.ir.v,fs=this.os.v,xs=this.is.v,Ss=2*Math.PI*os/(ts*2),ds=2*Math.PI*hs/(ts*2),gs,Ts,Ds,Ms,bs=-Math.PI/2;bs+=this.r.v;var Ns=this.data.d===3?-1:1;for(this.v._length=0,gs=0;gs<ts;gs+=1){Ts=is?os:hs,Ds=is?fs:xs,Ms=is?Ss:ds;var ps=Ts*Math.cos(bs),_s=Ts*Math.sin(bs),ws=ps===0&&_s===0?0:_s/Math.sqrt(ps*ps+_s*_s),js=ps===0&&_s===0?0:-ps/Math.sqrt(ps*ps+_s*_s);ps+=+this.p.v[0],_s+=+this.p.v[1],this.v.setTripleAt(ps,_s,ps-ws*Ms*Ds*Ns,_s-js*Ms*Ds*Ns,ps+ws*Ms*Ds*Ns,_s+js*Ms*Ds*Ns,gs,!0),is=!is,bs+=Xe*Ns}},convertPolygonToPath:function(){var ts=Math.floor(this.pt.v),Xe=Math.PI*2/ts,is=this.or.v,os=this.os.v,hs=2*Math.PI*is/(ts*4),fs,xs=-Math.PI*.5,Ss=this.data.d===3?-1:1;for(xs+=this.r.v,this.v._length=0,fs=0;fs<ts;fs+=1){var ds=is*Math.cos(xs),gs=is*Math.sin(xs),Ts=ds===0&&gs===0?0:gs/Math.sqrt(ds*ds+gs*gs),Ds=ds===0&&gs===0?0:-ds/Math.sqrt(ds*ds+gs*gs);ds+=+this.p.v[0],gs+=+this.p.v[1],this.v.setTripleAt(ds,gs,ds-Ts*hs*os*Ss,gs-Ds*hs*os*Ss,ds+Ts*hs*os*Ss,gs+Ds*hs*os*Ss,fs,!0),xs+=Xe*Ss}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],Ye),Ye}(),We=function(){function Ye(rs,ts){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=rs,this.comp=rs.comp,this.frameId=-1,this.d=ts.d,this.initDynamicPropertyContainer(rs),this.p=PropertyFactory.getProp(rs,ts.p,1,0,this),this.s=PropertyFactory.getProp(rs,ts.s,1,0,this),this.r=PropertyFactory.getProp(rs,ts.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return Ye.prototype={convertRectToPath:function(){var ts=this.p.v[0],Xe=this.p.v[1],is=this.s.v[0]/2,os=this.s.v[1]/2,hs=bmMin(is,os,this.r.v),fs=hs*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(ts+is,Xe-os+hs,ts+is,Xe-os+hs,ts+is,Xe-os+fs,0,!0),this.v.setTripleAt(ts+is,Xe+os-hs,ts+is,Xe+os-fs,ts+is,Xe+os-hs,1,!0),hs!==0?(this.v.setTripleAt(ts+is-hs,Xe+os,ts+is-hs,Xe+os,ts+is-fs,Xe+os,2,!0),this.v.setTripleAt(ts-is+hs,Xe+os,ts-is+fs,Xe+os,ts-is+hs,Xe+os,3,!0),this.v.setTripleAt(ts-is,Xe+os-hs,ts-is,Xe+os-hs,ts-is,Xe+os-fs,4,!0),this.v.setTripleAt(ts-is,Xe-os+hs,ts-is,Xe-os+fs,ts-is,Xe-os+hs,5,!0),this.v.setTripleAt(ts-is+hs,Xe-os,ts-is+hs,Xe-os,ts-is+fs,Xe-os,6,!0),this.v.setTripleAt(ts+is-hs,Xe-os,ts+is-fs,Xe-os,ts+is-hs,Xe-os,7,!0)):(this.v.setTripleAt(ts-is,Xe+os,ts-is+fs,Xe+os,ts-is,Xe+os,2),this.v.setTripleAt(ts-is,Xe-os,ts-is,Xe-os+fs,ts-is,Xe-os,3))):(this.v.setTripleAt(ts+is,Xe-os+hs,ts+is,Xe-os+fs,ts+is,Xe-os+hs,0,!0),hs!==0?(this.v.setTripleAt(ts+is-hs,Xe-os,ts+is-hs,Xe-os,ts+is-fs,Xe-os,1,!0),this.v.setTripleAt(ts-is+hs,Xe-os,ts-is+fs,Xe-os,ts-is+hs,Xe-os,2,!0),this.v.setTripleAt(ts-is,Xe-os+hs,ts-is,Xe-os+hs,ts-is,Xe-os+fs,3,!0),this.v.setTripleAt(ts-is,Xe+os-hs,ts-is,Xe+os-fs,ts-is,Xe+os-hs,4,!0),this.v.setTripleAt(ts-is+hs,Xe+os,ts-is+hs,Xe+os,ts-is+fs,Xe+os,5,!0),this.v.setTripleAt(ts+is-hs,Xe+os,ts+is-fs,Xe+os,ts+is-hs,Xe+os,6,!0),this.v.setTripleAt(ts+is,Xe+os-hs,ts+is,Xe+os-hs,ts+is,Xe+os-fs,7,!0)):(this.v.setTripleAt(ts-is,Xe-os,ts-is+fs,Xe-os,ts-is,Xe-os,1,!0),this.v.setTripleAt(ts-is,Xe+os,ts-is,Xe+os-fs,ts-is,Xe+os,2,!0),this.v.setTripleAt(ts+is,Xe+os,ts+is-fs,Xe+os,ts+is,Xe+os,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:Ce},extendPrototype([DynamicPropertyContainer],Ye),Ye}();function Ge(Ye,rs,ts){var Xe;if(ts===3||ts===4){var is=ts===3?rs.pt:rs.ks,os=is.k;os.length?Xe=new ze(Ye,rs,ts):Xe=new Oe(Ye,rs,ts)}else ts===5?Xe=new We(Ye,rs):ts===6?Xe=new Ve(Ye,rs):ts===7&&(Xe=new qe(Ye,rs));return Xe.k&&Ye.addDynamicProperty(Xe),Xe}function Je(){return Oe}function Qe(){return ze}var ns={};return ns.getShapeProp=Ge,ns.getConstructorFunction=Je,ns.getKeyframedConstructorFunction=Qe,ns}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var Re=Math.cos,e=Math.sin,Ee=Math.tan,Ce=Math.round;function Te(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function De(ps){if(ps===0)return this;var _s=Re(ps),ws=e(ps);return this._t(_s,-ws,0,0,ws,_s,0,0,0,0,1,0,0,0,0,1)}function Me(ps){if(ps===0)return this;var _s=Re(ps),ws=e(ps);return this._t(1,0,0,0,0,_s,-ws,0,0,ws,_s,0,0,0,0,1)}function Oe(ps){if(ps===0)return this;var _s=Re(ps),ws=e(ps);return this._t(_s,0,ws,0,0,1,0,0,-ws,0,_s,0,0,0,0,1)}function Be(ps){if(ps===0)return this;var _s=Re(ps),ws=e(ps);return this._t(_s,-ws,0,0,ws,_s,0,0,0,0,1,0,0,0,0,1)}function ze(ps,_s){return this._t(1,_s,ps,1,0,0)}function Ve(ps,_s){return this.shear(Ee(ps),Ee(_s))}function qe(ps,_s){var ws=Re(_s),js=e(_s);return this._t(ws,js,0,0,-js,ws,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,Ee(ps),1,0,0,0,0,1,0,0,0,0,1)._t(ws,-js,0,0,js,ws,0,0,0,0,1,0,0,0,0,1)}function We(ps,_s,ws){return!ws&&ws!==0&&(ws=1),ps===1&&_s===1&&ws===1?this:this._t(ps,0,0,0,0,_s,0,0,0,0,ws,0,0,0,0,1)}function Ge(ps,_s,ws,js,ms,ys,ks,zs,Cs,Ps,Us,Is,Vs,Ks,or,rr){return this.props[0]=ps,this.props[1]=_s,this.props[2]=ws,this.props[3]=js,this.props[4]=ms,this.props[5]=ys,this.props[6]=ks,this.props[7]=zs,this.props[8]=Cs,this.props[9]=Ps,this.props[10]=Us,this.props[11]=Is,this.props[12]=Vs,this.props[13]=Ks,this.props[14]=or,this.props[15]=rr,this}function Je(ps,_s,ws){return ws=ws||0,ps!==0||_s!==0||ws!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,ps,_s,ws,1):this}function Qe(ps,_s,ws,js,ms,ys,ks,zs,Cs,Ps,Us,Is,Vs,Ks,or,rr){var ur=this.props;if(ps===1&&_s===0&&ws===0&&js===0&&ms===0&&ys===1&&ks===0&&zs===0&&Cs===0&&Ps===0&&Us===1&&Is===0)return ur[12]=ur[12]*ps+ur[15]*Vs,ur[13]=ur[13]*ys+ur[15]*Ks,ur[14]=ur[14]*Us+ur[15]*or,ur[15]*=rr,this._identityCalculated=!1,this;var Ws=ur[0],Er=ur[1],zr=ur[2],Or=ur[3],tr=ur[4],Lr=ur[5],Js=ur[6],lr=ur[7],hr=ur[8],Ar=ur[9],Pr=ur[10],vr=ur[11],Mr=ur[12],Qr=ur[13],Ur=ur[14],ti=ur[15];return ur[0]=Ws*ps+Er*ms+zr*Cs+Or*Vs,ur[1]=Ws*_s+Er*ys+zr*Ps+Or*Ks,ur[2]=Ws*ws+Er*ks+zr*Us+Or*or,ur[3]=Ws*js+Er*zs+zr*Is+Or*rr,ur[4]=tr*ps+Lr*ms+Js*Cs+lr*Vs,ur[5]=tr*_s+Lr*ys+Js*Ps+lr*Ks,ur[6]=tr*ws+Lr*ks+Js*Us+lr*or,ur[7]=tr*js+Lr*zs+Js*Is+lr*rr,ur[8]=hr*ps+Ar*ms+Pr*Cs+vr*Vs,ur[9]=hr*_s+Ar*ys+Pr*Ps+vr*Ks,ur[10]=hr*ws+Ar*ks+Pr*Us+vr*or,ur[11]=hr*js+Ar*zs+Pr*Is+vr*rr,ur[12]=Mr*ps+Qr*ms+Ur*Cs+ti*Vs,ur[13]=Mr*_s+Qr*ys+Ur*Ps+ti*Ks,ur[14]=Mr*ws+Qr*ks+Ur*Us+ti*or,ur[15]=Mr*js+Qr*zs+Ur*Is+ti*rr,this._identityCalculated=!1,this}function ns(ps){var _s=ps.props;return this.transform(_s[0],_s[1],_s[2],_s[3],_s[4],_s[5],_s[6],_s[7],_s[8],_s[9],_s[10],_s[11],_s[12],_s[13],_s[14],_s[15])}function Ye(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function rs(ps){for(var _s=0;_s<16;){if(ps.props[_s]!==this.props[_s])return!1;_s+=1}return!0}function ts(ps){var _s;for(_s=0;_s<16;_s+=1)ps.props[_s]=this.props[_s];return ps}function Xe(ps){var _s;for(_s=0;_s<16;_s+=1)this.props[_s]=ps[_s]}function is(ps,_s,ws){return{x:ps*this.props[0]+_s*this.props[4]+ws*this.props[8]+this.props[12],y:ps*this.props[1]+_s*this.props[5]+ws*this.props[9]+this.props[13],z:ps*this.props[2]+_s*this.props[6]+ws*this.props[10]+this.props[14]}}function os(ps,_s,ws){return ps*this.props[0]+_s*this.props[4]+ws*this.props[8]+this.props[12]}function hs(ps,_s,ws){return ps*this.props[1]+_s*this.props[5]+ws*this.props[9]+this.props[13]}function fs(ps,_s,ws){return ps*this.props[2]+_s*this.props[6]+ws*this.props[10]+this.props[14]}function xs(){var ps=this.props[0]*this.props[5]-this.props[1]*this.props[4],_s=this.props[5]/ps,ws=-this.props[1]/ps,js=-this.props[4]/ps,ms=this.props[0]/ps,ys=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/ps,ks=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/ps,zs=new Matrix;return zs.props[0]=_s,zs.props[1]=ws,zs.props[4]=js,zs.props[5]=ms,zs.props[12]=ys,zs.props[13]=ks,zs}function Ss(ps){var _s=this.getInverseMatrix();return _s.applyToPointArray(ps[0],ps[1],ps[2]||0)}function ds(ps){var _s,ws=ps.length,js=[];for(_s=0;_s<ws;_s+=1)js[_s]=Ss(ps[_s]);return js}function gs(ps,_s,ws){var js=createTypedArray("float32",6);if(this.isIdentity())js[0]=ps[0],js[1]=ps[1],js[2]=_s[0],js[3]=_s[1],js[4]=ws[0],js[5]=ws[1];else{var ms=this.props[0],ys=this.props[1],ks=this.props[4],zs=this.props[5],Cs=this.props[12],Ps=this.props[13];js[0]=ps[0]*ms+ps[1]*ks+Cs,js[1]=ps[0]*ys+ps[1]*zs+Ps,js[2]=_s[0]*ms+_s[1]*ks+Cs,js[3]=_s[0]*ys+_s[1]*zs+Ps,js[4]=ws[0]*ms+ws[1]*ks+Cs,js[5]=ws[0]*ys+ws[1]*zs+Ps}return js}function Ts(ps,_s,ws){var js;return this.isIdentity()?js=[ps,_s,ws]:js=[ps*this.props[0]+_s*this.props[4]+ws*this.props[8]+this.props[12],ps*this.props[1]+_s*this.props[5]+ws*this.props[9]+this.props[13],ps*this.props[2]+_s*this.props[6]+ws*this.props[10]+this.props[14]],js}function Ds(ps,_s){if(this.isIdentity())return ps+","+_s;var ws=this.props;return Math.round((ps*ws[0]+_s*ws[4]+ws[12])*100)/100+","+Math.round((ps*ws[1]+_s*ws[5]+ws[13])*100)/100}function Ms(){for(var ps=0,_s=this.props,ws="matrix3d(",js=1e4;ps<16;)ws+=Ce(_s[ps]*js)/js,ws+=ps===15?")":",",ps+=1;return ws}function bs(ps){var _s=1e4;return ps<1e-6&&ps>0||ps>-1e-6&&ps<0?Ce(ps*_s)/_s:ps}function Ns(){var ps=this.props,_s=bs(ps[0]),ws=bs(ps[1]),js=bs(ps[4]),ms=bs(ps[5]),ys=bs(ps[12]),ks=bs(ps[13]);return"matrix("+_s+","+ws+","+js+","+ms+","+ys+","+ks+")"}return function(){this.reset=Te,this.rotate=De,this.rotateX=Me,this.rotateY=Oe,this.rotateZ=Be,this.skew=Ve,this.skewFromAxis=qe,this.shear=ze,this.scale=We,this.setTransform=Ge,this.translate=Je,this.transform=Qe,this.multiply=ns,this.applyToPoint=is,this.applyToX=os,this.applyToY=hs,this.applyToZ=fs,this.applyToPointArray=Ts,this.applyToTriplePoints=gs,this.applyToPointStringified=Ds,this.toCSS=Ms,this.to2dCSS=Ns,this.clone=ts,this.cloneFromProps=Xe,this.equals=rs,this.inversePoints=ds,this.inversePoint=Ss,this.getInverseMatrix=xs,this._t=this.transform,this.isIdentity=Ye,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(Re){"@babel/helpers - typeof";return _typeof$3=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$3(Re)}var lottie={};function setLocation(Re){setLocationHref(Re)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(Re){setSubframeEnabled(Re)}function setPrefix(Re){setIdPrefix(Re)}function loadAnimation(Re){return animationManager.loadAnimation(Re)}function setQuality(Re){if(typeof Re=="string")switch(Re){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(Re)&&Re>1&&setDefaultCurveSegments(Re)}function inBrowser(){return typeof navigator<"u"}function installPlugin(Re,e){Re==="expressions"&&setExpressionsPlugin(e)}function getFactory(Re){switch(Re){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.13.0";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(Re){for(var e=queryString.split("&"),Ee=0;Ee<e.length;Ee+=1){var Ce=e[Ee].split("=");if(decodeURIComponent(Ce[0])==Re)return decodeURIComponent(Ce[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(Re){}var ShapeModifiers=function(){var Re={},e={};Re.registerModifier=Ee,Re.getModifier=Ce;function Ee(Te,De){e[Te]||(e[Te]=De)}function Ce(Te,De,Me){return new e[Te](De,Me)}return Re}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(Re){if(!this.closed){Re.sh.container.addDynamicProperty(Re.sh);var e={shape:Re.sh,data:Re,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(e),this.addShapeToModifier(e),this._isAnimated&&Re.setAsAnimated()}},ShapeModifier.prototype.init=function(Re,e){this.shapes=[],this.elem=Re,this.initDynamicPropertyContainer(Re),this.initModifierProperties(Re,e),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(Re,e){this.s=PropertyFactory.getProp(Re,e.s,0,.01,this),this.e=PropertyFactory.getProp(Re,e.e,0,.01,this),this.o=PropertyFactory.getProp(Re,e.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=e.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(Re){Re.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(Re,e,Ee,Ce,Te){var De=[];e<=1?De.push({s:Re,e}):Re>=1?De.push({s:Re-1,e:e-1}):(De.push({s:Re,e:1}),De.push({s:0,e:e-1}));var Me=[],Oe,Be=De.length,ze;for(Oe=0;Oe<Be;Oe+=1)if(ze=De[Oe],!(ze.e*Te<Ce||ze.s*Te>Ce+Ee)){var Ve,qe;ze.s*Te<=Ce?Ve=0:Ve=(ze.s*Te-Ce)/Ee,ze.e*Te>=Ce+Ee?qe=1:qe=(ze.e*Te-Ce)/Ee,Me.push([Ve,qe])}return Me.length||Me.push([0,0]),Me},TrimModifier.prototype.releasePathsData=function(Re){var e,Ee=Re.length;for(e=0;e<Ee;e+=1)segmentsLengthPool.release(Re[e]);return Re.length=0,Re},TrimModifier.prototype.processShapes=function(Re){var e,Ee;if(this._mdf||Re){var Ce=this.o.v%360/360;if(Ce<0&&(Ce+=1),this.s.v>1?e=1+Ce:this.s.v<0?e=0+Ce:e=this.s.v+Ce,this.e.v>1?Ee=1+Ce:this.e.v<0?Ee=0+Ce:Ee=this.e.v+Ce,e>Ee){var Te=e;e=Ee,Ee=Te}e=Math.round(e*1e4)*1e-4,Ee=Math.round(Ee*1e4)*1e-4,this.sValue=e,this.eValue=Ee}else e=this.sValue,Ee=this.eValue;var De,Me,Oe=this.shapes.length,Be,ze,Ve,qe,We,Ge=0;if(Ee===e)for(Me=0;Me<Oe;Me+=1)this.shapes[Me].localShapeCollection.releaseShapes(),this.shapes[Me].shape._mdf=!0,this.shapes[Me].shape.paths=this.shapes[Me].localShapeCollection,this._mdf&&(this.shapes[Me].pathsData.length=0);else if(Ee===1&&e===0||Ee===0&&e===1){if(this._mdf)for(Me=0;Me<Oe;Me+=1)this.shapes[Me].pathsData.length=0,this.shapes[Me].shape._mdf=!0}else{var Je=[],Qe,ns;for(Me=0;Me<Oe;Me+=1)if(Qe=this.shapes[Me],!Qe.shape._mdf&&!this._mdf&&!Re&&this.m!==2)Qe.shape.paths=Qe.localShapeCollection;else{if(De=Qe.shape.paths,ze=De._length,We=0,!Qe.shape._mdf&&Qe.pathsData.length)We=Qe.totalShapeLength;else{for(Ve=this.releasePathsData(Qe.pathsData),Be=0;Be<ze;Be+=1)qe=bez.getSegmentsLength(De.shapes[Be]),Ve.push(qe),We+=qe.totalLength;Qe.totalShapeLength=We,Qe.pathsData=Ve}Ge+=We,Qe.shape._mdf=!0}var Ye=e,rs=Ee,ts=0,Xe;for(Me=Oe-1;Me>=0;Me-=1)if(Qe=this.shapes[Me],Qe.shape._mdf){for(ns=Qe.localShapeCollection,ns.releaseShapes(),this.m===2&&Oe>1?(Xe=this.calculateShapeEdges(e,Ee,Qe.totalShapeLength,ts,Ge),ts+=Qe.totalShapeLength):Xe=[[Ye,rs]],ze=Xe.length,Be=0;Be<ze;Be+=1){Ye=Xe[Be][0],rs=Xe[Be][1],Je.length=0,rs<=1?Je.push({s:Qe.totalShapeLength*Ye,e:Qe.totalShapeLength*rs}):Ye>=1?Je.push({s:Qe.totalShapeLength*(Ye-1),e:Qe.totalShapeLength*(rs-1)}):(Je.push({s:Qe.totalShapeLength*Ye,e:Qe.totalShapeLength}),Je.push({s:0,e:Qe.totalShapeLength*(rs-1)}));var is=this.addShapes(Qe,Je[0]);if(Je[0].s!==Je[0].e){if(Je.length>1){var os=Qe.shape.paths.shapes[Qe.shape.paths._length-1];if(os.c){var hs=is.pop();this.addPaths(is,ns),is=this.addShapes(Qe,Je[1],hs)}else this.addPaths(is,ns),is=this.addShapes(Qe,Je[1])}this.addPaths(is,ns)}}Qe.shape.paths=ns}}},TrimModifier.prototype.addPaths=function(Re,e){var Ee,Ce=Re.length;for(Ee=0;Ee<Ce;Ee+=1)e.addShape(Re[Ee])},TrimModifier.prototype.addSegment=function(Re,e,Ee,Ce,Te,De,Me){Te.setXYAt(e[0],e[1],"o",De),Te.setXYAt(Ee[0],Ee[1],"i",De+1),Me&&Te.setXYAt(Re[0],Re[1],"v",De),Te.setXYAt(Ce[0],Ce[1],"v",De+1)},TrimModifier.prototype.addSegmentFromArray=function(Re,e,Ee,Ce){e.setXYAt(Re[1],Re[5],"o",Ee),e.setXYAt(Re[2],Re[6],"i",Ee+1),Ce&&e.setXYAt(Re[0],Re[4],"v",Ee),e.setXYAt(Re[3],Re[7],"v",Ee+1)},TrimModifier.prototype.addShapes=function(Re,e,Ee){var Ce=Re.pathsData,Te=Re.shape.paths.shapes,De,Me=Re.shape.paths._length,Oe,Be,ze=0,Ve,qe,We,Ge,Je=[],Qe,ns=!0;for(Ee?(qe=Ee._length,Qe=Ee._length):(Ee=shapePool.newElement(),qe=0,Qe=0),Je.push(Ee),De=0;De<Me;De+=1){for(We=Ce[De].lengths,Ee.c=Te[De].c,Be=Te[De].c?We.length:We.length+1,Oe=1;Oe<Be;Oe+=1)if(Ve=We[Oe-1],ze+Ve.addedLength<e.s)ze+=Ve.addedLength,Ee.c=!1;else if(ze>e.e){Ee.c=!1;break}else e.s<=ze&&e.e>=ze+Ve.addedLength?(this.addSegment(Te[De].v[Oe-1],Te[De].o[Oe-1],Te[De].i[Oe],Te[De].v[Oe],Ee,qe,ns),ns=!1):(Ge=bez.getNewSegment(Te[De].v[Oe-1],Te[De].v[Oe],Te[De].o[Oe-1],Te[De].i[Oe],(e.s-ze)/Ve.addedLength,(e.e-ze)/Ve.addedLength,We[Oe-1]),this.addSegmentFromArray(Ge,Ee,qe,ns),ns=!1,Ee.c=!1),ze+=Ve.addedLength,qe+=1;if(Te[De].c&&We.length){if(Ve=We[Oe-1],ze<=e.e){var Ye=We[Oe-1].addedLength;e.s<=ze&&e.e>=ze+Ye?(this.addSegment(Te[De].v[Oe-1],Te[De].o[Oe-1],Te[De].i[0],Te[De].v[0],Ee,qe,ns),ns=!1):(Ge=bez.getNewSegment(Te[De].v[Oe-1],Te[De].v[0],Te[De].o[Oe-1],Te[De].i[0],(e.s-ze)/Ye,(e.e-ze)/Ye,We[Oe-1]),this.addSegmentFromArray(Ge,Ee,qe,ns),ns=!1,Ee.c=!1)}else Ee.c=!1;ze+=Ve.addedLength,qe+=1}if(Ee._length&&(Ee.setXYAt(Ee.v[Qe][0],Ee.v[Qe][1],"i",Qe),Ee.setXYAt(Ee.v[Ee._length-1][0],Ee.v[Ee._length-1][1],"o",Ee._length-1)),ze>e.e)break;De<Me-1&&(Ee=shapePool.newElement(),ns=!0,Je.push(Ee),qe=0)}return Je};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(Re,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(Re,e.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(Re,e){var Ee=e/100,Ce=[0,0],Te=Re._length,De=0;for(De=0;De<Te;De+=1)Ce[0]+=Re.v[De][0],Ce[1]+=Re.v[De][1];Ce[0]/=Te,Ce[1]/=Te;var Me=shapePool.newElement();Me.c=Re.c;var Oe,Be,ze,Ve,qe,We;for(De=0;De<Te;De+=1)Oe=Re.v[De][0]+(Ce[0]-Re.v[De][0])*Ee,Be=Re.v[De][1]+(Ce[1]-Re.v[De][1])*Ee,ze=Re.o[De][0]+(Ce[0]-Re.o[De][0])*-Ee,Ve=Re.o[De][1]+(Ce[1]-Re.o[De][1])*-Ee,qe=Re.i[De][0]+(Ce[0]-Re.i[De][0])*-Ee,We=Re.i[De][1]+(Ce[1]-Re.i[De][1])*-Ee,Me.setTripleAt(Oe,Be,ze,Ve,qe,We,De);return Me},PuckerAndBloatModifier.prototype.processShapes=function(Re){var e,Ee,Ce=this.shapes.length,Te,De,Me=this.amount.v;if(Me!==0){var Oe,Be;for(Ee=0;Ee<Ce;Ee+=1){if(Oe=this.shapes[Ee],Be=Oe.localShapeCollection,!(!Oe.shape._mdf&&!this._mdf&&!Re))for(Be.releaseShapes(),Oe.shape._mdf=!0,e=Oe.shape.paths.shapes,De=Oe.shape.paths._length,Te=0;Te<De;Te+=1)Be.addShape(this.processPath(e[Te],Me));Oe.shape.paths=Oe.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var Re=[0,0];function e(Be){var ze=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||ze,this.a&&Be.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&Be.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&Be.skewFromAxis(-this.sk.v,this.sa.v),this.r?Be.rotate(-this.r.v):Be.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?Be.translate(this.px.v,this.py.v,-this.pz.v):Be.translate(this.px.v,this.py.v,0):Be.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function Ee(Be){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||Be){var ze;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var Ve,qe;if(ze=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(Ve=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/ze,0),qe=this.p.getValueAtTime(this.p.keyframes[0].t/ze,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(Ve=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/ze,0),qe=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/ze,0)):(Ve=this.p.pv,qe=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/ze,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){Ve=[],qe=[];var We=this.px,Ge=this.py;We._caching.lastFrame+We.offsetTime<=We.keyframes[0].t?(Ve[0]=We.getValueAtTime((We.keyframes[0].t+.01)/ze,0),Ve[1]=Ge.getValueAtTime((Ge.keyframes[0].t+.01)/ze,0),qe[0]=We.getValueAtTime(We.keyframes[0].t/ze,0),qe[1]=Ge.getValueAtTime(Ge.keyframes[0].t/ze,0)):We._caching.lastFrame+We.offsetTime>=We.keyframes[We.keyframes.length-1].t?(Ve[0]=We.getValueAtTime(We.keyframes[We.keyframes.length-1].t/ze,0),Ve[1]=Ge.getValueAtTime(Ge.keyframes[Ge.keyframes.length-1].t/ze,0),qe[0]=We.getValueAtTime((We.keyframes[We.keyframes.length-1].t-.01)/ze,0),qe[1]=Ge.getValueAtTime((Ge.keyframes[Ge.keyframes.length-1].t-.01)/ze,0)):(Ve=[We.pv,Ge.pv],qe[0]=We.getValueAtTime((We._caching.lastFrame+We.offsetTime-.01)/ze,We.offsetTime),qe[1]=Ge.getValueAtTime((Ge._caching.lastFrame+Ge.offsetTime-.01)/ze,Ge.offsetTime))}else qe=Re,Ve=qe;this.v.rotate(-Math.atan2(Ve[1]-qe[1],Ve[0]-qe[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function Ce(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function Te(){}function De(Be){this._addDynamicProperty(Be),this.elem.addDynamicProperty(Be),this._isDirty=!0}function Me(Be,ze,Ve){if(this.elem=Be,this.frameId=-1,this.propType="transform",this.data=ze,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(Ve||Be),ze.p&&ze.p.s?(this.px=PropertyFactory.getProp(Be,ze.p.x,0,0,this),this.py=PropertyFactory.getProp(Be,ze.p.y,0,0,this),ze.p.z&&(this.pz=PropertyFactory.getProp(Be,ze.p.z,0,0,this))):this.p=PropertyFactory.getProp(Be,ze.p||{k:[0,0,0]},1,0,this),ze.rx){if(this.rx=PropertyFactory.getProp(Be,ze.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(Be,ze.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(Be,ze.rz,0,degToRads,this),ze.or.k[0].ti){var qe,We=ze.or.k.length;for(qe=0;qe<We;qe+=1)ze.or.k[qe].to=null,ze.or.k[qe].ti=null}this.or=PropertyFactory.getProp(Be,ze.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(Be,ze.r||{k:0},0,degToRads,this);ze.sk&&(this.sk=PropertyFactory.getProp(Be,ze.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(Be,ze.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(Be,ze.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(Be,ze.s||{k:[100,100,100]},1,.01,this),ze.o?this.o=PropertyFactory.getProp(Be,ze.o,0,.01,Be):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}Me.prototype={applyToMatrix:e,getValue:Ee,precalculateMatrix:Ce,autoOrient:Te},extendPrototype([DynamicPropertyContainer],Me),Me.prototype.addDynamicProperty=De,Me.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function Oe(Be,ze,Ve){return new Me(Be,ze,Ve)}return{getTransformProperty:Oe}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(Re,e){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(Re,e.c,0,null,this),this.o=PropertyFactory.getProp(Re,e.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(Re,e.tr,this),this.so=PropertyFactory.getProp(Re,e.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(Re,e.tr.eo,0,.01,this),this.data=e,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(Re,e,Ee,Ce,Te,De){var Me=De?-1:1,Oe=Ce.s.v[0]+(1-Ce.s.v[0])*(1-Te),Be=Ce.s.v[1]+(1-Ce.s.v[1])*(1-Te);Re.translate(Ce.p.v[0]*Me*Te,Ce.p.v[1]*Me*Te,Ce.p.v[2]),e.translate(-Ce.a.v[0],-Ce.a.v[1],Ce.a.v[2]),e.rotate(-Ce.r.v*Me*Te),e.translate(Ce.a.v[0],Ce.a.v[1],Ce.a.v[2]),Ee.translate(-Ce.a.v[0],-Ce.a.v[1],Ce.a.v[2]),Ee.scale(De?1/Oe:Oe,De?1/Be:Be),Ee.translate(Ce.a.v[0],Ce.a.v[1],Ce.a.v[2])},RepeaterModifier.prototype.init=function(Re,e,Ee,Ce){for(this.elem=Re,this.arr=e,this.pos=Ee,this.elemsData=Ce,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(Re),this.initModifierProperties(Re,e[Ee]);Ee>0;)Ee-=1,this._elements.unshift(e[Ee]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(Re){var e,Ee=Re.length;for(e=0;e<Ee;e+=1)Re[e]._processed=!1,Re[e].ty==="gr"&&this.resetElements(Re[e].it)},RepeaterModifier.prototype.cloneElements=function(Re){var e=JSON.parse(JSON.stringify(Re));return this.resetElements(e),e},RepeaterModifier.prototype.changeGroupRender=function(Re,e){var Ee,Ce=Re.length;for(Ee=0;Ee<Ce;Ee+=1)Re[Ee]._render=e,Re[Ee].ty==="gr"&&this.changeGroupRender(Re[Ee].it,e)},RepeaterModifier.prototype.processShapes=function(Re){var e,Ee,Ce,Te,De,Me=!1;if(this._mdf||Re){var Oe=Math.ceil(this.c.v);if(this._groups.length<Oe){for(;this._groups.length<Oe;){var Be={it:this.cloneElements(this._elements),ty:"gr"};Be.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,Be),this._groups.splice(0,0,Be),this._currentCopies+=1}this.elem.reloadShapes(),Me=!0}De=0;var ze;for(Ce=0;Ce<=this._groups.length-1;Ce+=1){if(ze=De<Oe,this._groups[Ce]._render=ze,this.changeGroupRender(this._groups[Ce].it,ze),!ze){var Ve=this.elemsData[Ce].it,qe=Ve[Ve.length-1];qe.transform.op.v!==0?(qe.transform.op._mdf=!0,qe.transform.op.v=0):qe.transform.op._mdf=!1}De+=1}this._currentCopies=Oe;var We=this.o.v,Ge=We%1,Je=We>0?Math.floor(We):Math.ceil(We),Qe=this.pMatrix.props,ns=this.rMatrix.props,Ye=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var rs=0;if(We>0){for(;rs<Je;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),rs+=1;Ge&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,Ge,!1),rs+=Ge)}else if(We<0){for(;rs>Je;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),rs-=1;Ge&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-Ge,!0),rs-=Ge)}Ce=this.data.m===1?0:this._currentCopies-1,Te=this.data.m===1?1:-1,De=this._currentCopies;for(var ts,Xe;De;){if(e=this.elemsData[Ce].it,Ee=e[e.length-1].transform.mProps.v.props,Xe=Ee.length,e[e.length-1].transform.mProps._mdf=!0,e[e.length-1].transform.op._mdf=!0,e[e.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(Ce/(this._currentCopies-1)),rs!==0){for((Ce!==0&&Te===1||Ce!==this._currentCopies-1&&Te===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(ns[0],ns[1],ns[2],ns[3],ns[4],ns[5],ns[6],ns[7],ns[8],ns[9],ns[10],ns[11],ns[12],ns[13],ns[14],ns[15]),this.matrix.transform(Ye[0],Ye[1],Ye[2],Ye[3],Ye[4],Ye[5],Ye[6],Ye[7],Ye[8],Ye[9],Ye[10],Ye[11],Ye[12],Ye[13],Ye[14],Ye[15]),this.matrix.transform(Qe[0],Qe[1],Qe[2],Qe[3],Qe[4],Qe[5],Qe[6],Qe[7],Qe[8],Qe[9],Qe[10],Qe[11],Qe[12],Qe[13],Qe[14],Qe[15]),ts=0;ts<Xe;ts+=1)Ee[ts]=this.matrix.props[ts];this.matrix.reset()}else for(this.matrix.reset(),ts=0;ts<Xe;ts+=1)Ee[ts]=this.matrix.props[ts];rs+=1,De-=1,Ce+=Te}}else for(De=this._currentCopies,Ce=0,Te=1;De;)e=this.elemsData[Ce].it,Ee=e[e.length-1].transform.mProps.v.props,e[e.length-1].transform.mProps._mdf=!1,e[e.length-1].transform.op._mdf=!1,De-=1,Ce+=Te;return Me},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(Re,e){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(Re,e.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(Re,e){var Ee=shapePool.newElement();Ee.c=Re.c;var Ce,Te=Re._length,De,Me,Oe,Be,ze,Ve,qe=0,We,Ge,Je,Qe,ns,Ye;for(Ce=0;Ce<Te;Ce+=1)De=Re.v[Ce],Oe=Re.o[Ce],Me=Re.i[Ce],De[0]===Oe[0]&&De[1]===Oe[1]&&De[0]===Me[0]&&De[1]===Me[1]?(Ce===0||Ce===Te-1)&&!Re.c?(Ee.setTripleAt(De[0],De[1],Oe[0],Oe[1],Me[0],Me[1],qe),qe+=1):(Ce===0?Be=Re.v[Te-1]:Be=Re.v[Ce-1],ze=Math.sqrt(Math.pow(De[0]-Be[0],2)+Math.pow(De[1]-Be[1],2)),Ve=ze?Math.min(ze/2,e)/ze:0,ns=De[0]+(Be[0]-De[0])*Ve,We=ns,Ye=De[1]-(De[1]-Be[1])*Ve,Ge=Ye,Je=We-(We-De[0])*roundCorner,Qe=Ge-(Ge-De[1])*roundCorner,Ee.setTripleAt(We,Ge,Je,Qe,ns,Ye,qe),qe+=1,Ce===Te-1?Be=Re.v[0]:Be=Re.v[Ce+1],ze=Math.sqrt(Math.pow(De[0]-Be[0],2)+Math.pow(De[1]-Be[1],2)),Ve=ze?Math.min(ze/2,e)/ze:0,Je=De[0]+(Be[0]-De[0])*Ve,We=Je,Qe=De[1]+(Be[1]-De[1])*Ve,Ge=Qe,ns=We-(We-De[0])*roundCorner,Ye=Ge-(Ge-De[1])*roundCorner,Ee.setTripleAt(We,Ge,Je,Qe,ns,Ye,qe),qe+=1):(Ee.setTripleAt(Re.v[Ce][0],Re.v[Ce][1],Re.o[Ce][0],Re.o[Ce][1],Re.i[Ce][0],Re.i[Ce][1],qe),qe+=1);return Ee},RoundCornersModifier.prototype.processShapes=function(Re){var e,Ee,Ce=this.shapes.length,Te,De,Me=this.rd.v;if(Me!==0){var Oe,Be;for(Ee=0;Ee<Ce;Ee+=1){if(Oe=this.shapes[Ee],Be=Oe.localShapeCollection,!(!Oe.shape._mdf&&!this._mdf&&!Re))for(Be.releaseShapes(),Oe.shape._mdf=!0,e=Oe.shape.paths.shapes,De=Oe.shape.paths._length,Te=0;Te<De;Te+=1)Be.addShape(this.processPath(e[Te],Me));Oe.shape.paths=Oe.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(Re,e){return Math.abs(Re-e)*1e5<=Math.min(Math.abs(Re),Math.abs(e))}function floatZero(Re){return Math.abs(Re)<=1e-5}function lerp(Re,e,Ee){return Re*(1-Ee)+e*Ee}function lerpPoint(Re,e,Ee){return[lerp(Re[0],e[0],Ee),lerp(Re[1],e[1],Ee)]}function quadRoots(Re,e,Ee){if(Re===0)return[];var Ce=e*e-4*Re*Ee;if(Ce<0)return[];var Te=-e/(2*Re);if(Ce===0)return[Te];var De=Math.sqrt(Ce)/(2*Re);return[Te-De,Te+De]}function polynomialCoefficients(Re,e,Ee,Ce){return[-Re+3*e-3*Ee+Ce,3*Re-6*e+3*Ee,-3*Re+3*e,Re]}function singlePoint(Re){return new PolynomialBezier(Re,Re,Re,Re,!1)}function PolynomialBezier(Re,e,Ee,Ce,Te){Te&&pointEqual(Re,e)&&(e=lerpPoint(Re,Ce,1/3)),Te&&pointEqual(Ee,Ce)&&(Ee=lerpPoint(Re,Ce,2/3));var De=polynomialCoefficients(Re[0],e[0],Ee[0],Ce[0]),Me=polynomialCoefficients(Re[1],e[1],Ee[1],Ce[1]);this.a=[De[0],Me[0]],this.b=[De[1],Me[1]],this.c=[De[2],Me[2]],this.d=[De[3],Me[3]],this.points=[Re,e,Ee,Ce]}PolynomialBezier.prototype.point=function(Re){return[((this.a[0]*Re+this.b[0])*Re+this.c[0])*Re+this.d[0],((this.a[1]*Re+this.b[1])*Re+this.c[1])*Re+this.d[1]]},PolynomialBezier.prototype.derivative=function(Re){return[(3*Re*this.a[0]+2*this.b[0])*Re+this.c[0],(3*Re*this.a[1]+2*this.b[1])*Re+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(Re){var e=this.derivative(Re);return Math.atan2(e[1],e[0])},PolynomialBezier.prototype.normalAngle=function(Re){var e=this.derivative(Re);return Math.atan2(e[0],e[1])},PolynomialBezier.prototype.inflectionPoints=function(){var Re=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(Re))return[];var e=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/Re,Ee=e*e-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/Re;if(Ee<0)return[];var Ce=Math.sqrt(Ee);return floatZero(Ce)?Ce>0&&Ce<1?[e]:[]:[e-Ce,e+Ce].filter(function(Te){return Te>0&&Te<1})},PolynomialBezier.prototype.split=function(Re){if(Re<=0)return[singlePoint(this.points[0]),this];if(Re>=1)return[this,singlePoint(this.points[this.points.length-1])];var e=lerpPoint(this.points[0],this.points[1],Re),Ee=lerpPoint(this.points[1],this.points[2],Re),Ce=lerpPoint(this.points[2],this.points[3],Re),Te=lerpPoint(e,Ee,Re),De=lerpPoint(Ee,Ce,Re),Me=lerpPoint(Te,De,Re);return[new PolynomialBezier(this.points[0],e,Te,Me,!0),new PolynomialBezier(Me,De,Ce,this.points[3],!0)]};function extrema(Re,e){var Ee=Re.points[0][e],Ce=Re.points[Re.points.length-1][e];if(Ee>Ce){var Te=Ce;Ce=Ee,Ee=Te}for(var De=quadRoots(3*Re.a[e],2*Re.b[e],Re.c[e]),Me=0;Me<De.length;Me+=1)if(De[Me]>0&&De[Me]<1){var Oe=Re.point(De[Me])[e];Oe<Ee?Ee=Oe:Oe>Ce&&(Ce=Oe)}return{min:Ee,max:Ce}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var Re=this.bounds();return{left:Re.x.min,right:Re.x.max,top:Re.y.min,bottom:Re.y.max,width:Re.x.max-Re.x.min,height:Re.y.max-Re.y.min,cx:(Re.x.max+Re.x.min)/2,cy:(Re.y.max+Re.y.min)/2}};function intersectData(Re,e,Ee){var Ce=Re.boundingBox();return{cx:Ce.cx,cy:Ce.cy,width:Ce.width,height:Ce.height,bez:Re,t:(e+Ee)/2,t1:e,t2:Ee}}function splitData(Re){var e=Re.bez.split(.5);return[intersectData(e[0],Re.t1,Re.t),intersectData(e[1],Re.t,Re.t2)]}function boxIntersect(Re,e){return Math.abs(Re.cx-e.cx)*2<Re.width+e.width&&Math.abs(Re.cy-e.cy)*2<Re.height+e.height}function intersectsImpl(Re,e,Ee,Ce,Te,De){if(boxIntersect(Re,e)){if(Ee>=De||Re.width<=Ce&&Re.height<=Ce&&e.width<=Ce&&e.height<=Ce){Te.push([Re.t,e.t]);return}var Me=splitData(Re),Oe=splitData(e);intersectsImpl(Me[0],Oe[0],Ee+1,Ce,Te,De),intersectsImpl(Me[0],Oe[1],Ee+1,Ce,Te,De),intersectsImpl(Me[1],Oe[0],Ee+1,Ce,Te,De),intersectsImpl(Me[1],Oe[1],Ee+1,Ce,Te,De)}}PolynomialBezier.prototype.intersections=function(Re,e,Ee){e===void 0&&(e=2),Ee===void 0&&(Ee=7);var Ce=[];return intersectsImpl(intersectData(this,0,1),intersectData(Re,0,1),0,e,Ce,Ee),Ce},PolynomialBezier.shapeSegment=function(Re,e){var Ee=(e+1)%Re.length();return new PolynomialBezier(Re.v[e],Re.o[e],Re.i[Ee],Re.v[Ee],!0)},PolynomialBezier.shapeSegmentInverted=function(Re,e){var Ee=(e+1)%Re.length();return new PolynomialBezier(Re.v[Ee],Re.i[Ee],Re.o[e],Re.v[e],!0)};function crossProduct(Re,e){return[Re[1]*e[2]-Re[2]*e[1],Re[2]*e[0]-Re[0]*e[2],Re[0]*e[1]-Re[1]*e[0]]}function lineIntersection(Re,e,Ee,Ce){var Te=[Re[0],Re[1],1],De=[e[0],e[1],1],Me=[Ee[0],Ee[1],1],Oe=[Ce[0],Ce[1],1],Be=crossProduct(crossProduct(Te,De),crossProduct(Me,Oe));return floatZero(Be[2])?null:[Be[0]/Be[2],Be[1]/Be[2]]}function polarOffset(Re,e,Ee){return[Re[0]+Math.cos(e)*Ee,Re[1]-Math.sin(e)*Ee]}function pointDistance(Re,e){return Math.hypot(Re[0]-e[0],Re[1]-e[1])}function pointEqual(Re,e){return floatEqual(Re[0],e[0])&&floatEqual(Re[1],e[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(Re,e){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(Re,e.s,0,null,this),this.frequency=PropertyFactory.getProp(Re,e.r,0,null,this),this.pointsType=PropertyFactory.getProp(Re,e.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(Re,e,Ee,Ce,Te,De,Me){var Oe=Ee-Math.PI/2,Be=Ee+Math.PI/2,ze=e[0]+Math.cos(Ee)*Ce*Te,Ve=e[1]-Math.sin(Ee)*Ce*Te;Re.setTripleAt(ze,Ve,ze+Math.cos(Oe)*De,Ve-Math.sin(Oe)*De,ze+Math.cos(Be)*Me,Ve-Math.sin(Be)*Me,Re.length())}function getPerpendicularVector(Re,e){var Ee=[e[0]-Re[0],e[1]-Re[1]],Ce=-Math.PI*.5,Te=[Math.cos(Ce)*Ee[0]-Math.sin(Ce)*Ee[1],Math.sin(Ce)*Ee[0]+Math.cos(Ce)*Ee[1]];return Te}function getProjectingAngle(Re,e){var Ee=e===0?Re.length()-1:e-1,Ce=(e+1)%Re.length(),Te=Re.v[Ee],De=Re.v[Ce],Me=getPerpendicularVector(Te,De);return Math.atan2(0,1)-Math.atan2(Me[1],Me[0])}function zigZagCorner(Re,e,Ee,Ce,Te,De,Me){var Oe=getProjectingAngle(e,Ee),Be=e.v[Ee%e._length],ze=e.v[Ee===0?e._length-1:Ee-1],Ve=e.v[(Ee+1)%e._length],qe=De===2?Math.sqrt(Math.pow(Be[0]-ze[0],2)+Math.pow(Be[1]-ze[1],2)):0,We=De===2?Math.sqrt(Math.pow(Be[0]-Ve[0],2)+Math.pow(Be[1]-Ve[1],2)):0;setPoint(Re,e.v[Ee%e._length],Oe,Me,Ce,We/((Te+1)*2),qe/((Te+1)*2))}function zigZagSegment(Re,e,Ee,Ce,Te,De){for(var Me=0;Me<Ce;Me+=1){var Oe=(Me+1)/(Ce+1),Be=Te===2?Math.sqrt(Math.pow(e.points[3][0]-e.points[0][0],2)+Math.pow(e.points[3][1]-e.points[0][1],2)):0,ze=e.normalAngle(Oe),Ve=e.point(Oe);setPoint(Re,Ve,ze,De,Ee,Be/((Ce+1)*2),Be/((Ce+1)*2)),De=-De}return De}ZigZagModifier.prototype.processPath=function(Re,e,Ee,Ce){var Te=Re._length,De=shapePool.newElement();if(De.c=Re.c,Re.c||(Te-=1),Te===0)return De;var Me=-1,Oe=PolynomialBezier.shapeSegment(Re,0);zigZagCorner(De,Re,0,e,Ee,Ce,Me);for(var Be=0;Be<Te;Be+=1)Me=zigZagSegment(De,Oe,e,Ee,Ce,-Me),Be===Te-1&&!Re.c?Oe=null:Oe=PolynomialBezier.shapeSegment(Re,(Be+1)%Te),zigZagCorner(De,Re,Be+1,e,Ee,Ce,Me);return De},ZigZagModifier.prototype.processShapes=function(Re){var e,Ee,Ce=this.shapes.length,Te,De,Me=this.amplitude.v,Oe=Math.max(0,Math.round(this.frequency.v)),Be=this.pointsType.v;if(Me!==0){var ze,Ve;for(Ee=0;Ee<Ce;Ee+=1){if(ze=this.shapes[Ee],Ve=ze.localShapeCollection,!(!ze.shape._mdf&&!this._mdf&&!Re))for(Ve.releaseShapes(),ze.shape._mdf=!0,e=ze.shape.paths.shapes,De=ze.shape.paths._length,Te=0;Te<De;Te+=1)Ve.addShape(this.processPath(e[Te],Me,Oe,Be));ze.shape.paths=ze.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(Re,e,Ee){var Ce=Math.atan2(e[0]-Re[0],e[1]-Re[1]);return[polarOffset(Re,Ce,Ee),polarOffset(e,Ce,Ee)]}function offsetSegment(Re,e){var Ee,Ce,Te,De,Me,Oe,Be;Be=linearOffset(Re.points[0],Re.points[1],e),Ee=Be[0],Ce=Be[1],Be=linearOffset(Re.points[1],Re.points[2],e),Te=Be[0],De=Be[1],Be=linearOffset(Re.points[2],Re.points[3],e),Me=Be[0],Oe=Be[1];var ze=lineIntersection(Ee,Ce,Te,De);ze===null&&(ze=Ce);var Ve=lineIntersection(Me,Oe,Te,De);return Ve===null&&(Ve=Me),new PolynomialBezier(Ee,ze,Ve,Oe)}function joinLines(Re,e,Ee,Ce,Te){var De=e.points[3],Me=Ee.points[0];if(Ce===3||pointEqual(De,Me))return De;if(Ce===2){var Oe=-e.tangentAngle(1),Be=-Ee.tangentAngle(0)+Math.PI,ze=lineIntersection(De,polarOffset(De,Oe+Math.PI/2,100),Me,polarOffset(Me,Oe+Math.PI/2,100)),Ve=ze?pointDistance(ze,De):pointDistance(De,Me)/2,qe=polarOffset(De,Oe,2*Ve*roundCorner);return Re.setXYAt(qe[0],qe[1],"o",Re.length()-1),qe=polarOffset(Me,Be,2*Ve*roundCorner),Re.setTripleAt(Me[0],Me[1],Me[0],Me[1],qe[0],qe[1],Re.length()),Me}var We=pointEqual(De,e.points[2])?e.points[0]:e.points[2],Ge=pointEqual(Me,Ee.points[1])?Ee.points[3]:Ee.points[1],Je=lineIntersection(We,De,Me,Ge);return Je&&pointDistance(Je,De)<Te?(Re.setTripleAt(Je[0],Je[1],Je[0],Je[1],Je[0],Je[1],Re.length()),Je):De}function getIntersection(Re,e){var Ee=Re.intersections(e);return Ee.length&&floatEqual(Ee[0][0],1)&&Ee.shift(),Ee.length?Ee[0]:null}function pruneSegmentIntersection(Re,e){var Ee=Re.slice(),Ce=e.slice(),Te=getIntersection(Re[Re.length-1],e[0]);return Te&&(Ee[Re.length-1]=Re[Re.length-1].split(Te[0])[0],Ce[0]=e[0].split(Te[1])[1]),Re.length>1&&e.length>1&&(Te=getIntersection(Re[0],e[e.length-1]),Te)?[[Re[0].split(Te[0])[0]],[e[e.length-1].split(Te[1])[1]]]:[Ee,Ce]}function pruneIntersections(Re){for(var e,Ee=1;Ee<Re.length;Ee+=1)e=pruneSegmentIntersection(Re[Ee-1],Re[Ee]),Re[Ee-1]=e[0],Re[Ee]=e[1];return Re.length>1&&(e=pruneSegmentIntersection(Re[Re.length-1],Re[0]),Re[Re.length-1]=e[0],Re[0]=e[1]),Re}function offsetSegmentSplit(Re,e){var Ee=Re.inflectionPoints(),Ce,Te,De,Me;if(Ee.length===0)return[offsetSegment(Re,e)];if(Ee.length===1||floatEqual(Ee[1],1))return De=Re.split(Ee[0]),Ce=De[0],Te=De[1],[offsetSegment(Ce,e),offsetSegment(Te,e)];De=Re.split(Ee[0]),Ce=De[0];var Oe=(Ee[1]-Ee[0])/(1-Ee[0]);return De=De[1].split(Oe),Me=De[0],Te=De[1],[offsetSegment(Ce,e),offsetSegment(Me,e),offsetSegment(Te,e)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(Re,e){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(Re,e.a,0,null,this),this.miterLimit=PropertyFactory.getProp(Re,e.ml,0,null,this),this.lineJoin=e.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(Re,e,Ee,Ce){var Te=shapePool.newElement();Te.c=Re.c;var De=Re.length();Re.c||(De-=1);var Me,Oe,Be,ze=[];for(Me=0;Me<De;Me+=1)Be=PolynomialBezier.shapeSegment(Re,Me),ze.push(offsetSegmentSplit(Be,e));if(!Re.c)for(Me=De-1;Me>=0;Me-=1)Be=PolynomialBezier.shapeSegmentInverted(Re,Me),ze.push(offsetSegmentSplit(Be,e));ze=pruneIntersections(ze);var Ve=null,qe=null;for(Me=0;Me<ze.length;Me+=1){var We=ze[Me];for(qe&&(Ve=joinLines(Te,qe,We[0],Ee,Ce)),qe=We[We.length-1],Oe=0;Oe<We.length;Oe+=1)Be=We[Oe],Ve&&pointEqual(Be.points[0],Ve)?Te.setXYAt(Be.points[1][0],Be.points[1][1],"o",Te.length()-1):Te.setTripleAt(Be.points[0][0],Be.points[0][1],Be.points[1][0],Be.points[1][1],Be.points[0][0],Be.points[0][1],Te.length()),Te.setTripleAt(Be.points[3][0],Be.points[3][1],Be.points[3][0],Be.points[3][1],Be.points[2][0],Be.points[2][1],Te.length()),Ve=Be.points[3]}return ze.length&&joinLines(Te,qe,ze[0][0],Ee,Ce),Te},OffsetPathModifier.prototype.processShapes=function(Re){var e,Ee,Ce=this.shapes.length,Te,De,Me=this.amount.v,Oe=this.miterLimit.v,Be=this.lineJoin;if(Me!==0){var ze,Ve;for(Ee=0;Ee<Ce;Ee+=1){if(ze=this.shapes[Ee],Ve=ze.localShapeCollection,!(!ze.shape._mdf&&!this._mdf&&!Re))for(Ve.releaseShapes(),ze.shape._mdf=!0,e=ze.shape.paths.shapes,De=ze.shape.paths._length,Te=0;Te<De;Te+=1)Ve.addShape(this.processPath(e[Te],Me,Be,Oe));ze.shape.paths=ze.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(Re){for(var e=Re.fStyle?Re.fStyle.split(" "):[],Ee="normal",Ce="normal",Te=e.length,De,Me=0;Me<Te;Me+=1)switch(De=e[Me].toLowerCase(),De){case"italic":Ce="italic";break;case"bold":Ee="700";break;case"black":Ee="900";break;case"medium":Ee="500";break;case"regular":case"normal":Ee="400";break;case"light":case"thin":Ee="200";break}return{style:Ce,weight:Re.fWeight||Ee}}var FontManager=function(){var Re=5e3,e={w:0,size:0,shapes:[],data:{shapes:[]}},Ee=[];Ee=Ee.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var Ce=127988,Te=917631,De=917601,Me=917626,Oe=65039,Be=8205,ze=127462,Ve=127487,qe=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function We(bs){var Ns=bs.split(","),ps,_s=Ns.length,ws=[];for(ps=0;ps<_s;ps+=1)Ns[ps]!=="sans-serif"&&Ns[ps]!=="monospace"&&ws.push(Ns[ps]);return ws.join(",")}function Ge(bs,Ns){var ps=createTag("span");ps.setAttribute("aria-hidden",!0),ps.style.fontFamily=Ns;var _s=createTag("span");_s.innerText="giItT1WQy@!-/#",ps.style.position="absolute",ps.style.left="-10000px",ps.style.top="-10000px",ps.style.fontSize="300px",ps.style.fontVariant="normal",ps.style.fontStyle="normal",ps.style.fontWeight="normal",ps.style.letterSpacing="0",ps.appendChild(_s),document.body.appendChild(ps);var ws=_s.offsetWidth;return _s.style.fontFamily=We(bs)+", "+Ns,{node:_s,w:ws,parent:ps}}function Je(){var bs,Ns=this.fonts.length,ps,_s,ws=Ns;for(bs=0;bs<Ns;bs+=1)this.fonts[bs].loaded?ws-=1:this.fonts[bs].fOrigin==="n"||this.fonts[bs].origin===0?this.fonts[bs].loaded=!0:(ps=this.fonts[bs].monoCase.node,_s=this.fonts[bs].monoCase.w,ps.offsetWidth!==_s?(ws-=1,this.fonts[bs].loaded=!0):(ps=this.fonts[bs].sansCase.node,_s=this.fonts[bs].sansCase.w,ps.offsetWidth!==_s&&(ws-=1,this.fonts[bs].loaded=!0)),this.fonts[bs].loaded&&(this.fonts[bs].sansCase.parent.parentNode.removeChild(this.fonts[bs].sansCase.parent),this.fonts[bs].monoCase.parent.parentNode.removeChild(this.fonts[bs].monoCase.parent)));ws!==0&&Date.now()-this.initTime<Re?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function Qe(bs,Ns){var ps=document.body&&Ns?"svg":"canvas",_s,ws=getFontProperties(bs);if(ps==="svg"){var js=createNS("text");js.style.fontSize="100px",js.setAttribute("font-family",bs.fFamily),js.setAttribute("font-style",ws.style),js.setAttribute("font-weight",ws.weight),js.textContent="1",bs.fClass?(js.style.fontFamily="inherit",js.setAttribute("class",bs.fClass)):js.style.fontFamily=bs.fFamily,Ns.appendChild(js),_s=js}else{var ms=new OffscreenCanvas(500,500).getContext("2d");ms.font=ws.style+" "+ws.weight+" 100px "+bs.fFamily,_s=ms}function ys(ks){return ps==="svg"?(_s.textContent=ks,_s.getComputedTextLength()):_s.measureText(ks).width}return{measureText:ys}}function ns(bs,Ns){if(!bs){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=bs.list;return}if(!document.body){this.isLoaded=!0,bs.list.forEach(function(Us){Us.helper=Qe(Us),Us.cache={}}),this.fonts=bs.list;return}var ps=bs.list,_s,ws=ps.length,js=ws;for(_s=0;_s<ws;_s+=1){var ms=!0,ys,ks;if(ps[_s].loaded=!1,ps[_s].monoCase=Ge(ps[_s].fFamily,"monospace"),ps[_s].sansCase=Ge(ps[_s].fFamily,"sans-serif"),!ps[_s].fPath)ps[_s].loaded=!0,js-=1;else if(ps[_s].fOrigin==="p"||ps[_s].origin===3){if(ys=document.querySelectorAll('style[f-forigin="p"][f-family="'+ps[_s].fFamily+'"], style[f-origin="3"][f-family="'+ps[_s].fFamily+'"]'),ys.length>0&&(ms=!1),ms){var zs=createTag("style");zs.setAttribute("f-forigin",ps[_s].fOrigin),zs.setAttribute("f-origin",ps[_s].origin),zs.setAttribute("f-family",ps[_s].fFamily),zs.type="text/css",zs.innerText="@font-face {font-family: "+ps[_s].fFamily+"; font-style: normal; src: url('"+ps[_s].fPath+"');}",Ns.appendChild(zs)}}else if(ps[_s].fOrigin==="g"||ps[_s].origin===1){for(ys=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),ks=0;ks<ys.length;ks+=1)ys[ks].href.indexOf(ps[_s].fPath)!==-1&&(ms=!1);if(ms){var Cs=createTag("link");Cs.setAttribute("f-forigin",ps[_s].fOrigin),Cs.setAttribute("f-origin",ps[_s].origin),Cs.type="text/css",Cs.rel="stylesheet",Cs.href=ps[_s].fPath,document.body.appendChild(Cs)}}else if(ps[_s].fOrigin==="t"||ps[_s].origin===2){for(ys=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),ks=0;ks<ys.length;ks+=1)ps[_s].fPath===ys[ks].src&&(ms=!1);if(ms){var Ps=createTag("link");Ps.setAttribute("f-forigin",ps[_s].fOrigin),Ps.setAttribute("f-origin",ps[_s].origin),Ps.setAttribute("rel","stylesheet"),Ps.setAttribute("href",ps[_s].fPath),Ns.appendChild(Ps)}}ps[_s].helper=Qe(ps[_s],Ns),ps[_s].cache={},this.fonts.push(ps[_s])}js===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function Ye(bs){if(bs){this.chars||(this.chars=[]);var Ns,ps=bs.length,_s,ws=this.chars.length,js;for(Ns=0;Ns<ps;Ns+=1){for(_s=0,js=!1;_s<ws;)this.chars[_s].style===bs[Ns].style&&this.chars[_s].fFamily===bs[Ns].fFamily&&this.chars[_s].ch===bs[Ns].ch&&(js=!0),_s+=1;js||(this.chars.push(bs[Ns]),ws+=1)}}}function rs(bs,Ns,ps){for(var _s=0,ws=this.chars.length;_s<ws;){if(this.chars[_s].ch===bs&&this.chars[_s].style===Ns&&this.chars[_s].fFamily===ps)return this.chars[_s];_s+=1}return(typeof bs=="string"&&bs.charCodeAt(0)!==13||!bs)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",bs,Ns,ps)),e}function ts(bs,Ns,ps){var _s=this.getFontByName(Ns),ws=bs;if(!_s.cache[ws]){var js=_s.helper;if(bs===" "){var ms=js.measureText("|"+bs+"|"),ys=js.measureText("||");_s.cache[ws]=(ms-ys)/100}else _s.cache[ws]=js.measureText(bs)/100}return _s.cache[ws]*ps}function Xe(bs){for(var Ns=0,ps=this.fonts.length;Ns<ps;){if(this.fonts[Ns].fName===bs)return this.fonts[Ns];Ns+=1}return this.fonts[0]}function is(bs){var Ns=0,ps=bs.charCodeAt(0);if(ps>=55296&&ps<=56319){var _s=bs.charCodeAt(1);_s>=56320&&_s<=57343&&(Ns=(ps-55296)*1024+_s-56320+65536)}return Ns}function os(bs,Ns){var ps=bs.toString(16)+Ns.toString(16);return qe.indexOf(ps)!==-1}function hs(bs){return bs===Be}function fs(bs){return bs===Oe}function xs(bs){var Ns=is(bs);return Ns>=ze&&Ns<=Ve}function Ss(bs){return xs(bs.substr(0,2))&&xs(bs.substr(2,2))}function ds(bs){return Ee.indexOf(bs)!==-1}function gs(bs,Ns){var ps=is(bs.substr(Ns,2));if(ps!==Ce)return!1;var _s=0;for(Ns+=2;_s<5;){if(ps=is(bs.substr(Ns,2)),ps<De||ps>Me)return!1;_s+=1,Ns+=2}return is(bs.substr(Ns,2))===Te}function Ts(){this.isLoaded=!0}var Ds=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Ds.isModifier=os,Ds.isZeroWidthJoiner=hs,Ds.isFlagEmoji=Ss,Ds.isRegionalCode=xs,Ds.isCombinedCharacter=ds,Ds.isRegionalFlag=gs,Ds.isVariationSelector=fs,Ds.BLACK_FLAG_CODE_POINT=Ce;var Ms={addChars:Ye,addFonts:ns,getCharData:rs,getFontByName:Xe,measureText:ts,checkLoadedFonts:Je,setIsLoaded:Ts};return Ds.prototype=Ms,Ds}();function SlotManager(Re){this.animationData=Re}SlotManager.prototype.getProp=function(Re){return this.animationData.slots&&this.animationData.slots[Re.sid]?Object.assign(Re,this.animationData.slots[Re.sid].p):Re};function slotFactory(Re){return new SlotManager(Re)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){this.renderableComponents.indexOf(e)===-1&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){this.renderableComponents.indexOf(e)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,Ee=this.renderableComponents.length;for(e=0;e<Ee;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var Re={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(e){return Re[e]||""}}();function SliderEffect(Re,e,Ee){this.p=PropertyFactory.getProp(e,Re.v,0,0,Ee)}function AngleEffect(Re,e,Ee){this.p=PropertyFactory.getProp(e,Re.v,0,0,Ee)}function ColorEffect(Re,e,Ee){this.p=PropertyFactory.getProp(e,Re.v,1,0,Ee)}function PointEffect(Re,e,Ee){this.p=PropertyFactory.getProp(e,Re.v,1,0,Ee)}function LayerIndexEffect(Re,e,Ee){this.p=PropertyFactory.getProp(e,Re.v,0,0,Ee)}function MaskIndexEffect(Re,e,Ee){this.p=PropertyFactory.getProp(e,Re.v,0,0,Ee)}function CheckboxEffect(Re,e,Ee){this.p=PropertyFactory.getProp(e,Re.v,0,0,Ee)}function NoValueEffect(){this.p={}}function EffectsManager(Re,e){var Ee=Re.ef||[];this.effectElements=[];var Ce,Te=Ee.length,De;for(Ce=0;Ce<Te;Ce+=1)De=new GroupEffect(Ee[Ce],e),this.effectElements.push(De)}function GroupEffect(Re,e){this.init(Re,e)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(Re,e){this.data=Re,this.effectElements=[],this.initDynamicPropertyContainer(e);var Ee,Ce=this.data.ef.length,Te,De=this.data.ef;for(Ee=0;Ee<Ce;Ee+=1){switch(Te=null,De[Ee].ty){case 0:Te=new SliderEffect(De[Ee],e,this);break;case 1:Te=new AngleEffect(De[Ee],e,this);break;case 2:Te=new ColorEffect(De[Ee],e,this);break;case 3:Te=new PointEffect(De[Ee],e,this);break;case 4:case 7:Te=new CheckboxEffect(De[Ee],e,this);break;case 10:Te=new LayerIndexEffect(De[Ee],e,this);break;case 11:Te=new MaskIndexEffect(De[Ee],e,this);break;case 5:Te=new EffectsManager(De[Ee],e);break;default:Te=new NoValueEffect(De[Ee]);break}Te&&this.effectElements.push(Te)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,Ee=this.data.masksProperties.length;e<Ee;){if(this.data.masksProperties[e].mode!=="n"&&this.data.masksProperties[e].cl!==!1)return!0;e+=1}return!1},initExpressions:function(){var e=getExpressionInterfaces();if(e){var Ee=e("layer"),Ce=e("effects"),Te=e("shape"),De=e("text"),Me=e("comp");this.layerInterface=Ee(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var Oe=Ce.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(Oe),this.data.ty===0||this.data.xt?this.compInterface=Me(this):this.data.ty===4?(this.layerInterface.shapeInterface=Te(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=De(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var e=getBlendMode(this.data.bm),Ee=this.baseElement||this.layerElement;Ee.style["mix-blend-mode"]=e},initBaseData:function(e,Ee,Ce){this.globalData=Ee,this.comp=Ce,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,Ee){var Ce,Te=this.dynamicProperties.length;for(Ce=0;Ce<Te;Ce+=1)(Ee||this._isParent&&this.dynamicProperties[Ce].propType==="transform")&&(this.dynamicProperties[Ce].getValue(),this.dynamicProperties[Ce]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){this.dynamicProperties.indexOf(e)===-1&&this.dynamicProperties.push(e)}};function FootageElement(Re,e,Ee){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(Re.refId),this.footageData=e.imageLoader.getAsset(this.assetData),this.initBaseData(Re,e,Ee)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var Re=getExpressionInterfaces();if(Re){var e=Re("footage");this.layerInterface=e(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(Re,e,Ee){this.initFrame(),this.initRenderable(),this.assetData=e.getAssetData(Re.refId),this.initBaseData(Re,e,Ee),this._isPlaying=!1,this._canPlay=!1;var Ce=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(Ce),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=Re.tm?PropertyFactory.getProp(this,Re.tm,0,e.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,Re.au&&Re.au.lv?Re.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(Re){if(this.prepareRenderableFrame(Re,!0),this.prepareProperties(Re,!0),this.tm._placeholder)this._currentTime=Re/this.data.sr;else{var e=this.tm.v;this._currentTime=e}this._volume=this.lv.v[0];var Ee=this._volume*this._volumeMultiplier;this._previousVolume!==Ee&&(this._previousVolume=Ee,this.audio.volume(Ee))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(Re){this.audio.rate(Re)},AudioElement.prototype.volume=function(Re){this._volumeMultiplier=Re,this._previousVolume=Re*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(Re){var e,Ee=this.layers.length,Ce;for(this.completeLayers=!0,e=Ee-1;e>=0;e-=1)this.elements[e]||(Ce=this.layers[e],Ce.ip-Ce.st<=Re-this.layers[e].st&&Ce.op-Ce.st>Re-this.layers[e].st&&this.buildItem(e)),this.completeLayers=this.elements[e]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(Re){switch(Re.ty){case 2:return this.createImage(Re);case 0:return this.createComp(Re);case 1:return this.createSolid(Re);case 3:return this.createNull(Re);case 4:return this.createShape(Re);case 5:return this.createText(Re);case 6:return this.createAudio(Re);case 13:return this.createCamera(Re);case 15:return this.createFootage(Re);default:return this.createNull(Re)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(Re){return new AudioElement(Re,this.globalData,this)},BaseRenderer.prototype.createFootage=function(Re){return new FootageElement(Re,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var Re,e=this.layers.length;for(Re=0;Re<e;Re+=1)this.buildItem(Re);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(Re){this.completeLayers=!1;var e,Ee=Re.length,Ce,Te=this.layers.length;for(e=0;e<Ee;e+=1)for(Ce=0;Ce<Te;){if(this.layers[Ce].id===Re[e].id){this.layers[Ce]=Re[e];break}Ce+=1}},BaseRenderer.prototype.setProjectInterface=function(Re){this.globalData.projectInterface=Re},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(Re,e,Ee){for(var Ce=this.elements,Te=this.layers,De=0,Me=Te.length;De<Me;)Te[De].ind==e&&(!Ce[De]||Ce[De]===!0?(this.buildItem(De),this.addPendingElement(Re)):(Ee.push(Ce[De]),Ce[De].setAsParent(),Te[De].parent!==void 0?this.buildElementParenting(Re,Te[De].parent,Ee):Re.setHierarchy(Ee))),De+=1},BaseRenderer.prototype.addPendingElement=function(Re){this.pendingElements.push(Re)},BaseRenderer.prototype.searchExtraCompositions=function(Re){var e,Ee=Re.length;for(e=0;e<Ee;e+=1)if(Re[e].xt){var Ce=this.createComp(Re[e]);Ce.initExpressions(),this.globalData.projectInterface.registerComposition(Ce)}},BaseRenderer.prototype.getElementById=function(Re){var e,Ee=this.elements.length;for(e=0;e<Ee;e+=1)if(this.elements[e].data.ind===Re)return this.elements[e];return null},BaseRenderer.prototype.getElementByPath=function(Re){var e=Re.shift(),Ee;if(typeof e=="number")Ee=this.elements[e];else{var Ce,Te=this.elements.length;for(Ce=0;Ce<Te;Ce+=1)if(this.elements[Ce].data.nm===e){Ee=this.elements[Ce];break}}return Re.length===0?Ee:Ee.getElementByPath(Re)},BaseRenderer.prototype.setupGlobalData=function(Re,e){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(Re),this.globalData.fontManager.addChars(Re.chars),this.globalData.fontManager.addFonts(Re.fonts,e),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=Re.fr,this.globalData.nm=Re.nm,this.globalData.compSize={w:Re.w,h:Re.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var e=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:e,localMat:e,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,Ee=this.finalTransform.mat,Ce=0,Te=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;Ce<Te;){if(this.hierarchy[Ce].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}Ce+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,Ee.cloneFromProps(e),Ce=0;Ce<Te;Ce+=1)Ee.multiply(this.hierarchy[Ce].finalTransform.mProp.v)}(!this.localTransforms||this.finalTransform._matMdf)&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var e=0,Ee=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;e<Ee;)this.localTransforms[e]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[e]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),e+=1;if(this.finalTransform._localMatMdf){var Ce=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(Ce),e=1;e<Ee;e+=1){var Te=this.localTransforms[e].matrix;Ce.multiply(Te)}Ce.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var De=this.finalTransform.localOpacity;for(e=0;e<Ee;e+=1)De*=this.localTransforms[e].opacity*.01;this.finalTransform.localOpacity=De}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var e=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(e.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var Ee=0,Ce=e.length;for(Ee=0;Ee<Ce;Ee+=1)this.localTransforms.push(e[Ee])}}},globalToLocal:function(e){var Ee=[];Ee.push(this.finalTransform);for(var Ce=!0,Te=this.comp;Ce;)Te.finalTransform?(Te.data.hasMask&&Ee.splice(0,0,Te.finalTransform),Te=Te.comp):Ce=!1;var De,Me=Ee.length,Oe;for(De=0;De<Me;De+=1)Oe=Ee[De].mat.applyToPointArray(0,0,0),e=[e[0]-Oe[0],e[1]-Oe[1],0];return e},mHelper:new Matrix};function MaskElement(Re,e,Ee){this.data=Re,this.element=e,this.globalData=Ee,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var Ce=this.globalData.defs,Te,De=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(De),this.solidPath="";var Me,Oe=this.masksProperties,Be=0,ze=[],Ve,qe,We=createElementID(),Ge,Je,Qe,ns,Ye="clipPath",rs="clip-path";for(Te=0;Te<De;Te+=1)if((Oe[Te].mode!=="a"&&Oe[Te].mode!=="n"||Oe[Te].inv||Oe[Te].o.k!==100||Oe[Te].o.x)&&(Ye="mask",rs="mask"),(Oe[Te].mode==="s"||Oe[Te].mode==="i")&&Be===0?(Ge=createNS("rect"),Ge.setAttribute("fill","#ffffff"),Ge.setAttribute("width",this.element.comp.data.w||0),Ge.setAttribute("height",this.element.comp.data.h||0),ze.push(Ge)):Ge=null,Me=createNS("path"),Oe[Te].mode==="n")this.viewData[Te]={op:PropertyFactory.getProp(this.element,Oe[Te].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Oe[Te],3),elem:Me,lastPath:""},Ce.appendChild(Me);else{Be+=1,Me.setAttribute("fill",Oe[Te].mode==="s"?"#000000":"#ffffff"),Me.setAttribute("clip-rule","nonzero");var ts;if(Oe[Te].x.k!==0?(Ye="mask",rs="mask",ns=PropertyFactory.getProp(this.element,Oe[Te].x,0,null,this.element),ts=createElementID(),Je=createNS("filter"),Je.setAttribute("id",ts),Qe=createNS("feMorphology"),Qe.setAttribute("operator","erode"),Qe.setAttribute("in","SourceGraphic"),Qe.setAttribute("radius","0"),Je.appendChild(Qe),Ce.appendChild(Je),Me.setAttribute("stroke",Oe[Te].mode==="s"?"#000000":"#ffffff")):(Qe=null,ns=null),this.storedData[Te]={elem:Me,x:ns,expan:Qe,lastPath:"",lastOperator:"",filterId:ts,lastRadius:0},Oe[Te].mode==="i"){qe=ze.length;var Xe=createNS("g");for(Ve=0;Ve<qe;Ve+=1)Xe.appendChild(ze[Ve]);var is=createNS("mask");is.setAttribute("mask-type","alpha"),is.setAttribute("id",We+"_"+Be),is.appendChild(Me),Ce.appendChild(is),Xe.setAttribute("mask","url("+getLocationHref()+"#"+We+"_"+Be+")"),ze.length=0,ze.push(Xe)}else ze.push(Me);Oe[Te].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[Te]={elem:Me,lastPath:"",op:PropertyFactory.getProp(this.element,Oe[Te].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,Oe[Te],3),invRect:Ge},this.viewData[Te].prop.k||this.drawPath(Oe[Te],this.viewData[Te].prop.v,this.viewData[Te])}for(this.maskElement=createNS(Ye),De=ze.length,Te=0;Te<De;Te+=1)this.maskElement.appendChild(ze[Te]);Be>0&&(this.maskElement.setAttribute("id",We),this.element.maskedElement.setAttribute(rs,"url("+getLocationHref()+"#"+We+")"),Ce.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(Re){return this.viewData[Re].prop},MaskElement.prototype.renderFrame=function(Re){var e=this.element.finalTransform.mat,Ee,Ce=this.masksProperties.length;for(Ee=0;Ee<Ce;Ee+=1)if((this.viewData[Ee].prop._mdf||Re)&&this.drawPath(this.masksProperties[Ee],this.viewData[Ee].prop.v,this.viewData[Ee]),(this.viewData[Ee].op._mdf||Re)&&this.viewData[Ee].elem.setAttribute("fill-opacity",this.viewData[Ee].op.v),this.masksProperties[Ee].mode!=="n"&&(this.viewData[Ee].invRect&&(this.element.finalTransform.mProp._mdf||Re)&&this.viewData[Ee].invRect.setAttribute("transform",e.getInverseMatrix().to2dCSS()),this.storedData[Ee].x&&(this.storedData[Ee].x._mdf||Re))){var Te=this.storedData[Ee].expan;this.storedData[Ee].x.v<0?(this.storedData[Ee].lastOperator!=="erode"&&(this.storedData[Ee].lastOperator="erode",this.storedData[Ee].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[Ee].filterId+")")),Te.setAttribute("radius",-this.storedData[Ee].x.v)):(this.storedData[Ee].lastOperator!=="dilate"&&(this.storedData[Ee].lastOperator="dilate",this.storedData[Ee].elem.setAttribute("filter",null)),this.storedData[Ee].elem.setAttribute("stroke-width",this.storedData[Ee].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var Re="M0,0 ";return Re+=" h"+this.globalData.compSize.w,Re+=" v"+this.globalData.compSize.h,Re+=" h-"+this.globalData.compSize.w,Re+=" v-"+this.globalData.compSize.h+" ",Re},MaskElement.prototype.drawPath=function(Re,e,Ee){var Ce=" M"+e.v[0][0]+","+e.v[0][1],Te,De;for(De=e._length,Te=1;Te<De;Te+=1)Ce+=" C"+e.o[Te-1][0]+","+e.o[Te-1][1]+" "+e.i[Te][0]+","+e.i[Te][1]+" "+e.v[Te][0]+","+e.v[Te][1];if(e.c&&De>1&&(Ce+=" C"+e.o[Te-1][0]+","+e.o[Te-1][1]+" "+e.i[0][0]+","+e.i[0][1]+" "+e.v[0][0]+","+e.v[0][1]),Ee.lastPath!==Ce){var Me="";Ee.elem&&(e.c&&(Me=Re.inv?this.solidPath+Ce:Ce),Ee.elem.setAttribute("d",Me)),Ee.lastPath=Ce}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var Re={};Re.createFilter=e,Re.createAlphaToLuminanceFilter=Ee;function e(Ce,Te){var De=createNS("filter");return De.setAttribute("id",Ce),Te!==!0&&(De.setAttribute("filterUnits","objectBoundingBox"),De.setAttribute("x","0%"),De.setAttribute("y","0%"),De.setAttribute("width","100%"),De.setAttribute("height","100%")),De}function Ee(){var Ce=createNS("feColorMatrix");return Ce.setAttribute("type","matrix"),Ce.setAttribute("color-interpolation-filters","sRGB"),Ce.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),Ce}return Re}(),featureSupport=function(){var Re={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(Re.maskType=!1),/firefox/i.test(navigator.userAgent)&&(Re.svgLumaHidden=!1),Re}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(Re){var e,Ee="SourceGraphic",Ce=Re.data.ef?Re.data.ef.length:0,Te=createElementID(),De=filtersFactory.createFilter(Te,!0),Me=0;this.filters=[];var Oe;for(e=0;e<Ce;e+=1){Oe=null;var Be=Re.data.ef[e].ty;if(registeredEffects$1[Be]){var ze=registeredEffects$1[Be].effect;Oe=new ze(De,Re.effectsManager.effectElements[e],Re,idPrefix+Me,Ee),Ee=idPrefix+Me,registeredEffects$1[Be].countsAsEffect&&(Me+=1)}Oe&&this.filters.push(Oe)}Me&&(Re.globalData.defs.appendChild(De),Re.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+Te+")")),this.filters.length&&Re.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(Re){var e,Ee=this.filters.length;for(e=0;e<Ee;e+=1)this.filters[e].renderFrame(Re)},SVGEffects.prototype.getEffects=function(Re){var e,Ee=this.filters.length,Ce=[];for(e=0;e<Ee;e+=1)this.filters[e].type===Re&&Ce.push(this.filters[e]);return Ce};function registerEffect$1(Re,e,Ee){registeredEffects$1[Re]={effect:e,countsAsEffect:Ee}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null;if(this.data.td){this.matteMasks={};var Ee=createNS("g");Ee.setAttribute("id",this.layerId),Ee.appendChild(this.layerElement),e=Ee,this.globalData.defs.appendChild(Ee)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var Ce=createNS("clipPath"),Te=createNS("path");Te.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var De=createElementID();if(Ce.setAttribute("id",De),Ce.appendChild(Te),this.globalData.defs.appendChild(Ce),this.checkMasks()){var Me=createNS("g");Me.setAttribute("clip-path","url("+getLocationHref()+"#"+De+")"),Me.appendChild(this.layerElement),this.transformedElement=Me,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+De+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[e]){var Ee=this.layerId+"_"+e,Ce,Te,De,Me;if(e===1||e===3){var Oe=createNS("mask");Oe.setAttribute("id",Ee),Oe.setAttribute("mask-type",e===3?"luminance":"alpha"),De=createNS("use"),De.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),Oe.appendChild(De),this.globalData.defs.appendChild(Oe),!featureSupport.maskType&&e===1&&(Oe.setAttribute("mask-type","luminance"),Ce=createElementID(),Te=filtersFactory.createFilter(Ce),this.globalData.defs.appendChild(Te),Te.appendChild(filtersFactory.createAlphaToLuminanceFilter()),Me=createNS("g"),Me.appendChild(De),Oe.appendChild(Me),Me.setAttribute("filter","url("+getLocationHref()+"#"+Ce+")"))}else if(e===2){var Be=createNS("mask");Be.setAttribute("id",Ee),Be.setAttribute("mask-type","alpha");var ze=createNS("g");Be.appendChild(ze),Ce=createElementID(),Te=filtersFactory.createFilter(Ce);var Ve=createNS("feComponentTransfer");Ve.setAttribute("in","SourceGraphic"),Te.appendChild(Ve);var qe=createNS("feFuncA");qe.setAttribute("type","table"),qe.setAttribute("tableValues","1.0 0.0"),Ve.appendChild(qe),this.globalData.defs.appendChild(Te);var We=createNS("rect");We.setAttribute("width",this.comp.data.w),We.setAttribute("height",this.comp.data.h),We.setAttribute("x","0"),We.setAttribute("y","0"),We.setAttribute("fill","#ffffff"),We.setAttribute("opacity","0"),ze.setAttribute("filter","url("+getLocationHref()+"#"+Ce+")"),ze.appendChild(We),De=createNS("use"),De.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ze.appendChild(De),featureSupport.maskType||(Be.setAttribute("mask-type","luminance"),Te.appendChild(filtersFactory.createAlphaToLuminanceFilter()),Me=createNS("g"),ze.appendChild(We),Me.appendChild(this.layerElement),ze.appendChild(Me)),this.globalData.defs.appendChild(Be)}this.matteMasks[e]=Ee}return this.matteMasks[e]},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var Re={initElement:function(Ee,Ce,Te){this.initFrame(),this.initBaseData(Ee,Ce,Te),this.initTransform(Ee,Ce,Te),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var Ee=this.baseElement||this.layerElement;Ee.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var Ee=this.baseElement||this.layerElement;Ee.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(Ee){this._mdf=!1,this.prepareRenderableFrame(Ee),this.prepareProperties(Ee,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(Re)],RenderableDOMElement)})();function IImageElement(Re,e,Ee){this.assetData=e.getAssetData(Re.refId),this.assetData&&this.assetData.sid&&(this.assetData=e.slotManager.getProp(this.assetData)),this.initElement(Re,e,Ee),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var Re=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",Re),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(Re,e){this.elem=Re,this.pos=e}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(e){var Ee,Ce=this.shapeModifiers.length;for(Ee=0;Ee<Ce;Ee+=1)this.shapeModifiers[Ee].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var Ee=0,Ce=this.shapeModifiers.length;Ee<Ce;)if(this.shapeModifiers[Ee].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,Ee=this.shapes.length;for(e=0;e<Ee;e+=1)this.shapes[e].sh.reset();Ee=this.shapeModifiers.length;var Ce;for(e=Ee-1;e>=0&&(Ce=this.shapeModifiers[e].processShapes(this._isFirstFrame),!Ce);e-=1);}},searchProcessedElement:function(e){for(var Ee=this.processedElements,Ce=0,Te=Ee.length;Ce<Te;){if(Ee[Ce].elem===e)return Ee[Ce].pos;Ce+=1}return 0},addProcessedElement:function(e,Ee){for(var Ce=this.processedElements,Te=Ce.length;Te;)if(Te-=1,Ce[Te].elem===e){Ce[Te].pos=Ee;return}Ce.push(new ProcessedElement(e,Ee))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(Re,e,Ee){this.caches=[],this.styles=[],this.transformers=Re,this.lStr="",this.sh=Ee,this.lvl=e,this._isAnimated=!!Ee.k;for(var Ce=0,Te=Re.length;Ce<Te;){if(Re[Ce].mProps.dynamicProperties.length){this._isAnimated=!0;break}Ce+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(Re,e){this.data=Re,this.type=Re.ty,this.d="",this.lvl=e,this._mdf=!1,this.closed=Re.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(Re,e,Ee,Ce){this.elem=Re,this.frameId=-1,this.dataProps=createSizedArray(e.length),this.renderer=Ee,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",e.length?e.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(Ce);var Te,De=e.length||0,Me;for(Te=0;Te<De;Te+=1)Me=PropertyFactory.getProp(Re,e[Te].v,0,0,this),this.k=Me.k||this.k,this.dataProps[Te]={n:e[Te].n,p:Me};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(Re){if(!(this.elem.globalData.frameId===this.frameId&&!Re)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||Re,this._mdf)){var e=0,Ee=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),e=0;e<Ee;e+=1)this.dataProps[e].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[e].p.v:this.dashArray[e]=this.dataProps[e].p.v:this.dashoffset[0]=this.dataProps[e].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(Re,e,Ee){this.initDynamicPropertyContainer(Re),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(Re,e.o,0,.01,this),this.w=PropertyFactory.getProp(Re,e.w,0,null,this),this.d=new DashProperty(Re,e.d||{},"svg",this),this.c=PropertyFactory.getProp(Re,e.c,1,255,this),this.style=Ee,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(Re,e,Ee){this.initDynamicPropertyContainer(Re),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(Re,e.o,0,.01,this),this.c=PropertyFactory.getProp(Re,e.c,1,255,this),this.style=Ee}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(Re,e,Ee){this.initDynamicPropertyContainer(Re),this.getValue=this.iterateDynamicProperties,this.style=Ee}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(Re,e,Ee){this.data=e,this.c=createTypedArray("uint8c",e.p*4);var Ce=e.k.k[0].s?e.k.k[0].s.length-e.p*4:e.k.k.length-e.p*4;this.o=createTypedArray("float32",Ce),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=Ce,this.initDynamicPropertyContainer(Ee),this.prop=PropertyFactory.getProp(Re,e.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(Re,e){for(var Ee=0,Ce=this.o.length/2,Te;Ee<Ce;){if(Te=Math.abs(Re[Ee*4]-Re[e*4+Ee*2]),Te>.01)return!1;Ee+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var Re=0,e=this.data.k.k.length;Re<e;){if(!this.comparePoints(this.data.k.k[Re].s,this.data.p))return!1;Re+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(Re){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||Re){var e,Ee=this.data.p*4,Ce,Te;for(e=0;e<Ee;e+=1)Ce=e%4===0?100:255,Te=Math.round(this.prop.v[e]*Ce),this.c[e]!==Te&&(this.c[e]=Te,this._cmdf=!Re);if(this.o.length)for(Ee=this.prop.v.length,e=this.data.p*4;e<Ee;e+=1)Ce=e%2===0?100:1,Te=e%2===0?Math.round(this.prop.v[e]*100):this.prop.v[e],this.o[e-this.data.p*4]!==Te&&(this.o[e-this.data.p*4]=Te,this._omdf=!Re);this._mdf=!Re}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(Re,e,Ee){this.initDynamicPropertyContainer(Re),this.getValue=this.iterateDynamicProperties,this.initGradientData(Re,e,Ee)}SVGGradientFillStyleData.prototype.initGradientData=function(Re,e,Ee){this.o=PropertyFactory.getProp(Re,e.o,0,.01,this),this.s=PropertyFactory.getProp(Re,e.s,1,null,this),this.e=PropertyFactory.getProp(Re,e.e,1,null,this),this.h=PropertyFactory.getProp(Re,e.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(Re,e.a||{k:0},0,degToRads,this),this.g=new GradientProperty(Re,e.g,this),this.style=Ee,this.stops=[],this.setGradientData(Ee.pElem,e),this.setGradientOpacity(e,Ee),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(Re,e){var Ee=createElementID(),Ce=createNS(e.t===1?"linearGradient":"radialGradient");Ce.setAttribute("id",Ee),Ce.setAttribute("spreadMethod","pad"),Ce.setAttribute("gradientUnits","userSpaceOnUse");var Te=[],De,Me,Oe;for(Oe=e.g.p*4,Me=0;Me<Oe;Me+=4)De=createNS("stop"),Ce.appendChild(De),Te.push(De);Re.setAttribute(e.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+Ee+")"),this.gf=Ce,this.cst=Te},SVGGradientFillStyleData.prototype.setGradientOpacity=function(Re,e){if(this.g._hasOpacity&&!this.g._collapsable){var Ee,Ce,Te,De=createNS("mask"),Me=createNS("path");De.appendChild(Me);var Oe=createElementID(),Be=createElementID();De.setAttribute("id",Be);var ze=createNS(Re.t===1?"linearGradient":"radialGradient");ze.setAttribute("id",Oe),ze.setAttribute("spreadMethod","pad"),ze.setAttribute("gradientUnits","userSpaceOnUse"),Te=Re.g.k.k[0].s?Re.g.k.k[0].s.length:Re.g.k.k.length;var Ve=this.stops;for(Ce=Re.g.p*4;Ce<Te;Ce+=2)Ee=createNS("stop"),Ee.setAttribute("stop-color","rgb(255,255,255)"),ze.appendChild(Ee),Ve.push(Ee);Me.setAttribute(Re.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+Oe+")"),Re.ty==="gs"&&(Me.setAttribute("stroke-linecap",lineCapEnum[Re.lc||2]),Me.setAttribute("stroke-linejoin",lineJoinEnum[Re.lj||2]),Re.lj===1&&Me.setAttribute("stroke-miterlimit",Re.ml)),this.of=ze,this.ms=De,this.ost=Ve,this.maskId=Be,e.msElem=Me}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(Re,e,Ee){this.initDynamicPropertyContainer(Re),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(Re,e.w,0,null,this),this.d=new DashProperty(Re,e.d||{},"svg",this),this.initGradientData(Re,e,Ee),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(Re,e,Ee){this.transform={mProps:Re,op:e,container:Ee},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(e,Ee,Ce,Te){if(Ee===0)return"";var De=e.o,Me=e.i,Oe=e.v,Be,ze=" M"+Te.applyToPointStringified(Oe[0][0],Oe[0][1]);for(Be=1;Be<Ee;Be+=1)ze+=" C"+Te.applyToPointStringified(De[Be-1][0],De[Be-1][1])+" "+Te.applyToPointStringified(Me[Be][0],Me[Be][1])+" "+Te.applyToPointStringified(Oe[Be][0],Oe[Be][1]);return Ce&&Ee&&(ze+=" C"+Te.applyToPointStringified(De[Be-1][0],De[Be-1][1])+" "+Te.applyToPointStringified(Me[0][0],Me[0][1])+" "+Te.applyToPointStringified(Oe[0][0],Oe[0][1]),ze+="z"),ze},SVGElementsRenderer=function(){var Re=new Matrix,e=new Matrix,Ee={createRenderFunction:Ce};function Ce(qe){switch(qe.ty){case"fl":return Oe;case"gf":return ze;case"gs":return Be;case"st":return Ve;case"sh":case"el":case"rc":case"sr":return Me;case"tr":return Te;case"no":return De;default:return null}}function Te(qe,We,Ge){(Ge||We.transform.op._mdf)&&We.transform.container.setAttribute("opacity",We.transform.op.v),(Ge||We.transform.mProps._mdf)&&We.transform.container.setAttribute("transform",We.transform.mProps.v.to2dCSS())}function De(){}function Me(qe,We,Ge){var Je,Qe,ns,Ye,rs,ts,Xe=We.styles.length,is=We.lvl,os,hs,fs,xs;for(ts=0;ts<Xe;ts+=1){if(Ye=We.sh._mdf||Ge,We.styles[ts].lvl<is){for(hs=e.reset(),fs=is-We.styles[ts].lvl,xs=We.transformers.length-1;!Ye&&fs>0;)Ye=We.transformers[xs].mProps._mdf||Ye,fs-=1,xs-=1;if(Ye)for(fs=is-We.styles[ts].lvl,xs=We.transformers.length-1;fs>0;)hs.multiply(We.transformers[xs].mProps.v),fs-=1,xs-=1}else hs=Re;if(os=We.sh.paths,Qe=os._length,Ye){for(ns="",Je=0;Je<Qe;Je+=1)rs=os.shapes[Je],rs&&rs._length&&(ns+=buildShapeString(rs,rs._length,rs.c,hs));We.caches[ts]=ns}else ns=We.caches[ts];We.styles[ts].d+=qe.hd===!0?"":ns,We.styles[ts]._mdf=Ye||We.styles[ts]._mdf}}function Oe(qe,We,Ge){var Je=We.style;(We.c._mdf||Ge)&&Je.pElem.setAttribute("fill","rgb("+bmFloor(We.c.v[0])+","+bmFloor(We.c.v[1])+","+bmFloor(We.c.v[2])+")"),(We.o._mdf||Ge)&&Je.pElem.setAttribute("fill-opacity",We.o.v)}function Be(qe,We,Ge){ze(qe,We,Ge),Ve(qe,We,Ge)}function ze(qe,We,Ge){var Je=We.gf,Qe=We.g._hasOpacity,ns=We.s.v,Ye=We.e.v;if(We.o._mdf||Ge){var rs=qe.ty==="gf"?"fill-opacity":"stroke-opacity";We.style.pElem.setAttribute(rs,We.o.v)}if(We.s._mdf||Ge){var ts=qe.t===1?"x1":"cx",Xe=ts==="x1"?"y1":"cy";Je.setAttribute(ts,ns[0]),Je.setAttribute(Xe,ns[1]),Qe&&!We.g._collapsable&&(We.of.setAttribute(ts,ns[0]),We.of.setAttribute(Xe,ns[1]))}var is,os,hs,fs;if(We.g._cmdf||Ge){is=We.cst;var xs=We.g.c;for(hs=is.length,os=0;os<hs;os+=1)fs=is[os],fs.setAttribute("offset",xs[os*4]+"%"),fs.setAttribute("stop-color","rgb("+xs[os*4+1]+","+xs[os*4+2]+","+xs[os*4+3]+")")}if(Qe&&(We.g._omdf||Ge)){var Ss=We.g.o;for(We.g._collapsable?is=We.cst:is=We.ost,hs=is.length,os=0;os<hs;os+=1)fs=is[os],We.g._collapsable||fs.setAttribute("offset",Ss[os*2]+"%"),fs.setAttribute("stop-opacity",Ss[os*2+1])}if(qe.t===1)(We.e._mdf||Ge)&&(Je.setAttribute("x2",Ye[0]),Je.setAttribute("y2",Ye[1]),Qe&&!We.g._collapsable&&(We.of.setAttribute("x2",Ye[0]),We.of.setAttribute("y2",Ye[1])));else{var ds;if((We.s._mdf||We.e._mdf||Ge)&&(ds=Math.sqrt(Math.pow(ns[0]-Ye[0],2)+Math.pow(ns[1]-Ye[1],2)),Je.setAttribute("r",ds),Qe&&!We.g._collapsable&&We.of.setAttribute("r",ds)),We.s._mdf||We.e._mdf||We.h._mdf||We.a._mdf||Ge){ds||(ds=Math.sqrt(Math.pow(ns[0]-Ye[0],2)+Math.pow(ns[1]-Ye[1],2)));var gs=Math.atan2(Ye[1]-ns[1],Ye[0]-ns[0]),Ts=We.h.v;Ts>=1?Ts=.99:Ts<=-1&&(Ts=-.99);var Ds=ds*Ts,Ms=Math.cos(gs+We.a.v)*Ds+ns[0],bs=Math.sin(gs+We.a.v)*Ds+ns[1];Je.setAttribute("fx",Ms),Je.setAttribute("fy",bs),Qe&&!We.g._collapsable&&(We.of.setAttribute("fx",Ms),We.of.setAttribute("fy",bs))}}}function Ve(qe,We,Ge){var Je=We.style,Qe=We.d;Qe&&(Qe._mdf||Ge)&&Qe.dashStr&&(Je.pElem.setAttribute("stroke-dasharray",Qe.dashStr),Je.pElem.setAttribute("stroke-dashoffset",Qe.dashoffset[0])),We.c&&(We.c._mdf||Ge)&&Je.pElem.setAttribute("stroke","rgb("+bmFloor(We.c.v[0])+","+bmFloor(We.c.v[1])+","+bmFloor(We.c.v[2])+")"),(We.o._mdf||Ge)&&Je.pElem.setAttribute("stroke-opacity",We.o.v),(We.w._mdf||Ge)&&(Je.pElem.setAttribute("stroke-width",We.w.v),Je.msElem&&Je.msElem.setAttribute("stroke-width",We.w.v))}return Ee}();function SVGShapeElement(Re,e,Ee){this.shapes=[],this.shapesData=Re.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(Re,e,Ee),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var Re,e=this.shapes.length,Ee,Ce,Te=this.stylesList.length,De,Me=[],Oe=!1;for(Ce=0;Ce<Te;Ce+=1){for(De=this.stylesList[Ce],Oe=!1,Me.length=0,Re=0;Re<e;Re+=1)Ee=this.shapes[Re],Ee.styles.indexOf(De)!==-1&&(Me.push(Ee),Oe=Ee._isAnimated||Oe);Me.length>1&&Oe&&this.setShapesAsAnimated(Me)}},SVGShapeElement.prototype.setShapesAsAnimated=function(Re){var e,Ee=Re.length;for(e=0;e<Ee;e+=1)Re[e].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(Re,e){var Ee,Ce=new SVGStyleData(Re,e),Te=Ce.pElem;if(Re.ty==="st")Ee=new SVGStrokeStyleData(this,Re,Ce);else if(Re.ty==="fl")Ee=new SVGFillStyleData(this,Re,Ce);else if(Re.ty==="gf"||Re.ty==="gs"){var De=Re.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;Ee=new De(this,Re,Ce),this.globalData.defs.appendChild(Ee.gf),Ee.maskId&&(this.globalData.defs.appendChild(Ee.ms),this.globalData.defs.appendChild(Ee.of),Te.setAttribute("mask","url("+getLocationHref()+"#"+Ee.maskId+")"))}else Re.ty==="no"&&(Ee=new SVGNoStyleData(this,Re,Ce));return(Re.ty==="st"||Re.ty==="gs")&&(Te.setAttribute("stroke-linecap",lineCapEnum[Re.lc||2]),Te.setAttribute("stroke-linejoin",lineJoinEnum[Re.lj||2]),Te.setAttribute("fill-opacity","0"),Re.lj===1&&Te.setAttribute("stroke-miterlimit",Re.ml)),Re.r===2&&Te.setAttribute("fill-rule","evenodd"),Re.ln&&Te.setAttribute("id",Re.ln),Re.cl&&Te.setAttribute("class",Re.cl),Re.bm&&(Te.style["mix-blend-mode"]=getBlendMode(Re.bm)),this.stylesList.push(Ce),this.addToAnimatedContents(Re,Ee),Ee},SVGShapeElement.prototype.createGroupElement=function(Re){var e=new ShapeGroupData;return Re.ln&&e.gr.setAttribute("id",Re.ln),Re.cl&&e.gr.setAttribute("class",Re.cl),Re.bm&&(e.gr.style["mix-blend-mode"]=getBlendMode(Re.bm)),e},SVGShapeElement.prototype.createTransformElement=function(Re,e){var Ee=TransformPropertyFactory.getTransformProperty(this,Re,this),Ce=new SVGTransformData(Ee,Ee.o,e);return this.addToAnimatedContents(Re,Ce),Ce},SVGShapeElement.prototype.createShapeElement=function(Re,e,Ee){var Ce=4;Re.ty==="rc"?Ce=5:Re.ty==="el"?Ce=6:Re.ty==="sr"&&(Ce=7);var Te=ShapePropertyFactory.getShapeProp(this,Re,Ce,this),De=new SVGShapeData(e,Ee,Te);return this.shapes.push(De),this.addShapeToModifiers(De),this.addToAnimatedContents(Re,De),De},SVGShapeElement.prototype.addToAnimatedContents=function(Re,e){for(var Ee=0,Ce=this.animatedContents.length;Ee<Ce;){if(this.animatedContents[Ee].element===e)return;Ee+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(Re),element:e,data:Re})},SVGShapeElement.prototype.setElementStyles=function(Re){var e=Re.styles,Ee,Ce=this.stylesList.length;for(Ee=0;Ee<Ce;Ee+=1)e.indexOf(this.stylesList[Ee])===-1&&!this.stylesList[Ee].closed&&e.push(this.stylesList[Ee])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var Re,e=this.itemsData.length;for(Re=0;Re<e;Re+=1)this.prevViewData[Re]=this.itemsData[Re];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),e=this.dynamicProperties.length,Re=0;Re<e;Re+=1)this.dynamicProperties[Re].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(Re,e,Ee,Ce,Te,De,Me){var Oe=[].concat(De),Be,ze=Re.length-1,Ve,qe,We=[],Ge=[],Je,Qe,ns;for(Be=ze;Be>=0;Be-=1){if(ns=this.searchProcessedElement(Re[Be]),ns?e[Be]=Ee[ns-1]:Re[Be]._render=Me,Re[Be].ty==="fl"||Re[Be].ty==="st"||Re[Be].ty==="gf"||Re[Be].ty==="gs"||Re[Be].ty==="no")ns?e[Be].style.closed=Re[Be].hd:e[Be]=this.createStyleElement(Re[Be],Te),Re[Be]._render&&e[Be].style.pElem.parentNode!==Ce&&Ce.appendChild(e[Be].style.pElem),We.push(e[Be].style);else if(Re[Be].ty==="gr"){if(!ns)e[Be]=this.createGroupElement(Re[Be]);else for(qe=e[Be].it.length,Ve=0;Ve<qe;Ve+=1)e[Be].prevViewData[Ve]=e[Be].it[Ve];this.searchShapes(Re[Be].it,e[Be].it,e[Be].prevViewData,e[Be].gr,Te+1,Oe,Me),Re[Be]._render&&e[Be].gr.parentNode!==Ce&&Ce.appendChild(e[Be].gr)}else Re[Be].ty==="tr"?(ns||(e[Be]=this.createTransformElement(Re[Be],Ce)),Je=e[Be].transform,Oe.push(Je)):Re[Be].ty==="sh"||Re[Be].ty==="rc"||Re[Be].ty==="el"||Re[Be].ty==="sr"?(ns||(e[Be]=this.createShapeElement(Re[Be],Oe,Te)),this.setElementStyles(e[Be])):Re[Be].ty==="tm"||Re[Be].ty==="rd"||Re[Be].ty==="ms"||Re[Be].ty==="pb"||Re[Be].ty==="zz"||Re[Be].ty==="op"?(ns?(Qe=e[Be],Qe.closed=!1):(Qe=ShapeModifiers.getModifier(Re[Be].ty),Qe.init(this,Re[Be]),e[Be]=Qe,this.shapeModifiers.push(Qe)),Ge.push(Qe)):Re[Be].ty==="rp"&&(ns?(Qe=e[Be],Qe.closed=!0):(Qe=ShapeModifiers.getModifier(Re[Be].ty),e[Be]=Qe,Qe.init(this,Re,Be,e),this.shapeModifiers.push(Qe),Me=!1),Ge.push(Qe));this.addProcessedElement(Re[Be],Be+1)}for(ze=We.length,Be=0;Be<ze;Be+=1)We[Be].closed=!0;for(ze=Ge.length,Be=0;Be<ze;Be+=1)Ge[Be].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var Re,e=this.stylesList.length;for(Re=0;Re<e;Re+=1)this.stylesList[Re].reset();for(this.renderShape(),Re=0;Re<e;Re+=1)(this.stylesList[Re]._mdf||this._isFirstFrame)&&(this.stylesList[Re].msElem&&(this.stylesList[Re].msElem.setAttribute("d",this.stylesList[Re].d),this.stylesList[Re].d="M0 0"+this.stylesList[Re].d),this.stylesList[Re].pElem.setAttribute("d",this.stylesList[Re].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var Re,e=this.animatedContents.length,Ee;for(Re=0;Re<e;Re+=1)Ee=this.animatedContents[Re],(this._isFirstFrame||Ee.element._isAnimated)&&Ee.data!==!0&&Ee.fn(Ee.data,Ee.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(Re,e,Ee,Ce,Te,De){this.o=Re,this.sw=e,this.sc=Ee,this.fc=Ce,this.m=Te,this.p=De,this._mdf={o:!0,sw:!!e,sc:!!Ee,fc:!!Ce,m:!0,p:!0}}LetterProps.prototype.update=function(Re,e,Ee,Ce,Te,De){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var Me=!1;return this.o!==Re&&(this.o=Re,this._mdf.o=!0,Me=!0),this.sw!==e&&(this.sw=e,this._mdf.sw=!0,Me=!0),this.sc!==Ee&&(this.sc=Ee,this._mdf.sc=!0,Me=!0),this.fc!==Ce&&(this.fc=Ce,this._mdf.fc=!0,Me=!0),this.m!==Te&&(this.m=Te,this._mdf.m=!0,Me=!0),De.length&&(this.p[0]!==De[0]||this.p[1]!==De[1]||this.p[4]!==De[4]||this.p[5]!==De[5]||this.p[12]!==De[12]||this.p[13]!==De[13])&&(this.p=De,this._mdf.p=!0,Me=!0),Me};function TextProperty(Re,e){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,e.d&&e.d.sid&&(e.d=Re.globalData.slotManager.getProp(e.d)),this.data=e,this.elem=Re,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(Re,e){for(var Ee in e)Object.prototype.hasOwnProperty.call(e,Ee)&&(Re[Ee]=e[Ee]);return Re},TextProperty.prototype.setCurrentData=function(Re){Re.__complete||this.completeTextData(Re),this.currentData=Re,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(Re){this.effectsSequence.push(Re),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(Re){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!Re)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var e=this.currentData,Ee=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var Ce,Te=this.effectsSequence.length,De=Re||this.data.d.k[this.keysIndex].s;for(Ce=0;Ce<Te;Ce+=1)Ee!==this.keysIndex?De=this.effectsSequence[Ce](De,De.t):De=this.effectsSequence[Ce](this.currentData,De.t);e!==De&&this.setCurrentData(De),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var Re=this.data.d.k,e=this.elem.comp.renderedFrame,Ee=0,Ce=Re.length;Ee<=Ce-1&&!(Ee===Ce-1||Re[Ee+1].t>e);)Ee+=1;return this.keysIndex!==Ee&&(this.keysIndex=Ee),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(Re){for(var e=[],Ee=0,Ce=Re.length,Te,De,Me=!1,Oe=!1,Be="";Ee<Ce;)Me=Oe,Oe=!1,Te=Re.charCodeAt(Ee),Be=Re.charAt(Ee),FontManager.isCombinedCharacter(Te)?Me=!0:Te>=55296&&Te<=56319?FontManager.isRegionalFlag(Re,Ee)?Be=Re.substr(Ee,14):(De=Re.charCodeAt(Ee+1),De>=56320&&De<=57343&&(FontManager.isModifier(Te,De)?(Be=Re.substr(Ee,2),Me=!0):FontManager.isFlagEmoji(Re.substr(Ee,4))?Be=Re.substr(Ee,4):Be=Re.substr(Ee,2))):Te>56319?(De=Re.charCodeAt(Ee+1),FontManager.isVariationSelector(Te)&&(Me=!0)):FontManager.isZeroWidthJoiner(Te)&&(Me=!0,Oe=!0),Me?(e[e.length-1]+=Be,Me=!1):e.push(Be),Ee+=Be.length;return e},TextProperty.prototype.completeTextData=function(Re){Re.__complete=!0;var e=this.elem.globalData.fontManager,Ee=this.data,Ce=[],Te,De,Me,Oe=0,Be,ze=Ee.m.g,Ve=0,qe=0,We=0,Ge=[],Je=0,Qe=0,ns,Ye,rs=e.getFontByName(Re.f),ts,Xe=0,is=getFontProperties(rs);Re.fWeight=is.weight,Re.fStyle=is.style,Re.finalSize=Re.s,Re.finalText=this.buildFinalText(Re.t),De=Re.finalText.length,Re.finalLineHeight=Re.lh;var os=Re.tr/1e3*Re.finalSize,hs;if(Re.sz)for(var fs=!0,xs=Re.sz[0],Ss=Re.sz[1],ds,gs;fs;){gs=this.buildFinalText(Re.t),ds=0,Je=0,De=gs.length,os=Re.tr/1e3*Re.finalSize;var Ts=-1;for(Te=0;Te<De;Te+=1)hs=gs[Te].charCodeAt(0),Me=!1,gs[Te]===" "?Ts=Te:(hs===13||hs===3)&&(Je=0,Me=!0,ds+=Re.finalLineHeight||Re.finalSize*1.2),e.chars?(ts=e.getCharData(gs[Te],rs.fStyle,rs.fFamily),Xe=Me?0:ts.w*Re.finalSize/100):Xe=e.measureText(gs[Te],Re.f,Re.finalSize),Je+Xe>xs&&gs[Te]!==" "?(Ts===-1?De+=1:Te=Ts,ds+=Re.finalLineHeight||Re.finalSize*1.2,gs.splice(Te,Ts===Te?1:0,"\r"),Ts=-1,Je=0):(Je+=Xe,Je+=os);ds+=rs.ascent*Re.finalSize/100,this.canResize&&Re.finalSize>this.minimumFontSize&&Ss<ds?(Re.finalSize-=1,Re.finalLineHeight=Re.finalSize*Re.lh/Re.s):(Re.finalText=gs,De=Re.finalText.length,fs=!1)}Je=-os,Xe=0;var Ds=0,Ms;for(Te=0;Te<De;Te+=1)if(Me=!1,Ms=Re.finalText[Te],hs=Ms.charCodeAt(0),hs===13||hs===3?(Ds=0,Ge.push(Je),Qe=Je>Qe?Je:Qe,Je=-2*os,Be="",Me=!0,We+=1):Be=Ms,e.chars?(ts=e.getCharData(Ms,rs.fStyle,e.getFontByName(Re.f).fFamily),Xe=Me?0:ts.w*Re.finalSize/100):Xe=e.measureText(Be,Re.f,Re.finalSize),Ms===" "?Ds+=Xe+os:(Je+=Xe+os+Ds,Ds=0),Ce.push({l:Xe,an:Xe,add:Ve,n:Me,anIndexes:[],val:Be,line:We,animatorJustifyOffset:0}),ze==2){if(Ve+=Xe,Be===""||Be===" "||Te===De-1){for((Be===""||Be===" ")&&(Ve-=Xe);qe<=Te;)Ce[qe].an=Ve,Ce[qe].ind=Oe,Ce[qe].extra=Xe,qe+=1;Oe+=1,Ve=0}}else if(ze==3){if(Ve+=Xe,Be===""||Te===De-1){for(Be===""&&(Ve-=Xe);qe<=Te;)Ce[qe].an=Ve,Ce[qe].ind=Oe,Ce[qe].extra=Xe,qe+=1;Ve=0,Oe+=1}}else Ce[Oe].ind=Oe,Ce[Oe].extra=0,Oe+=1;if(Re.l=Ce,Qe=Je>Qe?Je:Qe,Ge.push(Je),Re.sz)Re.boxWidth=Re.sz[0],Re.justifyOffset=0;else switch(Re.boxWidth=Qe,Re.j){case 1:Re.justifyOffset=-Re.boxWidth;break;case 2:Re.justifyOffset=-Re.boxWidth/2;break;default:Re.justifyOffset=0}Re.lineWidths=Ge;var bs=Ee.a,Ns,ps;Ye=bs.length;var _s,ws,js=[];for(ns=0;ns<Ye;ns+=1){for(Ns=bs[ns],Ns.a.sc&&(Re.strokeColorAnim=!0),Ns.a.sw&&(Re.strokeWidthAnim=!0),(Ns.a.fc||Ns.a.fh||Ns.a.fs||Ns.a.fb)&&(Re.fillColorAnim=!0),ws=0,_s=Ns.s.b,Te=0;Te<De;Te+=1)ps=Ce[Te],ps.anIndexes[ns]=ws,(_s==1&&ps.val!==""||_s==2&&ps.val!==""&&ps.val!==" "||_s==3&&(ps.n||ps.val==" "||Te==De-1)||_s==4&&(ps.n||Te==De-1))&&(Ns.s.rn===1&&js.push(ws),ws+=1);Ee.a[ns].s.totalChars=ws;var ms=-1,ys;if(Ns.s.rn===1)for(Te=0;Te<De;Te+=1)ps=Ce[Te],ms!=ps.anIndexes[ns]&&(ms=ps.anIndexes[ns],ys=js.splice(Math.floor(Math.random()*js.length),1)[0]),ps.anIndexes[ns]=ys}Re.yOffset=Re.finalLineHeight||Re.finalSize*1.2,Re.ls=Re.ls||0,Re.ascent=rs.ascent*Re.finalSize/100},TextProperty.prototype.updateDocumentData=function(Re,e){e=e===void 0?this.keysIndex:e;var Ee=this.copyData({},this.data.d.k[e].s);Ee=this.copyData(Ee,Re),this.data.d.k[e].s=Ee,this.recalculate(e),this.setCurrentData(Ee),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(Re){var e=this.data.d.k[Re].s;e.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(e)},TextProperty.prototype.canResizeFont=function(Re){this.canResize=Re,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(Re){this.minimumFontSize=Math.floor(Re)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var Re=Math.max,e=Math.min,Ee=Math.floor;function Ce(De,Me){this._currentTextLength=-1,this.k=!1,this.data=Me,this.elem=De,this.comp=De.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(De),this.s=PropertyFactory.getProp(De,Me.s||{k:0},0,0,this),"e"in Me?this.e=PropertyFactory.getProp(De,Me.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(De,Me.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(De,Me.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(De,Me.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(De,Me.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(De,Me.a,0,.01,this),this.dynamicProperties.length||this.getValue()}Ce.prototype={getMult:function(Me){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var Oe=0,Be=0,ze=1,Ve=1;this.ne.v>0?Oe=this.ne.v/100:Be=-this.ne.v/100,this.xe.v>0?ze=1-this.xe.v/100:Ve=1+this.xe.v/100;var qe=BezierFactory.getBezierEasing(Oe,Be,ze,Ve).get,We=0,Ge=this.finalS,Je=this.finalE,Qe=this.data.sh;if(Qe===2)Je===Ge?We=Me>=Je?1:0:We=Re(0,e(.5/(Je-Ge)+(Me-Ge)/(Je-Ge),1)),We=qe(We);else if(Qe===3)Je===Ge?We=Me>=Je?0:1:We=1-Re(0,e(.5/(Je-Ge)+(Me-Ge)/(Je-Ge),1)),We=qe(We);else if(Qe===4)Je===Ge?We=0:(We=Re(0,e(.5/(Je-Ge)+(Me-Ge)/(Je-Ge),1)),We<.5?We*=2:We=1-2*(We-.5)),We=qe(We);else if(Qe===5){if(Je===Ge)We=0;else{var ns=Je-Ge;Me=e(Re(0,Me+.5-Ge),Je-Ge);var Ye=-ns/2+Me,rs=ns/2;We=Math.sqrt(1-Ye*Ye/(rs*rs))}We=qe(We)}else Qe===6?(Je===Ge?We=0:(Me=e(Re(0,Me+.5-Ge),Je-Ge),We=(1+Math.cos(Math.PI+Math.PI*2*Me/(Je-Ge)))/2),We=qe(We)):(Me>=Ee(Ge)&&(Me-Ge<0?We=Re(0,e(e(Je,1)-(Ge-Me),1)):We=Re(0,e(Je-Me,1))),We=qe(We));if(this.sm.v!==100){var ts=this.sm.v*.01;ts===0&&(ts=1e-8);var Xe=.5-ts*.5;We<Xe?We=0:(We=(We-Xe)/ts,We>1&&(We=1))}return We*this.a.v},getValue:function(Me){this.iterateDynamicProperties(),this._mdf=Me||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,Me&&this.data.r===2&&(this.e.v=this._currentTextLength);var Oe=this.data.r===2?1:100/this.data.totalChars,Be=this.o.v/Oe,ze=this.s.v/Oe+Be,Ve=this.e.v/Oe+Be;if(ze>Ve){var qe=ze;ze=Ve,Ve=qe}this.finalS=ze,this.finalE=Ve}},extendPrototype([DynamicPropertyContainer],Ce);function Te(De,Me,Oe){return new Ce(De,Me)}return{getTextSelectorProp:Te}}();function TextAnimatorDataProperty(Re,e,Ee){var Ce={propType:!1},Te=PropertyFactory.getProp,De=e.a;this.a={r:De.r?Te(Re,De.r,0,degToRads,Ee):Ce,rx:De.rx?Te(Re,De.rx,0,degToRads,Ee):Ce,ry:De.ry?Te(Re,De.ry,0,degToRads,Ee):Ce,sk:De.sk?Te(Re,De.sk,0,degToRads,Ee):Ce,sa:De.sa?Te(Re,De.sa,0,degToRads,Ee):Ce,s:De.s?Te(Re,De.s,1,.01,Ee):Ce,a:De.a?Te(Re,De.a,1,0,Ee):Ce,o:De.o?Te(Re,De.o,0,.01,Ee):Ce,p:De.p?Te(Re,De.p,1,0,Ee):Ce,sw:De.sw?Te(Re,De.sw,0,0,Ee):Ce,sc:De.sc?Te(Re,De.sc,1,0,Ee):Ce,fc:De.fc?Te(Re,De.fc,1,0,Ee):Ce,fh:De.fh?Te(Re,De.fh,0,0,Ee):Ce,fs:De.fs?Te(Re,De.fs,0,.01,Ee):Ce,fb:De.fb?Te(Re,De.fb,0,.01,Ee):Ce,t:De.t?Te(Re,De.t,0,0,Ee):Ce},this.s=TextSelectorProp.getTextSelectorProp(Re,e.s,Ee),this.s.t=e.s.t}function TextAnimatorProperty(Re,e,Ee){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=Re,this._renderType=e,this._elem=Ee,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(Ee)}TextAnimatorProperty.prototype.searchProperties=function(){var Re,e=this._textData.a.length,Ee,Ce=PropertyFactory.getProp;for(Re=0;Re<e;Re+=1)Ee=this._textData.a[Re],this._animatorsData[Re]=new TextAnimatorDataProperty(this._elem,Ee,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:Ce(this._elem,this._textData.p.a,0,0,this),f:Ce(this._elem,this._textData.p.f,0,0,this),l:Ce(this._elem,this._textData.p.l,0,0,this),r:Ce(this._elem,this._textData.p.r,0,0,this),p:Ce(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=Ce(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(Re,e){if(this.lettersChangedFlag=e,!(!this._mdf&&!this._isFirstFrame&&!e&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var Ee=this._moreOptions.alignment.v,Ce=this._animatorsData,Te=this._textData,De=this.mHelper,Me=this._renderType,Oe=this.renderedLetters.length,Be,ze,Ve,qe,We=Re.l,Ge,Je,Qe,ns,Ye,rs,ts,Xe,is,os,hs,fs,xs,Ss,ds;if(this._hasMaskedPath){if(ds=this._pathData.m,!this._pathData.n||this._pathData._mdf){var gs=ds.v;this._pathData.r.v&&(gs=gs.reverse()),Ge={tLength:0,segments:[]},qe=gs._length-1;var Ts;for(fs=0,Ve=0;Ve<qe;Ve+=1)Ts=bez.buildBezierData(gs.v[Ve],gs.v[Ve+1],[gs.o[Ve][0]-gs.v[Ve][0],gs.o[Ve][1]-gs.v[Ve][1]],[gs.i[Ve+1][0]-gs.v[Ve+1][0],gs.i[Ve+1][1]-gs.v[Ve+1][1]]),Ge.tLength+=Ts.segmentLength,Ge.segments.push(Ts),fs+=Ts.segmentLength;Ve=qe,ds.v.c&&(Ts=bez.buildBezierData(gs.v[Ve],gs.v[0],[gs.o[Ve][0]-gs.v[Ve][0],gs.o[Ve][1]-gs.v[Ve][1]],[gs.i[0][0]-gs.v[0][0],gs.i[0][1]-gs.v[0][1]]),Ge.tLength+=Ts.segmentLength,Ge.segments.push(Ts),fs+=Ts.segmentLength),this._pathData.pi=Ge}if(Ge=this._pathData.pi,Je=this._pathData.f.v,ts=0,rs=1,ns=0,Ye=!0,os=Ge.segments,Je<0&&ds.v.c)for(Ge.tLength<Math.abs(Je)&&(Je=-Math.abs(Je)%Ge.tLength),ts=os.length-1,is=os[ts].points,rs=is.length-1;Je<0;)Je+=is[rs].partialLength,rs-=1,rs<0&&(ts-=1,is=os[ts].points,rs=is.length-1);is=os[ts].points,Xe=is[rs-1],Qe=is[rs],hs=Qe.partialLength}qe=We.length,Be=0,ze=0;var Ds=Re.finalSize*1.2*.714,Ms=!0,bs,Ns,ps,_s,ws;_s=Ce.length;var js,ms=-1,ys,ks,zs,Cs=Je,Ps=ts,Us=rs,Is=-1,Vs,Ks,or,rr,ur,Ws,Er,zr,Or="",tr=this.defaultPropsArray,Lr;if(Re.j===2||Re.j===1){var Js=0,lr=0,hr=Re.j===2?-.5:-1,Ar=0,Pr=!0;for(Ve=0;Ve<qe;Ve+=1)if(We[Ve].n){for(Js&&(Js+=lr);Ar<Ve;)We[Ar].animatorJustifyOffset=Js,Ar+=1;Js=0,Pr=!0}else{for(ps=0;ps<_s;ps+=1)bs=Ce[ps].a,bs.t.propType&&(Pr&&Re.j===2&&(lr+=bs.t.v*hr),Ns=Ce[ps].s,js=Ns.getMult(We[Ve].anIndexes[ps],Te.a[ps].s.totalChars),js.length?Js+=bs.t.v*js[0]*hr:Js+=bs.t.v*js*hr);Pr=!1}for(Js&&(Js+=lr);Ar<Ve;)We[Ar].animatorJustifyOffset=Js,Ar+=1}for(Ve=0;Ve<qe;Ve+=1){if(De.reset(),Vs=1,We[Ve].n)Be=0,ze+=Re.yOffset,ze+=Ms?1:0,Je=Cs,Ms=!1,this._hasMaskedPath&&(ts=Ps,rs=Us,is=os[ts].points,Xe=is[rs-1],Qe=is[rs],hs=Qe.partialLength,ns=0),Or="",zr="",Ws="",Lr="",tr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Is!==We[Ve].line){switch(Re.j){case 1:Je+=fs-Re.lineWidths[We[Ve].line];break;case 2:Je+=(fs-Re.lineWidths[We[Ve].line])/2;break}Is=We[Ve].line}ms!==We[Ve].ind&&(We[ms]&&(Je+=We[ms].extra),Je+=We[Ve].an/2,ms=We[Ve].ind),Je+=Ee[0]*We[Ve].an*.005;var vr=0;for(ps=0;ps<_s;ps+=1)bs=Ce[ps].a,bs.p.propType&&(Ns=Ce[ps].s,js=Ns.getMult(We[Ve].anIndexes[ps],Te.a[ps].s.totalChars),js.length?vr+=bs.p.v[0]*js[0]:vr+=bs.p.v[0]*js),bs.a.propType&&(Ns=Ce[ps].s,js=Ns.getMult(We[Ve].anIndexes[ps],Te.a[ps].s.totalChars),js.length?vr+=bs.a.v[0]*js[0]:vr+=bs.a.v[0]*js);for(Ye=!0,this._pathData.a.v&&(Je=We[0].an*.5+(fs-this._pathData.f.v-We[0].an*.5-We[We.length-1].an*.5)*ms/(qe-1),Je+=this._pathData.f.v);Ye;)ns+hs>=Je+vr||!is?(xs=(Je+vr-ns)/Qe.partialLength,ks=Xe.point[0]+(Qe.point[0]-Xe.point[0])*xs,zs=Xe.point[1]+(Qe.point[1]-Xe.point[1])*xs,De.translate(-Ee[0]*We[Ve].an*.005,-(Ee[1]*Ds)*.01),Ye=!1):is&&(ns+=Qe.partialLength,rs+=1,rs>=is.length&&(rs=0,ts+=1,os[ts]?is=os[ts].points:ds.v.c?(rs=0,ts=0,is=os[ts].points):(ns-=Qe.partialLength,is=null)),is&&(Xe=Qe,Qe=is[rs],hs=Qe.partialLength));ys=We[Ve].an/2-We[Ve].add,De.translate(-ys,0,0)}else ys=We[Ve].an/2-We[Ve].add,De.translate(-ys,0,0),De.translate(-Ee[0]*We[Ve].an*.005,-Ee[1]*Ds*.01,0);for(ps=0;ps<_s;ps+=1)bs=Ce[ps].a,bs.t.propType&&(Ns=Ce[ps].s,js=Ns.getMult(We[Ve].anIndexes[ps],Te.a[ps].s.totalChars),(Be!==0||Re.j!==0)&&(this._hasMaskedPath?js.length?Je+=bs.t.v*js[0]:Je+=bs.t.v*js:js.length?Be+=bs.t.v*js[0]:Be+=bs.t.v*js));for(Re.strokeWidthAnim&&(or=Re.sw||0),Re.strokeColorAnim&&(Re.sc?Ks=[Re.sc[0],Re.sc[1],Re.sc[2]]:Ks=[0,0,0]),Re.fillColorAnim&&Re.fc&&(rr=[Re.fc[0],Re.fc[1],Re.fc[2]]),ps=0;ps<_s;ps+=1)bs=Ce[ps].a,bs.a.propType&&(Ns=Ce[ps].s,js=Ns.getMult(We[Ve].anIndexes[ps],Te.a[ps].s.totalChars),js.length?De.translate(-bs.a.v[0]*js[0],-bs.a.v[1]*js[1],bs.a.v[2]*js[2]):De.translate(-bs.a.v[0]*js,-bs.a.v[1]*js,bs.a.v[2]*js));for(ps=0;ps<_s;ps+=1)bs=Ce[ps].a,bs.s.propType&&(Ns=Ce[ps].s,js=Ns.getMult(We[Ve].anIndexes[ps],Te.a[ps].s.totalChars),js.length?De.scale(1+(bs.s.v[0]-1)*js[0],1+(bs.s.v[1]-1)*js[1],1):De.scale(1+(bs.s.v[0]-1)*js,1+(bs.s.v[1]-1)*js,1));for(ps=0;ps<_s;ps+=1){if(bs=Ce[ps].a,Ns=Ce[ps].s,js=Ns.getMult(We[Ve].anIndexes[ps],Te.a[ps].s.totalChars),bs.sk.propType&&(js.length?De.skewFromAxis(-bs.sk.v*js[0],bs.sa.v*js[1]):De.skewFromAxis(-bs.sk.v*js,bs.sa.v*js)),bs.r.propType&&(js.length?De.rotateZ(-bs.r.v*js[2]):De.rotateZ(-bs.r.v*js)),bs.ry.propType&&(js.length?De.rotateY(bs.ry.v*js[1]):De.rotateY(bs.ry.v*js)),bs.rx.propType&&(js.length?De.rotateX(bs.rx.v*js[0]):De.rotateX(bs.rx.v*js)),bs.o.propType&&(js.length?Vs+=(bs.o.v*js[0]-Vs)*js[0]:Vs+=(bs.o.v*js-Vs)*js),Re.strokeWidthAnim&&bs.sw.propType&&(js.length?or+=bs.sw.v*js[0]:or+=bs.sw.v*js),Re.strokeColorAnim&&bs.sc.propType)for(ur=0;ur<3;ur+=1)js.length?Ks[ur]+=(bs.sc.v[ur]-Ks[ur])*js[0]:Ks[ur]+=(bs.sc.v[ur]-Ks[ur])*js;if(Re.fillColorAnim&&Re.fc){if(bs.fc.propType)for(ur=0;ur<3;ur+=1)js.length?rr[ur]+=(bs.fc.v[ur]-rr[ur])*js[0]:rr[ur]+=(bs.fc.v[ur]-rr[ur])*js;bs.fh.propType&&(js.length?rr=addHueToRGB(rr,bs.fh.v*js[0]):rr=addHueToRGB(rr,bs.fh.v*js)),bs.fs.propType&&(js.length?rr=addSaturationToRGB(rr,bs.fs.v*js[0]):rr=addSaturationToRGB(rr,bs.fs.v*js)),bs.fb.propType&&(js.length?rr=addBrightnessToRGB(rr,bs.fb.v*js[0]):rr=addBrightnessToRGB(rr,bs.fb.v*js))}}for(ps=0;ps<_s;ps+=1)bs=Ce[ps].a,bs.p.propType&&(Ns=Ce[ps].s,js=Ns.getMult(We[Ve].anIndexes[ps],Te.a[ps].s.totalChars),this._hasMaskedPath?js.length?De.translate(0,bs.p.v[1]*js[0],-bs.p.v[2]*js[1]):De.translate(0,bs.p.v[1]*js,-bs.p.v[2]*js):js.length?De.translate(bs.p.v[0]*js[0],bs.p.v[1]*js[1],-bs.p.v[2]*js[2]):De.translate(bs.p.v[0]*js,bs.p.v[1]*js,-bs.p.v[2]*js));if(Re.strokeWidthAnim&&(Ws=or<0?0:or),Re.strokeColorAnim&&(Er="rgb("+Math.round(Ks[0]*255)+","+Math.round(Ks[1]*255)+","+Math.round(Ks[2]*255)+")"),Re.fillColorAnim&&Re.fc&&(zr="rgb("+Math.round(rr[0]*255)+","+Math.round(rr[1]*255)+","+Math.round(rr[2]*255)+")"),this._hasMaskedPath){if(De.translate(0,-Re.ls),De.translate(0,Ee[1]*Ds*.01+ze,0),this._pathData.p.v){Ss=(Qe.point[1]-Xe.point[1])/(Qe.point[0]-Xe.point[0]);var Mr=Math.atan(Ss)*180/Math.PI;Qe.point[0]<Xe.point[0]&&(Mr+=180),De.rotate(-Mr*Math.PI/180)}De.translate(ks,zs,0),Je-=Ee[0]*We[Ve].an*.005,We[Ve+1]&&ms!==We[Ve+1].ind&&(Je+=We[Ve].an/2,Je+=Re.tr*.001*Re.finalSize)}else{switch(De.translate(Be,ze,0),Re.ps&&De.translate(Re.ps[0],Re.ps[1]+Re.ascent,0),Re.j){case 1:De.translate(We[Ve].animatorJustifyOffset+Re.justifyOffset+(Re.boxWidth-Re.lineWidths[We[Ve].line]),0,0);break;case 2:De.translate(We[Ve].animatorJustifyOffset+Re.justifyOffset+(Re.boxWidth-Re.lineWidths[We[Ve].line])/2,0,0);break}De.translate(0,-Re.ls),De.translate(ys,0,0),De.translate(Ee[0]*We[Ve].an*.005,Ee[1]*Ds*.01,0),Be+=We[Ve].l+Re.tr*.001*Re.finalSize}Me==="html"?Or=De.toCSS():Me==="svg"?Or=De.to2dCSS():tr=[De.props[0],De.props[1],De.props[2],De.props[3],De.props[4],De.props[5],De.props[6],De.props[7],De.props[8],De.props[9],De.props[10],De.props[11],De.props[12],De.props[13],De.props[14],De.props[15]],Lr=Vs}Oe<=Ve?(ws=new LetterProps(Lr,Ws,Er,zr,Or,tr),this.renderedLetters.push(ws),Oe+=1,this.lettersChangedFlag=!0):(ws=this.renderedLetters[Ve],this.lettersChangedFlag=ws.update(Lr,Ws,Er,zr,Or,tr)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(Re,e,Ee){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(Re,e,Ee),this.textProperty=new TextProperty(this,Re.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(Re.t,this.renderType,this),this.initTransform(Re,e,Ee),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(Re){this._mdf=!1,this.prepareRenderableFrame(Re),this.prepareProperties(Re,this.isInRange)},ITextElement.prototype.createPathShape=function(Re,e){var Ee,Ce=e.length,Te,De="";for(Ee=0;Ee<Ce;Ee+=1)e[Ee].ty==="sh"&&(Te=e[Ee].ks.k,De+=buildShapeString(Te,Te.i.length,!0,Re));return De},ITextElement.prototype.updateDocumentData=function(Re,e){this.textProperty.updateDocumentData(Re,e)},ITextElement.prototype.canResizeFont=function(Re){this.textProperty.canResizeFont(Re)},ITextElement.prototype.setMinimumFontSize=function(Re){this.textProperty.setMinimumFontSize(Re)},ITextElement.prototype.applyTextPropertiesToMatrix=function(Re,e,Ee,Ce,Te){switch(Re.ps&&e.translate(Re.ps[0],Re.ps[1]+Re.ascent,0),e.translate(0,-Re.ls,0),Re.j){case 1:e.translate(Re.justifyOffset+(Re.boxWidth-Re.lineWidths[Ee]),0,0);break;case 2:e.translate(Re.justifyOffset+(Re.boxWidth-Re.lineWidths[Ee])/2,0,0);break}e.translate(Ce,Te,0)},ITextElement.prototype.buildColor=function(Re){return"rgb("+Math.round(Re[0]*255)+","+Math.round(Re[1]*255)+","+Math.round(Re[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(Re,e,Ee){this.textSpans=[],this.renderType="svg",this.initElement(Re,e,Ee)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(Re){for(var e=0,Ee=Re.length,Ce=[],Te="";e<Ee;)Re[e]==="\r"||Re[e]===""?(Ce.push(Te),Te=""):Te+=Re[e],e+=1;return Ce.push(Te),Ce},SVGTextLottieElement.prototype.buildShapeData=function(Re,e){if(Re.shapes&&Re.shapes.length){var Ee=Re.shapes[0];if(Ee.it){var Ce=Ee.it[Ee.it.length-1];Ce.s&&(Ce.s.k[0]=e,Ce.s.k[1]=e)}}return Re},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var Re,e,Ee=this.textProperty.currentData;this.renderedLetters=createSizedArray(Ee?Ee.l.length:0),Ee.fc?this.layerElement.setAttribute("fill",this.buildColor(Ee.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),Ee.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(Ee.sc)),this.layerElement.setAttribute("stroke-width",Ee.sw)),this.layerElement.setAttribute("font-size",Ee.finalSize);var Ce=this.globalData.fontManager.getFontByName(Ee.f);if(Ce.fClass)this.layerElement.setAttribute("class",Ce.fClass);else{this.layerElement.setAttribute("font-family",Ce.fFamily);var Te=Ee.fWeight,De=Ee.fStyle;this.layerElement.setAttribute("font-style",De),this.layerElement.setAttribute("font-weight",Te)}this.layerElement.setAttribute("aria-label",Ee.t);var Me=Ee.l||[],Oe=!!this.globalData.fontManager.chars;e=Me.length;var Be,ze=this.mHelper,Ve="",qe=this.data.singleShape,We=0,Ge=0,Je=!0,Qe=Ee.tr*.001*Ee.finalSize;if(qe&&!Oe&&!Ee.sz){var ns=this.textContainer,Ye="start";switch(Ee.j){case 1:Ye="end";break;case 2:Ye="middle";break;default:Ye="start";break}ns.setAttribute("text-anchor",Ye),ns.setAttribute("letter-spacing",Qe);var rs=this.buildTextContents(Ee.finalText);for(e=rs.length,Ge=Ee.ps?Ee.ps[1]+Ee.ascent:0,Re=0;Re<e;Re+=1)Be=this.textSpans[Re].span||createNS("tspan"),Be.textContent=rs[Re],Be.setAttribute("x",0),Be.setAttribute("y",Ge),Be.style.display="inherit",ns.appendChild(Be),this.textSpans[Re]||(this.textSpans[Re]={span:null,glyph:null}),this.textSpans[Re].span=Be,Ge+=Ee.finalLineHeight;this.layerElement.appendChild(ns)}else{var ts=this.textSpans.length,Xe;for(Re=0;Re<e;Re+=1){if(this.textSpans[Re]||(this.textSpans[Re]={span:null,childSpan:null,glyph:null}),!Oe||!qe||Re===0){if(Be=ts>Re?this.textSpans[Re].span:createNS(Oe?"g":"text"),ts<=Re){if(Be.setAttribute("stroke-linecap","butt"),Be.setAttribute("stroke-linejoin","round"),Be.setAttribute("stroke-miterlimit","4"),this.textSpans[Re].span=Be,Oe){var is=createNS("g");Be.appendChild(is),this.textSpans[Re].childSpan=is}this.textSpans[Re].span=Be,this.layerElement.appendChild(Be)}Be.style.display="inherit"}if(ze.reset(),qe&&(Me[Re].n&&(We=-Qe,Ge+=Ee.yOffset,Ge+=Je?1:0,Je=!1),this.applyTextPropertiesToMatrix(Ee,ze,Me[Re].line,We,Ge),We+=Me[Re].l||0,We+=Qe),Oe){Xe=this.globalData.fontManager.getCharData(Ee.finalText[Re],Ce.fStyle,this.globalData.fontManager.getFontByName(Ee.f).fFamily);var os;if(Xe.t===1)os=new SVGCompElement(Xe.data,this.globalData,this);else{var hs=emptyShapeData;Xe.data&&Xe.data.shapes&&(hs=this.buildShapeData(Xe.data,Ee.finalSize)),os=new SVGShapeElement(hs,this.globalData,this)}if(this.textSpans[Re].glyph){var fs=this.textSpans[Re].glyph;this.textSpans[Re].childSpan.removeChild(fs.layerElement),fs.destroy()}this.textSpans[Re].glyph=os,os._debug=!0,os.prepareFrame(0),os.renderFrame(),this.textSpans[Re].childSpan.appendChild(os.layerElement),Xe.t===1&&this.textSpans[Re].childSpan.setAttribute("transform","scale("+Ee.finalSize/100+","+Ee.finalSize/100+")")}else qe&&Be.setAttribute("transform","translate("+ze.props[12]+","+ze.props[13]+")"),Be.textContent=Me[Re].val,Be.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}qe&&Be&&Be.setAttribute("d",Ve)}for(;Re<this.textSpans.length;)this.textSpans[Re].span.style.display="none",Re+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var Re=this.layerElement.getBBox();this.bbox={top:Re.y,left:Re.x,width:Re.width,height:Re.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var Re,e=this.textSpans.length,Ee;for(this.renderedFrame=this.comp.renderedFrame,Re=0;Re<e;Re+=1)Ee=this.textSpans[Re].glyph,Ee&&(Ee.prepareFrame(this.comp.renderedFrame-this.data.st),Ee._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var Re,e,Ee=this.textAnimator.renderedLetters,Ce=this.textProperty.currentData.l;e=Ce.length;var Te,De,Me;for(Re=0;Re<e;Re+=1)Ce[Re].n||(Te=Ee[Re],De=this.textSpans[Re].span,Me=this.textSpans[Re].glyph,Me&&Me.renderFrame(),Te._mdf.m&&De.setAttribute("transform",Te.m),Te._mdf.o&&De.setAttribute("opacity",Te.o),Te._mdf.sw&&De.setAttribute("stroke-width",Te.sw),Te._mdf.sc&&De.setAttribute("stroke",Te.sc),Te._mdf.fc&&De.setAttribute("fill",Te.fc))}};function ISolidElement(Re,e,Ee){this.initElement(Re,e,Ee)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var Re=createNS("rect");Re.setAttribute("width",this.data.sw),Re.setAttribute("height",this.data.sh),Re.setAttribute("fill",this.data.sc),this.layerElement.appendChild(Re)};function NullElement(Re,e,Ee){this.initFrame(),this.initBaseData(Re,e,Ee),this.initFrame(),this.initTransform(Re,e,Ee),this.initHierarchy()}NullElement.prototype.prepareFrame=function(Re){this.prepareProperties(Re,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(Re){return new NullElement(Re,this.globalData,this)},SVGRendererBase.prototype.createShape=function(Re){return new SVGShapeElement(Re,this.globalData,this)},SVGRendererBase.prototype.createText=function(Re){return new SVGTextLottieElement(Re,this.globalData,this)},SVGRendererBase.prototype.createImage=function(Re){return new IImageElement(Re,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(Re){return new ISolidElement(Re,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(Re){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+Re.w+" "+Re.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",Re.w),this.svgElement.setAttribute("height",Re.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var e=this.globalData.defs;this.setupGlobalData(Re,e),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=Re;var Ee=createNS("clipPath"),Ce=createNS("rect");Ce.setAttribute("width",Re.w),Ce.setAttribute("height",Re.h),Ce.setAttribute("x",0),Ce.setAttribute("y",0);var Te=createElementID();Ee.setAttribute("id",Te),Ee.appendChild(Ce),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+Te+")"),e.appendChild(Ee),this.layers=Re.layers,this.elements=createSizedArray(Re.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var Re,e=this.layers?this.layers.length:0;for(Re=0;Re<e;Re+=1)this.elements[Re]&&this.elements[Re].destroy&&this.elements[Re].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(Re){var e=0,Ee=this.layers.length;for(e=0;e<Ee;e+=1)if(this.layers[e].ind===Re)return e;return-1},SVGRendererBase.prototype.buildItem=function(Re){var e=this.elements;if(!(e[Re]||this.layers[Re].ty===99)){e[Re]=!0;var Ee=this.createItem(this.layers[Re]);if(e[Re]=Ee,getExpressionsPlugin()&&(this.layers[Re].ty===0&&this.globalData.projectInterface.registerComposition(Ee),Ee.initExpressions()),this.appendElementInPos(Ee,Re),this.layers[Re].tt){var Ce="tp"in this.layers[Re]?this.findIndexByInd(this.layers[Re].tp):Re-1;if(Ce===-1)return;if(!this.elements[Ce]||this.elements[Ce]===!0)this.buildItem(Ce),this.addPendingElement(Ee);else{var Te=e[Ce],De=Te.getMatte(this.layers[Re].tt);Ee.setMatte(De)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Re=this.pendingElements.pop();if(Re.checkParenting(),Re.data.tt)for(var e=0,Ee=this.elements.length;e<Ee;){if(this.elements[e]===Re){var Ce="tp"in Re.data?this.findIndexByInd(Re.data.tp):e-1,Te=this.elements[Ce],De=Te.getMatte(this.layers[e].tt);Re.setMatte(De);break}e+=1}}},SVGRendererBase.prototype.renderFrame=function(Re){if(!(this.renderedFrame===Re||this.destroyed)){Re===null?Re=this.renderedFrame:this.renderedFrame=Re,this.globalData.frameNum=Re,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=Re,this.globalData._mdf=!1;var e,Ee=this.layers.length;for(this.completeLayers||this.checkLayers(Re),e=Ee-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].prepareFrame(Re-this.layers[e].st);if(this.globalData._mdf)for(e=0;e<Ee;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(Re,e){var Ee=Re.getBaseElement();if(Ee){for(var Ce=0,Te;Ce<e;)this.elements[Ce]&&this.elements[Ce]!==!0&&this.elements[Ce].getBaseElement()&&(Te=this.elements[Ce].getBaseElement()),Ce+=1;Te?this.layerElement.insertBefore(Ee,Te):this.layerElement.appendChild(Ee)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(Re,e,Ee){this.initFrame(),this.initBaseData(Re,e,Ee),this.initTransform(Re,e,Ee),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!e.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(Re){if(this._mdf=!1,this.prepareRenderableFrame(Re),this.prepareProperties(Re,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=Re/this.data.sr;else{var e=this.tm.v;e===this.data.op&&(e=this.data.op-1),this.renderedFrame=e}var Ee,Ce=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),Ee=Ce-1;Ee>=0;Ee-=1)(this.completeLayers||this.elements[Ee])&&(this.elements[Ee].prepareFrame(this.renderedFrame-this.layers[Ee].st),this.elements[Ee]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var Re,e=this.layers.length;for(Re=0;Re<e;Re+=1)(this.completeLayers||this.elements[Re])&&this.elements[Re].renderFrame()},ICompElement.prototype.setElements=function(Re){this.elements=Re},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var Re,e=this.layers.length;for(Re=0;Re<e;Re+=1)this.elements[Re]&&this.elements[Re].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(Re,e,Ee){this.layers=Re.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(Re,e,Ee),this.tm=Re.tm?PropertyFactory.getProp(this,Re.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(Re){return new SVGCompElement(Re,this.globalData,this)};function SVGRenderer(Re,e){this.animationItem=Re,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var Ee="";if(e&&e.title){var Ce=createNS("title"),Te=createElementID();Ce.setAttribute("id",Te),Ce.textContent=e.title,this.svgElement.appendChild(Ce),Ee+=Te}if(e&&e.description){var De=createNS("desc"),Me=createElementID();De.setAttribute("id",Me),De.textContent=e.description,this.svgElement.appendChild(De),Ee+=" "+Me}Ee&&this.svgElement.setAttribute("aria-labelledby",Ee);var Oe=createNS("defs");this.svgElement.appendChild(Oe);var Be=createNS("g");this.svgElement.appendChild(Be),this.layerElement=Be,this.renderConfig={preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",progressiveLoad:e&&e.progressiveLoad||!1,hideOnTransparent:!(e&&e.hideOnTransparent===!1),viewBoxOnly:e&&e.viewBoxOnly||!1,viewBoxSize:e&&e.viewBoxSize||!1,className:e&&e.className||"",id:e&&e.id||"",focusable:e&&e.focusable,filterSize:{width:e&&e.filterSize&&e.filterSize.width||"100%",height:e&&e.filterSize&&e.filterSize.height||"100%",x:e&&e.filterSize&&e.filterSize.x||"0%",y:e&&e.filterSize&&e.filterSize.y||"0%"},width:e&&e.width,height:e&&e.height,runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:Oe,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(Re){return new SVGCompElement(Re,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(e){var Ee,Ce=e.length,Te="_";for(Ee=0;Ee<Ce;Ee+=1)Te+=e[Ee].transform.key+"_";var De=this.sequences[Te];return De||(De={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[Te]=De,this.sequenceList.push(De)),De},processSequence:function(e,Ee){for(var Ce=0,Te=e.transforms.length,De=Ee;Ce<Te&&!Ee;){if(e.transforms[Ce].transform.mProps._mdf){De=!0;break}Ce+=1}if(De)for(e.finalTransform.reset(),Ce=Te-1;Ce>=0;Ce-=1)e.finalTransform.multiply(e.transforms[Ce].transform.mProps.v);e._mdf=De},processSequences:function(e){var Ee,Ce=this.sequenceList.length;for(Ee=0;Ee<Ce;Ee+=1)this.processSequence(this.sequenceList[Ee],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var e="__lottie_element_luma_buffer",Ee=null,Ce=null,Te=null;function De(){var Be=createNS("svg"),ze=createNS("filter"),Ve=createNS("feColorMatrix");return ze.setAttribute("id",e),Ve.setAttribute("type","matrix"),Ve.setAttribute("color-interpolation-filters","sRGB"),Ve.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),ze.appendChild(Ve),Be.appendChild(ze),Be.setAttribute("id",e+"_svg"),featureSupport.svgLumaHidden&&(Be.style.display="none"),Be}function Me(){Ee||(Te=De(),document.body.appendChild(Te),Ee=createTag("canvas"),Ce=Ee.getContext("2d"),Ce.filter="url(#"+e+")",Ce.fillStyle="rgba(0,0,0,0)",Ce.fillRect(0,0,1,1))}function Oe(Be){return Ee||Me(),Ee.width=Be.width,Ee.height=Be.height,Ce.filter="url(#"+e+")",Ee}return{load:Me,get:Oe}};function createCanvas(Re,e){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(Re,e);var Ee=createTag("canvas");return Ee.width=Re,Ee.height=e,Ee}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(Re){var e,Ee=Re.data.ef?Re.data.ef.length:0;this.filters=[];var Ce;for(e=0;e<Ee;e+=1){Ce=null;var Te=Re.data.ef[e].ty;if(registeredEffects[Te]){var De=registeredEffects[Te].effect;Ce=new De(Re.effectsManager.effectElements[e],Re)}Ce&&this.filters.push(Ce)}this.filters.length&&Re.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(Re){var e,Ee=this.filters.length;for(e=0;e<Ee;e+=1)this.filters[e].renderFrame(Re)},CVEffects.prototype.getEffects=function(Re){var e,Ee=this.filters.length,Ce=[];for(e=0;e<Ee;e+=1)this.filters[e].type===Re&&Ce.push(this.filters[e]);return Ce};function registerEffect(Re,e){registeredEffects[Re]={effect:e}}function CVMaskElement(Re,e){this.data=Re,this.element=e,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var Ee,Ce=this.masksProperties.length,Te=!1;for(Ee=0;Ee<Ce;Ee+=1)this.masksProperties[Ee].mode!=="n"&&(Te=!0),this.viewData[Ee]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[Ee],3);this.hasMasks=Te,Te&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var Re=this.element.finalTransform.mat,e=this.element.canvasContext,Ee,Ce=this.masksProperties.length,Te,De,Me;for(e.beginPath(),Ee=0;Ee<Ce;Ee+=1)if(this.masksProperties[Ee].mode!=="n"){this.masksProperties[Ee].inv&&(e.moveTo(0,0),e.lineTo(this.element.globalData.compSize.w,0),e.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),e.lineTo(0,this.element.globalData.compSize.h),e.lineTo(0,0)),Me=this.viewData[Ee].v,Te=Re.applyToPointArray(Me.v[0][0],Me.v[0][1],0),e.moveTo(Te[0],Te[1]);var Oe,Be=Me._length;for(Oe=1;Oe<Be;Oe+=1)De=Re.applyToTriplePoints(Me.o[Oe-1],Me.i[Oe],Me.v[Oe]),e.bezierCurveTo(De[0],De[1],De[2],De[3],De[4],De[5]);De=Re.applyToTriplePoints(Me.o[Oe-1],Me.i[0],Me.v[0]),e.bezierCurveTo(De[0],De[1],De[2],De[3],De[4],De[5])}this.element.globalData.renderer.save(!0),e.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var e=this.globalData.canvasContext,Ee=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(Ee);var Ce=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(Ce),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var Ee=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=Ee}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(e){e.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var e=this.buffers[0],Ee=e.getContext("2d");this.clearCanvas(Ee),Ee.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var e=this.buffers[1],Ee=e.getContext("2d");this.clearCanvas(Ee),Ee.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var Ce=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(Ce.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var Te=assetLoader.getLumaCanvas(this.canvasContext.canvas),De=Te.getContext("2d");De.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(Te,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(e){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!e)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var Ee=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(Ee),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(Ee),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(Re,e,Ee,Ce){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var Te=4;e.ty==="rc"?Te=5:e.ty==="el"?Te=6:e.ty==="sr"&&(Te=7),this.sh=ShapePropertyFactory.getShapeProp(Re,e,Te,Re);var De,Me=Ee.length,Oe;for(De=0;De<Me;De+=1)Ee[De].closed||(Oe={transforms:Ce.addTransformSequence(Ee[De].transforms),trNodes:[]},this.styledShapes.push(Oe),Ee[De].elements.push(Oe))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(Re,e,Ee){this.shapes=[],this.shapesData=Re.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(Re,e,Ee)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(Re,e){var Ee={data:Re,type:Re.ty,preTransforms:this.transformsManager.addTransformSequence(e),transforms:[],elements:[],closed:Re.hd===!0},Ce={};if(Re.ty==="fl"||Re.ty==="st"?(Ce.c=PropertyFactory.getProp(this,Re.c,1,255,this),Ce.c.k||(Ee.co="rgb("+bmFloor(Ce.c.v[0])+","+bmFloor(Ce.c.v[1])+","+bmFloor(Ce.c.v[2])+")")):(Re.ty==="gf"||Re.ty==="gs")&&(Ce.s=PropertyFactory.getProp(this,Re.s,1,null,this),Ce.e=PropertyFactory.getProp(this,Re.e,1,null,this),Ce.h=PropertyFactory.getProp(this,Re.h||{k:0},0,.01,this),Ce.a=PropertyFactory.getProp(this,Re.a||{k:0},0,degToRads,this),Ce.g=new GradientProperty(this,Re.g,this)),Ce.o=PropertyFactory.getProp(this,Re.o,0,.01,this),Re.ty==="st"||Re.ty==="gs"){if(Ee.lc=lineCapEnum[Re.lc||2],Ee.lj=lineJoinEnum[Re.lj||2],Re.lj==1&&(Ee.ml=Re.ml),Ce.w=PropertyFactory.getProp(this,Re.w,0,null,this),Ce.w.k||(Ee.wi=Ce.w.v),Re.d){var Te=new DashProperty(this,Re.d,"canvas",this);Ce.d=Te,Ce.d.k||(Ee.da=Ce.d.dashArray,Ee.do=Ce.d.dashoffset[0])}}else Ee.r=Re.r===2?"evenodd":"nonzero";return this.stylesList.push(Ee),Ce.style=Ee,Ce},CVShapeElement.prototype.createGroupElement=function(){var Re={it:[],prevViewData:[]};return Re},CVShapeElement.prototype.createTransformElement=function(Re){var e={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,Re.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,Re,this)}};return e},CVShapeElement.prototype.createShapeElement=function(Re){var e=new CVShapeData(this,Re,this.stylesList,this.transformsManager);return this.shapes.push(e),this.addShapeToModifiers(e),e},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var Re,e=this.itemsData.length;for(Re=0;Re<e;Re+=1)this.prevViewData[Re]=this.itemsData[Re];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),e=this.dynamicProperties.length,Re=0;Re<e;Re+=1)this.dynamicProperties[Re].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(Re){var e,Ee=this.stylesList.length;for(e=0;e<Ee;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.push(Re)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var Re,e=this.stylesList.length;for(Re=0;Re<e;Re+=1)this.stylesList[Re].closed||this.stylesList[Re].transforms.pop()},CVShapeElement.prototype.closeStyles=function(Re){var e,Ee=Re.length;for(e=0;e<Ee;e+=1)Re[e].closed=!0},CVShapeElement.prototype.searchShapes=function(Re,e,Ee,Ce,Te){var De,Me=Re.length-1,Oe,Be,ze=[],Ve=[],qe,We,Ge,Je=[].concat(Te);for(De=Me;De>=0;De-=1){if(qe=this.searchProcessedElement(Re[De]),qe?e[De]=Ee[qe-1]:Re[De]._shouldRender=Ce,Re[De].ty==="fl"||Re[De].ty==="st"||Re[De].ty==="gf"||Re[De].ty==="gs")qe?e[De].style.closed=!1:e[De]=this.createStyleElement(Re[De],Je),ze.push(e[De].style);else if(Re[De].ty==="gr"){if(!qe)e[De]=this.createGroupElement(Re[De]);else for(Be=e[De].it.length,Oe=0;Oe<Be;Oe+=1)e[De].prevViewData[Oe]=e[De].it[Oe];this.searchShapes(Re[De].it,e[De].it,e[De].prevViewData,Ce,Je)}else Re[De].ty==="tr"?(qe||(Ge=this.createTransformElement(Re[De]),e[De]=Ge),Je.push(e[De]),this.addTransformToStyleList(e[De])):Re[De].ty==="sh"||Re[De].ty==="rc"||Re[De].ty==="el"||Re[De].ty==="sr"?qe||(e[De]=this.createShapeElement(Re[De])):Re[De].ty==="tm"||Re[De].ty==="rd"||Re[De].ty==="pb"||Re[De].ty==="zz"||Re[De].ty==="op"?(qe?(We=e[De],We.closed=!1):(We=ShapeModifiers.getModifier(Re[De].ty),We.init(this,Re[De]),e[De]=We,this.shapeModifiers.push(We)),Ve.push(We)):Re[De].ty==="rp"&&(qe?(We=e[De],We.closed=!0):(We=ShapeModifiers.getModifier(Re[De].ty),e[De]=We,We.init(this,Re,De,e),this.shapeModifiers.push(We),Ce=!1),Ve.push(We));this.addProcessedElement(Re[De],De+1)}for(this.removeTransformFromStyleList(),this.closeStyles(ze),Me=Ve.length,De=0;De<Me;De+=1)Ve[De].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(Re,e){(Re._opMdf||e.op._mdf||this._isFirstFrame)&&(e.opacity=Re.opacity,e.opacity*=e.op.v,e._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var Re,e=this.stylesList.length,Ee,Ce,Te,De,Me,Oe,Be=this.globalData.renderer,ze=this.globalData.canvasContext,Ve,qe;for(Re=0;Re<e;Re+=1)if(qe=this.stylesList[Re],Ve=qe.type,!((Ve==="st"||Ve==="gs")&&qe.wi===0||!qe.data._shouldRender||qe.coOp===0||this.globalData.currentGlobalAlpha===0)){for(Be.save(),Me=qe.elements,Ve==="st"||Ve==="gs"?(Be.ctxStrokeStyle(Ve==="st"?qe.co:qe.grd),Be.ctxLineWidth(qe.wi),Be.ctxLineCap(qe.lc),Be.ctxLineJoin(qe.lj),Be.ctxMiterLimit(qe.ml||0)):Be.ctxFillStyle(Ve==="fl"?qe.co:qe.grd),Be.ctxOpacity(qe.coOp),Ve!=="st"&&Ve!=="gs"&&ze.beginPath(),Be.ctxTransform(qe.preTransforms.finalTransform.props),Ce=Me.length,Ee=0;Ee<Ce;Ee+=1){for((Ve==="st"||Ve==="gs")&&(ze.beginPath(),qe.da&&(ze.setLineDash(qe.da),ze.lineDashOffset=qe.do)),Oe=Me[Ee].trNodes,De=Oe.length,Te=0;Te<De;Te+=1)Oe[Te].t==="m"?ze.moveTo(Oe[Te].p[0],Oe[Te].p[1]):Oe[Te].t==="c"?ze.bezierCurveTo(Oe[Te].pts[0],Oe[Te].pts[1],Oe[Te].pts[2],Oe[Te].pts[3],Oe[Te].pts[4],Oe[Te].pts[5]):ze.closePath();(Ve==="st"||Ve==="gs")&&(Be.ctxStroke(),qe.da&&ze.setLineDash(this.dashResetter))}Ve!=="st"&&Ve!=="gs"&&this.globalData.renderer.ctxFill(qe.r),Be.restore()}},CVShapeElement.prototype.renderShape=function(Re,e,Ee,Ce){var Te,De=e.length-1,Me;for(Me=Re,Te=De;Te>=0;Te-=1)e[Te].ty==="tr"?(Me=Ee[Te].transform,this.renderShapeTransform(Re,Me)):e[Te].ty==="sh"||e[Te].ty==="el"||e[Te].ty==="rc"||e[Te].ty==="sr"?this.renderPath(e[Te],Ee[Te]):e[Te].ty==="fl"?this.renderFill(e[Te],Ee[Te],Me):e[Te].ty==="st"?this.renderStroke(e[Te],Ee[Te],Me):e[Te].ty==="gf"||e[Te].ty==="gs"?this.renderGradientFill(e[Te],Ee[Te],Me):e[Te].ty==="gr"?this.renderShape(Me,e[Te].it,Ee[Te].it):e[Te].ty;Ce&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(Re,e){if(this._isFirstFrame||e._mdf||Re.transforms._mdf){var Ee=Re.trNodes,Ce=e.paths,Te,De,Me,Oe=Ce._length;Ee.length=0;var Be=Re.transforms.finalTransform;for(Me=0;Me<Oe;Me+=1){var ze=Ce.shapes[Me];if(ze&&ze.v){for(De=ze._length,Te=1;Te<De;Te+=1)Te===1&&Ee.push({t:"m",p:Be.applyToPointArray(ze.v[0][0],ze.v[0][1],0)}),Ee.push({t:"c",pts:Be.applyToTriplePoints(ze.o[Te-1],ze.i[Te],ze.v[Te])});De===1&&Ee.push({t:"m",p:Be.applyToPointArray(ze.v[0][0],ze.v[0][1],0)}),ze.c&&De&&(Ee.push({t:"c",pts:Be.applyToTriplePoints(ze.o[Te-1],ze.i[0],ze.v[0])}),Ee.push({t:"z"}))}}Re.trNodes=Ee}},CVShapeElement.prototype.renderPath=function(Re,e){if(Re.hd!==!0&&Re._shouldRender){var Ee,Ce=e.styledShapes.length;for(Ee=0;Ee<Ce;Ee+=1)this.renderStyledShape(e.styledShapes[Ee],e.sh)}},CVShapeElement.prototype.renderFill=function(Re,e,Ee){var Ce=e.style;(e.c._mdf||this._isFirstFrame)&&(Ce.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||Ee._opMdf||this._isFirstFrame)&&(Ce.coOp=e.o.v*Ee.opacity)},CVShapeElement.prototype.renderGradientFill=function(Re,e,Ee){var Ce=e.style,Te;if(!Ce.grd||e.g._mdf||e.s._mdf||e.e._mdf||Re.t!==1&&(e.h._mdf||e.a._mdf)){var De=this.globalData.canvasContext,Me=e.s.v,Oe=e.e.v;if(Re.t===1)Te=De.createLinearGradient(Me[0],Me[1],Oe[0],Oe[1]);else{var Be=Math.sqrt(Math.pow(Me[0]-Oe[0],2)+Math.pow(Me[1]-Oe[1],2)),ze=Math.atan2(Oe[1]-Me[1],Oe[0]-Me[0]),Ve=e.h.v;Ve>=1?Ve=.99:Ve<=-1&&(Ve=-.99);var qe=Be*Ve,We=Math.cos(ze+e.a.v)*qe+Me[0],Ge=Math.sin(ze+e.a.v)*qe+Me[1];Te=De.createRadialGradient(We,Ge,0,Me[0],Me[1],Be)}var Je,Qe=Re.g.p,ns=e.g.c,Ye=1;for(Je=0;Je<Qe;Je+=1)e.g._hasOpacity&&e.g._collapsable&&(Ye=e.g.o[Je*2+1]),Te.addColorStop(ns[Je*4]/100,"rgba("+ns[Je*4+1]+","+ns[Je*4+2]+","+ns[Je*4+3]+","+Ye+")");Ce.grd=Te}Ce.coOp=e.o.v*Ee.opacity},CVShapeElement.prototype.renderStroke=function(Re,e,Ee){var Ce=e.style,Te=e.d;Te&&(Te._mdf||this._isFirstFrame)&&(Ce.da=Te.dashArray,Ce.do=Te.dashoffset[0]),(e.c._mdf||this._isFirstFrame)&&(Ce.co="rgb("+bmFloor(e.c.v[0])+","+bmFloor(e.c.v[1])+","+bmFloor(e.c.v[2])+")"),(e.o._mdf||Ee._opMdf||this._isFirstFrame)&&(Ce.coOp=e.o.v*Ee.opacity),(e.w._mdf||this._isFirstFrame)&&(Ce.wi=e.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(Re,e,Ee){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(Re,e,Ee)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var Re=this.textProperty.currentData;this.renderedLetters=createSizedArray(Re.l?Re.l.length:0);var e=!1;Re.fc?(e=!0,this.values.fill=this.buildColor(Re.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=e;var Ee=!1;Re.sc&&(Ee=!0,this.values.stroke=this.buildColor(Re.sc),this.values.sWidth=Re.sw);var Ce=this.globalData.fontManager.getFontByName(Re.f),Te,De,Me=Re.l,Oe=this.mHelper;this.stroke=Ee,this.values.fValue=Re.finalSize+"px "+this.globalData.fontManager.getFontByName(Re.f).fFamily,De=Re.finalText.length;var Be,ze,Ve,qe,We,Ge,Je,Qe,ns,Ye,rs=this.data.singleShape,ts=Re.tr*.001*Re.finalSize,Xe=0,is=0,os=!0,hs=0;for(Te=0;Te<De;Te+=1){Be=this.globalData.fontManager.getCharData(Re.finalText[Te],Ce.fStyle,this.globalData.fontManager.getFontByName(Re.f).fFamily),ze=Be&&Be.data||{},Oe.reset(),rs&&Me[Te].n&&(Xe=-ts,is+=Re.yOffset,is+=os?1:0,os=!1),We=ze.shapes?ze.shapes[0].it:[],Je=We.length,Oe.scale(Re.finalSize/100,Re.finalSize/100),rs&&this.applyTextPropertiesToMatrix(Re,Oe,Me[Te].line,Xe,is),ns=createSizedArray(Je-1);var fs=0;for(Ge=0;Ge<Je;Ge+=1)if(We[Ge].ty==="sh"){for(qe=We[Ge].ks.k.i.length,Qe=We[Ge].ks.k,Ye=[],Ve=1;Ve<qe;Ve+=1)Ve===1&&Ye.push(Oe.applyToX(Qe.v[0][0],Qe.v[0][1],0),Oe.applyToY(Qe.v[0][0],Qe.v[0][1],0)),Ye.push(Oe.applyToX(Qe.o[Ve-1][0],Qe.o[Ve-1][1],0),Oe.applyToY(Qe.o[Ve-1][0],Qe.o[Ve-1][1],0),Oe.applyToX(Qe.i[Ve][0],Qe.i[Ve][1],0),Oe.applyToY(Qe.i[Ve][0],Qe.i[Ve][1],0),Oe.applyToX(Qe.v[Ve][0],Qe.v[Ve][1],0),Oe.applyToY(Qe.v[Ve][0],Qe.v[Ve][1],0));Ye.push(Oe.applyToX(Qe.o[Ve-1][0],Qe.o[Ve-1][1],0),Oe.applyToY(Qe.o[Ve-1][0],Qe.o[Ve-1][1],0),Oe.applyToX(Qe.i[0][0],Qe.i[0][1],0),Oe.applyToY(Qe.i[0][0],Qe.i[0][1],0),Oe.applyToX(Qe.v[0][0],Qe.v[0][1],0),Oe.applyToY(Qe.v[0][0],Qe.v[0][1],0)),ns[fs]=Ye,fs+=1}rs&&(Xe+=Me[Te].l,Xe+=ts),this.textSpans[hs]?this.textSpans[hs].elem=ns:this.textSpans[hs]={elem:ns},hs+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var Re=this.canvasContext;Re.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var e,Ee,Ce,Te,De,Me,Oe=this.textAnimator.renderedLetters,Be=this.textProperty.currentData.l;Ee=Be.length;var ze,Ve=null,qe=null,We=null,Ge,Je,Qe=this.globalData.renderer;for(e=0;e<Ee;e+=1)if(!Be[e].n){if(ze=Oe[e],ze&&(Qe.save(),Qe.ctxTransform(ze.p),Qe.ctxOpacity(ze.o)),this.fill){for(ze&&ze.fc?Ve!==ze.fc&&(Qe.ctxFillStyle(ze.fc),Ve=ze.fc):Ve!==this.values.fill&&(Ve=this.values.fill,Qe.ctxFillStyle(this.values.fill)),Ge=this.textSpans[e].elem,Te=Ge.length,this.globalData.canvasContext.beginPath(),Ce=0;Ce<Te;Ce+=1)for(Je=Ge[Ce],Me=Je.length,this.globalData.canvasContext.moveTo(Je[0],Je[1]),De=2;De<Me;De+=6)this.globalData.canvasContext.bezierCurveTo(Je[De],Je[De+1],Je[De+2],Je[De+3],Je[De+4],Je[De+5]);this.globalData.canvasContext.closePath(),Qe.ctxFill()}if(this.stroke){for(ze&&ze.sw?We!==ze.sw&&(We=ze.sw,Qe.ctxLineWidth(ze.sw)):We!==this.values.sWidth&&(We=this.values.sWidth,Qe.ctxLineWidth(this.values.sWidth)),ze&&ze.sc?qe!==ze.sc&&(qe=ze.sc,Qe.ctxStrokeStyle(ze.sc)):qe!==this.values.stroke&&(qe=this.values.stroke,Qe.ctxStrokeStyle(this.values.stroke)),Ge=this.textSpans[e].elem,Te=Ge.length,this.globalData.canvasContext.beginPath(),Ce=0;Ce<Te;Ce+=1)for(Je=Ge[Ce],Me=Je.length,this.globalData.canvasContext.moveTo(Je[0],Je[1]),De=2;De<Me;De+=6)this.globalData.canvasContext.bezierCurveTo(Je[De],Je[De+1],Je[De+2],Je[De+3],Je[De+4],Je[De+5]);this.globalData.canvasContext.closePath(),Qe.ctxStroke()}ze&&this.globalData.renderer.restore()}};function CVImageElement(Re,e,Ee){this.assetData=e.getAssetData(Re.refId),this.img=e.imageLoader.getAsset(this.assetData),this.initElement(Re,e,Ee)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var Re=createTag("canvas");Re.width=this.assetData.w,Re.height=this.assetData.h;var e=Re.getContext("2d"),Ee=this.img.width,Ce=this.img.height,Te=Ee/Ce,De=this.assetData.w/this.assetData.h,Me,Oe,Be=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;Te>De&&Be==="xMidYMid slice"||Te<De&&Be!=="xMidYMid slice"?(Oe=Ce,Me=Oe*De):(Me=Ee,Oe=Me/De),e.drawImage(this.img,(Ee-Me)/2,(Ce-Oe)/2,Me,Oe,0,0,this.assetData.w,this.assetData.h),this.img=Re}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(Re,e,Ee){this.initElement(Re,e,Ee)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(Re){return new CVShapeElement(Re,this.globalData,this)},CanvasRendererBase.prototype.createText=function(Re){return new CVTextElement(Re,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(Re){return new CVImageElement(Re,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(Re){return new CVSolidElement(Re,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(Re){Re[0]===1&&Re[1]===0&&Re[4]===0&&Re[5]===1&&Re[12]===0&&Re[13]===0||this.canvasContext.transform(Re[0],Re[1],Re[4],Re[5],Re[12],Re[13])},CanvasRendererBase.prototype.ctxOpacity=function(Re){this.canvasContext.globalAlpha*=Re<0?0:Re},CanvasRendererBase.prototype.ctxFillStyle=function(Re){this.canvasContext.fillStyle=Re},CanvasRendererBase.prototype.ctxStrokeStyle=function(Re){this.canvasContext.strokeStyle=Re},CanvasRendererBase.prototype.ctxLineWidth=function(Re){this.canvasContext.lineWidth=Re},CanvasRendererBase.prototype.ctxLineCap=function(Re){this.canvasContext.lineCap=Re},CanvasRendererBase.prototype.ctxLineJoin=function(Re){this.canvasContext.lineJoin=Re},CanvasRendererBase.prototype.ctxMiterLimit=function(Re){this.canvasContext.miterLimit=Re},CanvasRendererBase.prototype.ctxFill=function(Re){this.canvasContext.fill(Re)},CanvasRendererBase.prototype.ctxFillRect=function(Re,e,Ee,Ce){this.canvasContext.fillRect(Re,e,Ee,Ce)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(Re){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}Re&&(this.globalData.blendMode="source-over"),this.contextData.restore(Re)},CanvasRendererBase.prototype.configAnimation=function(Re){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var e=this.animationItem.container.style;e.width="100%",e.height="100%";var Ee="0px 0px 0px";e.transformOrigin=Ee,e.mozTransformOrigin=Ee,e.webkitTransformOrigin=Ee,e["-webkit-transform"]=Ee,e.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=Re,this.layers=Re.layers,this.transformCanvas={w:Re.w,h:Re.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(Re,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(Re.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(Re,e){this.reset();var Ee,Ce;Re?(Ee=Re,Ce=e,this.canvasContext.canvas.width=Ee,this.canvasContext.canvas.height=Ce):(this.animationItem.wrapper&&this.animationItem.container?(Ee=this.animationItem.wrapper.offsetWidth,Ce=this.animationItem.wrapper.offsetHeight):(Ee=this.canvasContext.canvas.width,Ce=this.canvasContext.canvas.height),this.canvasContext.canvas.width=Ee*this.renderConfig.dpr,this.canvasContext.canvas.height=Ce*this.renderConfig.dpr);var Te,De;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var Me=this.renderConfig.preserveAspectRatio.split(" "),Oe=Me[1]||"meet",Be=Me[0]||"xMidYMid",ze=Be.substr(0,4),Ve=Be.substr(4);Te=Ee/Ce,De=this.transformCanvas.w/this.transformCanvas.h,De>Te&&Oe==="meet"||De<Te&&Oe==="slice"?(this.transformCanvas.sx=Ee/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=Ee/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=Ce/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=Ce/(this.transformCanvas.h/this.renderConfig.dpr)),ze==="xMid"&&(De<Te&&Oe==="meet"||De>Te&&Oe==="slice")?this.transformCanvas.tx=(Ee-this.transformCanvas.w*(Ce/this.transformCanvas.h))/2*this.renderConfig.dpr:ze==="xMax"&&(De<Te&&Oe==="meet"||De>Te&&Oe==="slice")?this.transformCanvas.tx=(Ee-this.transformCanvas.w*(Ce/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,Ve==="YMid"&&(De>Te&&Oe==="meet"||De<Te&&Oe==="slice")?this.transformCanvas.ty=(Ce-this.transformCanvas.h*(Ee/this.transformCanvas.w))/2*this.renderConfig.dpr:Ve==="YMax"&&(De>Te&&Oe==="meet"||De<Te&&Oe==="slice")?this.transformCanvas.ty=(Ce-this.transformCanvas.h*(Ee/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=Ee/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=Ce/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var Re,e=this.layers?this.layers.length:0;for(Re=e-1;Re>=0;Re-=1)this.elements[Re]&&this.elements[Re].destroy&&this.elements[Re].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(Re,e){if(!(this.renderedFrame===Re&&this.renderConfig.clearCanvas===!0&&!e||this.destroyed||Re===-1)){this.renderedFrame=Re,this.globalData.frameNum=Re-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||e,this.globalData.projectInterface.currentFrame=Re;var Ee,Ce=this.layers.length;for(this.completeLayers||this.checkLayers(Re),Ee=Ce-1;Ee>=0;Ee-=1)(this.completeLayers||this.elements[Ee])&&this.elements[Ee].prepareFrame(Re-this.layers[Ee].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),Ee=Ce-1;Ee>=0;Ee-=1)(this.completeLayers||this.elements[Ee])&&this.elements[Ee].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(Re){var e=this.elements;if(!(e[Re]||this.layers[Re].ty===99)){var Ee=this.createItem(this.layers[Re],this,this.globalData);e[Re]=Ee,Ee.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Re=this.pendingElements.pop();Re.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var Re,e=15;for(Re=0;Re<e;Re+=1){var Ee=new CanvasContext;this.stack[Re]=Ee}this._length=e,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var Re=this._length*2,e=0;for(e=this._length;e<Re;e+=1)this.stack[e]=new CanvasContext;this._length=Re},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(Re){this.cArrPos-=1;var e=this.stack[this.cArrPos],Ee=e.transform,Ce,Te=this.cTr.props;for(Ce=0;Ce<16;Ce+=1)Te[Ce]=Ee[Ce];if(Re){this.nativeContext.restore();var De=this.stack[this.cArrPos+1];this.appliedFillStyle=De.fillStyle,this.appliedStrokeStyle=De.strokeStyle,this.appliedLineWidth=De.lineWidth,this.appliedLineCap=De.lineCap,this.appliedLineJoin=De.lineJoin,this.appliedMiterLimit=De.miterLimit}this.nativeContext.setTransform(Ee[0],Ee[1],Ee[4],Ee[5],Ee[12],Ee[13]),(Re||e.opacity!==-1&&this.currentOpacity!==e.opacity)&&(this.nativeContext.globalAlpha=e.opacity,this.currentOpacity=e.opacity),this.currentFillStyle=e.fillStyle,this.currentStrokeStyle=e.strokeStyle,this.currentLineWidth=e.lineWidth,this.currentLineCap=e.lineCap,this.currentLineJoin=e.lineJoin,this.currentMiterLimit=e.miterLimit},CVContextData.prototype.save=function(Re){Re&&this.nativeContext.save();var e=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var Ee=this.stack[this.cArrPos],Ce;for(Ce=0;Ce<16;Ce+=1)Ee.transform[Ce]=e[Ce];this.cArrPos+=1;var Te=this.stack[this.cArrPos];Te.opacity=Ee.opacity,Te.fillStyle=Ee.fillStyle,Te.strokeStyle=Ee.strokeStyle,Te.lineWidth=Ee.lineWidth,Te.lineCap=Ee.lineCap,Te.lineJoin=Ee.lineJoin,Te.miterLimit=Ee.miterLimit},CVContextData.prototype.setOpacity=function(Re){this.stack[this.cArrPos].opacity=Re},CVContextData.prototype.setContext=function(Re){this.nativeContext=Re},CVContextData.prototype.fillStyle=function(Re){this.stack[this.cArrPos].fillStyle!==Re&&(this.currentFillStyle=Re,this.stack[this.cArrPos].fillStyle=Re)},CVContextData.prototype.strokeStyle=function(Re){this.stack[this.cArrPos].strokeStyle!==Re&&(this.currentStrokeStyle=Re,this.stack[this.cArrPos].strokeStyle=Re)},CVContextData.prototype.lineWidth=function(Re){this.stack[this.cArrPos].lineWidth!==Re&&(this.currentLineWidth=Re,this.stack[this.cArrPos].lineWidth=Re)},CVContextData.prototype.lineCap=function(Re){this.stack[this.cArrPos].lineCap!==Re&&(this.currentLineCap=Re,this.stack[this.cArrPos].lineCap=Re)},CVContextData.prototype.lineJoin=function(Re){this.stack[this.cArrPos].lineJoin!==Re&&(this.currentLineJoin=Re,this.stack[this.cArrPos].lineJoin=Re)},CVContextData.prototype.miterLimit=function(Re){this.stack[this.cArrPos].miterLimit!==Re&&(this.currentMiterLimit=Re,this.stack[this.cArrPos].miterLimit=Re)},CVContextData.prototype.transform=function(Re){this.transformMat.cloneFromProps(Re);var e=this.cTr;this.transformMat.multiply(e),e.cloneFromProps(this.transformMat.props);var Ee=e.props;this.nativeContext.setTransform(Ee[0],Ee[1],Ee[4],Ee[5],Ee[12],Ee[13])},CVContextData.prototype.opacity=function(Re){var e=this.stack[this.cArrPos].opacity;e*=Re<0?0:Re,this.stack[this.cArrPos].opacity!==e&&(this.currentOpacity!==Re&&(this.nativeContext.globalAlpha=Re,this.currentOpacity=Re),this.stack[this.cArrPos].opacity=e)},CVContextData.prototype.fill=function(Re){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(Re)},CVContextData.prototype.fillRect=function(Re,e,Ee,Ce){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(Re,e,Ee,Ce)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(Re,e,Ee){this.completeLayers=!1,this.layers=Re.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(Re,e,Ee),this.tm=Re.tm?PropertyFactory.getProp(this,Re.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var Re=this.canvasContext;Re.beginPath(),Re.moveTo(0,0),Re.lineTo(this.data.w,0),Re.lineTo(this.data.w,this.data.h),Re.lineTo(0,this.data.h),Re.lineTo(0,0),Re.clip();var e,Ee=this.layers.length;for(e=Ee-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var Re,e=this.layers.length;for(Re=e-1;Re>=0;Re-=1)this.elements[Re]&&this.elements[Re].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(Re){return new CVCompElement(Re,this.globalData,this)};function CanvasRenderer(Re,e){this.animationItem=Re,this.renderConfig={clearCanvas:e&&e.clearCanvas!==void 0?e.clearCanvas:!0,context:e&&e.context||null,progressiveLoad:e&&e.progressiveLoad||!1,preserveAspectRatio:e&&e.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:e&&e.contentVisibility||"visible",className:e&&e.className||"",id:e&&e.id||"",runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.renderConfig.dpr=e&&e.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=e&&e.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(Re){return new CVCompElement(Re,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var Ee=this.finalTransform.mat.toCSS();e.transform=Ee,e.webkitTransform=Ee}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(Re,e,Ee){this.initElement(Re,e,Ee)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var Re;this.data.hasMask?(Re=createNS("rect"),Re.setAttribute("width",this.data.sw),Re.setAttribute("height",this.data.sh),Re.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(Re=createTag("div"),Re.style.width=this.data.sw+"px",Re.style.height=this.data.sh+"px",Re.style.backgroundColor=this.data.sc),this.layerElement.appendChild(Re)};function HShapeElement(Re,e,Ee){this.shapes=[],this.shapesData=Re.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(Re,e,Ee),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var Re;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),Re=this.svgElement;else{Re=createNS("svg");var e=this.comp.data?this.comp.data:this.globalData.compSize;Re.setAttribute("width",e.w),Re.setAttribute("height",e.h),Re.appendChild(this.shapesContainer),this.layerElement.appendChild(Re)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=Re},HShapeElement.prototype.getTransformedPoint=function(Re,e){var Ee,Ce=Re.length;for(Ee=0;Ee<Ce;Ee+=1)e=Re[Ee].mProps.v.applyToPointArray(e[0],e[1],0);return e},HShapeElement.prototype.calculateShapeBoundingBox=function(Re,e){var Ee=Re.sh.v,Ce=Re.transformers,Te,De=Ee._length,Me,Oe,Be,ze;if(!(De<=1)){for(Te=0;Te<De-1;Te+=1)Me=this.getTransformedPoint(Ce,Ee.v[Te]),Oe=this.getTransformedPoint(Ce,Ee.o[Te]),Be=this.getTransformedPoint(Ce,Ee.i[Te+1]),ze=this.getTransformedPoint(Ce,Ee.v[Te+1]),this.checkBounds(Me,Oe,Be,ze,e);Ee.c&&(Me=this.getTransformedPoint(Ce,Ee.v[Te]),Oe=this.getTransformedPoint(Ce,Ee.o[Te]),Be=this.getTransformedPoint(Ce,Ee.i[0]),ze=this.getTransformedPoint(Ce,Ee.v[0]),this.checkBounds(Me,Oe,Be,ze,e))}},HShapeElement.prototype.checkBounds=function(Re,e,Ee,Ce,Te){this.getBoundsOfCurve(Re,e,Ee,Ce);var De=this.shapeBoundingBox;Te.x=bmMin(De.left,Te.x),Te.xMax=bmMax(De.right,Te.xMax),Te.y=bmMin(De.top,Te.y),Te.yMax=bmMax(De.bottom,Te.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(Re,e,Ee,Ce){for(var Te=[[Re[0],Ce[0]],[Re[1],Ce[1]]],De,Me,Oe,Be,ze,Ve,qe,We=0;We<2;++We)Me=6*Re[We]-12*e[We]+6*Ee[We],De=-3*Re[We]+9*e[We]-9*Ee[We]+3*Ce[We],Oe=3*e[We]-3*Re[We],Me|=0,De|=0,Oe|=0,De===0&&Me===0||(De===0?(Be=-Oe/Me,Be>0&&Be<1&&Te[We].push(this.calculateF(Be,Re,e,Ee,Ce,We))):(ze=Me*Me-4*Oe*De,ze>=0&&(Ve=(-Me+bmSqrt(ze))/(2*De),Ve>0&&Ve<1&&Te[We].push(this.calculateF(Ve,Re,e,Ee,Ce,We)),qe=(-Me-bmSqrt(ze))/(2*De),qe>0&&qe<1&&Te[We].push(this.calculateF(qe,Re,e,Ee,Ce,We)))));this.shapeBoundingBox.left=bmMin.apply(null,Te[0]),this.shapeBoundingBox.top=bmMin.apply(null,Te[1]),this.shapeBoundingBox.right=bmMax.apply(null,Te[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,Te[1])},HShapeElement.prototype.calculateF=function(Re,e,Ee,Ce,Te,De){return bmPow(1-Re,3)*e[De]+3*bmPow(1-Re,2)*Re*Ee[De]+3*(1-Re)*bmPow(Re,2)*Ce[De]+bmPow(Re,3)*Te[De]},HShapeElement.prototype.calculateBoundingBox=function(Re,e){var Ee,Ce=Re.length;for(Ee=0;Ee<Ce;Ee+=1)Re[Ee]&&Re[Ee].sh?this.calculateShapeBoundingBox(Re[Ee],e):Re[Ee]&&Re[Ee].it?this.calculateBoundingBox(Re[Ee].it,e):Re[Ee]&&Re[Ee].style&&Re[Ee].w&&this.expandStrokeBoundingBox(Re[Ee].w,e)},HShapeElement.prototype.expandStrokeBoundingBox=function(Re,e){var Ee=0;if(Re.keyframes){for(var Ce=0;Ce<Re.keyframes.length;Ce+=1){var Te=Re.keyframes[Ce].s;Te>Ee&&(Ee=Te)}Ee*=Re.mult}else Ee=Re.v*Re.mult;e.x-=Ee,e.xMax+=Ee,e.y-=Ee,e.yMax+=Ee},HShapeElement.prototype.currentBoxContains=function(Re){return this.currentBBox.x<=Re.x&&this.currentBBox.y<=Re.y&&this.currentBBox.width+this.currentBBox.x>=Re.x+Re.width&&this.currentBBox.height+this.currentBBox.y>=Re.y+Re.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var Re=this.tempBoundingBox,e=999999;if(Re.x=e,Re.xMax=-e,Re.y=e,Re.yMax=-e,this.calculateBoundingBox(this.itemsData,Re),Re.width=Re.xMax<Re.x?0:Re.xMax-Re.x,Re.height=Re.yMax<Re.y?0:Re.yMax-Re.y,this.currentBoxContains(Re))return;var Ee=!1;if(this.currentBBox.w!==Re.width&&(this.currentBBox.w=Re.width,this.shapeCont.setAttribute("width",Re.width),Ee=!0),this.currentBBox.h!==Re.height&&(this.currentBBox.h=Re.height,this.shapeCont.setAttribute("height",Re.height),Ee=!0),Ee||this.currentBBox.x!==Re.x||this.currentBBox.y!==Re.y){this.currentBBox.w=Re.width,this.currentBBox.h=Re.height,this.currentBBox.x=Re.x,this.currentBBox.y=Re.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var Ce=this.shapeCont.style,Te="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";Ce.transform=Te,Ce.webkitTransform=Te}}};function HTextElement(Re,e,Ee){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(Re,e,Ee)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var Re=createNS("g");this.maskedElement.appendChild(Re),this.innerElem=Re}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var Re=this.textProperty.currentData;this.renderedLetters=createSizedArray(Re.l?Re.l.length:0);var e=this.innerElem.style,Ee=Re.fc?this.buildColor(Re.fc):"rgba(0,0,0,0)";e.fill=Ee,e.color=Ee,Re.sc&&(e.stroke=this.buildColor(Re.sc),e.strokeWidth=Re.sw+"px");var Ce=this.globalData.fontManager.getFontByName(Re.f);if(!this.globalData.fontManager.chars)if(e.fontSize=Re.finalSize+"px",e.lineHeight=Re.finalSize+"px",Ce.fClass)this.innerElem.className=Ce.fClass;else{e.fontFamily=Ce.fFamily;var Te=Re.fWeight,De=Re.fStyle;e.fontStyle=De,e.fontWeight=Te}var Me,Oe,Be=Re.l;Oe=Be.length;var ze,Ve,qe,We=this.mHelper,Ge,Je="",Qe=0;for(Me=0;Me<Oe;Me+=1){if(this.globalData.fontManager.chars?(this.textPaths[Qe]?ze=this.textPaths[Qe]:(ze=createNS("path"),ze.setAttribute("stroke-linecap",lineCapEnum[1]),ze.setAttribute("stroke-linejoin",lineJoinEnum[2]),ze.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[Qe]?(Ve=this.textSpans[Qe],qe=Ve.children[0]):(Ve=createTag("div"),Ve.style.lineHeight=0,qe=createNS("svg"),qe.appendChild(ze),styleDiv(Ve)))):this.isMasked?ze=this.textPaths[Qe]?this.textPaths[Qe]:createNS("text"):this.textSpans[Qe]?(Ve=this.textSpans[Qe],ze=this.textPaths[Qe]):(Ve=createTag("span"),styleDiv(Ve),ze=createTag("span"),styleDiv(ze),Ve.appendChild(ze)),this.globalData.fontManager.chars){var ns=this.globalData.fontManager.getCharData(Re.finalText[Me],Ce.fStyle,this.globalData.fontManager.getFontByName(Re.f).fFamily),Ye;if(ns?Ye=ns.data:Ye=null,We.reset(),Ye&&Ye.shapes&&Ye.shapes.length&&(Ge=Ye.shapes[0].it,We.scale(Re.finalSize/100,Re.finalSize/100),Je=this.createPathShape(We,Ge),ze.setAttribute("d",Je)),this.isMasked)this.innerElem.appendChild(ze);else{if(this.innerElem.appendChild(Ve),Ye&&Ye.shapes){document.body.appendChild(qe);var rs=qe.getBBox();qe.setAttribute("width",rs.width+2),qe.setAttribute("height",rs.height+2),qe.setAttribute("viewBox",rs.x-1+" "+(rs.y-1)+" "+(rs.width+2)+" "+(rs.height+2));var ts=qe.style,Xe="translate("+(rs.x-1)+"px,"+(rs.y-1)+"px)";ts.transform=Xe,ts.webkitTransform=Xe,Be[Me].yOffset=rs.y-1}else qe.setAttribute("width",1),qe.setAttribute("height",1);Ve.appendChild(qe)}}else if(ze.textContent=Be[Me].val,ze.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(ze);else{this.innerElem.appendChild(Ve);var is=ze.style,os="translate3d(0,"+-Re.finalSize/1.2+"px,0)";is.transform=os,is.webkitTransform=os}this.isMasked?this.textSpans[Qe]=ze:this.textSpans[Qe]=Ve,this.textSpans[Qe].style.display="block",this.textPaths[Qe]=ze,Qe+=1}for(;Qe<this.textSpans.length;)this.textSpans[Qe].style.display="none",Qe+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var Re;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),Re=this.svgElement.style;var e="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";Re.transform=e,Re.webkitTransform=e}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var Ee,Ce,Te=0,De=this.textAnimator.renderedLetters,Me=this.textProperty.currentData.l;Ce=Me.length;var Oe,Be,ze;for(Ee=0;Ee<Ce;Ee+=1)Me[Ee].n?Te+=1:(Be=this.textSpans[Ee],ze=this.textPaths[Ee],Oe=De[Te],Te+=1,Oe._mdf.m&&(this.isMasked?Be.setAttribute("transform",Oe.m):(Be.style.webkitTransform=Oe.m,Be.style.transform=Oe.m)),Be.style.opacity=Oe.o,Oe.sw&&Oe._mdf.sw&&ze.setAttribute("stroke-width",Oe.sw),Oe.sc&&Oe._mdf.sc&&ze.setAttribute("stroke",Oe.sc),Oe.fc&&Oe._mdf.fc&&(ze.setAttribute("fill",Oe.fc),ze.style.color=Oe.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var Ve=this.innerElem.getBBox();this.currentBBox.w!==Ve.width&&(this.currentBBox.w=Ve.width,this.svgElement.setAttribute("width",Ve.width)),this.currentBBox.h!==Ve.height&&(this.currentBBox.h=Ve.height,this.svgElement.setAttribute("height",Ve.height));var qe=1;if(this.currentBBox.w!==Ve.width+qe*2||this.currentBBox.h!==Ve.height+qe*2||this.currentBBox.x!==Ve.x-qe||this.currentBBox.y!==Ve.y-qe){this.currentBBox.w=Ve.width+qe*2,this.currentBBox.h=Ve.height+qe*2,this.currentBBox.x=Ve.x-qe,this.currentBBox.y=Ve.y-qe,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),Re=this.svgElement.style;var We="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";Re.transform=We,Re.webkitTransform=We}}}};function HCameraElement(Re,e,Ee){this.initFrame(),this.initBaseData(Re,e,Ee),this.initHierarchy();var Ce=PropertyFactory.getProp;if(this.pe=Ce(this,Re.pe,0,0,this),Re.ks.p.s?(this.px=Ce(this,Re.ks.p.x,1,0,this),this.py=Ce(this,Re.ks.p.y,1,0,this),this.pz=Ce(this,Re.ks.p.z,1,0,this)):this.p=Ce(this,Re.ks.p,1,0,this),Re.ks.a&&(this.a=Ce(this,Re.ks.a,1,0,this)),Re.ks.or.k.length&&Re.ks.or.k[0].to){var Te,De=Re.ks.or.k.length;for(Te=0;Te<De;Te+=1)Re.ks.or.k[Te].to=null,Re.ks.or.k[Te].ti=null}this.or=Ce(this,Re.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=Ce(this,Re.ks.rx,0,degToRads,this),this.ry=Ce(this,Re.ks.ry,0,degToRads,this),this.rz=Ce(this,Re.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var Re,e=this.comp.threeDElements.length,Ee,Ce,Te;for(Re=0;Re<e;Re+=1)if(Ee=this.comp.threeDElements[Re],Ee.type==="3d"){Ce=Ee.perspectiveElem.style,Te=Ee.container.style;var De=this.pe.v+"px",Me="0px 0px 0px",Oe="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";Ce.perspective=De,Ce.webkitPerspective=De,Te.transformOrigin=Me,Te.mozTransformOrigin=Me,Te.webkitTransformOrigin=Me,Ce.transform=Oe,Ce.webkitTransform=Oe}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var Re=this._isFirstFrame,e,Ee;if(this.hierarchy)for(Ee=this.hierarchy.length,e=0;e<Ee;e+=1)Re=this.hierarchy[e].finalTransform.mProp._mdf||Re;if(Re||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(Ee=this.hierarchy.length-1,e=Ee;e>=0;e-=1){var Ce=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-Ce.p.v[0],-Ce.p.v[1],Ce.p.v[2]),this.mat.rotateX(-Ce.or.v[0]).rotateY(-Ce.or.v[1]).rotateZ(Ce.or.v[2]),this.mat.rotateX(-Ce.rx.v).rotateY(-Ce.ry.v).rotateZ(Ce.rz.v),this.mat.scale(1/Ce.s.v[0],1/Ce.s.v[1],1/Ce.s.v[2]),this.mat.translate(Ce.a.v[0],Ce.a.v[1],Ce.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var Te;this.p?Te=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:Te=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var De=Math.sqrt(Math.pow(Te[0],2)+Math.pow(Te[1],2)+Math.pow(Te[2],2)),Me=[Te[0]/De,Te[1]/De,Te[2]/De],Oe=Math.sqrt(Me[2]*Me[2]+Me[0]*Me[0]),Be=Math.atan2(Me[1],Oe),ze=Math.atan2(Me[0],-Me[2]);this.mat.rotateY(ze).rotateX(-Be)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var Ve=!this._prevMat.equals(this.mat);if((Ve||this.pe._mdf)&&this.comp.threeDElements){Ee=this.comp.threeDElements.length;var qe,We,Ge;for(e=0;e<Ee;e+=1)if(qe=this.comp.threeDElements[e],qe.type==="3d"){if(Ve){var Je=this.mat.toCSS();Ge=qe.container.style,Ge.transform=Je,Ge.webkitTransform=Je}this.pe._mdf&&(We=qe.perspectiveElem.style,We.perspective=this.pe.v+"px",We.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(Re){this.prepareProperties(Re,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(Re,e,Ee){this.assetData=e.getAssetData(Re.refId),this.initElement(Re,e,Ee)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var Re=this.globalData.getAssetsPath(this.assetData),e=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",Re),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(e),e.crossOrigin="anonymous",e.src=Re,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(Re,e){this.animationItem=Re,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var Re=this.pendingElements.pop();Re.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(Re,e){var Ee=Re.getBaseElement();if(Ee){var Ce=this.layers[e];if(!Ce.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(Ee,e);else{for(var Te=0,De,Me,Oe;Te<e;)this.elements[Te]&&this.elements[Te]!==!0&&this.elements[Te].getBaseElement&&(Me=this.elements[Te],Oe=this.layers[Te].ddd?this.getThreeDContainerByPos(Te):Me.getBaseElement(),De=Oe||De),Te+=1;De?(!Ce.ddd||!this.supports3d)&&this.layerElement.insertBefore(Ee,De):(!Ce.ddd||!this.supports3d)&&this.layerElement.appendChild(Ee)}else this.addTo3dContainer(Ee,e)}},HybridRendererBase.prototype.createShape=function(Re){return this.supports3d?new HShapeElement(Re,this.globalData,this):new SVGShapeElement(Re,this.globalData,this)},HybridRendererBase.prototype.createText=function(Re){return this.supports3d?new HTextElement(Re,this.globalData,this):new SVGTextLottieElement(Re,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(Re){return this.camera=new HCameraElement(Re,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(Re){return this.supports3d?new HImageElement(Re,this.globalData,this):new IImageElement(Re,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(Re){return this.supports3d?new HSolidElement(Re,this.globalData,this):new ISolidElement(Re,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(Re){for(var e=0,Ee=this.threeDElements.length;e<Ee;){if(this.threeDElements[e].startPos<=Re&&this.threeDElements[e].endPos>=Re)return this.threeDElements[e].perspectiveElem;e+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(Re,e){var Ee=createTag("div"),Ce,Te;styleDiv(Ee);var De=createTag("div");if(styleDiv(De),e==="3d"){Ce=Ee.style,Ce.width=this.globalData.compSize.w+"px",Ce.height=this.globalData.compSize.h+"px";var Me="50% 50%";Ce.webkitTransformOrigin=Me,Ce.mozTransformOrigin=Me,Ce.transformOrigin=Me,Te=De.style;var Oe="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";Te.transform=Oe,Te.webkitTransform=Oe}Ee.appendChild(De);var Be={container:De,perspectiveElem:Ee,startPos:Re,endPos:Re,type:e};return this.threeDElements.push(Be),Be},HybridRendererBase.prototype.build3dContainers=function(){var Re,e=this.layers.length,Ee,Ce="";for(Re=0;Re<e;Re+=1)this.layers[Re].ddd&&this.layers[Re].ty!==3?(Ce!=="3d"&&(Ce="3d",Ee=this.createThreeDContainer(Re,"3d")),Ee.endPos=Math.max(Ee.endPos,Re)):(Ce!=="2d"&&(Ce="2d",Ee=this.createThreeDContainer(Re,"2d")),Ee.endPos=Math.max(Ee.endPos,Re));for(e=this.threeDElements.length,Re=e-1;Re>=0;Re-=1)this.resizerElem.appendChild(this.threeDElements[Re].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(Re,e){for(var Ee=0,Ce=this.threeDElements.length;Ee<Ce;){if(e<=this.threeDElements[Ee].endPos){for(var Te=this.threeDElements[Ee].startPos,De;Te<e;)this.elements[Te]&&this.elements[Te].getBaseElement&&(De=this.elements[Te].getBaseElement()),Te+=1;De?this.threeDElements[Ee].container.insertBefore(Re,De):this.threeDElements[Ee].container.appendChild(Re);break}Ee+=1}},HybridRendererBase.prototype.configAnimation=function(Re){var e=createTag("div"),Ee=this.animationItem.wrapper,Ce=e.style;Ce.width=Re.w+"px",Ce.height=Re.h+"px",this.resizerElem=e,styleDiv(e),Ce.transformStyle="flat",Ce.mozTransformStyle="flat",Ce.webkitTransformStyle="flat",this.renderConfig.className&&e.setAttribute("class",this.renderConfig.className),Ee.appendChild(e),Ce.overflow="hidden";var Te=createNS("svg");Te.setAttribute("width","1"),Te.setAttribute("height","1"),styleDiv(Te),this.resizerElem.appendChild(Te);var De=createNS("defs");Te.appendChild(De),this.data=Re,this.setupGlobalData(Re,Te),this.globalData.defs=De,this.layers=Re.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var Re,e=this.layers?this.layers.length:0;for(Re=0;Re<e;Re+=1)this.elements[Re]&&this.elements[Re].destroy&&this.elements[Re].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var Re=this.animationItem.wrapper.offsetWidth,e=this.animationItem.wrapper.offsetHeight,Ee=Re/e,Ce=this.globalData.compSize.w/this.globalData.compSize.h,Te,De,Me,Oe;Ce>Ee?(Te=Re/this.globalData.compSize.w,De=Re/this.globalData.compSize.w,Me=0,Oe=(e-this.globalData.compSize.h*(Re/this.globalData.compSize.w))/2):(Te=e/this.globalData.compSize.h,De=e/this.globalData.compSize.h,Me=(Re-this.globalData.compSize.w*(e/this.globalData.compSize.h))/2,Oe=0);var Be=this.resizerElem.style;Be.webkitTransform="matrix3d("+Te+",0,0,0,0,"+De+",0,0,0,0,1,0,"+Me+","+Oe+",0,1)",Be.transform=Be.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var Re=this.globalData.compSize.w,e=this.globalData.compSize.h,Ee,Ce=this.threeDElements.length;for(Ee=0;Ee<Ce;Ee+=1){var Te=this.threeDElements[Ee].perspectiveElem.style;Te.webkitPerspective=Math.sqrt(Math.pow(Re,2)+Math.pow(e,2))+"px",Te.perspective=Te.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(Re){var e,Ee=Re.length,Ce=createTag("div");for(e=0;e<Ee;e+=1)if(Re[e].xt){var Te=this.createComp(Re[e],Ce,this.globalData.comp,null);Te.initExpressions(),this.globalData.projectInterface.registerComposition(Te)}};function HCompElement(Re,e,Ee){this.layers=Re.layers,this.supports3d=!Re.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(Re,e,Ee),this.tm=Re.tm?PropertyFactory.getProp(this,Re.tm,0,e.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(Re,e){for(var Ee=0,Ce;Ee<e;)this.elements[Ee]&&this.elements[Ee].getBaseElement&&(Ce=this.elements[Ee].getBaseElement()),Ee+=1;Ce?this.layerElement.insertBefore(Re,Ce):this.layerElement.appendChild(Re)},HCompElement.prototype.createComp=function(Re){return this.supports3d?new HCompElement(Re,this.globalData,this):new SVGCompElement(Re,this.globalData,this)};function HybridRenderer(Re,e){this.animationItem=Re,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:e&&e.className||"",imagePreserveAspectRatio:e&&e.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(e&&e.hideOnTransparent===!1),filterSize:{width:e&&e.filterSize&&e.filterSize.width||"400%",height:e&&e.filterSize&&e.filterSize.height||"400%",x:e&&e.filterSize&&e.filterSize.x||"-100%",y:e&&e.filterSize&&e.filterSize.y||"-100%"},runExpressions:!e||e.runExpressions===void 0||e.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(Re){return this.supports3d?new HCompElement(Re,this.globalData,this):new SVGCompElement(Re,this.globalData,this)};var CompExpressionInterface=function(){return function(Re){function e(Ee){for(var Ce=0,Te=Re.layers.length;Ce<Te;){if(Re.layers[Ce].nm===Ee||Re.layers[Ce].ind===Ee)return Re.elements[Ce].layerInterface;Ce+=1}return null}return Object.defineProperty(e,"_name",{value:Re.data.nm}),e.layer=e,e.pixelAspect=1,e.height=Re.data.h||Re.globalData.compSize.h,e.width=Re.data.w||Re.globalData.compSize.w,e.pixelAspect=1,e.frameDuration=1/Re.globalData.frameRate,e.displayStartTime=0,e.numLayers=Re.layers.length,e}}();function _typeof$2(Re){"@babel/helpers - typeof";return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$2(Re)}function seedRandom(Re,e){var Ee=this,Ce=256,Te=6,De=52,Me="random",Oe=e.pow(Ce,Te),Be=e.pow(2,De),ze=Be*2,Ve=Ce-1,qe;function We(ts,Xe,is){var os=[];Xe=Xe===!0?{entropy:!0}:Xe||{};var hs=ns(Qe(Xe.entropy?[ts,rs(Re)]:ts===null?Ye():ts,3),os),fs=new Ge(os),xs=function(){for(var ds=fs.g(Te),gs=Oe,Ts=0;ds<Be;)ds=(ds+Ts)*Ce,gs*=Ce,Ts=fs.g(1);for(;ds>=ze;)ds/=2,gs/=2,Ts>>>=1;return(ds+Ts)/gs};return xs.int32=function(){return fs.g(4)|0},xs.quick=function(){return fs.g(4)/4294967296},xs.double=xs,ns(rs(fs.S),Re),(Xe.pass||is||function(Ss,ds,gs,Ts){return Ts&&(Ts.S&&Je(Ts,fs),Ss.state=function(){return Je(fs,{})}),gs?(e[Me]=Ss,ds):Ss})(xs,hs,"global"in Xe?Xe.global:this==e,Xe.state)}e["seed"+Me]=We;function Ge(ts){var Xe,is=ts.length,os=this,hs=0,fs=os.i=os.j=0,xs=os.S=[];for(is||(ts=[is++]);hs<Ce;)xs[hs]=hs++;for(hs=0;hs<Ce;hs++)xs[hs]=xs[fs=Ve&fs+ts[hs%is]+(Xe=xs[hs])],xs[fs]=Xe;os.g=function(Ss){for(var ds,gs=0,Ts=os.i,Ds=os.j,Ms=os.S;Ss--;)ds=Ms[Ts=Ve&Ts+1],gs=gs*Ce+Ms[Ve&(Ms[Ts]=Ms[Ds=Ve&Ds+ds])+(Ms[Ds]=ds)];return os.i=Ts,os.j=Ds,gs}}function Je(ts,Xe){return Xe.i=ts.i,Xe.j=ts.j,Xe.S=ts.S.slice(),Xe}function Qe(ts,Xe){var is=[],os=_typeof$2(ts),hs;if(Xe&&os=="object")for(hs in ts)try{is.push(Qe(ts[hs],Xe-1))}catch{}return is.length?is:os=="string"?ts:ts+"\0"}function ns(ts,Xe){for(var is=ts+"",os,hs=0;hs<is.length;)Xe[Ve&hs]=Ve&(os^=Xe[Ve&hs]*19)+is.charCodeAt(hs++);return rs(Xe)}function Ye(){try{var ts=new Uint8Array(Ce);return(Ee.crypto||Ee.msCrypto).getRandomValues(ts),rs(ts)}catch{var Xe=Ee.navigator,is=Xe&&Xe.plugins;return[+new Date,Ee,is,Ee.screen,rs(Re)]}}function rs(ts){return String.fromCharCode.apply(0,ts)}ns(e.random(),Re)}function initialize$2(Re){seedRandom([],Re)}var propTypes={SHAPE:"shape"};function _typeof$1(Re){"@babel/helpers - typeof";return _typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof$1(Re)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(Re){return Re.constructor===Array||Re.constructor===Float32Array}function isNumerable(Re,e){return Re==="number"||e instanceof Number||Re==="boolean"||Re==="string"}function $bm_neg(Re){var e=_typeof$1(Re);if(e==="number"||Re instanceof Number||e==="boolean")return-Re;if($bm_isInstanceOfArray(Re)){var Ee,Ce=Re.length,Te=[];for(Ee=0;Ee<Ce;Ee+=1)Te[Ee]=-Re[Ee];return Te}return Re.propType?Re.v:-Re}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(Re,e){var Ee=_typeof$1(Re),Ce=_typeof$1(e);if(isNumerable(Ee,Re)&&isNumerable(Ce,e)||Ee==="string"||Ce==="string")return Re+e;if($bm_isInstanceOfArray(Re)&&isNumerable(Ce,e))return Re=Re.slice(0),Re[0]+=e,Re;if(isNumerable(Ee,Re)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=Re+e[0],e;if($bm_isInstanceOfArray(Re)&&$bm_isInstanceOfArray(e)){for(var Te=0,De=Re.length,Me=e.length,Oe=[];Te<De||Te<Me;)(typeof Re[Te]=="number"||Re[Te]instanceof Number)&&(typeof e[Te]=="number"||e[Te]instanceof Number)?Oe[Te]=Re[Te]+e[Te]:Oe[Te]=e[Te]===void 0?Re[Te]:Re[Te]||e[Te],Te+=1;return Oe}return 0}var add=sum;function sub(Re,e){var Ee=_typeof$1(Re),Ce=_typeof$1(e);if(isNumerable(Ee,Re)&&isNumerable(Ce,e))return Ee==="string"&&(Re=parseInt(Re,10)),Ce==="string"&&(e=parseInt(e,10)),Re-e;if($bm_isInstanceOfArray(Re)&&isNumerable(Ce,e))return Re=Re.slice(0),Re[0]-=e,Re;if(isNumerable(Ee,Re)&&$bm_isInstanceOfArray(e))return e=e.slice(0),e[0]=Re-e[0],e;if($bm_isInstanceOfArray(Re)&&$bm_isInstanceOfArray(e)){for(var Te=0,De=Re.length,Me=e.length,Oe=[];Te<De||Te<Me;)(typeof Re[Te]=="number"||Re[Te]instanceof Number)&&(typeof e[Te]=="number"||e[Te]instanceof Number)?Oe[Te]=Re[Te]-e[Te]:Oe[Te]=e[Te]===void 0?Re[Te]:Re[Te]||e[Te],Te+=1;return Oe}return 0}function mul(Re,e){var Ee=_typeof$1(Re),Ce=_typeof$1(e),Te;if(isNumerable(Ee,Re)&&isNumerable(Ce,e))return Re*e;var De,Me;if($bm_isInstanceOfArray(Re)&&isNumerable(Ce,e)){for(Me=Re.length,Te=createTypedArray("float32",Me),De=0;De<Me;De+=1)Te[De]=Re[De]*e;return Te}if(isNumerable(Ee,Re)&&$bm_isInstanceOfArray(e)){for(Me=e.length,Te=createTypedArray("float32",Me),De=0;De<Me;De+=1)Te[De]=Re*e[De];return Te}return 0}function div(Re,e){var Ee=_typeof$1(Re),Ce=_typeof$1(e),Te;if(isNumerable(Ee,Re)&&isNumerable(Ce,e))return Re/e;var De,Me;if($bm_isInstanceOfArray(Re)&&isNumerable(Ce,e)){for(Me=Re.length,Te=createTypedArray("float32",Me),De=0;De<Me;De+=1)Te[De]=Re[De]/e;return Te}if(isNumerable(Ee,Re)&&$bm_isInstanceOfArray(e)){for(Me=e.length,Te=createTypedArray("float32",Me),De=0;De<Me;De+=1)Te[De]=Re/e[De];return Te}return 0}function mod(Re,e){return typeof Re=="string"&&(Re=parseInt(Re,10)),typeof e=="string"&&(e=parseInt(e,10)),Re%e}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(Re,e,Ee){if(e>Ee){var Ce=Ee;Ee=e,e=Ce}return Math.min(Math.max(Re,e),Ee)}function radiansToDegrees(Re){return Re/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(Re){return Re*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(Re,e){if(typeof Re=="number"||Re instanceof Number)return e=e||0,Math.abs(Re-e);e||(e=helperLengthArray);var Ee,Ce=Math.min(Re.length,e.length),Te=0;for(Ee=0;Ee<Ce;Ee+=1)Te+=Math.pow(e[Ee]-Re[Ee],2);return Math.sqrt(Te)}function normalize(Re){return div(Re,length(Re))}function rgbToHsl(Re){var e=Re[0],Ee=Re[1],Ce=Re[2],Te=Math.max(e,Ee,Ce),De=Math.min(e,Ee,Ce),Me,Oe,Be=(Te+De)/2;if(Te===De)Me=0,Oe=0;else{var ze=Te-De;switch(Oe=Be>.5?ze/(2-Te-De):ze/(Te+De),Te){case e:Me=(Ee-Ce)/ze+(Ee<Ce?6:0);break;case Ee:Me=(Ce-e)/ze+2;break;case Ce:Me=(e-Ee)/ze+4;break}Me/=6}return[Me,Oe,Be,Re[3]]}function hue2rgb(Re,e,Ee){return Ee<0&&(Ee+=1),Ee>1&&(Ee-=1),Ee<1/6?Re+(e-Re)*6*Ee:Ee<1/2?e:Ee<2/3?Re+(e-Re)*(2/3-Ee)*6:Re}function hslToRgb(Re){var e=Re[0],Ee=Re[1],Ce=Re[2],Te,De,Me;if(Ee===0)Te=Ce,Me=Ce,De=Ce;else{var Oe=Ce<.5?Ce*(1+Ee):Ce+Ee-Ce*Ee,Be=2*Ce-Oe;Te=hue2rgb(Be,Oe,e+1/3),De=hue2rgb(Be,Oe,e),Me=hue2rgb(Be,Oe,e-1/3)}return[Te,De,Me,Re[3]]}function linear(Re,e,Ee,Ce,Te){if((Ce===void 0||Te===void 0)&&(Ce=e,Te=Ee,e=0,Ee=1),Ee<e){var De=Ee;Ee=e,e=De}if(Re<=e)return Ce;if(Re>=Ee)return Te;var Me=Ee===e?0:(Re-e)/(Ee-e);if(!Ce.length)return Ce+(Te-Ce)*Me;var Oe,Be=Ce.length,ze=createTypedArray("float32",Be);for(Oe=0;Oe<Be;Oe+=1)ze[Oe]=Ce[Oe]+(Te[Oe]-Ce[Oe])*Me;return ze}function random(Re,e){if(e===void 0&&(Re===void 0?(Re=0,e=1):(e=Re,Re=void 0)),e.length){var Ee,Ce=e.length;Re||(Re=createTypedArray("float32",Ce));var Te=createTypedArray("float32",Ce),De=BMMath.random();for(Ee=0;Ee<Ce;Ee+=1)Te[Ee]=Re[Ee]+De*(e[Ee]-Re[Ee]);return Te}Re===void 0&&(Re=0);var Me=BMMath.random();return Re+Me*(e-Re)}function createPath(Re,e,Ee,Ce){var Te,De=Re.length,Me=shapePool.newElement();Me.setPathData(!!Ce,De);var Oe=[0,0],Be,ze;for(Te=0;Te<De;Te+=1)Be=e&&e[Te]?e[Te]:Oe,ze=Ee&&Ee[Te]?Ee[Te]:Oe,Me.setTripleAt(Re[Te][0],Re[Te][1],ze[0]+Re[Te][0],ze[1]+Re[Te][1],Be[0]+Re[Te][0],Be[1]+Re[Te][1],Te,!0);return Me}function initiateExpression(elem,data,property){function noOp(Re){return Re}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty._name=elem.data.nm,thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function Re(e,Ee){var Ce,Te,De=this.pv.length?this.pv.length:1,Me=createTypedArray("float32",De);e=5;var Oe=Math.floor(time*e);for(Ce=0,Te=0;Ce<Oe;){for(Te=0;Te<De;Te+=1)Me[Te]+=-Ee+Ee*2*BMMath.random();Ce+=1}var Be=time*e,ze=Be-Math.floor(Be),Ve=createTypedArray("float32",De);if(De>1){for(Te=0;Te<De;Te+=1)Ve[Te]=this.pv[Te]+Me[Te]+(-Ee+Ee*2*BMMath.random())*ze;return Ve}return this.pv+Me[0]+(-Ee+Ee*2*BMMath.random())*ze}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(Re,e){return loopIn(Re,e,!0)}function loopOutDuration(Re,e){return loopOut(Re,e,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(Re,e){var Ee=[e[0]-Re[0],e[1]-Re[1],e[2]-Re[2]],Ce=Math.atan2(Ee[0],Math.sqrt(Ee[1]*Ee[1]+Ee[2]*Ee[2]))/degToRads,Te=-Math.atan2(Ee[1],Ee[2])/degToRads;return[Te,Ce,0]}function easeOut(Re,e,Ee,Ce,Te){return applyEase(easeOutBez,Re,e,Ee,Ce,Te)}function easeIn(Re,e,Ee,Ce,Te){return applyEase(easeInBez,Re,e,Ee,Ce,Te)}function ease(Re,e,Ee,Ce,Te){return applyEase(easeInOutBez,Re,e,Ee,Ce,Te)}function applyEase(Re,e,Ee,Ce,Te,De){Te===void 0?(Te=Ee,De=Ce):e=(e-Ee)/(Ce-Ee),e>1?e=1:e<0&&(e=0);var Me=Re(e);if($bm_isInstanceOfArray(Te)){var Oe,Be=Te.length,ze=createTypedArray("float32",Be);for(Oe=0;Oe<Be;Oe+=1)ze[Oe]=(De[Oe]-Te[Oe])*Me+Te[Oe];return ze}return(De-Te)*Me+Te}function nearestKey(Re){var e,Ee=data.k.length,Ce,Te;if(!data.k.length||typeof data.k[0]=="number")Ce=0,Te=0;else if(Ce=-1,Re*=elem.comp.globalData.frameRate,Re<data.k[0].t)Ce=1,Te=data.k[0].t;else{for(e=0;e<Ee-1;e+=1)if(Re===data.k[e].t){Ce=e+1,Te=data.k[e].t;break}else if(Re>data.k[e].t&&Re<data.k[e+1].t){Re-data.k[e].t>data.k[e+1].t-Re?(Ce=e+2,Te=data.k[e+1].t):(Ce=e+1,Te=data.k[e].t);break}Ce===-1&&(Ce=e+1,Te=data.k[e].t)}var De={};return De.index=Ce,De.time=Te/elem.comp.globalData.frameRate,De}function key(Re){var e,Ee,Ce;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+Re);Re-=1,e={time:data.k[Re].t/elem.comp.globalData.frameRate,value:[]};var Te=Object.prototype.hasOwnProperty.call(data.k[Re],"s")?data.k[Re].s:data.k[Re-1].e;for(Ce=Te.length,Ee=0;Ee<Ce;Ee+=1)e[Ee]=Te[Ee],e.value[Ee]=Te[Ee];return e}function framesToTime(Re,e){return e||(e=elem.comp.globalData.frameRate),Re/e}function timeToFrames(Re,e){return!Re&&Re!==0&&(Re=time),e||(e=elem.comp.globalData.frameRate),Re*e}function seedRandom(Re){BMMath.seedrandom(randSeed+Re)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(Re,e){return typeof value=="string"?e===void 0?value.substring(Re):value.substring(Re,e):""}function substr(Re,e){return typeof value=="string"?e===void 0?value.substr(Re):value.substr(Re,e):""}function posterizeTime(Re){time=Re===0?0:Math.floor(time*Re)/Re,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(Re){return value=Re,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var Re={};Re.initExpressions=e,Re.resetFrame=ExpressionManager.resetFrame;function e(Ee){var Ce=0,Te=[];function De(){Ce+=1}function Me(){Ce-=1,Ce===0&&Be()}function Oe(ze){Te.indexOf(ze)===-1&&Te.push(ze)}function Be(){var ze,Ve=Te.length;for(ze=0;ze<Ve;ze+=1)Te[ze].release();Te.length=0}Ee.renderer.compInterface=CompExpressionInterface(Ee.renderer),Ee.renderer.globalData.projectInterface.registerComposition(Ee.renderer),Ee.renderer.globalData.pushExpression=De,Ee.renderer.globalData.popExpression=Me,Ee.renderer.globalData.registerExpressionProperty=Oe}return Re}(),MaskManagerInterface=function(){function Re(Ee,Ce){this._mask=Ee,this._data=Ce}Object.defineProperty(Re.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(Re.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var e=function(Ce){var Te=createSizedArray(Ce.viewData.length),De,Me=Ce.viewData.length;for(De=0;De<Me;De+=1)Te[De]=new Re(Ce.viewData[De],Ce.masksProperties[De]);var Oe=function(ze){for(De=0;De<Me;){if(Ce.masksProperties[De].nm===ze)return Te[De];De+=1}return null};return Oe};return e}(),ExpressionPropertyInterface=function(){var Re={pv:0,v:0,mult:1},e={pv:[0,0,0],v:[0,0,0],mult:1};function Ee(Me,Oe,Be){Object.defineProperty(Me,"velocity",{get:function(){return Oe.getVelocityAtTime(Oe.comp.currentFrame)}}),Me.numKeys=Oe.keyframes?Oe.keyframes.length:0,Me.key=function(ze){if(!Me.numKeys)return 0;var Ve="";"s"in Oe.keyframes[ze-1]?Ve=Oe.keyframes[ze-1].s:"e"in Oe.keyframes[ze-2]?Ve=Oe.keyframes[ze-2].e:Ve=Oe.keyframes[ze-2].s;var qe=Be==="unidimensional"?new Number(Ve):Object.assign({},Ve);return qe.time=Oe.keyframes[ze-1].t/Oe.elem.comp.globalData.frameRate,qe.value=Be==="unidimensional"?Ve[0]:Ve,qe},Me.valueAtTime=Oe.getValueAtTime,Me.speedAtTime=Oe.getSpeedAtTime,Me.velocityAtTime=Oe.getVelocityAtTime,Me.propertyGroup=Oe.propertyGroup}function Ce(Me){(!Me||!("pv"in Me))&&(Me=Re);var Oe=1/Me.mult,Be=Me.pv*Oe,ze=new Number(Be);return ze.value=Be,Ee(ze,Me,"unidimensional"),function(){return Me.k&&Me.getValue(),Be=Me.v*Oe,ze.value!==Be&&(ze=new Number(Be),ze.value=Be,ze[0]=Be,Ee(ze,Me,"unidimensional")),ze}}function Te(Me){(!Me||!("pv"in Me))&&(Me=e);var Oe=1/Me.mult,Be=Me.data&&Me.data.l||Me.pv.length,ze=createTypedArray("float32",Be),Ve=createTypedArray("float32",Be);return ze.value=Ve,Ee(ze,Me,"multidimensional"),function(){Me.k&&Me.getValue();for(var qe=0;qe<Be;qe+=1)Ve[qe]=Me.v[qe]*Oe,ze[qe]=Ve[qe];return ze}}function De(){return Re}return function(Me){return Me?Me.propType==="unidimensional"?Ce(Me):Te(Me):De}}(),TransformExpressionInterface=function(){return function(Re){function e(Me){switch(Me){case"scale":case"Scale":case"ADBE Scale":case 6:return e.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return e.rotation;case"ADBE Rotate X":return e.xRotation;case"ADBE Rotate Y":return e.yRotation;case"position":case"Position":case"ADBE Position":case 2:return e.position;case"ADBE Position_0":return e.xPosition;case"ADBE Position_1":return e.yPosition;case"ADBE Position_2":return e.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return e.anchorPoint;case"opacity":case"Opacity":case 11:return e.opacity;default:return null}}Object.defineProperty(e,"rotation",{get:ExpressionPropertyInterface(Re.r||Re.rz)}),Object.defineProperty(e,"zRotation",{get:ExpressionPropertyInterface(Re.rz||Re.r)}),Object.defineProperty(e,"xRotation",{get:ExpressionPropertyInterface(Re.rx)}),Object.defineProperty(e,"yRotation",{get:ExpressionPropertyInterface(Re.ry)}),Object.defineProperty(e,"scale",{get:ExpressionPropertyInterface(Re.s)});var Ee,Ce,Te,De;return Re.p?De=ExpressionPropertyInterface(Re.p):(Ee=ExpressionPropertyInterface(Re.px),Ce=ExpressionPropertyInterface(Re.py),Re.pz&&(Te=ExpressionPropertyInterface(Re.pz))),Object.defineProperty(e,"position",{get:function(){return Re.p?De():[Ee(),Ce(),Te?Te():0]}}),Object.defineProperty(e,"xPosition",{get:ExpressionPropertyInterface(Re.px)}),Object.defineProperty(e,"yPosition",{get:ExpressionPropertyInterface(Re.py)}),Object.defineProperty(e,"zPosition",{get:ExpressionPropertyInterface(Re.pz)}),Object.defineProperty(e,"anchorPoint",{get:ExpressionPropertyInterface(Re.a)}),Object.defineProperty(e,"opacity",{get:ExpressionPropertyInterface(Re.o)}),Object.defineProperty(e,"skew",{get:ExpressionPropertyInterface(Re.sk)}),Object.defineProperty(e,"skewAxis",{get:ExpressionPropertyInterface(Re.sa)}),Object.defineProperty(e,"orientation",{get:ExpressionPropertyInterface(Re.or)}),e}}(),LayerExpressionInterface=function(){function Re(ze){var Ve=new Matrix;if(ze!==void 0){var qe=this._elem.finalTransform.mProp.getValueAtTime(ze);qe.clone(Ve)}else{var We=this._elem.finalTransform.mProp;We.applyToMatrix(Ve)}return Ve}function e(ze,Ve){var qe=this.getMatrix(Ve);return qe.props[12]=0,qe.props[13]=0,qe.props[14]=0,this.applyPoint(qe,ze)}function Ee(ze,Ve){var qe=this.getMatrix(Ve);return this.applyPoint(qe,ze)}function Ce(ze,Ve){var qe=this.getMatrix(Ve);return qe.props[12]=0,qe.props[13]=0,qe.props[14]=0,this.invertPoint(qe,ze)}function Te(ze,Ve){var qe=this.getMatrix(Ve);return this.invertPoint(qe,ze)}function De(ze,Ve){if(this._elem.hierarchy&&this._elem.hierarchy.length){var qe,We=this._elem.hierarchy.length;for(qe=0;qe<We;qe+=1)this._elem.hierarchy[qe].finalTransform.mProp.applyToMatrix(ze)}return ze.applyToPointArray(Ve[0],Ve[1],Ve[2]||0)}function Me(ze,Ve){if(this._elem.hierarchy&&this._elem.hierarchy.length){var qe,We=this._elem.hierarchy.length;for(qe=0;qe<We;qe+=1)this._elem.hierarchy[qe].finalTransform.mProp.applyToMatrix(ze)}return ze.inversePoint(Ve)}function Oe(ze){var Ve=new Matrix;if(Ve.reset(),this._elem.finalTransform.mProp.applyToMatrix(Ve),this._elem.hierarchy&&this._elem.hierarchy.length){var qe,We=this._elem.hierarchy.length;for(qe=0;qe<We;qe+=1)this._elem.hierarchy[qe].finalTransform.mProp.applyToMatrix(Ve);return Ve.inversePoint(ze)}return Ve.inversePoint(ze)}function Be(){return[1,1,1,1]}return function(ze){var Ve;function qe(Qe){Ge.mask=new MaskManagerInterface(Qe,ze)}function We(Qe){Ge.effect=Qe}function Ge(Qe){switch(Qe){case"ADBE Root Vectors Group":case"Contents":case 2:return Ge.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return Ve;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return Ge.effect;case"ADBE Text Properties":return Ge.textInterface;default:return null}}Ge.getMatrix=Re,Ge.invertPoint=Me,Ge.applyPoint=De,Ge.toWorld=Ee,Ge.toWorldVec=e,Ge.fromWorld=Te,Ge.fromWorldVec=Ce,Ge.toComp=Ee,Ge.fromComp=Oe,Ge.sampleImage=Be,Ge.sourceRectAtTime=ze.sourceRectAtTime.bind(ze),Ge._elem=ze,Ve=TransformExpressionInterface(ze.finalTransform.mProp);var Je=getDescriptor(Ve,"anchorPoint");return Object.defineProperties(Ge,{hasParent:{get:function(){return ze.hierarchy.length}},parent:{get:function(){return ze.hierarchy[0].layerInterface}},rotation:getDescriptor(Ve,"rotation"),scale:getDescriptor(Ve,"scale"),position:getDescriptor(Ve,"position"),opacity:getDescriptor(Ve,"opacity"),anchorPoint:Je,anchor_point:Je,transform:{get:function(){return Ve}},active:{get:function(){return ze.isInRange}}}),Ge.startTime=ze.data.st,Ge.index=ze.data.ind,Ge.source=ze.data.refId,Ge.height=ze.data.ty===0?ze.data.h:100,Ge.width=ze.data.ty===0?ze.data.w:100,Ge.inPoint=ze.data.ip/ze.comp.globalData.frameRate,Ge.outPoint=ze.data.op/ze.comp.globalData.frameRate,Ge._name=ze.data.nm,Ge.registerMaskInterface=qe,Ge.registerEffectsInterface=We,Ge}}(),propertyGroupFactory=function(){return function(Re,e){return function(Ee){return Ee=Ee===void 0?1:Ee,Ee<=0?Re:e(Ee-1)}}}(),PropertyInterface=function(){return function(Re,e){var Ee={_name:Re};function Ce(Te){return Te=Te===void 0?1:Te,Te<=0?Ee:e(Te-1)}return Ce}}(),EffectsExpressionInterface=function(){var Re={createEffectsInterface:e};function e(Te,De){if(Te.effectsManager){var Me=[],Oe=Te.data.ef,Be,ze=Te.effectsManager.effectElements.length;for(Be=0;Be<ze;Be+=1)Me.push(Ee(Oe[Be],Te.effectsManager.effectElements[Be],De,Te));var Ve=Te.data.ef||[],qe=function(Ge){for(Be=0,ze=Ve.length;Be<ze;){if(Ge===Ve[Be].nm||Ge===Ve[Be].mn||Ge===Ve[Be].ix)return Me[Be];Be+=1}return null};return Object.defineProperty(qe,"numProperties",{get:function(){return Ve.length}}),qe}return null}function Ee(Te,De,Me,Oe){function Be(Ge){for(var Je=Te.ef,Qe=0,ns=Je.length;Qe<ns;){if(Ge===Je[Qe].nm||Ge===Je[Qe].mn||Ge===Je[Qe].ix)return Je[Qe].ty===5?Ve[Qe]:Ve[Qe]();Qe+=1}throw new Error}var ze=propertyGroupFactory(Be,Me),Ve=[],qe,We=Te.ef.length;for(qe=0;qe<We;qe+=1)Te.ef[qe].ty===5?Ve.push(Ee(Te.ef[qe],De.effectElements[qe],De.effectElements[qe].propertyGroup,Oe)):Ve.push(Ce(De.effectElements[qe],Te.ef[qe].ty,Oe,ze));return Te.mn==="ADBE Color Control"&&Object.defineProperty(Be,"color",{get:function(){return Ve[0]()}}),Object.defineProperties(Be,{numProperties:{get:function(){return Te.np}},_name:{value:Te.nm},propertyGroup:{value:ze}}),Be.enabled=Te.en!==0,Be.active=Be.enabled,Be}function Ce(Te,De,Me,Oe){var Be=ExpressionPropertyInterface(Te.p);function ze(){return De===10?Me.comp.compInterface(Te.p.v):Be()}return Te.p.setGroupProperty&&Te.p.setGroupProperty(PropertyInterface("",Oe)),ze}return Re}(),ShapePathInterface=function(){return function(e,Ee,Ce){var Te=Ee.sh;function De(Oe){return Oe==="Shape"||Oe==="shape"||Oe==="Path"||Oe==="path"||Oe==="ADBE Vector Shape"||Oe===2?De.path:null}var Me=propertyGroupFactory(De,Ce);return Te.setGroupProperty(PropertyInterface("Path",Me)),Object.defineProperties(De,{path:{get:function(){return Te.k&&Te.getValue(),Te}},shape:{get:function(){return Te.k&&Te.getValue(),Te}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:Ce}}),De}}(),ShapeExpressionInterface=function(){function Re(Je,Qe,ns){var Ye=[],rs,ts=Je?Je.length:0;for(rs=0;rs<ts;rs+=1)Je[rs].ty==="gr"?Ye.push(Ee(Je[rs],Qe[rs],ns)):Je[rs].ty==="fl"?Ye.push(Ce(Je[rs],Qe[rs],ns)):Je[rs].ty==="st"?Ye.push(Me(Je[rs],Qe[rs],ns)):Je[rs].ty==="tm"?Ye.push(Oe(Je[rs],Qe[rs],ns)):Je[rs].ty==="tr"||(Je[rs].ty==="el"?Ye.push(ze(Je[rs],Qe[rs],ns)):Je[rs].ty==="sr"?Ye.push(Ve(Je[rs],Qe[rs],ns)):Je[rs].ty==="sh"?Ye.push(ShapePathInterface(Je[rs],Qe[rs],ns)):Je[rs].ty==="rc"?Ye.push(qe(Je[rs],Qe[rs],ns)):Je[rs].ty==="rd"?Ye.push(We(Je[rs],Qe[rs],ns)):Je[rs].ty==="rp"?Ye.push(Ge(Je[rs],Qe[rs],ns)):Je[rs].ty==="gf"?Ye.push(Te(Je[rs],Qe[rs],ns)):Ye.push(De(Je[rs],Qe[rs])));return Ye}function e(Je,Qe,ns){var Ye,rs=function(is){for(var os=0,hs=Ye.length;os<hs;){if(Ye[os]._name===is||Ye[os].mn===is||Ye[os].propertyIndex===is||Ye[os].ix===is||Ye[os].ind===is)return Ye[os];os+=1}return typeof is=="number"?Ye[is-1]:null};rs.propertyGroup=propertyGroupFactory(rs,ns),Ye=Re(Je.it,Qe.it,rs.propertyGroup),rs.numProperties=Ye.length;var ts=Be(Je.it[Je.it.length-1],Qe.it[Qe.it.length-1],rs.propertyGroup);return rs.transform=ts,rs.propertyIndex=Je.cix,rs._name=Je.nm,rs}function Ee(Je,Qe,ns){var Ye=function(is){switch(is){case"ADBE Vectors Group":case"Contents":case 2:return Ye.content;default:return Ye.transform}};Ye.propertyGroup=propertyGroupFactory(Ye,ns);var rs=e(Je,Qe,Ye.propertyGroup),ts=Be(Je.it[Je.it.length-1],Qe.it[Qe.it.length-1],Ye.propertyGroup);return Ye.content=rs,Ye.transform=ts,Object.defineProperty(Ye,"_name",{get:function(){return Je.nm}}),Ye.numProperties=Je.np,Ye.propertyIndex=Je.ix,Ye.nm=Je.nm,Ye.mn=Je.mn,Ye}function Ce(Je,Qe,ns){function Ye(rs){return rs==="Color"||rs==="color"?Ye.color:rs==="Opacity"||rs==="opacity"?Ye.opacity:null}return Object.defineProperties(Ye,{color:{get:ExpressionPropertyInterface(Qe.c)},opacity:{get:ExpressionPropertyInterface(Qe.o)},_name:{value:Je.nm},mn:{value:Je.mn}}),Qe.c.setGroupProperty(PropertyInterface("Color",ns)),Qe.o.setGroupProperty(PropertyInterface("Opacity",ns)),Ye}function Te(Je,Qe,ns){function Ye(rs){return rs==="Start Point"||rs==="start point"?Ye.startPoint:rs==="End Point"||rs==="end point"?Ye.endPoint:rs==="Opacity"||rs==="opacity"?Ye.opacity:null}return Object.defineProperties(Ye,{startPoint:{get:ExpressionPropertyInterface(Qe.s)},endPoint:{get:ExpressionPropertyInterface(Qe.e)},opacity:{get:ExpressionPropertyInterface(Qe.o)},type:{get:function(){return"a"}},_name:{value:Je.nm},mn:{value:Je.mn}}),Qe.s.setGroupProperty(PropertyInterface("Start Point",ns)),Qe.e.setGroupProperty(PropertyInterface("End Point",ns)),Qe.o.setGroupProperty(PropertyInterface("Opacity",ns)),Ye}function De(){function Je(){return null}return Je}function Me(Je,Qe,ns){var Ye=propertyGroupFactory(hs,ns),rs=propertyGroupFactory(os,Ye);function ts(fs){Object.defineProperty(os,Je.d[fs].nm,{get:ExpressionPropertyInterface(Qe.d.dataProps[fs].p)})}var Xe,is=Je.d?Je.d.length:0,os={};for(Xe=0;Xe<is;Xe+=1)ts(Xe),Qe.d.dataProps[Xe].p.setGroupProperty(rs);function hs(fs){return fs==="Color"||fs==="color"?hs.color:fs==="Opacity"||fs==="opacity"?hs.opacity:fs==="Stroke Width"||fs==="stroke width"?hs.strokeWidth:null}return Object.defineProperties(hs,{color:{get:ExpressionPropertyInterface(Qe.c)},opacity:{get:ExpressionPropertyInterface(Qe.o)},strokeWidth:{get:ExpressionPropertyInterface(Qe.w)},dash:{get:function(){return os}},_name:{value:Je.nm},mn:{value:Je.mn}}),Qe.c.setGroupProperty(PropertyInterface("Color",Ye)),Qe.o.setGroupProperty(PropertyInterface("Opacity",Ye)),Qe.w.setGroupProperty(PropertyInterface("Stroke Width",Ye)),hs}function Oe(Je,Qe,ns){function Ye(ts){return ts===Je.e.ix||ts==="End"||ts==="end"?Ye.end:ts===Je.s.ix?Ye.start:ts===Je.o.ix?Ye.offset:null}var rs=propertyGroupFactory(Ye,ns);return Ye.propertyIndex=Je.ix,Qe.s.setGroupProperty(PropertyInterface("Start",rs)),Qe.e.setGroupProperty(PropertyInterface("End",rs)),Qe.o.setGroupProperty(PropertyInterface("Offset",rs)),Ye.propertyIndex=Je.ix,Ye.propertyGroup=ns,Object.defineProperties(Ye,{start:{get:ExpressionPropertyInterface(Qe.s)},end:{get:ExpressionPropertyInterface(Qe.e)},offset:{get:ExpressionPropertyInterface(Qe.o)},_name:{value:Je.nm}}),Ye.mn=Je.mn,Ye}function Be(Je,Qe,ns){function Ye(ts){return Je.a.ix===ts||ts==="Anchor Point"?Ye.anchorPoint:Je.o.ix===ts||ts==="Opacity"?Ye.opacity:Je.p.ix===ts||ts==="Position"?Ye.position:Je.r.ix===ts||ts==="Rotation"||ts==="ADBE Vector Rotation"?Ye.rotation:Je.s.ix===ts||ts==="Scale"?Ye.scale:Je.sk&&Je.sk.ix===ts||ts==="Skew"?Ye.skew:Je.sa&&Je.sa.ix===ts||ts==="Skew Axis"?Ye.skewAxis:null}var rs=propertyGroupFactory(Ye,ns);return Qe.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",rs)),Qe.transform.mProps.p.setGroupProperty(PropertyInterface("Position",rs)),Qe.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",rs)),Qe.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",rs)),Qe.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",rs)),Qe.transform.mProps.sk&&(Qe.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",rs)),Qe.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",rs))),Qe.transform.op.setGroupProperty(PropertyInterface("Opacity",rs)),Object.defineProperties(Ye,{opacity:{get:ExpressionPropertyInterface(Qe.transform.mProps.o)},position:{get:ExpressionPropertyInterface(Qe.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(Qe.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(Qe.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(Qe.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(Qe.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(Qe.transform.mProps.sa)},_name:{value:Je.nm}}),Ye.ty="tr",Ye.mn=Je.mn,Ye.propertyGroup=ns,Ye}function ze(Je,Qe,ns){function Ye(Xe){return Je.p.ix===Xe?Ye.position:Je.s.ix===Xe?Ye.size:null}var rs=propertyGroupFactory(Ye,ns);Ye.propertyIndex=Je.ix;var ts=Qe.sh.ty==="tm"?Qe.sh.prop:Qe.sh;return ts.s.setGroupProperty(PropertyInterface("Size",rs)),ts.p.setGroupProperty(PropertyInterface("Position",rs)),Object.defineProperties(Ye,{size:{get:ExpressionPropertyInterface(ts.s)},position:{get:ExpressionPropertyInterface(ts.p)},_name:{value:Je.nm}}),Ye.mn=Je.mn,Ye}function Ve(Je,Qe,ns){function Ye(Xe){return Je.p.ix===Xe?Ye.position:Je.r.ix===Xe?Ye.rotation:Je.pt.ix===Xe?Ye.points:Je.or.ix===Xe||Xe==="ADBE Vector Star Outer Radius"?Ye.outerRadius:Je.os.ix===Xe?Ye.outerRoundness:Je.ir&&(Je.ir.ix===Xe||Xe==="ADBE Vector Star Inner Radius")?Ye.innerRadius:Je.is&&Je.is.ix===Xe?Ye.innerRoundness:null}var rs=propertyGroupFactory(Ye,ns),ts=Qe.sh.ty==="tm"?Qe.sh.prop:Qe.sh;return Ye.propertyIndex=Je.ix,ts.or.setGroupProperty(PropertyInterface("Outer Radius",rs)),ts.os.setGroupProperty(PropertyInterface("Outer Roundness",rs)),ts.pt.setGroupProperty(PropertyInterface("Points",rs)),ts.p.setGroupProperty(PropertyInterface("Position",rs)),ts.r.setGroupProperty(PropertyInterface("Rotation",rs)),Je.ir&&(ts.ir.setGroupProperty(PropertyInterface("Inner Radius",rs)),ts.is.setGroupProperty(PropertyInterface("Inner Roundness",rs))),Object.defineProperties(Ye,{position:{get:ExpressionPropertyInterface(ts.p)},rotation:{get:ExpressionPropertyInterface(ts.r)},points:{get:ExpressionPropertyInterface(ts.pt)},outerRadius:{get:ExpressionPropertyInterface(ts.or)},outerRoundness:{get:ExpressionPropertyInterface(ts.os)},innerRadius:{get:ExpressionPropertyInterface(ts.ir)},innerRoundness:{get:ExpressionPropertyInterface(ts.is)},_name:{value:Je.nm}}),Ye.mn=Je.mn,Ye}function qe(Je,Qe,ns){function Ye(Xe){return Je.p.ix===Xe?Ye.position:Je.r.ix===Xe?Ye.roundness:Je.s.ix===Xe||Xe==="Size"||Xe==="ADBE Vector Rect Size"?Ye.size:null}var rs=propertyGroupFactory(Ye,ns),ts=Qe.sh.ty==="tm"?Qe.sh.prop:Qe.sh;return Ye.propertyIndex=Je.ix,ts.p.setGroupProperty(PropertyInterface("Position",rs)),ts.s.setGroupProperty(PropertyInterface("Size",rs)),ts.r.setGroupProperty(PropertyInterface("Rotation",rs)),Object.defineProperties(Ye,{position:{get:ExpressionPropertyInterface(ts.p)},roundness:{get:ExpressionPropertyInterface(ts.r)},size:{get:ExpressionPropertyInterface(ts.s)},_name:{value:Je.nm}}),Ye.mn=Je.mn,Ye}function We(Je,Qe,ns){function Ye(Xe){return Je.r.ix===Xe||Xe==="Round Corners 1"?Ye.radius:null}var rs=propertyGroupFactory(Ye,ns),ts=Qe;return Ye.propertyIndex=Je.ix,ts.rd.setGroupProperty(PropertyInterface("Radius",rs)),Object.defineProperties(Ye,{radius:{get:ExpressionPropertyInterface(ts.rd)},_name:{value:Je.nm}}),Ye.mn=Je.mn,Ye}function Ge(Je,Qe,ns){function Ye(Xe){return Je.c.ix===Xe||Xe==="Copies"?Ye.copies:Je.o.ix===Xe||Xe==="Offset"?Ye.offset:null}var rs=propertyGroupFactory(Ye,ns),ts=Qe;return Ye.propertyIndex=Je.ix,ts.c.setGroupProperty(PropertyInterface("Copies",rs)),ts.o.setGroupProperty(PropertyInterface("Offset",rs)),Object.defineProperties(Ye,{copies:{get:ExpressionPropertyInterface(ts.c)},offset:{get:ExpressionPropertyInterface(ts.o)},_name:{value:Je.nm}}),Ye.mn=Je.mn,Ye}return function(Je,Qe,ns){var Ye;function rs(Xe){if(typeof Xe=="number")return Xe=Xe===void 0?1:Xe,Xe===0?ns:Ye[Xe-1];for(var is=0,os=Ye.length;is<os;){if(Ye[is]._name===Xe)return Ye[is];is+=1}return null}function ts(){return ns}return rs.propertyGroup=propertyGroupFactory(rs,ts),Ye=Re(Je,Qe,rs.propertyGroup),rs.numProperties=Ye.length,rs._name="Contents",rs}}(),TextExpressionInterface=function(){return function(Re){var e;function Ee(Ce){switch(Ce){case"ADBE Text Document":return Ee.sourceText;default:return null}}return Object.defineProperty(Ee,"sourceText",{get:function(){Re.textProperty.getValue();var Te=Re.textProperty.currentData.t;return(!e||Te!==e.value)&&(e=new String(Te),e.value=Te||new String(Te),Object.defineProperty(e,"style",{get:function(){return{fillColor:Re.textProperty.currentData.fc}}})),e}}),Ee}}();function _typeof(Re){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_typeof(Re)}var FootageInterface=function(){var Re=function(Ce){var Te="",De=Ce.getFootageData();function Me(){return Te="",De=Ce.getFootageData(),Oe}function Oe(Be){if(De[Be])return Te=Be,De=De[Be],_typeof(De)==="object"?Oe:De;var ze=Be.indexOf(Te);if(ze!==-1){var Ve=parseInt(Be.substr(ze+Te.length),10);return De=De[Ve],_typeof(De)==="object"?Oe:De}return""}return Me},e=function(Ce){function Te(De){return De==="Outline"?Te.outlineInterface():null}return Te._name="Outline",Te.outlineInterface=Re(Ce),Te};return function(Ee){function Ce(Te){return Te==="Data"?Ce.dataInterface:null}return Ce._name="Data",Ce.dataInterface=e(Ee),Ce}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(Re){return interfaces[Re]||null}var expressionHelpers=function(){function Re(Me,Oe,Be){Oe.x&&(Be.k=!0,Be.x=!0,Be.initiateExpression=ExpressionManager.initiateExpression,Be.effectsSequence.push(Be.initiateExpression(Me,Oe,Be).bind(Be)))}function e(Me){return Me*=this.elem.globalData.frameRate,Me-=this.offsetTime,Me!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<Me?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(Me,this._cachingAtTime),this._cachingAtTime.lastFrame=Me),this._cachingAtTime.value}function Ee(Me){var Oe=-.01,Be=this.getValueAtTime(Me),ze=this.getValueAtTime(Me+Oe),Ve=0;if(Be.length){var qe;for(qe=0;qe<Be.length;qe+=1)Ve+=Math.pow(ze[qe]-Be[qe],2);Ve=Math.sqrt(Ve)*100}else Ve=0;return Ve}function Ce(Me){if(this.vel!==void 0)return this.vel;var Oe=-.001,Be=this.getValueAtTime(Me),ze=this.getValueAtTime(Me+Oe),Ve;if(Be.length){Ve=createTypedArray("float32",Be.length);var qe;for(qe=0;qe<Be.length;qe+=1)Ve[qe]=(ze[qe]-Be[qe])/Oe}else Ve=(ze-Be)/Oe;return Ve}function Te(){return this.pv}function De(Me){this.propertyGroup=Me}return{searchExpressions:Re,getSpeedAtTime:Ee,getVelocityAtTime:Ce,getValueAtTime:e,getStaticValueAtTime:Te,setGroupProperty:De}}();function addPropertyDecorator(){function Re(We,Ge,Je){if(!this.k||!this.keyframes)return this.pv;We=We?We.toLowerCase():"";var Qe=this.comp.renderedFrame,ns=this.keyframes,Ye=ns[ns.length-1].t;if(Qe<=Ye)return this.pv;var rs,ts;Je?(Ge?rs=Math.abs(Ye-this.elem.comp.globalData.frameRate*Ge):rs=Math.max(0,Ye-this.elem.data.ip),ts=Ye-rs):((!Ge||Ge>ns.length-1)&&(Ge=ns.length-1),ts=ns[ns.length-1-Ge].t,rs=Ye-ts);var Xe,is,os;if(We==="pingpong"){var hs=Math.floor((Qe-ts)/rs);if(hs%2!==0)return this.getValueAtTime((rs-(Qe-ts)%rs+ts)/this.comp.globalData.frameRate,0)}else if(We==="offset"){var fs=this.getValueAtTime(ts/this.comp.globalData.frameRate,0),xs=this.getValueAtTime(Ye/this.comp.globalData.frameRate,0),Ss=this.getValueAtTime(((Qe-ts)%rs+ts)/this.comp.globalData.frameRate,0),ds=Math.floor((Qe-ts)/rs);if(this.pv.length){for(os=new Array(fs.length),is=os.length,Xe=0;Xe<is;Xe+=1)os[Xe]=(xs[Xe]-fs[Xe])*ds+Ss[Xe];return os}return(xs-fs)*ds+Ss}else if(We==="continue"){var gs=this.getValueAtTime(Ye/this.comp.globalData.frameRate,0),Ts=this.getValueAtTime((Ye-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(os=new Array(gs.length),is=os.length,Xe=0;Xe<is;Xe+=1)os[Xe]=gs[Xe]+(gs[Xe]-Ts[Xe])*((Qe-Ye)/this.comp.globalData.frameRate)/5e-4;return os}return gs+(gs-Ts)*((Qe-Ye)/.001)}return this.getValueAtTime(((Qe-ts)%rs+ts)/this.comp.globalData.frameRate,0)}function e(We,Ge,Je){if(!this.k)return this.pv;We=We?We.toLowerCase():"";var Qe=this.comp.renderedFrame,ns=this.keyframes,Ye=ns[0].t;if(Qe>=Ye)return this.pv;var rs,ts;Je?(Ge?rs=Math.abs(this.elem.comp.globalData.frameRate*Ge):rs=Math.max(0,this.elem.data.op-Ye),ts=Ye+rs):((!Ge||Ge>ns.length-1)&&(Ge=ns.length-1),ts=ns[Ge].t,rs=ts-Ye);var Xe,is,os;if(We==="pingpong"){var hs=Math.floor((Ye-Qe)/rs);if(hs%2===0)return this.getValueAtTime(((Ye-Qe)%rs+Ye)/this.comp.globalData.frameRate,0)}else if(We==="offset"){var fs=this.getValueAtTime(Ye/this.comp.globalData.frameRate,0),xs=this.getValueAtTime(ts/this.comp.globalData.frameRate,0),Ss=this.getValueAtTime((rs-(Ye-Qe)%rs+Ye)/this.comp.globalData.frameRate,0),ds=Math.floor((Ye-Qe)/rs)+1;if(this.pv.length){for(os=new Array(fs.length),is=os.length,Xe=0;Xe<is;Xe+=1)os[Xe]=Ss[Xe]-(xs[Xe]-fs[Xe])*ds;return os}return Ss-(xs-fs)*ds}else if(We==="continue"){var gs=this.getValueAtTime(Ye/this.comp.globalData.frameRate,0),Ts=this.getValueAtTime((Ye+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(os=new Array(gs.length),is=os.length,Xe=0;Xe<is;Xe+=1)os[Xe]=gs[Xe]+(gs[Xe]-Ts[Xe])*(Ye-Qe)/.001;return os}return gs+(gs-Ts)*(Ye-Qe)/.001}return this.getValueAtTime((rs-((Ye-Qe)%rs+Ye))/this.comp.globalData.frameRate,0)}function Ee(We,Ge){if(!this.k)return this.pv;if(We=(We||.4)*.5,Ge=Math.floor(Ge||5),Ge<=1)return this.pv;var Je=this.comp.renderedFrame/this.comp.globalData.frameRate,Qe=Je-We,ns=Je+We,Ye=Ge>1?(ns-Qe)/(Ge-1):1,rs=0,ts=0,Xe;this.pv.length?Xe=createTypedArray("float32",this.pv.length):Xe=0;for(var is;rs<Ge;){if(is=this.getValueAtTime(Qe+rs*Ye),this.pv.length)for(ts=0;ts<this.pv.length;ts+=1)Xe[ts]+=is[ts];else Xe+=is;rs+=1}if(this.pv.length)for(ts=0;ts<this.pv.length;ts+=1)Xe[ts]/=Ge;else Xe/=Ge;return Xe}function Ce(We){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var Ge=this._transformCachingAtTime.v;if(Ge.cloneFromProps(this.pre.props),this.appliedTransformations<1){var Je=this.a.getValueAtTime(We);Ge.translate(-Je[0]*this.a.mult,-Je[1]*this.a.mult,Je[2]*this.a.mult)}if(this.appliedTransformations<2){var Qe=this.s.getValueAtTime(We);Ge.scale(Qe[0]*this.s.mult,Qe[1]*this.s.mult,Qe[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var ns=this.sk.getValueAtTime(We),Ye=this.sa.getValueAtTime(We);Ge.skewFromAxis(-ns*this.sk.mult,Ye*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var rs=this.r.getValueAtTime(We);Ge.rotate(-rs*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var ts=this.rz.getValueAtTime(We),Xe=this.ry.getValueAtTime(We),is=this.rx.getValueAtTime(We),os=this.or.getValueAtTime(We);Ge.rotateZ(-ts*this.rz.mult).rotateY(Xe*this.ry.mult).rotateX(is*this.rx.mult).rotateZ(-os[2]*this.or.mult).rotateY(os[1]*this.or.mult).rotateX(os[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var hs=this.px.getValueAtTime(We),fs=this.py.getValueAtTime(We);if(this.data.p.z){var xs=this.pz.getValueAtTime(We);Ge.translate(hs*this.px.mult,fs*this.py.mult,-xs*this.pz.mult)}else Ge.translate(hs*this.px.mult,fs*this.py.mult,0)}else{var Ss=this.p.getValueAtTime(We);Ge.translate(Ss[0]*this.p.mult,Ss[1]*this.p.mult,-Ss[2]*this.p.mult)}return Ge}function Te(){return this.v.clone(new Matrix)}var De=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(We,Ge,Je){var Qe=De(We,Ge,Je);return Qe.dynamicProperties.length?Qe.getValueAtTime=Ce.bind(Qe):Qe.getValueAtTime=Te.bind(Qe),Qe.setGroupProperty=expressionHelpers.setGroupProperty,Qe};var Me=PropertyFactory.getProp;PropertyFactory.getProp=function(We,Ge,Je,Qe,ns){var Ye=Me(We,Ge,Je,Qe,ns);Ye.kf?Ye.getValueAtTime=expressionHelpers.getValueAtTime.bind(Ye):Ye.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(Ye),Ye.setGroupProperty=expressionHelpers.setGroupProperty,Ye.loopOut=Re,Ye.loopIn=e,Ye.smooth=Ee,Ye.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(Ye),Ye.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(Ye),Ye.numKeys=Ge.a===1?Ge.k.length:0,Ye.propertyIndex=Ge.ix;var rs=0;return Je!==0&&(rs=createTypedArray("float32",Ge.a===1?Ge.k[0].s.length:Ge.k.length)),Ye._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:rs},expressionHelpers.searchExpressions(We,Ge,Ye),Ye.k&&ns.addDynamicProperty(Ye),Ye};function Oe(We){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),We*=this.elem.globalData.frameRate,We-=this.offsetTime,We!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<We?this._caching.lastIndex:0,this._cachingAtTime.lastTime=We,this.interpolateShape(We,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var Be=ShapePropertyFactory.getConstructorFunction(),ze=ShapePropertyFactory.getKeyframedConstructorFunction();function Ve(){}Ve.prototype={vertices:function(Ge,Je){this.k&&this.getValue();var Qe=this.v;Je!==void 0&&(Qe=this.getValueAtTime(Je,0));var ns,Ye=Qe._length,rs=Qe[Ge],ts=Qe.v,Xe=createSizedArray(Ye);for(ns=0;ns<Ye;ns+=1)Ge==="i"||Ge==="o"?Xe[ns]=[rs[ns][0]-ts[ns][0],rs[ns][1]-ts[ns][1]]:Xe[ns]=[rs[ns][0],rs[ns][1]];return Xe},points:function(Ge){return this.vertices("v",Ge)},inTangents:function(Ge){return this.vertices("i",Ge)},outTangents:function(Ge){return this.vertices("o",Ge)},isClosed:function(){return this.v.c},pointOnPath:function(Ge,Je){var Qe=this.v;Je!==void 0&&(Qe=this.getValueAtTime(Je,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(Qe));for(var ns=this._segmentsLength,Ye=ns.lengths,rs=ns.totalLength*Ge,ts=0,Xe=Ye.length,is=0,os;ts<Xe;){if(is+Ye[ts].addedLength>rs){var hs=ts,fs=Qe.c&&ts===Xe-1?0:ts+1,xs=(rs-is)/Ye[ts].addedLength;os=bez.getPointInSegment(Qe.v[hs],Qe.v[fs],Qe.o[hs],Qe.i[fs],xs,Ye[ts]);break}else is+=Ye[ts].addedLength;ts+=1}return os||(os=Qe.c?[Qe.v[0][0],Qe.v[0][1]]:[Qe.v[Qe._length-1][0],Qe.v[Qe._length-1][1]]),os},vectorOnPath:function(Ge,Je,Qe){Ge==1?Ge=this.v.c:Ge==0&&(Ge=.999);var ns=this.pointOnPath(Ge,Je),Ye=this.pointOnPath(Ge+.001,Je),rs=Ye[0]-ns[0],ts=Ye[1]-ns[1],Xe=Math.sqrt(Math.pow(rs,2)+Math.pow(ts,2));if(Xe===0)return[0,0];var is=Qe==="tangent"?[rs/Xe,ts/Xe]:[-ts/Xe,rs/Xe];return is},tangentOnPath:function(Ge,Je){return this.vectorOnPath(Ge,Je,"tangent")},normalOnPath:function(Ge,Je){return this.vectorOnPath(Ge,Je,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([Ve],Be),extendPrototype([Ve],ze),ze.prototype.getValueAtTime=Oe,ze.prototype.initiateExpression=ExpressionManager.initiateExpression;var qe=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(We,Ge,Je,Qe,ns){var Ye=qe(We,Ge,Je,Qe,ns);return Ye.propertyIndex=Ge.ix,Ye.lock=!1,Je===3?expressionHelpers.searchExpressions(We,Ge.pt,Ye):Je===4&&expressionHelpers.searchExpressions(We,Ge.ks,Ye),Ye.k&&We.addDynamicProperty(Ye),Ye}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function Re(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(e,Ee){var Ce=this.calculateExpression(Ee);if(e.t!==Ce){var Te={};return this.copyData(Te,e),Te.t=Ce.toString(),Te.__complete=!1,Te}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),Ee=this.searchExpressions();return this.kf=e||Ee,this.kf},TextProperty.prototype.searchExpressions=Re}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function Re(e,Ee){var Ce=createNS("feMerge");Ce.setAttribute("result",e);var Te,De;for(De=0;De<Ee.length;De+=1)Te=createNS("feMergeNode"),Te.setAttribute("in",Ee[De]),Ce.appendChild(Te),Ce.appendChild(Te);return Ce}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(Re,e,Ee,Ce,Te){this.filterManager=e;var De=createNS("feColorMatrix");De.setAttribute("type","matrix"),De.setAttribute("color-interpolation-filters","linearRGB"),De.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=De,De.setAttribute("result",Ce+"_tint_1"),Re.appendChild(De),De=createNS("feColorMatrix"),De.setAttribute("type","matrix"),De.setAttribute("color-interpolation-filters","sRGB"),De.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),De.setAttribute("result",Ce+"_tint_2"),Re.appendChild(De),this.matrixFilter=De;var Me=this.createMergeNode(Ce,[Te,Ce+"_tint_1",Ce+"_tint_2"]);Re.appendChild(Me)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(Re){if(Re||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,Ee=this.filterManager.effectElements[1].p.v,Ce=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+Ce+" 0"),this.matrixFilter.setAttribute("values",Ee[0]-e[0]+" 0 0 0 "+e[0]+" "+(Ee[1]-e[1])+" 0 0 0 "+e[1]+" "+(Ee[2]-e[2])+" 0 0 0 "+e[2]+" 0 0 0 1 0")}};function SVGFillFilter(Re,e,Ee,Ce){this.filterManager=e;var Te=createNS("feColorMatrix");Te.setAttribute("type","matrix"),Te.setAttribute("color-interpolation-filters","sRGB"),Te.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),Te.setAttribute("result",Ce),Re.appendChild(Te),this.matrixFilter=Te}SVGFillFilter.prototype.renderFrame=function(Re){if(Re||this.filterManager._mdf){var e=this.filterManager.effectElements[2].p.v,Ee=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+e[0]+" 0 0 0 0 "+e[1]+" 0 0 0 0 "+e[2]+" 0 0 0 "+Ee+" 0")}};function SVGStrokeEffect(Re,e,Ee){this.initialized=!1,this.filterManager=e,this.elem=Ee,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var Re=this.elem.layerElement.children||this.elem.layerElement.childNodes,e,Ee,Ce,Te;for(this.filterManager.effectElements[1].p.v===1?(Te=this.elem.maskManager.masksProperties.length,Ce=0):(Ce=this.filterManager.effectElements[0].p.v-1,Te=Ce+1),Ee=createNS("g"),Ee.setAttribute("fill","none"),Ee.setAttribute("stroke-linecap","round"),Ee.setAttribute("stroke-dashoffset",1),Ce;Ce<Te;Ce+=1)e=createNS("path"),Ee.appendChild(e),this.paths.push({p:e,m:Ce});if(this.filterManager.effectElements[10].p.v===3){var De=createNS("mask"),Me=createElementID();De.setAttribute("id",Me),De.setAttribute("mask-type","alpha"),De.appendChild(Ee),this.elem.globalData.defs.appendChild(De);var Oe=createNS("g");for(Oe.setAttribute("mask","url("+getLocationHref()+"#"+Me+")");Re[0];)Oe.appendChild(Re[0]);this.elem.layerElement.appendChild(Oe),this.masker=De,Ee.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(Re=this.elem.layerElement.children||this.elem.layerElement.childNodes;Re.length;)this.elem.layerElement.removeChild(Re[0]);this.elem.layerElement.appendChild(Ee),this.elem.layerElement.removeAttribute("mask"),Ee.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=Ee},SVGStrokeEffect.prototype.renderFrame=function(Re){this.initialized||this.initialize();var e,Ee=this.paths.length,Ce,Te;for(e=0;e<Ee;e+=1)if(this.paths[e].m!==-1&&(Ce=this.elem.maskManager.viewData[this.paths[e].m],Te=this.paths[e].p,(Re||this.filterManager._mdf||Ce.prop._mdf)&&Te.setAttribute("d",Ce.lastPath),Re||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||Ce.prop._mdf)){var De;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var Me=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Oe=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,Be=Te.getTotalLength();De="0 0 0 "+Be*Me+" ";var ze=Be*(Oe-Me),Ve=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,qe=Math.floor(ze/Ve),We;for(We=0;We<qe;We+=1)De+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";De+="0 "+Be*10+" 0 0"}else De="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;Te.setAttribute("stroke-dasharray",De)}if((Re||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(Re||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(Re||this.filterManager.effectElements[3].p._mdf)){var Ge=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(Ge[0]*255)+","+bmFloor(Ge[1]*255)+","+bmFloor(Ge[2]*255)+")")}};function SVGTritoneFilter(Re,e,Ee,Ce){this.filterManager=e;var Te=createNS("feColorMatrix");Te.setAttribute("type","matrix"),Te.setAttribute("color-interpolation-filters","linearRGB"),Te.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),Re.appendChild(Te);var De=createNS("feComponentTransfer");De.setAttribute("color-interpolation-filters","sRGB"),De.setAttribute("result",Ce),this.matrixFilter=De;var Me=createNS("feFuncR");Me.setAttribute("type","table"),De.appendChild(Me),this.feFuncR=Me;var Oe=createNS("feFuncG");Oe.setAttribute("type","table"),De.appendChild(Oe),this.feFuncG=Oe;var Be=createNS("feFuncB");Be.setAttribute("type","table"),De.appendChild(Be),this.feFuncB=Be,Re.appendChild(De)}SVGTritoneFilter.prototype.renderFrame=function(Re){if(Re||this.filterManager._mdf){var e=this.filterManager.effectElements[0].p.v,Ee=this.filterManager.effectElements[1].p.v,Ce=this.filterManager.effectElements[2].p.v,Te=Ce[0]+" "+Ee[0]+" "+e[0],De=Ce[1]+" "+Ee[1]+" "+e[1],Me=Ce[2]+" "+Ee[2]+" "+e[2];this.feFuncR.setAttribute("tableValues",Te),this.feFuncG.setAttribute("tableValues",De),this.feFuncB.setAttribute("tableValues",Me)}};function SVGProLevelsFilter(Re,e,Ee,Ce){this.filterManager=e;var Te=this.filterManager.effectElements,De=createNS("feComponentTransfer");(Te[10].p.k||Te[10].p.v!==0||Te[11].p.k||Te[11].p.v!==1||Te[12].p.k||Te[12].p.v!==1||Te[13].p.k||Te[13].p.v!==0||Te[14].p.k||Te[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",De)),(Te[17].p.k||Te[17].p.v!==0||Te[18].p.k||Te[18].p.v!==1||Te[19].p.k||Te[19].p.v!==1||Te[20].p.k||Te[20].p.v!==0||Te[21].p.k||Te[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",De)),(Te[24].p.k||Te[24].p.v!==0||Te[25].p.k||Te[25].p.v!==1||Te[26].p.k||Te[26].p.v!==1||Te[27].p.k||Te[27].p.v!==0||Te[28].p.k||Te[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",De)),(Te[31].p.k||Te[31].p.v!==0||Te[32].p.k||Te[32].p.v!==1||Te[33].p.k||Te[33].p.v!==1||Te[34].p.k||Te[34].p.v!==0||Te[35].p.k||Te[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",De)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(De.setAttribute("color-interpolation-filters","sRGB"),Re.appendChild(De)),(Te[3].p.k||Te[3].p.v!==0||Te[4].p.k||Te[4].p.v!==1||Te[5].p.k||Te[5].p.v!==1||Te[6].p.k||Te[6].p.v!==0||Te[7].p.k||Te[7].p.v!==1)&&(De=createNS("feComponentTransfer"),De.setAttribute("color-interpolation-filters","sRGB"),De.setAttribute("result",Ce),Re.appendChild(De),this.feFuncRComposed=this.createFeFunc("feFuncR",De),this.feFuncGComposed=this.createFeFunc("feFuncG",De),this.feFuncBComposed=this.createFeFunc("feFuncB",De))}SVGProLevelsFilter.prototype.createFeFunc=function(Re,e){var Ee=createNS(Re);return Ee.setAttribute("type","table"),e.appendChild(Ee),Ee},SVGProLevelsFilter.prototype.getTableValue=function(Re,e,Ee,Ce,Te){for(var De=0,Me=256,Oe,Be=Math.min(Re,e),ze=Math.max(Re,e),Ve=Array.call(null,{length:Me}),qe,We=0,Ge=Te-Ce,Je=e-Re;De<=256;)Oe=De/256,Oe<=Be?qe=Je<0?Te:Ce:Oe>=ze?qe=Je<0?Ce:Te:qe=Ce+Ge*Math.pow((Oe-Re)/Je,1/Ee),Ve[We]=qe,We+=1,De+=256/(Me-1);return Ve.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(Re){if(Re||this.filterManager._mdf){var e,Ee=this.filterManager.effectElements;this.feFuncRComposed&&(Re||Ee[3].p._mdf||Ee[4].p._mdf||Ee[5].p._mdf||Ee[6].p._mdf||Ee[7].p._mdf)&&(e=this.getTableValue(Ee[3].p.v,Ee[4].p.v,Ee[5].p.v,Ee[6].p.v,Ee[7].p.v),this.feFuncRComposed.setAttribute("tableValues",e),this.feFuncGComposed.setAttribute("tableValues",e),this.feFuncBComposed.setAttribute("tableValues",e)),this.feFuncR&&(Re||Ee[10].p._mdf||Ee[11].p._mdf||Ee[12].p._mdf||Ee[13].p._mdf||Ee[14].p._mdf)&&(e=this.getTableValue(Ee[10].p.v,Ee[11].p.v,Ee[12].p.v,Ee[13].p.v,Ee[14].p.v),this.feFuncR.setAttribute("tableValues",e)),this.feFuncG&&(Re||Ee[17].p._mdf||Ee[18].p._mdf||Ee[19].p._mdf||Ee[20].p._mdf||Ee[21].p._mdf)&&(e=this.getTableValue(Ee[17].p.v,Ee[18].p.v,Ee[19].p.v,Ee[20].p.v,Ee[21].p.v),this.feFuncG.setAttribute("tableValues",e)),this.feFuncB&&(Re||Ee[24].p._mdf||Ee[25].p._mdf||Ee[26].p._mdf||Ee[27].p._mdf||Ee[28].p._mdf)&&(e=this.getTableValue(Ee[24].p.v,Ee[25].p.v,Ee[26].p.v,Ee[27].p.v,Ee[28].p.v),this.feFuncB.setAttribute("tableValues",e)),this.feFuncA&&(Re||Ee[31].p._mdf||Ee[32].p._mdf||Ee[33].p._mdf||Ee[34].p._mdf||Ee[35].p._mdf)&&(e=this.getTableValue(Ee[31].p.v,Ee[32].p.v,Ee[33].p.v,Ee[34].p.v,Ee[35].p.v),this.feFuncA.setAttribute("tableValues",e))}};function SVGDropShadowEffect(Re,e,Ee,Ce,Te){var De=e.container.globalData.renderConfig.filterSize,Me=e.data.fs||De;Re.setAttribute("x",Me.x||De.x),Re.setAttribute("y",Me.y||De.y),Re.setAttribute("width",Me.width||De.width),Re.setAttribute("height",Me.height||De.height),this.filterManager=e;var Oe=createNS("feGaussianBlur");Oe.setAttribute("in","SourceAlpha"),Oe.setAttribute("result",Ce+"_drop_shadow_1"),Oe.setAttribute("stdDeviation","0"),this.feGaussianBlur=Oe,Re.appendChild(Oe);var Be=createNS("feOffset");Be.setAttribute("dx","25"),Be.setAttribute("dy","0"),Be.setAttribute("in",Ce+"_drop_shadow_1"),Be.setAttribute("result",Ce+"_drop_shadow_2"),this.feOffset=Be,Re.appendChild(Be);var ze=createNS("feFlood");ze.setAttribute("flood-color","#00ff00"),ze.setAttribute("flood-opacity","1"),ze.setAttribute("result",Ce+"_drop_shadow_3"),this.feFlood=ze,Re.appendChild(ze);var Ve=createNS("feComposite");Ve.setAttribute("in",Ce+"_drop_shadow_3"),Ve.setAttribute("in2",Ce+"_drop_shadow_2"),Ve.setAttribute("operator","in"),Ve.setAttribute("result",Ce+"_drop_shadow_4"),Re.appendChild(Ve);var qe=this.createMergeNode(Ce,[Ce+"_drop_shadow_4",Te]);Re.appendChild(qe)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(Re){if(Re||this.filterManager._mdf){if((Re||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),Re||this.filterManager.effectElements[0].p._mdf){var e=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(e[0]*255),Math.round(e[1]*255),Math.round(e[2]*255)))}if((Re||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),Re||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var Ee=this.filterManager.effectElements[3].p.v,Ce=(this.filterManager.effectElements[2].p.v-90)*degToRads,Te=Ee*Math.cos(Ce),De=Ee*Math.sin(Ce);this.feOffset.setAttribute("dx",Te),this.feOffset.setAttribute("dy",De)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(Re,e,Ee){this.initialized=!1,this.filterManager=e,this.filterElem=Re,this.elem=Ee,Ee.matteElement=createNS("g"),Ee.matteElement.appendChild(Ee.layerElement),Ee.matteElement.appendChild(Ee.transformedElement),Ee.baseElement=Ee.matteElement}SVGMatte3Effect.prototype.findSymbol=function(Re){for(var e=0,Ee=_svgMatteSymbols.length;e<Ee;){if(_svgMatteSymbols[e]===Re)return _svgMatteSymbols[e];e+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(Re,e){var Ee=Re.layerElement.parentNode;if(Ee){for(var Ce=Ee.children,Te=0,De=Ce.length;Te<De&&Ce[Te]!==Re.layerElement;)Te+=1;var Me;Te<=De-2&&(Me=Ce[Te+1]);var Oe=createNS("use");Oe.setAttribute("href","#"+e),Me?Ee.insertBefore(Oe,Me):Ee.appendChild(Oe)}},SVGMatte3Effect.prototype.setElementAsMask=function(Re,e){if(!this.findSymbol(e)){var Ee=createElementID(),Ce=createNS("mask");Ce.setAttribute("id",e.layerId),Ce.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(e);var Te=Re.globalData.defs;Te.appendChild(Ce);var De=createNS("symbol");De.setAttribute("id",Ee),this.replaceInParent(e,Ee),De.appendChild(e.layerElement),Te.appendChild(De);var Me=createNS("use");Me.setAttribute("href","#"+Ee),Ce.appendChild(Me),e.data.hd=!1,e.show()}Re.setMatte(e.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var Re=this.filterManager.effectElements[0].p.v,e=this.elem.comp.elements,Ee=0,Ce=e.length;Ee<Ce;)e[Ee]&&e[Ee].data.ind===Re&&this.setElementAsMask(this.elem,e[Ee]),Ee+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(Re,e,Ee,Ce){Re.setAttribute("x","-100%"),Re.setAttribute("y","-100%"),Re.setAttribute("width","300%"),Re.setAttribute("height","300%"),this.filterManager=e;var Te=createNS("feGaussianBlur");Te.setAttribute("result",Ce),Re.appendChild(Te),this.feGaussianBlur=Te}SVGGaussianBlurEffect.prototype.renderFrame=function(Re){if(Re||this.filterManager._mdf){var e=.3,Ee=this.filterManager.effectElements[0].p.v*e,Ce=this.filterManager.effectElements[1].p.v,Te=Ce==3?0:Ee,De=Ce==2?0:Ee;this.feGaussianBlur.setAttribute("stdDeviation",Te+" "+De);var Me=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",Me)}};function TransformEffect(){}TransformEffect.prototype.init=function(Re){this.effectsManager=Re,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(Re){if(this._opMdf=!1,this._mdf=!1,Re||this.effectsManager._mdf){var e=this.effectsManager.effectElements,Ee=e[0].p.v,Ce=e[1].p.v,Te=e[2].p.v===1,De=e[3].p.v,Me=Te?De:e[4].p.v,Oe=e[5].p.v,Be=e[6].p.v,ze=e[7].p.v;this.matrix.reset(),this.matrix.translate(-Ee[0],-Ee[1],Ee[2]),this.matrix.scale(Me*.01,De*.01,1),this.matrix.rotate(-ze*degToRads),this.matrix.skewFromAxis(-Oe*degToRads,(Be+90)*degToRads),this.matrix.translate(Ce[0],Ce[1],0),this._mdf=!0,this.opacity!==e[8].p.v&&(this.opacity=e[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(Re,e){this.init(e)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(Re){this.init(Re)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})}(lottie$2,lottie$2.exports)),lottie$2.exports}var lottieExports=requireLottie();const lottie=getDefaultExportFromCjs(lottieExports);function _arrayLikeToArray(Re,e){(e==null||e>Re.length)&&(e=Re.length);for(var Ee=0,Ce=Array(e);Ee<e;Ee++)Ce[Ee]=Re[Ee];return Ce}function _arrayWithHoles(Re){if(Array.isArray(Re))return Re}function _defineProperty(Re,e,Ee){return(e=_toPropertyKey(e))in Re?Object.defineProperty(Re,e,{value:Ee,enumerable:!0,configurable:!0,writable:!0}):Re[e]=Ee,Re}function _iterableToArrayLimit(Re,e){var Ee=Re==null?null:typeof Symbol<"u"&&Re[Symbol.iterator]||Re["@@iterator"];if(Ee!=null){var Ce,Te,De,Me,Oe=[],Be=!0,ze=!1;try{if(De=(Ee=Ee.call(Re)).next,e!==0)for(;!(Be=(Ce=De.call(Ee)).done)&&(Oe.push(Ce.value),Oe.length!==e);Be=!0);}catch(Ve){ze=!0,Te=Ve}finally{try{if(!Be&&Ee.return!=null&&(Me=Ee.return(),Object(Me)!==Me))return}finally{if(ze)throw Te}}return Oe}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ownKeys(Re,e){var Ee=Object.keys(Re);if(Object.getOwnPropertySymbols){var Ce=Object.getOwnPropertySymbols(Re);e&&(Ce=Ce.filter(function(Te){return Object.getOwnPropertyDescriptor(Re,Te).enumerable})),Ee.push.apply(Ee,Ce)}return Ee}function _objectSpread2(Re){for(var e=1;e<arguments.length;e++){var Ee=arguments[e]!=null?arguments[e]:{};e%2?ownKeys(Object(Ee),!0).forEach(function(Ce){_defineProperty(Re,Ce,Ee[Ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(Ee)):ownKeys(Object(Ee)).forEach(function(Ce){Object.defineProperty(Re,Ce,Object.getOwnPropertyDescriptor(Ee,Ce))})}return Re}function _objectWithoutProperties(Re,e){if(Re==null)return{};var Ee,Ce,Te=_objectWithoutPropertiesLoose(Re,e);if(Object.getOwnPropertySymbols){var De=Object.getOwnPropertySymbols(Re);for(Ce=0;Ce<De.length;Ce++)Ee=De[Ce],e.includes(Ee)||{}.propertyIsEnumerable.call(Re,Ee)&&(Te[Ee]=Re[Ee])}return Te}function _objectWithoutPropertiesLoose(Re,e){if(Re==null)return{};var Ee={};for(var Ce in Re)if({}.hasOwnProperty.call(Re,Ce)){if(e.includes(Ce))continue;Ee[Ce]=Re[Ce]}return Ee}function _slicedToArray(Re,e){return _arrayWithHoles(Re)||_iterableToArrayLimit(Re,e)||_unsupportedIterableToArray(Re,e)||_nonIterableRest()}function _toPrimitive(Re,e){if(typeof Re!="object"||!Re)return Re;var Ee=Re[Symbol.toPrimitive];if(Ee!==void 0){var Ce=Ee.call(Re,e);if(typeof Ce!="object")return Ce;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(Re)}function _toPropertyKey(Re){var e=_toPrimitive(Re,"string");return typeof e=="symbol"?e:e+""}function _unsupportedIterableToArray(Re,e){if(Re){if(typeof Re=="string")return _arrayLikeToArray(Re,e);var Ee={}.toString.call(Re).slice(8,-1);return Ee==="Object"&&Re.constructor&&(Ee=Re.constructor.name),Ee==="Map"||Ee==="Set"?Array.from(Re):Ee==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ee)?_arrayLikeToArray(Re,e):void 0}}var _excluded$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function Re(e,Ee){var Ce=e.animationData,Te=e.loop,De=e.autoplay,Me=e.initialSegment,Oe=e.onComplete,Be=e.onLoopComplete,ze=e.onEnterFrame,Ve=e.onSegmentStart,qe=e.onConfigReady,We=e.onDataReady,Ge=e.onDataFailed,Je=e.onLoadedImages,Qe=e.onDOMLoaded,ns=e.onDestroy;e.lottieRef,e.renderer,e.name,e.assetsPath,e.rendererSettings;var Ye=_objectWithoutProperties(e,_excluded$1),rs=reactExports.useState(!1),ts=_slicedToArray(rs,2),Xe=ts[0],is=ts[1],os=reactExports.useRef(),hs=reactExports.useRef(null),fs=function(){var ms;(ms=os.current)===null||ms===void 0||ms.play()},xs=function(){var ms;(ms=os.current)===null||ms===void 0||ms.stop()},Ss=function(){var ms;(ms=os.current)===null||ms===void 0||ms.pause()},ds=function(ms){var ys;(ys=os.current)===null||ys===void 0||ys.setSpeed(ms)},gs=function(ms,ys){var ks;(ks=os.current)===null||ks===void 0||ks.goToAndPlay(ms,ys)},Ts=function(ms,ys){var ks;(ks=os.current)===null||ks===void 0||ks.goToAndStop(ms,ys)},Ds=function(ms){var ys;(ys=os.current)===null||ys===void 0||ys.setDirection(ms)},Ms=function(ms,ys){var ks;(ks=os.current)===null||ks===void 0||ks.playSegments(ms,ys)},bs=function(ms){var ys;(ys=os.current)===null||ys===void 0||ys.setSubframe(ms)},Ns=function(ms){var ys;return(ys=os.current)===null||ys===void 0?void 0:ys.getDuration(ms)},ps=function(){var ms;(ms=os.current)===null||ms===void 0||ms.destroy(),os.current=void 0},_s=function(){var ms=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ys;if(hs.current){(ys=os.current)===null||ys===void 0||ys.destroy();var ks=_objectSpread2(_objectSpread2(_objectSpread2({},e),ms),{},{container:hs.current});return os.current=lottie.loadAnimation(ks),is(!!os.current),function(){var zs;(zs=os.current)===null||zs===void 0||zs.destroy(),os.current=void 0}}};reactExports.useEffect(function(){var js=_s();return function(){return js==null?void 0:js()}},[Ce,Te]),reactExports.useEffect(function(){os.current&&(os.current.autoplay=!!De)},[De]),reactExports.useEffect(function(){if(os.current){if(!Me){os.current.resetSegments(!0);return}!Array.isArray(Me)||!Me.length||((os.current.currentRawFrame<Me[0]||os.current.currentRawFrame>Me[1])&&(os.current.currentRawFrame=Me[0]),os.current.setSegment(Me[0],Me[1]))}},[Me]),reactExports.useEffect(function(){var js=[{name:"complete",handler:Oe},{name:"loopComplete",handler:Be},{name:"enterFrame",handler:ze},{name:"segmentStart",handler:Ve},{name:"config_ready",handler:qe},{name:"data_ready",handler:We},{name:"data_failed",handler:Ge},{name:"loaded_images",handler:Je},{name:"DOMLoaded",handler:Qe},{name:"destroy",handler:ns}],ms=js.filter(function(ks){return ks.handler!=null});if(ms.length){var ys=ms.map(function(ks){var zs;return(zs=os.current)===null||zs===void 0||zs.addEventListener(ks.name,ks.handler),function(){var Cs;(Cs=os.current)===null||Cs===void 0||Cs.removeEventListener(ks.name,ks.handler)}});return function(){ys.forEach(function(ks){return ks()})}}},[Oe,Be,ze,Ve,qe,We,Ge,Je,Qe,ns]);var ws=React.createElement("div",_objectSpread2({style:Ee,ref:hs},Ye));return{View:ws,play:fs,stop:xs,pause:Ss,setSpeed:ds,goToAndStop:Ts,goToAndPlay:gs,setDirection:Ds,playSegments:Ms,setSubframe:bs,getDuration:Ns,destroy:ps,animationContainerRef:hs,animationLoaded:Xe,animationItem:os.current}};function getContainerVisibility(Re){var e=Re.getBoundingClientRect(),Ee=e.top,Ce=e.height,Te=window.innerHeight-Ee,De=window.innerHeight+Ce;return Te/De}function getContainerCursorPosition(Re,e,Ee){var Ce=Re.getBoundingClientRect(),Te=Ce.top,De=Ce.left,Me=Ce.width,Oe=Ce.height,Be=(e-De)/Me,ze=(Ee-Te)/Oe;return{x:Be,y:ze}}var useInitInteractivity=function Re(e){var Ee=e.wrapperRef,Ce=e.animationItem,Te=e.mode,De=e.actions;reactExports.useEffect(function(){var Me=Ee.current;if(!(!Me||!Ce||!De.length)){Ce.stop();var Oe=function(){var Ve=null,qe=function(){var Ge=getContainerVisibility(Me),Je=De.find(function(ns){var Ye=ns.visibility;return Ye&&Ge>=Ye[0]&&Ge<=Ye[1]});if(Je){if(Je.type==="seek"&&Je.visibility&&Je.frames.length===2){var Qe=Je.frames[0]+Math.ceil((Ge-Je.visibility[0])/(Je.visibility[1]-Je.visibility[0])*Je.frames[1]);//! goToAndStop must be relative to the start of the current segment
Ce.goToAndStop(Qe-Ce.firstFrame-1,!0)}Je.type==="loop"&&(Ve===null||Ve!==Je.frames||Ce.isPaused)&&(Ce.playSegments(Je.frames,!0),Ve=Je.frames),Je.type==="play"&&Ce.isPaused&&(Ce.resetSegments(!0),Ce.play()),Je.type==="stop"&&Ce.goToAndStop(Je.frames[0]-Ce.firstFrame-1,!0)}};return document.addEventListener("scroll",qe),function(){document.removeEventListener("scroll",qe)}},Be=function(){var Ve=function(Je,Qe){var ns=Je,Ye=Qe;if(ns!==-1&&Ye!==-1){var rs=getContainerCursorPosition(Me,ns,Ye);ns=rs.x,Ye=rs.y}var ts=De.find(function(os){var hs=os.position;return hs&&Array.isArray(hs.x)&&Array.isArray(hs.y)?ns>=hs.x[0]&&ns<=hs.x[1]&&Ye>=hs.y[0]&&Ye<=hs.y[1]:hs&&!Number.isNaN(hs.x)&&!Number.isNaN(hs.y)?ns===hs.x&&Ye===hs.y:!1});if(ts){if(ts.type==="seek"&&ts.position&&Array.isArray(ts.position.x)&&Array.isArray(ts.position.y)&&ts.frames.length===2){var Xe=(ns-ts.position.x[0])/(ts.position.x[1]-ts.position.x[0]),is=(Ye-ts.position.y[0])/(ts.position.y[1]-ts.position.y[0]);Ce.playSegments(ts.frames,!0),Ce.goToAndStop(Math.ceil((Xe+is)/2*(ts.frames[1]-ts.frames[0])),!0)}ts.type==="loop"&&Ce.playSegments(ts.frames,!0),ts.type==="play"&&(Ce.isPaused&&Ce.resetSegments(!1),Ce.playSegments(ts.frames)),ts.type==="stop"&&Ce.goToAndStop(ts.frames[0],!0)}},qe=function(Je){Ve(Je.clientX,Je.clientY)},We=function(){Ve(-1,-1)};return Me.addEventListener("mousemove",qe),Me.addEventListener("mouseout",We),function(){Me.removeEventListener("mousemove",qe),Me.removeEventListener("mouseout",We)}};switch(Te){case"scroll":return Oe();case"cursor":return Be()}}},[Te,Ce])},useLottieInteractivity=function Re(e){var Ee=e.actions,Ce=e.mode,Te=e.lottieObj,De=Te.animationItem,Me=Te.View,Oe=Te.animationContainerRef;return useInitInteractivity({actions:Ee,animationItem:De,mode:Ce,wrapperRef:Oe}),Me},_excluded=["style","interactivity"],Lottie=function Re(e){var Ee,Ce,Te,De=e.style,Me=e.interactivity,Oe=_objectWithoutProperties(e,_excluded),Be=useLottie(Oe,De),ze=Be.View,Ve=Be.play,qe=Be.stop,We=Be.pause,Ge=Be.setSpeed,Je=Be.goToAndStop,Qe=Be.goToAndPlay,ns=Be.setDirection,Ye=Be.playSegments,rs=Be.setSubframe,ts=Be.getDuration,Xe=Be.destroy,is=Be.animationContainerRef,os=Be.animationLoaded,hs=Be.animationItem;return reactExports.useEffect(function(){e.lottieRef&&(e.lottieRef.current={play:Ve,stop:qe,pause:We,setSpeed:Ge,goToAndPlay:Qe,goToAndStop:Je,setDirection:ns,playSegments:Ye,setSubframe:rs,getDuration:ts,destroy:Xe,animationContainerRef:is,animationLoaded:os,animationItem:hs})},[(Ee=e.lottieRef)===null||Ee===void 0?void 0:Ee.current]),useLottieInteractivity({lottieObj:{View:ze,play:Ve,stop:qe,pause:We,setSpeed:Ge,goToAndStop:Je,goToAndPlay:Qe,setDirection:ns,playSegments:Ye,setSubframe:rs,getDuration:ts,destroy:Xe,animationContainerRef:is,animationLoaded:os,animationItem:hs},actions:(Ce=Me==null?void 0:Me.actions)!==null&&Ce!==void 0?Ce:[],mode:(Te=Me==null?void 0:Me.mode)!==null&&Te!==void 0?Te:"scroll"})};const ProtectedRoute=({allowedRoles:Re})=>{const[e,Ee]=reactExports.useState(void 0),[Ce,Te]=reactExports.useState(!0),[De,Me]=reactExports.useState(null),Oe=reactExports.useRef(!1);return reactExports.useEffect(()=>{if(console.log("ðŸ” ProtectedRoute: useEffect triggered"),Oe.current){console.log("âš ï¸ Already fetched, skipping");return}Oe.current=!0,fetch("/Verification.json").then(ze=>ze.json()).then(ze=>Me(ze)).catch(ze=>console.error("Failed to load animation:",ze)),(async()=>{var Ve;const ze=Date.now();try{console.log("ðŸ“¡ Calling /auth/me...");const qe=await api.get("/api/auth/me");console.log("âœ… Auth response:",qe.data),Ee(qe.data.user)}catch(qe){console.error("âŒ Auth check failed:",(Ve=qe.response)==null?void 0:Ve.status,qe.message),Ee(null)}finally{const Ge=2e3-(Date.now()-ze);Ge>0?setTimeout(()=>Te(!1),Ge):Te(!1)}})()},[]),console.log("ðŸŽ¯ ProtectedRoute render - user:",e,"isLoading:",Ce),Ce?jsxRuntimeExports.jsx("div",{className:"flex items-center justify-center h-screen",children:jsxRuntimeExports.jsxs("div",{className:"text-gray-600",children:[jsxRuntimeExports.jsx(Lottie,{animationData:De,loop:!0,autoplay:!0,className:"w-[200px] h-[200px] sm:w-[200px] sm:h-[200px] md:w-[200px] md:h-[200px] lg:w-[200px] lg:h-[200px] xl:w-[200px] xl:h-[200px] -mt-8 sm:-mt-12 md:-mt-16 drop-shadow-2xl"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 ",children:"Checking authentication..."})]})}):e?Re&&!Re.includes(e.role)?(console.log("ðŸš« Wrong role, redirecting home"),jsxRuntimeExports.jsx(Navigate,{to:"/",replace:!0})):(console.log("âœ… User authorized, rendering Outlet"),jsxRuntimeExports.jsx(Outlet,{})):(console.log("ðŸš« No user, redirecting to login"),jsxRuntimeExports.jsx(Navigate,{to:"/login",replace:!0}))};function DistrictAdminDashboard({userDetails:Re}){var Cs,Ps,Us,Is,Vs;const[e,Ee]=reactExports.useState([]),[Ce,Te]=reactExports.useState(!Re),[De,Me]=reactExports.useState(!1),[Oe,Be]=reactExports.useState(null),[ze,Ve]=reactExports.useState(null),[qe,We]=reactExports.useState(null),[Ge,Je]=reactExports.useState(!1),[Qe,ns]=reactExports.useState(!1),[Ye,rs]=reactExports.useState("approve"),[ts,Xe]=reactExports.useState(""),[is,os]=reactExports.useState(null),[hs,fs]=reactExports.useState(Re||null),[xs,Ss]=reactExports.useState(""),[ds,gs]=reactExports.useState(!1),[Ts,Ds]=reactExports.useState(!1),[Ms,bs]=reactExports.useState({isOpen:!1,type:"info",title:"",message:""}),Ns=()=>hs?["district_admin","department_admin"].includes(hs.role)?!0:(ws("error","Access denied. Admin privileges required."),!1):(ws("error","User not authenticated. Please login."),setTimeout(()=>{window.location.href="/district-login"},2e3),!1),ps=(Ks,or=25)=>Ks?Ks.length<=or?Ks:Ks.substring(0,or)+"...":"N/A",_s=async()=>{try{await api.post("/api/auth/logout")}catch(Ks){console.error("Logout API failed:",Ks)}window.location.href="/district-login"},ws=(Ks,or,rr="System Notification")=>{bs({isOpen:!0,type:Ks,title:rr,message:or})};reactExports.useEffect(()=>{const Ks=or=>{!or.target.closest("#userDropdown")&&!or.target.closest("#avatarButton")&&gs(!1)};return document.addEventListener("mousedown",Ks),()=>{document.removeEventListener("mousedown",Ks)}},[]),reactExports.useEffect(()=>{if(Re){fs(Re),Te(!1);return}(async()=>{var or;try{Te(!0);const rr=await api.get("/api/auth/profile");if(!rr.data.success)throw new Error("Failed to fetch user profile");const ur=rr.data.user;fs(ur),Be(null)}catch(rr){((or=rr.response)==null?void 0:or.status)===401?(Be("Session expired. Please login again."),window.location.href="/district-login"):Be("Failed to load profile."),console.error("Failed to fetch user profile:",rr)}finally{Te(!1)}})()},[Re]),reactExports.useEffect(()=>{(async()=>{var or,rr;if(!(!hs||Oe))try{Me(!0);let ur="";if(hs.role==="department_admin")ur="/api/department/applications";else if(hs.role==="district_admin")ur="/api/district/applications";else{Ve("Invalid user role for this dashboard.");return}let Er=(await api.get(ur)).data.data||[];hs.role==="department_admin"&&(Er=Er.map(zr=>{var tr,Lr,Js,lr,hr,Ar,Pr,vr,Mr;const Or=zr.application||{};return{...Or,producerHouse:((Lr=(tr=Or.filmmaker)==null?void 0:tr.producerRegistration)==null?void 0:Lr.productionCompanyName)||"N/A",title:((Js=Or.annexureOne)==null?void 0:Js.titleOfProject)||((lr=Or.nocForm)==null?void 0:lr.title)||"Untitled Project",location:((Pr=(Ar=(hr=Or.nocForm)==null?void 0:hr.annexureA)==null?void 0:Ar[0])==null?void 0:Pr.location)||"N/A",id:Or.id,forwardedAt:zr.forwardedAt||Or.createdAt,status:((vr=zr.permissionStatus)==null?void 0:vr.toLowerCase())||((Mr=Or.status)==null?void 0:Mr.toLowerCase())}})),Ee(Er),Ve(null)}catch(ur){((or=ur.response)==null?void 0:or.status)===401?(Ve("Session expired. Please login again."),window.location.href="/district-login"):((rr=ur.response)==null?void 0:rr.status)===403?Ve("Access denied. You don't have permission to view forms."):Ve("Failed to load applications. Please try refreshing the page."),console.error("Failed to fetch forms:",ur)}finally{Me(!1)}})()},[hs,Oe]);const js=async Ks=>{var or,rr;if(Ks.preventDefault(),Ye==="reject"&&!ts.trim()){ws("error","Remarks are mandatory for rejection.","Action Required");return}if(Ns())try{Ds(!0);const ur=new FormData;ur.append("decision",Ye==="approve"?"ACCEPTED":"REJECTED"),ur.append("remarks",ts.trim()),is&&ur.append("forwardedLetterFile",is);const Ws=await api.post(`/api/department/applications/${qe.id}/decision`,ur,{headers:{"Content-Type":"multipart/form-data"}});Ws.data.success?(ws("success",`Application has been successfully ${Ye==="approve"?"approved":"rejected"}.`,"Success"),ys(),zs(),setTimeout(()=>window.location.reload(),2e3)):ws("error",Ws.data.message||"Failed to process decision.","Error")}catch(ur){console.error("âŒ Decision Submission Error:",ur),ws("error",((rr=(or=ur.response)==null?void 0:or.data)==null?void 0:rr.message)||"Network error while processing decision.","System Error")}finally{Ds(!1)}},ms=(Ks,or)=>{rs(Ks),We(or),Xe(""),os(null),ns(!0)},ys=()=>{ns(!1),Xe(""),os(null)},ks=Ks=>{We(Ks),Je(!0)},zs=()=>{Je(!1),We(null)};return Ce?jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx(RefreshCw,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-[#802d44]"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 font-medium",children:"Loading your dashboard..."})]})}):Oe&&!hs?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md",children:[jsxRuntimeExports.jsx(CircleX,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),jsxRuntimeExports.jsx("p",{className:"text-red-600 text-center font-medium",children:Oe})]})}):jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50",children:[jsxRuntimeExports.jsx("header",{className:"bg-white border-b border-gray-200 sticky top-0 z-30",children:jsxRuntimeExports.jsx("div",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-center h-16 sm:h-20",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"hidden sm:flex w-10 h-10 bg-gray-50 rounded-lg items-center justify-center border border-gray-200 flex-shrink-0",children:jsxRuntimeExports.jsx("img",{src:"/Logo1.png",alt:"BSFDFC",className:"h-7 w-auto object-contain"})}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("h1",{className:"text-base sm:text-lg font-bold text-gray-900 tracking-tight truncate leading-tight",children:"BSFDFC Dashboard"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] sm:text-xs text-gray-500 font-bold uppercase tracking-widest",children:(Cs=hs.role)==null?void 0:Cs.replace("_"," ")})]})]}),hs&&jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 sm:gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"hidden md:flex flex-col text-right border-r border-gray-100 pr-4",children:[jsxRuntimeExports.jsx("span",{className:"text-xs font-bold text-gray-900 mb-0.5",children:hs.name}),jsxRuntimeExports.jsx("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:(Ps=hs.role)==null?void 0:Ps.replace("_"," ")})]}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsxs("button",{id:"avatarButton",onClick:()=>gs(!ds),className:"flex items-center gap-2 p-1 rounded-lg hover:bg-gray-50 border border-transparent hover:border-gray-200 transition-all duration-200",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-[#802d44] rounded-lg flex items-center justify-center text-white font-bold text-sm sm:text-base",children:((Is=(Us=hs.name)==null?void 0:Us[0])==null?void 0:Is.toUpperCase())||"D"}),jsxRuntimeExports.jsx(ChevronDown,{size:14,className:`text-gray-400 transition-transform duration-200 ${ds?"rotate-180":""}`})]}),ds&&jsxRuntimeExports.jsxs("div",{id:"userDropdown",className:"absolute right-0 top-full mt-2 w-64 bg-white rounded-lg border border-gray-200 z-50 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"px-5 py-4 bg-gray-50 border-b border-gray-200",children:[jsxRuntimeExports.jsx("p",{className:"text-xs font-bold text-gray-400 uppercase tracking-widest mb-1",children:"Authenticated Account"}),jsxRuntimeExports.jsx("p",{className:"text-sm font-bold text-gray-900",children:hs.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 truncate",children:hs.email})]}),jsxRuntimeExports.jsxs("div",{className:"p-1",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3 px-4 py-3 text-xs text-gray-500 font-bold uppercase tracking-widest",children:[jsxRuntimeExports.jsx(MapPin,{size:12,className:"text-[#802d44]"})," ",hs.departmentName||"N/A"]}),jsxRuntimeExports.jsx("div",{className:"border-t border-gray-100 mt-1",children:jsxRuntimeExports.jsxs("button",{onClick:_s,className:"w-full flex items-center gap-3 px-4 py-3 text-xs font-bold text-red-600 uppercase tracking-widest hover:bg-red-50 transition-colors",children:[jsxRuntimeExports.jsx(LogOut,{size:14})," Sign Out System"]})})]})]})]})]})]})})}),jsxRuntimeExports.jsxs("main",{className:"max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 py-6 sm:py-8",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8 flex flex-col md:flex-row md:items-end justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 tracking-tight",children:"Applications Overview"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-500 text-sm mt-1 font-medium",children:["Welcome back. System shows"," ",((Vs=e==null?void 0:e.filter(Ks=>Ks.status==="forwarded"))==null?void 0:Vs.length)||0," ","files awaiting action."]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 bg-white px-4 py-2 rounded-lg border border-gray-200 text-[11px] sm:text-xs font-bold text-gray-500 uppercase tracking-widest",children:[jsxRuntimeExports.jsx(Calendar,{size:14,className:"text-[#802d44]"}),new Date().toLocaleDateString("en-IN",{weekday:"short",day:"2-digit",month:"short"})]})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 mb-8",children:[{label:"Total",count:e.length,icon:FileText,color:"blue",bg:"bg-blue-50",text:"text-blue-600"},{label:"Pending",count:e.filter(Ks=>Ks.status==="forwarded").length,icon:Clock,color:"orange",bg:"bg-orange-50",text:"text-orange-600"},{label:"Approved",count:e.filter(Ks=>Ks.status==="approved").length,icon:CircleCheckBig,color:"green",bg:"bg-green-50",text:"text-green-600"},{label:"Rejected",count:e.filter(Ks=>Ks.status==="rejected").length,icon:CircleX,color:"red",bg:"bg-red-50",text:"text-red-600"}].map((Ks,or)=>jsxRuntimeExports.jsxs("div",{className:"bg-white p-4 sm:p-5 rounded-xl border border-gray-200 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3 sm:mb-4",children:[jsxRuntimeExports.jsx("div",{className:`${Ks.bg} ${Ks.text} p-2 rounded-lg`,children:jsxRuntimeExports.jsx(Ks.icon,{size:18,className:"sm:w-5 sm:h-5"})}),jsxRuntimeExports.jsx("div",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Live Status"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-0.5",children:Ks.count}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-wider",children:Ks.label})]})]},or))}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-2 sm:p-3 mb-8",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col xl:flex-row justify-between gap-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 relative group max-w-2xl px-2 pt-2 xl:pt-0",children:[jsxRuntimeExports.jsx(Search,{className:"absolute left-6 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-[#802d44] transition-colors",size:16}),jsxRuntimeExports.jsx("input",{type:"text",placeholder:"Search projects, filmmakers, or locations...",value:xs,onChange:Ks=>Ss(Ks.target.value),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 border border-gray-200 rounded-lg text-sm font-medium focus:bg-white focus:border-[#802d44]/50 transition-all outline-none placeholder:text-gray-400"})]}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap items-center gap-2 sm:gap-3 px-2 pb-2 xl:pb-0",children:[jsxRuntimeExports.jsx("div",{className:"relative group",children:jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 bg-white border border-gray-200 rounded-lg text-xs font-bold text-gray-600 hover:bg-gray-50 transition-all",children:[jsxRuntimeExports.jsx(Funnel,{size:14,className:"text-[#802d44]"}),jsxRuntimeExports.jsx("span",{children:"Status Filter"}),jsxRuntimeExports.jsx(ChevronDown,{size:12,className:"text-gray-400"})]})}),jsxRuntimeExports.jsx("div",{className:"relative group",children:jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-2 px-4 py-2.5 bg-white border border-gray-200 rounded-lg text-xs font-bold text-gray-600 hover:bg-gray-50 transition-all",children:[jsxRuntimeExports.jsx(Calendar,{size:14,className:"text-[#802d44]"}),jsxRuntimeExports.jsx("span",{children:"Time Period"}),jsxRuntimeExports.jsx(ChevronDown,{size:12,className:"text-gray-400"})]})}),jsxRuntimeExports.jsx("div",{className:"h-6 w-[1px] bg-gray-100 mx-1 hidden sm:block"}),jsxRuntimeExports.jsx("button",{onClick:()=>Ss(""),className:"px-4 py-2.5 text-xs font-bold text-gray-400 hover:text-gray-600 uppercase tracking-widest transition-colors",children:"Reset"}),jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-2 px-5 py-2.5 bg-[#802d44] text-white rounded-lg text-xs font-bold hover:bg-[#6b2438] transition-all ml-auto xl:ml-0 uppercase tracking-widest",children:[jsxRuntimeExports.jsx(Download,{size:14}),jsxRuntimeExports.jsx("span",{className:"hidden sm:inline",children:"Export CSV"}),jsxRuntimeExports.jsx("span",{className:"sm:hidden",children:"Export"})]})]})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:De?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-24 sm:py-32",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 border-2 border-gray-100 border-t-[#802d44] rounded-full animate-spin"}),jsxRuntimeExports.jsx("p",{className:"mt-6 text-gray-400 font-bold uppercase tracking-widest text-[10px]",children:"Loading System Records..."})]}):ze?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-20 px-6 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-red-50 rounded-lg flex items-center justify-center mb-6",children:jsxRuntimeExports.jsx(CircleAlert,{className:"text-red-500",size:32})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Database Connection Error"}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-400 mb-8 font-medium",children:ze}),jsxRuntimeExports.jsxs("button",{onClick:retryFetchForms,className:"flex items-center gap-2 px-8 py-2.5 bg-[#802d44] text-white rounded-lg font-bold text-xs uppercase tracking-widest hover:bg-[#6b2438] transition-all",children:[jsxRuntimeExports.jsx(RefreshCw,{size:14})," Reconnect"]})]}):e.length===0?jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center justify-center py-24 px-6 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mb-6 text-gray-200",children:jsxRuntimeExports.jsx(FileText,{size:40})}),jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"No Applications Found"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-400 font-bold uppercase tracking-widest",children:"Current queue is empty"})]}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{className:"hidden md:block overflow-x-auto",children:jsxRuntimeExports.jsxs("table",{className:"w-full border-collapse",children:[jsxRuntimeExports.jsx("thead",{children:jsxRuntimeExports.jsxs("tr",{className:"bg-gray-50 border-b border-gray-200",children:[jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Application ID"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Applicant / Producer"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Project Details"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Submitted"}),jsxRuntimeExports.jsx("th",{className:"px-6 py-4 text-left text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:"Pending From"})]})}),jsxRuntimeExports.jsx("tbody",{className:"divide-y divide-gray-100",children:e.map((Ks,or)=>{const rr=Ks.forwardedAt?new Date(Ks.forwardedAt):new Date,ur=Math.floor((new Date-rr)/(1e3*60*60*24));return jsxRuntimeExports.jsxs("tr",{onClick:()=>ks(Ks),className:"hover:bg-gray-50/50 transition-colors cursor-pointer group",children:[jsxRuntimeExports.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:"text-[11px] font-bold text-gray-400",children:Ks.applicationNumber||"NA"})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-5",children:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3",children:jsxRuntimeExports.jsx("div",{className:"flex flex-col",children:jsxRuntimeExports.jsx("span",{className:"text-xs font-semibold text-gray-900 leading-tight",children:ps(Ks.producerHouse,25)})})})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-5",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col max-w-xs",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-semibold text-gray-700 leading-tight truncate",title:Ks.title,children:Ks.title}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-1.5 mt-1 text-gray-400",children:[jsxRuntimeExports.jsx(MapPin,{size:10}),jsxRuntimeExports.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest truncate",children:ps(Ks.location,20)})]})]})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:jsxRuntimeExports.jsx("span",{className:"text-xs font-bold text-gray-600",children:rr.toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"})})}),jsxRuntimeExports.jsx("td",{className:"px-6 py-5 whitespace-nowrap",children:jsxRuntimeExports.jsxs("div",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-lg text-[10px] font-bold uppercase tracking-widest border ${ur>30?"bg-red-50 text-red-600 border-red-100":ur>15?"bg-orange-50 text-orange-600 border-orange-100":"bg-green-50 text-green-600 border-green-100"}`,children:[jsxRuntimeExports.jsx(Clock,{size:10}),ur," Days"]})})]},Ks.id||or)})})]})}),jsxRuntimeExports.jsx("div",{className:"md:hidden divide-y divide-gray-100",children:e.map((Ks,or)=>{var Ws;const rr=Ks.forwardedAt?new Date(Ks.forwardedAt):new Date,ur=Math.floor((new Date-rr)/(1e3*60*60*24));return jsxRuntimeExports.jsxs("div",{onClick:()=>ks(Ks),className:"p-4 active:bg-gray-50 transition-colors",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start mb-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-9 h-9 rounded-lg bg-gray-50 border border-gray-200 flex items-center justify-center text-gray-400 font-bold text-xs",children:((Ws=Ks.producerHouse)==null?void 0:Ws[0])||"A"}),jsxRuntimeExports.jsxs("div",{className:"flex flex-col",children:[jsxRuntimeExports.jsx("span",{className:"text-sm font-bold text-gray-900",children:ps(Ks.producerHouse,20)}),jsxRuntimeExports.jsxs("span",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest",children:["#FL-",String(or+1).padStart(4,"0")]})]})]}),jsxRuntimeExports.jsxs("div",{className:`px-2 py-1 rounded-lg text-[9px] font-bold tracking-widest uppercase border ${ur>15?"bg-red-50 text-red-600 border-red-100":"bg-green-50 text-green-600 border-green-100"}`,children:["Pending From ",ur,"d"]})]}),jsxRuntimeExports.jsx("div",{className:"mb-4",children:jsxRuntimeExports.jsx("p",{className:"text-xs font-semibold text-gray-700 line-clamp-1",children:Ks.title})}),jsxRuntimeExports.jsx("div",{className:"flex items-center",onClick:Er=>Er.stopPropagation(),children:Ks.status==="forwarded"?jsxRuntimeExports.jsxs("div",{className:"flex gap-2 w-full",children:[jsxRuntimeExports.jsx("button",{onClick:Er=>{Er.stopPropagation(),ms("approve",Ks)},className:"flex-1 border border-green-200 text-green-600 py-2.5 rounded-lg font-bold text-[10px] uppercase tracking-widest active:bg-green-600 active:text-white transition-all",children:"Approve"}),jsxRuntimeExports.jsx("button",{onClick:Er=>{Er.stopPropagation(),ms("reject",Ks)},className:"flex-1 border border-red-200 text-red-600 py-2.5 rounded-lg font-bold text-[10px] uppercase tracking-widest active:bg-red-600 active:text-white transition-all",children:"Reject"})]}):jsxRuntimeExports.jsx("div",{className:`w-full text-center py-2 rounded-lg font-bold text-[10px] uppercase tracking-widest border ${Ks.status==="approved"?"bg-green-50 text-green-600 border-green-100":"bg-red-50 text-red-600 border-red-100"}`,children:Ks.status})})]},Ks.id||or)})})]})})]}),jsxRuntimeExports.jsx(UniversalFormModal,{isOpen:Ge,onClose:zs,selectedRow:qe,userRole:"district_admin",onApprove:Ks=>{ms("approve",Ks)},onReject:Ks=>{ms("reject",Ks)},showActions:!0}),Qe&&qe&&jsxRuntimeExports.jsx("div",{className:"fixed inset-0 bg-gray-900/60 flex items-center justify-center p-4 z-[60] animate-in fade-in duration-200 transition-all backdrop-blur-sm",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-xl shadow-2xl border border-gray-200 max-w-lg w-full overflow-hidden transform animate-in zoom-in-95 duration-200",children:jsxRuntimeExports.jsxs("form",{onSubmit:js,children:[jsxRuntimeExports.jsxs("div",{className:`px-6 py-5 border-b flex items-center justify-between ${Ye==="approve"?"bg-green-50/50 border-green-100":"bg-red-50/50 border-red-100"}`,children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center border ${Ye==="approve"?"bg-green-100 border-green-200 text-green-600":"bg-red-100 border-red-200 text-red-600"}`,children:Ye==="approve"?jsxRuntimeExports.jsx(CircleCheckBig,{size:20}):jsxRuntimeExports.jsx(CircleAlert,{size:20})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Ye==="approve"?"Approve Application":"Reject Application"}),jsxRuntimeExports.jsx("p",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:qe.applicationNumber||"Notice of Change"})]})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:ys,className:"text-gray-400 hover:text-gray-900 transition-colors p-1",children:jsxRuntimeExports.jsx(CircleX,{size:20})})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-2 gap-4 bg-gray-50 rounded-lg p-4 border border-gray-100",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider block mb-1",children:"Producer House"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-bold text-gray-900 truncate block",children:qe.producerHouse})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("span",{className:"text-[9px] font-bold text-gray-400 uppercase tracking-wider block mb-1",children:"Project Title"}),jsxRuntimeExports.jsx("span",{className:"text-xs font-bold text-gray-700 truncate block",children:qe.title})]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"flex justify-between items-center text-[10px] font-bold text-gray-500 uppercase tracking-widest mb-2",children:[jsxRuntimeExports.jsxs("span",{children:["Remarks"," ",Ye==="reject"?"(Required)":"(Optional)"]}),ts.length>0&&jsxRuntimeExports.jsxs("span",{className:Ye==="reject"&&ts.length<5?"text-red-500":"text-green-600 animate-pulse",children:[ts.length," chars"]})]}),jsxRuntimeExports.jsx("textarea",{value:ts,onChange:Ks=>Xe(Ks.target.value),className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-lg text-sm font-medium focus:ring-2 focus:ring-[#802d44]/10 focus:border-[#802d44] transition-all outline-none placeholder:text-gray-300 resize-none",rows:"4",placeholder:Ye==="approve"?"Enter any approval notes (optional)...":"Explain the reason for rejection (required)...",required:Ye==="reject"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-[10px] font-bold text-gray-500 uppercase tracking-widest mb-2",children:"Forwarded Letter / Official Order (Optional)"}),jsxRuntimeExports.jsxs("div",{className:"relative",children:[jsxRuntimeExports.jsx("input",{type:"file",accept:".pdf,image/*",onChange:Ks=>os(Ks.target.files[0]),className:"hidden",id:"decision-file"}),jsxRuntimeExports.jsxs("label",{htmlFor:"decision-file",className:"flex items-center justify-between px-4 py-3 bg-gray-50 border border-gray-200 border-dashed rounded-lg cursor-pointer hover:border-[#802d44] hover:bg-[#802d44]/5 transition-all group",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"w-8 h-8 rounded-lg bg-white border border-gray-100 flex items-center justify-center text-gray-400 group-hover:text-[#802d44] transition-colors",children:jsxRuntimeExports.jsx(Download,{size:16})}),jsxRuntimeExports.jsx("span",{className:"text-xs font-bold text-gray-500 group-hover:text-gray-700",children:is?is.name:"Upload Scan/PDF (Max 5MB)"})]}),is?jsxRuntimeExports.jsx(CircleCheckBig,{size:16,className:"text-green-500"}):jsxRuntimeExports.jsx(FileText,{size:16,className:"text-gray-300"})]})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"px-6 py-4 bg-gray-50 border-t flex gap-3",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:ys,className:"flex-1 px-4 py-2.5 bg-white border border-gray-200 text-gray-500 rounded-lg hover:bg-gray-100 transition-all font-bold text-xs uppercase tracking-widest",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"submit",disabled:Ts,className:`flex-[2] py-2.5 rounded-lg text-white font-bold text-xs uppercase tracking-widest transition-all shadow-md flex items-center justify-center gap-2 hover:shadow-lg disabled:opacity-50 ${Ye==="approve"?"bg-green-600 hover:bg-green-700":"bg-[#802d44] hover:bg-[#6b2438]"}`,children:Ts?jsxRuntimeExports.jsx(LoaderCircle,{size:16,className:"animate-spin"}):jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[Ye==="approve"?"Finalize Approval":"Finalize Rejection",Ye==="approve"?jsxRuntimeExports.jsx(Download,{size:14}):jsxRuntimeExports.jsx(CircleAlert,{size:14})]})})]})]})})}),jsxRuntimeExports.jsx(AlertBox,{isOpen:Ms.isOpen,onClose:()=>bs({...Ms,isOpen:!1}),type:Ms.type,title:Ms.title,message:Ms.message,onConfirm:()=>bs({...Ms,isOpen:!1})})]})}function MainDash(){const[Re,e]=reactExports.useState(null),[Ee,Ce]=reactExports.useState(!0);return reactExports.useEffect(()=>{(async()=>{var De;try{const Me=await api.get("/api/auth/profile");if(Me.data.success){const Oe=Me.data.user;e({districtId:Oe.districtId,districtName:Oe.districtName,name:Oe.name,email:Oe.email,role:Oe.role,id:Oe.id||Oe._id,avatar:Oe.avatar||"/api/placeholder/40/40"})}else window.location.href="/district-login"}catch(Me){console.error("Error loading user details:",Me),((De=Me.response)==null?void 0:De.status)===401&&(window.location.href="/district-login")}finally{Ce(!1)}})()},[]),Ee?jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto"}),jsxRuntimeExports.jsx("p",{className:"mt-4 text-gray-600",children:"Loading dashboard..."})]})}):Re?jsxRuntimeExports.jsx(DistrictAdminDashboard,{userDetails:Re}):jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("p",{className:"text-red-600",children:"Please log in to continue"}),jsxRuntimeExports.jsx("button",{onClick:()=>window.location.href="/district-login",className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded-lg",children:"Go to Login"})]})})}const VendorRegistrationForm=()=>{const[Re,e]=reactExports.useState({vendorName:"",category:"",phoneNumber:"",email:"",address:"",website:"",products:[]}),[Ee,Ce]=reactExports.useState(null),[Te,De]=reactExports.useState(null),[Me,Oe]=reactExports.useState(!1),[Be,ze]=reactExports.useState(!1),[Ve,qe]=reactExports.useState({name:"",type:"",description:"",price:""}),We=["Photography & Videography","Catering Services","Decorations & Lighting","Music & Entertainment","Transportation","Venues & Locations","Costumes & Makeup","Equipment Rental","Post-Production","Other"],Ge=Xe=>{const{name:is,value:os}=Xe.target;e(hs=>({...hs,[is]:os}))},Je=Xe=>{const is=Xe.target.files[0];if(is){if(is.size>10*1024*1024){alert("File size should be less than 10MB");return}if(!is.type.startsWith("image/")){alert("Please select an image file");return}Ce(is);const os=URL.createObjectURL(is);De(os)}},Qe=Xe=>{const{name:is,value:os}=Xe.target;qe(hs=>({...hs,[is]:os}))},ns=()=>{Ve.name&&Ve.type&&(e(Xe=>({...Xe,products:[...Xe.products,{...Ve}]})),qe({name:"",type:"",description:"",price:""}),ze(!1))},Ye=Xe=>{e(is=>({...is,products:is.products.filter((os,hs)=>hs!==Xe)}))},rs=()=>Re.vendorName.trim()?Re.category?Re.phoneNumber.trim()?Re.email.trim()?Re.address.trim()?Ee?!0:(alert("Please upload a logo"),!1):(alert("Please enter address"),!1):(alert("Please enter email address"),!1):(alert("Please enter phone number"),!1):(alert("Please select a category"),!1):(alert("Please enter vendor name"),!1),ts=async Xe=>{if(Xe.preventDefault(),!!rs()){Oe(!0);try{const is=new FormData;is.append("vendorName",Re.vendorName.trim()),is.append("category",Re.category),is.append("phoneNumber",Re.phoneNumber.trim()),is.append("email",Re.email.trim()),is.append("address",Re.address.trim()),Re.website&&Re.website.trim()&&is.append("website",Re.website.trim()),Re.products&&Re.products.length>0&&Re.products.forEach((xs,Ss)=>{is.append(`products[${Ss}][name]`,xs.name),is.append(`products[${Ss}][type]`,xs.type),xs.description&&is.append(`products[${Ss}][description]`,xs.description),xs.price&&is.append(`products[${Ss}][price]`,xs.price)}),is.append("logo",Ee),console.log("Form data being sent:");for(let[xs,Ss]of is.entries())console.log(xs,Ss);const os=await fetch("https://film.bihar.gov.in/api/vendor/addvendors",{method:"POST",body:is});if(console.log("Response status:",os.status),!os.ok){let xs=`Server error: ${os.status} ${os.statusText}`;try{const Ss=await os.text();console.log("Error response:",Ss);try{xs=JSON.parse(Ss).message||xs}catch{Ss.includes("<!DOCTYPE html>")?xs="Server internal error. Please check your backend logs.":xs=Ss}}catch(Ss){console.error("Could not read error response:",Ss)}throw new Error(xs)}const hs=os.headers.get("content-type");if(!hs||!hs.includes("application/json")){const xs=await os.text();throw console.error("Non-JSON response:",xs),new Error("Server returned invalid response format")}const fs=await os.json();if(console.log("Success response:",fs),fs.success)alert("Vendor registered successfully!"),e({vendorName:"",category:"",phoneNumber:"",email:"",address:"",website:"",products:[]}),Ce(null),De(null);else throw new Error(fs.message||"Registration failed")}catch(is){console.error("Submit error:",is),alert(`Registration failed: ${is.message}`)}finally{Oe(!1)}}};return jsxRuntimeExports.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 py-8 px-4 sm:px-6 lg:px-8",children:jsxRuntimeExports.jsx("div",{className:"max-w-4xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl shadow-xl overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 px-8 py-6",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-3",children:[jsxRuntimeExports.jsx(Building2,{className:"w-8 h-8 text-white"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl font-bold text-white",children:"Vendor Registration"}),jsxRuntimeExports.jsx("p",{className:"text-blue-100 mt-1",children:"Join our platform and showcase your services"})]})]})}),jsxRuntimeExports.jsxs("form",{onSubmit:ts,className:"p-8",children:[jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Company Logo *"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center space-x-6",children:[jsxRuntimeExports.jsx("div",{className:"relative",children:Te?jsxRuntimeExports.jsx("div",{className:"w-24 h-24 rounded-lg border-2 border-gray-200 overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:Te,alt:"Logo preview",className:"w-full h-full object-cover"})}):jsxRuntimeExports.jsx("div",{className:"w-24 h-24 rounded-lg border-2 border-dashed border-gray-300 flex items-center justify-center bg-gray-50",children:jsxRuntimeExports.jsx(Upload,{className:"w-8 h-8 text-gray-400"})})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("input",{type:"file",accept:"image/*",onChange:Je,className:"hidden",id:"logo-upload"}),jsxRuntimeExports.jsxs("label",{htmlFor:"logo-upload",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors cursor-pointer",children:[jsxRuntimeExports.jsx(Upload,{className:"w-4 h-4 mr-2"}),"Upload Logo"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"PNG, JPG up to 10MB"})]})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[jsxRuntimeExports.jsx(Building2,{className:"w-4 h-4 inline mr-1"}),"Vendor Name *"]}),jsxRuntimeExports.jsx("input",{type:"text",name:"vendorName",value:Re.vendorName,onChange:Ge,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"Enter company name"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category *"}),jsxRuntimeExports.jsxs("select",{name:"category",value:Re.category,onChange:Ge,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",children:[jsxRuntimeExports.jsx("option",{value:"",children:"Select category"}),We.map(Xe=>jsxRuntimeExports.jsx("option",{value:Xe,children:Xe},Xe))]})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[jsxRuntimeExports.jsx(Phone,{className:"w-4 h-4 inline mr-1"}),"Phone Number *"]}),jsxRuntimeExports.jsx("input",{type:"tel",name:"phoneNumber",value:Re.phoneNumber,onChange:Ge,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"+91 XXXXX XXXXX"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[jsxRuntimeExports.jsx(Mail,{className:"w-4 h-4 inline mr-1"}),"Email Address *"]}),jsxRuntimeExports.jsx("input",{type:"email",name:"email",value:Re.email,onChange:Ge,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"your@email.com"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[jsxRuntimeExports.jsx(MapPin,{className:"w-4 h-4 inline mr-1"}),"Address *"]}),jsxRuntimeExports.jsx("textarea",{name:"address",value:Re.address,onChange:Ge,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all resize-none",placeholder:"Enter complete address"})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:[jsxRuntimeExports.jsx(Globe,{className:"w-4 h-4 inline mr-1"}),"Website (Optional)"]}),jsxRuntimeExports.jsx("input",{type:"url",name:"website",value:Re.website,onChange:Ge,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all",placeholder:"https://yourwebsite.com"})]})]}),jsxRuntimeExports.jsxs("div",{className:"mb-8",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsxs("h3",{className:"text-lg font-semibold text-gray-800 flex items-center",children:[jsxRuntimeExports.jsx(Package,{className:"w-5 h-5 mr-2"}),"Products & Services (Optional)"]}),jsxRuntimeExports.jsxs("button",{type:"button",onClick:()=>ze(!0),className:"inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[jsxRuntimeExports.jsx(Plus,{className:"w-4 h-4 mr-2"}),"Add Product"]})]}),Re.products.length>0&&jsxRuntimeExports.jsx("div",{className:"space-y-3 mb-4",children:Re.products.map((Xe,is)=>jsxRuntimeExports.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border",children:jsxRuntimeExports.jsxs("div",{className:"flex justify-between items-start",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-800",children:Xe.name}),jsxRuntimeExports.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:["Type: ",Xe.type]}),Xe.description&&jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-600 mt-1",children:Xe.description}),Xe.price&&jsxRuntimeExports.jsxs("p",{className:"text-sm font-medium text-green-600 mt-1",children:["â‚¹",Xe.price]})]}),jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>Ye(is),className:"text-red-500 hover:text-red-700 p-1",children:jsxRuntimeExports.jsx(X$1,{className:"w-4 h-4"})})]})},is))}),Be&&jsxRuntimeExports.jsxs("div",{className:"bg-blue-50 p-6 rounded-lg border border-blue-200 mb-4",children:[jsxRuntimeExports.jsx("h4",{className:"font-semibold text-gray-800 mb-4",children:"Add New Product/Service"}),jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Name *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"name",value:Ve.name,onChange:Qe,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter product name"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Product Type *"}),jsxRuntimeExports.jsx("input",{type:"text",name:"type",value:Ve.type,onChange:Qe,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Service, Equipment, etc."})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2",children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),jsxRuntimeExports.jsx("textarea",{name:"description",value:Ve.description,onChange:Qe,rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Brief description of the product/service"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Price (â‚¹)"}),jsxRuntimeExports.jsx("input",{type:"number",name:"price",value:Ve.price,onChange:Qe,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter price"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-end space-x-3 mt-4",children:[jsxRuntimeExports.jsx("button",{type:"button",onClick:()=>{ze(!1),qe({name:"",type:"",description:"",price:""})},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Cancel"}),jsxRuntimeExports.jsx("button",{type:"button",onClick:ns,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Add Product"})]})]})]}),jsxRuntimeExports.jsx("div",{className:"flex justify-end",children:jsxRuntimeExports.jsx("button",{type:"submit",disabled:Me,className:"inline-flex items-center px-8 py-3 bg-gradient-to-r from-blue-600 to-indigo-700 text-white font-semibold rounded-lg hover:from-blue-700 hover:to-indigo-800 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-all transform hover:scale-105",children:Me?jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[jsxRuntimeExports.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),jsxRuntimeExports.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Registering..."]}):"Register Vendor"})})]})]})})})},PrivacyPolicy=()=>{const[Re,e]=reactExports.useState("info-collect"),Ee=[{id:"info-collect",title:"Information we collect online"},{id:"how-use",title:"How we use your information"},{id:"info-share",title:"Information we share"},{id:"data-security",title:"Data security"},{id:"third-party",title:"Third party sites and social media plug-ins"},{id:"privacy-choices",title:"Your privacy choices & Rights"},{id:"privacy-change",title:"Changes to Privacy"},{id:"contact",title:"Contact details"}],Ce=Te=>{const De=document.getElementById(Te);De&&(De.scrollIntoView({behavior:"smooth",block:"start"}),e(Te))};return reactExports.useEffect(()=>{const Te=()=>{const De=window.scrollY+100;for(const Me of Ee){const Oe=document.getElementById(Me.id);if(Oe){const{offsetTop:Be,offsetHeight:ze}=Oe;if(De>=Be&&De<Be+ze){e(Me.id);break}}}};return window.addEventListener("scroll",Te),()=>window.removeEventListener("scroll",Te)},[]),jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("header",{className:"bg-gradient-to-br from-[#a92b4e] via-[#a92b4e] to-[#801f3a] text-white",children:jsxRuntimeExports.jsxs("div",{className:"text-center py-20 pb-28 px-8",children:[jsxRuntimeExports.jsx("p",{className:"uppercase tracking-[0.3em] text-xs md:text-sm font-semibold text-white/80 mb-3",children:"PRIVACY POLICY"}),jsxRuntimeExports.jsx("h1",{className:"text-5xl font-semibold mb-3 tracking-tight",children:"Privacy Policy"}),jsxRuntimeExports.jsx("p",{className:"text-base opacity-90",children:"Last Updated: November 27, 2025"})]})}),jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-8 lg:px-16 -mt-16 pb-16 relative z-10",children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[jsxRuntimeExports.jsx("aside",{className:"lg:w-80 flex-shrink-0",children:jsxRuntimeExports.jsx("div",{className:"bg-white rounded-lg shadow-sm sticky top-5 overflow-hidden",children:jsxRuntimeExports.jsx("div",{className:"py-5",children:Ee.map(Te=>jsxRuntimeExports.jsx("div",{onClick:()=>Ce(Te.id),className:`px-6 py-3.5 text-sm cursor-pointer transition-all border-l-[3px] ${Re===Te.id?"bg-[#a92b4e]/10 text-[#a92b4e] border-[#a92b4e] font-medium":"border-transparent text-gray-600 hover:bg-gray-50 hover:text-[#a92b4e]"}`,children:Te.title},Te.id))})})}),jsxRuntimeExports.jsxs("main",{className:"flex-1 bg-white rounded-lg shadow-sm px-12 py-12 lg:px-16 lg:py-14",children:[jsxRuntimeExports.jsxs("div",{className:"mb-10 pb-8 border-b border-gray-200",children:[jsxRuntimeExports.jsxs("p",{className:"text-gray-600 leading-relaxed mb-4",children:[jsxRuntimeExports.jsx("span",{className:"font-semibold text-gray-900",children:"Bihar State Film Development and Finance Corporation Limited"})," ","(â€œweâ€, â€œusâ€, â€œourâ€) is committed to protecting your privacy. This Privacy Policy explains how we collect, use, and safeguard your information when you visit our website"," ",jsxRuntimeExports.jsx("a",{href:"https://film.bihar.gov.in",target:"_blank",rel:"noopener noreferrer",className:"text-[#a92b4e] hover:opacity-70 transition-opacity",children:"film.bihar.gov.in"})," "]}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 leading-relaxed",children:"By using our Website, you consent to the practices described in this policy."})]}),jsxRuntimeExports.jsxs("section",{id:"info-collect",className:"mb-12 scroll-mt-20",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-5 tracking-tight",children:"1. Information We Collect"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"We may collect the following types of information:"}),jsxRuntimeExports.jsx("h3",{id:"info-user",className:"text-lg font-semibold text-gray-800 mt-7 mb-4",children:"1.1 Personal Information (Provided by You)"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"When you fill forms, request consultations, or contact us, we may collect:"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2.5 mb-6",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Name"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Email address"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Phone number"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Project details"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Any information you voluntarily share"})]})]}),jsxRuntimeExports.jsx("h3",{id:"info-automatic",className:"text-lg font-semibold text-gray-800 mt-7 mb-4",children:"1.2 Usage Data (Collected Automatically)"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"We may collect:"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2.5 mb-6",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"IP address"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Browser type"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Device information"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Pages visited"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Time spent on the Website"})]})]}),jsxRuntimeExports.jsx("h3",{id:"info-cookies",className:"text-lg font-semibold text-gray-800 mt-7 mb-4",children:"1.3 Cookies & Tracking Technologies"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 leading-relaxed",children:"We use cookies and analytics tools to understand user behavior and improve website performance."})]}),jsxRuntimeExports.jsxs("section",{id:"how-use",className:"mb-12 scroll-mt-20",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-5 tracking-tight",children:"2. How We Use Your Information"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"We use your information to:"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2.5 mb-6",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Respond to inquiries and provide services"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Improve our Website and user experience"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Process applications and permits"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Maintain security and prevent misuse"})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 px-4 py-3 rounded-md my-5",children:jsxRuntimeExports.jsx("p",{className:"text-yellow-900 font-medium",children:"We do not sell your personal information."})})]}),jsxRuntimeExports.jsxs("section",{id:"info-share",className:"mb-12 scroll-mt-20",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-5 tracking-tight",children:"3. Information We Share"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"We may share information with:"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2.5 mb-6",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Government departments and agencies as required"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Service providers (hosting, analytics)"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Legal authorities (only if required by law)"})]})]})]}),jsxRuntimeExports.jsxs("section",{id:"data-security",className:"mb-12 scroll-mt-20",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-5 tracking-tight",children:"4. Data Security"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"We implement security measures to protect your data from:"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2.5 mb-6",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Unauthorized access"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Disclosure"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Alteration"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Misuse"})]})]}),jsxRuntimeExports.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 px-4 py-3 rounded-md my-5",children:jsxRuntimeExports.jsx("p",{className:"text-yellow-900 font-medium",children:"However, no system is 100% secure. You use the Website at your own risk."})})]}),jsxRuntimeExports.jsxs("section",{id:"third-party",className:"mb-12 scroll-mt-20",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-5 tracking-tight",children:"5. Third party sites and social media plug-ins"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 leading-relaxed",children:"Our Website may contain links to external sites. We are not responsible for their privacy practices or content."})]}),jsxRuntimeExports.jsxs("section",{id:"privacy-choices",className:"mb-12 scroll-mt-20",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-5 tracking-tight",children:"6. Your Privacy Choices & Rights"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 leading-relaxed mb-4",children:"You may request to:"}),jsxRuntimeExports.jsxs("ul",{className:"space-y-2.5 mb-6",children:[jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Access your data"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Update or correct your data"})]}),jsxRuntimeExports.jsxs("li",{className:"flex items-start text-gray-600 leading-relaxed",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold mr-3 mt-1",children:"â€¢"}),jsxRuntimeExports.jsx("span",{children:"Delete your data"})]})]}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 leading-relaxed",children:["To do so, email us at"," ",jsxRuntimeExports.jsx("a",{href:"mailto:biharfilmnigam@gmail.com",className:"text-[#a92b4e] hover:opacity-70 transition-opacity",children:"biharfilmnigam@gmail.com"}),"."]})]}),jsxRuntimeExports.jsxs("section",{id:"privacy-change",className:"mb-12 scroll-mt-20",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-5 tracking-tight",children:"7. Changes to This Policy"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 leading-relaxed",children:"We may update this Privacy Policy at any time. The â€œLast Updatedâ€ date reflects the latest change."})]}),jsxRuntimeExports.jsxs("section",{id:"contact",className:"mb-4 scroll-mt-20",children:[jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-5 tracking-tight",children:"8. Contact Us"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 leading-relaxed mb-3",children:"For privacy-related questions:"}),jsxRuntimeExports.jsxs("div",{className:"text-base font-medium text-gray-700 space-y-2",children:[jsxRuntimeExports.jsxs("p",{children:["ðŸ“§"," ",jsxRuntimeExports.jsx("a",{href:"mailto:biharfilmnigam@gmail.com",className:"text-[#a92b4e] hover:opacity-70 transition-opacity",children:"biharfilmnigam@gmail.com"})]}),jsxRuntimeExports.jsx("p",{children:"ðŸ“ž 0612-2219213"}),jsxRuntimeExports.jsx("p",{children:"ðŸ¢ Bihar State Film Development and Finance Corporation Limited"})]})]})]})]})}),jsxRuntimeExports.jsx("footer",{className:" text-white py-8",children:jsxRuntimeExports.jsx(Footer,{})})]})};function AboutUs(){const Re=[{id:1,name:"Manoj Bajpayee",occupation:"Actor",dob:"23 April 1969",district:"West Champaran",img:"https://th-i.thgim.com/public/incoming/n3k61b/article68075789.ece/alternates/FREE_1200/MANOJ-SHHHH.jpg",description:"Renowned for powerful roles in independent and commercial films.",bestWork:"The Family Man",imdb:"https://www.imdb.com/name/nm0048075/?ref_=ext_shr_lnk"},{id:2,name:"Pankaj Tripathi",occupation:"Actor",dob:"5 September 1976",district:"Gopalganj",img:"https://media.assettype.com/freepressjournal/2022-01/bdc02614-b127-4db2-a440-2f44b9f5f284/Screenshot_2022_01_25_at_5_43_01_AM.png?width=1200",description:"Famous for his versatility and natural acting style.",bestWork:"Mirzapur",imdb:"https://www.imdb.com/name/nm2690647/?ref_=ext_shr_lnk"},{id:3,name:"Prakash Jha",occupation:"Producer & Actor",dob:"27 February 1952",district:"Bettiah, West Champaran",img:"https://m.media-amazon.com/images/M/MV5BMTc1NjMwNDE4Ml5BMl5BanBnXkFtZTgwODA1ODA0OTE@._V1_.jpg",description:"Renowned filmmaker known for his political and socio-political films.",bestWork:"Crook",imdb:"https://www.imdb.com/name/nm2777281/?ref_=ext_shr_lnk"},{id:4,name:"Shatrughan Sinha",occupation:"Actor",dob:"15 July 1946",district:"Patna",img:"https://sm.mashable.com/mashable_in/seo/8/88864/88864_trrd.png",description:"Veteran actor and politician, iconic in 70s-80s cinema.",bestWork:"Kalicharan",imdb:"https://www.imdb.com/name/nm0802374/?ref_=ext_shr_lnk"},{id:5,name:"Sushant Singh Rajput",occupation:"Actor",dob:"21 January 1986",district:"Patna",img:"https://i.pinimg.com/736x/40/60/63/406063a5d7bf517313bf00ee5d6ab840.jpg",description:"Talented actor known for heartfelt performances.",bestWork:"MS Dhoni: The Untold Story",imdb:"https://www.imdb.com/name/nm3818286/?ref_=ext_shr_lnk"},{id:6,name:"Neha Sharma",occupation:"Actress",dob:"21 November 1987",district:"Bhagalpur",img:"https://akm-img-a-in.tosshub.com/aajtak/images/video/202403/6600096b7e220-will-neha-sharma-contest-elections-from-bihar-240722280-16x9.png",description:"Actress and model with presence in films and web series.",bestWork:"Crook",imdb:"https://www.imdb.com/name/nm2777281/?ref_=ext_shr_lnk"},{id:7,name:"Neetu Chandra",occupation:"Actress",dob:"20 June 1984",district:"Patna",img:"https://www.filmibeat.com/wimg/desktop/2019/08/neetu-chandra_10.jpg",description:"Indian actress known for her roles in Hindi, Tamil, and Telugu cinema. ",bestWork:"Garam Masala (2005)",imdb:"https://www.imdb.com/name/nm1911617/?ref_=ext_shr_lnk"},{id:8,name:"Vinay Pathak",occupation:"Actor",dob:"27 July 1968",district:"Bhojpur, Bihar ",img:"https://akm-img-a-in.tosshub.com/indiatoday/images/story/201808/Vinay_Pathak-BAN-08052018.jpeg",description:"Actor known for comedy roles in Bheja Fry and Khosla Ka Ghosla. ",bestWork:"Bheja Fry (2007)",imdb:"https://www.imdb.com/name/nm0665555/?ref_=ext_shr_lnk"},{id:9,name:"Imtiaz Ali",occupation:"Film Director & Writer",dob:"16 June 1971",district:"Jamshedpur (then Bihar)",img:"https://m.media-amazon.com/images/M/MV5BMTYwOTUwMTk3MF5BMl5BanBnXkFtZTgwMjA1NDEzMTE@._V1_.jpg",description:"Renowned Indian film director, producer, and writer known for his brilliant work",bestWork:"Jab We Met",imdb:"https://www.imdb.com/name/nm2777281/?ref_=ext_shr_lnk"},{id:10,name:"Sanjay Mishra",occupation:"Actor",dob:"6 October 1963",district:"Darbhangha",img:"https://i.pinimg.com/564x/33/cf/5a/33cf5a9baf45e25e6b8ce5adc89f8b54.jpg",description:"Celebrated for comic timing and strong character roles.",bestWork:"Ankhon Dekhi",imdb:"https://www.imdb.com/name/nm0592799/?ref_=ext_shr_lnk"},{id:11,name:"Arunabh Kumar",occupation:"Entrepreneur, Producer, Director, Actor",dob:"26 November 1982",district:"Muzaffarpur",img:"https://www.iwmbuzz.com/wp-content/uploads/2025/06/arunabh-kumar-shares-a-heartfelt-note-on-his-wedding-anniversary-15.jpg",description:"Founder of TVF, known for web series like 'Permanent Roommates' and 'Pitchers'.",bestWork:"TVF Pitchers",imdb:"https://www.imdb.com/name/nm2837311/?ref_=ext_shr_lnk"},{id:12,name:"Gurmeet Choudhary",occupation:"Actor",dob:"22 February 1984",district:"Bhagalpur",img:"https://www.gethucinema.com/tmdb/eCeElyYgPm1ZvV1NWlBeQbUCp8c.jpg",description:"TV and film actor popular for mythological and action roles.",bestWork:"Khamoshiyan",imdb:"https://www.imdb.com/name/nm3073211/?ref_=ext_shr_lnk"},{id:13,name:"Chandan Roy",occupation:"Actor",dob:"20 December 1995",district:"Mahnar (Vaishali district)",img:"https://images.filmibeat.com/img/popcorn/profile_photos/chandanroy-20240530112240-60861.jpg",description:"Known for his warm, authentic portrayal of Vikas Shukla in 'Panchayat'..",bestWork:"Panchayat (web series)",imdb:"https://www.imdb.com/name/nm0788686/?ref_=ext_shr_lnk"},{id:14,name:"Ashok Yadav",occupation:"Actor",dob:"3 January 1985",district:"Darveshpur, near Siwan",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRbBuxF26RW4NAbH3bAhnym5oFJpbXEu4bfpw&s",description:"Bihari-born actor known for winning hearts as 'Binod' in Panchayat.",bestWork:"Panchayat (web series)",imdb:"https://www.imdb.com/name/nm9859083/?ref_=ext_shr_lnk"},{id:15,name:"Pankaj Jha",occupation:"Actor, Painter, Writer, Director",dob:"2 February 1970",district:"Saharsa",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQh1qXBXYNfRXOj44qO6zQ5A_S8XqZ9tuWDQw&s",description:"Actor, acclaimed for his grounded portrayal of MLA Chandu Singh in Panchayat",bestWork:"Panchayat (web series)",imdb:"https://www.imdb.com/name/nm13792834/?ref_=ext_shr_lnk"},{id:16,name:"Durgesh Kumar",occupation:"Actor",dob:"21 October 1984",district:"Darbhanga, Bihar",img:"https://static.toiimg.com/thumb/msid-110440378,width-400,resizemode-4/110440378.jpg",description:"Actor known for playing Bhushan in Panchayat .",bestWork:"Panchayat (web series)",imdb:"https://www.imdb.com/name/nm6294201/?ref_=ext_shr_lnk"},{id:17,name:"Bulloo Kumar",occupation:"Actor",dob:"5 February 1986",district:"Nawada",img:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQAtnRcu4PHPQgiqJxR60fwzozDEYf76VJm3w&s",description:"Actor from Bihar, known for his comical role as Madhav in  Panchayat.",bestWork:"Panchayat (web series)",imdb:"https://www.imdb.com/name/nm12872303/?ref_=ext_shr_lnk"},{id:18,name:"Ustad Bismillah Khan",occupation:"Shehnai Maestro",dob:"21 March 1916",district:"Dumraon (Buxar)",img:"https://akm-img-a-in.tosshub.com/indiatoday/bismillah-khan-647_032116095003.jpg",description:"Legendary Shehnai player, Bharat Ratna awardee.",bestWork:"Goonj Uthi Shehnai (music)",imdb:"https://www.imdb.com/name/nm0451190/?ref_=ext_shr_lnk"},{id:19,name:"Sharda Sinha",occupation:"Folk Singer",dob:"1 October 1952",district:"Samastipur",img:"https://cf-img-a-in.tosshub.com/sites/visualstory/wp/2024/11/India-Today_Sharda-Sinha-YIM6937-1-1-scaled.jpg?size=*:900",description:"Voice of Bihar's folk heritage, especially during Chhath.",bestWork:"Maine Pyar Kiya (singer)",imdb:"https://www.imdb.com/name/nm0788686/?ref_=ext_shr_lnk"},{id:20,name:"Maithili Thakur",occupation:"Folk/Classic Singer",dob:"25 July 2000",district:"Madhubani",img:"https://c.saavncdn.com/artists/Maithili_Thakur_002_20230227072619_500x500.jpg",description:"Young prodigy promoting Indian classical and folk music.",bestWork:"Primarily Music Albums",imdb:"https://www.imdb.com/name/nm9859083/?ref_=ext_shr_lnk"},{id:21,name:"Chandan Tiwari",occupation:"Folk Singer",dob:"15 August 1985",district:"Patna",img:"https://chandantiwari.in/wp-content/uploads/2024/11/PHOTO-2024-03-27-16-07-40-1.jpg",description:"Folk singer reviving Bhojpuri and regional traditions.",bestWork:"Live Performances & Albums",imdb:"https://www.imdb.com/name/nm13792834/?ref_=ext_shr_lnk"}],e=["Promote Bihar as a vibrant filmmaking hub","Strengthen regional cinema (Bhojpuri, Maithili, Magahi, Angika, Bajjika)","Streamline film permissions through a single-window clearance system","Encourage investment in film infrastructure and skill development","Facilitate a transparent and efficient subsidy framework","Promote Bihar's culture, heritage, traditions and Tourist places"],Ee=[{title:"Feature Films",desc:"Subsidy ranging from â‚¹2 crore to â‚¹4 crore based on shooting days (50% - 75%) and film category (1st, 2nd, or 3rd film).",icon:jsxRuntimeExports.jsx(Film,{className:"w-8 h-8 text-white"})},{title:"Television Serials / Shows",desc:"Subsidy up to â‚¹50 Lakhs for 45 days of shooting, or up to â‚¹1 crore for 90 days of shooting in Bihar.",icon:jsxRuntimeExports.jsx(Video,{className:"w-8 h-8 text-white"})},{title:"Web Series / OTT Content",desc:"Subsidy up to â‚¹2 crore (min 30 days/50%) or â‚¹3 crore (min 60 days/70%) of shooting in Bihar.",icon:jsxRuntimeExports.jsx(Globe,{className:"w-8 h-8 text-white"})},{title:"Infrastructure Development",desc:"Subsidy up to â‚¹1.5 crore for Film Cities/Studios, and up to â‚¹1 crore for equipment/tech setups (25% of investment).",icon:jsxRuntimeExports.jsx(MapPin,{className:"w-8 h-8 text-white"})}],Ce=["Songhatiya (Ugratara Films)","The Long Journey Home (AVARTS Ltd., Mauritius)","Bihar Ka Jalwa (Prabuddh Entertainment)","Life Leela (Aim Apex International â€“ Web Series)","Chatth (Champaran Talkies Pvt. Ltd.)","Pain Brush (Daivarya Media & Entertainment Pvt. Ltd.)","Bihaan (Insight India)","Magadh Putra (Gunjan Singh Entertainment)","Echos of the Absent and Akhri Lesson (Kartina Entertainment & Sports Pvt. Ltd.)"];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-white font-sans",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsxs("div",{className:"relative bg-[#a92b4e] py-24 px-4 text-center text-white overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0",children:jsxRuntimeExports.jsxs("div",{className:"relative w-full h-[400px]",children:[jsxRuntimeExports.jsx("img",{src:"/aboutBanner.png",alt:"Bihar Banner",className:"w-full h-full object-cover object-[center_20%] z-50 grayscale"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-black/70 via-black/50 to-[#a92b4e]/90"}),jsxRuntimeExports.jsx("div",{className:"relative z-10"})]})}),jsxRuntimeExports.jsx("div",{className:"relative z-10 max-w-5xl mx-auto",children:jsxRuntimeExports.jsxs("div",{className:"py-10",children:[jsxRuntimeExports.jsx("h1",{className:"text-2xl md:text-4xl font-extrabold mb-6 tracking-tight leading-tight",children:"Bihar: The Emerging Powerhouse of Indian Cinema"}),jsxRuntimeExports.jsx("p",{className:"text-md md:text-xl font-light text-yellow-100 max-w-4xl mx-auto",children:"A land of rich heritage, iconic legends, and untold stories waiting to be captured."})]})})]}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-16 space-y-20",children:[jsxRuntimeExports.jsxs("div",{className:"text-center space-y-8 px-4 md:px-10 overflow-hidden",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-[#891737]",children:"Legends from Bihar"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 max-w-3xl mx-auto text-lg",children:"Bihar has been home to some of the most iconic personalities who have shaped Indian film history."}),jsxRuntimeExports.jsxs("div",{className:"relative w-full py-6",children:[jsxRuntimeExports.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-16 md:w-32 z-10  pointer-events-none"}),jsxRuntimeExports.jsx("div",{className:"absolute right-0 top-0 bottom-0 w-16 md:w-32 z-10  pointer-events-none"}),jsxRuntimeExports.jsx(motion.div,{className:"flex space-x-8 md:space-x-12 w-max",animate:{x:["0%","-50%"]},transition:{duration:60,ease:"linear",repeat:1/0},children:[...Re,...Re].map((Te,De)=>jsxRuntimeExports.jsxs("div",{className:"flex flex-col items-center space-y-3 w-32 md:w-40 flex-shrink-0 group cursor-pointer",children:[jsxRuntimeExports.jsx("div",{className:"w-24 h-24 md:w-32 md:h-32 rounded-full overflow-hidden border-4 border-gray-100 shadow-lg group-hover:border-[#a92b4e] group-hover:scale-105 transition-all duration-300",children:jsxRuntimeExports.jsx("img",{src:Te.img,alt:Te.name,className:"w-full h-full object-cover"})}),jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h3",{className:"text-sm md:text-base font-bold text-gray-800 group-hover:text-[#a92b4e] transition-colors",children:Te.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:Te.occupation})]})]},De))})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-br px-10 from-gray-50 to-white rounded-3xl p-10 md:p-16 shadow-lg border border-gray-100 relative overflow-hidden",children:[jsxRuntimeExports.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-[#a92b4e]/5 rounded-full blur-3xl -mr-16 -mt-16"}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 text-center max-w-4xl mx-auto",children:[jsxRuntimeExports.jsx("h2",{className:"text-4xl font-bold text-gray-800 mb-8",children:"BSFDFC: Nurturing Biharâ€™s Cinematic Legacy"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 leading-relaxed text-xl mb-6",children:"The Bihar State Film Development & Finance Corporation Ltd. (BSFDFC) continues to strengthen this legacy by promoting film culture and incentivizing regional cinema. Through landmark initiatives such as the Bihar Film Conclave, the Corporation provides a dynamic platform for national and international filmmakers."}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 leading-relaxed text-xl",children:"By fostering a creative and supportive ecosystem, BSFDFC is redefining Biharâ€™s cinematic identity â€” encouraging filmmakers to discover the stateâ€™s untold narratives, while simultaneously empowering local talent and technicians."})]})]}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"bg-white p-5 rounded-2xl shadow-md flex items-center gap-5 hover:scale-[1.01] transition-transform duration-300",children:jsxRuntimeExports.jsxs("div",{className:"text-left",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-[#a92b4e] mb-2",children:"Our Vision"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm leading-relaxed max-w-md",children:"To transform Bihar into a prominent film destination, utilizing the power of cinema for cultural preservation and public awareness."})]})}),jsxRuntimeExports.jsx("div",{className:"bg-white p-5 rounded-2xl shadow-md flex items-center gap-5 hover:scale-[1.01] transition-transform duration-300",children:jsxRuntimeExports.jsxs("div",{className:"text-left",children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-[#a92b4e] mb-2",children:"Our Mission"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm leading-relaxed max-w-md",children:"To foster excellence in cinema, promote the diversity of Indian culture, and facilitate a hassle-free filmmaking experience in Bihar."})]})})]}),jsxRuntimeExports.jsxs("div",{className:"bg-white",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-10",children:"Key Objectives"}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((Te,De)=>jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-xl hover:bg-gray-50 transition-colors border border-transparent hover:border-gray-100",children:[jsxRuntimeExports.jsx("div",{className:"p-2 bg-[#a92b4e]/10 rounded-full shrink-0",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-6 h-6 text-[#a92b4e]"})}),jsxRuntimeExports.jsx("p",{className:"text-gray-700 font-medium",children:Te})]},De))})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-12",children:"Subsidy Structure & Incentives"}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:Ee.map((Te,De)=>jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:-translate-y-2 transition-transform duration-300 group",children:[jsxRuntimeExports.jsx("div",{className:"w-14 h-14 bg-[#a92b4e] rounded-2xl flex items-center justify-center mb-6 shadow-md group-hover:scale-110 transition-transform",children:Te.icon}),jsxRuntimeExports.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-3",children:Te.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:Te.desc})]},De))})]}),jsxRuntimeExports.jsxs("div",{className:"grid gap-6 md:grid-cols-4",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-2 md:row-span-2 relative overflow-hidden rounded-3xl bg-gradient-to-br from-gray-900 via-gray-900 to-black border border-white/5",children:[jsxRuntimeExports.jsx("div",{className:"pointer-events-none absolute inset-0 bg-[radial-gradient(circle_at_top,_rgba(169,43,78,0.28),_transparent_60%)]"}),jsxRuntimeExports.jsxs("div",{className:"relative flex h-full flex-col p-7 md:p-8",children:[jsxRuntimeExports.jsx("div",{className:"mb-6 flex items-center justify-between gap-3",children:jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx("div",{className:"flex h-9 w-9 items-center justify-center rounded-2xl bg-white border border-[#190108]",children:jsxRuntimeExports.jsx(Star,{className:"h-5 w-5 text-[#190108]"})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("h2",{className:"text-lg md:text-xl font-semibold text-white",children:"Implementation Success"})})]})}),jsxRuntimeExports.jsx("p",{className:"mb-5 text-xs leading-relaxed text-gray-300",children:"Since the introduction of the Bihar Film Policy, several national and international filmmakers have chosen Bihar for its authentic landscapes."}),jsxRuntimeExports.jsx("div",{className:"space-y-3 text-sm text-gray-300 overflow-y-auto max-h-[250px] custom-scrollbar pr-2",children:Ce.map((Te,De)=>jsxRuntimeExports.jsxs("div",{className:"group flex items-start gap-3 rounded-2xl border border-white/5 bg-white/0 px-3 py-2.5 transition-all duration-200 hover:border-[#a92b4e]/40 hover:bg-white/5",children:[jsxRuntimeExports.jsx("span",{className:"mt-1 h-1.5 w-1.5 rounded-full bg-[#a92b4e]/80 group-hover:bg-[#a92b4e]"}),jsxRuntimeExports.jsx("p",{className:"leading-snug",children:Te})]},De))})]})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2 rounded-3xl border border-[#a92b4e]/25 bg-[#ffff]/5 p-6 md:p-7 transition-all duration-200 hover:-translate-y-0.5 hover:border-[#a92b4e]/50 hover:bg-[#a92b4e]/10",children:[jsxRuntimeExports.jsx("div",{className:"mb-4 flex items-center justify-between",children:jsxRuntimeExports.jsx("h3",{className:"text-base md:text-lg font-semibold text-[#a92b4e]",children:"Regional Cinema Hub"})}),jsxRuntimeExports.jsx("p",{className:"text-sm leading-relaxed text-gray-700",children:"Bihar has become a hub for regional filmmaking, in most of the languages of Bihar and the films showing culture, heritage, traditions and beautiful tourist places are being shot across various districts, involving local talent and dialects."})]}),jsxRuntimeExports.jsxs("div",{className:"md:col-span-2 rounded-3xl border border-gray-200 bg-gray-50 p-6 md:p-7 transition-all duration-200 hover:-translate-y-0.5 hover:border-[#a92b4e]/30 hover:bg-white",children:[jsxRuntimeExports.jsx("div",{className:"mb-4 flex items-center justify-between",children:jsxRuntimeExports.jsx("h3",{className:"text-base md:text-lg font-semibold text-[#a92b4e]",children:"Documentary Films"})}),jsxRuntimeExports.jsx("p",{className:"text-sm leading-relaxed text-gray-700",children:"Documentary productions highlighting the stateâ€™s art, culture, and development narrative inspiring filmmakers to explore Bihar's untold stories of its heritage, traditions and tourist places through a realistic lens."})]})]})]}),jsxRuntimeExports.jsx(Footer,{})]})}var pageFlip_browser$1={exports:{}},pageFlip_browser=pageFlip_browser$1.exports,hasRequiredPageFlip_browser;function requirePageFlip_browser(){return hasRequiredPageFlip_browser||(hasRequiredPageFlip_browser=1,function(Re,e){(function(Ee,Ce){Ce(e)})(pageFlip_browser,function(Ee){class Ce{constructor(Xe,is){this.state={angle:0,area:[],position:{x:0,y:0},hardAngle:0,hardDrawingAngle:0},this.createdDensity=is,this.nowDrawingDensity=this.createdDensity,this.render=Xe}setDensity(Xe){this.createdDensity=Xe,this.nowDrawingDensity=Xe}setDrawingDensity(Xe){this.nowDrawingDensity=Xe}setPosition(Xe){this.state.position=Xe}setAngle(Xe){this.state.angle=Xe}setArea(Xe){this.state.area=Xe}setHardDrawingAngle(Xe){this.state.hardDrawingAngle=Xe}setHardAngle(Xe){this.state.hardAngle=Xe,this.state.hardDrawingAngle=Xe}setOrientation(Xe){this.orientation=Xe}getDrawingDensity(){return this.nowDrawingDensity}getDensity(){return this.createdDensity}getHardAngle(){return this.state.hardAngle}}class Te extends Ce{constructor(Xe,is,os){super(Xe,os),this.image=null,this.isLoad=!1,this.loadingAngle=0,this.image=new Image,this.image.src=is}draw(Xe){const is=this.render.getContext(),os=this.render.convertToGlobal(this.state.position),hs=this.render.getRect().pageWidth,fs=this.render.getRect().height;is.save(),is.translate(os.x,os.y),is.beginPath();for(let xs of this.state.area)xs!==null&&(xs=this.render.convertToGlobal(xs),is.lineTo(xs.x-os.x,xs.y-os.y));is.rotate(this.state.angle),is.clip(),this.isLoad?is.drawImage(this.image,0,0,hs,fs):this.drawLoader(is,{x:0,y:0},hs,fs),is.restore()}simpleDraw(Xe){const is=this.render.getRect(),os=this.render.getContext(),hs=is.pageWidth,fs=is.height,xs=Xe===1?is.left+is.pageWidth:is.left,Ss=is.top;this.isLoad?os.drawImage(this.image,xs,Ss,hs,fs):this.drawLoader(os,{x:xs,y:Ss},hs,fs)}drawLoader(Xe,is,os,hs){Xe.beginPath(),Xe.strokeStyle="rgb(200, 200, 200)",Xe.fillStyle="rgb(255, 255, 255)",Xe.lineWidth=1,Xe.rect(is.x+1,is.y+1,os-1,hs-1),Xe.stroke(),Xe.fill();const fs={x:is.x+os/2,y:is.y+hs/2};Xe.beginPath(),Xe.lineWidth=10,Xe.arc(fs.x,fs.y,20,this.loadingAngle,3*Math.PI/2+this.loadingAngle),Xe.stroke(),Xe.closePath(),this.loadingAngle+=.07,this.loadingAngle>=2*Math.PI&&(this.loadingAngle=0)}load(){this.isLoad||(this.image.onload=()=>{this.isLoad=!0})}newTemporaryCopy(){return this}getTemporaryCopy(){return this}hideTemporaryCopy(){}}class De{constructor(Xe,is){this.pages=[],this.currentPageIndex=0,this.currentSpreadIndex=0,this.landscapeSpread=[],this.portraitSpread=[],this.render=is,this.app=Xe,this.currentPageIndex=0,this.isShowCover=this.app.getSettings().showCover}destroy(){this.pages=[]}createSpread(){this.landscapeSpread=[],this.portraitSpread=[];for(let is=0;is<this.pages.length;is++)this.portraitSpread.push([is]);let Xe=0;this.isShowCover&&(this.pages[0].setDensity("hard"),this.landscapeSpread.push([Xe]),Xe++);for(let is=Xe;is<this.pages.length;is+=2)is<this.pages.length-1?this.landscapeSpread.push([is,is+1]):(this.landscapeSpread.push([is]),this.pages[is].setDensity("hard"))}getSpread(){return this.render.getOrientation()==="landscape"?this.landscapeSpread:this.portraitSpread}getSpreadIndexByPage(Xe){const is=this.getSpread();for(let os=0;os<is.length;os++)if(Xe===is[os][0]||Xe===is[os][1])return os;return null}getPageCount(){return this.pages.length}getPages(){return this.pages}getPage(Xe){if(Xe>=0&&Xe<this.pages.length)return this.pages[Xe];throw new Error("Invalid page number")}nextBy(Xe){const is=this.pages.indexOf(Xe);return is<this.pages.length-1?this.pages[is+1]:null}prevBy(Xe){const is=this.pages.indexOf(Xe);return is>0?this.pages[is-1]:null}getFlippingPage(Xe){const is=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return Xe===0?this.pages[is].newTemporaryCopy():this.pages[is-1];{const os=Xe===0?this.getSpread()[is+1]:this.getSpread()[is-1];return os.length===1||Xe===0?this.pages[os[0]]:this.pages[os[1]]}}getBottomPage(Xe){const is=this.currentSpreadIndex;if(this.render.getOrientation()==="portrait")return Xe===0?this.pages[is+1]:this.pages[is-1];{const os=Xe===0?this.getSpread()[is+1]:this.getSpread()[is-1];return os.length===1?this.pages[os[0]]:Xe===0?this.pages[os[1]]:this.pages[os[0]]}}showNext(){this.currentSpreadIndex<this.getSpread().length&&(this.currentSpreadIndex++,this.showSpread())}showPrev(){this.currentSpreadIndex>0&&(this.currentSpreadIndex--,this.showSpread())}getCurrentPageIndex(){return this.currentPageIndex}show(Xe=null){if(Xe===null&&(Xe=this.currentPageIndex),Xe<0||Xe>=this.pages.length)return;const is=this.getSpreadIndexByPage(Xe);is!==null&&(this.currentSpreadIndex=is,this.showSpread())}getCurrentSpreadIndex(){return this.currentSpreadIndex}setCurrentSpreadIndex(Xe){if(!(Xe>=0&&Xe<this.getSpread().length))throw new Error("Invalid page");this.currentSpreadIndex=Xe}showSpread(){const Xe=this.getSpread()[this.currentSpreadIndex];Xe.length===2?(this.render.setLeftPage(this.pages[Xe[0]]),this.render.setRightPage(this.pages[Xe[1]])):this.render.getOrientation()==="landscape"&&Xe[0]===this.pages.length-1?(this.render.setLeftPage(this.pages[Xe[0]]),this.render.setRightPage(null)):(this.render.setLeftPage(null),this.render.setRightPage(this.pages[Xe[0]])),this.currentPageIndex=Xe[0],this.app.updatePageIndex(this.currentPageIndex)}}class Me extends De{constructor(Xe,is,os){super(Xe,is),this.imagesHref=os}load(){for(const Xe of this.imagesHref){const is=new Te(this.render,Xe,"soft");is.load(),this.pages.push(is)}this.createSpread()}}class Oe{static GetDistanceBetweenTwoPoint(Xe,is){return Xe===null||is===null?1/0:Math.sqrt(Math.pow(is.x-Xe.x,2)+Math.pow(is.y-Xe.y,2))}static GetSegmentLength(Xe){return Oe.GetDistanceBetweenTwoPoint(Xe[0],Xe[1])}static GetAngleBetweenTwoLine(Xe,is){const os=Xe[0].y-Xe[1].y,hs=is[0].y-is[1].y,fs=Xe[1].x-Xe[0].x,xs=is[1].x-is[0].x;return Math.acos((os*hs+fs*xs)/(Math.sqrt(os*os+fs*fs)*Math.sqrt(hs*hs+xs*xs)))}static PointInRect(Xe,is){return is===null?null:is.x>=Xe.left&&is.x<=Xe.width+Xe.left&&is.y>=Xe.top&&is.y<=Xe.top+Xe.height?is:null}static GetRotatedPoint(Xe,is,os){return{x:Xe.x*Math.cos(os)+Xe.y*Math.sin(os)+is.x,y:Xe.y*Math.cos(os)-Xe.x*Math.sin(os)+is.y}}static LimitPointToCircle(Xe,is,os){if(Oe.GetDistanceBetweenTwoPoint(Xe,os)<=is)return os;const hs=Xe.x,fs=Xe.y,xs=os.x,Ss=os.y;let ds=Math.sqrt(Math.pow(is,2)*Math.pow(hs-xs,2)/(Math.pow(hs-xs,2)+Math.pow(fs-Ss,2)))+hs;os.x<0&&(ds*=-1);let gs=(ds-hs)*(fs-Ss)/(hs-xs)+fs;return hs-xs+fs===0&&(gs=is),{x:ds,y:gs}}static GetIntersectBetweenTwoSegment(Xe,is,os){return Oe.PointInRect(Xe,Oe.GetIntersectBeetwenTwoLine(is,os))}static GetIntersectBeetwenTwoLine(Xe,is){const os=Xe[0].y-Xe[1].y,hs=is[0].y-is[1].y,fs=Xe[1].x-Xe[0].x,xs=is[1].x-is[0].x,Ss=Xe[0].x*Xe[1].y-Xe[1].x*Xe[0].y,ds=is[0].x*is[1].y-is[1].x*is[0].y,gs=os*ds-hs*Ss,Ts=fs*ds-xs*Ss,Ds=-(Ss*xs-ds*fs)/(os*xs-hs*fs),Ms=-(os*ds-hs*Ss)/(os*xs-hs*fs);if(isFinite(Ds)&&isFinite(Ms))return{x:Ds,y:Ms};if(Math.abs(gs-Ts)<.1)throw new Error("Segment included");return null}static GetCordsFromTwoPoint(Xe,is){const os=Math.abs(Xe.x-is.x),hs=Math.abs(Xe.y-is.y),fs=Math.max(os,hs),xs=[Xe];function Ss(ds,gs,Ts,Ds,Ms){return gs>ds?ds+Ms*(Ts/Ds):gs<ds?ds-Ms*(Ts/Ds):ds}for(let ds=1;ds<=fs;ds+=1)xs.push({x:Ss(Xe.x,is.x,os,fs,ds),y:Ss(Xe.y,is.y,hs,fs,ds)});return xs}}class Be extends Ce{constructor(Xe,is,os){super(Xe,os),this.copiedElement=null,this.temporaryCopy=null,this.isLoad=!1,this.element=is,this.element.classList.add("stf__item"),this.element.classList.add("--"+os)}newTemporaryCopy(){return this.nowDrawingDensity==="hard"?this:(this.temporaryCopy===null&&(this.copiedElement=this.element.cloneNode(!0),this.element.parentElement.appendChild(this.copiedElement),this.temporaryCopy=new Be(this.render,this.copiedElement,this.nowDrawingDensity)),this.getTemporaryCopy())}getTemporaryCopy(){return this.temporaryCopy}hideTemporaryCopy(){this.temporaryCopy!==null&&(this.copiedElement.remove(),this.copiedElement=null,this.temporaryCopy=null)}draw(Xe){const is=Xe||this.nowDrawingDensity,os=this.render.convertToGlobal(this.state.position),hs=this.render.getRect().pageWidth,fs=this.render.getRect().height;this.element.classList.remove("--simple");const xs=`
            display: block;
            z-index: ${this.element.style.zIndex};
            left: 0;
            top: 0;
            width: ${hs}px;
            height: ${fs}px;
        `;is==="hard"?this.drawHard(xs):this.drawSoft(os,xs)}drawHard(Xe=""){const is=this.render.getRect().left+this.render.getRect().width/2,os=this.state.hardDrawingAngle,hs=Xe+`
                backface-visibility: hidden;
                -webkit-backface-visibility: hidden;
                clip-path: none;
                -webkit-clip-path: none;
            `+(this.orientation===0?`transform-origin: ${this.render.getRect().pageWidth}px 0; 
                   transform: translate3d(0, 0, 0) rotateY(${os}deg);`:`transform-origin: 0 0; 
                   transform: translate3d(${is}px, 0, 0) rotateY(${os}deg);`);this.element.style.cssText=hs}drawSoft(Xe,is=""){let os="polygon( ";for(const fs of this.state.area)if(fs!==null){let xs=this.render.getDirection()===1?{x:-fs.x+this.state.position.x,y:fs.y-this.state.position.y}:{x:fs.x-this.state.position.x,y:fs.y-this.state.position.y};xs=Oe.GetRotatedPoint(xs,{x:0,y:0},this.state.angle),os+=xs.x+"px "+xs.y+"px, "}os=os.slice(0,-2),os+=")";const hs=is+`transform-origin: 0 0; clip-path: ${os}; -webkit-clip-path: ${os};`+(this.render.isSafari()&&this.state.angle===0?`transform: translate(${Xe.x}px, ${Xe.y}px);`:`transform: translate3d(${Xe.x}px, ${Xe.y}px, 0) rotate(${this.state.angle}rad);`);this.element.style.cssText=hs}simpleDraw(Xe){const is=this.render.getRect(),os=is.pageWidth,hs=is.height,fs=Xe===1?is.left+is.pageWidth:is.left,xs=is.top;this.element.classList.add("--simple"),this.element.style.cssText=`
            position: absolute; 
            display: block; 
            height: ${hs}px; 
            left: ${fs}px; 
            top: ${xs}px; 
            width: ${os}px; 
            z-index: ${this.render.getSettings().startZIndex+1};`}getElement(){return this.element}load(){this.isLoad=!0}setOrientation(Xe){super.setOrientation(Xe),this.element.classList.remove("--left","--right"),this.element.classList.add(Xe===1?"--right":"--left")}setDrawingDensity(Xe){this.element.classList.remove("--soft","--hard"),this.element.classList.add("--"+Xe),super.setDrawingDensity(Xe)}}class ze extends De{constructor(Xe,is,os,hs){super(Xe,is),this.element=os,this.pagesElement=hs}load(){for(const Xe of this.pagesElement){const is=new Be(this.render,Xe,Xe.dataset.density==="hard"?"hard":"soft");is.load(),this.pages.push(is)}this.createSpread()}}class Ve{constructor(Xe,is,os,hs){this.direction=Xe,this.corner=is,this.topIntersectPoint=null,this.sideIntersectPoint=null,this.bottomIntersectPoint=null,this.pageWidth=parseInt(os,10),this.pageHeight=parseInt(hs,10)}calc(Xe){try{return this.position=this.calcAngleAndPosition(Xe),this.calculateIntersectPoint(this.position),!0}catch{return!1}}getFlippingClipArea(){const Xe=[];let is=!1;return Xe.push(this.rect.topLeft),Xe.push(this.topIntersectPoint),this.sideIntersectPoint===null?is=!0:(Xe.push(this.sideIntersectPoint),this.bottomIntersectPoint===null&&(is=!1)),Xe.push(this.bottomIntersectPoint),(is||this.corner==="bottom")&&Xe.push(this.rect.bottomLeft),Xe}getBottomClipArea(){const Xe=[];return Xe.push(this.topIntersectPoint),this.corner==="top"?Xe.push({x:this.pageWidth,y:0}):(this.topIntersectPoint!==null&&Xe.push({x:this.pageWidth,y:0}),Xe.push({x:this.pageWidth,y:this.pageHeight})),this.sideIntersectPoint!==null?Oe.GetDistanceBetweenTwoPoint(this.sideIntersectPoint,this.topIntersectPoint)>=10&&Xe.push(this.sideIntersectPoint):this.corner==="top"&&Xe.push({x:this.pageWidth,y:this.pageHeight}),Xe.push(this.bottomIntersectPoint),Xe.push(this.topIntersectPoint),Xe}getAngle(){return this.direction===0?-this.angle:this.angle}getRect(){return this.rect}getPosition(){return this.position}getActiveCorner(){return this.direction===0?this.rect.topLeft:this.rect.topRight}getDirection(){return this.direction}getFlippingProgress(){return Math.abs((this.position.x-this.pageWidth)/(2*this.pageWidth)*100)}getCorner(){return this.corner}getBottomPagePosition(){return this.direction===1?{x:this.pageWidth,y:0}:{x:0,y:0}}getShadowStartPoint(){return this.corner==="top"?this.topIntersectPoint:this.sideIntersectPoint!==null?this.sideIntersectPoint:this.topIntersectPoint}getShadowAngle(){const Xe=Oe.GetAngleBetweenTwoLine(this.getSegmentToShadowLine(),[{x:0,y:0},{x:this.pageWidth,y:0}]);return this.direction===0?Xe:Math.PI-Xe}calcAngleAndPosition(Xe){let is=Xe;if(this.updateAngleAndGeometry(is),is=this.corner==="top"?this.checkPositionAtCenterLine(is,{x:0,y:0},{x:0,y:this.pageHeight}):this.checkPositionAtCenterLine(is,{x:0,y:this.pageHeight},{x:0,y:0}),Math.abs(is.x-this.pageWidth)<1&&Math.abs(is.y)<1)throw new Error("Point is too small");return is}updateAngleAndGeometry(Xe){this.angle=this.calculateAngle(Xe),this.rect=this.getPageRect(Xe)}calculateAngle(Xe){const is=this.pageWidth-Xe.x+1,os=this.corner==="bottom"?this.pageHeight-Xe.y:Xe.y;let hs=2*Math.acos(is/Math.sqrt(os*os+is*is));os<0&&(hs=-hs);const fs=Math.PI-hs;if(!isFinite(hs)||fs>=0&&fs<.003)throw new Error("The G point is too small");return this.corner==="bottom"&&(hs=-hs),hs}getPageRect(Xe){return this.corner==="top"?this.getRectFromBasePoint([{x:0,y:0},{x:this.pageWidth,y:0},{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}],Xe):this.getRectFromBasePoint([{x:0,y:-this.pageHeight},{x:this.pageWidth,y:-this.pageHeight},{x:0,y:0},{x:this.pageWidth,y:0}],Xe)}getRectFromBasePoint(Xe,is){return{topLeft:this.getRotatedPoint(Xe[0],is),topRight:this.getRotatedPoint(Xe[1],is),bottomLeft:this.getRotatedPoint(Xe[2],is),bottomRight:this.getRotatedPoint(Xe[3],is)}}getRotatedPoint(Xe,is){return{x:Xe.x*Math.cos(this.angle)+Xe.y*Math.sin(this.angle)+is.x,y:Xe.y*Math.cos(this.angle)-Xe.x*Math.sin(this.angle)+is.y}}calculateIntersectPoint(Xe){const is={left:-1,top:-1,width:this.pageWidth+2,height:this.pageHeight+2};this.corner==="top"?(this.topIntersectPoint=Oe.GetIntersectBetweenTwoSegment(is,[Xe,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=Oe.GetIntersectBetweenTwoSegment(is,[Xe,this.rect.bottomLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=Oe.GetIntersectBetweenTwoSegment(is,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}])):(this.topIntersectPoint=Oe.GetIntersectBetweenTwoSegment(is,[this.rect.topLeft,this.rect.topRight],[{x:0,y:0},{x:this.pageWidth,y:0}]),this.sideIntersectPoint=Oe.GetIntersectBetweenTwoSegment(is,[Xe,this.rect.topLeft],[{x:this.pageWidth,y:0},{x:this.pageWidth,y:this.pageHeight}]),this.bottomIntersectPoint=Oe.GetIntersectBetweenTwoSegment(is,[this.rect.bottomLeft,this.rect.bottomRight],[{x:0,y:this.pageHeight},{x:this.pageWidth,y:this.pageHeight}]))}checkPositionAtCenterLine(Xe,is,os){let hs=Xe;const fs=Oe.LimitPointToCircle(is,this.pageWidth,hs);hs!==fs&&(hs=fs,this.updateAngleAndGeometry(hs));const xs=Math.sqrt(Math.pow(this.pageWidth,2)+Math.pow(this.pageHeight,2));let Ss=this.rect.bottomRight,ds=this.rect.topLeft;if(this.corner==="bottom"&&(Ss=this.rect.topRight,ds=this.rect.bottomLeft),Ss.x<=0){const gs=Oe.LimitPointToCircle(os,xs,ds);gs!==hs&&(hs=gs,this.updateAngleAndGeometry(hs))}return hs}getSegmentToShadowLine(){const Xe=this.getShadowStartPoint();return[Xe,Xe!==this.sideIntersectPoint&&this.sideIntersectPoint!==null?this.sideIntersectPoint:this.bottomIntersectPoint]}}class qe{constructor(Xe,is){this.flippingPage=null,this.bottomPage=null,this.calc=null,this.state="read",this.render=Xe,this.app=is}fold(Xe){this.setState("user_fold"),this.calc===null&&this.start(Xe),this.do(this.render.convertToPage(Xe))}flip(Xe){if(this.app.getSettings().disableFlipByClick&&!this.isPointOnCorners(Xe)||(this.calc!==null&&this.render.finishAnimation(),!this.start(Xe)))return;const is=this.getBoundsRect();this.setState("flipping");const os=is.height/10,hs=this.calc.getCorner()==="bottom"?is.height-os:os,fs=this.calc.getCorner()==="bottom"?is.height:0;this.calc.calc({x:is.pageWidth-os,y:hs}),this.animateFlippingTo({x:is.pageWidth-os,y:hs},{x:-is.pageWidth,y:fs},!0)}start(Xe){this.reset();const is=this.render.convertToBook(Xe),os=this.getBoundsRect(),hs=this.getDirectionByPoint(is),fs=is.y>=os.height/2?"bottom":"top";if(!this.checkDirection(hs))return!1;try{if(this.flippingPage=this.app.getPageCollection().getFlippingPage(hs),this.bottomPage=this.app.getPageCollection().getBottomPage(hs),this.render.getOrientation()==="landscape")if(hs===1){const xs=this.app.getPageCollection().nextBy(this.flippingPage);xs!==null&&this.flippingPage.getDensity()!==xs.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),xs.setDrawingDensity("hard"))}else{const xs=this.app.getPageCollection().prevBy(this.flippingPage);xs!==null&&this.flippingPage.getDensity()!==xs.getDensity()&&(this.flippingPage.setDrawingDensity("hard"),xs.setDrawingDensity("hard"))}return this.render.setDirection(hs),this.calc=new Ve(hs,fs,os.pageWidth.toString(10),os.height.toString(10)),!0}catch{return!1}}do(Xe){if(this.calc!==null&&this.calc.calc(Xe)){const is=this.calc.getFlippingProgress();this.bottomPage.setArea(this.calc.getBottomClipArea()),this.bottomPage.setPosition(this.calc.getBottomPagePosition()),this.bottomPage.setAngle(0),this.bottomPage.setHardAngle(0),this.flippingPage.setArea(this.calc.getFlippingClipArea()),this.flippingPage.setPosition(this.calc.getActiveCorner()),this.flippingPage.setAngle(this.calc.getAngle()),this.calc.getDirection()===0?this.flippingPage.setHardAngle(90*(200-2*is)/100):this.flippingPage.setHardAngle(-90*(200-2*is)/100),this.render.setPageRect(this.calc.getRect()),this.render.setBottomPage(this.bottomPage),this.render.setFlippingPage(this.flippingPage),this.render.setShadowData(this.calc.getShadowStartPoint(),this.calc.getShadowAngle(),is,this.calc.getDirection())}}flipToPage(Xe,is){const os=this.app.getPageCollection().getCurrentSpreadIndex(),hs=this.app.getPageCollection().getSpreadIndexByPage(Xe);try{hs>os&&(this.app.getPageCollection().setCurrentSpreadIndex(hs-1),this.flipNext(is)),hs<os&&(this.app.getPageCollection().setCurrentSpreadIndex(hs+1),this.flipPrev(is))}catch{}}flipNext(Xe){this.flip({x:this.render.getRect().left+2*this.render.getRect().pageWidth-10,y:Xe==="top"?1:this.render.getRect().height-2})}flipPrev(Xe){this.flip({x:10,y:Xe==="top"?1:this.render.getRect().height-2})}stopMove(){if(this.calc===null)return;const Xe=this.calc.getPosition(),is=this.getBoundsRect(),os=this.calc.getCorner()==="bottom"?is.height:0;Xe.x<=0?this.animateFlippingTo(Xe,{x:-is.pageWidth,y:os},!0):this.animateFlippingTo(Xe,{x:is.pageWidth,y:os},!1)}showCorner(Xe){if(!this.checkState("read","fold_corner"))return;const is=this.getBoundsRect(),os=is.pageWidth;if(this.isPointOnCorners(Xe))if(this.calc===null){if(!this.start(Xe))return;this.setState("fold_corner"),this.calc.calc({x:os-1,y:1});const hs=50,fs=this.calc.getCorner()==="bottom"?is.height-1:1,xs=this.calc.getCorner()==="bottom"?is.height-hs:hs;this.animateFlippingTo({x:os-1,y:fs},{x:os-hs,y:xs},!1,!1)}else this.do(this.render.convertToPage(Xe));else this.setState("read"),this.render.finishAnimation(),this.stopMove()}animateFlippingTo(Xe,is,os,hs=!0){const fs=Oe.GetCordsFromTwoPoint(Xe,is),xs=[];for(const ds of fs)xs.push(()=>this.do(ds));const Ss=this.getAnimationDuration(fs.length);this.render.startAnimation(xs,Ss,()=>{this.calc&&(os&&(this.calc.getDirection()===1?this.app.turnToPrevPage():this.app.turnToNextPage()),hs&&(this.render.setBottomPage(null),this.render.setFlippingPage(null),this.render.clearShadow(),this.setState("read"),this.reset()))})}getCalculation(){return this.calc}getState(){return this.state}setState(Xe){this.state!==Xe&&(this.app.updateState(Xe),this.state=Xe)}getDirectionByPoint(Xe){const is=this.getBoundsRect();if(this.render.getOrientation()==="portrait"){if(Xe.x-is.pageWidth<=is.width/5)return 1}else if(Xe.x<is.width/2)return 1;return 0}getAnimationDuration(Xe){const is=this.app.getSettings().flippingTime;return Xe>=1e3?is:Xe/1e3*is}checkDirection(Xe){return Xe===0?this.app.getCurrentPageIndex()<this.app.getPageCount()-1:this.app.getCurrentPageIndex()>=1}reset(){this.calc=null,this.flippingPage=null,this.bottomPage=null}getBoundsRect(){return this.render.getRect()}checkState(...Xe){for(const is of Xe)if(this.state===is)return!0;return!1}isPointOnCorners(Xe){const is=this.getBoundsRect(),os=is.pageWidth,hs=Math.sqrt(Math.pow(os,2)+Math.pow(is.height,2))/5,fs=this.render.convertToBook(Xe);return fs.x>0&&fs.y>0&&fs.x<is.width&&fs.y<is.height&&(fs.x<hs||fs.x>is.width-hs)&&(fs.y<hs||fs.y>is.height-hs)}}class We{constructor(Xe,is){this.leftPage=null,this.rightPage=null,this.flippingPage=null,this.bottomPage=null,this.direction=null,this.orientation=null,this.shadow=null,this.animation=null,this.pageRect=null,this.boundsRect=null,this.timer=0,this.safari=!1,this.setting=is,this.app=Xe;const os=new RegExp("Version\\/[\\d\\.]+.*Safari/");this.safari=os.exec(window.navigator.userAgent)!==null}render(Xe){if(this.animation!==null){const is=Math.round((Xe-this.animation.startedAt)/this.animation.durationFrame);is<this.animation.frames.length?this.animation.frames[is]():(this.animation.onAnimateEnd(),this.animation=null)}this.timer=Xe,this.drawFrame()}start(){this.update();const Xe=is=>{this.render(is),requestAnimationFrame(Xe)};requestAnimationFrame(Xe)}startAnimation(Xe,is,os){this.finishAnimation(),this.animation={frames:Xe,duration:is,durationFrame:is/Xe.length,onAnimateEnd:os,startedAt:this.timer}}finishAnimation(){this.animation!==null&&(this.animation.frames[this.animation.frames.length-1](),this.animation.onAnimateEnd!==null&&this.animation.onAnimateEnd()),this.animation=null}update(){this.boundsRect=null;const Xe=this.calculateBoundsRect();this.orientation!==Xe&&(this.orientation=Xe,this.app.updateOrientation(Xe))}calculateBoundsRect(){let Xe="landscape";const is=this.getBlockWidth(),os=is/2,hs=this.getBlockHeight()/2,fs=this.setting.width/this.setting.height;let xs=this.setting.width,Ss=this.setting.height,ds=os-xs;return this.setting.size==="stretch"?(is<2*this.setting.minWidth&&this.app.getSettings().usePortrait&&(Xe="portrait"),xs=Xe==="portrait"?this.getBlockWidth():this.getBlockWidth()/2,xs>this.setting.maxWidth&&(xs=this.setting.maxWidth),Ss=xs/fs,Ss>this.getBlockHeight()&&(Ss=this.getBlockHeight(),xs=Ss*fs),ds=Xe==="portrait"?os-xs/2-xs:os-xs):is<2*xs&&this.app.getSettings().usePortrait&&(Xe="portrait",ds=os-xs/2-xs),this.boundsRect={left:ds,top:hs-Ss/2,width:2*xs,height:Ss,pageWidth:xs},Xe}setShadowData(Xe,is,os,hs){if(!this.app.getSettings().drawShadow)return;const fs=100*this.getSettings().maxShadowOpacity;this.shadow={pos:Xe,angle:is,width:3*this.getRect().pageWidth/4*os/100,opacity:(100-os)*fs/100/100,direction:hs,progress:2*os}}clearShadow(){this.shadow=null}getBlockWidth(){return this.app.getUI().getDistElement().offsetWidth}getBlockHeight(){return this.app.getUI().getDistElement().offsetHeight}getDirection(){return this.direction}getRect(){return this.boundsRect===null&&this.calculateBoundsRect(),this.boundsRect}getSettings(){return this.app.getSettings()}getOrientation(){return this.orientation}setPageRect(Xe){this.pageRect=Xe}setDirection(Xe){this.direction=Xe}setRightPage(Xe){Xe!==null&&Xe.setOrientation(1),this.rightPage=Xe}setLeftPage(Xe){Xe!==null&&Xe.setOrientation(0),this.leftPage=Xe}setBottomPage(Xe){Xe!==null&&Xe.setOrientation(this.direction===1?0:1),this.bottomPage=Xe}setFlippingPage(Xe){Xe!==null&&Xe.setOrientation(this.direction===0&&this.orientation!=="portrait"?0:1),this.flippingPage=Xe}convertToBook(Xe){const is=this.getRect();return{x:Xe.x-is.left,y:Xe.y-is.top}}isSafari(){return this.safari}convertToPage(Xe,is){is||(is=this.direction);const os=this.getRect();return{x:is===0?Xe.x-os.left-os.width/2:os.width/2-Xe.x+os.left,y:Xe.y-os.top}}convertToGlobal(Xe,is){if(is||(is=this.direction),Xe==null)return null;const os=this.getRect();return{x:is===0?Xe.x+os.left+os.width/2:os.width/2-Xe.x+os.left,y:Xe.y+os.top}}convertRectToGlobal(Xe,is){return is||(is=this.direction),{topLeft:this.convertToGlobal(Xe.topLeft,is),topRight:this.convertToGlobal(Xe.topRight,is),bottomLeft:this.convertToGlobal(Xe.bottomLeft,is),bottomRight:this.convertToGlobal(Xe.bottomRight,is)}}}class Ge extends We{constructor(Xe,is,os){super(Xe,is),this.canvas=os,this.ctx=os.getContext("2d")}getContext(){return this.ctx}reload(){}drawFrame(){this.clear(),this.orientation!=="portrait"&&this.leftPage!=null&&this.leftPage.simpleDraw(0),this.rightPage!=null&&this.rightPage.simpleDraw(1),this.bottomPage!=null&&this.bottomPage.draw(),this.drawBookShadow(),this.flippingPage!=null&&this.flippingPage.draw(),this.shadow!=null&&(this.drawOuterShadow(),this.drawInnerShadow());const Xe=this.getRect();this.orientation==="portrait"&&(this.ctx.beginPath(),this.ctx.rect(Xe.left+Xe.pageWidth,Xe.top,Xe.width,Xe.height),this.ctx.clip())}drawBookShadow(){const Xe=this.getRect();this.ctx.save(),this.ctx.beginPath();const is=Xe.width/20;this.ctx.rect(Xe.left,Xe.top,Xe.width,Xe.height);const os={x:Xe.left+Xe.width/2-is/2,y:0};this.ctx.translate(os.x,os.y);const hs=this.ctx.createLinearGradient(0,0,is,0);hs.addColorStop(0,"rgba(0, 0, 0, 0)"),hs.addColorStop(.4,"rgba(0, 0, 0, 0.2)"),hs.addColorStop(.49,"rgba(0, 0, 0, 0.1)"),hs.addColorStop(.5,"rgba(0, 0, 0, 0.5)"),hs.addColorStop(.51,"rgba(0, 0, 0, 0.4)"),hs.addColorStop(1,"rgba(0, 0, 0, 0)"),this.ctx.clip(),this.ctx.fillStyle=hs,this.ctx.fillRect(0,0,is,2*Xe.height),this.ctx.restore()}drawOuterShadow(){const Xe=this.getRect();this.ctx.save(),this.ctx.beginPath(),this.ctx.rect(Xe.left,Xe.top,Xe.width,Xe.height);const is=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y});this.ctx.translate(is.x,is.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const os=this.ctx.createLinearGradient(0,0,this.shadow.width,0);this.shadow.direction===0?(this.ctx.translate(0,-100),os.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),os.addColorStop(1,"rgba(0, 0, 0, 0)")):(this.ctx.translate(-this.shadow.width,-100),os.addColorStop(0,"rgba(0, 0, 0, 0)"),os.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")")),this.ctx.clip(),this.ctx.fillStyle=os,this.ctx.fillRect(0,0,this.shadow.width,2*Xe.height),this.ctx.restore()}drawInnerShadow(){const Xe=this.getRect();this.ctx.save(),this.ctx.beginPath();const is=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),os=this.convertRectToGlobal(this.pageRect);this.ctx.moveTo(os.topLeft.x,os.topLeft.y),this.ctx.lineTo(os.topRight.x,os.topRight.y),this.ctx.lineTo(os.bottomRight.x,os.bottomRight.y),this.ctx.lineTo(os.bottomLeft.x,os.bottomLeft.y),this.ctx.translate(is.x,is.y),this.ctx.rotate(Math.PI+this.shadow.angle+Math.PI/2);const hs=3*this.shadow.width/4,fs=this.ctx.createLinearGradient(0,0,hs,0);this.shadow.direction===0?(this.ctx.translate(-hs,-100),fs.addColorStop(1,"rgba(0, 0, 0, "+this.shadow.opacity+")"),fs.addColorStop(.9,"rgba(0, 0, 0, 0.05)"),fs.addColorStop(.7,"rgba(0, 0, 0, "+this.shadow.opacity+")"),fs.addColorStop(0,"rgba(0, 0, 0, 0)")):(this.ctx.translate(0,-100),fs.addColorStop(0,"rgba(0, 0, 0, "+this.shadow.opacity+")"),fs.addColorStop(.1,"rgba(0, 0, 0, 0.05)"),fs.addColorStop(.3,"rgba(0, 0, 0, "+this.shadow.opacity+")"),fs.addColorStop(1,"rgba(0, 0, 0, 0)")),this.ctx.clip(),this.ctx.fillStyle=fs,this.ctx.fillRect(0,0,hs,2*Xe.height),this.ctx.restore()}clear(){this.ctx.fillStyle="white",this.ctx.fillRect(0,0,this.canvas.width,this.canvas.height)}}class Je{constructor(Xe,is,os){this.touchPoint=null,this.swipeTimeout=250,this.onResize=()=>{this.update()},this.onMouseDown=fs=>{if(this.checkTarget(fs.target)){const xs=this.getMousePos(fs.clientX,fs.clientY);this.app.startUserTouch(xs),fs.preventDefault()}},this.onTouchStart=fs=>{if(this.checkTarget(fs.target)&&fs.changedTouches.length>0){const xs=fs.changedTouches[0],Ss=this.getMousePos(xs.clientX,xs.clientY);this.touchPoint={point:Ss,time:Date.now()},setTimeout(()=>{this.touchPoint!==null&&this.app.startUserTouch(Ss)},this.swipeTimeout),this.app.getSettings().mobileScrollSupport||fs.preventDefault()}},this.onMouseUp=fs=>{const xs=this.getMousePos(fs.clientX,fs.clientY);this.app.userStop(xs)},this.onMouseMove=fs=>{const xs=this.getMousePos(fs.clientX,fs.clientY);this.app.userMove(xs,!1)},this.onTouchMove=fs=>{if(fs.changedTouches.length>0){const xs=fs.changedTouches[0],Ss=this.getMousePos(xs.clientX,xs.clientY);this.app.getSettings().mobileScrollSupport?(this.touchPoint!==null&&(Math.abs(this.touchPoint.point.x-Ss.x)>10||this.app.getState()!=="read")&&fs.cancelable&&this.app.userMove(Ss,!0),this.app.getState()!=="read"&&fs.preventDefault()):this.app.userMove(Ss,!0)}},this.onTouchEnd=fs=>{if(fs.changedTouches.length>0){const xs=fs.changedTouches[0],Ss=this.getMousePos(xs.clientX,xs.clientY);let ds=!1;if(this.touchPoint!==null){const gs=Ss.x-this.touchPoint.point.x,Ts=Math.abs(Ss.y-this.touchPoint.point.y);Math.abs(gs)>this.swipeDistance&&Ts<2*this.swipeDistance&&Date.now()-this.touchPoint.time<this.swipeTimeout&&(gs>0?this.app.flipPrev(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"):this.app.flipNext(this.touchPoint.point.y<this.app.getRender().getRect().height/2?"top":"bottom"),ds=!0),this.touchPoint=null}this.app.userStop(Ss,ds)}},this.parentElement=Xe,Xe.classList.add("stf__parent"),Xe.insertAdjacentHTML("afterbegin",'<div class="stf__wrapper"></div>'),this.wrapper=Xe.querySelector(".stf__wrapper"),this.app=is;const hs=this.app.getSettings().usePortrait?1:2;Xe.style.minWidth=os.minWidth*hs+"px",Xe.style.minHeight=os.minHeight+"px",os.size==="fixed"&&(Xe.style.minWidth=os.width*hs+"px",Xe.style.minHeight=os.height+"px"),os.autoSize&&(Xe.style.width="100%",Xe.style.maxWidth=2*os.maxWidth+"px"),Xe.style.display="block",window.addEventListener("resize",this.onResize,!1),this.swipeDistance=os.swipeDistance}destroy(){this.app.getSettings().useMouseEvents&&this.removeHandlers(),this.distElement.remove(),this.wrapper.remove()}getDistElement(){return this.distElement}getWrapper(){return this.wrapper}setOrientationStyle(Xe){this.wrapper.classList.remove("--portrait","--landscape"),Xe==="portrait"?(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/this.app.getSettings().width*100+"%"),this.wrapper.classList.add("--portrait")):(this.app.getSettings().autoSize&&(this.wrapper.style.paddingBottom=this.app.getSettings().height/(2*this.app.getSettings().width)*100+"%"),this.wrapper.classList.add("--landscape")),this.update()}removeHandlers(){window.removeEventListener("resize",this.onResize),this.distElement.removeEventListener("mousedown",this.onMouseDown),this.distElement.removeEventListener("touchstart",this.onTouchStart),window.removeEventListener("mousemove",this.onMouseMove),window.removeEventListener("touchmove",this.onTouchMove),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("touchend",this.onTouchEnd)}setHandlers(){window.addEventListener("resize",this.onResize,!1),this.app.getSettings().useMouseEvents&&(this.distElement.addEventListener("mousedown",this.onMouseDown),this.distElement.addEventListener("touchstart",this.onTouchStart),window.addEventListener("mousemove",this.onMouseMove),window.addEventListener("touchmove",this.onTouchMove,{passive:!this.app.getSettings().mobileScrollSupport}),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("touchend",this.onTouchEnd))}getMousePos(Xe,is){const os=this.distElement.getBoundingClientRect();return{x:Xe-os.left,y:is-os.top}}checkTarget(Xe){return!this.app.getSettings().clickEventForward||!["a","button"].includes(Xe.tagName.toLowerCase())}}class Qe extends Je{constructor(Xe,is,os,hs){super(Xe,is,os),this.wrapper.insertAdjacentHTML("afterbegin",'<div class="stf__block"></div>'),this.distElement=Xe.querySelector(".stf__block"),this.items=hs;for(const fs of hs)this.distElement.appendChild(fs);this.setHandlers()}clear(){for(const Xe of this.items)this.parentElement.appendChild(Xe)}updateItems(Xe){this.removeHandlers(),this.distElement.innerHTML="";for(const is of Xe)this.distElement.appendChild(is);this.items=Xe,this.setHandlers()}update(){this.app.getRender().update()}}class ns extends Je{constructor(Xe,is,os){super(Xe,is,os),this.wrapper.innerHTML='<canvas class="stf__canvas"></canvas>',this.canvas=Xe.querySelectorAll("canvas")[0],this.distElement=this.canvas,this.resizeCanvas(),this.setHandlers()}resizeCanvas(){const Xe=getComputedStyle(this.canvas),is=parseInt(Xe.getPropertyValue("width"),10),os=parseInt(Xe.getPropertyValue("height"),10);this.canvas.width=is,this.canvas.height=os}getCanvas(){return this.canvas}update(){this.resizeCanvas(),this.app.getRender().update()}}class Ye extends We{constructor(Xe,is,os){super(Xe,is),this.outerShadow=null,this.innerShadow=null,this.hardShadow=null,this.hardInnerShadow=null,this.element=os,this.createShadows()}createShadows(){this.element.insertAdjacentHTML("beforeend",`<div class="stf__outerShadow"></div>
             <div class="stf__innerShadow"></div>
             <div class="stf__hardShadow"></div>
             <div class="stf__hardInnerShadow"></div>`),this.outerShadow=this.element.querySelector(".stf__outerShadow"),this.innerShadow=this.element.querySelector(".stf__innerShadow"),this.hardShadow=this.element.querySelector(".stf__hardShadow"),this.hardInnerShadow=this.element.querySelector(".stf__hardInnerShadow")}clearShadow(){super.clearShadow(),this.outerShadow.style.cssText="display: none",this.innerShadow.style.cssText="display: none",this.hardShadow.style.cssText="display: none",this.hardInnerShadow.style.cssText="display: none"}reload(){this.element.querySelector(".stf__outerShadow")||this.createShadows()}drawHardInnerShadow(){const Xe=this.getRect(),is=this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress;let os=(100-is)*(2.5*Xe.pageWidth)/100+20;os>Xe.pageWidth&&(os=Xe.pageWidth);let hs=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+5).toString(10)};
            width: ${os}px;
            height: ${Xe.height}px;
            background: linear-gradient(to right,
                rgba(0, 0, 0, ${this.shadow.opacity*is/100}) 5%,
                rgba(0, 0, 0, 0) 100%);
            left: ${Xe.left+Xe.width/2}px;
            transform-origin: 0 0;
        `;hs+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0);":"transform: translate3d(0, 0, 0) rotateY(180deg);",this.hardInnerShadow.style.cssText=hs}drawHardOuterShadow(){const Xe=this.getRect();let is=(100-(this.shadow.progress>100?200-this.shadow.progress:this.shadow.progress))*(2.5*Xe.pageWidth)/100+20;is>Xe.pageWidth&&(is=Xe.pageWidth);let os=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+4).toString(10)};
            width: ${is}px;
            height: ${Xe.height}px;
            background: linear-gradient(to left, rgba(0, 0, 0, ${this.shadow.opacity}) 5%, rgba(0, 0, 0, 0) 100%);
            left: ${Xe.left+Xe.width/2}px;
            transform-origin: 0 0;
        `;os+=this.getDirection()===0&&this.shadow.progress>100||this.getDirection()===1&&this.shadow.progress<=100?"transform: translate3d(0, 0, 0) rotateY(180deg);":"transform: translate3d(0, 0, 0);",this.hardShadow.style.cssText=os}drawInnerShadow(){const Xe=this.getRect(),is=3*this.shadow.width/4,os=this.getDirection()===0?is:0,hs=this.getDirection()===0?"to left":"to right",fs=this.convertToGlobal(this.shadow.pos),xs=this.shadow.angle+3*Math.PI/2,Ss=[this.pageRect.topLeft,this.pageRect.topRight,this.pageRect.bottomRight,this.pageRect.bottomLeft];let ds="polygon( ";for(const Ts of Ss){let Ds=this.getDirection()===1?{x:-Ts.x+this.shadow.pos.x,y:Ts.y-this.shadow.pos.y}:{x:Ts.x-this.shadow.pos.x,y:Ts.y-this.shadow.pos.y};Ds=Oe.GetRotatedPoint(Ds,{x:os,y:100},xs),ds+=Ds.x+"px "+Ds.y+"px, "}ds=ds.slice(0,-2),ds+=")";const gs=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${is}px;
            height: ${2*Xe.height}px;
            background: linear-gradient(${hs},
                rgba(0, 0, 0, ${this.shadow.opacity}) 5%,
                rgba(0, 0, 0, 0.05) 15%,
                rgba(0, 0, 0, ${this.shadow.opacity}) 35%,
                rgba(0, 0, 0, 0) 100%);
            transform-origin: ${os}px 100px;
            transform: translate3d(${fs.x-os}px, ${fs.y-100}px, 0) rotate(${xs}rad);
            clip-path: ${ds};
            -webkit-clip-path: ${ds};
        `;this.innerShadow.style.cssText=gs}drawOuterShadow(){const Xe=this.getRect(),is=this.convertToGlobal({x:this.shadow.pos.x,y:this.shadow.pos.y}),os=this.shadow.angle+3*Math.PI/2,hs=this.getDirection()===1?this.shadow.width:0,fs=this.getDirection()===0?"to right":"to left",xs=[{x:0,y:0},{x:Xe.pageWidth,y:0},{x:Xe.pageWidth,y:Xe.height},{x:0,y:Xe.height}];let Ss="polygon( ";for(const gs of xs)if(gs!==null){let Ts=this.getDirection()===1?{x:-gs.x+this.shadow.pos.x,y:gs.y-this.shadow.pos.y}:{x:gs.x-this.shadow.pos.x,y:gs.y-this.shadow.pos.y};Ts=Oe.GetRotatedPoint(Ts,{x:hs,y:100},os),Ss+=Ts.x+"px "+Ts.y+"px, "}Ss=Ss.slice(0,-2),Ss+=")";const ds=`
            display: block;
            z-index: ${(this.getSettings().startZIndex+10).toString(10)};
            width: ${this.shadow.width}px;
            height: ${2*Xe.height}px;
            background: linear-gradient(${fs}, rgba(0, 0, 0, ${this.shadow.opacity}), rgba(0, 0, 0, 0));
            transform-origin: ${hs}px 100px;
            transform: translate3d(${is.x-hs}px, ${is.y-100}px, 0) rotate(${os}rad);
            clip-path: ${Ss};
            -webkit-clip-path: ${Ss};
        `;this.outerShadow.style.cssText=ds}drawLeftPage(){this.orientation!=="portrait"&&this.leftPage!==null&&(this.direction===1&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.leftPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.leftPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.leftPage.draw(this.flippingPage.getDrawingDensity())):this.leftPage.simpleDraw(0))}drawRightPage(){this.rightPage!==null&&(this.direction===0&&this.flippingPage!==null&&this.flippingPage.getDrawingDensity()==="hard"?(this.rightPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.rightPage.setHardDrawingAngle(180+this.flippingPage.getHardAngle()),this.rightPage.draw(this.flippingPage.getDrawingDensity())):this.rightPage.simpleDraw(1))}drawBottomPage(){if(this.bottomPage===null)return;const Xe=this.flippingPage!=null?this.flippingPage.getDrawingDensity():null;this.orientation==="portrait"&&this.direction===1||(this.bottomPage.getElement().style.zIndex=(this.getSettings().startZIndex+3).toString(10),this.bottomPage.draw(Xe))}drawFrame(){this.clear(),this.drawLeftPage(),this.drawRightPage(),this.drawBottomPage(),this.flippingPage!=null&&(this.flippingPage.getElement().style.zIndex=(this.getSettings().startZIndex+5).toString(10),this.flippingPage.draw()),this.shadow!=null&&this.flippingPage!==null&&(this.flippingPage.getDrawingDensity()==="soft"?(this.drawOuterShadow(),this.drawInnerShadow()):(this.drawHardOuterShadow(),this.drawHardInnerShadow()))}clear(){for(const Xe of this.app.getPageCollection().getPages())Xe!==this.leftPage&&Xe!==this.rightPage&&Xe!==this.flippingPage&&Xe!==this.bottomPage&&(Xe.getElement().style.cssText="display: none"),Xe.getTemporaryCopy()!==this.flippingPage&&Xe.hideTemporaryCopy()}update(){super.update(),this.rightPage!==null&&this.rightPage.setOrientation(1),this.leftPage!==null&&this.leftPage.setOrientation(0)}}class rs{constructor(){this._default={startPage:0,size:"fixed",width:0,height:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,drawShadow:!0,flippingTime:1e3,usePortrait:!0,startZIndex:0,autoSize:!0,maxShadowOpacity:1,showCover:!1,mobileScrollSupport:!0,swipeDistance:30,clickEventForward:!0,useMouseEvents:!0,showPageCorners:!0,disableFlipByClick:!1}}getSettings(Xe){const is=this._default;if(Object.assign(is,Xe),is.size!=="stretch"&&is.size!=="fixed")throw new Error('Invalid size type. Available only "fixed" and "stretch" value');if(is.width<=0||is.height<=0)throw new Error("Invalid width or height");if(is.flippingTime<=0)throw new Error("Invalid flipping time");return is.size==="stretch"?(is.minWidth<=0&&(is.minWidth=100),is.maxWidth<is.minWidth&&(is.maxWidth=2e3),is.minHeight<=0&&(is.minHeight=100),is.maxHeight<is.minHeight&&(is.maxHeight=2e3)):(is.minWidth=is.width,is.maxWidth=is.width,is.minHeight=is.height,is.maxHeight=is.height),is}}(function(ts,Xe){Xe===void 0&&(Xe={});var is=Xe.insertAt;if(typeof document<"u"){var os=document.head||document.getElementsByTagName("head")[0],hs=document.createElement("style");hs.type="text/css",is==="top"&&os.firstChild?os.insertBefore(hs,os.firstChild):os.appendChild(hs),hs.styleSheet?hs.styleSheet.cssText=ts:hs.appendChild(document.createTextNode(ts))}})(`.stf__parent {
  position: relative;
  display: block;
  box-sizing: border-box;
  transform: translateZ(0);

  -ms-touch-action: pan-y;
  touch-action: pan-y;
}

.sft__wrapper {
  position: relative;
  width: 100%;
  box-sizing: border-box;
}

.stf__parent canvas {
  position: absolute;
  width: 100%;
  height: 100%;
  left: 0;
  top: 0;
}

.stf__block {
  position: absolute;
  width: 100%;
  height: 100%;
  box-sizing: border-box;
  perspective: 2000px;
}

.stf__item {
  display: none;
  position: absolute;
  transform-style: preserve-3d;
}

.stf__outerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__innerShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardShadow {
  position: absolute;
  left: 0;
  top: 0;
}

.stf__hardInnerShadow {
  position: absolute;
  left: 0;
  top: 0;
}`),Ee.PageFlip=class extends class{constructor(){this.events=new Map}on(ts,Xe){return this.events.has(ts)?this.events.get(ts).push(Xe):this.events.set(ts,[Xe]),this}off(ts){this.events.delete(ts)}trigger(ts,Xe,is=null){if(this.events.has(ts))for(const os of this.events.get(ts))os({data:is,object:Xe})}}{constructor(ts,Xe){super(),this.isUserTouch=!1,this.isUserMove=!1,this.setting=null,this.pages=null,this.setting=new rs().getSettings(Xe),this.block=ts}destroy(){this.ui.destroy(),this.block.remove()}update(){this.render.update(),this.pages.show()}loadFromImages(ts){this.ui=new ns(this.block,this,this.setting);const Xe=this.ui.getCanvas();this.render=new Ge(this,this.setting,Xe),this.flipController=new qe(this.render,this),this.pages=new Me(this,this.render,ts),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}loadFromHTML(ts){this.ui=new Qe(this.block,this,this.setting,ts),this.render=new Ye(this,this.setting,this.ui.getDistElement()),this.flipController=new qe(this.render,this),this.pages=new ze(this,this.render,this.ui.getDistElement(),ts),this.pages.load(),this.render.start(),this.pages.show(this.setting.startPage),setTimeout(()=>{this.ui.update(),this.trigger("init",this,{page:this.setting.startPage,mode:this.render.getOrientation()})},1)}updateFromImages(ts){const Xe=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new Me(this,this.render,ts),this.pages.load(),this.pages.show(Xe),this.trigger("update",this,{page:Xe,mode:this.render.getOrientation()})}updateFromHtml(ts){const Xe=this.pages.getCurrentPageIndex();this.pages.destroy(),this.pages=new ze(this,this.render,this.ui.getDistElement(),ts),this.pages.load(),this.ui.updateItems(ts),this.render.reload(),this.pages.show(Xe),this.trigger("update",this,{page:Xe,mode:this.render.getOrientation()})}clear(){this.pages.destroy(),this.ui.clear()}turnToPrevPage(){this.pages.showPrev()}turnToNextPage(){this.pages.showNext()}turnToPage(ts){this.pages.show(ts)}flipNext(ts="top"){this.flipController.flipNext(ts)}flipPrev(ts="top"){this.flipController.flipPrev(ts)}flip(ts,Xe="top"){this.flipController.flipToPage(ts,Xe)}updateState(ts){this.trigger("changeState",this,ts)}updatePageIndex(ts){this.trigger("flip",this,ts)}updateOrientation(ts){this.ui.setOrientationStyle(ts),this.update(),this.trigger("changeOrientation",this,ts)}getPageCount(){return this.pages.getPageCount()}getCurrentPageIndex(){return this.pages.getCurrentPageIndex()}getPage(ts){return this.pages.getPage(ts)}getRender(){return this.render}getFlipController(){return this.flipController}getOrientation(){return this.render.getOrientation()}getBoundsRect(){return this.render.getRect()}getSettings(){return this.setting}getUI(){return this.ui}getState(){return this.flipController.getState()}getPageCollection(){return this.pages}startUserTouch(ts){this.mousePosition=ts,this.isUserTouch=!0,this.isUserMove=!1}userMove(ts,Xe){this.isUserTouch||Xe||!this.setting.showPageCorners?this.isUserTouch&&Oe.GetDistanceBetweenTwoPoint(this.mousePosition,ts)>5&&(this.isUserMove=!0,this.flipController.fold(ts)):this.flipController.showCorner(ts)}userStop(ts,Xe=!1){this.isUserTouch&&(this.isUserTouch=!1,Xe||(this.isUserMove?this.flipController.stopMove():this.flipController.flip(ts)))}},Object.defineProperty(Ee,"__esModule",{value:!0})})}(pageFlip_browser$1,pageFlip_browser$1.exports)),pageFlip_browser$1.exports}var pageFlip_browserExports=requirePageFlip_browser();const HTMLFlipBookForward=React.forwardRef((Re,e)=>{const Ee=reactExports.useRef(null),Ce=reactExports.useRef([]),Te=reactExports.useRef(),[De,Me]=reactExports.useState([]);reactExports.useImperativeHandle(e,()=>({pageFlip:()=>Te.current}));const Oe=reactExports.useCallback(()=>{Te.current&&Te.current.clear()},[]),Be=reactExports.useCallback(()=>{const ze=Te.current;ze&&(ze.off("flip"),ze.off("changeOrientation"),ze.off("changeState"),ze.off("init"),ze.off("update"))},[]);return reactExports.useEffect(()=>{if(Ce.current=[],Re.children){const ze=React.Children.map(Re.children,Ve=>React.cloneElement(Ve,{ref:qe=>{qe&&Ce.current.push(qe)}}));(!Re.renderOnlyPageLengthChange||De.length!==ze.length)&&(ze.length<De.length&&Oe(),Me(ze))}},[Re.children]),reactExports.useEffect(()=>{const ze=()=>{const Ve=Te.current;Ve&&(Re.onFlip&&Ve.on("flip",qe=>Re.onFlip(qe)),Re.onChangeOrientation&&Ve.on("changeOrientation",qe=>Re.onChangeOrientation(qe)),Re.onChangeState&&Ve.on("changeState",qe=>Re.onChangeState(qe)),Re.onInit&&Ve.on("init",qe=>Re.onInit(qe)),Re.onUpdate&&Ve.on("update",qe=>Re.onUpdate(qe)))};De.length>0&&Ce.current.length>0&&(Be(),Ee.current&&!Te.current&&(Te.current=new pageFlip_browserExports.PageFlip(Ee.current,Re)),Te.current.getFlipController()?Te.current.updateFromHtml(Ce.current):Te.current.loadFromHTML(Ce.current),ze())},[De]),React.createElement("div",{ref:Ee,className:Re.className,style:Re.style},De)}),HTMLFlipBook=React.memo(HTMLFlipBookForward),isNodeJS=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],LINE_FACTOR=1.35,RenderingIntentFlag={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,IS_EDITING:128,OPLIST:256},AnnotationMode={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},AnnotationEditorPrefix="pdfjs_internal_editor_",AnnotationEditorType={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15,POPUP:16,SIGNATURE:101,COMMENT:102},AnnotationEditorParamsType={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_THICKNESS:32,HIGHLIGHT_FREE:33,HIGHLIGHT_SHOW_ALL:34,DRAW_STEP:41},PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},util_ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},VerbosityLevel={ERRORS:0,WARNINGS:1,INFOS:5},OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93,rawFillPath:94},DrawOPS={moveTo:0,lineTo:1,curveTo:2,closePath:3},PasswordResponses$1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let verbosity=VerbosityLevel.WARNINGS;function setVerbosityLevel(Re){Number.isInteger(Re)&&(verbosity=Re)}function getVerbosityLevel(){return verbosity}function info(Re){verbosity>=VerbosityLevel.INFOS&&console.info(`Info: ${Re}`)}function warn(Re){verbosity>=VerbosityLevel.WARNINGS&&console.warn(`Warning: ${Re}`)}function unreachable(Re){throw new Error(Re)}function assert(Re,e){Re||unreachable(e)}function _isValidProtocol(Re){switch(Re==null?void 0:Re.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function createValidAbsoluteUrl(Re,e=null,Ee=null){if(!Re)return null;if(Ee&&typeof Re=="string"){if(Ee.addDefaultProtocol&&Re.startsWith("www.")){const Te=Re.match(/\./g);(Te==null?void 0:Te.length)>=2&&(Re=`http://${Re}`)}if(Ee.tryConvertEncoding)try{Re=stringToUTF8String(Re)}catch{}}const Ce=e?URL.parse(Re,e):URL.parse(Re);return _isValidProtocol(Ce)?Ce:null}function updateUrlHash(Re,e,Ee=!1){const Ce=URL.parse(Re);return Ce?(Ce.hash=e,Ce.href):Ee&&createValidAbsoluteUrl(Re,"http://example.com")?Re.split("#",1)[0]+`${e?`#${e}`:""}`:""}function shadow(Re,e,Ee,Ce=!1){return Object.defineProperty(Re,e,{value:Ee,enumerable:!Ce,configurable:!0,writable:!1}),Ee}const BaseException=function Re(){function e(Ee,Ce){this.message=Ee,this.name=Ce}return e.prototype=new Error,e.constructor=e,e}();class PasswordException extends BaseException{constructor(e,Ee){super(e,"PasswordException"),this.code=Ee}}class UnknownErrorException extends BaseException{constructor(e,Ee){super(e,"UnknownErrorException"),this.details=Ee}}class InvalidPDFException extends BaseException{constructor(e){super(e,"InvalidPDFException")}}class ResponseException extends BaseException{constructor(e,Ee,Ce){super(e,"ResponseException"),this.status=Ee,this.missing=Ce}}class FormatError extends BaseException{constructor(e){super(e,"FormatError")}}class AbortException extends BaseException{constructor(e){super(e,"AbortException")}}function bytesToString(Re){(typeof Re!="object"||(Re==null?void 0:Re.length)===void 0)&&unreachable("Invalid argument for bytesToString");const e=Re.length,Ee=8192;if(e<Ee)return String.fromCharCode.apply(null,Re);const Ce=[];for(let Te=0;Te<e;Te+=Ee){const De=Math.min(Te+Ee,e),Me=Re.subarray(Te,De);Ce.push(String.fromCharCode.apply(null,Me))}return Ce.join("")}function stringToBytes(Re){typeof Re!="string"&&unreachable("Invalid argument for stringToBytes");const e=Re.length,Ee=new Uint8Array(e);for(let Ce=0;Ce<e;++Ce)Ee[Ce]=Re.charCodeAt(Ce)&255;return Ee}function string32(Re){return String.fromCharCode(Re>>24&255,Re>>16&255,Re>>8&255,Re&255)}function isLittleEndian(){const Re=new Uint8Array(4);return Re[0]=1,new Uint32Array(Re.buffer,0,1)[0]===1}function isEvalSupported(){try{return new Function(""),!0}catch{return!1}}class util_FeatureTest{static get isLittleEndian(){return shadow(this,"isLittleEndian",isLittleEndian())}static get isEvalSupported(){return shadow(this,"isEvalSupported",isEvalSupported())}static get isOffscreenCanvasSupported(){return shadow(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get isImageDecoderSupported(){return shadow(this,"isImageDecoderSupported",typeof ImageDecoder<"u")}static get platform(){const{platform:e,userAgent:Ee}=navigator;return shadow(this,"platform",{isAndroid:Ee.includes("Android"),isLinux:e.includes("Linux"),isMac:e.includes("Mac"),isWindows:e.includes("Win"),isFirefox:Ee.includes("Firefox")})}static get isCSSRoundSupported(){var e,Ee;return shadow(this,"isCSSRoundSupported",(Ee=(e=globalThis.CSS)==null?void 0:e.supports)==null?void 0:Ee.call(e,"width: round(1.5px, 1px)"))}}const hexNumbers=Array.from(Array(256).keys(),Re=>Re.toString(16).padStart(2,"0"));var zp,wb,Tj;class Util{static makeHexColor(e,Ee,Ce){return`#${hexNumbers[e]}${hexNumbers[Ee]}${hexNumbers[Ce]}`}static domMatrixToTransform(e){return[e.a,e.b,e.c,e.d,e.e,e.f]}static scaleMinMax(e,Ee){let Ce;e[0]?(e[0]<0&&(Ce=Ee[0],Ee[0]=Ee[2],Ee[2]=Ce),Ee[0]*=e[0],Ee[2]*=e[0],e[3]<0&&(Ce=Ee[1],Ee[1]=Ee[3],Ee[3]=Ce),Ee[1]*=e[3],Ee[3]*=e[3]):(Ce=Ee[0],Ee[0]=Ee[1],Ee[1]=Ce,Ce=Ee[2],Ee[2]=Ee[3],Ee[3]=Ce,e[1]<0&&(Ce=Ee[1],Ee[1]=Ee[3],Ee[3]=Ce),Ee[1]*=e[1],Ee[3]*=e[1],e[2]<0&&(Ce=Ee[0],Ee[0]=Ee[2],Ee[2]=Ce),Ee[0]*=e[2],Ee[2]*=e[2]),Ee[0]+=e[4],Ee[1]+=e[5],Ee[2]+=e[4],Ee[3]+=e[5]}static transform(e,Ee){return[e[0]*Ee[0]+e[2]*Ee[1],e[1]*Ee[0]+e[3]*Ee[1],e[0]*Ee[2]+e[2]*Ee[3],e[1]*Ee[2]+e[3]*Ee[3],e[0]*Ee[4]+e[2]*Ee[5]+e[4],e[1]*Ee[4]+e[3]*Ee[5]+e[5]]}static multiplyByDOMMatrix(e,Ee){return[e[0]*Ee.a+e[2]*Ee.b,e[1]*Ee.a+e[3]*Ee.b,e[0]*Ee.c+e[2]*Ee.d,e[1]*Ee.c+e[3]*Ee.d,e[0]*Ee.e+e[2]*Ee.f+e[4],e[1]*Ee.e+e[3]*Ee.f+e[5]]}static applyTransform(e,Ee,Ce=0){const Te=e[Ce],De=e[Ce+1];e[Ce]=Te*Ee[0]+De*Ee[2]+Ee[4],e[Ce+1]=Te*Ee[1]+De*Ee[3]+Ee[5]}static applyTransformToBezier(e,Ee,Ce=0){const Te=Ee[0],De=Ee[1],Me=Ee[2],Oe=Ee[3],Be=Ee[4],ze=Ee[5];for(let Ve=0;Ve<6;Ve+=2){const qe=e[Ce+Ve],We=e[Ce+Ve+1];e[Ce+Ve]=qe*Te+We*Me+Be,e[Ce+Ve+1]=qe*De+We*Oe+ze}}static applyInverseTransform(e,Ee){const Ce=e[0],Te=e[1],De=Ee[0]*Ee[3]-Ee[1]*Ee[2];e[0]=(Ce*Ee[3]-Te*Ee[2]+Ee[2]*Ee[5]-Ee[4]*Ee[3])/De,e[1]=(-Ce*Ee[1]+Te*Ee[0]+Ee[4]*Ee[1]-Ee[5]*Ee[0])/De}static axialAlignedBoundingBox(e,Ee,Ce){const Te=Ee[0],De=Ee[1],Me=Ee[2],Oe=Ee[3],Be=Ee[4],ze=Ee[5],Ve=e[0],qe=e[1],We=e[2],Ge=e[3];let Je=Te*Ve+Be,Qe=Je,ns=Te*We+Be,Ye=ns,rs=Oe*qe+ze,ts=rs,Xe=Oe*Ge+ze,is=Xe;if(De!==0||Me!==0){const os=De*Ve,hs=De*We,fs=Me*qe,xs=Me*Ge;Je+=fs,Ye+=fs,ns+=xs,Qe+=xs,rs+=os,is+=os,Xe+=hs,ts+=hs}Ce[0]=Math.min(Ce[0],Je,ns,Qe,Ye),Ce[1]=Math.min(Ce[1],rs,Xe,ts,is),Ce[2]=Math.max(Ce[2],Je,ns,Qe,Ye),Ce[3]=Math.max(Ce[3],rs,Xe,ts,is)}static inverseTransform(e){const Ee=e[0]*e[3]-e[1]*e[2];return[e[3]/Ee,-e[1]/Ee,-e[2]/Ee,e[0]/Ee,(e[2]*e[5]-e[4]*e[3])/Ee,(e[4]*e[1]-e[5]*e[0])/Ee]}static singularValueDecompose2dScale(e,Ee){const Ce=e[0],Te=e[1],De=e[2],Me=e[3],Oe=Ce**2+Te**2,Be=Ce*De+Te*Me,ze=De**2+Me**2,Ve=(Oe+ze)/2,qe=Math.sqrt(Ve**2-(Oe*ze-Be**2));Ee[0]=Math.sqrt(Ve+qe||1),Ee[1]=Math.sqrt(Ve-qe||1)}static normalizeRect(e){const Ee=e.slice(0);return e[0]>e[2]&&(Ee[0]=e[2],Ee[2]=e[0]),e[1]>e[3]&&(Ee[1]=e[3],Ee[3]=e[1]),Ee}static intersect(e,Ee){const Ce=Math.max(Math.min(e[0],e[2]),Math.min(Ee[0],Ee[2])),Te=Math.min(Math.max(e[0],e[2]),Math.max(Ee[0],Ee[2]));if(Ce>Te)return null;const De=Math.max(Math.min(e[1],e[3]),Math.min(Ee[1],Ee[3])),Me=Math.min(Math.max(e[1],e[3]),Math.max(Ee[1],Ee[3]));return De>Me?null:[Ce,De,Te,Me]}static pointBoundingBox(e,Ee,Ce){Ce[0]=Math.min(Ce[0],e),Ce[1]=Math.min(Ce[1],Ee),Ce[2]=Math.max(Ce[2],e),Ce[3]=Math.max(Ce[3],Ee)}static rectBoundingBox(e,Ee,Ce,Te,De){De[0]=Math.min(De[0],e,Ce),De[1]=Math.min(De[1],Ee,Te),De[2]=Math.max(De[2],e,Ce),De[3]=Math.max(De[3],Ee,Te)}static bezierBoundingBox(e,Ee,Ce,Te,De,Me,Oe,Be,ze){ze[0]=Math.min(ze[0],e,Oe),ze[1]=Math.min(ze[1],Ee,Be),ze[2]=Math.max(ze[2],e,Oe),ze[3]=Math.max(ze[3],Ee,Be),Hs(this,zp,Tj).call(this,e,Ce,De,Oe,Ee,Te,Me,Be,3*(-e+3*(Ce-De)+Oe),6*(e-2*Ce+De),3*(Ce-e),ze),Hs(this,zp,Tj).call(this,e,Ce,De,Oe,Ee,Te,Me,Be,3*(-Ee+3*(Te-Me)+Be),6*(Ee-2*Te+Me),3*(Te-Ee),ze)}}zp=new WeakSet,wb=function(e,Ee,Ce,Te,De,Me,Oe,Be,ze,Ve){if(ze<=0||ze>=1)return;const qe=1-ze,We=ze*ze,Ge=We*ze,Je=qe*(qe*(qe*e+3*ze*Ee)+3*We*Ce)+Ge*Te,Qe=qe*(qe*(qe*De+3*ze*Me)+3*We*Oe)+Ge*Be;Ve[0]=Math.min(Ve[0],Je),Ve[1]=Math.min(Ve[1],Qe),Ve[2]=Math.max(Ve[2],Je),Ve[3]=Math.max(Ve[3],Qe)},Tj=function(e,Ee,Ce,Te,De,Me,Oe,Be,ze,Ve,qe,We){if(Math.abs(ze)<1e-12){Math.abs(Ve)>=1e-12&&Hs(this,zp,wb).call(this,e,Ee,Ce,Te,De,Me,Oe,Be,-qe/Ve,We);return}const Ge=Ve**2-4*qe*ze;if(Ge<0)return;const Je=Math.sqrt(Ge),Qe=2*ze;Hs(this,zp,wb).call(this,e,Ee,Ce,Te,De,Me,Oe,Be,(-Ve+Je)/Qe,We),Hs(this,zp,wb).call(this,e,Ee,Ce,Te,De,Me,Oe,Be,(-Ve-Je)/Qe,We)},Bs(Util,zp);function stringToUTF8String(Re){return decodeURIComponent(escape(Re))}let NormalizeRegex=null,NormalizationMap=null;function normalizeUnicode(Re){return NormalizeRegex||(NormalizeRegex=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,NormalizationMap=new Map([["ï¬…","Å¿t"]])),Re.replaceAll(NormalizeRegex,(e,Ee,Ce)=>Ee?Ee.normalize("NFKC"):NormalizationMap.get(Ce))}function getUuid(){if(typeof crypto.randomUUID=="function")return crypto.randomUUID();const Re=new Uint8Array(32);return crypto.getRandomValues(Re),bytesToString(Re)}const AnnotationPrefix="pdfjs_internal_id_";function _isValidExplicitDest(Re,e,Ee){if(!Array.isArray(Ee)||Ee.length<2)return!1;const[Ce,Te,...De]=Ee;if(!Re(Ce)&&!Number.isInteger(Ce)||!e(Te))return!1;const Me=De.length;let Oe=!0;switch(Te.name){case"XYZ":if(Me<2||Me>3)return!1;break;case"Fit":case"FitB":return Me===0;case"FitH":case"FitBH":case"FitV":case"FitBV":if(Me>1)return!1;break;case"FitR":if(Me!==4)return!1;Oe=!1;break;default:return!1}for(const Be of De)if(!(typeof Be=="number"||Oe&&Be===null))return!1;return!0}function MathClamp(Re,e,Ee){return Math.min(Math.max(Re,e),Ee)}function toBase64Util(Re){return Uint8Array.prototype.toBase64?Re.toBase64():btoa(bytesToString(Re))}function fromBase64Util(Re){return Uint8Array.fromBase64?Uint8Array.fromBase64(Re):stringToBytes(atob(Re))}typeof Promise.try!="function"&&(Promise.try=function(Re,...e){return new Promise(Ee=>{Ee(Re(...e))})});typeof Math.sumPrecise!="function"&&(Math.sumPrecise=function(Re){return Re.reduce((e,Ee)=>e+Ee,0)});class XfaText{static textContent(e){const Ee=[],Ce={items:Ee,styles:Object.create(null)};function Te(De){var Be;if(!De)return;let Me=null;const Oe=De.name;if(Oe==="#text")Me=De.value;else if(XfaText.shouldBuildText(Oe))(Be=De==null?void 0:De.attributes)!=null&&Be.textContent?Me=De.attributes.textContent:De.value&&(Me=De.value);else return;if(Me!==null&&Ee.push({str:Me}),!!De.children)for(const ze of De.children)Te(ze)}return Te(e),Ce}static shouldBuildText(e){return!(e==="textarea"||e==="input"||e==="option"||e==="select")}}class XfaLayer{static setupStorage(e,Ee,Ce,Te,De){const Me=Te.getValue(Ee,{value:null});switch(Ce.name){case"textarea":if(Me.value!==null&&(e.textContent=Me.value),De==="print")break;e.addEventListener("input",Oe=>{Te.setValue(Ee,{value:Oe.target.value})});break;case"input":if(Ce.attributes.type==="radio"||Ce.attributes.type==="checkbox"){if(Me.value===Ce.attributes.xfaOn?e.setAttribute("checked",!0):Me.value===Ce.attributes.xfaOff&&e.removeAttribute("checked"),De==="print")break;e.addEventListener("change",Oe=>{Te.setValue(Ee,{value:Oe.target.checked?Oe.target.getAttribute("xfaOn"):Oe.target.getAttribute("xfaOff")})})}else{if(Me.value!==null&&e.setAttribute("value",Me.value),De==="print")break;e.addEventListener("input",Oe=>{Te.setValue(Ee,{value:Oe.target.value})})}break;case"select":if(Me.value!==null){e.setAttribute("value",Me.value);for(const Oe of Ce.children)Oe.attributes.value===Me.value?Oe.attributes.selected=!0:Oe.attributes.hasOwnProperty("selected")&&delete Oe.attributes.selected}e.addEventListener("input",Oe=>{const Be=Oe.target.options,ze=Be.selectedIndex===-1?"":Be[Be.selectedIndex].value;Te.setValue(Ee,{value:ze})});break}}static setAttributes({html:e,element:Ee,storage:Ce=null,intent:Te,linkService:De}){const{attributes:Me}=Ee,Oe=e instanceof HTMLAnchorElement;Me.type==="radio"&&(Me.name=`${Me.name}-${Te}`);for(const[Be,ze]of Object.entries(Me))if(ze!=null)switch(Be){case"class":ze.length&&e.setAttribute(Be,ze.join(" "));break;case"dataId":break;case"id":e.setAttribute("data-element-id",ze);break;case"style":Object.assign(e.style,ze);break;case"textContent":e.textContent=ze;break;default:(!Oe||Be!=="href"&&Be!=="newWindow")&&e.setAttribute(Be,ze)}Oe&&De.addLinkAttributes(e,Me.href,Me.newWindow),Ce&&Me.dataId&&this.setupStorage(e,Me.dataId,Ee,Ce)}static render(e){var qe,We;const Ee=e.annotationStorage,Ce=e.linkService,Te=e.xfaHtml,De=e.intent||"display",Me=document.createElement(Te.name);Te.attributes&&this.setAttributes({html:Me,element:Te,intent:De,linkService:Ce});const Oe=De!=="richText",Be=e.div;if(Be.append(Me),e.viewport){const Ge=`matrix(${e.viewport.transform.join(",")})`;Be.style.transform=Ge}Oe&&Be.setAttribute("class","xfaLayer xfaFont");const ze=[];if(Te.children.length===0){if(Te.value){const Ge=document.createTextNode(Te.value);Me.append(Ge),Oe&&XfaText.shouldBuildText(Te.name)&&ze.push(Ge)}return{textDivs:ze}}const Ve=[[Te,-1,Me]];for(;Ve.length>0;){const[Ge,Je,Qe]=Ve.at(-1);if(Je+1===Ge.children.length){Ve.pop();continue}const ns=Ge.children[++Ve.at(-1)[1]];if(ns===null)continue;const{name:Ye}=ns;if(Ye==="#text"){const ts=document.createTextNode(ns.value);ze.push(ts),Qe.append(ts);continue}const rs=(qe=ns==null?void 0:ns.attributes)!=null&&qe.xmlns?document.createElementNS(ns.attributes.xmlns,Ye):document.createElement(Ye);if(Qe.append(rs),ns.attributes&&this.setAttributes({html:rs,element:ns,storage:Ee,intent:De,linkService:Ce}),((We=ns.children)==null?void 0:We.length)>0)Ve.push([ns,-1,rs]);else if(ns.value){const ts=document.createTextNode(ns.value);Oe&&XfaText.shouldBuildText(Ye)&&ze.push(ts),rs.append(ts)}}for(const Ge of Be.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))Ge.setAttribute("readOnly",!0);return{textDivs:ze}}static update(e){const Ee=`matrix(${e.viewport.transform.join(",")})`;e.div.style.transform=Ee,e.div.hidden=!1}}const SVG_NS="http://www.w3.org/2000/svg",Of=class Of{};qr(Of,"CSS",96),qr(Of,"PDF",72),qr(Of,"PDF_TO_CSS_UNITS",Of.CSS/Of.PDF);let PixelsPerInch=Of;async function fetchData(Re,e="text"){if(isValidFetchUrl(Re,document.baseURI)){const Ee=await fetch(Re);if(!Ee.ok)throw new Error(Ee.statusText);switch(e){case"arraybuffer":return Ee.arrayBuffer();case"blob":return Ee.blob();case"json":return Ee.json()}return Ee.text()}return new Promise((Ee,Ce)=>{const Te=new XMLHttpRequest;Te.open("GET",Re,!0),Te.responseType=e,Te.onreadystatechange=()=>{if(Te.readyState===XMLHttpRequest.DONE){if(Te.status===200||Te.status===0){switch(e){case"arraybuffer":case"blob":case"json":Ee(Te.response);return}Ee(Te.responseText);return}Ce(new Error(Te.statusText))}},Te.send(null)})}class PageViewport{constructor({viewBox:e,userUnit:Ee,scale:Ce,rotation:Te,offsetX:De=0,offsetY:Me=0,dontFlip:Oe=!1}){this.viewBox=e,this.userUnit=Ee,this.scale=Ce,this.rotation=Te,this.offsetX=De,this.offsetY=Me,Ce*=Ee;const Be=(e[2]+e[0])/2,ze=(e[3]+e[1])/2;let Ve,qe,We,Ge;switch(Te%=360,Te<0&&(Te+=360),Te){case 180:Ve=-1,qe=0,We=0,Ge=1;break;case 90:Ve=0,qe=1,We=1,Ge=0;break;case 270:Ve=0,qe=-1,We=-1,Ge=0;break;case 0:Ve=1,qe=0,We=0,Ge=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}Oe&&(We=-We,Ge=-Ge);let Je,Qe,ns,Ye;Ve===0?(Je=Math.abs(ze-e[1])*Ce+De,Qe=Math.abs(Be-e[0])*Ce+Me,ns=(e[3]-e[1])*Ce,Ye=(e[2]-e[0])*Ce):(Je=Math.abs(Be-e[0])*Ce+De,Qe=Math.abs(ze-e[1])*Ce+Me,ns=(e[2]-e[0])*Ce,Ye=(e[3]-e[1])*Ce),this.transform=[Ve*Ce,qe*Ce,We*Ce,Ge*Ce,Je-Ve*Ce*Be-We*Ce*ze,Qe-qe*Ce*Be-Ge*Ce*ze],this.width=ns,this.height=Ye}get rawDims(){const e=this.viewBox;return shadow(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone({scale:e=this.scale,rotation:Ee=this.rotation,offsetX:Ce=this.offsetX,offsetY:Te=this.offsetY,dontFlip:De=!1}={}){return new PageViewport({viewBox:this.viewBox.slice(),userUnit:this.userUnit,scale:e,rotation:Ee,offsetX:Ce,offsetY:Te,dontFlip:De})}convertToViewportPoint(e,Ee){const Ce=[e,Ee];return Util.applyTransform(Ce,this.transform),Ce}convertToViewportRectangle(e){const Ee=[e[0],e[1]];Util.applyTransform(Ee,this.transform);const Ce=[e[2],e[3]];return Util.applyTransform(Ce,this.transform),[Ee[0],Ee[1],Ce[0],Ce[1]]}convertToPdfPoint(e,Ee){const Ce=[e,Ee];return Util.applyInverseTransform(Ce,this.transform),Ce}}class RenderingCancelledException extends BaseException{constructor(e,Ee=0){super(e,"RenderingCancelledException"),this.extraDelay=Ee}}function isDataScheme(Re){const e=Re.length;let Ee=0;for(;Ee<e&&Re[Ee].trim()==="";)Ee++;return Re.substring(Ee,Ee+5).toLowerCase()==="data:"}function isPdfFile(Re){return typeof Re=="string"&&/\.pdf$/i.test(Re)}function getFilenameFromUrl(Re){return[Re]=Re.split(/[#?]/,1),Re.substring(Re.lastIndexOf("/")+1)}function getPdfFilenameFromUrl(Re,e="document.pdf"){if(typeof Re!="string")return e;if(isDataScheme(Re))return warn('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),e;const Ce=(Oe=>{try{return new URL(Oe)}catch{try{return new URL(decodeURIComponent(Oe))}catch{try{return new URL(Oe,"https://foo.bar")}catch{try{return new URL(decodeURIComponent(Oe),"https://foo.bar")}catch{return null}}}}})(Re);if(!Ce)return e;const Te=Oe=>{try{let Be=decodeURIComponent(Oe);return Be.includes("/")?(Be=Be.split("/").at(-1),Be.test(/^\.pdf$/i)?Be:Oe):Be}catch{return Oe}},De=/\.pdf$/i,Me=Ce.pathname.split("/").at(-1);if(De.test(Me))return Te(Me);if(Ce.searchParams.size>0){const Oe=Array.from(Ce.searchParams.values()).reverse();for(const ze of Oe)if(De.test(ze))return Te(ze);const Be=Array.from(Ce.searchParams.keys()).reverse();for(const ze of Be)if(De.test(ze))return Te(ze)}if(Ce.hash){const Be=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i.exec(Ce.hash);if(Be)return Te(Be[0])}return e}class StatTimer{constructor(){qr(this,"started",Object.create(null));qr(this,"times",[])}time(e){e in this.started&&warn(`Timer is already running for ${e}`),this.started[e]=Date.now()}timeEnd(e){e in this.started||warn(`Timer has not been started for ${e}`),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let Ee=0;for(const{name:Ce}of this.times)Ee=Math.max(Ce.length,Ee);for(const{name:Ce,start:Te,end:De}of this.times)e.push(`${Ce.padEnd(Ee)} ${De-Te}ms
`);return e.join("")}}function isValidFetchUrl(Re,e){const Ee=e?URL.parse(Re,e):URL.parse(Re);return(Ee==null?void 0:Ee.protocol)==="http:"||(Ee==null?void 0:Ee.protocol)==="https:"}function noContextMenu(Re){Re.preventDefault()}function stopEvent(Re){Re.preventDefault(),Re.stopPropagation()}function deprecated(Re){console.log("Deprecated API usage: "+Re)}var t1;class PDFDateString{static toDateObject(e){if(e instanceof Date)return e;if(!e||typeof e!="string")return null;Ke(this,t1)||Ls(this,t1,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const Ee=Ke(this,t1).exec(e);if(!Ee)return null;const Ce=parseInt(Ee[1],10);let Te=parseInt(Ee[2],10);Te=Te>=1&&Te<=12?Te-1:0;let De=parseInt(Ee[3],10);De=De>=1&&De<=31?De:1;let Me=parseInt(Ee[4],10);Me=Me>=0&&Me<=23?Me:0;let Oe=parseInt(Ee[5],10);Oe=Oe>=0&&Oe<=59?Oe:0;let Be=parseInt(Ee[6],10);Be=Be>=0&&Be<=59?Be:0;const ze=Ee[7]||"Z";let Ve=parseInt(Ee[8],10);Ve=Ve>=0&&Ve<=23?Ve:0;let qe=parseInt(Ee[9],10)||0;return qe=qe>=0&&qe<=59?qe:0,ze==="-"?(Me+=Ve,Oe+=qe):ze==="+"&&(Me-=Ve,Oe-=qe),new Date(Date.UTC(Ce,Te,De,Me,Oe,Be))}}t1=new WeakMap,Bs(PDFDateString,t1);function getXfaPageViewport(Re,{scale:e=1,rotation:Ee=0}){const{width:Ce,height:Te}=Re.attributes.style,De=[0,0,parseInt(Ce),parseInt(Te)];return new PageViewport({viewBox:De,userUnit:1,scale:e,rotation:Ee})}function getRGB(Re){if(Re.startsWith("#")){const e=parseInt(Re.slice(1),16);return[(e&16711680)>>16,(e&65280)>>8,e&255]}return Re.startsWith("rgb(")?Re.slice(4,-1).split(",").map(e=>parseInt(e)):Re.startsWith("rgba(")?Re.slice(5,-1).split(",").map(e=>parseInt(e)).slice(0,3):(warn(`Not a valid color format: "${Re}"`),[0,0,0])}function getColorValues(Re){const e=document.createElement("span");e.style.visibility="hidden",e.style.colorScheme="only light",document.body.append(e);for(const Ee of Re.keys()){e.style.color=Ee;const Ce=window.getComputedStyle(e).color;Re.set(Ee,getRGB(Ce))}e.remove()}function getCurrentTransform(Re){const{a:e,b:Ee,c:Ce,d:Te,e:De,f:Me}=Re.getTransform();return[e,Ee,Ce,Te,De,Me]}function getCurrentTransformInverse(Re){const{a:e,b:Ee,c:Ce,d:Te,e:De,f:Me}=Re.getTransform().invertSelf();return[e,Ee,Ce,Te,De,Me]}function setLayerDimensions(Re,e,Ee=!1,Ce=!0){if(e instanceof PageViewport){const{pageWidth:Te,pageHeight:De}=e.rawDims,{style:Me}=Re,Oe=util_FeatureTest.isCSSRoundSupported,Be=`var(--total-scale-factor) * ${Te}px`,ze=`var(--total-scale-factor) * ${De}px`,Ve=Oe?`round(down, ${Be}, var(--scale-round-x))`:`calc(${Be})`,qe=Oe?`round(down, ${ze}, var(--scale-round-y))`:`calc(${ze})`;!Ee||e.rotation%180===0?(Me.width=Ve,Me.height=qe):(Me.width=qe,Me.height=Ve)}Ce&&Re.setAttribute("data-main-rotation",e.rotation)}class OutputScale{constructor(){const{pixelRatio:e}=OutputScale;this.sx=e,this.sy=e}get scaled(){return this.sx!==1||this.sy!==1}get symmetric(){return this.sx===this.sy}limitCanvas(e,Ee,Ce,Te,De=-1){let Me=1/0,Oe=1/0,Be=1/0;Ce=OutputScale.capPixels(Ce,De),Ce>0&&(Me=Math.sqrt(Ce/(e*Ee))),Te!==-1&&(Oe=Te/e,Be=Te/Ee);const ze=Math.min(Me,Oe,Be);return this.sx>ze||this.sy>ze?(this.sx=ze,this.sy=ze,!0):!1}static get pixelRatio(){return globalThis.devicePixelRatio||1}static capPixels(e,Ee){if(Ee>=0){const Ce=Math.ceil(window.screen.availWidth*window.screen.availHeight*this.pixelRatio**2*(1+Ee/100));return e>0?Math.min(e,Ce):Ce}return e}}const SupportedImageMimeTypes=["image/apng","image/avif","image/bmp","image/gif","image/jpeg","image/png","image/svg+xml","image/webp","image/x-icon"];class ColorScheme{static get isDarkMode(){var e;return shadow(this,"isDarkMode",!!((e=window==null?void 0:window.matchMedia)!=null&&e.call(window,"(prefers-color-scheme: dark)").matches))}}class CSSConstants{static get commentForegroundColor(){const e=document.createElement("span");e.classList.add("comment","sidebar");const{style:Ee}=e;Ee.width=Ee.height="0",Ee.display="none",Ee.color="var(--comment-fg-color)",document.body.append(e);const{color:Ce}=window.getComputedStyle(e);return e.remove(),shadow(this,"commentForegroundColor",getRGB(Ce))}}function applyOpacity(Re,e,Ee,Ce){Ce=Math.min(Math.max(Ce??1,0),1);const Te=255*(1-Ce);return Re=Math.round(Re*Ce+Te),e=Math.round(e*Ce+Te),Ee=Math.round(Ee*Ce+Te),[Re,e,Ee]}function RGBToHSL(Re,e){const Ee=Re[0]/255,Ce=Re[1]/255,Te=Re[2]/255,De=Math.max(Ee,Ce,Te),Me=Math.min(Ee,Ce,Te),Oe=(De+Me)/2;if(De===Me)e[0]=e[1]=0;else{const Be=De-Me;switch(e[1]=Oe<.5?Be/(De+Me):Be/(2-De-Me),De){case Ee:e[0]=((Ce-Te)/Be+(Ce<Te?6:0))*60;break;case Ce:e[0]=((Te-Ee)/Be+2)*60;break;case Te:e[0]=((Ee-Ce)/Be+4)*60;break}}e[2]=Oe}function HSLToRGB(Re,e){const Ee=Re[0],Ce=Re[1],Te=Re[2],De=(1-Math.abs(2*Te-1))*Ce,Me=De*(1-Math.abs(Ee/60%2-1)),Oe=Te-De/2;switch(Math.floor(Ee/60)){case 0:e[0]=De+Oe,e[1]=Me+Oe,e[2]=Oe;break;case 1:e[0]=Me+Oe,e[1]=De+Oe,e[2]=Oe;break;case 2:e[0]=Oe,e[1]=De+Oe,e[2]=Me+Oe;break;case 3:e[0]=Oe,e[1]=Me+Oe,e[2]=De+Oe;break;case 4:e[0]=Me+Oe,e[1]=Oe,e[2]=De+Oe;break;case 5:case 6:e[0]=De+Oe,e[1]=Oe,e[2]=Me+Oe;break}}function computeLuminance(Re){return Re<=.03928?Re/12.92:((Re+.055)/1.055)**2.4}function contrastRatio(Re,e,Ee){HSLToRGB(Re,Ee),Ee.map(computeLuminance);const Ce=.2126*Ee[0]+.7152*Ee[1]+.0722*Ee[2];HSLToRGB(e,Ee),Ee.map(computeLuminance);const Te=.2126*Ee[0]+.7152*Ee[1]+.0722*Ee[2];return Ce>Te?(Ce+.05)/(Te+.05):(Te+.05)/(Ce+.05)}const contrastCache=new Map;function findContrastColor(Re,e){const Ee=Re[0]+Re[1]*256+Re[2]*65536+e[0]*16777216+e[1]*4294967296+e[2]*1099511627776;let Ce=contrastCache.get(Ee);if(Ce)return Ce;const Te=new Float32Array(9),De=Te.subarray(0,3),Me=Te.subarray(3,6);RGBToHSL(Re,Me);const Oe=Te.subarray(6,9);RGBToHSL(e,Oe);const Be=Oe[2]<.5,ze=Be?12:4.5;if(Me[2]=Be?Math.sqrt(Me[2]):1-Math.sqrt(1-Me[2]),contrastRatio(Me,Oe,De)<ze){let Ve,qe;Be?(Ve=Me[2],qe=1):(Ve=0,qe=Me[2]);const We=.005;for(;qe-Ve>We;){const Ge=Me[2]=(Ve+qe)/2;Be===contrastRatio(Me,Oe,De)<ze?Ve=Ge:qe=Ge}Me[2]=Be?qe:Ve}return HSLToRGB(Me,De),Ce=Util.makeHexColor(Math.round(De[0]*255),Math.round(De[1]*255),Math.round(De[2]*255)),contrastCache.set(Ee,Ce),Ce}function renderRichText({html:Re,dir:e,className:Ee},Ce){const Te=document.createDocumentFragment();if(typeof Re=="string"){const De=document.createElement("p");De.dir=e||"auto";const Me=Re.split(/(?:\r\n?|\n)/);for(let Oe=0,Be=Me.length;Oe<Be;++Oe){const ze=Me[Oe];De.append(document.createTextNode(ze)),Oe<Be-1&&De.append(document.createElement("br"))}Te.append(De)}else XfaLayer.render({xfaHtml:Re,div:Te,intent:"richText"});Te.firstChild.classList.add("richText",Ee),Ce.append(Te)}var fm,xm,Ju,Qu,s1,gm,Og,Ig,r1,s2,_R,pl,SR,NR,Ng,Fy;const ip=class ip{constructor(e){Bs(this,pl);Bs(this,fm,null);Bs(this,xm,null);Bs(this,Ju);Bs(this,Qu,null);Bs(this,s1,null);Bs(this,gm,null);Bs(this,Og,null);Bs(this,Ig,null);Ls(this,Ju,e),Ke(ip,r1)||Ls(ip,r1,Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button",signature:"pdfjs-editor-remove-signature-button"}))}render(){const e=Ls(this,fm,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const Ee=Ke(this,Ju)._uiManager._signal;Ee instanceof AbortSignal&&!Ee.aborted&&(e.addEventListener("contextmenu",noContextMenu,{signal:Ee}),e.addEventListener("pointerdown",Hs(ip,s2,_R),{signal:Ee}));const Ce=Ls(this,Qu,document.createElement("div"));Ce.className="buttons",e.append(Ce);const Te=Ke(this,Ju).toolbarPosition;if(Te){const{style:De}=e,Me=Ke(this,Ju)._uiManager.direction==="ltr"?1-Te[0]:Te[0];De.insetInlineEnd=`${100*Me}%`,De.top=`calc(${100*Te[1]}% + var(--editor-toolbar-vert-offset))`}return e}get div(){return Ke(this,fm)}hide(){var e;Ke(this,fm).classList.add("hidden"),(e=Ke(this,xm))==null||e.hideDropdown()}show(){var e,Ee;Ke(this,fm).classList.remove("hidden"),(e=Ke(this,s1))==null||e.shown(),(Ee=Ke(this,gm))==null||Ee.shown()}addDeleteButton(){const{editorType:e,_uiManager:Ee}=Ke(this,Ju),Ce=document.createElement("button");Ce.classList.add("basic","deleteButton"),Ce.tabIndex=0,Ce.setAttribute("data-l10n-id",Ke(ip,r1)[e]),Hs(this,pl,Ng).call(this,Ce)&&Ce.addEventListener("click",Te=>{Ee.delete()},{signal:Ee._signal}),Ke(this,Qu).append(Ce)}async addAltText(e){const Ee=await e.render();Hs(this,pl,Ng).call(this,Ee),Ke(this,Qu).append(Ee,Ke(this,pl,Fy)),Ls(this,s1,e)}addComment(e,Ee=null){if(Ke(this,gm))return;const Ce=e.renderForToolbar();if(!Ce)return;Hs(this,pl,Ng).call(this,Ce);const Te=Ls(this,Og,Ke(this,pl,Fy));Ee?(Ke(this,Qu).insertBefore(Ce,Ee),Ke(this,Qu).insertBefore(Te,Ee)):Ke(this,Qu).append(Ce,Te),Ls(this,gm,e),e.toolbar=this}addColorPicker(e){if(Ke(this,xm))return;Ls(this,xm,e);const Ee=e.renderButton();Hs(this,pl,Ng).call(this,Ee),Ke(this,Qu).append(Ee,Ke(this,pl,Fy))}async addEditSignatureButton(e){const Ee=Ls(this,Ig,await e.renderEditButton(Ke(this,Ju)));Hs(this,pl,Ng).call(this,Ee),Ke(this,Qu).append(Ee,Ke(this,pl,Fy))}removeButton(e){var Ee,Ce;switch(e){case"comment":(Ee=Ke(this,gm))==null||Ee.removeToolbarCommentButton(),Ls(this,gm,null),(Ce=Ke(this,Og))==null||Ce.remove(),Ls(this,Og,null);break}}async addButton(e,Ee){switch(e){case"colorPicker":this.addColorPicker(Ee);break;case"altText":await this.addAltText(Ee);break;case"editSignature":await this.addEditSignatureButton(Ee);break;case"delete":this.addDeleteButton();break;case"comment":this.addComment(Ee);break}}async addButtonBefore(e,Ee,Ce){const Te=Ke(this,Qu).querySelector(Ce);Te&&e==="comment"&&this.addComment(Ee,Te)}updateEditSignatureButton(e){Ke(this,Ig)&&(Ke(this,Ig).title=e)}remove(){var e;Ke(this,fm).remove(),(e=Ke(this,xm))==null||e.destroy(),Ls(this,xm,null)}};fm=new WeakMap,xm=new WeakMap,Ju=new WeakMap,Qu=new WeakMap,s1=new WeakMap,gm=new WeakMap,Og=new WeakMap,Ig=new WeakMap,r1=new WeakMap,s2=new WeakSet,_R=function(e){e.stopPropagation()},pl=new WeakSet,SR=function(e){Ke(this,Ju)._focusEventsAllowed=!1,stopEvent(e)},NR=function(e){Ke(this,Ju)._focusEventsAllowed=!0,stopEvent(e)},Ng=function(e){const Ee=Ke(this,Ju)._uiManager._signal;return!(Ee instanceof AbortSignal)||Ee.aborted?!1:(e.addEventListener("focusin",Hs(this,pl,SR).bind(this),{capture:!0,signal:Ee}),e.addEventListener("focusout",Hs(this,pl,NR).bind(this),{capture:!0,signal:Ee}),e.addEventListener("contextmenu",noContextMenu,{signal:Ee}),!0)},Fy=function(){const e=document.createElement("div");return e.className="divider",e},Bs(ip,s2),Bs(ip,r1,null);let EditorToolbar=ip;var i1,zf,ap,Vp,AR,CR,kj;class FloatingToolbar{constructor(e){Bs(this,Vp);Bs(this,i1,null);Bs(this,zf,null);Bs(this,ap);Ls(this,ap,e)}show(e,Ee,Ce){const[Te,De]=Hs(this,Vp,CR).call(this,Ee,Ce),{style:Me}=Ke(this,zf)||Ls(this,zf,Hs(this,Vp,AR).call(this));e.append(Ke(this,zf)),Me.insetInlineEnd=`${100*Te}%`,Me.top=`calc(${100*De}% + var(--editor-toolbar-vert-offset))`}hide(){Ke(this,zf).remove()}}i1=new WeakMap,zf=new WeakMap,ap=new WeakMap,Vp=new WeakSet,AR=function(){const e=Ls(this,zf,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar");const Ee=Ke(this,ap)._signal;Ee instanceof AbortSignal&&!Ee.aborted&&e.addEventListener("contextmenu",noContextMenu,{signal:Ee});const Ce=Ls(this,i1,document.createElement("div"));return Ce.className="buttons",e.append(Ce),Ke(this,ap).hasCommentManager()&&Hs(this,Vp,kj).call(this,"commentButton","pdfjs-comment-floating-button","pdfjs-comment-floating-button-label",()=>{Ke(this,ap).commentSelection("floating_button")}),Hs(this,Vp,kj).call(this,"highlightButton","pdfjs-highlight-floating-button1","pdfjs-highlight-floating-button-label",()=>{Ke(this,ap).highlightSelection("floating_button")}),e},CR=function(e,Ee){let Ce=0,Te=0;for(const De of e){const Me=De.y+De.height;if(Me<Ce)continue;const Oe=De.x+(Ee?De.width:0);if(Me>Ce){Te=Oe,Ce=Me;continue}Ee?Oe>Te&&(Te=Oe):Oe<Te&&(Te=Oe)}return[Ee?1-Te:Te,Ce]},kj=function(e,Ee,Ce,Te){const De=document.createElement("button");De.classList.add("basic",e),De.tabIndex=0,De.setAttribute("data-l10n-id",Ee);const Me=document.createElement("span");De.append(Me),Me.className="visuallyHidden",Me.setAttribute("data-l10n-id",Ce);const Oe=Ke(this,ap)._signal;Oe instanceof AbortSignal&&!Oe.aborted&&(De.addEventListener("contextmenu",noContextMenu,{signal:Oe}),De.addEventListener("click",Te,{signal:Oe})),Ke(this,i1).append(De)};function bindEvents(Re,e,Ee){for(const Ce of Ee)e.addEventListener(Ce,Re[Ce].bind(Re))}var r2;class IdManager{constructor(){Bs(this,r2,0)}get id(){return`${AnnotationEditorPrefix}${Ro(this,r2)._++}`}}r2=new WeakMap;var Bg,n1,Bl,zg,Rb;const LE=class LE{constructor(){Bs(this,zg);Bs(this,Bg,getUuid());Bs(this,n1,0);Bs(this,Bl,null)}static get _isSVGFittingCanvas(){const e='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',Ce=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),Te=new Image;Te.src=e;const De=Te.decode().then(()=>(Ce.drawImage(Te,0,0,1,1,0,0,1,3),new Uint32Array(Ce.getImageData(0,0,1,1).data.buffer)[0]===0));return shadow(this,"_isSVGFittingCanvas",De)}async getFromFile(e){const{lastModified:Ee,name:Ce,size:Te,type:De}=e;return Hs(this,zg,Rb).call(this,`${Ee}_${Ce}_${Te}_${De}`,e)}async getFromUrl(e){return Hs(this,zg,Rb).call(this,e,e)}async getFromBlob(e,Ee){const Ce=await Ee;return Hs(this,zg,Rb).call(this,e,Ce)}async getFromId(e){Ke(this,Bl)||Ls(this,Bl,new Map);const Ee=Ke(this,Bl).get(e);if(!Ee)return null;if(Ee.bitmap)return Ee.refCounter+=1,Ee;if(Ee.file)return this.getFromFile(Ee.file);if(Ee.blobPromise){const{blobPromise:Ce}=Ee;return delete Ee.blobPromise,this.getFromBlob(Ee.id,Ce)}return this.getFromUrl(Ee.url)}getFromCanvas(e,Ee){Ke(this,Bl)||Ls(this,Bl,new Map);let Ce=Ke(this,Bl).get(e);if(Ce!=null&&Ce.bitmap)return Ce.refCounter+=1,Ce;const Te=new OffscreenCanvas(Ee.width,Ee.height);return Te.getContext("2d").drawImage(Ee,0,0),Ce={bitmap:Te.transferToImageBitmap(),id:`image_${Ke(this,Bg)}_${Ro(this,n1)._++}`,refCounter:1,isSvg:!1},Ke(this,Bl).set(e,Ce),Ke(this,Bl).set(Ce.id,Ce),Ce}getSvgUrl(e){const Ee=Ke(this,Bl).get(e);return Ee!=null&&Ee.isSvg?Ee.svgUrl:null}deleteId(e){var Te;Ke(this,Bl)||Ls(this,Bl,new Map);const Ee=Ke(this,Bl).get(e);if(!Ee||(Ee.refCounter-=1,Ee.refCounter!==0))return;const{bitmap:Ce}=Ee;if(!Ee.url&&!Ee.file){const De=new OffscreenCanvas(Ce.width,Ce.height);De.getContext("bitmaprenderer").transferFromImageBitmap(Ce),Ee.blobPromise=De.convertToBlob()}(Te=Ce.close)==null||Te.call(Ce),Ee.bitmap=null}isValidId(e){return e.startsWith(`image_${Ke(this,Bg)}_`)}};Bg=new WeakMap,n1=new WeakMap,Bl=new WeakMap,zg=new WeakSet,Rb=async function(e,Ee){Ke(this,Bl)||Ls(this,Bl,new Map);let Ce=Ke(this,Bl).get(e);if(Ce===null)return null;if(Ce!=null&&Ce.bitmap)return Ce.refCounter+=1,Ce;try{Ce||(Ce={bitmap:null,id:`image_${Ke(this,Bg)}_${Ro(this,n1)._++}`,refCounter:0,isSvg:!1});let Te;if(typeof Ee=="string"?(Ce.url=Ee,Te=await fetchData(Ee,"blob")):Ee instanceof File?Te=Ce.file=Ee:Ee instanceof Blob&&(Te=Ee),Te.type==="image/svg+xml"){const De=LE._isSVGFittingCanvas,Me=new FileReader,Oe=new Image,Be=new Promise((ze,Ve)=>{Oe.onload=()=>{Ce.bitmap=Oe,Ce.isSvg=!0,ze()},Me.onload=async()=>{const qe=Ce.svgUrl=Me.result;Oe.src=await De?`${qe}#svgView(preserveAspectRatio(none))`:qe},Oe.onerror=Me.onerror=Ve});Me.readAsDataURL(Te),await Be}else Ce.bitmap=await createImageBitmap(Te);Ce.refCounter=1}catch(Te){warn(Te),Ce=null}return Ke(this,Bl).set(e,Ce),Ce&&Ke(this,Bl).set(Ce.id,Ce),Ce};let ImageManager=LE;var Ka,ym,a1,Ca;class CommandManager{constructor(e=128){Bs(this,Ka,[]);Bs(this,ym,!1);Bs(this,a1);Bs(this,Ca,-1);Ls(this,a1,e)}add({cmd:e,undo:Ee,post:Ce,mustExec:Te,type:De=NaN,overwriteIfSameType:Me=!1,keepUndo:Oe=!1}){if(Te&&e(),Ke(this,ym))return;const Be={cmd:e,undo:Ee,post:Ce,type:De};if(Ke(this,Ca)===-1){Ke(this,Ka).length>0&&(Ke(this,Ka).length=0),Ls(this,Ca,0),Ke(this,Ka).push(Be);return}if(Me&&Ke(this,Ka)[Ke(this,Ca)].type===De){Oe&&(Be.undo=Ke(this,Ka)[Ke(this,Ca)].undo),Ke(this,Ka)[Ke(this,Ca)]=Be;return}const ze=Ke(this,Ca)+1;ze===Ke(this,a1)?Ke(this,Ka).splice(0,1):(Ls(this,Ca,ze),ze<Ke(this,Ka).length&&Ke(this,Ka).splice(ze)),Ke(this,Ka).push(Be)}undo(){if(Ke(this,Ca)===-1)return;Ls(this,ym,!0);const{undo:e,post:Ee}=Ke(this,Ka)[Ke(this,Ca)];e(),Ee==null||Ee(),Ls(this,ym,!1),Ls(this,Ca,Ke(this,Ca)-1)}redo(){if(Ke(this,Ca)<Ke(this,Ka).length-1){Ls(this,Ca,Ke(this,Ca)+1),Ls(this,ym,!0);const{cmd:e,post:Ee}=Ke(this,Ka)[Ke(this,Ca)];e(),Ee==null||Ee(),Ls(this,ym,!1)}}hasSomethingToUndo(){return Ke(this,Ca)!==-1}hasSomethingToRedo(){return Ke(this,Ca)<Ke(this,Ka).length-1}cleanType(e){if(Ke(this,Ca)!==-1){for(let Ee=Ke(this,Ca);Ee>=0;Ee--)if(Ke(this,Ka)[Ee].type!==e){Ke(this,Ka).splice(Ee+1,Ke(this,Ca)-Ee),Ls(this,Ca,Ee);return}Ke(this,Ka).length=0,Ls(this,Ca,-1)}}destroy(){Ls(this,Ka,null)}}Ka=new WeakMap,ym=new WeakMap,a1=new WeakMap,Ca=new WeakMap;var i2,PR;class KeyboardManager{constructor(e){Bs(this,i2);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:Ee}=util_FeatureTest.platform;for(const[Ce,Te,De={}]of e)for(const Me of Ce){const Oe=Me.startsWith("mac+");Ee&&Oe?(this.callbacks.set(Me.slice(4),{callback:Te,options:De}),this.allKeys.add(Me.split("+").at(-1))):!Ee&&!Oe&&(this.callbacks.set(Me,{callback:Te,options:De}),this.allKeys.add(Me.split("+").at(-1)))}}exec(e,Ee){if(!this.allKeys.has(Ee.key))return;const Ce=this.callbacks.get(Hs(this,i2,PR).call(this,Ee));if(!Ce)return;const{callback:Te,options:{bubbles:De=!1,args:Me=[],checker:Oe=null}}=Ce;Oe&&!Oe(e,Ee)||(Te.bind(e,...Me,Ee)(),De||stopEvent(Ee))}}i2=new WeakSet,PR=function(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const Ee=this.buffer.join("+");return this.buffer.length=0,Ee};const n2=class n2{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return getColorValues(e),shadow(this,"_colors",e)}convert(e){const Ee=getRGB(e);if(!window.matchMedia("(forced-colors: active)").matches)return Ee;for(const[Ce,Te]of this._colors)if(Te.every((De,Me)=>De===Ee[Me]))return n2._colorsMapping.get(Ce);return Ee}getHexCode(e){const Ee=this._colors.get(e);return Ee?Util.makeHexColor(...Ee):e}};qr(n2,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ColorManager=n2;var $g,cu,Vg,Oa,So,Ug,ed,Hg,sd,zl,vm,bm,qg,jm,ah,rd,$f,o1,l1,Gg,c1,oh,Em,Wg,wm,lh,a2,Rm,Zg,u1,_m,Vf,Kg,Sm,d1,co,Mn,op,Nm,Am,h1,Yg,p1,Cm,ch,lp,m1,f1,nd,di,Sb,Dj,TR,kR,Oy,DR,LR,MR,Lj,FR,Mj,Fj,OR,nc,sp,IR,BR,Oj,zR,Iy,Ij;const Dg=class Dg{constructor(e,Ee,Ce,Te,De,Me,Oe,Be,ze,Ve,qe,We,Ge,Je,Qe,ns){Bs(this,di);Bs(this,$g,new AbortController);Bs(this,cu,null);Bs(this,Vg,null);Bs(this,Oa,new Map);Bs(this,So,new Map);Bs(this,Ug,null);Bs(this,ed,null);Bs(this,Hg,null);Bs(this,sd,new CommandManager);Bs(this,zl,null);Bs(this,vm,null);Bs(this,bm,null);Bs(this,qg,0);Bs(this,jm,new Set);Bs(this,ah,null);Bs(this,rd,null);Bs(this,$f,new Set);qr(this,"_editorUndoBar",null);Bs(this,o1,!1);Bs(this,l1,!1);Bs(this,Gg,!1);Bs(this,c1,null);Bs(this,oh,null);Bs(this,Em,null);Bs(this,Wg,null);Bs(this,wm,!1);Bs(this,lh,null);Bs(this,a2,new IdManager);Bs(this,Rm,!1);Bs(this,Zg,!1);Bs(this,u1,!1);Bs(this,_m,null);Bs(this,Vf,null);Bs(this,Kg,null);Bs(this,Sm,null);Bs(this,d1,null);Bs(this,co,AnnotationEditorType.NONE);Bs(this,Mn,new Set);Bs(this,op,null);Bs(this,Nm,null);Bs(this,Am,null);Bs(this,h1,null);Bs(this,Yg,null);Bs(this,p1,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});Bs(this,Cm,[0,0]);Bs(this,ch,null);Bs(this,lp,null);Bs(this,m1,null);Bs(this,f1,null);Bs(this,nd,null);const Ye=this._signal=Ke(this,$g).signal;Ls(this,lp,e),Ls(this,m1,Ee),Ls(this,f1,Ce),Ls(this,Ug,Te),Ls(this,zl,De),Ls(this,Nm,Me),Ls(this,Yg,Be),this._eventBus=Oe,Oe._on("editingaction",this.onEditingAction.bind(this),{signal:Ye}),Oe._on("pagechanging",this.onPageChanging.bind(this),{signal:Ye}),Oe._on("scalechanging",this.onScaleChanging.bind(this),{signal:Ye}),Oe._on("rotationchanging",this.onRotationChanging.bind(this),{signal:Ye}),Oe._on("setpreference",this.onSetPreference.bind(this),{signal:Ye}),Oe._on("switchannotationeditorparams",rs=>this.updateParams(rs.type,rs.value),{signal:Ye}),window.addEventListener("pointerdown",()=>{Ls(this,Zg,!0)},{capture:!0,signal:Ye}),window.addEventListener("pointerup",()=>{Ls(this,Zg,!1)},{capture:!0,signal:Ye}),Hs(this,di,DR).call(this),Hs(this,di,OR).call(this),Hs(this,di,Lj).call(this),Ls(this,ed,Be.annotationStorage),Ls(this,c1,Be.filterFactory),Ls(this,Am,ze),Ls(this,Wg,Ve||null),Ls(this,o1,qe),Ls(this,l1,We),Ls(this,Gg,Ge),Ls(this,d1,Je||null),this.viewParameters={realScale:PixelsPerInch.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1,this._editorUndoBar=Qe||null,this._supportsPinchToZoom=ns!==!1,De==null||De.setSidebarUiManager(this)}static get _keyboardManager(){const e=Dg.prototype,Ee=Me=>Ke(Me,lp).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&Me.hasSomethingToControl(),Ce=(Me,{target:Oe})=>{if(Oe instanceof HTMLInputElement){const{type:Be}=Oe;return Be!=="text"&&Be!=="number"}return!0},Te=this.TRANSLATE_SMALL,De=this.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:Ce}],[["ctrl+z","mac+meta+z"],e.undo,{checker:Ce}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:Ce}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:Ce}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(Me,{target:Oe})=>!(Oe instanceof HTMLButtonElement)&&Ke(Me,lp).contains(Oe)&&!Me.isEnterHandled}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(Me,{target:Oe})=>!(Oe instanceof HTMLButtonElement)&&Ke(Me,lp).contains(document.activeElement)}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-Te,0],checker:Ee}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-De,0],checker:Ee}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[Te,0],checker:Ee}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[De,0],checker:Ee}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-Te],checker:Ee}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-De],checker:Ee}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,Te],checker:Ee}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,De],checker:Ee}]]))}destroy(){var e,Ee,Ce,Te,De,Me,Oe,Be,ze;(e=Ke(this,nd))==null||e.resolve(),Ls(this,nd,null),(Ee=Ke(this,$g))==null||Ee.abort(),Ls(this,$g,null),this._signal=null;for(const Ve of Ke(this,So).values())Ve.destroy();Ke(this,So).clear(),Ke(this,Oa).clear(),Ke(this,$f).clear(),(Ce=Ke(this,Sm))==null||Ce.clear(),Ls(this,cu,null),Ke(this,Mn).clear(),Ke(this,sd).destroy(),(Te=Ke(this,Ug))==null||Te.destroy(),(De=Ke(this,zl))==null||De.destroy(),(Me=Ke(this,Nm))==null||Me.destroy(),(Oe=Ke(this,lh))==null||Oe.hide(),Ls(this,lh,null),(Be=Ke(this,Kg))==null||Be.destroy(),Ls(this,Kg,null),Ls(this,Vg,null),Ke(this,oh)&&(clearTimeout(Ke(this,oh)),Ls(this,oh,null)),Ke(this,ch)&&(clearTimeout(Ke(this,ch)),Ls(this,ch,null)),(ze=this._editorUndoBar)==null||ze.destroy(),Ls(this,Yg,null)}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return Ke(this,d1)}get useNewAltTextFlow(){return Ke(this,l1)}get useNewAltTextWhenAddingImage(){return Ke(this,Gg)}get hcmFilter(){return shadow(this,"hcmFilter",Ke(this,Am)?Ke(this,c1).addHCMFilter(Ke(this,Am).foreground,Ke(this,Am).background):"none")}get direction(){return shadow(this,"direction",getComputedStyle(Ke(this,lp)).direction)}get _highlightColors(){return shadow(this,"_highlightColors",Ke(this,Wg)?new Map(Ke(this,Wg).split(",").map(e=>(e=e.split("=").map(Ee=>Ee.trim()),e[1]=e[1].toUpperCase(),e))):null)}get highlightColors(){const{_highlightColors:e}=this;if(!e)return shadow(this,"highlightColors",null);const Ee=new Map,Ce=!!Ke(this,Am);for(const[Te,De]of e){const Me=Te.endsWith("_HCM");if(Ce&&Me){Ee.set(Te.replace("_HCM",""),De);continue}!Ce&&!Me&&Ee.set(Te,De)}return shadow(this,"highlightColors",Ee)}get highlightColorNames(){return shadow(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,e=>e.reverse())):null)}getNonHCMColor(e){if(!this._highlightColors)return e;const Ee=this.highlightColorNames.get(e);return this._highlightColors.get(Ee)||e}getNonHCMColorName(e){return this.highlightColorNames.get(e)||e}setCurrentDrawingSession(e){e?(this.unselectAll(),this.disableUserSelect(!0)):this.disableUserSelect(!1),Ls(this,bm,e)}setMainHighlightColorPicker(e){Ls(this,Kg,e)}editAltText(e,Ee=!1){var Ce;(Ce=Ke(this,Ug))==null||Ce.editAltText(this,e,Ee)}hasCommentManager(){return!!Ke(this,zl)}editComment(e,Ee,Ce,Te){var De;(De=Ke(this,zl))==null||De.showDialog(this,e,Ee,Ce,Te)}selectComment(e,Ee){const Ce=Ke(this,So).get(e),Te=Ce==null?void 0:Ce.getEditorByUID(Ee);Te==null||Te.toggleComment(!0,!0)}updateComment(e){var Ee;(Ee=Ke(this,zl))==null||Ee.updateComment(e.getData())}updatePopupColor(e){var Ee;(Ee=Ke(this,zl))==null||Ee.updatePopupColor(e)}removeComment(e){var Ee;(Ee=Ke(this,zl))==null||Ee.removeComments([e.uid])}toggleComment(e,Ee,Ce=void 0){var Te;(Te=Ke(this,zl))==null||Te.toggleCommentPopup(e,Ee,Ce)}makeCommentColor(e,Ee){var Ce;return e&&((Ce=Ke(this,zl))==null?void 0:Ce.makeCommentColor(e,Ee))||null}getCommentDialogElement(){var e;return((e=Ke(this,zl))==null?void 0:e.dialogElement)||null}async waitForEditorsRendered(e){if(Ke(this,So).has(e-1))return;const{resolve:Ee,promise:Ce}=Promise.withResolvers(),Te=De=>{De.pageNumber===e&&(this._eventBus._off("editorsrendered",Te),Ee())};this._eventBus.on("editorsrendered",Te),await Ce}getSignature(e){var Ee;(Ee=Ke(this,Nm))==null||Ee.getSignature({uiManager:this,editor:e})}get signatureManager(){return Ke(this,Nm)}switchToMode(e,Ee){this._eventBus.on("annotationeditormodechanged",Ee,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,Ee){this._eventBus.dispatch("setpreference",{source:this,name:e,value:Ee})}onSetPreference({name:e,value:Ee}){switch(e){case"enableNewAltTextWhenAddingImage":Ls(this,Gg,Ee);break}}onPageChanging({pageNumber:e}){Ls(this,qg,e-1)}focusMainContainer(){Ke(this,lp).focus()}findParent(e,Ee){for(const Ce of Ke(this,So).values()){const{x:Te,y:De,width:Me,height:Oe}=Ce.div.getBoundingClientRect();if(e>=Te&&e<=Te+Me&&Ee>=De&&Ee<=De+Oe)return Ce}return null}disableUserSelect(e=!1){Ke(this,m1).classList.toggle("noUserSelect",e)}addShouldRescale(e){Ke(this,$f).add(e)}removeShouldRescale(e){Ke(this,$f).delete(e)}onScaleChanging({scale:e}){var Ee;this.commitOrRemove(),this.viewParameters.realScale=e*PixelsPerInch.PDF_TO_CSS_UNITS;for(const Ce of Ke(this,$f))Ce.onScaleChanging();(Ee=Ke(this,bm))==null||Ee.onScaleChanging()}onRotationChanging({pagesRotation:e}){this.commitOrRemove(),this.viewParameters.rotation=e}highlightSelection(e="",Ee=!1){const Ce=document.getSelection();if(!Ce||Ce.isCollapsed)return;const{anchorNode:Te,anchorOffset:De,focusNode:Me,focusOffset:Oe}=Ce,Be=Ce.toString(),Ve=Hs(this,di,Sb).call(this,Ce).closest(".textLayer"),qe=this.getSelectionBoxes(Ve);if(!qe)return;Ce.empty();const We=Hs(this,di,Dj).call(this,Ve),Ge=Ke(this,co)===AnnotationEditorType.NONE,Je=()=>{const Qe=We==null?void 0:We.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:qe,anchorNode:Te,anchorOffset:De,focusNode:Me,focusOffset:Oe,text:Be});Ge&&this.showAllEditors("highlight",!0,!0),Ee&&(Qe==null||Qe.editComment())};if(Ge){this.switchToMode(AnnotationEditorType.HIGHLIGHT,Je);return}Je()}commentSelection(e=""){this.highlightSelection(e,!0)}getAndRemoveDataFromAnnotationStorage(e){if(!Ke(this,ed))return null;const Ee=`${AnnotationEditorPrefix}${e}`,Ce=Ke(this,ed).getRawValue(Ee);return Ce&&Ke(this,ed).remove(Ee),Ce}addToAnnotationStorage(e){!e.isEmpty()&&Ke(this,ed)&&!Ke(this,ed).has(e.id)&&Ke(this,ed).setValue(e.id,e)}a11yAlert(e,Ee=null){const Ce=Ke(this,f1);Ce&&(Ce.setAttribute("data-l10n-id",e),Ee?Ce.setAttribute("data-l10n-args",JSON.stringify(Ee)):Ce.removeAttribute("data-l10n-args"))}blur(){if(this.isShiftKeyDown=!1,Ke(this,wm)&&(Ls(this,wm,!1),Hs(this,di,Oy).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const Ee of Ke(this,Mn))if(Ee.div.contains(e)){Ls(this,Vf,[Ee,e]),Ee._focusEventsAllowed=!1;break}}focus(){if(!Ke(this,Vf))return;const[e,Ee]=Ke(this,Vf);Ls(this,Vf,null),Ee.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:this._signal}),Ee.focus()}addEditListeners(){Hs(this,di,Lj).call(this),Hs(this,di,Mj).call(this)}removeEditListeners(){Hs(this,di,FR).call(this),Hs(this,di,Fj).call(this)}dragOver(e){for(const{type:Ee}of e.dataTransfer.items)for(const Ce of Ke(this,rd))if(Ce.isHandlingMimeForPasting(Ee)){e.dataTransfer.dropEffect="copy",e.preventDefault();return}}drop(e){for(const Ee of e.dataTransfer.items)for(const Ce of Ke(this,rd))if(Ce.isHandlingMimeForPasting(Ee.type)){Ce.paste(Ee,this.currentLayer),e.preventDefault();return}}copy(e){var Ce;if(e.preventDefault(),(Ce=Ke(this,cu))==null||Ce.commitOrRemove(),!this.hasSelection)return;const Ee=[];for(const Te of Ke(this,Mn)){const De=Te.serialize(!0);De&&Ee.push(De)}Ee.length!==0&&e.clipboardData.setData("application/pdfjs",JSON.stringify(Ee))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:Ee}=e;for(const De of Ee.items)for(const Me of Ke(this,rd))if(Me.isHandlingMimeForPasting(De.type)){Me.paste(De,this.currentLayer);return}let Ce=Ee.getData("application/pdfjs");if(!Ce)return;try{Ce=JSON.parse(Ce)}catch(De){warn(`paste: "${De.message}".`);return}if(!Array.isArray(Ce))return;this.unselectAll();const Te=this.currentLayer;try{const De=[];for(const Be of Ce){const ze=await Te.deserialize(Be);if(!ze)return;De.push(ze)}const Me=()=>{for(const Be of De)Hs(this,di,Oj).call(this,Be);Hs(this,di,Ij).call(this,De)},Oe=()=>{for(const Be of De)Be.remove()};this.addCommands({cmd:Me,undo:Oe,mustExec:!0})}catch(De){warn(`paste: "${De.message}".`)}}keydown(e){!this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!0),Ke(this,co)!==AnnotationEditorType.NONE&&!this.isEditorHandlingKeyboard&&Dg._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&e.key==="Shift"&&(this.isShiftKeyDown=!1,Ke(this,wm)&&(Ls(this,wm,!1),Hs(this,di,Oy).call(this,"main_toolbar")))}onEditingAction({name:e}){switch(e){case"undo":case"redo":case"delete":case"selectAll":this[e]();break;case"highlightSelection":this.highlightSelection("context_menu");break;case"commentSelection":this.commentSelection("context_menu");break}}setEditingState(e){e?(Hs(this,di,LR).call(this),Hs(this,di,Mj).call(this),Hs(this,di,nc).call(this,{isEditing:Ke(this,co)!==AnnotationEditorType.NONE,isEmpty:Hs(this,di,Iy).call(this),hasSomethingToUndo:Ke(this,sd).hasSomethingToUndo(),hasSomethingToRedo:Ke(this,sd).hasSomethingToRedo(),hasSelectedEditor:!1})):(Hs(this,di,MR).call(this),Hs(this,di,Fj).call(this),Hs(this,di,nc).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!Ke(this,rd)){Ls(this,rd,e);for(const Ee of Ke(this,rd))Hs(this,di,sp).call(this,Ee.defaultPropertiesToUpdate)}}getId(){return Ke(this,a2).id}get currentLayer(){return Ke(this,So).get(Ke(this,qg))}getLayer(e){return Ke(this,So).get(e)}get currentPageIndex(){return Ke(this,qg)}addLayer(e){Ke(this,So).set(e.pageIndex,e),Ke(this,Rm)?e.enable():e.disable()}removeLayer(e){Ke(this,So).delete(e.pageIndex)}async updateMode(e,Ee=null,Ce=!1,Te=!1,De=!1){var Me,Oe,Be,ze,Ve,qe;if(Ke(this,co)!==e&&!(Ke(this,nd)&&(await Ke(this,nd).promise,!Ke(this,nd)))){if(Ls(this,nd,Promise.withResolvers()),(Me=Ke(this,bm))==null||Me.commitOrRemove(),Ke(this,co)===AnnotationEditorType.POPUP&&((Oe=Ke(this,zl))==null||Oe.hideSidebar()),(Be=Ke(this,zl))==null||Be.destroyPopup(),Ls(this,co,e),e===AnnotationEditorType.NONE){this.setEditingState(!1),Hs(this,di,BR).call(this);for(const We of Ke(this,Oa).values())We.hideStandaloneCommentButton();(ze=this._editorUndoBar)==null||ze.hide(),this.toggleComment(null),Ke(this,nd).resolve();return}for(const We of Ke(this,Oa).values())We.addStandaloneCommentButton();e===AnnotationEditorType.SIGNATURE&&await((Ve=Ke(this,Nm))==null?void 0:Ve.loadSignatures()),this.setEditingState(!0),await Hs(this,di,IR).call(this),this.unselectAll();for(const We of Ke(this,So).values())We.updateMode(e);if(e===AnnotationEditorType.POPUP){Ke(this,Vg)||Ls(this,Vg,await Ke(this,Yg).getAnnotationsByType(new Set(Ke(this,rd).map(Je=>Je._editorType))));const We=new Set,Ge=[];for(const Je of Ke(this,Oa).values()){const{annotationElementId:Qe,hasComment:ns,deleted:Ye}=Je;Qe&&We.add(Qe),ns&&!Ye&&Ge.push(Je.getData())}for(const Je of Ke(this,Vg)){const{id:Qe,popupRef:ns,contentsObj:Ye}=Je;ns&&(Ye!=null&&Ye.str)&&!We.has(Qe)&&!Ke(this,jm).has(Qe)&&Ge.push(Je)}(qe=Ke(this,zl))==null||qe.showSidebar(Ge)}if(!Ee){Ce&&this.addNewEditorFromKeyboard(),Ke(this,nd).resolve();return}for(const We of Ke(this,Oa).values())We.uid===Ee?(this.setSelected(We),De?We.editComment():Te?We.enterInEditMode():We.focus()):We.unselect();Ke(this,nd).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e.mode!==Ke(this,co)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,...e})}updateParams(e,Ee){if(Ke(this,rd)){switch(e){case AnnotationEditorParamsType.CREATE:this.currentLayer.addNewEditor(Ee);return;case AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(Ke(this,h1)||Ls(this,h1,new Map)).set(e,Ee),this.showAllEditors("highlight",Ee);break}if(this.hasSelection)for(const Ce of Ke(this,Mn))Ce.updateParams(e,Ee);else for(const Ce of Ke(this,rd))Ce.updateDefaultParams(e,Ee)}}showAllEditors(e,Ee,Ce=!1){var De;for(const Me of Ke(this,Oa).values())Me.editorType===e&&Me.show(Ee);(((De=Ke(this,h1))==null?void 0:De.get(AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL))??!0)!==Ee&&Hs(this,di,sp).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_SHOW_ALL,Ee]])}enableWaiting(e=!1){if(Ke(this,u1)!==e){Ls(this,u1,e);for(const Ee of Ke(this,So).values())e?Ee.disableClick():Ee.enableClick(),Ee.div.classList.toggle("waiting",e)}}*getEditors(e){for(const Ee of Ke(this,Oa).values())Ee.pageIndex===e&&(yield Ee)}getEditor(e){return Ke(this,Oa).get(e)}addEditor(e){Ke(this,Oa).set(e.id,e)}removeEditor(e){var Ee,Ce;e.div.contains(document.activeElement)&&(Ke(this,oh)&&clearTimeout(Ke(this,oh)),Ls(this,oh,setTimeout(()=>{this.focusMainContainer(),Ls(this,oh,null)},0))),Ke(this,Oa).delete(e.id),e.annotationElementId&&((Ee=Ke(this,Sm))==null||Ee.delete(e.annotationElementId)),this.unselect(e),(!e.annotationElementId||!Ke(this,jm).has(e.annotationElementId))&&((Ce=Ke(this,ed))==null||Ce.remove(e.id))}addDeletedAnnotationElement(e){Ke(this,jm).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return Ke(this,jm).has(e)}removeDeletedAnnotationElement(e){Ke(this,jm).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){Ke(this,cu)!==e&&(Ls(this,cu,e),e&&Hs(this,di,sp).call(this,e.propertiesToUpdate))}updateUI(e){Ke(this,di,zR)===e&&Hs(this,di,sp).call(this,e.propertiesToUpdate)}updateUIForDefaultProperties(e){Hs(this,di,sp).call(this,e.defaultPropertiesToUpdate)}toggleSelected(e){if(Ke(this,Mn).has(e)){Ke(this,Mn).delete(e),e.unselect(),Hs(this,di,nc).call(this,{hasSelectedEditor:this.hasSelection});return}Ke(this,Mn).add(e),e.select(),Hs(this,di,sp).call(this,e.propertiesToUpdate),Hs(this,di,nc).call(this,{hasSelectedEditor:!0})}setSelected(e){var Ee;this.updateToolbar({mode:e.mode,editId:e.id}),(Ee=Ke(this,bm))==null||Ee.commitOrRemove();for(const Ce of Ke(this,Mn))Ce!==e&&Ce.unselect();Ke(this,Mn).clear(),Ke(this,Mn).add(e),e.select(),Hs(this,di,sp).call(this,e.propertiesToUpdate),Hs(this,di,nc).call(this,{hasSelectedEditor:!0})}isSelected(e){return Ke(this,Mn).has(e)}get firstSelectedEditor(){return Ke(this,Mn).values().next().value}unselect(e){e.unselect(),Ke(this,Mn).delete(e),Hs(this,di,nc).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return Ke(this,Mn).size!==0}get isEnterHandled(){return Ke(this,Mn).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){var e;Ke(this,sd).undo(),Hs(this,di,nc).call(this,{hasSomethingToUndo:Ke(this,sd).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:Hs(this,di,Iy).call(this)}),(e=this._editorUndoBar)==null||e.hide()}redo(){Ke(this,sd).redo(),Hs(this,di,nc).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:Ke(this,sd).hasSomethingToRedo(),isEmpty:Hs(this,di,Iy).call(this)})}addCommands(e){Ke(this,sd).add(e),Hs(this,di,nc).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:Hs(this,di,Iy).call(this)})}cleanUndoStack(e){Ke(this,sd).cleanType(e)}delete(){var De;this.commitOrRemove();const e=(De=this.currentLayer)==null?void 0:De.endDrawingSession(!0);if(!this.hasSelection&&!e)return;const Ee=e?[e]:[...Ke(this,Mn)],Ce=()=>{var Me;(Me=this._editorUndoBar)==null||Me.show(Te,Ee.length===1?Ee[0].editorType:Ee.length);for(const Oe of Ee)Oe.remove()},Te=()=>{for(const Me of Ee)Hs(this,di,Oj).call(this,Me)};this.addCommands({cmd:Ce,undo:Te,mustExec:!0})}commitOrRemove(){var e;(e=Ke(this,cu))==null||e.commitOrRemove()}hasSomethingToControl(){return Ke(this,cu)||this.hasSelection}selectAll(){for(const e of Ke(this,Mn))e.commit();Hs(this,di,Ij).call(this,Ke(this,Oa).values())}unselectAll(){var e;if(!(Ke(this,cu)&&(Ke(this,cu).commitOrRemove(),Ke(this,co)!==AnnotationEditorType.NONE))&&!((e=Ke(this,bm))!=null&&e.commitOrRemove())&&this.hasSelection){for(const Ee of Ke(this,Mn))Ee.unselect();Ke(this,Mn).clear(),Hs(this,di,nc).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,Ee,Ce=!1){if(Ce||this.commitOrRemove(),!this.hasSelection)return;Ke(this,Cm)[0]+=e,Ke(this,Cm)[1]+=Ee;const[Te,De]=Ke(this,Cm),Me=[...Ke(this,Mn)],Oe=1e3;Ke(this,ch)&&clearTimeout(Ke(this,ch)),Ls(this,ch,setTimeout(()=>{Ls(this,ch,null),Ke(this,Cm)[0]=Ke(this,Cm)[1]=0,this.addCommands({cmd:()=>{for(const Be of Me)Ke(this,Oa).has(Be.id)&&(Be.translateInPage(Te,De),Be.translationDone())},undo:()=>{for(const Be of Me)Ke(this,Oa).has(Be.id)&&(Be.translateInPage(-Te,-De),Be.translationDone())},mustExec:!1})},Oe));for(const Be of Me)Be.translateInPage(e,Ee),Be.translationDone()}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),Ls(this,ah,new Map);for(const e of Ke(this,Mn))Ke(this,ah).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!Ke(this,ah))return!1;this.disableUserSelect(!1);const e=Ke(this,ah);Ls(this,ah,null);let Ee=!1;for(const[{x:Te,y:De,pageIndex:Me},Oe]of e)Oe.newX=Te,Oe.newY=De,Oe.newPageIndex=Me,Ee||(Ee=Te!==Oe.savedX||De!==Oe.savedY||Me!==Oe.savedPageIndex);if(!Ee)return!1;const Ce=(Te,De,Me,Oe)=>{if(Ke(this,Oa).has(Te.id)){const Be=Ke(this,So).get(Oe);Be?Te._setParentAndPosition(Be,De,Me):(Te.pageIndex=Oe,Te.x=De,Te.y=Me)}};return this.addCommands({cmd:()=>{for(const[Te,{newX:De,newY:Me,newPageIndex:Oe}]of e)Ce(Te,De,Me,Oe)},undo:()=>{for(const[Te,{savedX:De,savedY:Me,savedPageIndex:Oe}]of e)Ce(Te,De,Me,Oe)},mustExec:!0}),!0}dragSelectedEditors(e,Ee){if(Ke(this,ah))for(const Ce of Ke(this,ah).keys())Ce.drag(e,Ee)}rebuild(e){if(e.parent===null){const Ee=this.getLayer(e.pageIndex);Ee?(Ee.changeParent(e),Ee.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return((e=this.getActive())==null?void 0:e.shouldGetKeyboardEvents())||Ke(this,Mn).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return Ke(this,cu)===e}getActive(){return Ke(this,cu)}getMode(){return Ke(this,co)}isEditingMode(){return Ke(this,co)!==AnnotationEditorType.NONE}get imageManager(){return shadow(this,"imageManager",new ImageManager)}getSelectionBoxes(e){if(!e)return null;const Ee=document.getSelection();for(let ze=0,Ve=Ee.rangeCount;ze<Ve;ze++)if(!e.contains(Ee.getRangeAt(ze).commonAncestorContainer))return null;const{x:Ce,y:Te,width:De,height:Me}=e.getBoundingClientRect();let Oe;switch(e.getAttribute("data-main-rotation")){case"90":Oe=(ze,Ve,qe,We)=>({x:(Ve-Te)/Me,y:1-(ze+qe-Ce)/De,width:We/Me,height:qe/De});break;case"180":Oe=(ze,Ve,qe,We)=>({x:1-(ze+qe-Ce)/De,y:1-(Ve+We-Te)/Me,width:qe/De,height:We/Me});break;case"270":Oe=(ze,Ve,qe,We)=>({x:1-(Ve+We-Te)/Me,y:(ze-Ce)/De,width:We/Me,height:qe/De});break;default:Oe=(ze,Ve,qe,We)=>({x:(ze-Ce)/De,y:(Ve-Te)/Me,width:qe/De,height:We/Me});break}const Be=[];for(let ze=0,Ve=Ee.rangeCount;ze<Ve;ze++){const qe=Ee.getRangeAt(ze);if(!qe.collapsed)for(const{x:We,y:Ge,width:Je,height:Qe}of qe.getClientRects())Je===0||Qe===0||Be.push(Oe(We,Ge,Je,Qe))}return Be.length===0?null:Be}addChangedExistingAnnotation({annotationElementId:e,id:Ee}){(Ke(this,Hg)||Ls(this,Hg,new Map)).set(e,Ee)}removeChangedExistingAnnotation({annotationElementId:e}){var Ee;(Ee=Ke(this,Hg))==null||Ee.delete(e)}renderAnnotationElement(e){var Te;const Ee=(Te=Ke(this,Hg))==null?void 0:Te.get(e.data.id);if(!Ee)return;const Ce=Ke(this,ed).getRawValue(Ee);Ce&&(Ke(this,co)===AnnotationEditorType.NONE&&!Ce.hasBeenModified||Ce.renderAnnotationElement(e))}setMissingCanvas(e,Ee,Ce){var De;const Te=(De=Ke(this,Sm))==null?void 0:De.get(e);Te&&(Te.setCanvas(Ee,Ce),Ke(this,Sm).delete(e))}addMissingCanvas(e,Ee){(Ke(this,Sm)||Ls(this,Sm,new Map)).set(e,Ee)}};$g=new WeakMap,cu=new WeakMap,Vg=new WeakMap,Oa=new WeakMap,So=new WeakMap,Ug=new WeakMap,ed=new WeakMap,Hg=new WeakMap,sd=new WeakMap,zl=new WeakMap,vm=new WeakMap,bm=new WeakMap,qg=new WeakMap,jm=new WeakMap,ah=new WeakMap,rd=new WeakMap,$f=new WeakMap,o1=new WeakMap,l1=new WeakMap,Gg=new WeakMap,c1=new WeakMap,oh=new WeakMap,Em=new WeakMap,Wg=new WeakMap,wm=new WeakMap,lh=new WeakMap,a2=new WeakMap,Rm=new WeakMap,Zg=new WeakMap,u1=new WeakMap,_m=new WeakMap,Vf=new WeakMap,Kg=new WeakMap,Sm=new WeakMap,d1=new WeakMap,co=new WeakMap,Mn=new WeakMap,op=new WeakMap,Nm=new WeakMap,Am=new WeakMap,h1=new WeakMap,Yg=new WeakMap,p1=new WeakMap,Cm=new WeakMap,ch=new WeakMap,lp=new WeakMap,m1=new WeakMap,f1=new WeakMap,nd=new WeakMap,di=new WeakSet,Sb=function({anchorNode:e}){return e.nodeType===Node.TEXT_NODE?e.parentElement:e},Dj=function(e){const{currentLayer:Ee}=this;if(Ee.hasTextLayer(e))return Ee;for(const Ce of Ke(this,So).values())if(Ce.hasTextLayer(e))return Ce;return null},TR=function(){const e=document.getSelection();if(!e||e.isCollapsed)return;const Ce=Hs(this,di,Sb).call(this,e).closest(".textLayer"),Te=this.getSelectionBoxes(Ce);Te&&(Ke(this,lh)||Ls(this,lh,new FloatingToolbar(this)),Ke(this,lh).show(Ce,Te,this.direction==="ltr"))},kR=function(){var De,Me,Oe;const e=document.getSelection();if(!e||e.isCollapsed){Ke(this,op)&&((De=Ke(this,lh))==null||De.hide(),Ls(this,op,null),Hs(this,di,nc).call(this,{hasSelectedText:!1}));return}const{anchorNode:Ee}=e;if(Ee===Ke(this,op))return;const Te=Hs(this,di,Sb).call(this,e).closest(".textLayer");if(!Te){Ke(this,op)&&((Me=Ke(this,lh))==null||Me.hide(),Ls(this,op,null),Hs(this,di,nc).call(this,{hasSelectedText:!1}));return}if((Oe=Ke(this,lh))==null||Oe.hide(),Ls(this,op,Ee),Hs(this,di,nc).call(this,{hasSelectedText:!0}),!(Ke(this,co)!==AnnotationEditorType.HIGHLIGHT&&Ke(this,co)!==AnnotationEditorType.NONE)&&(Ke(this,co)===AnnotationEditorType.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),Ls(this,wm,this.isShiftKeyDown),!this.isShiftKeyDown)){const Be=Ke(this,co)===AnnotationEditorType.HIGHLIGHT?Hs(this,di,Dj).call(this,Te):null;if(Be==null||Be.toggleDrawing(),Ke(this,Zg)){const ze=new AbortController,Ve=this.combinedSignal(ze),qe=We=>{We.type==="pointerup"&&We.button!==0||(ze.abort(),Be==null||Be.toggleDrawing(!0),We.type==="pointerup"&&Hs(this,di,Oy).call(this,"main_toolbar"))};window.addEventListener("pointerup",qe,{signal:Ve}),window.addEventListener("blur",qe,{signal:Ve})}else Be==null||Be.toggleDrawing(!0),Hs(this,di,Oy).call(this,"main_toolbar")}},Oy=function(e=""){Ke(this,co)===AnnotationEditorType.HIGHLIGHT?this.highlightSelection(e):Ke(this,o1)&&Hs(this,di,TR).call(this)},DR=function(){document.addEventListener("selectionchange",Hs(this,di,kR).bind(this),{signal:this._signal})},LR=function(){if(Ke(this,Em))return;Ls(this,Em,new AbortController);const e=this.combinedSignal(Ke(this,Em));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})},MR=function(){var e;(e=Ke(this,Em))==null||e.abort(),Ls(this,Em,null)},Lj=function(){if(Ke(this,_m))return;Ls(this,_m,new AbortController);const e=this.combinedSignal(Ke(this,_m));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})},FR=function(){var e;(e=Ke(this,_m))==null||e.abort(),Ls(this,_m,null)},Mj=function(){if(Ke(this,vm))return;Ls(this,vm,new AbortController);const e=this.combinedSignal(Ke(this,vm));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})},Fj=function(){var e;(e=Ke(this,vm))==null||e.abort(),Ls(this,vm,null)},OR=function(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})},nc=function(e){Object.entries(e).some(([Ce,Te])=>Ke(this,p1)[Ce]!==Te)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(Ke(this,p1),e)}),Ke(this,co)===AnnotationEditorType.HIGHLIGHT&&e.hasSelectedEditor===!1&&Hs(this,di,sp).call(this,[[AnnotationEditorParamsType.HIGHLIGHT_FREE,!0]]))},sp=function(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})},IR=async function(){if(!Ke(this,Rm)){Ls(this,Rm,!0);const e=[];for(const Ee of Ke(this,So).values())e.push(Ee.enable());await Promise.all(e);for(const Ee of Ke(this,Oa).values())Ee.enable()}},BR=function(){if(this.unselectAll(),Ke(this,Rm)){Ls(this,Rm,!1);for(const e of Ke(this,So).values())e.disable();for(const e of Ke(this,Oa).values())e.disable()}},Oj=function(e){const Ee=Ke(this,So).get(e.pageIndex);Ee?Ee.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))},zR=function(){let e=null;for(e of Ke(this,Mn));return e},Iy=function(){if(Ke(this,Oa).size===0)return!0;if(Ke(this,Oa).size===1)for(const e of Ke(this,Oa).values())return e.isEmpty();return!1},Ij=function(e){for(const Ee of Ke(this,Mn))Ee.unselect();Ke(this,Mn).clear();for(const Ee of e)Ee.isEmpty()||(Ke(this,Mn).add(Ee),Ee.select());Hs(this,di,nc).call(this,{hasSelectedEditor:this.hasSelection})},qr(Dg,"TRANSLATE_SMALL",1),qr(Dg,"TRANSLATE_BIG",10);let AnnotationEditorUIManager=Dg;var Vo,uh,Cd,Xg,dh,uu,Jg,hh,kc,cp,Uf,ph,Pm,$d,By,Nb;const ac=class ac{constructor(e){Bs(this,$d);Bs(this,Vo,null);Bs(this,uh,!1);Bs(this,Cd,null);Bs(this,Xg,null);Bs(this,dh,null);Bs(this,uu,null);Bs(this,Jg,!1);Bs(this,hh,null);Bs(this,kc,null);Bs(this,cp,null);Bs(this,Uf,null);Bs(this,ph,!1);Ls(this,kc,e),Ls(this,ph,e._uiManager.useNewAltTextFlow),Ke(ac,Pm)||Ls(ac,Pm,Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){ac._l10n??(ac._l10n=e)}async render(){const e=Ls(this,Cd,document.createElement("button"));e.className="altText",e.tabIndex="0";const Ee=Ls(this,Xg,document.createElement("span"));e.append(Ee),Ke(this,ph)?(e.classList.add("new"),e.setAttribute("data-l10n-id",Ke(ac,Pm).missing),Ee.setAttribute("data-l10n-id",Ke(ac,Pm)["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),Ee.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const Ce=Ke(this,kc)._uiManager._signal;e.addEventListener("contextmenu",noContextMenu,{signal:Ce}),e.addEventListener("pointerdown",De=>De.stopPropagation(),{signal:Ce});const Te=De=>{De.preventDefault(),Ke(this,kc)._uiManager.editAltText(Ke(this,kc)),Ke(this,ph)&&Ke(this,kc)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:Ke(this,$d,By)}})};return e.addEventListener("click",Te,{capture:!0,signal:Ce}),e.addEventListener("keydown",De=>{De.target===e&&De.key==="Enter"&&(Ls(this,Jg,!0),Te(De))},{signal:Ce}),await Hs(this,$d,Nb).call(this),e}finish(){Ke(this,Cd)&&(Ke(this,Cd).focus({focusVisible:Ke(this,Jg)}),Ls(this,Jg,!1))}isEmpty(){return Ke(this,ph)?Ke(this,Vo)===null:!Ke(this,Vo)&&!Ke(this,uh)}hasData(){return Ke(this,ph)?Ke(this,Vo)!==null||!!Ke(this,cp):this.isEmpty()}get guessedText(){return Ke(this,cp)}async setGuessedText(e){Ke(this,Vo)===null&&(Ls(this,cp,e),Ls(this,Uf,await ac._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),Hs(this,$d,Nb).call(this))}toggleAltTextBadge(e=!1){var Ee;if(!Ke(this,ph)||Ke(this,Vo)){(Ee=Ke(this,hh))==null||Ee.remove(),Ls(this,hh,null);return}if(!Ke(this,hh)){const Ce=Ls(this,hh,document.createElement("div"));Ce.className="noAltTextBadge",Ke(this,kc).div.append(Ce)}Ke(this,hh).classList.toggle("hidden",!e)}serialize(e){let Ee=Ke(this,Vo);return!e&&Ke(this,cp)===Ee&&(Ee=Ke(this,Uf)),{altText:Ee,decorative:Ke(this,uh),guessedText:Ke(this,cp),textWithDisclaimer:Ke(this,Uf)}}get data(){return{altText:Ke(this,Vo),decorative:Ke(this,uh)}}set data({altText:e,decorative:Ee,guessedText:Ce,textWithDisclaimer:Te,cancel:De=!1}){Ce&&(Ls(this,cp,Ce),Ls(this,Uf,Te)),!(Ke(this,Vo)===e&&Ke(this,uh)===Ee)&&(De||(Ls(this,Vo,e),Ls(this,uh,Ee)),Hs(this,$d,Nb).call(this))}toggle(e=!1){Ke(this,Cd)&&(!e&&Ke(this,uu)&&(clearTimeout(Ke(this,uu)),Ls(this,uu,null)),Ke(this,Cd).disabled=!e)}shown(){Ke(this,kc)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:Ke(this,$d,By)}})}destroy(){var e,Ee;(e=Ke(this,Cd))==null||e.remove(),Ls(this,Cd,null),Ls(this,Xg,null),Ls(this,dh,null),(Ee=Ke(this,hh))==null||Ee.remove(),Ls(this,hh,null)}};Vo=new WeakMap,uh=new WeakMap,Cd=new WeakMap,Xg=new WeakMap,dh=new WeakMap,uu=new WeakMap,Jg=new WeakMap,hh=new WeakMap,kc=new WeakMap,cp=new WeakMap,Uf=new WeakMap,ph=new WeakMap,Pm=new WeakMap,$d=new WeakSet,By=function(){return Ke(this,Vo)&&"added"||Ke(this,Vo)===null&&this.guessedText&&"review"||"missing"},Nb=async function(){var Te,De,Me;const e=Ke(this,Cd);if(!e)return;if(Ke(this,ph)){if(e.classList.toggle("done",!!Ke(this,Vo)),e.setAttribute("data-l10n-id",Ke(ac,Pm)[Ke(this,$d,By)]),(Te=Ke(this,Xg))==null||Te.setAttribute("data-l10n-id",Ke(ac,Pm)[`${Ke(this,$d,By)}-label`]),!Ke(this,Vo)){(De=Ke(this,dh))==null||De.remove();return}}else{if(!Ke(this,Vo)&&!Ke(this,uh)){e.classList.remove("done"),(Me=Ke(this,dh))==null||Me.remove();return}e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let Ee=Ke(this,dh);if(!Ee){Ls(this,dh,Ee=document.createElement("span")),Ee.className="tooltip",Ee.setAttribute("role","tooltip"),Ee.id=`alt-text-tooltip-${Ke(this,kc).id}`;const Oe=100,Be=Ke(this,kc)._uiManager._signal;Be.addEventListener("abort",()=>{clearTimeout(Ke(this,uu)),Ls(this,uu,null)},{once:!0}),e.addEventListener("mouseenter",()=>{Ls(this,uu,setTimeout(()=>{Ls(this,uu,null),Ke(this,dh).classList.add("show"),Ke(this,kc)._reportTelemetry({action:"alt_text_tooltip"})},Oe))},{signal:Be}),e.addEventListener("mouseleave",()=>{var ze;Ke(this,uu)&&(clearTimeout(Ke(this,uu)),Ls(this,uu,null)),(ze=Ke(this,dh))==null||ze.classList.remove("show")},{signal:Be})}Ke(this,uh)?Ee.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(Ee.removeAttribute("data-l10n-id"),Ee.textContent=Ke(this,Vo)),Ee.parentNode||e.append(Ee);const Ce=Ke(this,kc).getElementForAltText();Ce==null||Ce.setAttribute("aria-describedby",Ee.id)},Bs(ac,Pm,null),qr(ac,"_l10n",null);let AltText=ac;var ol,ad,Hf,na,x1,qf,Pd,Gf,Wf,Zf,g1,Bj;class Comment{constructor(e){Bs(this,g1);Bs(this,ol,null);Bs(this,ad,null);Bs(this,Hf,!1);Bs(this,na,null);Bs(this,x1,null);Bs(this,qf,null);Bs(this,Pd,null);Bs(this,Gf,null);Bs(this,Wf,!1);Bs(this,Zf,null);Ls(this,na,e)}renderForToolbar(){const e=Ls(this,ad,document.createElement("button"));return e.className="comment",Hs(this,g1,Bj).call(this,e,!1)}renderForStandalone(){const e=Ls(this,ol,document.createElement("button"));e.className="annotationCommentButton";const Ee=Ke(this,na).commentButtonPosition;if(Ee){const{style:Ce}=e;Ce.insetInlineEnd=`calc(${100*(Ke(this,na)._uiManager.direction==="ltr"?1-Ee[0]:Ee[0])}% - var(--comment-button-dim))`,Ce.top=`calc(${100*Ee[1]}% - var(--comment-button-dim))`;const Te=Ke(this,na).commentButtonColor;Te&&(Ce.backgroundColor=Te)}return Hs(this,g1,Bj).call(this,e,!0)}focusButton(){setTimeout(()=>{var e;(e=Ke(this,ol)??Ke(this,ad))==null||e.focus()},0)}onUpdatedColor(){if(!Ke(this,ol))return;const e=Ke(this,na).commentButtonColor;e&&(Ke(this,ol).style.backgroundColor=e),Ke(this,na)._uiManager.updatePopupColor(Ke(this,na))}get commentButtonWidth(){var e;return(((e=Ke(this,ol))==null?void 0:e.getBoundingClientRect().width)??0)/Ke(this,na).parent.boundingClientRect.width}get commentPopupPositionInLayer(){if(Ke(this,Zf))return Ke(this,Zf);if(!Ke(this,ol))return null;const{x:e,y:Ee,height:Ce}=Ke(this,ol).getBoundingClientRect(),{x:Te,y:De,width:Me,height:Oe}=Ke(this,na).parent.boundingClientRect;return[(e-Te)/Me,(Ee+Ce-De)/Oe]}set commentPopupPositionInLayer(e){Ls(this,Zf,e)}hasDefaultPopupPosition(){return Ke(this,Zf)===null}removeStandaloneCommentButton(){var e;(e=Ke(this,ol))==null||e.remove(),Ls(this,ol,null)}removeToolbarCommentButton(){var e;(e=Ke(this,ad))==null||e.remove(),Ls(this,ad,null)}setCommentButtonStates({selected:e,hasPopup:Ee}){Ke(this,ol)&&(Ke(this,ol).classList.toggle("selected",e),Ke(this,ol).ariaExpanded=Ee)}edit(e){const Ee=this.commentPopupPositionInLayer;let Ce,Te;if(Ee)[Ce,Te]=Ee;else{[Ce,Te]=Ke(this,na).commentButtonPosition;const{width:Ve,height:qe,x:We,y:Ge}=Ke(this,na);Ce=We+Ce*Ve,Te=Ge+Te*qe}const De=Ke(this,na).parent.boundingClientRect,{x:Me,y:Oe,width:Be,height:ze}=De;Ke(this,na)._uiManager.editComment(Ke(this,na),Me+Ce*Be,Oe+Te*ze,{...e,parentDimensions:De})}finish(){Ke(this,ad)&&(Ke(this,ad).focus({focusVisible:Ke(this,Hf)}),Ls(this,Hf,!1))}isDeleted(){return Ke(this,Wf)||Ke(this,Pd)===""}isEmpty(){return Ke(this,Pd)===null}hasBeenEdited(){return this.isDeleted()||Ke(this,Pd)!==Ke(this,x1)}serialize(){return this.data}get data(){return{text:Ke(this,Pd),richText:Ke(this,qf),date:Ke(this,Gf),deleted:this.isDeleted()}}set data(e){if(e!==Ke(this,Pd)&&Ls(this,qf,null),e===null){Ls(this,Pd,""),Ls(this,Wf,!0);return}Ls(this,Pd,e),Ls(this,Gf,new Date),Ls(this,Wf,!1)}setInitialText(e,Ee=null){Ls(this,x1,e),this.data=e,Ls(this,Gf,null),Ls(this,qf,Ee)}shown(){}destroy(){var e,Ee;(e=Ke(this,ad))==null||e.remove(),Ls(this,ad,null),(Ee=Ke(this,ol))==null||Ee.remove(),Ls(this,ol,null),Ls(this,Pd,""),Ls(this,qf,null),Ls(this,Gf,null),Ls(this,na,null),Ls(this,Hf,!1),Ls(this,Wf,!1)}}ol=new WeakMap,ad=new WeakMap,Hf=new WeakMap,na=new WeakMap,x1=new WeakMap,qf=new WeakMap,Pd=new WeakMap,Gf=new WeakMap,Wf=new WeakMap,Zf=new WeakMap,g1=new WeakSet,Bj=function(e,Ee){if(!Ke(this,na)._uiManager.hasCommentManager())return null;e.tabIndex="0",e.ariaHasPopup="dialog",Ee?(e.ariaControls="commentPopup",e.setAttribute("data-l10n-id","pdfjs-show-comment-button")):(e.ariaControlsElements=[Ke(this,na)._uiManager.getCommentDialogElement()],e.setAttribute("data-l10n-id","pdfjs-editor-edit-comment-button"));const Ce=Ke(this,na)._uiManager._signal;if(!(Ce instanceof AbortSignal)||Ce.aborted)return e;e.addEventListener("contextmenu",noContextMenu,{signal:Ce}),Ee&&(e.addEventListener("focusin",De=>{Ke(this,na)._focusEventsAllowed=!1,stopEvent(De)},{capture:!0,signal:Ce}),e.addEventListener("focusout",De=>{Ke(this,na)._focusEventsAllowed=!0,stopEvent(De)},{capture:!0,signal:Ce})),e.addEventListener("pointerdown",De=>De.stopPropagation(),{signal:Ce});const Te=De=>{De.preventDefault(),e===Ke(this,ad)?this.edit():Ke(this,na).toggleComment(!0)};return e.addEventListener("click",Te,{capture:!0,signal:Ce}),e.addEventListener("keydown",De=>{De.target===e&&De.key==="Enter"&&(Ls(this,Hf,!0),Te(De))},{signal:Ce}),e.addEventListener("pointerenter",()=>{Ke(this,na).toggleComment(!1,!0)},{signal:Ce}),e.addEventListener("pointerleave",()=>{Ke(this,na).toggleComment(!1,!1)},{signal:Ce}),e};var Qg,Kf,y1,v1,b1,j1,E1,up,Yf,dp,Xf,hp,uf,$R,VR,UR;const ME=class ME{constructor({container:e,isPinchingDisabled:Ee=null,isPinchingStopped:Ce=null,onPinchStart:Te=null,onPinching:De=null,onPinchEnd:Me=null,signal:Oe}){Bs(this,uf);Bs(this,Qg);Bs(this,Kf,!1);Bs(this,y1,null);Bs(this,v1);Bs(this,b1);Bs(this,j1);Bs(this,E1);Bs(this,up,null);Bs(this,Yf);Bs(this,dp,null);Bs(this,Xf);Bs(this,hp,null);Ls(this,Qg,e),Ls(this,y1,Ce),Ls(this,v1,Ee),Ls(this,b1,Te),Ls(this,j1,De),Ls(this,E1,Me),Ls(this,Xf,new AbortController),Ls(this,Yf,AbortSignal.any([Oe,Ke(this,Xf).signal])),e.addEventListener("touchstart",Hs(this,uf,$R).bind(this),{passive:!1,signal:Ke(this,Yf)})}get MIN_TOUCH_DISTANCE_TO_PINCH(){return 35/OutputScale.pixelRatio}destroy(){var e,Ee;(e=Ke(this,Xf))==null||e.abort(),Ls(this,Xf,null),(Ee=Ke(this,up))==null||Ee.abort(),Ls(this,up,null)}};Qg=new WeakMap,Kf=new WeakMap,y1=new WeakMap,v1=new WeakMap,b1=new WeakMap,j1=new WeakMap,E1=new WeakMap,up=new WeakMap,Yf=new WeakMap,dp=new WeakMap,Xf=new WeakMap,hp=new WeakMap,uf=new WeakSet,$R=function(e){var Te,De,Me;if((Te=Ke(this,v1))!=null&&Te.call(this))return;if(e.touches.length===1){if(Ke(this,up))return;const Oe=Ls(this,up,new AbortController),Be=AbortSignal.any([Ke(this,Yf),Oe.signal]),ze=Ke(this,Qg),Ve={capture:!0,signal:Be,passive:!1},qe=We=>{var Ge;We.pointerType==="touch"&&((Ge=Ke(this,up))==null||Ge.abort(),Ls(this,up,null))};ze.addEventListener("pointerdown",We=>{We.pointerType==="touch"&&(stopEvent(We),qe(We))},Ve),ze.addEventListener("pointerup",qe,Ve),ze.addEventListener("pointercancel",qe,Ve);return}if(!Ke(this,hp)){Ls(this,hp,new AbortController);const Oe=AbortSignal.any([Ke(this,Yf),Ke(this,hp).signal]),Be=Ke(this,Qg),ze={signal:Oe,capture:!1,passive:!1};Be.addEventListener("touchmove",Hs(this,uf,VR).bind(this),ze);const Ve=Hs(this,uf,UR).bind(this);Be.addEventListener("touchend",Ve,ze),Be.addEventListener("touchcancel",Ve,ze),ze.capture=!0,Be.addEventListener("pointerdown",stopEvent,ze),Be.addEventListener("pointermove",stopEvent,ze),Be.addEventListener("pointercancel",stopEvent,ze),Be.addEventListener("pointerup",stopEvent,ze),(De=Ke(this,b1))==null||De.call(this)}if(stopEvent(e),e.touches.length!==2||(Me=Ke(this,y1))!=null&&Me.call(this)){Ls(this,dp,null);return}let[Ee,Ce]=e.touches;Ee.identifier>Ce.identifier&&([Ee,Ce]=[Ce,Ee]),Ls(this,dp,{touch0X:Ee.screenX,touch0Y:Ee.screenY,touch1X:Ce.screenX,touch1Y:Ce.screenY})},VR=function(e){var Xe;if(!Ke(this,dp)||e.touches.length!==2)return;stopEvent(e);let[Ee,Ce]=e.touches;Ee.identifier>Ce.identifier&&([Ee,Ce]=[Ce,Ee]);const{screenX:Te,screenY:De}=Ee,{screenX:Me,screenY:Oe}=Ce,Be=Ke(this,dp),{touch0X:ze,touch0Y:Ve,touch1X:qe,touch1Y:We}=Be,Ge=qe-ze,Je=We-Ve,Qe=Me-Te,ns=Oe-De,Ye=Math.hypot(Qe,ns)||1,rs=Math.hypot(Ge,Je)||1;if(!Ke(this,Kf)&&Math.abs(rs-Ye)<=ME.MIN_TOUCH_DISTANCE_TO_PINCH)return;if(Be.touch0X=Te,Be.touch0Y=De,Be.touch1X=Me,Be.touch1Y=Oe,!Ke(this,Kf)){Ls(this,Kf,!0);return}const ts=[(Te+Me)/2,(De+Oe)/2];(Xe=Ke(this,j1))==null||Xe.call(this,ts,rs,Ye)},UR=function(e){var Ee;e.touches.length>=2||(Ke(this,hp)&&(Ke(this,hp).abort(),Ls(this,hp,null),(Ee=Ke(this,E1))==null||Ee.call(this)),Ke(this,dp)&&(stopEvent(e),Ls(this,dp,null),Ls(this,Kf,!1)))};let TouchManager=ME;var Jf,Td,ba,Kn,pp,e0,Tm,w1,ll,Qf,mp,mh,km,R1,ex,du,_1,tx,fp,fh,t0,s0,od,sx,S1,o2,Di,zj,N1,$j,Ab,HR,qR,Vj,Cb,Uj,GR,WR,ZR,Hj,KR,qj,YR,XR,JR,Gj,zy;const qi=class qi{constructor(e){Bs(this,Di);Bs(this,Jf,null);Bs(this,Td,null);Bs(this,ba,null);Bs(this,Kn,null);Bs(this,pp,null);Bs(this,e0,!1);Bs(this,Tm,null);Bs(this,w1,"");Bs(this,ll,null);Bs(this,Qf,null);Bs(this,mp,null);Bs(this,mh,null);Bs(this,km,null);Bs(this,R1,"");Bs(this,ex,!1);Bs(this,du,null);Bs(this,_1,!1);Bs(this,tx,!1);Bs(this,fp,!1);Bs(this,fh,null);Bs(this,t0,0);Bs(this,s0,0);Bs(this,od,null);Bs(this,sx,null);qr(this,"isSelected",!1);qr(this,"_isCopy",!1);qr(this,"_editToolbar",null);qr(this,"_initialOptions",Object.create(null));qr(this,"_initialData",null);qr(this,"_isVisible",!0);qr(this,"_uiManager",null);qr(this,"_focusEventsAllowed",!0);Bs(this,S1,!1);Bs(this,o2,qi._zIndex++);this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null,this.annotationElementId=e.annotationElementId||null,this.creationDate=e.creationDate||new Date,this.modificationDate=e.modificationDate||null;const{rotation:Ee,rawDims:{pageWidth:Ce,pageHeight:Te,pageX:De,pageY:Me}}=this.parent.viewport;this.rotation=Ee,this.pageRotation=(360+Ee-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[Ce,Te],this.pageTranslation=[De,Me];const[Oe,Be]=this.parentDimensions;this.x=e.x/Oe,this.y=e.y/Be,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const e=qi.prototype._resizeWithKeyboard,Ee=AnnotationEditorUIManager.TRANSLATE_SMALL,Ce=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_resizerKeyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-Ee,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-Ce,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[Ee,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[Ce,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-Ee]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-Ce]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,Ee]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,Ce]}],[["Escape","mac+Escape"],qi.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}get mode(){return Object.getPrototypeOf(this).constructor._editorType}static get isDrawer(){return!1}static get _defaultLineColor(){return shadow(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const Ee=new FakeEditor({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});Ee.annotationElementId=e.annotationElementId,Ee.deleted=!0,Ee._uiManager.addToAnnotationStorage(Ee)}static initialize(e,Ee){if(qi._l10n??(qi._l10n=e),qi._l10nResizer||(qi._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),qi._borderLineWidth!==-1)return;const Ce=getComputedStyle(document.documentElement);qi._borderLineWidth=parseFloat(Ce.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,Ee){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,Ee){unreachable("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return Ke(this,S1)}set _isDraggable(e){var Ee;Ls(this,S1,e),(Ee=this.div)==null||Ee.classList.toggle("draggable",e)}get uid(){return this.annotationElementId||this.id}get isEnterHandled(){return!0}center(){const[e,Ee]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*Ee/(e*2),this.y+=this.width*e/(Ee*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*Ee/(e*2),this.y-=this.width*e/(Ee*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=Ke(this,o2)}setParent(e){var Ee;e!==null?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):(Hs(this,Di,zy).call(this),(Ee=Ke(this,mh))==null||Ee.remove(),Ls(this,mh,null)),this.parent=e}focusin(e){this._focusEventsAllowed&&(Ke(this,ex)?Ls(this,ex,!1):this.parent.setSelected(this))}focusout(e){var Ce;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const Ee=e.relatedTarget;Ee!=null&&Ee.closest(`#${this.id}`)||(e.preventDefault(),(Ce=this.parent)!=null&&Ce.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.isInEditMode()&&this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,Ee,Ce,Te){const[De,Me]=this.parentDimensions;[Ce,Te]=this.screenToPageTranslation(Ce,Te),this.x=(e+Ce)/De,this.y=(Ee+Te)/Me,this.fixAndSetPosition()}_moveAfterPaste(e,Ee){const[Ce,Te]=this.parentDimensions;this.setAt(e*Ce,Ee*Te,this.width*Ce,this.height*Te),this._onTranslated()}translate(e,Ee){Hs(this,Di,zj).call(this,this.parentDimensions,e,Ee)}translateInPage(e,Ee){Ke(this,du)||Ls(this,du,[this.x,this.y,this.width,this.height]),Hs(this,Di,zj).call(this,this.pageDimensions,e,Ee),this.div.scrollIntoView({block:"nearest"})}translationDone(){this._onTranslated(this.x,this.y)}drag(e,Ee){Ke(this,du)||Ls(this,du,[this.x,this.y,this.width,this.height]);const{div:Ce,parentDimensions:[Te,De]}=this;if(this.x+=e/Te,this.y+=Ee/De,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:qe,y:We}=this.div.getBoundingClientRect();this.parent.findNewParent(this,qe,We)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:Me,y:Oe}=this;const[Be,ze]=this.getBaseTranslation();Me+=Be,Oe+=ze;const{style:Ve}=Ce;Ve.left=`${(100*Me).toFixed(2)}%`,Ve.top=`${(100*Oe).toFixed(2)}%`,this._onTranslating(Me,Oe),Ce.scrollIntoView({block:"nearest"})}_onTranslating(e,Ee){}_onTranslated(e,Ee){}get _hasBeenMoved(){return!!Ke(this,du)&&(Ke(this,du)[0]!==this.x||Ke(this,du)[1]!==this.y)}get _hasBeenResized(){return!!Ke(this,du)&&(Ke(this,du)[2]!==this.width||Ke(this,du)[3]!==this.height)}getBaseTranslation(){const[e,Ee]=this.parentDimensions,{_borderLineWidth:Ce}=qi,Te=Ce/e,De=Ce/Ee;switch(this.rotation){case 90:return[-Te,De];case 180:return[Te,De];case 270:return[Te,-De];default:return[-Te,-De]}}get _mustFixPosition(){return!0}fixAndSetPosition(e=this.rotation){const{div:{style:Ee},pageDimensions:[Ce,Te]}=this;let{x:De,y:Me,width:Oe,height:Be}=this;if(Oe*=Ce,Be*=Te,De*=Ce,Me*=Te,this._mustFixPosition)switch(e){case 0:De=MathClamp(De,0,Ce-Oe),Me=MathClamp(Me,0,Te-Be);break;case 90:De=MathClamp(De,0,Ce-Be),Me=MathClamp(Me,Oe,Te);break;case 180:De=MathClamp(De,Oe,Ce),Me=MathClamp(Me,Be,Te);break;case 270:De=MathClamp(De,Be,Ce),Me=MathClamp(Me,0,Te-Oe);break}this.x=De/=Ce,this.y=Me/=Te;const[ze,Ve]=this.getBaseTranslation();De+=ze,Me+=Ve,Ee.left=`${(100*De).toFixed(2)}%`,Ee.top=`${(100*Me).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(e,Ee){var Ce;return Hs(Ce=qi,N1,$j).call(Ce,e,Ee,this.parentRotation)}pageTranslationToScreen(e,Ee){var Ce;return Hs(Ce=qi,N1,$j).call(Ce,e,Ee,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[Ee,Ce]}=this;return[Ee*e,Ce*e]}setDims(){const{div:{style:e},width:Ee,height:Ce}=this;e.width=`${(100*Ee).toFixed(2)}%`,e.height=`${(100*Ce).toFixed(2)}%`}getInitialTranslation(){return[0,0]}_onResized(){}static _round(e){return Math.round(e*1e4)/1e4}_onResizing(){}altTextFinish(){var e;(e=Ke(this,ba))==null||e.finish()}get toolbarButtons(){return null}async addEditToolbar(){if(this._editToolbar||Ke(this,tx))return this._editToolbar;this._editToolbar=new EditorToolbar(this),this.div.append(this._editToolbar.render());const{toolbarButtons:e}=this;if(e)for(const[Ee,Ce]of e)await this._editToolbar.addButton(Ee,Ce);return this.hasComment||this._editToolbar.addButton("comment",this.addCommentButton()),this._editToolbar.addButton("delete"),this._editToolbar}addCommentButtonInToolbar(){var e;(e=this._editToolbar)==null||e.addButtonBefore("comment",this.addCommentButton(),".deleteButton")}removeCommentButtonFromToolbar(){var e;(e=this._editToolbar)==null||e.removeButton("comment")}removeEditToolbar(){var e,Ee;(e=this._editToolbar)==null||e.remove(),this._editToolbar=null,(Ee=Ke(this,ba))==null||Ee.destroy()}addContainer(e){var Ce;const Ee=(Ce=this._editToolbar)==null?void 0:Ce.div;Ee?Ee.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}createAltText(){return Ke(this,ba)||(AltText.initialize(qi._l10n),Ls(this,ba,new AltText(this)),Ke(this,Jf)&&(Ke(this,ba).data=Ke(this,Jf),Ls(this,Jf,null))),Ke(this,ba)}get altTextData(){var e;return(e=Ke(this,ba))==null?void 0:e.data}set altTextData(e){Ke(this,ba)&&(Ke(this,ba).data=e)}get guessedAltText(){var e;return(e=Ke(this,ba))==null?void 0:e.guessedText}async setGuessedAltText(e){var Ee;await((Ee=Ke(this,ba))==null?void 0:Ee.setGuessedText(e))}serializeAltText(e){var Ee;return(Ee=Ke(this,ba))==null?void 0:Ee.serialize(e)}hasAltText(){return!!Ke(this,ba)&&!Ke(this,ba).isEmpty()}hasAltTextData(){var e;return((e=Ke(this,ba))==null?void 0:e.hasData())??!1}focusCommentButton(){var e;(e=Ke(this,Kn))==null||e.focusButton()}addCommentButton(){return Ke(this,Kn)||Ls(this,Kn,new Comment(this))}addStandaloneCommentButton(){if(Ke(this,pp)){this._uiManager.isEditingMode()&&Ke(this,pp).classList.remove("hidden");return}this.hasComment&&(Ls(this,pp,Ke(this,Kn).renderForStandalone()),this.div.append(Ke(this,pp)))}removeStandaloneCommentButton(){Ke(this,Kn).removeStandaloneCommentButton(),Ls(this,pp,null)}hideStandaloneCommentButton(){var e;(e=Ke(this,pp))==null||e.classList.add("hidden")}get comment(){const{data:{richText:e,text:Ee,date:Ce,deleted:Te}}=Ke(this,Kn);return{text:Ee,richText:e,date:Ce,deleted:Te,color:this.getNonHCMColor(),opacity:this.opacity??1}}set comment(e){Ke(this,Kn)||Ls(this,Kn,new Comment(this)),Ke(this,Kn).data=e,this.hasComment?(this.removeCommentButtonFromToolbar(),this.addStandaloneCommentButton(),this._uiManager.updateComment(this)):(this.addCommentButtonInToolbar(),this.removeStandaloneCommentButton(),this._uiManager.removeComment(this))}setCommentData({comment:e,popupRef:Ee,richText:Ce}){if(!Ee||(Ke(this,Kn)||Ls(this,Kn,new Comment(this)),Ke(this,Kn).setInitialText(e,Ce),!this.annotationElementId))return;const Te=this._uiManager.getAndRemoveDataFromAnnotationStorage(this.annotationElementId);Te&&this.updateFromAnnotationLayer(Te)}get hasEditedComment(){var e;return(e=Ke(this,Kn))==null?void 0:e.hasBeenEdited()}get hasDeletedComment(){var e;return(e=Ke(this,Kn))==null?void 0:e.isDeleted()}get hasComment(){return!!Ke(this,Kn)&&!Ke(this,Kn).isEmpty()&&!Ke(this,Kn).isDeleted()}async editComment(e){Ke(this,Kn)||Ls(this,Kn,new Comment(this)),Ke(this,Kn).edit(e)}toggleComment(e,Ee=void 0){this.hasComment&&this._uiManager.toggleComment(this,e,Ee)}setSelectedCommentButton(e){Ke(this,Kn).setSelectedButton(e)}addComment(e){if(this.hasEditedComment){const[,,,Te]=e.rect,[De]=this.pageDimensions,[Me]=this.pageTranslation,Oe=Me+De+1,Be=Te-100,ze=Oe+180;e.popup={contents:this.comment.text,deleted:this.comment.deleted,rect:[Oe,Be,ze,Te]}}}updateFromAnnotationLayer({popup:{contents:e,deleted:Ee}}){Ke(this,Kn).data=Ee?null:e}get parentBoundingClientRect(){return this.parent.boundingClientRect}render(){var Me;const e=this.div=document.createElement("div");e.setAttribute("data-editor-rotation",(360-this.rotation)%360),e.className=this.name,e.setAttribute("id",this.id),e.tabIndex=Ke(this,e0)?-1:0,e.setAttribute("role","application"),this.defaultL10nId&&e.setAttribute("data-l10n-id",this.defaultL10nId),this._isVisible||e.classList.add("hidden"),this.setInForeground(),Hs(this,Di,qj).call(this);const[Ee,Ce]=this.parentDimensions;this.parentRotation%180!==0&&(e.style.maxWidth=`${(100*Ce/Ee).toFixed(2)}%`,e.style.maxHeight=`${(100*Ee/Ce).toFixed(2)}%`);const[Te,De]=this.getInitialTranslation();return this.translate(Te,De),bindEvents(this,e,["keydown","pointerdown","dblclick"]),this.isResizable&&this._uiManager._supportsPinchToZoom&&(Ke(this,sx)||Ls(this,sx,new TouchManager({container:e,isPinchingDisabled:()=>!this.isSelected,onPinchStart:Hs(this,Di,GR).bind(this),onPinching:Hs(this,Di,WR).bind(this),onPinchEnd:Hs(this,Di,ZR).bind(this),signal:this._uiManager._signal}))),this.addStandaloneCommentButton(),(Me=this._uiManager._editorUndoBar)==null||Me.hide(),e}pointerdown(e){const{isMac:Ee}=util_FeatureTest.platform;if(e.button!==0||e.ctrlKey&&Ee){e.preventDefault();return}if(Ls(this,ex,!0),this._isDraggable){Hs(this,Di,KR).call(this,e);return}Hs(this,Di,Hj).call(this,e)}_onStartDragging(){}_onStopDragging(){}moveInDOM(){Ke(this,fh)&&clearTimeout(Ke(this,fh)),Ls(this,fh,setTimeout(()=>{var e;Ls(this,fh,null),(e=this.parent)==null||e.moveEditorInDOM(this)},0))}_setParentAndPosition(e,Ee,Ce){e.changeParent(this),this.x=Ee,this.y=Ce,this.fixAndSetPosition(),this._onTranslated()}getRect(e,Ee,Ce=this.rotation){const Te=this.parentScale,[De,Me]=this.pageDimensions,[Oe,Be]=this.pageTranslation,ze=e/Te,Ve=Ee/Te,qe=this.x*De,We=this.y*Me,Ge=this.width*De,Je=this.height*Me;switch(Ce){case 0:return[qe+ze+Oe,Me-We-Ve-Je+Be,qe+ze+Ge+Oe,Me-We-Ve+Be];case 90:return[qe+Ve+Oe,Me-We+ze+Be,qe+Ve+Je+Oe,Me-We+ze+Ge+Be];case 180:return[qe-ze-Ge+Oe,Me-We+Ve+Be,qe-ze+Oe,Me-We+Ve+Je+Be];case 270:return[qe-Ve-Je+Oe,Me-We-ze-Ge+Be,qe-Ve+Oe,Me-We-ze+Be];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,Ee){const[Ce,Te,De,Me]=e,Oe=De-Ce,Be=Me-Te;switch(this.rotation){case 0:return[Ce,Ee-Me,Oe,Be];case 90:return[Ce,Ee-Te,Be,Oe];case 180:return[De,Ee-Te,Oe,Be];case 270:return[De,Ee-Me,Be,Oe];default:throw new Error("Invalid rotation")}}getPDFRect(){return this.getRect(0,0)}getNonHCMColor(){return this.color&&qi._colorManager.convert(this._uiManager.getNonHCMColor(this.color))}onUpdatedColor(){var e;(e=Ke(this,Kn))==null||e.onUpdatedColor()}getData(){const{comment:{text:e,color:Ee,date:Ce,opacity:Te,deleted:De,richText:Me},uid:Oe,pageIndex:Be,creationDate:ze,modificationDate:Ve}=this;return{id:Oe,pageIndex:Be,rect:this.getPDFRect(),richText:Me,contentsObj:{str:e},creationDate:ze,modificationDate:Ce||Ve,popupRef:!De,color:Ee,opacity:Te}}onceAdded(e){}isEmpty(){return!1}enableEditMode(){return this.isInEditMode()?!1:(this.parent.setEditingState(!1),Ls(this,tx,!0),!0)}disableEditMode(){return this.isInEditMode()?(this.parent.setEditingState(!0),Ls(this,tx,!1),!0):!1}isInEditMode(){return Ke(this,tx)}shouldGetKeyboardEvents(){return Ke(this,fp)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}get isOnScreen(){const{top:e,left:Ee,bottom:Ce,right:Te}=this.getClientDimensions(),{innerHeight:De,innerWidth:Me}=window;return Ee<Me&&Te>0&&e<De&&Ce>0}rebuild(){Hs(this,Di,qj).call(this)}rotate(e){}resize(){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:((e=this._initialData)==null?void 0:e.popupRef)||""}}serialize(e=!1,Ee=null){var Ce;return{annotationType:this.mode,pageIndex:this.pageIndex,rect:this.getPDFRect(),rotation:this.rotation,structTreeParentId:this._structTreeParentId,popupRef:((Ce=this._initialData)==null?void 0:Ce.popupRef)||""}}static async deserialize(e,Ee,Ce){const Te=new this.prototype.constructor({parent:Ee,id:Ee.getNextId(),uiManager:Ce,annotationElementId:e.annotationElementId,creationDate:e.creationDate,modificationDate:e.modificationDate});Te.rotation=e.rotation,Ls(Te,Jf,e.accessibilityData),Te._isCopy=e.isCopy||!1;const[De,Me]=Te.pageDimensions,[Oe,Be,ze,Ve]=Te.getRectInCurrentCoords(e.rect,Me);return Te.x=Oe/De,Te.y=Be/Me,Te.width=ze/De,Te.height=Ve/Me,Te}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){var e,Ee;if((e=Ke(this,km))==null||e.abort(),Ls(this,km,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),Ke(this,fh)&&(clearTimeout(Ke(this,fh)),Ls(this,fh,null)),Hs(this,Di,zy).call(this),this.removeEditToolbar(),Ke(this,od)){for(const Ce of Ke(this,od).values())clearTimeout(Ce);Ls(this,od,null)}this.parent=null,(Ee=Ke(this,sx))==null||Ee.destroy(),Ls(this,sx,null)}get isResizable(){return!1}makeResizable(){this.isResizable&&(Hs(this,Di,HR).call(this),Ke(this,ll).classList.remove("hidden"))}get toolbarPosition(){return null}get commentButtonPosition(){return this._uiManager.direction==="ltr"?[1,0]:[0,0]}get commentButtonPositionInPage(){const{commentButtonPosition:[e,Ee]}=this,[Ce,Te,De,Me]=this.getPDFRect();return[qi._round(Ce+(De-Ce)*e),qi._round(Te+(Me-Te)*(1-Ee))]}get commentButtonColor(){return this._uiManager.makeCommentColor(this.getNonHCMColor(),this.opacity)}get commentPopupPosition(){return Ke(this,Kn).commentPopupPositionInLayer}set commentPopupPosition(e){Ke(this,Kn).commentPopupPositionInLayer=e}hasDefaultPopupPosition(){return Ke(this,Kn).hasDefaultPopupPosition()}get commentButtonWidth(){return Ke(this,Kn).commentButtonWidth}get elementBeforePopup(){return this.div}setCommentButtonStates(e){Ke(this,Kn).setCommentButtonStates(e)}keydown(e){if(!this.isResizable||e.target!==this.div||e.key!=="Enter")return;this._uiManager.setSelected(this),Ls(this,mp,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const Ee=Ke(this,ll).children;if(!Ke(this,Td)){Ls(this,Td,Array.from(Ee));const Me=Hs(this,Di,YR).bind(this),Oe=Hs(this,Di,XR).bind(this),Be=this._uiManager._signal;for(const ze of Ke(this,Td)){const Ve=ze.getAttribute("data-resizer-name");ze.setAttribute("role","spinbutton"),ze.addEventListener("keydown",Me,{signal:Be}),ze.addEventListener("blur",Oe,{signal:Be}),ze.addEventListener("focus",Hs(this,Di,JR).bind(this,Ve),{signal:Be}),ze.setAttribute("data-l10n-id",qi._l10nResizer[Ve])}}const Ce=Ke(this,Td)[0];let Te=0;for(const Me of Ee){if(Me===Ce)break;Te++}const De=(360-this.rotation+this.parentRotation)%360/90*(Ke(this,Td).length/4);if(De!==Te){if(De<Te)for(let Oe=0;Oe<Te-De;Oe++)Ke(this,ll).append(Ke(this,ll).firstChild);else if(De>Te)for(let Oe=0;Oe<De-Te;Oe++)Ke(this,ll).firstChild.before(Ke(this,ll).lastChild);let Me=0;for(const Oe of Ee){const ze=Ke(this,Td)[Me++].getAttribute("data-resizer-name");Oe.setAttribute("data-l10n-id",qi._l10nResizer[ze])}}Hs(this,Di,Gj).call(this,0),Ls(this,fp,!0),Ke(this,ll).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,Ee){Ke(this,fp)&&Hs(this,Di,Uj).call(this,Ke(this,R1),{deltaX:e,deltaY:Ee,fromKeyboard:!0})}_stopResizingWithKeyboard(){Hs(this,Di,zy).call(this),this.div.focus()}select(){var e,Ee,Ce;if(this.isSelected&&this._editToolbar){this._editToolbar.show();return}if(this.isSelected=!0,this.makeResizable(),(e=this.div)==null||e.classList.add("selectedEditor"),!this._editToolbar){this.addEditToolbar().then(()=>{var Te,De;(Te=this.div)!=null&&Te.classList.contains("selectedEditor")&&((De=this._editToolbar)==null||De.show())});return}(Ee=this._editToolbar)==null||Ee.show(),(Ce=Ke(this,ba))==null||Ce.toggleAltTextBadge(!1)}focus(){this.div&&!this.div.contains(document.activeElement)&&setTimeout(()=>{var e;return(e=this.div)==null?void 0:e.focus({preventScroll:!0})},0)}unselect(){var e,Ee,Ce,Te,De;this.isSelected&&(this.isSelected=!1,(e=Ke(this,ll))==null||e.classList.add("hidden"),(Ee=this.div)==null||Ee.classList.remove("selectedEditor"),(Ce=this.div)!=null&&Ce.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(Te=this._editToolbar)==null||Te.hide(),(De=Ke(this,ba))==null||De.toggleAltTextBadge(!0),this.hasComment&&this._uiManager.toggleComment(this,!1,!1))}updateParams(e,Ee){}disableEditing(){}enableEditing(){}get canChangeContent(){return!1}enterInEditMode(){this.canChangeContent&&(this.enableEditMode(),this.div.focus())}dblclick(e){e.target.nodeName!=="BUTTON"&&(this.enterInEditMode(),this.parent.updateToolbar({mode:this.constructor._editorType,editId:this.id}))}getElementForAltText(){return this.div}get contentDiv(){return this.div}get isEditing(){return Ke(this,_1)}set isEditing(e){Ls(this,_1,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e,Ee=!1){if(Ee){Ke(this,od)||Ls(this,od,new Map);const{action:Ce}=e;let Te=Ke(this,od).get(Ce);Te&&clearTimeout(Te),Te=setTimeout(()=>{this._reportTelemetry(e),Ke(this,od).delete(Ce),Ke(this,od).size===0&&Ls(this,od,null)},qi._telemetryTimeout),Ke(this,od).set(Ce,Te);return}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(e=this._isVisible){this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),Ls(this,e0,!1)}disable(){this.div&&(this.div.tabIndex=-1),Ls(this,e0,!0)}updateFakeAnnotationElement(e){if(!Ke(this,mh)&&!this.deleted){Ls(this,mh,e.addFakeAnnotation(this));return}if(this.deleted){Ke(this,mh).remove(),Ls(this,mh,null);return}(this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized)&&Ke(this,mh).updateEdited({rect:this.getPDFRect(),popup:this.comment})}renderAnnotationElement(e){if(this.deleted)return e.hide(),null;let Ee=e.container.querySelector(".annotationContent");if(!Ee)Ee=document.createElement("div"),Ee.classList.add("annotationContent",this.editorType),e.container.prepend(Ee);else if(Ee.nodeName==="CANVAS"){const Ce=Ee;Ee=document.createElement("div"),Ee.classList.add("annotationContent",this.editorType),Ce.before(Ee)}return Ee}resetAnnotationElement(e){const{firstChild:Ee}=e.container;(Ee==null?void 0:Ee.nodeName)==="DIV"&&Ee.classList.contains("annotationContent")&&Ee.remove()}};Jf=new WeakMap,Td=new WeakMap,ba=new WeakMap,Kn=new WeakMap,pp=new WeakMap,e0=new WeakMap,Tm=new WeakMap,w1=new WeakMap,ll=new WeakMap,Qf=new WeakMap,mp=new WeakMap,mh=new WeakMap,km=new WeakMap,R1=new WeakMap,ex=new WeakMap,du=new WeakMap,_1=new WeakMap,tx=new WeakMap,fp=new WeakMap,fh=new WeakMap,t0=new WeakMap,s0=new WeakMap,od=new WeakMap,sx=new WeakMap,S1=new WeakMap,o2=new WeakMap,Di=new WeakSet,zj=function([e,Ee],Ce,Te){[Ce,Te]=this.screenToPageTranslation(Ce,Te),this.x+=Ce/e,this.y+=Te/Ee,this._onTranslating(this.x,this.y),this.fixAndSetPosition()},N1=new WeakSet,$j=function(e,Ee,Ce){switch(Ce){case 90:return[Ee,-e];case 180:return[-e,-Ee];case 270:return[-Ee,e];default:return[e,Ee]}},Ab=function(e){switch(e){case 90:{const[Ee,Ce]=this.pageDimensions;return[0,-Ee/Ce,Ce/Ee,0]}case 180:return[-1,0,0,-1];case 270:{const[Ee,Ce]=this.pageDimensions;return[0,Ee/Ce,-Ce/Ee,0]}default:return[1,0,0,1]}},HR=function(){if(Ke(this,ll))return;Ls(this,ll,document.createElement("div")),Ke(this,ll).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],Ee=this._uiManager._signal;for(const Ce of e){const Te=document.createElement("div");Ke(this,ll).append(Te),Te.classList.add("resizer",Ce),Te.setAttribute("data-resizer-name",Ce),Te.addEventListener("pointerdown",Hs(this,Di,qR).bind(this,Ce),{signal:Ee}),Te.addEventListener("contextmenu",noContextMenu,{signal:Ee}),Te.tabIndex=-1}this.div.prepend(Ke(this,ll))},qR=function(e,Ee){var Ve;Ee.preventDefault();const{isMac:Ce}=util_FeatureTest.platform;if(Ee.button!==0||Ee.ctrlKey&&Ce)return;(Ve=Ke(this,ba))==null||Ve.toggle(!1);const Te=this._isDraggable;this._isDraggable=!1,Ls(this,Qf,[Ee.screenX,Ee.screenY]);const De=new AbortController,Me=this._uiManager.combinedSignal(De);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",Hs(this,Di,Uj).bind(this,e),{passive:!0,capture:!0,signal:Me}),window.addEventListener("touchmove",stopEvent,{passive:!1,signal:Me}),window.addEventListener("contextmenu",noContextMenu,{signal:Me}),Ls(this,mp,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const Oe=this.parent.div.style.cursor,Be=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(Ee.target).cursor;const ze=()=>{var qe;De.abort(),this.parent.togglePointerEvents(!0),(qe=Ke(this,ba))==null||qe.toggle(!0),this._isDraggable=Te,this.parent.div.style.cursor=Oe,this.div.style.cursor=Be,Hs(this,Di,Cb).call(this)};window.addEventListener("pointerup",ze,{signal:Me}),window.addEventListener("blur",ze,{signal:Me})},Vj=function(e,Ee,Ce,Te){this.width=Ce,this.height=Te,this.x=e,this.y=Ee,this.setDims(),this.fixAndSetPosition(),this._onResized()},Cb=function(){if(!Ke(this,mp))return;const{savedX:e,savedY:Ee,savedWidth:Ce,savedHeight:Te}=Ke(this,mp);Ls(this,mp,null);const De=this.x,Me=this.y,Oe=this.width,Be=this.height;De===e&&Me===Ee&&Oe===Ce&&Be===Te||this.addCommands({cmd:Hs(this,Di,Vj).bind(this,De,Me,Oe,Be),undo:Hs(this,Di,Vj).bind(this,e,Ee,Ce,Te),mustExec:!0})},Uj=function(e,Ee){const[Ce,Te]=this.parentDimensions,De=this.x,Me=this.y,Oe=this.width,Be=this.height,ze=qi.MIN_SIZE/Ce,Ve=qi.MIN_SIZE/Te,qe=Hs(this,Di,Ab).call(this,this.rotation),We=(bs,Ns)=>[qe[0]*bs+qe[2]*Ns,qe[1]*bs+qe[3]*Ns],Ge=Hs(this,Di,Ab).call(this,360-this.rotation),Je=(bs,Ns)=>[Ge[0]*bs+Ge[2]*Ns,Ge[1]*bs+Ge[3]*Ns];let Qe,ns,Ye=!1,rs=!1;switch(e){case"topLeft":Ye=!0,Qe=(bs,Ns)=>[0,0],ns=(bs,Ns)=>[bs,Ns];break;case"topMiddle":Qe=(bs,Ns)=>[bs/2,0],ns=(bs,Ns)=>[bs/2,Ns];break;case"topRight":Ye=!0,Qe=(bs,Ns)=>[bs,0],ns=(bs,Ns)=>[0,Ns];break;case"middleRight":rs=!0,Qe=(bs,Ns)=>[bs,Ns/2],ns=(bs,Ns)=>[0,Ns/2];break;case"bottomRight":Ye=!0,Qe=(bs,Ns)=>[bs,Ns],ns=(bs,Ns)=>[0,0];break;case"bottomMiddle":Qe=(bs,Ns)=>[bs/2,Ns],ns=(bs,Ns)=>[bs/2,0];break;case"bottomLeft":Ye=!0,Qe=(bs,Ns)=>[0,Ns],ns=(bs,Ns)=>[bs,0];break;case"middleLeft":rs=!0,Qe=(bs,Ns)=>[0,Ns/2],ns=(bs,Ns)=>[bs,Ns/2];break}const ts=Qe(Oe,Be),Xe=ns(Oe,Be);let is=We(...Xe);const os=qi._round(De+is[0]),hs=qi._round(Me+is[1]);let fs=1,xs=1,Ss,ds;if(Ee.fromKeyboard)({deltaX:Ss,deltaY:ds}=Ee);else{const{screenX:bs,screenY:Ns}=Ee,[ps,_s]=Ke(this,Qf);[Ss,ds]=this.screenToPageTranslation(bs-ps,Ns-_s),Ke(this,Qf)[0]=bs,Ke(this,Qf)[1]=Ns}if([Ss,ds]=Je(Ss/Ce,ds/Te),Ye){const bs=Math.hypot(Oe,Be);fs=xs=Math.max(Math.min(Math.hypot(Xe[0]-ts[0]-Ss,Xe[1]-ts[1]-ds)/bs,1/Oe,1/Be),ze/Oe,Ve/Be)}else rs?fs=MathClamp(Math.abs(Xe[0]-ts[0]-Ss),ze,1)/Oe:xs=MathClamp(Math.abs(Xe[1]-ts[1]-ds),Ve,1)/Be;const gs=qi._round(Oe*fs),Ts=qi._round(Be*xs);is=We(...ns(gs,Ts));const Ds=os-is[0],Ms=hs-is[1];Ke(this,du)||Ls(this,du,[this.x,this.y,this.width,this.height]),this.width=gs,this.height=Ts,this.x=Ds,this.y=Ms,this.setDims(),this.fixAndSetPosition(),this._onResizing()},GR=function(){var e;Ls(this,mp,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height}),(e=Ke(this,ba))==null||e.toggle(!1),this.parent.togglePointerEvents(!1)},WR=function(e,Ee,Ce){let De=.7*(Ce/Ee)+1-.7;if(De===1)return;const Me=Hs(this,Di,Ab).call(this,this.rotation),Oe=(os,hs)=>[Me[0]*os+Me[2]*hs,Me[1]*os+Me[3]*hs],[Be,ze]=this.parentDimensions,Ve=this.x,qe=this.y,We=this.width,Ge=this.height,Je=qi.MIN_SIZE/Be,Qe=qi.MIN_SIZE/ze;De=Math.max(Math.min(De,1/We,1/Ge),Je/We,Qe/Ge);const ns=qi._round(We*De),Ye=qi._round(Ge*De);if(ns===We&&Ye===Ge)return;Ke(this,du)||Ls(this,du,[Ve,qe,We,Ge]);const rs=Oe(We/2,Ge/2),ts=qi._round(Ve+rs[0]),Xe=qi._round(qe+rs[1]),is=Oe(ns/2,Ye/2);this.x=ts-is[0],this.y=Xe-is[1],this.width=ns,this.height=Ye,this.setDims(),this.fixAndSetPosition(),this._onResizing()},ZR=function(){var e;(e=Ke(this,ba))==null||e.toggle(!0),this.parent.togglePointerEvents(!0),Hs(this,Di,Cb).call(this)},Hj=function(e){const{isMac:Ee}=util_FeatureTest.platform;e.ctrlKey&&!Ee||e.shiftKey||e.metaKey&&Ee?this.parent.toggleSelected(this):this.parent.setSelected(this)},KR=function(e){const{isSelected:Ee}=this;this._uiManager.setUpDragSession();let Ce=!1;const Te=new AbortController,De=this._uiManager.combinedSignal(Te),Me={capture:!0,passive:!1,signal:De},Oe=ze=>{Te.abort(),Ls(this,Tm,null),Ls(this,ex,!1),this._uiManager.endDragSession()||Hs(this,Di,Hj).call(this,ze),Ce&&this._onStopDragging()};Ee&&(Ls(this,t0,e.clientX),Ls(this,s0,e.clientY),Ls(this,Tm,e.pointerId),Ls(this,w1,e.pointerType),window.addEventListener("pointermove",ze=>{Ce||(Ce=!0,this._uiManager.toggleComment(this,!0,!1),this._onStartDragging());const{clientX:Ve,clientY:qe,pointerId:We}=ze;if(We!==Ke(this,Tm)){stopEvent(ze);return}const[Ge,Je]=this.screenToPageTranslation(Ve-Ke(this,t0),qe-Ke(this,s0));Ls(this,t0,Ve),Ls(this,s0,qe),this._uiManager.dragSelectedEditors(Ge,Je)},Me),window.addEventListener("touchmove",stopEvent,Me),window.addEventListener("pointerdown",ze=>{ze.pointerType===Ke(this,w1)&&(Ke(this,sx)||ze.isPrimary)&&Oe(ze),stopEvent(ze)},Me));const Be=ze=>{if(!Ke(this,Tm)||Ke(this,Tm)===ze.pointerId){Oe(ze);return}stopEvent(ze)};window.addEventListener("pointerup",Be,{signal:De}),window.addEventListener("blur",Be,{signal:De})},qj=function(){if(Ke(this,km)||!this.div)return;Ls(this,km,new AbortController);const e=this._uiManager.combinedSignal(Ke(this,km));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})},YR=function(e){qi._resizerKeyboardManager.exec(this,e)},XR=function(e){var Ee;Ke(this,fp)&&((Ee=e.relatedTarget)==null?void 0:Ee.parentNode)!==Ke(this,ll)&&Hs(this,Di,zy).call(this)},JR=function(e){Ls(this,R1,Ke(this,fp)?e:"")},Gj=function(e){if(Ke(this,Td))for(const Ee of Ke(this,Td))Ee.tabIndex=e},zy=function(){Ls(this,fp,!1),Hs(this,Di,Gj).call(this,-1),Hs(this,Di,Cb).call(this)},Bs(qi,N1),qr(qi,"_l10n",null),qr(qi,"_l10nResizer",null),qr(qi,"_borderLineWidth",-1),qr(qi,"_colorManager",new ColorManager),qr(qi,"_zIndex",1),qr(qi,"_telemetryTimeout",1e3);let AnnotationEditor=qi;class FakeEditor extends AnnotationEditor{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const SEED=3285377520,MASK_HIGH=4294901760,MASK_LOW=65535;class MurmurHash3_64{constructor(e){this.h1=e?e&4294967295:SEED,this.h2=e?e&4294967295:SEED}update(e){let Ee,Ce;if(typeof e=="string"){Ee=new Uint8Array(e.length*2),Ce=0;for(let Qe=0,ns=e.length;Qe<ns;Qe++){const Ye=e.charCodeAt(Qe);Ye<=255?Ee[Ce++]=Ye:(Ee[Ce++]=Ye>>>8,Ee[Ce++]=Ye&255)}}else if(ArrayBuffer.isView(e))Ee=e.slice(),Ce=Ee.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const Te=Ce>>2,De=Ce-Te*4,Me=new Uint32Array(Ee.buffer,0,Te);let Oe=0,Be=0,ze=this.h1,Ve=this.h2;const qe=3432918353,We=461845907,Ge=qe&MASK_LOW,Je=We&MASK_LOW;for(let Qe=0;Qe<Te;Qe++)Qe&1?(Oe=Me[Qe],Oe=Oe*qe&MASK_HIGH|Oe*Ge&MASK_LOW,Oe=Oe<<15|Oe>>>17,Oe=Oe*We&MASK_HIGH|Oe*Je&MASK_LOW,ze^=Oe,ze=ze<<13|ze>>>19,ze=ze*5+3864292196):(Be=Me[Qe],Be=Be*qe&MASK_HIGH|Be*Ge&MASK_LOW,Be=Be<<15|Be>>>17,Be=Be*We&MASK_HIGH|Be*Je&MASK_LOW,Ve^=Be,Ve=Ve<<13|Ve>>>19,Ve=Ve*5+3864292196);switch(Oe=0,De){case 3:Oe^=Ee[Te*4+2]<<16;case 2:Oe^=Ee[Te*4+1]<<8;case 1:Oe^=Ee[Te*4],Oe=Oe*qe&MASK_HIGH|Oe*Ge&MASK_LOW,Oe=Oe<<15|Oe>>>17,Oe=Oe*We&MASK_HIGH|Oe*Je&MASK_LOW,Te&1?ze^=Oe:Ve^=Oe}this.h1=ze,this.h2=Ve}hexdigest(){let e=this.h1,Ee=this.h2;return e^=Ee>>>1,e=e*3981806797&MASK_HIGH|e*36045&MASK_LOW,Ee=Ee*4283543511&MASK_HIGH|((Ee<<16|e>>>16)*2950163797&MASK_HIGH)>>>16,e^=Ee>>>1,e=e*444984403&MASK_HIGH|e*60499&MASK_LOW,Ee=Ee*3301882366&MASK_HIGH|((Ee<<16|e>>>16)*3120437893&MASK_HIGH)>>>16,e^=Ee>>>1,(e>>>0).toString(16).padStart(8,"0")+(Ee>>>0).toString(16).padStart(8,"0")}}const SerializableEmpty=Object.freeze({map:null,hash:"",transfer:void 0});var rx,ix,xp,cl,l2,QR;class AnnotationStorage{constructor(){Bs(this,l2);Bs(this,rx,!1);Bs(this,ix,null);Bs(this,xp,null);Bs(this,cl,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,Ee){const Ce=Ke(this,cl).get(e);return Ce===void 0?Ee:Object.assign(Ee,Ce)}getRawValue(e){return Ke(this,cl).get(e)}remove(e){const Ee=Ke(this,cl).get(e);if(Ee!==void 0&&(Ee instanceof AnnotationEditor&&Ke(this,xp).delete(Ee.annotationElementId),Ke(this,cl).delete(e),Ke(this,cl).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function")){for(const Ce of Ke(this,cl).values())if(Ce instanceof AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(e,Ee){const Ce=Ke(this,cl).get(e);let Te=!1;if(Ce!==void 0)for(const[De,Me]of Object.entries(Ee))Ce[De]!==Me&&(Te=!0,Ce[De]=Me);else Te=!0,Ke(this,cl).set(e,Ee);Te&&Hs(this,l2,QR).call(this),Ee instanceof AnnotationEditor&&((Ke(this,xp)||Ls(this,xp,new Map)).set(Ee.annotationElementId,Ee),typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(Ee.constructor._type))}has(e){return Ke(this,cl).has(e)}get size(){return Ke(this,cl).size}resetModified(){Ke(this,rx)&&(Ls(this,rx,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new PrintAnnotationStorage(this)}get serializable(){if(Ke(this,cl).size===0)return SerializableEmpty;const e=new Map,Ee=new MurmurHash3_64,Ce=[],Te=Object.create(null);let De=!1;for(const[Me,Oe]of Ke(this,cl)){const Be=Oe instanceof AnnotationEditor?Oe.serialize(!1,Te):Oe;Be&&(e.set(Me,Be),Ee.update(`${Me}:${JSON.stringify(Be)}`),De||(De=!!Be.bitmap))}if(De)for(const Me of e.values())Me.bitmap&&Ce.push(Me.bitmap);return e.size>0?{map:e,hash:Ee.hexdigest(),transfer:Ce}:SerializableEmpty}get editorStats(){let e=null;const Ee=new Map;let Ce=0,Te=0;for(const De of Ke(this,cl).values()){if(!(De instanceof AnnotationEditor)){De.popup&&(De.popup.deleted?Te+=1:Ce+=1);continue}De.isCommentDeleted?Te+=1:De.hasEditedComment&&(Ce+=1);const Me=De.telemetryFinalData;if(!Me)continue;const{type:Oe}=Me;Ee.has(Oe)||Ee.set(Oe,Object.getPrototypeOf(De).constructor),e||(e=Object.create(null));const Be=e[Oe]||(e[Oe]=new Map);for(const[ze,Ve]of Object.entries(Me)){if(ze==="type")continue;let qe=Be.get(ze);qe||(qe=new Map,Be.set(ze,qe));const We=qe.get(Ve)??0;qe.set(Ve,We+1)}}if((Te>0||Ce>0)&&(e||(e=Object.create(null)),e.comments={deleted:Te,edited:Ce}),!e)return null;for(const[De,Me]of Ee)e[De]=Me.computeTelemetryFinalData(e[De]);return e}resetModifiedIds(){Ls(this,ix,null)}updateEditor(e,Ee){var Te;const Ce=(Te=Ke(this,xp))==null?void 0:Te.get(e);return Ce?(Ce.updateFromAnnotationLayer(Ee),!0):!1}getEditor(e){var Ee;return((Ee=Ke(this,xp))==null?void 0:Ee.get(e))||null}get modifiedIds(){if(Ke(this,ix))return Ke(this,ix);const e=[];if(Ke(this,xp))for(const Ee of Ke(this,xp).values())Ee.serialize()&&e.push(Ee.annotationElementId);return Ls(this,ix,{ids:new Set(e),hash:e.join(",")})}[Symbol.iterator](){return Ke(this,cl).entries()}}rx=new WeakMap,ix=new WeakMap,xp=new WeakMap,cl=new WeakMap,l2=new WeakSet,QR=function(){Ke(this,rx)||(Ls(this,rx,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var A1;class PrintAnnotationStorage extends AnnotationStorage{constructor(Ee){super();Bs(this,A1);const{map:Ce,hash:Te,transfer:De}=Ee.serializable,Me=structuredClone(Ce,De?{transfer:De}:null);Ls(this,A1,{map:Me,hash:Te,transfer:De})}get print(){unreachable("Should not call PrintAnnotationStorage.print")}get serializable(){return Ke(this,A1)}get modifiedIds(){return shadow(this,"modifiedIds",{ids:new Set,hash:""})}}A1=new WeakMap;var r0;class FontLoader{constructor({ownerDocument:e=globalThis.document,styleElement:Ee=null}){Bs(this,r0,new Set);this._document=e,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const Ee=this.styleElement.sheet;Ee.insertRule(e,Ee.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),Ke(this,r0).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:e,disableFontFace:Ee,_inspectFont:Ce}){if(!(!e||Ke(this,r0).has(e.loadedName))){if(assert(!Ee,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:Te,src:De,style:Me}=e,Oe=new FontFace(Te,De,Me);this.addNativeFontFace(Oe);try{await Oe.load(),Ke(this,r0).add(Te),Ce==null||Ce(e)}catch{warn(`Cannot load system font: ${e.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(Oe)}return}unreachable("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo){await this.loadSystemFont(e);return}if(this.isFontLoadingAPISupported){const Ce=e.createNativeFontFace();if(Ce){this.addNativeFontFace(Ce);try{await Ce.loaded}catch(Te){throw warn(`Failed to load font '${Ce.family}': '${Te}'.`),e.disableFontFace=!0,Te}}return}const Ee=e.createFontFaceRule();if(Ee){if(this.insertRule(Ee),this.isSyncFontLoadingSupported)return;await new Promise(Ce=>{const Te=this._queueLoadingCallback(Ce);this._prepareFontLoadEvent(e,Te)})}}get isFontLoadingAPISupported(){var Ee;const e=!!((Ee=this._document)!=null&&Ee.fonts);return shadow(this,"isFontLoadingAPISupported",e)}get isSyncFontLoadingSupported(){return shadow(this,"isSyncFontLoadingSupported",isNodeJS||util_FeatureTest.platform.isFirefox)}_queueLoadingCallback(e){function Ee(){for(assert(!Te.done,"completeRequest() cannot be called twice."),Te.done=!0;Ce.length>0&&Ce[0].done;){const De=Ce.shift();setTimeout(De.callback,0)}}const{loadingRequests:Ce}=this,Te={done:!1,complete:Ee,callback:e};return Ce.push(Te),Te}get _loadTestFont(){const e=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return shadow(this,"_loadTestFont",e)}_prepareFontLoadEvent(e,Ee){function Ce(Xe,is){return Xe.charCodeAt(is)<<24|Xe.charCodeAt(is+1)<<16|Xe.charCodeAt(is+2)<<8|Xe.charCodeAt(is+3)&255}function Te(Xe,is,os,hs){const fs=Xe.substring(0,is),xs=Xe.substring(is+os);return fs+hs+xs}let De,Me;const Oe=this._document.createElement("canvas");Oe.width=1,Oe.height=1;const Be=Oe.getContext("2d");let ze=0;function Ve(Xe,is){if(++ze>30){warn("Load test font never loaded."),is();return}if(Be.font="30px "+Xe,Be.fillText(".",0,20),Be.getImageData(0,0,1,1).data[3]>0){is();return}setTimeout(Ve.bind(null,Xe,is))}const qe=`lt${Date.now()}${this.loadTestFontId++}`;let We=this._loadTestFont;We=Te(We,976,qe.length,qe);const Je=16,Qe=1482184792;let ns=Ce(We,Je);for(De=0,Me=qe.length-3;De<Me;De+=4)ns=ns-Qe+Ce(qe,De)|0;De<qe.length&&(ns=ns-Qe+Ce(qe+"XXX",De)|0),We=Te(We,Je,4,string32(ns));const Ye=`url(data:font/opentype;base64,${btoa(We)});`,rs=`@font-face {font-family:"${qe}";src:${Ye}}`;this.insertRule(rs);const ts=this._document.createElement("div");ts.style.visibility="hidden",ts.style.width=ts.style.height="10px",ts.style.position="absolute",ts.style.top=ts.style.left="0px";for(const Xe of[e.loadedName,qe]){const is=this._document.createElement("span");is.textContent="Hi",is.style.fontFamily=Xe,ts.append(is)}this._document.body.append(ts),Ve(qe,()=>{ts.remove(),Ee.complete()})}}r0=new WeakMap;var zn;class FontFaceObject{constructor(e,Ee=null,Ce,Te){Bs(this,zn);this.compiledGlyphs=Object.create(null),Ls(this,zn,e),this._inspectFont=Ee,Ce&&Object.assign(this,Ce),Te&&(this.charProcOperatorList=Te)}createNativeFontFace(){var Ee;if(!this.data||this.disableFontFace)return null;let e;if(!this.cssFontInfo)e=new FontFace(this.loadedName,this.data,{});else{const Ce={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(Ce.style=`oblique ${this.cssFontInfo.italicAngle}deg`),e=new FontFace(this.cssFontInfo.fontFamily,this.data,Ce)}return(Ee=this._inspectFont)==null||Ee.call(this,this),e}createFontFaceRule(){var Ce;if(!this.data||this.disableFontFace)return null;const e=`url(data:${this.mimetype};base64,${toBase64Util(this.data)});`;let Ee;if(!this.cssFontInfo)Ee=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let Te=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(Te+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),Ee=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${Te}src:${e}}`}return(Ce=this._inspectFont)==null||Ce.call(this,this,e),Ee}getPathGenerator(e,Ee){if(this.compiledGlyphs[Ee]!==void 0)return this.compiledGlyphs[Ee];const Ce=this.loadedName+"_path_"+Ee;let Te;try{Te=e.get(Ce)}catch(Me){warn(`getPathGenerator - ignoring character: "${Me}".`)}const De=new Path2D(Te||"");return this.fontExtraProperties||e.delete(Ce),this.compiledGlyphs[Ee]=De}get black(){return Ke(this,zn).black}get bold(){return Ke(this,zn).bold}get disableFontFace(){return Ke(this,zn).disableFontFace??!1}get fontExtraProperties(){return Ke(this,zn).fontExtraProperties??!1}get isInvalidPDFjsFont(){return Ke(this,zn).isInvalidPDFjsFont}get isType3Font(){return Ke(this,zn).isType3Font}get italic(){return Ke(this,zn).italic}get missingFile(){return Ke(this,zn).missingFile}get remeasure(){return Ke(this,zn).remeasure}get vertical(){return Ke(this,zn).vertical}get ascent(){return Ke(this,zn).ascent}get defaultWidth(){return Ke(this,zn).defaultWidth}get descent(){return Ke(this,zn).descent}get bbox(){return Ke(this,zn).bbox}get fontMatrix(){return Ke(this,zn).fontMatrix}get fallbackName(){return Ke(this,zn).fallbackName}get loadedName(){return Ke(this,zn).loadedName}get mimetype(){return Ke(this,zn).mimetype}get name(){return Ke(this,zn).name}get data(){return Ke(this,zn).data}clearData(){Ke(this,zn).clearData()}get cssFontInfo(){return Ke(this,zn).cssFontInfo}get systemFontInfo(){return Ke(this,zn).systemFontInfo}get defaultVMetrics(){return Ke(this,zn).defaultVMetrics}}zn=new WeakMap;function getUrlProp(Re){if(Re instanceof URL)return Re.href;if(typeof Re=="string"){if(isNodeJS)return Re;const e=URL.parse(Re,window.location);if(e)return e.href}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function getDataProp(Re){if(isNodeJS&&typeof Buffer<"u"&&Re instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(Re instanceof Uint8Array&&Re.byteLength===Re.buffer.byteLength)return Re;if(typeof Re=="string")return stringToBytes(Re);if(Re instanceof ArrayBuffer||ArrayBuffer.isView(Re)||typeof Re=="object"&&!isNaN(Re==null?void 0:Re.length))return new Uint8Array(Re);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function getFactoryUrlProp(Re){if(typeof Re!="string")return null;if(Re.endsWith("/"))return Re;throw new Error(`Invalid factory url: "${Re}" must include trailing slash.`)}const isRefProxy=Re=>typeof Re=="object"&&Number.isInteger(Re==null?void 0:Re.num)&&Re.num>=0&&Number.isInteger(Re==null?void 0:Re.gen)&&Re.gen>=0,isNameProxy=Re=>typeof Re=="object"&&typeof(Re==null?void 0:Re.name)=="string",isValidExplicitDest=_isValidExplicitDest.bind(null,isRefProxy,isNameProxy);var gp,c2;class LoopbackPort{constructor(){Bs(this,gp,new Map);Bs(this,c2,Promise.resolve())}postMessage(e,Ee){const Ce={data:structuredClone(e,Ee?{transfer:Ee}:null)};Ke(this,c2).then(()=>{for(const[Te]of Ke(this,gp))Te.call(this,Ce)})}addEventListener(e,Ee,Ce=null){let Te=null;if((Ce==null?void 0:Ce.signal)instanceof AbortSignal){const{signal:De}=Ce;if(De.aborted){warn("LoopbackPort - cannot use an `aborted` signal.");return}const Me=()=>this.removeEventListener(e,Ee);Te=()=>De.removeEventListener("abort",Me),De.addEventListener("abort",Me)}Ke(this,gp).set(Ee,Te)}removeEventListener(e,Ee){const Ce=Ke(this,gp).get(Ee);Ce==null||Ce(),Ke(this,gp).delete(Ee)}terminate(){for(const[,e]of Ke(this,gp))e==null||e();Ke(this,gp).clear()}}gp=new WeakMap,c2=new WeakMap;const CallbackKind={DATA:1,ERROR:2},StreamKind={CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function onFn(){}function wrapReason(Re){if(Re instanceof AbortException||Re instanceof InvalidPDFException||Re instanceof PasswordException||Re instanceof ResponseException||Re instanceof UnknownErrorException)return Re;switch(Re instanceof Error||typeof Re=="object"&&Re!==null||unreachable('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),Re.name){case"AbortException":return new AbortException(Re.message);case"InvalidPDFException":return new InvalidPDFException(Re.message);case"PasswordException":return new PasswordException(Re.message,Re.code);case"ResponseException":return new ResponseException(Re.message,Re.status,Re.missing);case"UnknownErrorException":return new UnknownErrorException(Re.message,Re.details)}return new UnknownErrorException(Re.message,Re.toString())}var i0,hd,e5,t5,s5,Pb;class MessageHandler{constructor(e,Ee,Ce){Bs(this,hd);Bs(this,i0,new AbortController);this.sourceName=e,this.targetName=Ee,this.comObj=Ce,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),Ce.addEventListener("message",Hs(this,hd,e5).bind(this),{signal:Ke(this,i0).signal})}on(e,Ee){const Ce=this.actionHandler;if(Ce[e])throw new Error(`There is already an actionName called "${e}"`);Ce[e]=Ee}send(e,Ee,Ce){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:Ee},Ce)}sendWithPromise(e,Ee,Ce){const Te=this.callbackId++,De=Promise.withResolvers();this.callbackCapabilities[Te]=De;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:Te,data:Ee},Ce)}catch(Me){De.reject(Me)}return De.promise}sendWithStream(e,Ee,Ce,Te){const De=this.streamId++,Me=this.sourceName,Oe=this.targetName,Be=this.comObj;return new ReadableStream({start:ze=>{const Ve=Promise.withResolvers();return this.streamControllers[De]={controller:ze,startCall:Ve,pullCall:null,cancelCall:null,isClosed:!1},Be.postMessage({sourceName:Me,targetName:Oe,action:e,streamId:De,data:Ee,desiredSize:ze.desiredSize},Te),Ve.promise},pull:ze=>{const Ve=Promise.withResolvers();return this.streamControllers[De].pullCall=Ve,Be.postMessage({sourceName:Me,targetName:Oe,stream:StreamKind.PULL,streamId:De,desiredSize:ze.desiredSize}),Ve.promise},cancel:ze=>{assert(ze instanceof Error,"cancel must have a valid reason");const Ve=Promise.withResolvers();return this.streamControllers[De].cancelCall=Ve,this.streamControllers[De].isClosed=!0,Be.postMessage({sourceName:Me,targetName:Oe,stream:StreamKind.CANCEL,streamId:De,reason:wrapReason(ze)}),Ve.promise}},Ce)}destroy(){var e;(e=Ke(this,i0))==null||e.abort(),Ls(this,i0,null)}}i0=new WeakMap,hd=new WeakSet,e5=function({data:e}){if(e.targetName!==this.sourceName)return;if(e.stream){Hs(this,hd,s5).call(this,e);return}if(e.callback){const Ce=e.callbackId,Te=this.callbackCapabilities[Ce];if(!Te)throw new Error(`Cannot resolve callback ${Ce}`);if(delete this.callbackCapabilities[Ce],e.callback===CallbackKind.DATA)Te.resolve(e.data);else if(e.callback===CallbackKind.ERROR)Te.reject(wrapReason(e.reason));else throw new Error("Unexpected callback case");return}const Ee=this.actionHandler[e.action];if(!Ee)throw new Error(`Unknown action from worker: ${e.action}`);if(e.callbackId){const Ce=this.sourceName,Te=e.sourceName,De=this.comObj;Promise.try(Ee,e.data).then(function(Me){De.postMessage({sourceName:Ce,targetName:Te,callback:CallbackKind.DATA,callbackId:e.callbackId,data:Me})},function(Me){De.postMessage({sourceName:Ce,targetName:Te,callback:CallbackKind.ERROR,callbackId:e.callbackId,reason:wrapReason(Me)})});return}if(e.streamId){Hs(this,hd,t5).call(this,e);return}Ee(e.data)},t5=function(e){const Ee=e.streamId,Ce=this.sourceName,Te=e.sourceName,De=this.comObj,Me=this,Oe=this.actionHandler[e.action],Be={enqueue(ze,Ve=1,qe){if(this.isCancelled)return;const We=this.desiredSize;this.desiredSize-=Ve,We>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),De.postMessage({sourceName:Ce,targetName:Te,stream:StreamKind.ENQUEUE,streamId:Ee,chunk:ze},qe)},close(){this.isCancelled||(this.isCancelled=!0,De.postMessage({sourceName:Ce,targetName:Te,stream:StreamKind.CLOSE,streamId:Ee}),delete Me.streamSinks[Ee])},error(ze){assert(ze instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,De.postMessage({sourceName:Ce,targetName:Te,stream:StreamKind.ERROR,streamId:Ee,reason:wrapReason(ze)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};Be.sinkCapability.resolve(),Be.ready=Be.sinkCapability.promise,this.streamSinks[Ee]=Be,Promise.try(Oe,e.data,Be).then(function(){De.postMessage({sourceName:Ce,targetName:Te,stream:StreamKind.START_COMPLETE,streamId:Ee,success:!0})},function(ze){De.postMessage({sourceName:Ce,targetName:Te,stream:StreamKind.START_COMPLETE,streamId:Ee,reason:wrapReason(ze)})})},s5=function(e){const Ee=e.streamId,Ce=this.sourceName,Te=e.sourceName,De=this.comObj,Me=this.streamControllers[Ee],Oe=this.streamSinks[Ee];switch(e.stream){case StreamKind.START_COMPLETE:e.success?Me.startCall.resolve():Me.startCall.reject(wrapReason(e.reason));break;case StreamKind.PULL_COMPLETE:e.success?Me.pullCall.resolve():Me.pullCall.reject(wrapReason(e.reason));break;case StreamKind.PULL:if(!Oe){De.postMessage({sourceName:Ce,targetName:Te,stream:StreamKind.PULL_COMPLETE,streamId:Ee,success:!0});break}Oe.desiredSize<=0&&e.desiredSize>0&&Oe.sinkCapability.resolve(),Oe.desiredSize=e.desiredSize,Promise.try(Oe.onPull||onFn).then(function(){De.postMessage({sourceName:Ce,targetName:Te,stream:StreamKind.PULL_COMPLETE,streamId:Ee,success:!0})},function(ze){De.postMessage({sourceName:Ce,targetName:Te,stream:StreamKind.PULL_COMPLETE,streamId:Ee,reason:wrapReason(ze)})});break;case StreamKind.ENQUEUE:if(assert(Me,"enqueue should have stream controller"),Me.isClosed)break;Me.controller.enqueue(e.chunk);break;case StreamKind.CLOSE:if(assert(Me,"close should have stream controller"),Me.isClosed)break;Me.isClosed=!0,Me.controller.close(),Hs(this,hd,Pb).call(this,Me,Ee);break;case StreamKind.ERROR:assert(Me,"error should have stream controller"),Me.controller.error(wrapReason(e.reason)),Hs(this,hd,Pb).call(this,Me,Ee);break;case StreamKind.CANCEL_COMPLETE:e.success?Me.cancelCall.resolve():Me.cancelCall.reject(wrapReason(e.reason)),Hs(this,hd,Pb).call(this,Me,Ee);break;case StreamKind.CANCEL:if(!Oe)break;const Be=wrapReason(e.reason);Promise.try(Oe.onCancel||onFn,Be).then(function(){De.postMessage({sourceName:Ce,targetName:Te,stream:StreamKind.CANCEL_COMPLETE,streamId:Ee,success:!0})},function(ze){De.postMessage({sourceName:Ce,targetName:Te,stream:StreamKind.CANCEL_COMPLETE,streamId:Ee,reason:wrapReason(ze)})}),Oe.sinkCapability.reject(Be),Oe.isCancelled=!0,delete this.streamSinks[Ee];break;default:throw new Error("Unexpected stream case")}},Pb=async function(e,Ee){var Ce,Te,De;await Promise.allSettled([(Ce=e.startCall)==null?void 0:Ce.promise,(Te=e.pullCall)==null?void 0:Te.promise,(De=e.cancelCall)==null?void 0:De.promise]),delete this.streamControllers[Ee]};var C1;class BaseCanvasFactory{constructor({enableHWA:e=!1}){Bs(this,C1,!1);Ls(this,C1,e)}create(e,Ee){if(e<=0||Ee<=0)throw new Error("Invalid canvas size");const Ce=this._createCanvas(e,Ee);return{canvas:Ce,context:Ce.getContext("2d",{willReadFrequently:!Ke(this,C1)})}}reset(e,Ee,Ce){if(!e.canvas)throw new Error("Canvas is not specified");if(Ee<=0||Ce<=0)throw new Error("Invalid canvas size");e.canvas.width=Ee,e.canvas.height=Ce}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,Ee){unreachable("Abstract method `_createCanvas` called.")}}C1=new WeakMap;class DOMCanvasFactory extends BaseCanvasFactory{constructor({ownerDocument:e=globalThis.document,enableHWA:Ee=!1}){super({enableHWA:Ee}),this._document=e}_createCanvas(e,Ee){const Ce=this._document.createElement("canvas");return Ce.width=e,Ce.height=Ee,Ce}}class BaseCMapReaderFactory{constructor({baseUrl:e=null,isCompressed:Ee=!0}){this.baseUrl=e,this.isCompressed=Ee}async fetch({name:e}){if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!e)throw new Error("CMap name must be specified.");const Ee=this.baseUrl+e+(this.isCompressed?".bcmap":"");return this._fetch(Ee).then(Ce=>({cMapData:Ce,isCompressed:this.isCompressed})).catch(Ce=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${Ee}`)})}async _fetch(e){unreachable("Abstract method `_fetch` called.")}}class DOMCMapReaderFactory extends BaseCMapReaderFactory{async _fetch(e){const Ee=await fetchData(e,this.isCompressed?"arraybuffer":"text");return Ee instanceof ArrayBuffer?new Uint8Array(Ee):stringToBytes(Ee)}}class BaseFilterFactory{addFilter(e){return"none"}addHCMFilter(e,Ee){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,Ee,Ce,Te,De){return"none"}destroy(e=!1){}}var nx,n0,yp,vp,$l,ax,ox,gi,Il,$y,Ag,Tb,Cg,r5,Wj,Pg,Vy,Uy,Zj,Hy;class DOMFilterFactory extends BaseFilterFactory{constructor({docId:Ee,ownerDocument:Ce=globalThis.document}){super();Bs(this,gi);Bs(this,nx);Bs(this,n0);Bs(this,yp);Bs(this,vp);Bs(this,$l);Bs(this,ax);Bs(this,ox,0);Ls(this,vp,Ee),Ls(this,$l,Ce)}addFilter(Ee){if(!Ee)return"none";let Ce=Ke(this,gi,Il).get(Ee);if(Ce)return Ce;const[Te,De,Me]=Hs(this,gi,Tb).call(this,Ee),Oe=Ee.length===1?Te:`${Te}${De}${Me}`;if(Ce=Ke(this,gi,Il).get(Oe),Ce)return Ke(this,gi,Il).set(Ee,Ce),Ce;const Be=`g_${Ke(this,vp)}_transfer_map_${Ro(this,ox)._++}`,ze=Hs(this,gi,Cg).call(this,Be);Ke(this,gi,Il).set(Ee,ze),Ke(this,gi,Il).set(Oe,ze);const Ve=Hs(this,gi,Pg).call(this,Be);return Hs(this,gi,Uy).call(this,Te,De,Me,Ve),ze}addHCMFilter(Ee,Ce){var Je;const Te=`${Ee}-${Ce}`,De="base";let Me=Ke(this,gi,$y).get(De);if((Me==null?void 0:Me.key)===Te||(Me?((Je=Me.filter)==null||Je.remove(),Me.key=Te,Me.url="none",Me.filter=null):(Me={key:Te,url:"none",filter:null},Ke(this,gi,$y).set(De,Me)),!Ee||!Ce))return Me.url;const Oe=Hs(this,gi,Hy).call(this,Ee);Ee=Util.makeHexColor(...Oe);const Be=Hs(this,gi,Hy).call(this,Ce);if(Ce=Util.makeHexColor(...Be),Ke(this,gi,Ag).style.color="",Ee==="#000000"&&Ce==="#ffffff"||Ee===Ce)return Me.url;const ze=new Array(256);for(let Qe=0;Qe<=255;Qe++){const ns=Qe/255;ze[Qe]=ns<=.03928?ns/12.92:((ns+.055)/1.055)**2.4}const Ve=ze.join(","),qe=`g_${Ke(this,vp)}_hcm_filter`,We=Me.filter=Hs(this,gi,Pg).call(this,qe);Hs(this,gi,Uy).call(this,Ve,Ve,Ve,We),Hs(this,gi,Wj).call(this,We);const Ge=(Qe,ns)=>{const Ye=Oe[Qe]/255,rs=Be[Qe]/255,ts=new Array(ns+1);for(let Xe=0;Xe<=ns;Xe++)ts[Xe]=Ye+Xe/ns*(rs-Ye);return ts.join(",")};return Hs(this,gi,Uy).call(this,Ge(0,5),Ge(1,5),Ge(2,5),We),Me.url=Hs(this,gi,Cg).call(this,qe),Me.url}addAlphaFilter(Ee){let Ce=Ke(this,gi,Il).get(Ee);if(Ce)return Ce;const[Te]=Hs(this,gi,Tb).call(this,[Ee]),De=`alpha_${Te}`;if(Ce=Ke(this,gi,Il).get(De),Ce)return Ke(this,gi,Il).set(Ee,Ce),Ce;const Me=`g_${Ke(this,vp)}_alpha_map_${Ro(this,ox)._++}`,Oe=Hs(this,gi,Cg).call(this,Me);Ke(this,gi,Il).set(Ee,Oe),Ke(this,gi,Il).set(De,Oe);const Be=Hs(this,gi,Pg).call(this,Me);return Hs(this,gi,Zj).call(this,Te,Be),Oe}addLuminosityFilter(Ee){let Ce=Ke(this,gi,Il).get(Ee||"luminosity");if(Ce)return Ce;let Te,De;if(Ee?([Te]=Hs(this,gi,Tb).call(this,[Ee]),De=`luminosity_${Te}`):De="luminosity",Ce=Ke(this,gi,Il).get(De),Ce)return Ke(this,gi,Il).set(Ee,Ce),Ce;const Me=`g_${Ke(this,vp)}_luminosity_map_${Ro(this,ox)._++}`,Oe=Hs(this,gi,Cg).call(this,Me);Ke(this,gi,Il).set(Ee,Oe),Ke(this,gi,Il).set(De,Oe);const Be=Hs(this,gi,Pg).call(this,Me);return Hs(this,gi,r5).call(this,Be),Ee&&Hs(this,gi,Zj).call(this,Te,Be),Oe}addHighlightHCMFilter(Ee,Ce,Te,De,Me){var rs;const Oe=`${Ce}-${Te}-${De}-${Me}`;let Be=Ke(this,gi,$y).get(Ee);if((Be==null?void 0:Be.key)===Oe||(Be?((rs=Be.filter)==null||rs.remove(),Be.key=Oe,Be.url="none",Be.filter=null):(Be={key:Oe,url:"none",filter:null},Ke(this,gi,$y).set(Ee,Be)),!Ce||!Te))return Be.url;const[ze,Ve]=[Ce,Te].map(Hs(this,gi,Hy).bind(this));let qe=Math.round(.2126*ze[0]+.7152*ze[1]+.0722*ze[2]),We=Math.round(.2126*Ve[0]+.7152*Ve[1]+.0722*Ve[2]),[Ge,Je]=[De,Me].map(Hs(this,gi,Hy).bind(this));We<qe&&([qe,We,Ge,Je]=[We,qe,Je,Ge]),Ke(this,gi,Ag).style.color="";const Qe=(ts,Xe,is)=>{const os=new Array(256),hs=(We-qe)/is,fs=ts/255,xs=(Xe-ts)/(255*is);let Ss=0;for(let ds=0;ds<=is;ds++){const gs=Math.round(qe+ds*hs),Ts=fs+ds*xs;for(let Ds=Ss;Ds<=gs;Ds++)os[Ds]=Ts;Ss=gs+1}for(let ds=Ss;ds<256;ds++)os[ds]=os[Ss-1];return os.join(",")},ns=`g_${Ke(this,vp)}_hcm_${Ee}_filter`,Ye=Be.filter=Hs(this,gi,Pg).call(this,ns);return Hs(this,gi,Wj).call(this,Ye),Hs(this,gi,Uy).call(this,Qe(Ge[0],Je[0],5),Qe(Ge[1],Je[1],5),Qe(Ge[2],Je[2],5),Ye),Be.url=Hs(this,gi,Cg).call(this,ns),Be.url}destroy(Ee=!1){var Ce,Te,De,Me;Ee&&((Ce=Ke(this,ax))!=null&&Ce.size)||((Te=Ke(this,yp))==null||Te.parentNode.parentNode.remove(),Ls(this,yp,null),(De=Ke(this,n0))==null||De.clear(),Ls(this,n0,null),(Me=Ke(this,ax))==null||Me.clear(),Ls(this,ax,null),Ls(this,ox,0))}}nx=new WeakMap,n0=new WeakMap,yp=new WeakMap,vp=new WeakMap,$l=new WeakMap,ax=new WeakMap,ox=new WeakMap,gi=new WeakSet,Il=function(){return Ke(this,n0)||Ls(this,n0,new Map)},$y=function(){return Ke(this,ax)||Ls(this,ax,new Map)},Ag=function(){if(!Ke(this,yp)){const Ee=Ke(this,$l).createElement("div"),{style:Ce}=Ee;Ce.visibility="hidden",Ce.contain="strict",Ce.width=Ce.height=0,Ce.position="absolute",Ce.top=Ce.left=0,Ce.zIndex=-1;const Te=Ke(this,$l).createElementNS(SVG_NS,"svg");Te.setAttribute("width",0),Te.setAttribute("height",0),Ls(this,yp,Ke(this,$l).createElementNS(SVG_NS,"defs")),Ee.append(Te),Te.append(Ke(this,yp)),Ke(this,$l).body.append(Ee)}return Ke(this,yp)},Tb=function(Ee){if(Ee.length===1){const ze=Ee[0],Ve=new Array(256);for(let We=0;We<256;We++)Ve[We]=ze[We]/255;const qe=Ve.join(",");return[qe,qe,qe]}const[Ce,Te,De]=Ee,Me=new Array(256),Oe=new Array(256),Be=new Array(256);for(let ze=0;ze<256;ze++)Me[ze]=Ce[ze]/255,Oe[ze]=Te[ze]/255,Be[ze]=De[ze]/255;return[Me.join(","),Oe.join(","),Be.join(",")]},Cg=function(Ee){if(Ke(this,nx)===void 0){Ls(this,nx,"");const Ce=Ke(this,$l).URL;Ce!==Ke(this,$l).baseURI&&(isDataScheme(Ce)?warn('#createUrl: ignore "data:"-URL for performance reasons.'):Ls(this,nx,updateUrlHash(Ce,"")))}return`url(${Ke(this,nx)}#${Ee})`},r5=function(Ee){const Ce=Ke(this,$l).createElementNS(SVG_NS,"feColorMatrix");Ce.setAttribute("type","matrix"),Ce.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),Ee.append(Ce)},Wj=function(Ee){const Ce=Ke(this,$l).createElementNS(SVG_NS,"feColorMatrix");Ce.setAttribute("type","matrix"),Ce.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),Ee.append(Ce)},Pg=function(Ee){const Ce=Ke(this,$l).createElementNS(SVG_NS,"filter");return Ce.setAttribute("color-interpolation-filters","sRGB"),Ce.setAttribute("id",Ee),Ke(this,gi,Ag).append(Ce),Ce},Vy=function(Ee,Ce,Te){const De=Ke(this,$l).createElementNS(SVG_NS,Ce);De.setAttribute("type","discrete"),De.setAttribute("tableValues",Te),Ee.append(De)},Uy=function(Ee,Ce,Te,De){const Me=Ke(this,$l).createElementNS(SVG_NS,"feComponentTransfer");De.append(Me),Hs(this,gi,Vy).call(this,Me,"feFuncR",Ee),Hs(this,gi,Vy).call(this,Me,"feFuncG",Ce),Hs(this,gi,Vy).call(this,Me,"feFuncB",Te)},Zj=function(Ee,Ce){const Te=Ke(this,$l).createElementNS(SVG_NS,"feComponentTransfer");Ce.append(Te),Hs(this,gi,Vy).call(this,Te,"feFuncA",Ee)},Hy=function(Ee){return Ke(this,gi,Ag).style.color=Ee,getRGB(getComputedStyle(Ke(this,gi,Ag)).getPropertyValue("color"))};class BaseStandardFontDataFactory{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!e)throw new Error("Font filename must be specified.");const Ee=`${this.baseUrl}${e}`;return this._fetch(Ee).catch(Ce=>{throw new Error(`Unable to load font data at: ${Ee}`)})}async _fetch(e){unreachable("Abstract method `_fetch` called.")}}class DOMStandardFontDataFactory extends BaseStandardFontDataFactory{async _fetch(e){const Ee=await fetchData(e,"arraybuffer");return new Uint8Array(Ee)}}class BaseWasmFactory{constructor({baseUrl:e=null}){this.baseUrl=e}async fetch({filename:e}){if(!this.baseUrl)throw new Error("Ensure that the `wasmUrl` API parameter is provided.");if(!e)throw new Error("Wasm filename must be specified.");const Ee=`${this.baseUrl}${e}`;return this._fetch(Ee).catch(Ce=>{throw new Error(`Unable to load wasm data at: ${Ee}`)})}async _fetch(e){unreachable("Abstract method `_fetch` called.")}}class DOMWasmFactory extends BaseWasmFactory{async _fetch(e){const Ee=await fetchData(e,"arraybuffer");return new Uint8Array(Ee)}}isNodeJS&&warn("Please use the `legacy` build in Node.js environments.");async function node_utils_fetchData(Re){const Ee=await process.getBuiltinModule("fs").promises.readFile(Re);return new Uint8Array(Ee)}class NodeFilterFactory extends BaseFilterFactory{}class NodeCanvasFactory extends BaseCanvasFactory{_createCanvas(e,Ee){return process.getBuiltinModule("module").createRequire(import.meta.url)("@napi-rs/canvas").createCanvas(e,Ee)}}class NodeCMapReaderFactory extends BaseCMapReaderFactory{async _fetch(e){return node_utils_fetchData(e)}}class NodeStandardFontDataFactory extends BaseStandardFontDataFactory{async _fetch(e){return node_utils_fetchData(e)}}class NodeWasmFactory extends BaseWasmFactory{async _fetch(e){return node_utils_fetchData(e)}}const FORCED_DEPENDENCY_LABEL="__forcedDependency",{floor,ceil}=Math;function expandBBox(Re,e,Ee,Ce,Te,De){Re[e*4+0]=Math.min(Re[e*4+0],Ee),Re[e*4+1]=Math.min(Re[e*4+1],Ce),Re[e*4+2]=Math.max(Re[e*4+2],Te),Re[e*4+3]=Math.max(Re[e*4+3],De)}const EMPTY_BBOX=new Uint32Array(new Uint8Array([255,255,0,0]).buffer)[0];var a0,Dm;class BBoxReader{constructor(e,Ee){Bs(this,a0);Bs(this,Dm);Ls(this,a0,e),Ls(this,Dm,Ee)}get length(){return Ke(this,a0).length}isEmpty(e){return Ke(this,a0)[e]===EMPTY_BBOX}minX(e){return Ke(this,Dm)[e*4+0]/256}minY(e){return Ke(this,Dm)[e*4+1]/256}maxX(e){return(Ke(this,Dm)[e*4+2]+1)/256}maxY(e){return(Ke(this,Dm)[e*4+3]+1)/256}}a0=new WeakMap,Dm=new WeakMap;const ensureDebugMetadata=(Re,e)=>{if(!Re)return;let Ee=Re.get(e);return Ee||(Ee={dependencies:new Set,isRenderingOperation:!1},Re.set(e,Ee)),Ee};var Dc,Lc,lx,kd,cx,bp,Fn,$n,jp,Mc,P1,o0,ux,dx,Ep,Vl,xh,T1,Kj;class CanvasDependencyTracker{constructor(e,Ee,Ce=!1){Bs(this,T1);Bs(this,Dc,{__proto__:null});Bs(this,Lc,{__proto__:null,transform:[],moveText:[],sameLineText:[],[FORCED_DEPENDENCY_LABEL]:[]});Bs(this,lx,new Map);Bs(this,kd,[]);Bs(this,cx,[]);Bs(this,bp,[[1,0,0,1,0,0]]);Bs(this,Fn,[-1/0,-1/0,1/0,1/0]);Bs(this,$n,new Float64Array([1/0,1/0,-1/0,-1/0]));Bs(this,jp,-1);Bs(this,Mc,new Set);Bs(this,P1,new Map);Bs(this,o0,new Map);Bs(this,ux);Bs(this,dx);Bs(this,Ep);Bs(this,Vl);Bs(this,xh);Ls(this,ux,e.width),Ls(this,dx,e.height),Hs(this,T1,Kj).call(this,Ee),Ce&&Ls(this,xh,new Map)}growOperationsCount(e){e>=Ke(this,Vl).length&&Hs(this,T1,Kj).call(this,e,Ke(this,Vl))}save(e){return Ls(this,Dc,{__proto__:Ke(this,Dc)}),Ls(this,Lc,{__proto__:Ke(this,Lc),transform:{__proto__:Ke(this,Lc).transform},moveText:{__proto__:Ke(this,Lc).moveText},sameLineText:{__proto__:Ke(this,Lc).sameLineText},[FORCED_DEPENDENCY_LABEL]:{__proto__:Ke(this,Lc)[FORCED_DEPENDENCY_LABEL]}}),Ls(this,Fn,{__proto__:Ke(this,Fn)}),Ke(this,kd).push(e),this}restore(e){var Te;const Ee=Object.getPrototypeOf(Ke(this,Dc));if(Ee===null)return this;Ls(this,Dc,Ee),Ls(this,Lc,Object.getPrototypeOf(Ke(this,Lc))),Ls(this,Fn,Object.getPrototypeOf(Ke(this,Fn)));const Ce=Ke(this,kd).pop();return Ce!==void 0&&((Te=ensureDebugMetadata(Ke(this,xh),e))==null||Te.dependencies.add(Ce),Ke(this,Vl)[e]=Ke(this,Vl)[Ce]),this}recordOpenMarker(e){return Ke(this,kd).push(e),this}getOpenMarker(){return Ke(this,kd).length===0?null:Ke(this,kd).at(-1)}recordCloseMarker(e){var Ce;const Ee=Ke(this,kd).pop();return Ee!==void 0&&((Ce=ensureDebugMetadata(Ke(this,xh),e))==null||Ce.dependencies.add(Ee),Ke(this,Vl)[e]=Ke(this,Vl)[Ee]),this}beginMarkedContent(e){return Ke(this,cx).push(e),this}endMarkedContent(e){var Ce;const Ee=Ke(this,cx).pop();return Ee!==void 0&&((Ce=ensureDebugMetadata(Ke(this,xh),e))==null||Ce.dependencies.add(Ee),Ke(this,Vl)[e]=Ke(this,Vl)[Ee]),this}pushBaseTransform(e){return Ke(this,bp).push(Util.multiplyByDOMMatrix(Ke(this,bp).at(-1),e.getTransform())),this}popBaseTransform(){return Ke(this,bp).length>1&&Ke(this,bp).pop(),this}recordSimpleData(e,Ee){return Ke(this,Dc)[e]=Ee,this}recordIncrementalData(e,Ee){return Ke(this,Lc)[e].push(Ee),this}resetIncrementalData(e,Ee){return Ke(this,Lc)[e].length=0,this}recordNamedData(e,Ee){return Ke(this,lx).set(e,Ee),this}recordSimpleDataFromNamed(e,Ee,Ce){Ke(this,Dc)[e]=Ke(this,lx).get(Ee)??Ce}recordFutureForcedDependency(e,Ee){return this.recordIncrementalData(FORCED_DEPENDENCY_LABEL,Ee),this}inheritSimpleDataAsFutureForcedDependencies(e){for(const Ee of e)Ee in Ke(this,Dc)&&this.recordFutureForcedDependency(Ee,Ke(this,Dc)[Ee]);return this}inheritPendingDependenciesAsFutureForcedDependencies(){for(const e of Ke(this,Mc))this.recordFutureForcedDependency(FORCED_DEPENDENCY_LABEL,e);return this}resetBBox(e){return Ke(this,jp)!==e&&(Ls(this,jp,e),Ke(this,$n)[0]=1/0,Ke(this,$n)[1]=1/0,Ke(this,$n)[2]=-1/0,Ke(this,$n)[3]=-1/0),this}recordClipBox(e,Ee,Ce,Te,De,Me){const Oe=Util.multiplyByDOMMatrix(Ke(this,bp).at(-1),Ee.getTransform()),Be=[1/0,1/0,-1/0,-1/0];Util.axialAlignedBoundingBox([Ce,De,Te,Me],Oe,Be);const ze=Util.intersect(Ke(this,Fn),Be);return ze?(Ke(this,Fn)[0]=ze[0],Ke(this,Fn)[1]=ze[1],Ke(this,Fn)[2]=ze[2],Ke(this,Fn)[3]=ze[3]):(Ke(this,Fn)[0]=Ke(this,Fn)[1]=1/0,Ke(this,Fn)[2]=Ke(this,Fn)[3]=-1/0),this}recordBBox(e,Ee,Ce,Te,De,Me){const Oe=Ke(this,Fn);if(Oe[0]===1/0)return this;const Be=Util.multiplyByDOMMatrix(Ke(this,bp).at(-1),Ee.getTransform());if(Oe[0]===-1/0)return Util.axialAlignedBoundingBox([Ce,De,Te,Me],Be,Ke(this,$n)),this;const ze=[1/0,1/0,-1/0,-1/0];return Util.axialAlignedBoundingBox([Ce,De,Te,Me],Be,ze),Ke(this,$n)[0]=Math.min(Ke(this,$n)[0],Math.max(ze[0],Oe[0])),Ke(this,$n)[1]=Math.min(Ke(this,$n)[1],Math.max(ze[1],Oe[1])),Ke(this,$n)[2]=Math.max(Ke(this,$n)[2],Math.min(ze[2],Oe[2])),Ke(this,$n)[3]=Math.max(Ke(this,$n)[3],Math.min(ze[3],Oe[3])),this}recordCharacterBBox(e,Ee,Ce,Te=1,De=0,Me=0,Oe){const Be=Ce.bbox;let ze,Ve;if(Be&&(ze=Be[2]!==Be[0]&&Be[3]!==Be[1]&&Ke(this,o0).get(Ce),ze!==!1&&(Ve=[0,0,0,0],Util.axialAlignedBoundingBox(Be,Ce.fontMatrix,Ve),(Te!==1||De!==0||Me!==0)&&Util.scaleMinMax([Te,0,0,-Te,De,Me],Ve),ze)))return this.recordBBox(e,Ee,Ve[0],Ve[2],Ve[1],Ve[3]);if(!Oe)return this.recordFullPageBBox(e);const qe=Oe();return Be&&Ve&&ze===void 0&&(ze=Ve[0]<=De-qe.actualBoundingBoxLeft&&Ve[2]>=De+qe.actualBoundingBoxRight&&Ve[1]<=Me-qe.actualBoundingBoxAscent&&Ve[3]>=Me+qe.actualBoundingBoxDescent,Ke(this,o0).set(Ce,ze),ze)?this.recordBBox(e,Ee,Ve[0],Ve[2],Ve[1],Ve[3]):this.recordBBox(e,Ee,De-qe.actualBoundingBoxLeft,De+qe.actualBoundingBoxRight,Me-qe.actualBoundingBoxAscent,Me+qe.actualBoundingBoxDescent)}recordFullPageBBox(e){return Ke(this,$n)[0]=Math.max(0,Ke(this,Fn)[0]),Ke(this,$n)[1]=Math.max(0,Ke(this,Fn)[1]),Ke(this,$n)[2]=Math.min(Ke(this,ux),Ke(this,Fn)[2]),Ke(this,$n)[3]=Math.min(Ke(this,dx),Ke(this,Fn)[3]),this}getSimpleIndex(e){return Ke(this,Dc)[e]}recordDependencies(e,Ee){const Ce=Ke(this,Mc),Te=Ke(this,Dc),De=Ke(this,Lc);for(const Me of Ee)Me in Ke(this,Dc)?Ce.add(Te[Me]):Me in De&&De[Me].forEach(Ce.add,Ce);return this}recordNamedDependency(e,Ee){return Ke(this,lx).has(Ee)&&Ke(this,Mc).add(Ke(this,lx).get(Ee)),this}recordOperation(e,Ee=!1){if(this.recordDependencies(e,[FORCED_DEPENDENCY_LABEL]),Ke(this,xh)){const Ce=ensureDebugMetadata(Ke(this,xh),e),{dependencies:Te}=Ce;Ke(this,Mc).forEach(Te.add,Te),Ke(this,kd).forEach(Te.add,Te),Ke(this,cx).forEach(Te.add,Te),Te.delete(e),Ce.isRenderingOperation=!0}if(Ke(this,jp)===e){const Ce=floor(Ke(this,$n)[0]*256/Ke(this,ux)),Te=floor(Ke(this,$n)[1]*256/Ke(this,dx)),De=ceil(Ke(this,$n)[2]*256/Ke(this,ux)),Me=ceil(Ke(this,$n)[3]*256/Ke(this,dx));expandBBox(Ke(this,Ep),e,Ce,Te,De,Me);for(const Oe of Ke(this,Mc))Oe!==e&&expandBBox(Ke(this,Ep),Oe,Ce,Te,De,Me);for(const Oe of Ke(this,kd))Oe!==e&&expandBBox(Ke(this,Ep),Oe,Ce,Te,De,Me);for(const Oe of Ke(this,cx))Oe!==e&&expandBBox(Ke(this,Ep),Oe,Ce,Te,De,Me);Ee||(Ke(this,Mc).clear(),Ls(this,jp,-1))}return this}recordShowTextOperation(e,Ee=!1){const Ce=Array.from(Ke(this,Mc));this.recordOperation(e,Ee),this.recordIncrementalData("sameLineText",e);for(const Te of Ce)this.recordIncrementalData("sameLineText",Te);return this}bboxToClipBoxDropOperation(e,Ee=!1){return Ke(this,jp)===e&&(Ls(this,jp,-1),Ke(this,Fn)[0]=Math.max(Ke(this,Fn)[0],Ke(this,$n)[0]),Ke(this,Fn)[1]=Math.max(Ke(this,Fn)[1],Ke(this,$n)[1]),Ke(this,Fn)[2]=Math.min(Ke(this,Fn)[2],Ke(this,$n)[2]),Ke(this,Fn)[3]=Math.min(Ke(this,Fn)[3],Ke(this,$n)[3]),Ee||Ke(this,Mc).clear()),this}_takePendingDependencies(){const e=Ke(this,Mc);return Ls(this,Mc,new Set),e}_extractOperation(e){const Ee=Ke(this,P1).get(e);return Ke(this,P1).delete(e),Ee}_pushPendingDependencies(e){for(const Ee of e)Ke(this,Mc).add(Ee)}take(){return Ke(this,o0).clear(),new BBoxReader(Ke(this,Vl),Ke(this,Ep))}takeDebugMetadata(){return Ke(this,xh)}}Dc=new WeakMap,Lc=new WeakMap,lx=new WeakMap,kd=new WeakMap,cx=new WeakMap,bp=new WeakMap,Fn=new WeakMap,$n=new WeakMap,jp=new WeakMap,Mc=new WeakMap,P1=new WeakMap,o0=new WeakMap,ux=new WeakMap,dx=new WeakMap,Ep=new WeakMap,Vl=new WeakMap,xh=new WeakMap,T1=new WeakSet,Kj=function(e,Ee){const Ce=new ArrayBuffer(e*4);Ls(this,Ep,new Uint8ClampedArray(Ce)),Ls(this,Vl,new Uint32Array(Ce)),Ee&&Ee.length>0?(Ke(this,Vl).set(Ee),Ke(this,Vl).fill(EMPTY_BBOX,Ee.length)):Ke(this,Vl).fill(EMPTY_BBOX)};var Yn,Ia,Dd,l0,c0;const FE=class FE{constructor(e,Ee,Ce){Bs(this,Yn);Bs(this,Ia);Bs(this,Dd);Bs(this,l0,0);Bs(this,c0,0);if(e instanceof FE&&Ke(e,Dd)===!!Ce)return e;Ls(this,Yn,e),Ls(this,Ia,Ee),Ls(this,Dd,!!Ce)}growOperationsCount(){throw new Error("Unreachable")}save(e){return Ro(this,c0)._++,Ke(this,Yn).save(Ke(this,Ia)),this}restore(e){return Ke(this,c0)>0&&(Ke(this,Yn).restore(Ke(this,Ia)),Ro(this,c0)._--),this}recordOpenMarker(e){return Ro(this,l0)._++,this}getOpenMarker(){return Ke(this,l0)>0?Ke(this,Ia):Ke(this,Yn).getOpenMarker()}recordCloseMarker(e){return Ro(this,l0)._--,this}beginMarkedContent(e){return this}endMarkedContent(e){return this}pushBaseTransform(e){return Ke(this,Yn).pushBaseTransform(e),this}popBaseTransform(){return Ke(this,Yn).popBaseTransform(),this}recordSimpleData(e,Ee){return Ke(this,Yn).recordSimpleData(e,Ke(this,Ia)),this}recordIncrementalData(e,Ee){return Ke(this,Yn).recordIncrementalData(e,Ke(this,Ia)),this}resetIncrementalData(e,Ee){return Ke(this,Yn).resetIncrementalData(e,Ke(this,Ia)),this}recordNamedData(e,Ee){return this}recordSimpleDataFromNamed(e,Ee,Ce){return Ke(this,Yn).recordSimpleDataFromNamed(e,Ee,Ke(this,Ia)),this}recordFutureForcedDependency(e,Ee){return Ke(this,Yn).recordFutureForcedDependency(e,Ke(this,Ia)),this}inheritSimpleDataAsFutureForcedDependencies(e){return Ke(this,Yn).inheritSimpleDataAsFutureForcedDependencies(e),this}inheritPendingDependenciesAsFutureForcedDependencies(){return Ke(this,Yn).inheritPendingDependenciesAsFutureForcedDependencies(),this}resetBBox(e){return Ke(this,Dd)||Ke(this,Yn).resetBBox(Ke(this,Ia)),this}recordClipBox(e,Ee,Ce,Te,De,Me){return Ke(this,Dd)||Ke(this,Yn).recordClipBox(Ke(this,Ia),Ee,Ce,Te,De,Me),this}recordBBox(e,Ee,Ce,Te,De,Me){return Ke(this,Dd)||Ke(this,Yn).recordBBox(Ke(this,Ia),Ee,Ce,Te,De,Me),this}recordCharacterBBox(e,Ee,Ce,Te,De,Me,Oe){return Ke(this,Dd)||Ke(this,Yn).recordCharacterBBox(Ke(this,Ia),Ee,Ce,Te,De,Me,Oe),this}recordFullPageBBox(e){return Ke(this,Dd)||Ke(this,Yn).recordFullPageBBox(Ke(this,Ia)),this}getSimpleIndex(e){return Ke(this,Yn).getSimpleIndex(e)}recordDependencies(e,Ee){return Ke(this,Yn).recordDependencies(Ke(this,Ia),Ee),this}recordNamedDependency(e,Ee){return Ke(this,Yn).recordNamedDependency(Ke(this,Ia),Ee),this}recordOperation(e){return Ke(this,Yn).recordOperation(Ke(this,Ia),!0),this}recordShowTextOperation(e){return Ke(this,Yn).recordShowTextOperation(Ke(this,Ia),!0),this}bboxToClipBoxDropOperation(e){return Ke(this,Dd)||Ke(this,Yn).bboxToClipBoxDropOperation(Ke(this,Ia),!0),this}take(){throw new Error("Unreachable")}takeDebugMetadata(){throw new Error("Unreachable")}};Yn=new WeakMap,Ia=new WeakMap,Dd=new WeakMap,l0=new WeakMap,c0=new WeakMap;let CanvasNestedDependencyTracker=FE;const Dependencies={stroke:["path","transform","filter","strokeColor","strokeAlpha","lineWidth","lineCap","lineJoin","miterLimit","dash"],fill:["path","transform","filter","fillColor","fillAlpha","globalCompositeOperation","SMask"],imageXObject:["transform","SMask","filter","fillAlpha","strokeAlpha","globalCompositeOperation"],rawFillPath:["filter","fillColor","fillAlpha"],showText:["transform","leading","charSpacing","wordSpacing","hScale","textRise","moveText","textMatrix","font","fontObj","filter","fillColor","textRenderingMode","SMask","fillAlpha","strokeAlpha","globalCompositeOperation","sameLineText"],transform:["transform"],transformAndFill:["transform","fillColor"]},PathType={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function applyBoundingBox(Re,e){if(!e)return;const Ee=e[2]-e[0],Ce=e[3]-e[1],Te=new Path2D;Te.rect(e[0],e[1],Ee,Ce),Re.clip(Te)}class BaseShadingPattern{isModifyingCurrentTransform(){return!1}getPattern(){unreachable("Abstract method `getPattern` called.")}}class RadialAxialShadingPattern extends BaseShadingPattern{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let Ee;this._type==="axial"?Ee=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(Ee=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const Ce of this._colorStops)Ee.addColorStop(Ce[0],Ce[1]);return Ee}getPattern(e,Ee,Ce,Te){let De;if(Te===PathType.STROKE||Te===PathType.FILL){const Me=Ee.current.getClippedPathBoundingBox(Te,getCurrentTransform(e))||[0,0,0,0],Oe=Math.ceil(Me[2]-Me[0])||1,Be=Math.ceil(Me[3]-Me[1])||1,ze=Ee.cachedCanvases.getCanvas("pattern",Oe,Be),Ve=ze.context;Ve.clearRect(0,0,Ve.canvas.width,Ve.canvas.height),Ve.beginPath(),Ve.rect(0,0,Ve.canvas.width,Ve.canvas.height),Ve.translate(-Me[0],-Me[1]),Ce=Util.transform(Ce,[1,0,0,1,Me[0],Me[1]]),Ve.transform(...Ee.baseTransform),this.matrix&&Ve.transform(...this.matrix),applyBoundingBox(Ve,this._bbox),Ve.fillStyle=this._createGradient(Ve),Ve.fill(),De=e.createPattern(ze.canvas,"no-repeat");const qe=new DOMMatrix(Ce);De.setTransform(qe)}else applyBoundingBox(e,this._bbox),De=this._createGradient(e);return De}}function drawTriangle(Re,e,Ee,Ce,Te,De,Me,Oe){const Be=e.coords,ze=e.colors,Ve=Re.data,qe=Re.width*4;let We;Be[Ee+1]>Be[Ce+1]&&(We=Ee,Ee=Ce,Ce=We,We=De,De=Me,Me=We),Be[Ce+1]>Be[Te+1]&&(We=Ce,Ce=Te,Te=We,We=Me,Me=Oe,Oe=We),Be[Ee+1]>Be[Ce+1]&&(We=Ee,Ee=Ce,Ce=We,We=De,De=Me,Me=We);const Ge=(Be[Ee]+e.offsetX)*e.scaleX,Je=(Be[Ee+1]+e.offsetY)*e.scaleY,Qe=(Be[Ce]+e.offsetX)*e.scaleX,ns=(Be[Ce+1]+e.offsetY)*e.scaleY,Ye=(Be[Te]+e.offsetX)*e.scaleX,rs=(Be[Te+1]+e.offsetY)*e.scaleY;if(Je>=rs)return;const ts=ze[De],Xe=ze[De+1],is=ze[De+2],os=ze[Me],hs=ze[Me+1],fs=ze[Me+2],xs=ze[Oe],Ss=ze[Oe+1],ds=ze[Oe+2],gs=Math.round(Je),Ts=Math.round(rs);let Ds,Ms,bs,Ns,ps,_s,ws,js;for(let ms=gs;ms<=Ts;ms++){if(ms<ns){const Ps=ms<Je?0:(Je-ms)/(Je-ns);Ds=Ge-(Ge-Qe)*Ps,Ms=ts-(ts-os)*Ps,bs=Xe-(Xe-hs)*Ps,Ns=is-(is-fs)*Ps}else{let Ps;ms>rs?Ps=1:ns===rs?Ps=0:Ps=(ns-ms)/(ns-rs),Ds=Qe-(Qe-Ye)*Ps,Ms=os-(os-xs)*Ps,bs=hs-(hs-Ss)*Ps,Ns=fs-(fs-ds)*Ps}let ys;ms<Je?ys=0:ms>rs?ys=1:ys=(Je-ms)/(Je-rs),ps=Ge-(Ge-Ye)*ys,_s=ts-(ts-xs)*ys,ws=Xe-(Xe-Ss)*ys,js=is-(is-ds)*ys;const ks=Math.round(Math.min(Ds,ps)),zs=Math.round(Math.max(Ds,ps));let Cs=qe*ms+ks*4;for(let Ps=ks;Ps<=zs;Ps++)ys=(Ds-Ps)/(Ds-ps),ys<0?ys=0:ys>1&&(ys=1),Ve[Cs++]=Ms-(Ms-_s)*ys|0,Ve[Cs++]=bs-(bs-ws)*ys|0,Ve[Cs++]=Ns-(Ns-js)*ys|0,Ve[Cs++]=255}}function drawFigure(Re,e,Ee){const Ce=e.coords,Te=e.colors;let De,Me;switch(e.type){case"lattice":const Oe=e.verticesPerRow,Be=Math.floor(Ce.length/Oe)-1,ze=Oe-1;for(De=0;De<Be;De++){let Ve=De*Oe;for(let qe=0;qe<ze;qe++,Ve++)drawTriangle(Re,Ee,Ce[Ve],Ce[Ve+1],Ce[Ve+Oe],Te[Ve],Te[Ve+1],Te[Ve+Oe]),drawTriangle(Re,Ee,Ce[Ve+Oe+1],Ce[Ve+1],Ce[Ve+Oe],Te[Ve+Oe+1],Te[Ve+1],Te[Ve+Oe])}break;case"triangles":for(De=0,Me=Ce.length;De<Me;De+=3)drawTriangle(Re,Ee,Ce[De],Ce[De+1],Ce[De+2],Te[De],Te[De+1],Te[De+2]);break;default:throw new Error("illegal figure")}}class MeshShadingPattern extends BaseShadingPattern{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[6],this._background=e[7],this.matrix=null}_createMeshCanvas(e,Ee,Ce){const Oe=Math.floor(this._bounds[0]),Be=Math.floor(this._bounds[1]),ze=Math.ceil(this._bounds[2])-Oe,Ve=Math.ceil(this._bounds[3])-Be,qe=Math.min(Math.ceil(Math.abs(ze*e[0]*1.1)),3e3),We=Math.min(Math.ceil(Math.abs(Ve*e[1]*1.1)),3e3),Ge=ze/qe,Je=Ve/We,Qe={coords:this._coords,colors:this._colors,offsetX:-Oe,offsetY:-Be,scaleX:1/Ge,scaleY:1/Je},ns=qe+2*2,Ye=We+2*2,rs=Ce.getCanvas("mesh",ns,Ye),ts=rs.context,Xe=ts.createImageData(qe,We);if(Ee){const os=Xe.data;for(let hs=0,fs=os.length;hs<fs;hs+=4)os[hs]=Ee[0],os[hs+1]=Ee[1],os[hs+2]=Ee[2],os[hs+3]=255}for(const os of this._figures)drawFigure(Xe,os,Qe);return ts.putImageData(Xe,2,2),{canvas:rs.canvas,offsetX:Oe-2*Ge,offsetY:Be-2*Je,scaleX:Ge,scaleY:Je}}isModifyingCurrentTransform(){return!0}getPattern(e,Ee,Ce,Te){applyBoundingBox(e,this._bbox);const De=new Float32Array(2);if(Te===PathType.SHADING)Util.singularValueDecompose2dScale(getCurrentTransform(e),De);else if(this.matrix){Util.singularValueDecompose2dScale(this.matrix,De);const[Oe,Be]=De;Util.singularValueDecompose2dScale(Ee.baseTransform,De),De[0]*=Oe,De[1]*=Be}else Util.singularValueDecompose2dScale(Ee.baseTransform,De);const Me=this._createMeshCanvas(De,Te===PathType.SHADING?null:this._background,Ee.cachedCanvases);return Te!==PathType.SHADING&&(e.setTransform(...Ee.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(Me.offsetX,Me.offsetY),e.scale(Me.scaleX,Me.scaleY),e.createPattern(Me.canvas,"no-repeat")}}class DummyShadingPattern extends BaseShadingPattern{getPattern(){return"hotpink"}}function getShadingPattern(Re){switch(Re[0]){case"RadialAxial":return new RadialAxialShadingPattern(Re);case"Mesh":return new MeshShadingPattern(Re);case"Dummy":return new DummyShadingPattern}throw new Error(`Unknown IR type: ${Re[0]}`)}const PaintType={COLORED:1,UNCOLORED:2},u2=class u2{constructor(e,Ee,Ce,Te){this.color=e[1],this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.ctx=Ee,this.canvasGraphicsFactory=Ce,this.baseTransform=Te}createPatternCanvas(e,Ee){var _s,ws;const{bbox:Ce,operatorList:Te,paintType:De,tilingType:Me,color:Oe,canvasGraphicsFactory:Be}=this;let{xstep:ze,ystep:Ve}=this;ze=Math.abs(ze),Ve=Math.abs(Ve),info("TilingType: "+Me);const qe=Ce[0],We=Ce[1],Ge=Ce[2],Je=Ce[3],Qe=Ge-qe,ns=Je-We,Ye=new Float32Array(2);Util.singularValueDecompose2dScale(this.matrix,Ye);const[rs,ts]=Ye;Util.singularValueDecompose2dScale(this.baseTransform,Ye);const Xe=rs*Ye[0],is=ts*Ye[1];let os=Qe,hs=ns,fs=!1,xs=!1;const Ss=Math.ceil(ze*Xe),ds=Math.ceil(Ve*is),gs=Math.ceil(Qe*Xe),Ts=Math.ceil(ns*is);Ss>=gs?os=ze:fs=!0,ds>=Ts?hs=Ve:xs=!0;const Ds=this.getSizeAndScale(os,this.ctx.canvas.width,Xe),Ms=this.getSizeAndScale(hs,this.ctx.canvas.height,is),bs=e.cachedCanvases.getCanvas("pattern",Ds.size,Ms.size),Ns=bs.context,ps=Be.createCanvasGraphics(Ns,Ee);if(ps.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(ps,De,Oe),Ns.translate(-Ds.scale*qe,-Ms.scale*We),ps.transform(0,Ds.scale,0,0,Ms.scale,0,0),Ns.save(),(_s=ps.dependencyTracker)==null||_s.save(),this.clipBbox(ps,qe,We,Ge,Je),ps.baseTransform=getCurrentTransform(ps.ctx),ps.executeOperatorList(Te),ps.endDrawing(),(ws=ps.dependencyTracker)==null||ws.restore(),Ns.restore(),fs||xs){const js=bs.canvas;fs&&(os=ze),xs&&(hs=Ve);const ms=this.getSizeAndScale(os,this.ctx.canvas.width,Xe),ys=this.getSizeAndScale(hs,this.ctx.canvas.height,is),ks=ms.size,zs=ys.size,Cs=e.cachedCanvases.getCanvas("pattern-workaround",ks,zs),Ps=Cs.context,Us=fs?Math.floor(Qe/ze):0,Is=xs?Math.floor(ns/Ve):0;for(let Vs=0;Vs<=Us;Vs++)for(let Ks=0;Ks<=Is;Ks++)Ps.drawImage(js,ks*Vs,zs*Ks,ks,zs,0,0,ks,zs);return{canvas:Cs.canvas,scaleX:ms.scale,scaleY:ys.scale,offsetX:qe,offsetY:We}}return{canvas:bs.canvas,scaleX:Ds.scale,scaleY:Ms.scale,offsetX:qe,offsetY:We}}getSizeAndScale(e,Ee,Ce){const Te=Math.max(u2.MAX_PATTERN_SIZE,Ee);let De=Math.ceil(e*Ce);return De>=Te?De=Te:Ce=De/e,{scale:Ce,size:De}}clipBbox(e,Ee,Ce,Te,De){const Me=Te-Ee,Oe=De-Ce;e.ctx.rect(Ee,Ce,Me,Oe),Util.axialAlignedBoundingBox([Ee,Ce,Te,De],getCurrentTransform(e.ctx),e.current.minMax),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,Ee,Ce){const Te=e.ctx,De=e.current;switch(Ee){case PaintType.COLORED:const{fillStyle:Me,strokeStyle:Oe}=this.ctx;Te.fillStyle=De.fillColor=Me,Te.strokeStyle=De.strokeColor=Oe;break;case PaintType.UNCOLORED:Te.fillStyle=Te.strokeStyle=Ce,De.fillColor=De.strokeColor=Ce;break;default:throw new FormatError(`Unsupported paint type: ${Ee}`)}}isModifyingCurrentTransform(){return!1}getPattern(e,Ee,Ce,Te,De){let Me=Ce;Te!==PathType.SHADING&&(Me=Util.transform(Me,Ee.baseTransform),this.matrix&&(Me=Util.transform(Me,this.matrix)));const Oe=this.createPatternCanvas(Ee,De);let Be=new DOMMatrix(Me);Be=Be.translate(Oe.offsetX,Oe.offsetY),Be=Be.scale(1/Oe.scaleX,1/Oe.scaleY);const ze=e.createPattern(Oe.canvas,"repeat");return ze.setTransform(Be),ze}};qr(u2,"MAX_PATTERN_SIZE",3e3);let TilingPattern=u2;function convertBlackAndWhiteToRGBA({src:Re,srcPos:e=0,dest:Ee,width:Ce,height:Te,nonBlackColor:De=4294967295,inverseDecode:Me=!1}){const Oe=util_FeatureTest.isLittleEndian?4278190080:255,[Be,ze]=Me?[De,Oe]:[Oe,De],Ve=Ce>>3,qe=Ce&7,We=Re.length;Ee=new Uint32Array(Ee.buffer);let Ge=0;for(let Je=0;Je<Te;Je++){for(const ns=e+Ve;e<ns;e++){const Ye=e<We?Re[e]:255;Ee[Ge++]=Ye&128?ze:Be,Ee[Ge++]=Ye&64?ze:Be,Ee[Ge++]=Ye&32?ze:Be,Ee[Ge++]=Ye&16?ze:Be,Ee[Ge++]=Ye&8?ze:Be,Ee[Ge++]=Ye&4?ze:Be,Ee[Ge++]=Ye&2?ze:Be,Ee[Ge++]=Ye&1?ze:Be}if(qe===0)continue;const Qe=e<We?Re[e++]:255;for(let ns=0;ns<qe;ns++)Ee[Ge++]=Qe&1<<7-ns?ze:Be}return{srcPos:e,destPos:Ge}}const MIN_FONT_SIZE=16,MAX_FONT_SIZE=100,EXECUTION_TIME=15,EXECUTION_STEPS=10,FULL_CHUNK_HEIGHT=16,SCALE_MATRIX=new DOMMatrix,XY=new Float32Array(2),MIN_MAX_INIT=new Float32Array([1/0,1/0,-1/0,-1/0]);function mirrorContextOperations(Re,e){if(Re._removeMirroring)throw new Error("Context is already forwarding operations.");Re.__originalSave=Re.save,Re.__originalRestore=Re.restore,Re.__originalRotate=Re.rotate,Re.__originalScale=Re.scale,Re.__originalTranslate=Re.translate,Re.__originalTransform=Re.transform,Re.__originalSetTransform=Re.setTransform,Re.__originalResetTransform=Re.resetTransform,Re.__originalClip=Re.clip,Re.__originalMoveTo=Re.moveTo,Re.__originalLineTo=Re.lineTo,Re.__originalBezierCurveTo=Re.bezierCurveTo,Re.__originalRect=Re.rect,Re.__originalClosePath=Re.closePath,Re.__originalBeginPath=Re.beginPath,Re._removeMirroring=()=>{Re.save=Re.__originalSave,Re.restore=Re.__originalRestore,Re.rotate=Re.__originalRotate,Re.scale=Re.__originalScale,Re.translate=Re.__originalTranslate,Re.transform=Re.__originalTransform,Re.setTransform=Re.__originalSetTransform,Re.resetTransform=Re.__originalResetTransform,Re.clip=Re.__originalClip,Re.moveTo=Re.__originalMoveTo,Re.lineTo=Re.__originalLineTo,Re.bezierCurveTo=Re.__originalBezierCurveTo,Re.rect=Re.__originalRect,Re.closePath=Re.__originalClosePath,Re.beginPath=Re.__originalBeginPath,delete Re._removeMirroring},Re.save=function(){e.save(),this.__originalSave()},Re.restore=function(){e.restore(),this.__originalRestore()},Re.translate=function(Ee,Ce){e.translate(Ee,Ce),this.__originalTranslate(Ee,Ce)},Re.scale=function(Ee,Ce){e.scale(Ee,Ce),this.__originalScale(Ee,Ce)},Re.transform=function(Ee,Ce,Te,De,Me,Oe){e.transform(Ee,Ce,Te,De,Me,Oe),this.__originalTransform(Ee,Ce,Te,De,Me,Oe)},Re.setTransform=function(Ee,Ce,Te,De,Me,Oe){e.setTransform(Ee,Ce,Te,De,Me,Oe),this.__originalSetTransform(Ee,Ce,Te,De,Me,Oe)},Re.resetTransform=function(){e.resetTransform(),this.__originalResetTransform()},Re.rotate=function(Ee){e.rotate(Ee),this.__originalRotate(Ee)},Re.clip=function(Ee){e.clip(Ee),this.__originalClip(Ee)},Re.moveTo=function(Ee,Ce){e.moveTo(Ee,Ce),this.__originalMoveTo(Ee,Ce)},Re.lineTo=function(Ee,Ce){e.lineTo(Ee,Ce),this.__originalLineTo(Ee,Ce)},Re.bezierCurveTo=function(Ee,Ce,Te,De,Me,Oe){e.bezierCurveTo(Ee,Ce,Te,De,Me,Oe),this.__originalBezierCurveTo(Ee,Ce,Te,De,Me,Oe)},Re.rect=function(Ee,Ce,Te,De){e.rect(Ee,Ce,Te,De),this.__originalRect(Ee,Ce,Te,De)},Re.closePath=function(){e.closePath(),this.__originalClosePath()},Re.beginPath=function(){e.beginPath(),this.__originalBeginPath()}}class CachedCanvases{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,Ee,Ce){let Te;return this.cache[e]!==void 0?(Te=this.cache[e],this.canvasFactory.reset(Te,Ee,Ce)):(Te=this.canvasFactory.create(Ee,Ce),this.cache[e]=Te),Te}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const Ee=this.cache[e];this.canvasFactory.destroy(Ee),delete this.cache[e]}}}function drawImageAtIntegerCoords(Re,e,Ee,Ce,Te,De,Me,Oe,Be,ze){const[Ve,qe,We,Ge,Je,Qe]=getCurrentTransform(Re);if(qe===0&&We===0){const rs=Me*Ve+Je,ts=Math.round(rs),Xe=Oe*Ge+Qe,is=Math.round(Xe),os=(Me+Be)*Ve+Je,hs=Math.abs(Math.round(os)-ts)||1,fs=(Oe+ze)*Ge+Qe,xs=Math.abs(Math.round(fs)-is)||1;return Re.setTransform(Math.sign(Ve),0,0,Math.sign(Ge),ts,is),Re.drawImage(e,Ee,Ce,Te,De,0,0,hs,xs),Re.setTransform(Ve,qe,We,Ge,Je,Qe),[hs,xs]}if(Ve===0&&Ge===0){const rs=Oe*We+Je,ts=Math.round(rs),Xe=Me*qe+Qe,is=Math.round(Xe),os=(Oe+ze)*We+Je,hs=Math.abs(Math.round(os)-ts)||1,fs=(Me+Be)*qe+Qe,xs=Math.abs(Math.round(fs)-is)||1;return Re.setTransform(0,Math.sign(qe),Math.sign(We),0,ts,is),Re.drawImage(e,Ee,Ce,Te,De,0,0,xs,hs),Re.setTransform(Ve,qe,We,Ge,Je,Qe),[xs,hs]}Re.drawImage(e,Ee,Ce,Te,De,Me,Oe,Be,ze);const ns=Math.hypot(Ve,qe),Ye=Math.hypot(We,Ge);return[ns*Be,Ye*ze]}class CanvasExtraState{constructor(e,Ee,Ce){qr(this,"alphaIsShape",!1);qr(this,"fontSize",0);qr(this,"fontSizeScale",1);qr(this,"textMatrix",null);qr(this,"textMatrixScale",1);qr(this,"fontMatrix",FONT_IDENTITY_MATRIX);qr(this,"leading",0);qr(this,"x",0);qr(this,"y",0);qr(this,"lineX",0);qr(this,"lineY",0);qr(this,"charSpacing",0);qr(this,"wordSpacing",0);qr(this,"textHScale",1);qr(this,"textRenderingMode",TextRenderingMode.FILL);qr(this,"textRise",0);qr(this,"fillColor","#000000");qr(this,"strokeColor","#000000");qr(this,"patternFill",!1);qr(this,"patternStroke",!1);qr(this,"fillAlpha",1);qr(this,"strokeAlpha",1);qr(this,"lineWidth",1);qr(this,"activeSMask",null);qr(this,"transferMaps","none");Ce==null||Ce(this),this.clipBox=new Float32Array([0,0,e,Ee]),this.minMax=MIN_MAX_INIT.slice()}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e.minMax=this.minMax.slice(),e}getPathBoundingBox(e=PathType.FILL,Ee=null){const Ce=this.minMax.slice();if(e===PathType.STROKE){Ee||unreachable("Stroke bounding box must include transform."),Util.singularValueDecompose2dScale(Ee,XY);const Te=XY[0]*this.lineWidth/2,De=XY[1]*this.lineWidth/2;Ce[0]-=Te,Ce[1]-=De,Ce[2]+=Te,Ce[3]+=De}return Ce}updateClipFromPath(){const e=Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minMax[0]===1/0}startNewPathAndClipBox(e){this.clipBox.set(e,0),this.minMax.set(MIN_MAX_INIT,0)}getClippedPathBoundingBox(e=PathType.FILL,Ee=null){return Util.intersect(this.clipBox,this.getPathBoundingBox(e,Ee))}}function putBinaryImageData(Re,e){if(e instanceof ImageData){Re.putImageData(e,0,0);return}const Ee=e.height,Ce=e.width,Te=Ee%FULL_CHUNK_HEIGHT,De=(Ee-Te)/FULL_CHUNK_HEIGHT,Me=Te===0?De:De+1,Oe=Re.createImageData(Ce,FULL_CHUNK_HEIGHT);let Be=0,ze;const Ve=e.data,qe=Oe.data;let We,Ge,Je,Qe;if(e.kind===util_ImageKind.GRAYSCALE_1BPP){const ns=Ve.byteLength,Ye=new Uint32Array(qe.buffer,0,qe.byteLength>>2),rs=Ye.length,ts=Ce+7>>3,Xe=4294967295,is=util_FeatureTest.isLittleEndian?4278190080:255;for(We=0;We<Me;We++){for(Je=We<De?FULL_CHUNK_HEIGHT:Te,ze=0,Ge=0;Ge<Je;Ge++){const os=ns-Be;let hs=0;const fs=os>ts?Ce:os*8-7,xs=fs&-8;let Ss=0,ds=0;for(;hs<xs;hs+=8)ds=Ve[Be++],Ye[ze++]=ds&128?Xe:is,Ye[ze++]=ds&64?Xe:is,Ye[ze++]=ds&32?Xe:is,Ye[ze++]=ds&16?Xe:is,Ye[ze++]=ds&8?Xe:is,Ye[ze++]=ds&4?Xe:is,Ye[ze++]=ds&2?Xe:is,Ye[ze++]=ds&1?Xe:is;for(;hs<fs;hs++)Ss===0&&(ds=Ve[Be++],Ss=128),Ye[ze++]=ds&Ss?Xe:is,Ss>>=1}for(;ze<rs;)Ye[ze++]=0;Re.putImageData(Oe,0,We*FULL_CHUNK_HEIGHT)}}else if(e.kind===util_ImageKind.RGBA_32BPP){for(Ge=0,Qe=Ce*FULL_CHUNK_HEIGHT*4,We=0;We<De;We++)qe.set(Ve.subarray(Be,Be+Qe)),Be+=Qe,Re.putImageData(Oe,0,Ge),Ge+=FULL_CHUNK_HEIGHT;We<Me&&(Qe=Ce*Te*4,qe.set(Ve.subarray(Be,Be+Qe)),Re.putImageData(Oe,0,Ge))}else if(e.kind===util_ImageKind.RGB_24BPP)for(Je=FULL_CHUNK_HEIGHT,Qe=Ce*Je,We=0;We<Me;We++){for(We>=De&&(Je=Te,Qe=Ce*Je),ze=0,Ge=Qe;Ge--;)qe[ze++]=Ve[Be++],qe[ze++]=Ve[Be++],qe[ze++]=Ve[Be++],qe[ze++]=255;Re.putImageData(Oe,0,We*FULL_CHUNK_HEIGHT)}else throw new Error(`bad image kind: ${e.kind}`)}function putBinaryImageMask(Re,e){if(e.bitmap){Re.drawImage(e.bitmap,0,0);return}const Ee=e.height,Ce=e.width,Te=Ee%FULL_CHUNK_HEIGHT,De=(Ee-Te)/FULL_CHUNK_HEIGHT,Me=Te===0?De:De+1,Oe=Re.createImageData(Ce,FULL_CHUNK_HEIGHT);let Be=0;const ze=e.data,Ve=Oe.data;for(let qe=0;qe<Me;qe++){const We=qe<De?FULL_CHUNK_HEIGHT:Te;({srcPos:Be}=convertBlackAndWhiteToRGBA({src:ze,srcPos:Be,dest:Ve,width:Ce,height:We,nonBlackColor:0})),Re.putImageData(Oe,0,qe*FULL_CHUNK_HEIGHT)}}function copyCtxState(Re,e){const Ee=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const Ce of Ee)Re[Ce]!==void 0&&(e[Ce]=Re[Ce]);Re.setLineDash!==void 0&&(e.setLineDash(Re.getLineDash()),e.lineDashOffset=Re.lineDashOffset)}function resetCtxToDefault(Re){Re.strokeStyle=Re.fillStyle="#000000",Re.fillRule="nonzero",Re.globalAlpha=1,Re.lineWidth=1,Re.lineCap="butt",Re.lineJoin="miter",Re.miterLimit=10,Re.globalCompositeOperation="source-over",Re.font="10px sans-serif",Re.setLineDash!==void 0&&(Re.setLineDash([]),Re.lineDashOffset=0);const{filter:e}=Re;e!=="none"&&e!==""&&(Re.filter="none")}function getImageSmoothingEnabled(Re,e){if(e)return!0;Util.singularValueDecompose2dScale(Re,XY);const Ee=Math.fround(OutputScale.pixelRatio*PixelsPerInch.PDF_TO_CSS_UNITS);return XY[0]<=Ee&&XY[1]<=Ee}const LINE_CAP_STYLES=["butt","round","square"],LINE_JOIN_STYLES=["miter","round","bevel"],NORMAL_CLIP={},EO_CLIP={};var Vd,Yj,Xj,Jj;const OE=class OE{constructor(e,Ee,Ce,Te,De,{optionalContentConfig:Me,markedContentStack:Oe=null},Be,ze,Ve){Bs(this,Vd);this.ctx=e,this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=Ee,this.objs=Ce,this.canvasFactory=Te,this.filterFactory=De,this.groupStack=[],this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=Oe||[],this.optionalContentConfig=Me,this.cachedCanvases=new CachedCanvases(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=Be,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=ze,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map,this.dependencyTracker=Ve??null}getObject(e,Ee,Ce=null){var Te;return typeof Ee=="string"?((Te=this.dependencyTracker)==null||Te.recordNamedDependency(e,Ee),Ee.startsWith("g_")?this.commonObjs.get(Ee):this.objs.get(Ee)):Ce}beginDrawing({transform:e,viewport:Ee,transparency:Ce=!1,background:Te=null}){const De=this.ctx.canvas.width,Me=this.ctx.canvas.height,Oe=this.ctx.fillStyle;if(this.ctx.fillStyle=Te||"#ffffff",this.ctx.fillRect(0,0,De,Me),this.ctx.fillStyle=Oe,Ce){const Be=this.cachedCanvases.getCanvas("transparent",De,Me);this.compositeCtx=this.ctx,this.transparentCanvas=Be.canvas,this.ctx=Be.context,this.ctx.save(),this.ctx.transform(...getCurrentTransform(this.compositeCtx))}this.ctx.save(),resetCtxToDefault(this.ctx),e&&(this.ctx.transform(...e),this.outputScaleX=e[0],this.outputScaleY=e[0]),this.ctx.transform(...Ee.transform),this.viewportScale=Ee.scale,this.baseTransform=getCurrentTransform(this.ctx)}executeOperatorList(e,Ee,Ce,Te,De){var Ye;const Me=e.argsArray,Oe=e.fnArray;let Be=Ee||0;const ze=Me.length;if(ze===Be)return Be;const Ve=ze-Be>EXECUTION_STEPS&&typeof Ce=="function",qe=Ve?Date.now()+EXECUTION_TIME:0;let We=0;const Ge=this.commonObjs,Je=this.objs;let Qe,ns;for(;;){if(Te!==void 0&&Be===Te.nextBreakPoint)return Te.breakIt(Be,Ce),Be;if(!De||De(Be))if(Qe=Oe[Be],ns=Me[Be]??null,Qe!==OPS.dependency)ns===null?this[Qe](Be):this[Qe](Be,...ns);else for(const rs of ns){(Ye=this.dependencyTracker)==null||Ye.recordNamedData(rs,Be);const ts=rs.startsWith("g_")?Ge:Je;if(!ts.has(rs))return ts.get(rs,Ce),Be}if(Be++,Be===ze)return Be;if(Ve&&++We>EXECUTION_STEPS){if(Date.now()>qe)return Ce(),Be;We=0}}}endDrawing(){Hs(this,Vd,Yj).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const Ee of e.values())typeof HTMLCanvasElement<"u"&&Ee instanceof HTMLCanvasElement&&(Ee.width=Ee.height=0);e.clear()}this._cachedBitmapsMap.clear(),Hs(this,Vd,Xj).call(this)}_scaleImage(e,Ee){const Ce=e.width??e.displayWidth,Te=e.height??e.displayHeight;let De=Math.max(Math.hypot(Ee[0],Ee[1]),1),Me=Math.max(Math.hypot(Ee[2],Ee[3]),1),Oe=Ce,Be=Te,ze="prescale1",Ve,qe;for(;De>2&&Oe>1||Me>2&&Be>1;){let We=Oe,Ge=Be;De>2&&Oe>1&&(We=Oe>=16384?Math.floor(Oe/2)-1||1:Math.ceil(Oe/2),De/=Oe/We),Me>2&&Be>1&&(Ge=Be>=16384?Math.floor(Be/2)-1||1:Math.ceil(Be)/2,Me/=Be/Ge),Ve=this.cachedCanvases.getCanvas(ze,We,Ge),qe=Ve.context,qe.clearRect(0,0,We,Ge),qe.drawImage(e,0,0,Oe,Be,0,0,We,Ge),e=Ve.canvas,Oe=We,Be=Ge,ze=ze==="prescale1"?"prescale2":"prescale1"}return{img:e,paintWidth:Oe,paintHeight:Be}}_createMaskCanvas(e,Ee){var Ss,ds;const Ce=this.ctx,{width:Te,height:De}=Ee,Me=this.current.fillColor,Oe=this.current.patternFill,Be=getCurrentTransform(Ce);let ze,Ve,qe,We;if((Ee.bitmap||Ee.data)&&Ee.count>1){const gs=Ee.bitmap||Ee.data.buffer;Ve=JSON.stringify(Oe?Be:[Be.slice(0,4),Me]),ze=this._cachedBitmapsMap.get(gs),ze||(ze=new Map,this._cachedBitmapsMap.set(gs,ze));const Ts=ze.get(Ve);if(Ts&&!Oe){const Ds=Math.round(Math.min(Be[0],Be[2])+Be[4]),Ms=Math.round(Math.min(Be[1],Be[3])+Be[5]);return(Ss=this.dependencyTracker)==null||Ss.recordDependencies(e,Dependencies.transformAndFill),{canvas:Ts,offsetX:Ds,offsetY:Ms}}qe=Ts}qe||(We=this.cachedCanvases.getCanvas("maskCanvas",Te,De),putBinaryImageMask(We.context,Ee));let Ge=Util.transform(Be,[1/Te,0,0,-1/De,0,0]);Ge=Util.transform(Ge,[1,0,0,1,0,-De]);const Je=MIN_MAX_INIT.slice();Util.axialAlignedBoundingBox([0,0,Te,De],Ge,Je);const[Qe,ns,Ye,rs]=Je,ts=Math.round(Ye-Qe)||1,Xe=Math.round(rs-ns)||1,is=this.cachedCanvases.getCanvas("fillCanvas",ts,Xe),os=is.context,hs=Qe,fs=ns;os.translate(-hs,-fs),os.transform(...Ge),qe||(qe=this._scaleImage(We.canvas,getCurrentTransformInverse(os)),qe=qe.img,ze&&Oe&&ze.set(Ve,qe)),os.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(os),Ee.interpolate),drawImageAtIntegerCoords(os,qe,0,0,qe.width,qe.height,0,0,Te,De),os.globalCompositeOperation="source-in";const xs=Util.transform(getCurrentTransformInverse(os),[1,0,0,1,-hs,-fs]);return os.fillStyle=Oe?Me.getPattern(Ce,this,xs,PathType.FILL,e):Me,os.fillRect(0,0,Te,De),ze&&!Oe&&(this.cachedCanvases.delete("fillCanvas"),ze.set(Ve,is.canvas)),(ds=this.dependencyTracker)==null||ds.recordDependencies(e,Dependencies.transformAndFill),{canvas:is.canvas,offsetX:Math.round(hs),offsetY:Math.round(fs)}}setLineWidth(e,Ee){var Ce;(Ce=this.dependencyTracker)==null||Ce.recordSimpleData("lineWidth",e),Ee!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=Ee,this.ctx.lineWidth=Ee}setLineCap(e,Ee){var Ce;(Ce=this.dependencyTracker)==null||Ce.recordSimpleData("lineCap",e),this.ctx.lineCap=LINE_CAP_STYLES[Ee]}setLineJoin(e,Ee){var Ce;(Ce=this.dependencyTracker)==null||Ce.recordSimpleData("lineJoin",e),this.ctx.lineJoin=LINE_JOIN_STYLES[Ee]}setMiterLimit(e,Ee){var Ce;(Ce=this.dependencyTracker)==null||Ce.recordSimpleData("miterLimit",e),this.ctx.miterLimit=Ee}setDash(e,Ee,Ce){var De;(De=this.dependencyTracker)==null||De.recordSimpleData("dash",e);const Te=this.ctx;Te.setLineDash!==void 0&&(Te.setLineDash(Ee),Te.lineDashOffset=Ce)}setRenderingIntent(e,Ee){}setFlatness(e,Ee){}setGState(e,Ee){var Ce,Te,De,Me,Oe;for(const[Be,ze]of Ee)switch(Be){case"LW":this.setLineWidth(e,ze);break;case"LC":this.setLineCap(e,ze);break;case"LJ":this.setLineJoin(e,ze);break;case"ML":this.setMiterLimit(e,ze);break;case"D":this.setDash(e,ze[0],ze[1]);break;case"RI":this.setRenderingIntent(e,ze);break;case"FL":this.setFlatness(e,ze);break;case"Font":this.setFont(e,ze[0],ze[1]);break;case"CA":(Ce=this.dependencyTracker)==null||Ce.recordSimpleData("strokeAlpha",e),this.current.strokeAlpha=ze;break;case"ca":(Te=this.dependencyTracker)==null||Te.recordSimpleData("fillAlpha",e),this.ctx.globalAlpha=this.current.fillAlpha=ze;break;case"BM":(De=this.dependencyTracker)==null||De.recordSimpleData("globalCompositeOperation",e),this.ctx.globalCompositeOperation=ze;break;case"SMask":(Me=this.dependencyTracker)==null||Me.recordSimpleData("SMask",e),this.current.activeSMask=ze?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":(Oe=this.dependencyTracker)==null||Oe.recordSimpleData("filter",e),this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(ze);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(e){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const Ee=this.ctx.canvas.width,Ce=this.ctx.canvas.height,Te="smaskGroupAt"+this.groupLevel,De=this.cachedCanvases.getCanvas(Te,Ee,Ce);this.suspendedCtx=this.ctx;const Me=this.ctx=De.context;Me.setTransform(this.suspendedCtx.getTransform()),copyCtxState(this.suspendedCtx,Me),mirrorContextOperations(Me,this.suspendedCtx),this.setGState(e,[["BM","source-over"]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),copyCtxState(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const Ee=this.current.activeSMask,Ce=this.suspendedCtx;this.composeSMask(Ce,Ee,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,Ee,Ce,Te){const De=Te[0],Me=Te[1],Oe=Te[2]-De,Be=Te[3]-Me;Oe===0||Be===0||(this.genericComposeSMask(Ee.context,Ce,Oe,Be,Ee.subtype,Ee.backdrop,Ee.transferMap,De,Me,Ee.offsetX,Ee.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(Ce.canvas,0,0),e.restore())}genericComposeSMask(e,Ee,Ce,Te,De,Me,Oe,Be,ze,Ve,qe){let We=e.canvas,Ge=Be-Ve,Je=ze-qe;if(Me)if(Ge<0||Je<0||Ge+Ce>We.width||Je+Te>We.height){const ns=this.cachedCanvases.getCanvas("maskExtension",Ce,Te),Ye=ns.context;Ye.drawImage(We,-Ge,-Je),Ye.globalCompositeOperation="destination-atop",Ye.fillStyle=Me,Ye.fillRect(0,0,Ce,Te),Ye.globalCompositeOperation="source-over",We=ns.canvas,Ge=Je=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const ns=new Path2D;ns.rect(Ge,Je,Ce,Te),e.clip(ns),e.globalCompositeOperation="destination-atop",e.fillStyle=Me,e.fillRect(Ge,Je,Ce,Te),e.restore()}Ee.save(),Ee.globalAlpha=1,Ee.setTransform(1,0,0,1,0,0),De==="Alpha"&&Oe?Ee.filter=this.filterFactory.addAlphaFilter(Oe):De==="Luminosity"&&(Ee.filter=this.filterFactory.addLuminosityFilter(Oe));const Qe=new Path2D;Qe.rect(Be,ze,Ce,Te),Ee.clip(Qe),Ee.globalCompositeOperation="destination-in",Ee.drawImage(We,Ge,Je,Ce,Te,Be,ze,Ce,Te),Ee.restore()}save(e){var Ce;this.inSMaskMode&&copyCtxState(this.ctx,this.suspendedCtx),this.ctx.save();const Ee=this.current;this.stateStack.push(Ee),this.current=Ee.clone(),(Ce=this.dependencyTracker)==null||Ce.save(e)}restore(e){var Ee;if((Ee=this.dependencyTracker)==null||Ee.restore(e),this.stateStack.length===0){this.inSMaskMode&&this.endSMaskMode();return}this.current=this.stateStack.pop(),this.ctx.restore(),this.inSMaskMode&&copyCtxState(this.suspendedCtx,this.ctx),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}transform(e,Ee,Ce,Te,De,Me,Oe){var Be;(Be=this.dependencyTracker)==null||Be.recordIncrementalData("transform",e),this.ctx.transform(Ee,Ce,Te,De,Me,Oe),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,Ee,Ce,Te){let[De]=Ce;if(!Te){De||(De=Ce[0]=new Path2D),this[Ee](e,De);return}if(this.dependencyTracker!==null){const Me=Ee===OPS.stroke?this.current.lineWidth/2:0;this.dependencyTracker.resetBBox(e).recordBBox(e,this.ctx,Te[0]-Me,Te[2]+Me,Te[1]-Me,Te[3]+Me).recordDependencies(e,["transform"])}if(!(De instanceof Path2D)){const Me=Ce[0]=new Path2D;for(let Oe=0,Be=De.length;Oe<Be;)switch(De[Oe++]){case DrawOPS.moveTo:Me.moveTo(De[Oe++],De[Oe++]);break;case DrawOPS.lineTo:Me.lineTo(De[Oe++],De[Oe++]);break;case DrawOPS.curveTo:Me.bezierCurveTo(De[Oe++],De[Oe++],De[Oe++],De[Oe++],De[Oe++],De[Oe++]);break;case DrawOPS.closePath:Me.closePath();break;default:warn(`Unrecognized drawing path operator: ${De[Oe-1]}`);break}De=Me}Util.axialAlignedBoundingBox(Te,getCurrentTransform(this.ctx),this.current.minMax),this[Ee](e,De),this._pathStartIdx=e}closePath(e){this.ctx.closePath()}stroke(e,Ee,Ce=!0){var Me;const Te=this.ctx,De=this.current.strokeColor;if(Te.globalAlpha=this.current.strokeAlpha,this.contentVisible)if(typeof De=="object"&&(De!=null&&De.getPattern)){const Oe=De.isModifyingCurrentTransform()?Te.getTransform():null;if(Te.save(),Te.strokeStyle=De.getPattern(Te,this,getCurrentTransformInverse(Te),PathType.STROKE,e),Oe){const Be=new Path2D;Be.addPath(Ee,Te.getTransform().invertSelf().multiplySelf(Oe)),Ee=Be}this.rescaleAndStroke(Ee,!1),Te.restore()}else this.rescaleAndStroke(Ee,!0);(Me=this.dependencyTracker)==null||Me.recordDependencies(e,Dependencies.stroke),Ce&&this.consumePath(e,Ee,this.current.getClippedPathBoundingBox(PathType.STROKE,getCurrentTransform(this.ctx))),Te.globalAlpha=this.current.fillAlpha}closeStroke(e,Ee){this.stroke(e,Ee)}fill(e,Ee,Ce=!0){var ze,Ve,qe;const Te=this.ctx,De=this.current.fillColor,Me=this.current.patternFill;let Oe=!1;if(Me){const We=De.isModifyingCurrentTransform()?Te.getTransform():null;if((ze=this.dependencyTracker)==null||ze.save(e),Te.save(),Te.fillStyle=De.getPattern(Te,this,getCurrentTransformInverse(Te),PathType.FILL,e),We){const Ge=new Path2D;Ge.addPath(Ee,Te.getTransform().invertSelf().multiplySelf(We)),Ee=Ge}Oe=!0}const Be=this.current.getClippedPathBoundingBox();this.contentVisible&&Be!==null&&(this.pendingEOFill?(Te.fill(Ee,"evenodd"),this.pendingEOFill=!1):Te.fill(Ee)),(Ve=this.dependencyTracker)==null||Ve.recordDependencies(e,Dependencies.fill),Oe&&(Te.restore(),(qe=this.dependencyTracker)==null||qe.restore(e)),Ce&&this.consumePath(e,Ee,Be)}eoFill(e,Ee){this.pendingEOFill=!0,this.fill(e,Ee)}fillStroke(e,Ee){this.fill(e,Ee,!1),this.stroke(e,Ee,!1),this.consumePath(e,Ee)}eoFillStroke(e,Ee){this.pendingEOFill=!0,this.fillStroke(e,Ee)}closeFillStroke(e,Ee){this.fillStroke(e,Ee)}closeEOFillStroke(e,Ee){this.pendingEOFill=!0,this.fillStroke(e,Ee)}endPath(e,Ee){this.consumePath(e,Ee)}rawFillPath(e,Ee){var Ce;this.ctx.fill(Ee),(Ce=this.dependencyTracker)==null||Ce.recordDependencies(e,Dependencies.rawFillPath).recordOperation(e)}clip(e){var Ee;(Ee=this.dependencyTracker)==null||Ee.recordFutureForcedDependency("clipMode",e),this.pendingClip=NORMAL_CLIP}eoClip(e){var Ee;(Ee=this.dependencyTracker)==null||Ee.recordFutureForcedDependency("clipMode",e),this.pendingClip=EO_CLIP}beginText(e){var Ee;this.current.textMatrix=null,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0,(Ee=this.dependencyTracker)==null||Ee.recordOpenMarker(e).resetIncrementalData("sameLineText").resetIncrementalData("moveText",e)}endText(e){const Ee=this.pendingTextPaths,Ce=this.ctx;if(this.dependencyTracker){const{dependencyTracker:Te}=this;Ee!==void 0&&Te.recordFutureForcedDependency("textClip",Te.getOpenMarker()).recordFutureForcedDependency("textClip",e),Te.recordCloseMarker(e)}if(Ee!==void 0){const Te=new Path2D,De=Ce.getTransform().invertSelf();for(const{transform:Me,x:Oe,y:Be,fontSize:ze,path:Ve}of Ee)Ve&&Te.addPath(Ve,new DOMMatrix(Me).preMultiplySelf(De).translate(Oe,Be).scale(ze,-ze));Ce.clip(Te)}delete this.pendingTextPaths}setCharSpacing(e,Ee){var Ce;(Ce=this.dependencyTracker)==null||Ce.recordSimpleData("charSpacing",e),this.current.charSpacing=Ee}setWordSpacing(e,Ee){var Ce;(Ce=this.dependencyTracker)==null||Ce.recordSimpleData("wordSpacing",e),this.current.wordSpacing=Ee}setHScale(e,Ee){var Ce;(Ce=this.dependencyTracker)==null||Ce.recordSimpleData("hScale",e),this.current.textHScale=Ee/100}setLeading(e,Ee){var Ce;(Ce=this.dependencyTracker)==null||Ce.recordSimpleData("leading",e),this.current.leading=-Ee}setFont(e,Ee,Ce){var qe,We;(qe=this.dependencyTracker)==null||qe.recordSimpleData("font",e).recordSimpleDataFromNamed("fontObj",Ee,e);const Te=this.commonObjs.get(Ee),De=this.current;if(!Te)throw new Error(`Can't find font for ${Ee}`);if(De.fontMatrix=Te.fontMatrix||FONT_IDENTITY_MATRIX,(De.fontMatrix[0]===0||De.fontMatrix[3]===0)&&warn("Invalid font matrix for font "+Ee),Ce<0?(Ce=-Ce,De.fontDirection=-1):De.fontDirection=1,this.current.font=Te,this.current.fontSize=Ce,Te.isType3Font)return;const Me=Te.loadedName||"sans-serif",Oe=((We=Te.systemFontInfo)==null?void 0:We.css)||`"${Me}", ${Te.fallbackName}`;let Be="normal";Te.black?Be="900":Te.bold&&(Be="bold");const ze=Te.italic?"italic":"normal";let Ve=Ce;Ce<MIN_FONT_SIZE?Ve=MIN_FONT_SIZE:Ce>MAX_FONT_SIZE&&(Ve=MAX_FONT_SIZE),this.current.fontSizeScale=Ce/Ve,this.ctx.font=`${ze} ${Be} ${Ve}px ${Oe}`}setTextRenderingMode(e,Ee){var Ce;(Ce=this.dependencyTracker)==null||Ce.recordSimpleData("textRenderingMode",e),this.current.textRenderingMode=Ee}setTextRise(e,Ee){var Ce;(Ce=this.dependencyTracker)==null||Ce.recordSimpleData("textRise",e),this.current.textRise=Ee}moveText(e,Ee,Ce){var Te;(Te=this.dependencyTracker)==null||Te.resetIncrementalData("sameLineText").recordIncrementalData("moveText",e),this.current.x=this.current.lineX+=Ee,this.current.y=this.current.lineY+=Ce}setLeadingMoveText(e,Ee,Ce){this.setLeading(e,-Ce),this.moveText(e,Ee,Ce)}setTextMatrix(e,Ee){var Te;(Te=this.dependencyTracker)==null||Te.recordSimpleData("textMatrix",e);const{current:Ce}=this;Ce.textMatrix=Ee,Ce.textMatrixScale=Math.hypot(Ee[0],Ee[1]),Ce.x=Ce.lineX=0,Ce.y=Ce.lineY=0}nextLine(e){var Ee;this.moveText(e,0,this.current.leading),(Ee=this.dependencyTracker)==null||Ee.recordIncrementalData("moveText",this.dependencyTracker.getSimpleIndex("leading")??e)}paintChar(e,Ee,Ce,Te,De,Me){var Ye,rs,ts,Xe;const Oe=this.ctx,Be=this.current,ze=Be.font,Ve=Be.textRenderingMode,qe=Be.fontSize/Be.fontSizeScale,We=Ve&TextRenderingMode.FILL_STROKE_MASK,Ge=!!(Ve&TextRenderingMode.ADD_TO_PATH_FLAG),Je=Be.patternFill&&!ze.missingFile,Qe=Be.patternStroke&&!ze.missingFile;let ns;if((ze.disableFontFace||Ge||Je||Qe)&&!ze.missingFile&&(ns=ze.getPathGenerator(this.commonObjs,Ee)),ns&&(ze.disableFontFace||Je||Qe)){Oe.save(),Oe.translate(Ce,Te),Oe.scale(qe,-qe),(Ye=this.dependencyTracker)==null||Ye.recordCharacterBBox(e,Oe,ze);let is;if(We===TextRenderingMode.FILL||We===TextRenderingMode.FILL_STROKE)if(De){is=Oe.getTransform(),Oe.setTransform(...De);const os=Hs(this,Vd,Jj).call(this,ns,is,De);Oe.fill(os)}else Oe.fill(ns);if(We===TextRenderingMode.STROKE||We===TextRenderingMode.FILL_STROKE)if(Me){is||(is=Oe.getTransform()),Oe.setTransform(...Me);const{a:os,b:hs,c:fs,d:xs}=is,Ss=Util.inverseTransform(Me),ds=Util.transform([os,hs,fs,xs,0,0],Ss);Util.singularValueDecompose2dScale(ds,XY),Oe.lineWidth*=Math.max(XY[0],XY[1])/qe,Oe.stroke(Hs(this,Vd,Jj).call(this,ns,is,Me))}else Oe.lineWidth/=qe,Oe.stroke(ns);Oe.restore()}else(We===TextRenderingMode.FILL||We===TextRenderingMode.FILL_STROKE)&&(Oe.fillText(Ee,Ce,Te),(rs=this.dependencyTracker)==null||rs.recordCharacterBBox(e,Oe,ze,qe,Ce,Te,()=>Oe.measureText(Ee))),(We===TextRenderingMode.STROKE||We===TextRenderingMode.FILL_STROKE)&&(this.dependencyTracker&&((ts=this.dependencyTracker)==null||ts.recordCharacterBBox(e,Oe,ze,qe,Ce,Te,()=>Oe.measureText(Ee)).recordDependencies(e,Dependencies.stroke)),Oe.strokeText(Ee,Ce,Te));Ge&&((this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:getCurrentTransform(Oe),x:Ce,y:Te,fontSize:qe,path:ns}),(Xe=this.dependencyTracker)==null||Xe.recordCharacterBBox(e,Oe,ze,qe,Ce,Te))}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const Ee=e.getImageData(0,0,10,10).data;let Ce=!1;for(let Te=3;Te<Ee.length;Te+=4)if(Ee[Te]>0&&Ee[Te]<255){Ce=!0;break}return shadow(this,"isFontSubpixelAAEnabled",Ce)}showText(e,Ee){var fs,xs,Ss,ds;this.dependencyTracker&&(this.dependencyTracker.recordDependencies(e,Dependencies.showText).resetBBox(e),this.current.textRenderingMode&TextRenderingMode.ADD_TO_PATH_FLAG&&this.dependencyTracker.recordFutureForcedDependency("textClip",e).inheritPendingDependenciesAsFutureForcedDependencies());const Ce=this.current,Te=Ce.font;if(Te.isType3Font){this.showType3Text(e,Ee),(fs=this.dependencyTracker)==null||fs.recordShowTextOperation(e);return}const De=Ce.fontSize;if(De===0){(xs=this.dependencyTracker)==null||xs.recordOperation(e);return}const Me=this.ctx,Oe=Ce.fontSizeScale,Be=Ce.charSpacing,ze=Ce.wordSpacing,Ve=Ce.fontDirection,qe=Ce.textHScale*Ve,We=Ee.length,Ge=Te.vertical,Je=Ge?1:-1,Qe=Te.defaultVMetrics,ns=De*Ce.fontMatrix[0],Ye=Ce.textRenderingMode===TextRenderingMode.FILL&&!Te.disableFontFace&&!Ce.patternFill;Me.save(),Ce.textMatrix&&Me.transform(...Ce.textMatrix),Me.translate(Ce.x,Ce.y+Ce.textRise),Ve>0?Me.scale(qe,-1):Me.scale(qe,1);let rs,ts;if(Ce.patternFill){Me.save();const gs=Ce.fillColor.getPattern(Me,this,getCurrentTransformInverse(Me),PathType.FILL,e);rs=getCurrentTransform(Me),Me.restore(),Me.fillStyle=gs}if(Ce.patternStroke){Me.save();const gs=Ce.strokeColor.getPattern(Me,this,getCurrentTransformInverse(Me),PathType.STROKE,e);ts=getCurrentTransform(Me),Me.restore(),Me.strokeStyle=gs}let Xe=Ce.lineWidth;const is=Ce.textMatrixScale;if(is===0||Xe===0){const gs=Ce.textRenderingMode&TextRenderingMode.FILL_STROKE_MASK;(gs===TextRenderingMode.STROKE||gs===TextRenderingMode.FILL_STROKE)&&(Xe=this.getSinglePixelWidth())}else Xe/=is;if(Oe!==1&&(Me.scale(Oe,Oe),Xe/=Oe),Me.lineWidth=Xe,Te.isInvalidPDFjsFont){const gs=[];let Ts=0;for(const Ms of Ee)gs.push(Ms.unicode),Ts+=Ms.width;const Ds=gs.join("");if(Me.fillText(Ds,0,0),this.dependencyTracker!==null){const Ms=Me.measureText(Ds);this.dependencyTracker.recordBBox(e,this.ctx,-Ms.actualBoundingBoxLeft,Ms.actualBoundingBoxRight,-Ms.actualBoundingBoxAscent,Ms.actualBoundingBoxDescent).recordShowTextOperation(e)}Ce.x+=Ts*ns*qe,Me.restore(),this.compose();return}let os=0,hs;for(hs=0;hs<We;++hs){const gs=Ee[hs];if(typeof gs=="number"){os+=Je*gs*De/1e3;continue}let Ts=!1;const Ds=(gs.isSpace?ze:0)+Be,Ms=gs.fontChar,bs=gs.accent;let Ns,ps,_s=gs.width;if(Ge){const ms=gs.vmetric||Qe,ys=-(gs.vmetric?ms[1]:_s*.5)*ns,ks=ms[2]*ns;_s=ms?-ms[0]:_s,Ns=ys/Oe,ps=(os+ks)/Oe}else Ns=os/Oe,ps=0;let ws;if(Te.remeasure&&_s>0){ws=Me.measureText(Ms);const ms=ws.width*1e3/De*Oe;if(_s<ms&&this.isFontSubpixelAAEnabled){const ys=_s/ms;Ts=!0,Me.save(),Me.scale(ys,1),Ns/=ys}else _s!==ms&&(Ns+=(_s-ms)/2e3*De/Oe)}if(this.contentVisible&&(gs.isInFont||Te.missingFile)){if(Ye&&!bs)Me.fillText(Ms,Ns,ps),(Ss=this.dependencyTracker)==null||Ss.recordCharacterBBox(e,Me,ws?{bbox:null}:Te,De/Oe,Ns,ps,()=>ws??Me.measureText(Ms));else if(this.paintChar(e,Ms,Ns,ps,rs,ts),bs){const ms=Ns+De*bs.offset.x/Oe,ys=ps-De*bs.offset.y/Oe;this.paintChar(e,bs.fontChar,ms,ys,rs,ts)}}const js=Ge?_s*ns-Ds*Ve:_s*ns+Ds*Ve;os+=js,Ts&&Me.restore()}Ge?Ce.y-=os:Ce.x+=os*qe,Me.restore(),this.compose(),(ds=this.dependencyTracker)==null||ds.recordShowTextOperation(e)}showType3Text(e,Ee){const Ce=this.ctx,Te=this.current,De=Te.font,Me=Te.fontSize,Oe=Te.fontDirection,Be=De.vertical?1:-1,ze=Te.charSpacing,Ve=Te.wordSpacing,qe=Te.textHScale*Oe,We=Te.fontMatrix||FONT_IDENTITY_MATRIX,Ge=Ee.length,Je=Te.textRenderingMode===TextRenderingMode.INVISIBLE;let Qe,ns,Ye,rs;if(Je||Me===0)return;this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,Ce.save(),Te.textMatrix&&Ce.transform(...Te.textMatrix),Ce.translate(Te.x,Te.y+Te.textRise),Ce.scale(qe,Oe);const ts=this.dependencyTracker;for(this.dependencyTracker=ts?new CanvasNestedDependencyTracker(ts,e):null,Qe=0;Qe<Ge;++Qe){if(ns=Ee[Qe],typeof ns=="number"){rs=Be*ns*Me/1e3,this.ctx.translate(rs,0),Te.x+=rs*qe;continue}const Xe=(ns.isSpace?Ve:0)+ze,is=De.charProcOperatorList[ns.operatorListId];is?this.contentVisible&&(this.save(),Ce.scale(Me,Me),Ce.transform(...We),this.executeOperatorList(is),this.restore()):warn(`Type3 character "${ns.operatorListId}" is not available.`);const os=[ns.width,0];Util.applyTransform(os,We),Ye=os[0]*Me+Xe,Ce.translate(Ye,0),Te.x+=Ye*qe}Ce.restore(),ts&&(this.dependencyTracker=ts)}setCharWidth(e,Ee,Ce){}setCharWidthAndBounds(e,Ee,Ce,Te,De,Me,Oe){var ze;const Be=new Path2D;Be.rect(Te,De,Me-Te,Oe-De),this.ctx.clip(Be),(ze=this.dependencyTracker)==null||ze.recordBBox(e,this.ctx,Te,Me,De,Oe).recordClipBox(e,this.ctx,Te,Me,De,Oe),this.endPath(e)}getColorN_Pattern(e,Ee){let Ce;if(Ee[0]==="TilingPattern"){const Te=this.baseTransform||getCurrentTransform(this.ctx),De={createCanvasGraphics:(Me,Oe)=>new OE(Me,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack},void 0,void 0,this.dependencyTracker?new CanvasNestedDependencyTracker(this.dependencyTracker,Oe,!0):null)};Ce=new TilingPattern(Ee,this.ctx,De,Te)}else Ce=this._getPattern(e,Ee[1],Ee[2]);return Ce}setStrokeColorN(e,...Ee){var Ce;(Ce=this.dependencyTracker)==null||Ce.recordSimpleData("strokeColor",e),this.current.strokeColor=this.getColorN_Pattern(e,Ee),this.current.patternStroke=!0}setFillColorN(e,...Ee){var Ce;(Ce=this.dependencyTracker)==null||Ce.recordSimpleData("fillColor",e),this.current.fillColor=this.getColorN_Pattern(e,Ee),this.current.patternFill=!0}setStrokeRGBColor(e,Ee){var Ce;(Ce=this.dependencyTracker)==null||Ce.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor=Ee,this.current.patternStroke=!1}setStrokeTransparent(e){var Ee;(Ee=this.dependencyTracker)==null||Ee.recordSimpleData("strokeColor",e),this.ctx.strokeStyle=this.current.strokeColor="transparent",this.current.patternStroke=!1}setFillRGBColor(e,Ee){var Ce;(Ce=this.dependencyTracker)==null||Ce.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor=Ee,this.current.patternFill=!1}setFillTransparent(e){var Ee;(Ee=this.dependencyTracker)==null||Ee.recordSimpleData("fillColor",e),this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e,Ee,Ce=null){let Te;return this.cachedPatterns.has(Ee)?Te=this.cachedPatterns.get(Ee):(Te=getShadingPattern(this.getObject(e,Ee)),this.cachedPatterns.set(Ee,Te)),Ce&&(Te.matrix=Ce),Te}shadingFill(e,Ee){var Me;if(!this.contentVisible)return;const Ce=this.ctx;this.save(e);const Te=this._getPattern(e,Ee);Ce.fillStyle=Te.getPattern(Ce,this,getCurrentTransformInverse(Ce),PathType.SHADING,e);const De=getCurrentTransformInverse(Ce);if(De){const{width:Oe,height:Be}=Ce.canvas,ze=MIN_MAX_INIT.slice();Util.axialAlignedBoundingBox([0,0,Oe,Be],De,ze);const[Ve,qe,We,Ge]=ze;this.ctx.fillRect(Ve,qe,We-Ve,Ge-qe)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);(Me=this.dependencyTracker)==null||Me.resetBBox(e).recordFullPageBBox(e).recordDependencies(e,Dependencies.transform).recordDependencies(e,Dependencies.fill).recordOperation(e),this.compose(this.current.getClippedPathBoundingBox()),this.restore(e)}beginInlineImage(){unreachable("Should not call beginInlineImage")}beginImageData(){unreachable("Should not call beginImageData")}paintFormXObjectBegin(e,Ee,Ce){var Te;if(this.contentVisible&&(this.save(e),this.baseTransformStack.push(this.baseTransform),Ee&&this.transform(e,...Ee),this.baseTransform=getCurrentTransform(this.ctx),Ce)){Util.axialAlignedBoundingBox(Ce,this.baseTransform,this.current.minMax);const[De,Me,Oe,Be]=Ce,ze=new Path2D;ze.rect(De,Me,Oe-De,Be-Me),this.ctx.clip(ze),(Te=this.dependencyTracker)==null||Te.recordClipBox(e,this.ctx,De,Oe,Me,Be),this.endPath(e)}}paintFormXObjectEnd(e){this.contentVisible&&(this.restore(e),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e,Ee){var ts;if(!this.contentVisible)return;this.save(e),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const Ce=this.ctx;Ee.isolated||info("TODO: Support non-isolated groups."),Ee.knockout&&warn("Knockout groups not supported.");const Te=getCurrentTransform(Ce);if(Ee.matrix&&Ce.transform(...Ee.matrix),!Ee.bbox)throw new Error("Bounding box is required.");let De=MIN_MAX_INIT.slice();Util.axialAlignedBoundingBox(Ee.bbox,getCurrentTransform(Ce),De);const Me=[0,0,Ce.canvas.width,Ce.canvas.height];De=Util.intersect(De,Me)||[0,0,0,0];const Oe=Math.floor(De[0]),Be=Math.floor(De[1]),ze=Math.max(Math.ceil(De[2])-Oe,1),Ve=Math.max(Math.ceil(De[3])-Be,1);this.current.startNewPathAndClipBox([0,0,ze,Ve]);let qe="groupAt"+this.groupLevel;Ee.smask&&(qe+="_smask_"+this.smaskCounter++%2);const We=this.cachedCanvases.getCanvas(qe,ze,Ve),Ge=We.context;Ge.translate(-Oe,-Be),Ge.transform(...Te);let Je=new Path2D;const[Qe,ns,Ye,rs]=Ee.bbox;if(Je.rect(Qe,ns,Ye-Qe,rs-ns),Ee.matrix){const Xe=new Path2D;Xe.addPath(Je,new DOMMatrix(Ee.matrix)),Je=Xe}Ge.clip(Je),Ee.smask&&this.smaskStack.push({canvas:We.canvas,context:Ge,offsetX:Oe,offsetY:Be,subtype:Ee.smask.subtype,backdrop:Ee.smask.backdrop,transferMap:Ee.smask.transferMap||null,startTransformInverse:null}),(!Ee.smask||this.dependencyTracker)&&(Ce.setTransform(1,0,0,1,0,0),Ce.translate(Oe,Be),Ce.save()),copyCtxState(Ce,Ge),this.ctx=Ge,(ts=this.dependencyTracker)==null||ts.inheritSimpleDataAsFutureForcedDependencies(["fillAlpha","strokeAlpha","globalCompositeOperation"]).pushBaseTransform(Ce),this.setGState(e,[["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(Ce),this.groupLevel++}endGroup(e,Ee){var De;if(!this.contentVisible)return;this.groupLevel--;const Ce=this.ctx,Te=this.groupStack.pop();if(this.ctx=Te,this.ctx.imageSmoothingEnabled=!1,(De=this.dependencyTracker)==null||De.popBaseTransform(),Ee.smask)this.tempSMask=this.smaskStack.pop(),this.restore(e),this.dependencyTracker&&this.ctx.restore();else{this.ctx.restore();const Me=getCurrentTransform(this.ctx);this.restore(e),this.ctx.save(),this.ctx.setTransform(...Me);const Oe=MIN_MAX_INIT.slice();Util.axialAlignedBoundingBox([0,0,Ce.canvas.width,Ce.canvas.height],Me,Oe),this.ctx.drawImage(Ce.canvas,0,0),this.ctx.restore(),this.compose(Oe)}}beginAnnotation(e,Ee,Ce,Te,De,Me){if(Hs(this,Vd,Yj).call(this),resetCtxToDefault(this.ctx),this.ctx.save(),this.save(e),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Ce){const Oe=Ce[2]-Ce[0],Be=Ce[3]-Ce[1];if(Me&&this.annotationCanvasMap){Te=Te.slice(),Te[4]-=Ce[0],Te[5]-=Ce[1],Ce=Ce.slice(),Ce[0]=Ce[1]=0,Ce[2]=Oe,Ce[3]=Be,Util.singularValueDecompose2dScale(getCurrentTransform(this.ctx),XY);const{viewportScale:ze}=this,Ve=Math.ceil(Oe*this.outputScaleX*ze),qe=Math.ceil(Be*this.outputScaleY*ze);this.annotationCanvas=this.canvasFactory.create(Ve,qe);const{canvas:We,context:Ge}=this.annotationCanvas;this.annotationCanvasMap.set(Ee,We),this.annotationCanvas.savedCtx=this.ctx,this.ctx=Ge,this.ctx.save(),this.ctx.setTransform(XY[0],0,0,-XY[1],0,Be*XY[1]),resetCtxToDefault(this.ctx)}else{resetCtxToDefault(this.ctx),this.endPath(e);const ze=new Path2D;ze.rect(Ce[0],Ce[1],Oe,Be),this.ctx.clip(ze)}}this.current=new CanvasExtraState(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(e,...Te),this.transform(e,...De)}endAnnotation(e){this.annotationCanvas&&(this.ctx.restore(),Hs(this,Vd,Xj).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e,Ee){var Oe;if(!this.contentVisible)return;const Ce=Ee.count;Ee=this.getObject(e,Ee.data,Ee),Ee.count=Ce;const Te=this.ctx,De=this._createMaskCanvas(e,Ee),Me=De.canvas;Te.save(),Te.setTransform(1,0,0,1,0,0),Te.drawImage(Me,De.offsetX,De.offsetY),(Oe=this.dependencyTracker)==null||Oe.resetBBox(e).recordBBox(e,this.ctx,De.offsetX,De.offsetX+Me.width,De.offsetY,De.offsetY+Me.height).recordOperation(e),Te.restore(),this.compose()}paintImageMaskXObjectRepeat(e,Ee,Ce,Te=0,De=0,Me,Oe){var qe,We,Ge;if(!this.contentVisible)return;Ee=this.getObject(e,Ee.data,Ee);const Be=this.ctx;Be.save();const ze=getCurrentTransform(Be);Be.transform(Ce,Te,De,Me,0,0);const Ve=this._createMaskCanvas(e,Ee);Be.setTransform(1,0,0,1,Ve.offsetX-ze[4],Ve.offsetY-ze[5]),(qe=this.dependencyTracker)==null||qe.resetBBox(e);for(let Je=0,Qe=Oe.length;Je<Qe;Je+=2){const ns=Util.transform(ze,[Ce,Te,De,Me,Oe[Je],Oe[Je+1]]);Be.drawImage(Ve.canvas,ns[4],ns[5]),(We=this.dependencyTracker)==null||We.recordBBox(e,this.ctx,ns[4],ns[4]+Ve.canvas.width,ns[5],ns[5]+Ve.canvas.height)}Be.restore(),this.compose(),(Ge=this.dependencyTracker)==null||Ge.recordOperation(e)}paintImageMaskXObjectGroup(e,Ee){var Me,Oe,Be;if(!this.contentVisible)return;const Ce=this.ctx,Te=this.current.fillColor,De=this.current.patternFill;(Me=this.dependencyTracker)==null||Me.resetBBox(e).recordDependencies(e,Dependencies.transformAndFill);for(const ze of Ee){const{data:Ve,width:qe,height:We,transform:Ge}=ze,Je=this.cachedCanvases.getCanvas("maskCanvas",qe,We),Qe=Je.context;Qe.save();const ns=this.getObject(e,Ve,ze);putBinaryImageMask(Qe,ns),Qe.globalCompositeOperation="source-in",Qe.fillStyle=De?Te.getPattern(Qe,this,getCurrentTransformInverse(Ce),PathType.FILL,e):Te,Qe.fillRect(0,0,qe,We),Qe.restore(),Ce.save(),Ce.transform(...Ge),Ce.scale(1,-1),drawImageAtIntegerCoords(Ce,Je.canvas,0,0,qe,We,0,-1,1,1),(Oe=this.dependencyTracker)==null||Oe.recordBBox(e,Ce,0,qe,0,We),Ce.restore()}this.compose(),(Be=this.dependencyTracker)==null||Be.recordOperation(e)}paintImageXObject(e,Ee){if(!this.contentVisible)return;const Ce=this.getObject(e,Ee);if(!Ce){warn("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e,Ce)}paintImageXObjectRepeat(e,Ee,Ce,Te,De){if(!this.contentVisible)return;const Me=this.getObject(e,Ee);if(!Me){warn("Dependent image isn't ready yet");return}const Oe=Me.width,Be=Me.height,ze=[];for(let Ve=0,qe=De.length;Ve<qe;Ve+=2)ze.push({transform:[Ce,0,0,Te,De[Ve],De[Ve+1]],x:0,y:0,w:Oe,h:Be});this.paintInlineImageXObjectGroup(e,Me,ze)}applyTransferMapsToCanvas(e){return this.current.transferMaps!=="none"&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if(this.current.transferMaps==="none")return e.bitmap;const{bitmap:Ee,width:Ce,height:Te}=e,De=this.cachedCanvases.getCanvas("inlineImage",Ce,Te),Me=De.context;return Me.filter=this.current.transferMaps,Me.drawImage(Ee,0,0),Me.filter="none",De.canvas}paintInlineImageXObject(e,Ee){var ze;if(!this.contentVisible)return;const Ce=Ee.width,Te=Ee.height,De=this.ctx;this.save(e);const{filter:Me}=De;Me!=="none"&&Me!==""&&(De.filter="none"),De.scale(1/Ce,-1/Te);let Oe;if(Ee.bitmap)Oe=this.applyTransferMapsToBitmap(Ee);else if(typeof HTMLElement=="function"&&Ee instanceof HTMLElement||!Ee.data)Oe=Ee;else{const qe=this.cachedCanvases.getCanvas("inlineImage",Ce,Te).context;putBinaryImageData(qe,Ee),Oe=this.applyTransferMapsToCanvas(qe)}const Be=this._scaleImage(Oe,getCurrentTransformInverse(De));De.imageSmoothingEnabled=getImageSmoothingEnabled(getCurrentTransform(De),Ee.interpolate),(ze=this.dependencyTracker)==null||ze.resetBBox(e).recordBBox(e,De,0,Ce,-Te,0).recordDependencies(e,Dependencies.imageXObject).recordOperation(e),drawImageAtIntegerCoords(De,Be.img,0,0,Be.paintWidth,Be.paintHeight,0,-Te,Ce,Te),this.compose(),this.restore(e)}paintInlineImageXObjectGroup(e,Ee,Ce){var Me,Oe,Be;if(!this.contentVisible)return;const Te=this.ctx;let De;if(Ee.bitmap)De=Ee.bitmap;else{const ze=Ee.width,Ve=Ee.height,We=this.cachedCanvases.getCanvas("inlineImage",ze,Ve).context;putBinaryImageData(We,Ee),De=this.applyTransferMapsToCanvas(We)}(Me=this.dependencyTracker)==null||Me.resetBBox(e);for(const ze of Ce)Te.save(),Te.transform(...ze.transform),Te.scale(1,-1),drawImageAtIntegerCoords(Te,De,ze.x,ze.y,ze.w,ze.h,0,-1,1,1),(Oe=this.dependencyTracker)==null||Oe.recordBBox(e,Te,0,1,-1,0),Te.restore();(Be=this.dependencyTracker)==null||Be.recordOperation(e),this.compose()}paintSolidColorImageMask(e){var Ee;this.contentVisible&&((Ee=this.dependencyTracker)==null||Ee.resetBBox(e).recordBBox(e,this.ctx,0,1,0,1).recordDependencies(e,Dependencies.fill).recordOperation(e),this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e,Ee){}markPointProps(e,Ee,Ce){}beginMarkedContent(e,Ee){var Ce;(Ce=this.dependencyTracker)==null||Ce.beginMarkedContent(e),this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,Ee,Ce){var Te;(Te=this.dependencyTracker)==null||Te.beginMarkedContent(e),Ee==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(Ce)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(e){var Ee;(Ee=this.dependencyTracker)==null||Ee.endMarkedContent(e),this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(e){}endCompat(e){}consumePath(e,Ee,Ce){var Me,Oe;const Te=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(Ce);const De=this.ctx;this.pendingClip?(Te||(this.pendingClip===EO_CLIP?De.clip(Ee,"evenodd"):De.clip(Ee)),this.pendingClip=null,(Me=this.dependencyTracker)==null||Me.bboxToClipBoxDropOperation(e).recordFutureForcedDependency("clipPath",e)):(Oe=this.dependencyTracker)==null||Oe.recordOperation(e),this.current.startNewPathAndClipBox(this.current.clipBox)}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=getCurrentTransform(this.ctx);if(e[1]===0&&e[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const Ee=Math.abs(e[0]*e[3]-e[2]*e[1]),Ce=Math.hypot(e[0],e[2]),Te=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(Ce,Te)/Ee}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:e}=this.current,{a:Ee,b:Ce,c:Te,d:De}=this.ctx.getTransform();let Me,Oe;if(Ce===0&&Te===0){const Be=Math.abs(Ee),ze=Math.abs(De);if(Be===ze)if(e===0)Me=Oe=1/Be;else{const Ve=Be*e;Me=Oe=Ve<1?1/Ve:1}else if(e===0)Me=1/Be,Oe=1/ze;else{const Ve=Be*e,qe=ze*e;Me=Ve<1?1/Ve:1,Oe=qe<1?1/qe:1}}else{const Be=Math.abs(Ee*De-Ce*Te),ze=Math.hypot(Ee,Ce),Ve=Math.hypot(Te,De);if(e===0)Me=Ve/Be,Oe=ze/Be;else{const qe=e*Be;Me=Ve>qe?Ve/qe:1,Oe=ze>qe?ze/qe:1}}this._cachedScaleForStroking[0]=Me,this._cachedScaleForStroking[1]=Oe}return this._cachedScaleForStroking}rescaleAndStroke(e,Ee){const{ctx:Ce,current:{lineWidth:Te}}=this,[De,Me]=this.getScaleForStroking();if(De===Me){Ce.lineWidth=(Te||1)*De,Ce.stroke(e);return}const Oe=Ce.getLineDash();Ee&&Ce.save(),Ce.scale(De,Me),SCALE_MATRIX.a=1/De,SCALE_MATRIX.d=1/Me;const Be=new Path2D;if(Be.addPath(e,SCALE_MATRIX),Oe.length>0){const ze=Math.max(De,Me);Ce.setLineDash(Oe.map(Ve=>Ve/ze)),Ce.lineDashOffset/=ze}Ce.lineWidth=Te||1,Ce.stroke(Be),Ee&&Ce.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}};Vd=new WeakSet,Yj=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},Xj=function(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(e!=="none"){const Ee=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=Ee}}},Jj=function(e,Ee,Ce){const Te=new Path2D;return Te.addPath(e,new DOMMatrix(Ce).invertSelf().multiplySelf(Ee)),Te};let CanvasGraphics=OE;for(const Re in OPS)CanvasGraphics.prototype[Re]!==void 0&&(CanvasGraphics.prototype[OPS[Re]]=CanvasGraphics.prototype[Re]);var u0,d0,k1,h0,kb;const Lg=class Lg{constructor(e){Bs(this,h0);Bs(this,u0);Bs(this,d0);Bs(this,k1);Ls(this,u0,e),Ls(this,d0,new DataView(Ke(this,u0))),Ls(this,k1,new TextDecoder)}static write(e){const Ee=new TextEncoder,Ce={};let Te=0;for(const ze of Lg.strings){const Ve=Ee.encode(e[ze]);Ce[ze]=Ve,Te+=4+Ve.length}const De=new ArrayBuffer(Te),Me=new Uint8Array(De),Oe=new DataView(De);let Be=0;for(const ze of Lg.strings){const Ve=Ce[ze],qe=Ve.length;Oe.setUint32(Be,qe),Me.set(Ve,Be+4),Be+=4+qe}return assert(Be===De.byteLength,"CssFontInfo.write: Buffer overflow"),De}get fontFamily(){return Hs(this,h0,kb).call(this,0)}get fontWeight(){return Hs(this,h0,kb).call(this,1)}get italicAngle(){return Hs(this,h0,kb).call(this,2)}};u0=new WeakMap,d0=new WeakMap,k1=new WeakMap,h0=new WeakSet,kb=function(e){assert(e<Lg.strings.length,"Invalid string index");let Ee=0;for(let Te=0;Te<e;Te++)Ee+=Ke(this,d0).getUint32(Ee)+4;const Ce=Ke(this,d0).getUint32(Ee);return Ke(this,k1).decode(new Uint8Array(Ke(this,u0),Ee+4,Ce))},qr(Lg,"strings",["fontFamily","fontWeight","italicAngle"]);let CssFontInfo=Lg;var Lm,gh,hx,mx,qy;const Mg=class Mg{constructor(e){Bs(this,mx);Bs(this,Lm);Bs(this,gh);Bs(this,hx);Ls(this,Lm,e),Ls(this,gh,new DataView(Ke(this,Lm))),Ls(this,hx,new TextDecoder)}static write(e){const Ee=new TextEncoder,Ce={};let Te=0;for(const We of Mg.strings){const Ge=Ee.encode(e[We]);Ce[We]=Ge,Te+=4+Ge.length}Te+=4;let De,Me,Oe=1+Te;e.style&&(De=Ee.encode(e.style.style),Me=Ee.encode(e.style.weight),Oe+=4+De.length+4+Me.length);const Be=new ArrayBuffer(Oe),ze=new Uint8Array(Be),Ve=new DataView(Be);let qe=0;Ve.setUint8(qe++,e.guessFallback?1:0),Ve.setUint32(qe,0),qe+=4,Te=0;for(const We of Mg.strings){const Ge=Ce[We],Je=Ge.length;Te+=4+Je,Ve.setUint32(qe,Je),ze.set(Ge,qe+4),qe+=4+Je}return Ve.setUint32(qe-Te-4,Te),e.style&&(Ve.setUint32(qe,De.length),ze.set(De,qe+4),qe+=4+De.length,Ve.setUint32(qe,Me.length),ze.set(Me,qe+4),qe+=4+Me.length),assert(qe<=Be.byteLength,"SubstitionInfo.write: Buffer overflow"),Be.transferToFixedLength(qe)}get guessFallback(){return Ke(this,gh).getUint8(0)!==0}get css(){return Hs(this,mx,qy).call(this,0)}get loadedName(){return Hs(this,mx,qy).call(this,1)}get baseFontName(){return Hs(this,mx,qy).call(this,2)}get src(){return Hs(this,mx,qy).call(this,3)}get style(){let e=1;e+=4+Ke(this,gh).getUint32(e);const Ee=Ke(this,gh).getUint32(e),Ce=Ke(this,hx).decode(new Uint8Array(Ke(this,Lm),e+4,Ee));e+=4+Ee;const Te=Ke(this,gh).getUint32(e),De=Ke(this,hx).decode(new Uint8Array(Ke(this,Lm),e+4,Te));return{style:Ce,weight:De}}};Lm=new WeakMap,gh=new WeakMap,hx=new WeakMap,mx=new WeakSet,qy=function(e){assert(e<Mg.strings.length,"Invalid string index");let Ee=5;for(let Te=0;Te<e;Te++)Ee+=Ke(this,gh).getUint32(Ee)+4;const Ce=Ke(this,gh).getUint32(Ee);return Ke(this,hx).decode(new Uint8Array(Ke(this,Lm),Ee+4,Ce))},qr(Mg,"strings",["css","loadedName","baseFontName","src"]);let SystemFontInfo=Mg;var p0,m0,f0,x0,hu,yh,D1,Vn,$a,Nd,Db,Gy;const Gi=class Gi{constructor({data:e,extra:Ee}){Bs(this,$a);Bs(this,yh);Bs(this,D1);Bs(this,Vn);Ls(this,yh,e),Ls(this,D1,new TextDecoder),Ls(this,Vn,new DataView(Ke(this,yh))),Ee&&Object.assign(this,Ee)}get black(){return Hs(this,$a,Nd).call(this,0)}get bold(){return Hs(this,$a,Nd).call(this,1)}get disableFontFace(){return Hs(this,$a,Nd).call(this,2)}get fontExtraProperties(){return Hs(this,$a,Nd).call(this,3)}get isInvalidPDFjsFont(){return Hs(this,$a,Nd).call(this,4)}get isType3Font(){return Hs(this,$a,Nd).call(this,5)}get italic(){return Hs(this,$a,Nd).call(this,6)}get missingFile(){return Hs(this,$a,Nd).call(this,7)}get remeasure(){return Hs(this,$a,Nd).call(this,8)}get vertical(){return Hs(this,$a,Nd).call(this,9)}get ascent(){return Hs(this,$a,Db).call(this,0)}get defaultWidth(){return Hs(this,$a,Db).call(this,1)}get descent(){return Hs(this,$a,Db).call(this,2)}get bbox(){let e=Ke(Gi,m0);if(Ke(this,Vn).getUint8(e)===0)return;e+=1;const Ce=[];for(let Te=0;Te<4;Te++)Ce.push(Ke(this,Vn).getInt16(e,!0)),e+=2;return Ce}get fontMatrix(){let e=Ke(Gi,f0);if(Ke(this,Vn).getUint8(e)===0)return;e+=1;const Ce=[];for(let Te=0;Te<6;Te++)Ce.push(Ke(this,Vn).getFloat64(e,!0)),e+=8;return Ce}get defaultVMetrics(){let e=Ke(Gi,x0);if(Ke(this,Vn).getUint8(e)===0)return;e+=1;const Ce=[];for(let Te=0;Te<3;Te++)Ce.push(Ke(this,Vn).getInt16(e,!0)),e+=2;return Ce}get fallbackName(){return Hs(this,$a,Gy).call(this,0)}get loadedName(){return Hs(this,$a,Gy).call(this,1)}get mimetype(){return Hs(this,$a,Gy).call(this,2)}get name(){return Hs(this,$a,Gy).call(this,3)}get data(){let e=Ke(Gi,hu);const Ee=Ke(this,Vn).getUint32(e);e+=4+Ee;const Ce=Ke(this,Vn).getUint32(e);e+=4+Ce;const Te=Ke(this,Vn).getUint32(e);e+=4+Te;const De=Ke(this,Vn).getUint32(e);if(De!==0)return new Uint8Array(Ke(this,yh),e+4,De)}clearData(){let e=Ke(Gi,hu);const Ee=Ke(this,Vn).getUint32(e);e+=4+Ee;const Ce=Ke(this,Vn).getUint32(e);e+=4+Ce;const Te=Ke(this,Vn).getUint32(e);e+=4+Te;const De=Ke(this,Vn).getUint32(e);new Uint8Array(Ke(this,yh),e+4,De).fill(0),Ke(this,Vn).setUint32(e,0)}get cssFontInfo(){let e=Ke(Gi,hu);const Ee=Ke(this,Vn).getUint32(e);e+=4+Ee;const Ce=Ke(this,Vn).getUint32(e);e+=4+Ce;const Te=Ke(this,Vn).getUint32(e);if(Te===0)return null;const De=new Uint8Array(Te);return De.set(new Uint8Array(Ke(this,yh),e+4,Te)),new CssFontInfo(De.buffer)}get systemFontInfo(){let e=Ke(Gi,hu);const Ee=Ke(this,Vn).getUint32(e);e+=4+Ee;const Ce=Ke(this,Vn).getUint32(e);if(Ce===0)return null;const Te=new Uint8Array(Ce);return Te.set(new Uint8Array(Ke(this,yh),e+4,Ce)),new SystemFontInfo(Te.buffer)}static write(e){const Ee=e.systemFontInfo?SystemFontInfo.write(e.systemFontInfo):null,Ce=e.cssFontInfo?CssFontInfo.write(e.cssFontInfo):null,Te=new TextEncoder,De={};let Me=0;for(const Qe of Gi.strings)De[Qe]=Te.encode(e[Qe]),Me+=4+De[Qe].length;const Oe=Ke(Gi,hu)+4+Me+4+(Ee?Ee.byteLength:0)+4+(Ce?Ce.byteLength:0)+4+(e.data?e.data.length:0),Be=new ArrayBuffer(Oe),ze=new Uint8Array(Be),Ve=new DataView(Be);let qe=0;const We=Gi.bools.length;let Ge=0,Je=0;for(let Qe=0;Qe<We;Qe++){const ns=e[Gi.bools[Qe]];Ge|=(ns===void 0?0:ns?2:1)<<Je,Je+=2,(Je===8||Qe===We-1)&&(Ve.setUint8(qe++,Ge),Ge=0,Je=0)}assert(qe===Ke(Gi,p0),"FontInfo.write: Boolean properties offset mismatch");for(const Qe of Gi.numbers)Ve.setFloat64(qe,e[Qe]),qe+=8;if(assert(qe===Ke(Gi,m0),"FontInfo.write: Number properties offset mismatch"),e.bbox){Ve.setUint8(qe++,4);for(const Qe of e.bbox)Ve.setInt16(qe,Qe,!0),qe+=2}else Ve.setUint8(qe++,0),qe+=2*4;if(assert(qe===Ke(Gi,f0),"FontInfo.write: BBox properties offset mismatch"),e.fontMatrix){Ve.setUint8(qe++,6);for(const Qe of e.fontMatrix)Ve.setFloat64(qe,Qe,!0),qe+=8}else Ve.setUint8(qe++,0),qe+=8*6;if(assert(qe===Ke(Gi,x0),"FontInfo.write: FontMatrix properties offset mismatch"),e.defaultVMetrics){Ve.setUint8(qe++,1);for(const Qe of e.defaultVMetrics)Ve.setInt16(qe,Qe,!0),qe+=2}else Ve.setUint8(qe++,0),qe+=3*2;assert(qe===Ke(Gi,hu),"FontInfo.write: DefaultVMetrics properties offset mismatch"),Ve.setUint32(Ke(Gi,hu),0),qe+=4;for(const Qe of Gi.strings){const ns=De[Qe],Ye=ns.length;Ve.setUint32(qe,Ye),ze.set(ns,qe+4),qe+=4+Ye}if(Ve.setUint32(Ke(Gi,hu),qe-Ke(Gi,hu)-4),!Ee)Ve.setUint32(qe,0),qe+=4;else{const Qe=Ee.byteLength;Ve.setUint32(qe,Qe),assert(qe+4+Qe<=Be.byteLength,"FontInfo.write: Buffer overflow at systemFontInfo"),ze.set(new Uint8Array(Ee),qe+4),qe+=4+Qe}if(!Ce)Ve.setUint32(qe,0),qe+=4;else{const Qe=Ce.byteLength;Ve.setUint32(qe,Qe),assert(qe+4+Qe<=Be.byteLength,"FontInfo.write: Buffer overflow at cssFontInfo"),ze.set(new Uint8Array(Ce),qe+4),qe+=4+Qe}return e.data===void 0?(Ve.setUint32(qe,0),qe+=4):(Ve.setUint32(qe,e.data.length),ze.set(e.data,qe+4),qe+=4+e.data.length),assert(qe<=Be.byteLength,"FontInfo.write: Buffer overflow"),Be.transferToFixedLength(qe)}};p0=new WeakMap,m0=new WeakMap,f0=new WeakMap,x0=new WeakMap,hu=new WeakMap,yh=new WeakMap,D1=new WeakMap,Vn=new WeakMap,$a=new WeakSet,Nd=function(e){assert(e<Gi.bools.length,"Invalid boolean index");const Ee=Math.floor(e/4),Ce=e*2%8,Te=Ke(this,Vn).getUint8(Ee)>>Ce&3;return Te===0?void 0:Te===2},Db=function(e){return assert(e<Gi.numbers.length,"Invalid number index"),Ke(this,Vn).getFloat64(Ke(Gi,p0)+e*8)},Gy=function(e){assert(e<Gi.strings.length,"Invalid string index");let Ee=Ke(Gi,hu)+4;for(let De=0;De<e;De++)Ee+=Ke(this,Vn).getUint32(Ee)+4;const Ce=Ke(this,Vn).getUint32(Ee),Te=new Uint8Array(Ce);return Te.set(new Uint8Array(Ke(this,yh),Ee+4,Ce)),Ke(this,D1).decode(Te)},qr(Gi,"bools",["black","bold","disableFontFace","fontExtraProperties","isInvalidPDFjsFont","isType3Font","italic","missingFile","remeasure","vertical"]),qr(Gi,"numbers",["ascent","defaultWidth","descent"]),qr(Gi,"strings",["fallbackName","loadedName","mimetype","name"]),Bs(Gi,p0,Math.ceil(Gi.bools.length*2/8)),Bs(Gi,m0,Ke(Gi,p0)+Gi.numbers.length*8),Bs(Gi,f0,Ke(Gi,m0)+1+2*4),Bs(Gi,x0,Ke(Gi,f0)+1+8*6),Bs(Gi,hu,Ke(Gi,x0)+1+2*3);let FontInfo=Gi;var L1,M1;class GlobalWorkerOptions{static get workerPort(){return Ke(this,L1)}static set workerPort(e){if(!(typeof Worker<"u"&&e instanceof Worker)&&e!==null)throw new Error("Invalid `workerPort` type.");Ls(this,L1,e)}static get workerSrc(){return Ke(this,M1)}static set workerSrc(e){if(typeof e!="string")throw new Error("Invalid `workerSrc` type.");Ls(this,M1,e)}}L1=new WeakMap,M1=new WeakMap,Bs(GlobalWorkerOptions,L1,null),Bs(GlobalWorkerOptions,M1,"");var g0,F1;class Metadata{constructor({parsedData:e,rawData:Ee}){Bs(this,g0);Bs(this,F1);Ls(this,g0,e),Ls(this,F1,Ee)}getRaw(){return Ke(this,F1)}get(e){return Ke(this,g0).get(e)??null}[Symbol.iterator](){return Ke(this,g0).entries()}}g0=new WeakMap,F1=new WeakMap;const INTERNAL=Symbol("INTERNAL");var O1,I1,B1,y0;class OptionalContentGroup{constructor(e,{name:Ee,intent:Ce,usage:Te,rbGroups:De}){Bs(this,O1,!1);Bs(this,I1,!1);Bs(this,B1,!1);Bs(this,y0,!0);Ls(this,O1,!!(e&RenderingIntentFlag.DISPLAY)),Ls(this,I1,!!(e&RenderingIntentFlag.PRINT)),this.name=Ee,this.intent=Ce,this.usage=Te,this.rbGroups=De}get visible(){if(Ke(this,B1))return Ke(this,y0);if(!Ke(this,y0))return!1;const{print:e,view:Ee}=this.usage;return Ke(this,O1)?(Ee==null?void 0:Ee.viewState)!=="OFF":Ke(this,I1)?(e==null?void 0:e.printState)!=="OFF":!0}_setVisible(e,Ee,Ce=!1){e!==INTERNAL&&unreachable("Internal method `_setVisible` called."),Ls(this,B1,Ce),Ls(this,y0,Ee)}}O1=new WeakMap,I1=new WeakMap,B1=new WeakMap,y0=new WeakMap;var Mm,Un,v0,b0,z1,Qj;class OptionalContentConfig{constructor(e,Ee=RenderingIntentFlag.DISPLAY){Bs(this,z1);Bs(this,Mm,null);Bs(this,Un,new Map);Bs(this,v0,null);Bs(this,b0,null);if(this.renderingIntent=Ee,this.name=null,this.creator=null,e!==null){this.name=e.name,this.creator=e.creator,Ls(this,b0,e.order);for(const Ce of e.groups)Ke(this,Un).set(Ce.id,new OptionalContentGroup(Ee,Ce));if(e.baseState==="OFF")for(const Ce of Ke(this,Un).values())Ce._setVisible(INTERNAL,!1);for(const Ce of e.on)Ke(this,Un).get(Ce)._setVisible(INTERNAL,!0);for(const Ce of e.off)Ke(this,Un).get(Ce)._setVisible(INTERNAL,!1);Ls(this,v0,this.getHash())}}isVisible(e){if(Ke(this,Un).size===0)return!0;if(!e)return info("Optional content group not defined."),!0;if(e.type==="OCG")return Ke(this,Un).has(e.id)?Ke(this,Un).get(e.id).visible:(warn(`Optional content group not found: ${e.id}`),!0);if(e.type==="OCMD"){if(e.expression)return Hs(this,z1,Qj).call(this,e.expression);if(!e.policy||e.policy==="AnyOn"){for(const Ee of e.ids){if(!Ke(this,Un).has(Ee))return warn(`Optional content group not found: ${Ee}`),!0;if(Ke(this,Un).get(Ee).visible)return!0}return!1}else if(e.policy==="AllOn"){for(const Ee of e.ids){if(!Ke(this,Un).has(Ee))return warn(`Optional content group not found: ${Ee}`),!0;if(!Ke(this,Un).get(Ee).visible)return!1}return!0}else if(e.policy==="AnyOff"){for(const Ee of e.ids){if(!Ke(this,Un).has(Ee))return warn(`Optional content group not found: ${Ee}`),!0;if(!Ke(this,Un).get(Ee).visible)return!0}return!1}else if(e.policy==="AllOff"){for(const Ee of e.ids){if(!Ke(this,Un).has(Ee))return warn(`Optional content group not found: ${Ee}`),!0;if(Ke(this,Un).get(Ee).visible)return!1}return!0}return warn(`Unknown optional content policy ${e.policy}.`),!0}return warn(`Unknown group type ${e.type}.`),!0}setVisibility(e,Ee=!0,Ce=!0){var De;const Te=Ke(this,Un).get(e);if(!Te){warn(`Optional content group not found: ${e}`);return}if(Ce&&Ee&&Te.rbGroups.length)for(const Me of Te.rbGroups)for(const Oe of Me)Oe!==e&&((De=Ke(this,Un).get(Oe))==null||De._setVisible(INTERNAL,!1,!0));Te._setVisible(INTERNAL,!!Ee,!0),Ls(this,Mm,null)}setOCGState({state:e,preserveRB:Ee}){let Ce;for(const Te of e){switch(Te){case"ON":case"OFF":case"Toggle":Ce=Te;continue}const De=Ke(this,Un).get(Te);if(De)switch(Ce){case"ON":this.setVisibility(Te,!0,Ee);break;case"OFF":this.setVisibility(Te,!1,Ee);break;case"Toggle":this.setVisibility(Te,!De.visible,Ee);break}}Ls(this,Mm,null)}get hasInitialVisibility(){return Ke(this,v0)===null||this.getHash()===Ke(this,v0)}getOrder(){return Ke(this,Un).size?Ke(this,b0)?Ke(this,b0).slice():[...Ke(this,Un).keys()]:null}getGroup(e){return Ke(this,Un).get(e)||null}getHash(){if(Ke(this,Mm)!==null)return Ke(this,Mm);const e=new MurmurHash3_64;for(const[Ee,Ce]of Ke(this,Un))e.update(`${Ee}:${Ce.visible}`);return Ls(this,Mm,e.hexdigest())}[Symbol.iterator](){return Ke(this,Un).entries()}}Mm=new WeakMap,Un=new WeakMap,v0=new WeakMap,b0=new WeakMap,z1=new WeakSet,Qj=function(e){const Ee=e.length;if(Ee<2)return!0;const Ce=e[0];for(let Te=1;Te<Ee;Te++){const De=e[Te];let Me;if(Array.isArray(De))Me=Hs(this,z1,Qj).call(this,De);else if(Ke(this,Un).has(De))Me=Ke(this,Un).get(De).visible;else return warn(`Optional content group not found: ${De}`),!0;switch(Ce){case"And":if(!Me)return!1;break;case"Or":if(Me)return!0;break;case"Not":return!Me;default:return!0}}return Ce==="And"};class PDFDataTransportStream{constructor(e,{disableRange:Ee=!1,disableStream:Ce=!1}){assert(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:Te,initialData:De,progressiveDone:Me,contentDispositionFilename:Oe}=e;if(this._queuedChunks=[],this._progressiveDone=Me,this._contentDispositionFilename=Oe,(De==null?void 0:De.length)>0){const Be=De instanceof Uint8Array&&De.byteLength===De.buffer.byteLength?De.buffer:new Uint8Array(De).buffer;this._queuedChunks.push(Be)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!Ce,this._isRangeSupported=!Ee,this._contentLength=Te,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener((Be,ze)=>{this._onReceiveData({begin:Be,chunk:ze})}),e.addProgressListener((Be,ze)=>{this._onProgress({loaded:Be,total:ze})}),e.addProgressiveReadListener(Be=>{this._onReceiveData({chunk:Be})}),e.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),e.transportReady()}_onReceiveData({begin:e,chunk:Ee}){const Ce=Ee instanceof Uint8Array&&Ee.byteLength===Ee.buffer.byteLength?Ee.buffer:new Uint8Array(Ee).buffer;if(e===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(Ce):this._queuedChunks.push(Ce);else{const Te=this._rangeReaders.some(function(De){return De._begin!==e?!1:(De._enqueue(Ce),!0)});assert(Te,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}_onProgress(e){var Ee,Ce,Te,De;e.total===void 0?(Ce=(Ee=this._rangeReaders[0])==null?void 0:Ee.onProgress)==null||Ce.call(Ee,{loaded:e.loaded}):(De=(Te=this._fullRequestReader)==null?void 0:Te.onProgress)==null||De.call(Te,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;(e=this._fullRequestReader)==null||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const Ee=this._rangeReaders.indexOf(e);Ee>=0&&this._rangeReaders.splice(Ee,1)}getFullReader(){assert(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new PDFDataTransportStreamReader(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,Ee){if(Ee<=this._progressiveDataLength)return null;const Ce=new PDFDataTransportStreamRangeReader(this,e,Ee);return this._pdfDataRangeTransport.requestDataRange(e,Ee),this._rangeReaders.push(Ce),Ce}cancelAllRequests(e){var Ee;(Ee=this._fullRequestReader)==null||Ee.cancel(e);for(const Ce of this._rangeReaders.slice(0))Ce.cancel(e);this._pdfDataRangeTransport.abort()}}class PDFDataTransportStreamReader{constructor(e,Ee,Ce=!1,Te=null){this._stream=e,this._done=Ce||!1,this._filename=isPdfFile(Te)?Te:null,this._queuedChunks=Ee||[],this._loaded=0;for(const De of this._queuedChunks)this._loaded+=De.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){this._done||(this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunks.push(e),this._loaded+=e.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const Ee of this._requests)Ee.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class PDFDataTransportStreamRangeReader{constructor(e,Ee,Ce){this._stream=e,this._begin=Ee,this._end=Ce,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length===0)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const Ce of this._requests)Ce.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const Ee=this._queuedChunk;return this._queuedChunk=null,{value:Ee,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const Ee of this._requests)Ee.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function getFilenameFromContentDispositionHeader(Re){let e=!0,Ee=Ce("filename\\*","i").exec(Re);if(Ee){Ee=Ee[1];let Ve=Oe(Ee);return Ve=unescape(Ve),Ve=Be(Ve),Ve=ze(Ve),De(Ve)}if(Ee=Me(Re),Ee){const Ve=ze(Ee);return De(Ve)}if(Ee=Ce("filename","i").exec(Re),Ee){Ee=Ee[1];let Ve=Oe(Ee);return Ve=ze(Ve),De(Ve)}function Ce(Ve,qe){return new RegExp("(?:^|;)\\s*"+Ve+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',qe)}function Te(Ve,qe){if(Ve){if(!/^[\x00-\xFF]+$/.test(qe))return qe;try{const We=new TextDecoder(Ve,{fatal:!0}),Ge=stringToBytes(qe);qe=We.decode(Ge),e=!1}catch{}}return qe}function De(Ve){return e&&/[\x80-\xff]/.test(Ve)&&(Ve=Te("utf-8",Ve),e&&(Ve=Te("iso-8859-1",Ve))),Ve}function Me(Ve){const qe=[];let We;const Ge=Ce("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(We=Ge.exec(Ve))!==null;){let[,Qe,ns,Ye]=We;if(Qe=parseInt(Qe,10),Qe in qe){if(Qe===0)break;continue}qe[Qe]=[ns,Ye]}const Je=[];for(let Qe=0;Qe<qe.length&&Qe in qe;++Qe){let[ns,Ye]=qe[Qe];Ye=Oe(Ye),ns&&(Ye=unescape(Ye),Qe===0&&(Ye=Be(Ye))),Je.push(Ye)}return Je.join("")}function Oe(Ve){if(Ve.startsWith('"')){const qe=Ve.slice(1).split('\\"');for(let We=0;We<qe.length;++We){const Ge=qe[We].indexOf('"');Ge!==-1&&(qe[We]=qe[We].slice(0,Ge),qe.length=We+1),qe[We]=qe[We].replaceAll(/\\(.)/g,"$1")}Ve=qe.join('"')}return Ve}function Be(Ve){const qe=Ve.indexOf("'");if(qe===-1)return Ve;const We=Ve.slice(0,qe),Je=Ve.slice(qe+1).replace(/^[^']*'/,"");return Te(We,Je)}function ze(Ve){return!Ve.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(Ve)?Ve:Ve.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(qe,We,Ge,Je){if(Ge==="q"||Ge==="Q")return Je=Je.replaceAll("_"," "),Je=Je.replaceAll(/=([0-9a-fA-F]{2})/g,function(Qe,ns){return String.fromCharCode(parseInt(ns,16))}),Te(We,Je);try{Je=atob(Je)}catch{}return Te(We,Je)})}return""}function createHeaders(Re,e){const Ee=new Headers;if(!Re||!e||typeof e!="object")return Ee;for(const Ce in e){const Te=e[Ce];Te!==void 0&&Ee.append(Ce,Te)}return Ee}function getResponseOrigin(Re){var e;return((e=URL.parse(Re))==null?void 0:e.origin)??null}function validateRangeRequestCapabilities({responseHeaders:Re,isHttp:e,rangeChunkSize:Ee,disableRange:Ce}){const Te={allowRangeRequests:!1,suggestedLength:void 0},De=parseInt(Re.get("Content-Length"),10);return!Number.isInteger(De)||(Te.suggestedLength=De,De<=2*Ee)||Ce||!e||Re.get("Accept-Ranges")!=="bytes"||(Re.get("Content-Encoding")||"identity")!=="identity"||(Te.allowRangeRequests=!0),Te}function extractFilenameFromHeader(Re){const e=Re.get("Content-Disposition");if(e){let Ee=getFilenameFromContentDispositionHeader(e);if(Ee.includes("%"))try{Ee=decodeURIComponent(Ee)}catch{}if(isPdfFile(Ee))return Ee}return null}function createResponseError(Re,e){return new ResponseException(`Unexpected server response (${Re}) while retrieving PDF "${e}".`,Re,Re===404||Re===0&&e.startsWith("file:"))}function validateResponseStatus(Re){return Re===200||Re===206}function createFetchOptions(Re,e,Ee){return{method:"GET",headers:Re,signal:Ee.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function getArrayBuffer(Re){return Re instanceof Uint8Array?Re.buffer:Re instanceof ArrayBuffer?Re:(warn(`getArrayBuffer - unexpected data format: ${Re}`),new Uint8Array(Re).buffer)}class PDFFetchStream{constructor(e){qr(this,"_responseOrigin",null);this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=createHeaders(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new PDFFetchStreamReader(this),this._fullRequestReader}getRangeReader(e,Ee){if(Ee<=this._progressiveDataLength)return null;const Ce=new PDFFetchStreamRangeReader(this,e,Ee);return this._rangeRequestReaders.push(Ce),Ce}cancelAllRequests(e){var Ee;(Ee=this._fullRequestReader)==null||Ee.cancel(e);for(const Ce of this._rangeRequestReaders.slice(0))Ce.cancel(e)}}class PDFFetchStreamReader{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const Ee=e.source;this._withCredentials=Ee.withCredentials||!1,this._contentLength=Ee.length,this._headersCapability=Promise.withResolvers(),this._disableRange=Ee.disableRange||!1,this._rangeChunkSize=Ee.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!Ee.disableStream,this._isRangeSupported=!Ee.disableRange;const Ce=new Headers(e.headers),Te=Ee.url;fetch(Te,createFetchOptions(Ce,this._withCredentials,this._abortController)).then(De=>{if(e._responseOrigin=getResponseOrigin(De.url),!validateResponseStatus(De.status))throw createResponseError(De.status,Te);this._reader=De.body.getReader(),this._headersCapability.resolve();const Me=De.headers,{allowRangeRequests:Oe,suggestedLength:Be}=validateRangeRequestCapabilities({responseHeaders:Me,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=Oe,this._contentLength=Be||this._contentLength,this._filename=extractFilenameFromHeader(Me),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Ce;await this._headersCapability.promise;const{value:e,done:Ee}=await this._reader.read();return Ee?{value:e,done:Ee}:(this._loaded+=e.byteLength,(Ce=this.onProgress)==null||Ce.call(this,{loaded:this._loaded,total:this._contentLength}),{value:getArrayBuffer(e),done:!1})}cancel(e){var Ee;(Ee=this._reader)==null||Ee.cancel(e),this._abortController.abort()}}class PDFFetchStreamRangeReader{constructor(e,Ee,Ce){this._stream=e,this._reader=null,this._loaded=0;const Te=e.source;this._withCredentials=Te.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!Te.disableStream,this._abortController=new AbortController;const De=new Headers(e.headers);De.append("Range",`bytes=${Ee}-${Ce-1}`);const Me=Te.url;fetch(Me,createFetchOptions(De,this._withCredentials,this._abortController)).then(Oe=>{const Be=getResponseOrigin(Oe.url);if(Be!==e._responseOrigin)throw new Error(`Expected range response-origin "${Be}" to match "${e._responseOrigin}".`);if(!validateResponseStatus(Oe.status))throw createResponseError(Oe.status,Me);this._readCapability.resolve(),this._reader=Oe.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Ce;await this._readCapability.promise;const{value:e,done:Ee}=await this._reader.read();return Ee?{value:e,done:Ee}:(this._loaded+=e.byteLength,(Ce=this.onProgress)==null||Ce.call(this,{loaded:this._loaded}),{value:getArrayBuffer(e),done:!1})}cancel(e){var Ee;(Ee=this._reader)==null||Ee.cancel(e),this._abortController.abort()}}const OK_RESPONSE=200,PARTIAL_CONTENT_RESPONSE=206;function network_getArrayBuffer(Re){const e=Re.response;return typeof e!="string"?e:stringToBytes(e).buffer}class NetworkManager{constructor({url:e,httpHeaders:Ee,withCredentials:Ce}){qr(this,"_responseOrigin",null);this.url=e,this.isHttp=/^https?:/i.test(e),this.headers=createHeaders(this.isHttp,Ee),this.withCredentials=Ce||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}request(e){const Ee=new XMLHttpRequest,Ce=this.currXhrId++,Te=this.pendingRequests[Ce]={xhr:Ee};Ee.open("GET",this.url),Ee.withCredentials=this.withCredentials;for(const[De,Me]of this.headers)Ee.setRequestHeader(De,Me);return this.isHttp&&"begin"in e&&"end"in e?(Ee.setRequestHeader("Range",`bytes=${e.begin}-${e.end-1}`),Te.expectedStatus=PARTIAL_CONTENT_RESPONSE):Te.expectedStatus=OK_RESPONSE,Ee.responseType="arraybuffer",assert(e.onError,"Expected `onError` callback to be provided."),Ee.onerror=()=>{e.onError(Ee.status)},Ee.onreadystatechange=this.onStateChange.bind(this,Ce),Ee.onprogress=this.onProgress.bind(this,Ce),Te.onHeadersReceived=e.onHeadersReceived,Te.onDone=e.onDone,Te.onError=e.onError,Te.onProgress=e.onProgress,Ee.send(null),Ce}onProgress(e,Ee){var Te;const Ce=this.pendingRequests[e];Ce&&((Te=Ce.onProgress)==null||Te.call(Ce,Ee))}onStateChange(e,Ee){const Ce=this.pendingRequests[e];if(!Ce)return;const Te=Ce.xhr;if(Te.readyState>=2&&Ce.onHeadersReceived&&(Ce.onHeadersReceived(),delete Ce.onHeadersReceived),Te.readyState!==4||!(e in this.pendingRequests))return;if(delete this.pendingRequests[e],Te.status===0&&this.isHttp){Ce.onError(Te.status);return}const De=Te.status||OK_RESPONSE;if(!(De===OK_RESPONSE&&Ce.expectedStatus===PARTIAL_CONTENT_RESPONSE)&&De!==Ce.expectedStatus){Ce.onError(Te.status);return}const Oe=network_getArrayBuffer(Te);if(De===PARTIAL_CONTENT_RESPONSE){const Be=Te.getResponseHeader("Content-Range"),ze=/bytes (\d+)-(\d+)\/(\d+)/.exec(Be);ze?Ce.onDone({begin:parseInt(ze[1],10),chunk:Oe}):(warn('Missing or invalid "Content-Range" header.'),Ce.onError(0))}else Oe?Ce.onDone({begin:0,chunk:Oe}):Ce.onError(Te.status)}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const Ee=this.pendingRequests[e].xhr;delete this.pendingRequests[e],Ee.abort()}}class PDFNetworkStream{constructor(e){this._source=e,this._manager=new NetworkManager(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const Ee=this._rangeRequestReaders.indexOf(e);Ee>=0&&this._rangeRequestReaders.splice(Ee,1)}getFullReader(){return assert(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNetworkStreamFullRequestReader(this._manager,this._source),this._fullRequestReader}getRangeReader(e,Ee){const Ce=new PDFNetworkStreamRangeRequestReader(this._manager,e,Ee);return Ce.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(Ce),Ce}cancelAllRequests(e){var Ee;(Ee=this._fullRequestReader)==null||Ee.cancel(e);for(const Ce of this._rangeRequestReaders.slice(0))Ce.cancel(e)}}class PDFNetworkStreamFullRequestReader{constructor(e,Ee){this._manager=e,this._url=Ee.url,this._fullRequestId=e.request({onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._headersCapability=Promise.withResolvers(),this._disableRange=Ee.disableRange||!1,this._contentLength=Ee.length,this._rangeChunkSize=Ee.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,Ee=this._manager.getRequestXhr(e);this._manager._responseOrigin=getResponseOrigin(Ee.responseURL);const Ce=Ee.getAllResponseHeaders(),Te=new Headers(Ce?Ce.trimStart().replace(/[^\S ]+$/,"").split(/[\r\n]+/).map(Oe=>{const[Be,...ze]=Oe.split(": ");return[Be,ze.join(": ")]}):[]),{allowRangeRequests:De,suggestedLength:Me}=validateRangeRequestCapabilities({responseHeaders:Te,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});De&&(this._isRangeSupported=!0),this._contentLength=Me||this._contentLength,this._filename=extractFilenameFromHeader(Te),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e&&(this._requests.length>0?this._requests.shift().resolve({value:e.chunk,done:!1}):this._cachedChunks.push(e.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const Ee of this._requests)Ee.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=createResponseError(e,this._url),this._headersCapability.reject(this._storedError);for(const Ee of this._requests)Ee.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var Ee;(Ee=this.onProgress)==null||Ee.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(await this._headersCapability.promise,this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const Ee of this._requests)Ee.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class PDFNetworkStreamRangeRequestReader{constructor(e,Ee,Ce){this._manager=e,this._url=e.url,this._requestId=e.request({begin:Ee,end:Ce,onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)}),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_onHeadersReceived(){var Ee;const e=getResponseOrigin((Ee=this._manager.getRequestXhr(this._requestId))==null?void 0:Ee.responseURL);e!==this._manager._responseOrigin&&(this._storedError=new Error(`Expected range response-origin "${e}" to match "${this._manager._responseOrigin}".`),this._onError(0))}_close(){var e;(e=this.onClosed)==null||e.call(this,this)}_onDone(e){const Ee=e.chunk;this._requests.length>0?this._requests.shift().resolve({value:Ee,done:!1}):this._queuedChunk=Ee,this._done=!0;for(const Ce of this._requests)Ce.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError??(this._storedError=createResponseError(e,this._url));for(const Ee of this._requests)Ee.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var Ee;this.isStreamingSupported||(Ee=this.onProgress)==null||Ee.call(this,{loaded:e.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const Ee=this._queuedChunk;return this._queuedChunk=null,{value:Ee,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const Ee of this._requests)Ee.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const urlRegex=/^[a-z][a-z0-9\-+.]+:/i;function parseUrlOrPath(Re){if(urlRegex.test(Re))return new URL(Re);const e=process.getBuiltinModule("url");return new URL(e.pathToFileURL(Re))}class PDFNodeStream{constructor(e){this.source=e,this.url=parseUrlOrPath(e.url),assert(this.url.protocol==="file:","PDFNodeStream only supports file:// URLs."),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e;return((e=this._fullRequestReader)==null?void 0:e._loaded)??0}getFullReader(){return assert(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=new PDFNodeStreamFsFullReader(this),this._fullRequestReader}getRangeReader(e,Ee){if(Ee<=this._progressiveDataLength)return null;const Ce=new PDFNodeStreamFsRangeReader(this,e,Ee);return this._rangeRequestReaders.push(Ce),Ce}cancelAllRequests(e){var Ee;(Ee=this._fullRequestReader)==null||Ee.cancel(e);for(const Ce of this._rangeRequestReaders.slice(0))Ce.cancel(e)}}class PDFNodeStreamFsFullReader{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const Ee=e.source;this._contentLength=Ee.length,this._loaded=0,this._filename=null,this._disableRange=Ee.disableRange||!1,this._rangeChunkSize=Ee.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!Ee.disableStream,this._isRangeSupported=!Ee.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers();const Ce=process.getBuiltinModule("fs");Ce.promises.lstat(this._url).then(Te=>{this._contentLength=Te.size,this._setReadableStream(Ce.createReadStream(this._url)),this._headersCapability.resolve()},Te=>{Te.code==="ENOENT"&&(Te=createResponseError(0,this._url.href)),this._storedError=Te,this._headersCapability.reject(Te)})}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Ce;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(Ce=this.onProgress)==null||Ce.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",Ee=>{this._error(Ee)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class PDFNodeStreamFsRangeReader{constructor(e,Ee,Ce){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const Te=e.source;this._isStreamingSupported=!Te.disableStream;const De=process.getBuiltinModule("fs");this._setReadableStream(De.createReadStream(this._url,{start:Ee,end:Ce-1}))}get isStreamingSupported(){return this._isStreamingSupported}async read(){var Ce;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const e=this._readableStream.read();return e===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=e.length,(Ce=this.onProgress)==null||Ce.call(this,{loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){if(!this._readableStream){this._error(e);return}this._readableStream.destroy(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",()=>{this._readCapability.resolve()}),e.on("end",()=>{e.destroy(),this._done=!0,this._readCapability.resolve()}),e.on("error",Ee=>{this._error(Ee)}),this._storedError&&this._readableStream.destroy(this._storedError)}}const INITIAL_DATA=Symbol("INITIAL_DATA");var pu,$1,eE;class PDFObjects{constructor(){Bs(this,$1);Bs(this,pu,Object.create(null))}get(e,Ee=null){if(Ee){const Te=Hs(this,$1,eE).call(this,e);return Te.promise.then(()=>Ee(Te.data)),null}const Ce=Ke(this,pu)[e];if(!Ce||Ce.data===INITIAL_DATA)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return Ce.data}has(e){const Ee=Ke(this,pu)[e];return!!Ee&&Ee.data!==INITIAL_DATA}delete(e){const Ee=Ke(this,pu)[e];return!Ee||Ee.data===INITIAL_DATA?!1:(delete Ke(this,pu)[e],!0)}resolve(e,Ee=null){const Ce=Hs(this,$1,eE).call(this,e);Ce.data=Ee,Ce.resolve()}clear(){var e;for(const Ee in Ke(this,pu)){const{data:Ce}=Ke(this,pu)[Ee];(e=Ce==null?void 0:Ce.bitmap)==null||e.close()}Ls(this,pu,Object.create(null))}*[Symbol.iterator](){for(const e in Ke(this,pu)){const{data:Ee}=Ke(this,pu)[e];Ee!==INITIAL_DATA&&(yield[e,Ee])}}}pu=new WeakMap,$1=new WeakSet,eE=function(e){var Ee;return(Ee=Ke(this,pu))[e]||(Ee[e]={...Promise.withResolvers(),data:INITIAL_DATA})};const MAX_TEXT_DIVS_TO_RENDER=1e5,DEFAULT_FONT_SIZE=30;var ER,Fm,Fc,V1,U1,fx,wp,H1,q1,xx,j0,E0,Om,w0,G1,R0,gx,W1,Z1,za,_0,yx,K1,Im,S0,Up,i5,n5,tE,Nu,Lb,sE,a5,o5;let TextLayer$1=(za=class{constructor({textContentSource:e,container:Ee,viewport:Ce}){Bs(this,Up);Bs(this,Fm,Promise.withResolvers());Bs(this,Fc,null);Bs(this,V1,!1);Bs(this,U1,!!((ER=globalThis.FontInspector)!=null&&ER.enabled));Bs(this,fx,null);Bs(this,wp,null);Bs(this,H1,0);Bs(this,q1,0);Bs(this,xx,null);Bs(this,j0,null);Bs(this,E0,0);Bs(this,Om,0);Bs(this,w0,Object.create(null));Bs(this,G1,[]);Bs(this,R0,null);Bs(this,gx,[]);Bs(this,W1,new WeakMap);Bs(this,Z1,null);var Be;if(e instanceof ReadableStream)Ls(this,R0,e);else if(typeof e=="object")Ls(this,R0,new ReadableStream({start(ze){ze.enqueue(e),ze.close()}}));else throw new Error('No "textContentSource" parameter specified.');Ls(this,Fc,Ls(this,j0,Ee)),Ls(this,Om,Ce.scale*OutputScale.pixelRatio),Ls(this,E0,Ce.rotation),Ls(this,wp,{div:null,properties:null,ctx:null});const{pageWidth:Te,pageHeight:De,pageX:Me,pageY:Oe}=Ce.rawDims;Ls(this,Z1,[1,0,0,-1,-Me,Oe+De]),Ls(this,q1,Te),Ls(this,H1,De),Hs(Be=za,Nu,a5).call(Be),setLayerDimensions(Ee,Ce),Ke(this,Fm).promise.finally(()=>{Ke(za,S0).delete(this),Ls(this,wp,null),Ls(this,w0,null)}).catch(()=>{})}static get fontFamilyMap(){const{isWindows:e,isFirefox:Ee}=util_FeatureTest.platform;return shadow(this,"fontFamilyMap",new Map([["sans-serif",`${e&&Ee?"Calibri, ":""}sans-serif`],["monospace",`${e&&Ee?"Lucida Console, ":""}monospace`]]))}render(){const e=()=>{Ke(this,xx).read().then(({value:Ee,done:Ce})=>{if(Ce){Ke(this,Fm).resolve();return}Ke(this,fx)??Ls(this,fx,Ee.lang),Object.assign(Ke(this,w0),Ee.styles),Hs(this,Up,i5).call(this,Ee.items),e()},Ke(this,Fm).reject)};return Ls(this,xx,Ke(this,R0).getReader()),Ke(za,S0).add(this),e(),Ke(this,Fm).promise}update({viewport:e,onBefore:Ee=null}){var De;const Ce=e.scale*OutputScale.pixelRatio,Te=e.rotation;if(Te!==Ke(this,E0)&&(Ee==null||Ee(),Ls(this,E0,Te),setLayerDimensions(Ke(this,j0),{rotation:Te})),Ce!==Ke(this,Om)){Ee==null||Ee(),Ls(this,Om,Ce);const Me={div:null,properties:null,ctx:Hs(De=za,Nu,Lb).call(De,Ke(this,fx))};for(const Oe of Ke(this,gx))Me.properties=Ke(this,W1).get(Oe),Me.div=Oe,Hs(this,Up,tE).call(this,Me)}}cancel(){var Ee;const e=new AbortException("TextLayer task cancelled.");(Ee=Ke(this,xx))==null||Ee.cancel(e).catch(()=>{}),Ls(this,xx,null),Ke(this,Fm).reject(e)}get textDivs(){return Ke(this,gx)}get textContentItemsStr(){return Ke(this,G1)}static cleanup(){if(!(Ke(this,S0).size>0)){Ke(this,_0).clear();for(const{canvas:e}of Ke(this,yx).values())e.remove();Ke(this,yx).clear()}}},Fm=new WeakMap,Fc=new WeakMap,V1=new WeakMap,U1=new WeakMap,fx=new WeakMap,wp=new WeakMap,H1=new WeakMap,q1=new WeakMap,xx=new WeakMap,j0=new WeakMap,E0=new WeakMap,Om=new WeakMap,w0=new WeakMap,G1=new WeakMap,R0=new WeakMap,gx=new WeakMap,W1=new WeakMap,Z1=new WeakMap,_0=new WeakMap,yx=new WeakMap,K1=new WeakMap,Im=new WeakMap,S0=new WeakMap,Up=new WeakSet,i5=function(e){var Te,De;if(Ke(this,V1))return;(De=Ke(this,wp)).ctx??(De.ctx=Hs(Te=za,Nu,Lb).call(Te,Ke(this,fx)));const Ee=Ke(this,gx),Ce=Ke(this,G1);for(const Me of e){if(Ee.length>MAX_TEXT_DIVS_TO_RENDER){warn("Ignoring additional textDivs for performance reasons."),Ls(this,V1,!0);return}if(Me.str===void 0){if(Me.type==="beginMarkedContentProps"||Me.type==="beginMarkedContent"){const Oe=Ke(this,Fc);Ls(this,Fc,document.createElement("span")),Ke(this,Fc).classList.add("markedContent"),Me.id&&Ke(this,Fc).setAttribute("id",`${Me.id}`),Oe.append(Ke(this,Fc))}else Me.type==="endMarkedContent"&&Ls(this,Fc,Ke(this,Fc).parentNode);continue}Ce.push(Me.str),Hs(this,Up,n5).call(this,Me)}},n5=function(e){var Qe;const Ee=document.createElement("span"),Ce={angle:0,canvasWidth:0,hasText:e.str!=="",hasEOL:e.hasEOL,fontSize:0};Ke(this,gx).push(Ee);const Te=Util.transform(Ke(this,Z1),e.transform);let De=Math.atan2(Te[1],Te[0]);const Me=Ke(this,w0)[e.fontName];Me.vertical&&(De+=Math.PI/2);let Oe=Ke(this,U1)&&Me.fontSubstitution||Me.fontFamily;Oe=za.fontFamilyMap.get(Oe)||Oe;const Be=Math.hypot(Te[2],Te[3]),ze=Be*Hs(Qe=za,Nu,o5).call(Qe,Oe,Me,Ke(this,fx));let Ve,qe;De===0?(Ve=Te[4],qe=Te[5]-ze):(Ve=Te[4]+ze*Math.sin(De),qe=Te[5]-ze*Math.cos(De));const We="calc(var(--total-scale-factor) *",Ge=Ee.style;Ke(this,Fc)===Ke(this,j0)?(Ge.left=`${(100*Ve/Ke(this,q1)).toFixed(2)}%`,Ge.top=`${(100*qe/Ke(this,H1)).toFixed(2)}%`):(Ge.left=`${We}${Ve.toFixed(2)}px)`,Ge.top=`${We}${qe.toFixed(2)}px)`),Ge.fontSize=`${We}${(Ke(za,Im)*Be).toFixed(2)}px)`,Ge.fontFamily=Oe,Ce.fontSize=Be,Ee.setAttribute("role","presentation"),Ee.textContent=e.str,Ee.dir=e.dir,Ke(this,U1)&&(Ee.dataset.fontName=Me.fontSubstitutionLoadedName||e.fontName),De!==0&&(Ce.angle=De*(180/Math.PI));let Je=!1;if(e.str.length>1)Je=!0;else if(e.str!==" "&&e.transform[0]!==e.transform[3]){const ns=Math.abs(e.transform[0]),Ye=Math.abs(e.transform[3]);ns!==Ye&&Math.max(ns,Ye)/Math.min(ns,Ye)>1.5&&(Je=!0)}if(Je&&(Ce.canvasWidth=Me.vertical?e.height:e.width),Ke(this,W1).set(Ee,Ce),Ke(this,wp).div=Ee,Ke(this,wp).properties=Ce,Hs(this,Up,tE).call(this,Ke(this,wp)),Ce.hasText&&Ke(this,Fc).append(Ee),Ce.hasEOL){const ns=document.createElement("br");ns.setAttribute("role","presentation"),Ke(this,Fc).append(ns)}},tE=function(e){var Oe;const{div:Ee,properties:Ce,ctx:Te}=e,{style:De}=Ee;let Me="";if(Ke(za,Im)>1&&(Me=`scale(${1/Ke(za,Im)})`),Ce.canvasWidth!==0&&Ce.hasText){const{fontFamily:Be}=De,{canvasWidth:ze,fontSize:Ve}=Ce;Hs(Oe=za,Nu,sE).call(Oe,Te,Ve*Ke(this,Om),Be);const{width:qe}=Te.measureText(Ee.textContent);qe>0&&(Me=`scaleX(${ze*Ke(this,Om)/qe}) ${Me}`)}Ce.angle!==0&&(Me=`rotate(${Ce.angle}deg) ${Me}`),Me.length>0&&(De.transform=Me)},Nu=new WeakSet,Lb=function(e=null){let Ee=Ke(this,yx).get(e||(e=""));if(!Ee){const Ce=document.createElement("canvas");Ce.className="hiddenCanvasElement",Ce.lang=e,document.body.append(Ce),Ee=Ce.getContext("2d",{alpha:!1,willReadFrequently:!0}),Ke(this,yx).set(e,Ee),Ke(this,K1).set(Ee,{size:0,family:""})}return Ee},sE=function(e,Ee,Ce){const Te=Ke(this,K1).get(e);Ee===Te.size&&Ce===Te.family||(e.font=`${Ee}px ${Ce}`,Te.size=Ee,Te.family=Ce)},a5=function(){if(Ke(this,Im)!==null)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),Ls(this,Im,e.getBoundingClientRect().height),e.remove()},o5=function(e,Ee,Ce){const Te=Ke(this,_0).get(e);if(Te)return Te;const De=Hs(this,Nu,Lb).call(this,Ce);De.canvas.width=De.canvas.height=DEFAULT_FONT_SIZE,Hs(this,Nu,sE).call(this,De,DEFAULT_FONT_SIZE,e);const Me=De.measureText(""),Oe=Me.fontBoundingBoxAscent,Be=Math.abs(Me.fontBoundingBoxDescent);De.canvas.width=De.canvas.height=0;let ze=.8;return Oe?ze=Oe/(Oe+Be):(util_FeatureTest.platform.isFirefox&&warn("Enable the `dom.textMetrics.fontBoundingBox.enabled` preference in `about:config` to improve TextLayer rendering."),Ee.ascent?ze=Ee.ascent:Ee.descent&&(ze=1+Ee.descent)),Ke(this,_0).set(e,ze),ze},Bs(za,Nu),Bs(za,_0,new Map),Bs(za,yx,new Map),Bs(za,K1,new WeakMap),Bs(za,Im,null),Bs(za,S0,new Set),za);const RENDERING_CANCELLED_TIMEOUT=100;function getDocument(Re={}){typeof Re=="string"||Re instanceof URL?Re={url:Re}:(Re instanceof ArrayBuffer||ArrayBuffer.isView(Re))&&(Re={data:Re});const e=new PDFDocumentLoadingTask,{docId:Ee}=e,Ce=Re.url?getUrlProp(Re.url):null,Te=Re.data?getDataProp(Re.data):null,De=Re.httpHeaders||null,Me=Re.withCredentials===!0,Oe=Re.password??null,Be=Re.range instanceof PDFDataRangeTransport$1?Re.range:null,ze=Number.isInteger(Re.rangeChunkSize)&&Re.rangeChunkSize>0?Re.rangeChunkSize:2**16;let Ve=Re.worker instanceof PDFWorker?Re.worker:null;const qe=Re.verbosity,We=typeof Re.docBaseUrl=="string"&&!isDataScheme(Re.docBaseUrl)?Re.docBaseUrl:null,Ge=getFactoryUrlProp(Re.cMapUrl),Je=Re.cMapPacked!==!1,Qe=Re.CMapReaderFactory||(isNodeJS?NodeCMapReaderFactory:DOMCMapReaderFactory),ns=getFactoryUrlProp(Re.iccUrl),Ye=getFactoryUrlProp(Re.standardFontDataUrl),rs=Re.StandardFontDataFactory||(isNodeJS?NodeStandardFontDataFactory:DOMStandardFontDataFactory),ts=getFactoryUrlProp(Re.wasmUrl),Xe=Re.WasmFactory||(isNodeJS?NodeWasmFactory:DOMWasmFactory),is=Re.stopAtErrors!==!0,os=Number.isInteger(Re.maxImageSize)&&Re.maxImageSize>-1?Re.maxImageSize:-1,hs=Re.isEvalSupported!==!1,fs=typeof Re.isOffscreenCanvasSupported=="boolean"?Re.isOffscreenCanvasSupported:!isNodeJS,xs=typeof Re.isImageDecoderSupported=="boolean"?Re.isImageDecoderSupported:!isNodeJS&&(util_FeatureTest.platform.isFirefox||!globalThis.chrome),Ss=Number.isInteger(Re.canvasMaxAreaInBytes)?Re.canvasMaxAreaInBytes:-1,ds=typeof Re.disableFontFace=="boolean"?Re.disableFontFace:isNodeJS,gs=Re.fontExtraProperties===!0,Ts=Re.enableXfa===!0,Ds=Re.ownerDocument||globalThis.document,Ms=Re.disableRange===!0,bs=Re.disableStream===!0,Ns=Re.disableAutoFetch===!0,ps=Re.pdfBug===!0,_s=Re.CanvasFactory||(isNodeJS?NodeCanvasFactory:DOMCanvasFactory),ws=Re.FilterFactory||(isNodeJS?NodeFilterFactory:DOMFilterFactory),js=Re.enableHWA===!0,ms=Re.useWasm!==!1,ys=Be?Be.length:Re.length??NaN,ks=typeof Re.useSystemFonts=="boolean"?Re.useSystemFonts:!isNodeJS&&!ds,zs=typeof Re.useWorkerFetch=="boolean"?Re.useWorkerFetch:!!(Qe===DOMCMapReaderFactory&&rs===DOMStandardFontDataFactory&&Xe===DOMWasmFactory&&Ge&&Ye&&ts&&isValidFetchUrl(Ge,document.baseURI)&&isValidFetchUrl(Ye,document.baseURI)&&isValidFetchUrl(ts,document.baseURI)),Cs=null;setVerbosityLevel(qe);const Ps={canvasFactory:new _s({ownerDocument:Ds,enableHWA:js}),filterFactory:new ws({docId:Ee,ownerDocument:Ds}),cMapReaderFactory:zs?null:new Qe({baseUrl:Ge,isCompressed:Je}),standardFontDataFactory:zs?null:new rs({baseUrl:Ye}),wasmFactory:zs?null:new Xe({baseUrl:ts})};Ve||(Ve=PDFWorker.create({verbosity:qe,port:GlobalWorkerOptions.workerPort}),e._worker=Ve);const Us={docId:Ee,apiVersion:"5.4.296",data:Te,password:Oe,disableAutoFetch:Ns,rangeChunkSize:ze,length:ys,docBaseUrl:We,enableXfa:Ts,evaluatorOptions:{maxImageSize:os,disableFontFace:ds,ignoreErrors:is,isEvalSupported:hs,isOffscreenCanvasSupported:fs,isImageDecoderSupported:xs,canvasMaxAreaInBytes:Ss,fontExtraProperties:gs,useSystemFonts:ks,useWasm:ms,useWorkerFetch:zs,cMapUrl:Ge,iccUrl:ns,standardFontDataUrl:Ye,wasmUrl:ts}},Is={ownerDocument:Ds,pdfBug:ps,styleElement:Cs,loadingParams:{disableAutoFetch:Ns,enableXfa:Ts}};return Ve.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");if(Ve.destroyed)throw new Error("Worker was destroyed");const Vs=Ve.messageHandler.sendWithPromise("GetDocRequest",Us,Te?[Te.buffer]:null);let Ks;if(Be)Ks=new PDFDataTransportStream(Be,{disableRange:Ms,disableStream:bs});else if(!Te){if(!Ce)throw new Error("getDocument - no `url` parameter provided.");const or=isValidFetchUrl(Ce)?PDFFetchStream:isNodeJS?PDFNodeStream:PDFNetworkStream;Ks=new or({url:Ce,length:ys,httpHeaders:De,withCredentials:Me,rangeChunkSize:ze,disableRange:Ms,disableStream:bs})}return Vs.then(or=>{if(e.destroyed)throw new Error("Loading aborted");if(Ve.destroyed)throw new Error("Worker was destroyed");const rr=new MessageHandler(Ee,or,Ve.port),ur=new WorkerTransport(rr,e,Ks,Is,Ps,js);e._transport=ur,rr.send("Ready",null)})}).catch(e._capability.reject),e}var d2;const h2=class h2{constructor(){qr(this,"_capability",Promise.withResolvers());qr(this,"_transport",null);qr(this,"_worker",null);qr(this,"docId",`d${Ro(h2,d2)._++}`);qr(this,"destroyed",!1);qr(this,"onPassword",null);qr(this,"onProgress",null)}get promise(){return this._capability.promise}async destroy(){var e,Ee,Ce,Te;this.destroyed=!0;try{(e=this._worker)!=null&&e.port&&(this._worker._pendingDestroy=!0),await((Ee=this._transport)==null?void 0:Ee.destroy())}catch(De){throw(Ce=this._worker)!=null&&Ce.port&&delete this._worker._pendingDestroy,De}this._transport=null,(Te=this._worker)==null||Te.destroy(),this._worker=null}async getData(){return this._transport.getData()}};d2=new WeakMap,Bs(h2,d2,0);let PDFDocumentLoadingTask=h2;var vx,Y1,X1,J1,Q1,wR;let PDFDataRangeTransport$1=(wR=class{constructor(e,Ee,Ce=!1,Te=null){Bs(this,vx,Promise.withResolvers());Bs(this,Y1,[]);Bs(this,X1,[]);Bs(this,J1,[]);Bs(this,Q1,[]);this.length=e,this.initialData=Ee,this.progressiveDone=Ce,this.contentDispositionFilename=Te}addRangeListener(e){Ke(this,Q1).push(e)}addProgressListener(e){Ke(this,J1).push(e)}addProgressiveReadListener(e){Ke(this,X1).push(e)}addProgressiveDoneListener(e){Ke(this,Y1).push(e)}onDataRange(e,Ee){for(const Ce of Ke(this,Q1))Ce(e,Ee)}onDataProgress(e,Ee){Ke(this,vx).promise.then(()=>{for(const Ce of Ke(this,J1))Ce(e,Ee)})}onDataProgressiveRead(e){Ke(this,vx).promise.then(()=>{for(const Ee of Ke(this,X1))Ee(e)})}onDataProgressiveDone(){Ke(this,vx).promise.then(()=>{for(const e of Ke(this,Y1))e()})}transportReady(){Ke(this,vx).resolve()}requestDataRange(e,Ee){unreachable("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}},vx=new WeakMap,Y1=new WeakMap,X1=new WeakMap,J1=new WeakMap,Q1=new WeakMap,wR);class PDFDocumentProxy{constructor(e,Ee){this._pdfInfo=e,this._transport=Ee}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getAnnotationsByType(e,Ee){return this._transport.getAnnotationsByType(e,Ee)}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:e="display"}={}){const{renderingIntent:Ee}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(Ee)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Rp,bx,Wy;class PDFPageProxy{constructor(e,Ee,Ce,Te=!1){Bs(this,bx);Bs(this,Rp,!1);this._pageIndex=e,this._pageInfo=Ee,this._transport=Ce,this._stats=Te?new StatTimer:null,this._pdfBug=Te,this.commonObjs=Ce.commonObjs,this.objs=new PDFObjects,this._intentStates=new Map,this.destroyed=!1,this.recordedBBoxes=null}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:Ee=this.rotate,offsetX:Ce=0,offsetY:Te=0,dontFlip:De=!1}={}){return new PageViewport({viewBox:this.view,userUnit:this.userUnit,scale:e,rotation:Ee,offsetX:Ce,offsetY:Te,dontFlip:De})}getAnnotations({intent:e="display"}={}){const{renderingIntent:Ee}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,Ee)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return shadow(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return((e=this._transport._htmlForXfa)==null?void 0:e.children[this._pageIndex])||null}render({canvasContext:e,canvas:Ee=e.canvas,viewport:Ce,intent:Te="display",annotationMode:De=AnnotationMode.ENABLE,transform:Me=null,background:Oe=null,optionalContentConfigPromise:Be=null,annotationCanvasMap:ze=null,pageColors:Ve=null,printAnnotationStorage:qe=null,isEditing:We=!1,recordOperations:Ge=!1,operationsFilter:Je=null}){var xs,Ss,ds;(xs=this._stats)==null||xs.time("Overall");const Qe=this._transport.getRenderingIntent(Te,De,qe,We),{renderingIntent:ns,cacheKey:Ye}=Qe;Ls(this,Rp,!1),Be||(Be=this._transport.getOptionalContentConfig(ns));let rs=this._intentStates.get(Ye);rs||(rs=Object.create(null),this._intentStates.set(Ye,rs)),rs.streamReaderCancelTimeout&&(clearTimeout(rs.streamReaderCancelTimeout),rs.streamReaderCancelTimeout=null);const ts=!!(ns&RenderingIntentFlag.PRINT);rs.displayReadyCapability||(rs.displayReadyCapability=Promise.withResolvers(),rs.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(Ss=this._stats)==null||Ss.time("Page Request"),this._pumpOperatorList(Qe));const Xe=!!(this._pdfBug&&((ds=globalThis.StepperManager)!=null&&ds.enabled)),is=!this.recordedBBoxes&&(Ge||Xe),os=gs=>{var Ts,Ds;if(rs.renderTasks.delete(hs),is){const Ms=(Ts=hs.gfx)==null?void 0:Ts.dependencyTracker.take();Ms&&(hs.stepper&&hs.stepper.setOperatorBBoxes(Ms,hs.gfx.dependencyTracker.takeDebugMetadata()),Ge&&(this.recordedBBoxes=Ms))}ts&&Ls(this,Rp,!0),Hs(this,bx,Wy).call(this),gs?(hs.capability.reject(gs),this._abortOperatorList({intentState:rs,reason:gs instanceof Error?gs:new Error(gs)})):hs.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(Ds=globalThis.Stats)!=null&&Ds.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},hs=new InternalRenderTask({callback:os,params:{canvas:Ee,canvasContext:e,dependencyTracker:is?new CanvasDependencyTracker(Ee,rs.operatorList.length,Xe):null,viewport:Ce,transform:Me,background:Oe},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:ze,operatorList:rs.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!ts,pdfBug:this._pdfBug,pageColors:Ve,enableHWA:this._transport.enableHWA,operationsFilter:Je});(rs.renderTasks||(rs.renderTasks=new Set)).add(hs);const fs=hs.task;return Promise.all([rs.displayReadyCapability.promise,Be]).then(([gs,Ts])=>{var Ds;if(this.destroyed){os();return}if((Ds=this._stats)==null||Ds.time("Rendering"),!(Ts.renderingIntent&ns))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");hs.initializeGraphics({transparency:gs,optionalContentConfig:Ts}),hs.operatorListChanged()}).catch(os),fs}getOperatorList({intent:e="display",annotationMode:Ee=AnnotationMode.ENABLE,printAnnotationStorage:Ce=null,isEditing:Te=!1}={}){var ze;function De(){Oe.operatorList.lastChunk&&(Oe.opListReadCapability.resolve(Oe.operatorList),Oe.renderTasks.delete(Be))}const Me=this._transport.getRenderingIntent(e,Ee,Ce,Te,!0);let Oe=this._intentStates.get(Me.cacheKey);Oe||(Oe=Object.create(null),this._intentStates.set(Me.cacheKey,Oe));let Be;return Oe.opListReadCapability||(Be=Object.create(null),Be.operatorListChanged=De,Oe.opListReadCapability=Promise.withResolvers(),(Oe.renderTasks||(Oe.renderTasks=new Set)).add(Be),Oe.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(ze=this._stats)==null||ze.time("Page Request"),this._pumpOperatorList(Me)),Oe.opListReadCapability.promise}streamTextContent({includeMarkedContent:e=!1,disableNormalization:Ee=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:e===!0,disableNormalization:Ee===!0},{highWaterMark:100,size(Te){return Te.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(Ce=>XfaText.textContent(Ce));const Ee=this.streamTextContent(e);return new Promise(function(Ce,Te){function De(){Me.read().then(function({value:Be,done:ze}){if(ze){Ce(Oe);return}Oe.lang??(Oe.lang=Be.lang),Object.assign(Oe.styles,Be.styles),Oe.items.push(...Be.items),De()},Te)}const Me=Ee.getReader(),Oe={items:[],styles:Object.create(null),lang:null};De()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const Ee of this._intentStates.values())if(this._abortOperatorList({intentState:Ee,reason:new Error("Page was destroyed."),force:!0}),!Ee.opListReadCapability)for(const Ce of Ee.renderTasks)e.push(Ce.completed),Ce.cancel();return this.objs.clear(),Ls(this,Rp,!1),Promise.all(e)}cleanup(e=!1){Ls(this,Rp,!0);const Ee=Hs(this,bx,Wy).call(this);return e&&Ee&&this._stats&&(this._stats=new StatTimer),Ee}_startRenderPage(e,Ee){var Te,De;const Ce=this._intentStates.get(Ee);Ce&&((Te=this._stats)==null||Te.timeEnd("Page Request"),(De=Ce.displayReadyCapability)==null||De.resolve(e))}_renderPageChunk(e,Ee){for(let Ce=0,Te=e.length;Ce<Te;Ce++)Ee.operatorList.fnArray.push(e.fnArray[Ce]),Ee.operatorList.argsArray.push(e.argsArray[Ce]);Ee.operatorList.lastChunk=e.lastChunk,Ee.operatorList.separateAnnots=e.separateAnnots;for(const Ce of Ee.renderTasks)Ce.operatorListChanged();e.lastChunk&&Hs(this,bx,Wy).call(this)}_pumpOperatorList({renderingIntent:e,cacheKey:Ee,annotationStorageSerializable:Ce,modifiedIds:Te}){const{map:De,transfer:Me}=Ce,Be=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:Ee,annotationStorage:De,modifiedIds:Te},Me).getReader(),ze=this._intentStates.get(Ee);ze.streamReader=Be;const Ve=()=>{Be.read().then(({value:qe,done:We})=>{if(We){ze.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(qe,ze),Ve())},qe=>{if(ze.streamReader=null,!this._transport.destroyed){if(ze.operatorList){ze.operatorList.lastChunk=!0;for(const We of ze.renderTasks)We.operatorListChanged();Hs(this,bx,Wy).call(this)}if(ze.displayReadyCapability)ze.displayReadyCapability.reject(qe);else if(ze.opListReadCapability)ze.opListReadCapability.reject(qe);else throw qe}})};Ve()}_abortOperatorList({intentState:e,reason:Ee,force:Ce=!1}){if(e.streamReader){if(e.streamReaderCancelTimeout&&(clearTimeout(e.streamReaderCancelTimeout),e.streamReaderCancelTimeout=null),!Ce){if(e.renderTasks.size>0)return;if(Ee instanceof RenderingCancelledException){let Te=RENDERING_CANCELLED_TIMEOUT;Ee.extraDelay>0&&Ee.extraDelay<1e3&&(Te+=Ee.extraDelay),e.streamReaderCancelTimeout=setTimeout(()=>{e.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:e,reason:Ee,force:!0})},Te);return}}if(e.streamReader.cancel(new AbortException(Ee.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(const[Te,De]of this._intentStates)if(De===e){this._intentStates.delete(Te);break}this.cleanup()}}}get stats(){return this._stats}}Rp=new WeakMap,bx=new WeakSet,Wy=function(){if(!Ke(this,Rp)||this.destroyed)return!1;for(const{renderTasks:e,operatorList:Ee}of this._intentStates.values())if(e.size>0||!Ee.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),Ls(this,Rp,!1),!0};var Bm,Ld,_p,jx,p2,Ex,wx,dc,Mb,l5,c5,Zy,N0,Fb;const va=class va{constructor({name:e=null,port:Ee=null,verbosity:Ce=getVerbosityLevel()}={}){Bs(this,dc);Bs(this,Bm,Promise.withResolvers());Bs(this,Ld,null);Bs(this,_p,null);Bs(this,jx,null);if(this.name=e,this.destroyed=!1,this.verbosity=Ce,Ee){if(Ke(va,wx).has(Ee))throw new Error("Cannot use more than one PDFWorker per port.");Ke(va,wx).set(Ee,this),Hs(this,dc,l5).call(this,Ee)}else Hs(this,dc,c5).call(this)}get promise(){return Ke(this,Bm).promise}get port(){return Ke(this,_p)}get messageHandler(){return Ke(this,Ld)}destroy(){var e,Ee;this.destroyed=!0,(e=Ke(this,jx))==null||e.terminate(),Ls(this,jx,null),Ke(va,wx).delete(Ke(this,_p)),Ls(this,_p,null),(Ee=Ke(this,Ld))==null||Ee.destroy(),Ls(this,Ld,null)}static create(e){const Ee=Ke(this,wx).get(e==null?void 0:e.port);if(Ee){if(Ee._pendingDestroy)throw new Error("PDFWorker.create - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return Ee}return new va(e)}static get workerSrc(){if(GlobalWorkerOptions.workerSrc)return GlobalWorkerOptions.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return shadow(this,"_setupFakeWorkerGlobal",(async()=>Ke(this,N0,Fb)?Ke(this,N0,Fb):(await import(this.workerSrc)).WorkerMessageHandler)())}};Bm=new WeakMap,Ld=new WeakMap,_p=new WeakMap,jx=new WeakMap,p2=new WeakMap,Ex=new WeakMap,wx=new WeakMap,dc=new WeakSet,Mb=function(){Ke(this,Bm).resolve(),Ke(this,Ld).send("configure",{verbosity:this.verbosity})},l5=function(e){Ls(this,_p,e),Ls(this,Ld,new MessageHandler("main","worker",e)),Ke(this,Ld).on("ready",()=>{}),Hs(this,dc,Mb).call(this)},c5=function(){if(Ke(va,Ex)||Ke(va,N0,Fb)){Hs(this,dc,Zy).call(this);return}let{workerSrc:e}=va;try{va._isSameOrigin(window.location,e)||(e=va._createCDNWrapper(new URL(e,window.location).href));const Ee=new Worker(e,{type:"module"}),Ce=new MessageHandler("main","worker",Ee),Te=()=>{De.abort(),Ce.destroy(),Ee.terminate(),this.destroyed?Ke(this,Bm).reject(new Error("Worker was destroyed")):Hs(this,dc,Zy).call(this)},De=new AbortController;Ee.addEventListener("error",()=>{Ke(this,jx)||Te()},{signal:De.signal}),Ce.on("test",Oe=>{if(De.abort(),this.destroyed||!Oe){Te();return}Ls(this,Ld,Ce),Ls(this,_p,Ee),Ls(this,jx,Ee),Hs(this,dc,Mb).call(this)}),Ce.on("ready",Oe=>{if(De.abort(),this.destroyed){Te();return}try{Me()}catch{Hs(this,dc,Zy).call(this)}});const Me=()=>{const Oe=new Uint8Array;Ce.send("test",Oe,[Oe.buffer])};Me();return}catch{info("The worker has been disabled.")}Hs(this,dc,Zy).call(this)},Zy=function(){Ke(va,Ex)||(warn("Setting up fake worker."),Ls(va,Ex,!0)),va._setupFakeWorkerGlobal.then(e=>{if(this.destroyed){Ke(this,Bm).reject(new Error("Worker was destroyed"));return}const Ee=new LoopbackPort;Ls(this,_p,Ee);const Ce=`fake${Ro(va,p2)._++}`,Te=new MessageHandler(Ce+"_worker",Ce,Ee);e.setup(Te,Ee),Ls(this,Ld,new MessageHandler(Ce,Ce+"_worker",Ee)),Hs(this,dc,Mb).call(this)}).catch(e=>{Ke(this,Bm).reject(new Error(`Setting up fake worker failed: "${e.message}".`))})},N0=new WeakSet,Fb=function(){var e;try{return((e=globalThis.pdfjsWorker)==null?void 0:e.WorkerMessageHandler)||null}catch{return null}},Bs(va,N0),Bs(va,p2,0),Bs(va,Ex,!1),Bs(va,wx,new WeakMap),isNodeJS&&(Ls(va,Ex,!0),GlobalWorkerOptions.workerSrc||(GlobalWorkerOptions.workerSrc="./pdf.worker.mjs")),va._isSameOrigin=(e,Ee)=>{const Ce=URL.parse(e);if(!(Ce!=null&&Ce.origin)||Ce.origin==="null")return!1;const Te=new URL(Ee,Ce);return Ce.origin===Te.origin},va._createCDNWrapper=e=>{const Ee=`await import("${e}");`;return URL.createObjectURL(new Blob([Ee],{type:"text/javascript"}))},va.fromPort=e=>{if(deprecated("`PDFWorker.fromPort` - please use `PDFWorker.create` instead."),!(e!=null&&e.port))throw new Error("PDFWorker.fromPort - invalid method signature.");return va.create(e)};let PDFWorker=va;var Sp,bh,A0,C0,Np,Rx,Ky;class WorkerTransport{constructor(e,Ee,Ce,Te,De,Me){Bs(this,Rx);Bs(this,Sp,new Map);Bs(this,bh,new Map);Bs(this,A0,new Map);Bs(this,C0,new Map);Bs(this,Np,null);this.messageHandler=e,this.loadingTask=Ee,this.commonObjs=new PDFObjects,this.fontLoader=new FontLoader({ownerDocument:Te.ownerDocument,styleElement:Te.styleElement}),this.loadingParams=Te.loadingParams,this._params=Te,this.canvasFactory=De.canvasFactory,this.filterFactory=De.filterFactory,this.cMapReaderFactory=De.cMapReaderFactory,this.standardFontDataFactory=De.standardFontDataFactory,this.wasmFactory=De.wasmFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=Ce,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.enableHWA=Me,this.setupMessageHandler()}get annotationStorage(){return shadow(this,"annotationStorage",new AnnotationStorage)}getRenderingIntent(e,Ee=AnnotationMode.ENABLE,Ce=null,Te=!1,De=!1){let Me=RenderingIntentFlag.DISPLAY,Oe=SerializableEmpty;switch(e){case"any":Me=RenderingIntentFlag.ANY;break;case"display":break;case"print":Me=RenderingIntentFlag.PRINT;break;default:warn(`getRenderingIntent - invalid intent: ${e}`)}const Be=Me&RenderingIntentFlag.PRINT&&Ce instanceof PrintAnnotationStorage?Ce:this.annotationStorage;switch(Ee){case AnnotationMode.DISABLE:Me+=RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case AnnotationMode.ENABLE:break;case AnnotationMode.ENABLE_FORMS:Me+=RenderingIntentFlag.ANNOTATIONS_FORMS;break;case AnnotationMode.ENABLE_STORAGE:Me+=RenderingIntentFlag.ANNOTATIONS_STORAGE,Oe=Be.serializable;break;default:warn(`getRenderingIntent - invalid annotationMode: ${Ee}`)}Te&&(Me+=RenderingIntentFlag.IS_EDITING),De&&(Me+=RenderingIntentFlag.OPLIST);const{ids:ze,hash:Ve}=Be.modifiedIds,qe=[Me,Oe.hash,Ve];return{renderingIntent:Me,cacheKey:qe.join("_"),annotationStorageSerializable:Oe,modifiedIds:ze}}destroy(){var Ce;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(Ce=Ke(this,Np))==null||Ce.reject(new Error("Worker was destroyed during onPassword callback"));const e=[];for(const Te of Ke(this,bh).values())e.push(Te._destroy());Ke(this,bh).clear(),Ke(this,A0).clear(),Ke(this,C0).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const Ee=this.messageHandler.sendWithPromise("Terminate",null);return e.push(Ee),Promise.all(e).then(()=>{var Te,De;this.commonObjs.clear(),this.fontLoader.clear(),Ke(this,Sp).clear(),this.filterFactory.destroy(),TextLayer$1.cleanup(),(Te=this._networkStream)==null||Te.cancelAllRequests(new AbortException("Worker was terminated.")),(De=this.messageHandler)==null||De.destroy(),this.messageHandler=null,this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:Ee}=this;e.on("GetReader",(Ce,Te)=>{assert(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=De=>{this._lastProgress={loaded:De.loaded,total:De.total}},Te.onPull=()=>{this._fullReader.read().then(function({value:De,done:Me}){if(Me){Te.close();return}assert(De instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),Te.enqueue(new Uint8Array(De),1,[De])}).catch(De=>{Te.error(De)})},Te.onCancel=De=>{this._fullReader.cancel(De),Te.ready.catch(Me=>{if(!this.destroyed)throw Me})}}),e.on("ReaderHeadersReady",async Ce=>{var Oe;await this._fullReader.headersReady;const{isStreamingSupported:Te,isRangeSupported:De,contentLength:Me}=this._fullReader;return(!Te||!De)&&(this._lastProgress&&((Oe=Ee.onProgress)==null||Oe.call(Ee,this._lastProgress)),this._fullReader.onProgress=Be=>{var ze;(ze=Ee.onProgress)==null||ze.call(Ee,{loaded:Be.loaded,total:Be.total})}),{isStreamingSupported:Te,isRangeSupported:De,contentLength:Me}}),e.on("GetRangeReader",(Ce,Te)=>{assert(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const De=this._networkStream.getRangeReader(Ce.begin,Ce.end);if(!De){Te.close();return}Te.onPull=()=>{De.read().then(function({value:Me,done:Oe}){if(Oe){Te.close();return}assert(Me instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),Te.enqueue(new Uint8Array(Me),1,[Me])}).catch(Me=>{Te.error(Me)})},Te.onCancel=Me=>{De.cancel(Me),Te.ready.catch(Oe=>{if(!this.destroyed)throw Oe})}}),e.on("GetDoc",({pdfInfo:Ce})=>{this._numPages=Ce.numPages,this._htmlForXfa=Ce.htmlForXfa,delete Ce.htmlForXfa,Ee._capability.resolve(new PDFDocumentProxy(Ce,this))}),e.on("DocException",Ce=>{Ee._capability.reject(wrapReason(Ce))}),e.on("PasswordRequest",Ce=>{Ls(this,Np,Promise.withResolvers());try{if(!Ee.onPassword)throw wrapReason(Ce);const Te=De=>{De instanceof Error?Ke(this,Np).reject(De):Ke(this,Np).resolve({password:De})};Ee.onPassword(Te,Ce.code)}catch(Te){Ke(this,Np).reject(Te)}return Ke(this,Np).promise}),e.on("DataLoaded",Ce=>{var Te;(Te=Ee.onProgress)==null||Te.call(Ee,{loaded:Ce.length,total:Ce.length}),this.downloadInfoCapability.resolve(Ce)}),e.on("StartRenderPage",Ce=>{if(this.destroyed)return;Ke(this,bh).get(Ce.pageIndex)._startRenderPage(Ce.transparency,Ce.cacheKey)}),e.on("commonobj",([Ce,Te,De])=>{var Me;if(this.destroyed||this.commonObjs.has(Ce))return null;switch(Te){case"Font":if("error"in De){const qe=De.error;warn(`Error during font loading: ${qe}`),this.commonObjs.resolve(Ce,qe);break}const Oe=new FontInfo(De),Be=this._params.pdfBug&&((Me=globalThis.FontInspector)!=null&&Me.enabled)?(qe,We)=>globalThis.FontInspector.fontAdded(qe,We):null,ze=new FontFaceObject(Oe,Be,De.extra,De.charProcOperatorList);this.fontLoader.bind(ze).catch(()=>e.sendWithPromise("FontFallback",{id:Ce})).finally(()=>{!ze.fontExtraProperties&&ze.data&&ze.clearData(),this.commonObjs.resolve(Ce,ze)});break;case"CopyLocalImage":const{imageRef:Ve}=De;assert(Ve,"The imageRef must be defined.");for(const qe of Ke(this,bh).values())for(const[,We]of qe.objs)if((We==null?void 0:We.ref)===Ve)return We.dataLen?(this.commonObjs.resolve(Ce,structuredClone(We)),We.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(Ce,De);break;default:throw new Error(`Got unknown common object type ${Te}`)}return null}),e.on("obj",([Ce,Te,De,Me])=>{var Be;if(this.destroyed)return;const Oe=Ke(this,bh).get(Te);if(!Oe.objs.has(Ce)){if(Oe._intentStates.size===0){(Be=Me==null?void 0:Me.bitmap)==null||Be.close();return}switch(De){case"Image":case"Pattern":Oe.objs.resolve(Ce,Me);break;default:throw new Error(`Got unknown object type ${De}`)}}}),e.on("DocProgress",Ce=>{var Te;this.destroyed||(Te=Ee.onProgress)==null||Te.call(Ee,{loaded:Ce.loaded,total:Ce.total})}),e.on("FetchBinaryData",async Ce=>{if(this.destroyed)throw new Error("Worker was destroyed.");const Te=this[Ce.type];if(!Te)throw new Error(`${Ce.type} not initialized, see the \`useWorkerFetch\` parameter.`);return Te.fetch(Ce)})}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var Ce;this.annotationStorage.size<=0&&warn("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:e,transfer:Ee}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:e,filename:((Ce=this._fullReader)==null?void 0:Ce.filename)??null},Ee).finally(()=>{this.annotationStorage.resetModified()})}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const Ee=e-1,Ce=Ke(this,A0).get(Ee);if(Ce)return Ce;const Te=this.messageHandler.sendWithPromise("GetPage",{pageIndex:Ee}).then(De=>{if(this.destroyed)throw new Error("Transport destroyed");De.refStr&&Ke(this,C0).set(De.refStr,e);const Me=new PDFPageProxy(Ee,De,this,this._params.pdfBug);return Ke(this,bh).set(Ee,Me),Me});return Ke(this,A0).set(Ee,Te),Te}getPageIndex(e){return isRefProxy(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,Ee){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:Ee})}getFieldObjects(){return Hs(this,Rx,Ky).call(this,"GetFieldObjects")}hasJSActions(){return Hs(this,Rx,Ky).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getAnnotationsByType(e,Ee){return this.messageHandler.sendWithPromise("GetAnnotationsByType",{types:e,pageIndexesToSkip:Ee})}getDocJSActions(){return Hs(this,Rx,Ky).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return Hs(this,Rx,Ky).call(this,"GetOptionalContentConfig").then(Ee=>new OptionalContentConfig(Ee,e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",Ee=Ke(this,Sp).get(e);if(Ee)return Ee;const Ce=this.messageHandler.sendWithPromise(e,null).then(Te=>{var De,Me;return{info:Te[0],metadata:Te[1]?new Metadata(Te[1]):null,contentDispositionFilename:((De=this._fullReader)==null?void 0:De.filename)??null,contentLength:((Me=this._fullReader)==null?void 0:Me.contentLength)??null}});return Ke(this,Sp).set(e,Ce),Ce}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const Ee of Ke(this,bh).values())if(!Ee.cleanup())throw new Error(`startCleanup: Page ${Ee.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),Ke(this,Sp).clear(),this.filterFactory.destroy(!0),TextLayer$1.cleanup()}}cachedPageNumber(e){if(!isRefProxy(e))return null;const Ee=e.gen===0?`${e.num}R`:`${e.num}R${e.gen}`;return Ke(this,C0).get(Ee)??null}}Sp=new WeakMap,bh=new WeakMap,A0=new WeakMap,C0=new WeakMap,Np=new WeakMap,Rx=new WeakSet,Ky=function(e,Ee=null){const Ce=Ke(this,Sp).get(e);if(Ce)return Ce;const Te=this.messageHandler.sendWithPromise(e,Ee);return Ke(this,Sp).set(e,Te),Te};var zm;class RenderTask{constructor(e){Bs(this,zm,null);qr(this,"onContinue",null);qr(this,"onError",null);Ls(this,zm,e)}get promise(){return Ke(this,zm).capability.promise}cancel(e=0){Ke(this,zm).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=Ke(this,zm).operatorList;if(!e)return!1;const{annotationCanvasMap:Ee}=Ke(this,zm);return e.form||e.canvas&&(Ee==null?void 0:Ee.size)>0}}zm=new WeakMap;var $m,_x;const If=class If{constructor({callback:e,params:Ee,objs:Ce,commonObjs:Te,annotationCanvasMap:De,operatorList:Me,pageIndex:Oe,canvasFactory:Be,filterFactory:ze,useRequestAnimationFrame:Ve=!1,pdfBug:qe=!1,pageColors:We=null,enableHWA:Ge=!1,operationsFilter:Je=null}){Bs(this,$m,null);this.callback=e,this.params=Ee,this.objs=Ce,this.commonObjs=Te,this.annotationCanvasMap=De,this.operatorListIdx=null,this.operatorList=Me,this._pageIndex=Oe,this.canvasFactory=Be,this.filterFactory=ze,this._pdfBug=qe,this.pageColors=We,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=Ve===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=Ee.canvas,this._canvasContext=Ee.canvas?null:Ee.canvasContext,this._enableHWA=Ge,this._dependencyTracker=Ee.dependencyTracker,this._operationsFilter=Je}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:Ee}){var Be,ze;if(this.cancelled)return;if(this._canvas){if(Ke(If,_x).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");Ke(If,_x).add(this._canvas)}this._pdfBug&&((Be=globalThis.StepperManager)!=null&&Be.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{viewport:Ce,transform:Te,background:De,dependencyTracker:Me}=this.params,Oe=this._canvasContext||this._canvas.getContext("2d",{alpha:!1,willReadFrequently:!this._enableHWA});this.gfx=new CanvasGraphics(Oe,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:Ee},this.annotationCanvasMap,this.pageColors,Me),this.gfx.beginDrawing({transform:Te,viewport:Ce,transparency:e,background:De}),this.operatorListIdx=0,this.graphicsReady=!0,(ze=this.graphicsReadyCallback)==null||ze.call(this)}cancel(e=null,Ee=0){var Ce,Te,De;this.running=!1,this.cancelled=!0,(Ce=this.gfx)==null||Ce.endDrawing(),Ke(this,$m)&&(window.cancelAnimationFrame(Ke(this,$m)),Ls(this,$m,null)),Ke(If,_x).delete(this._canvas),e||(e=new RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,Ee)),this.callback(e),(De=(Te=this.task).onError)==null||De.call(Te,e)}operatorListChanged(){var e,Ee;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(e=this.gfx.dependencyTracker)==null||e.growOperationsCount(this.operatorList.fnArray.length),(Ee=this.stepper)==null||Ee.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?Ls(this,$m,window.requestAnimationFrame(()=>{Ls(this,$m,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper,this._operationsFilter),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),Ke(If,_x).delete(this._canvas),this.callback())))}};$m=new WeakMap,_x=new WeakMap,Bs(If,_x,new WeakSet);let InternalRenderTask=If;const version="5.4.296",build="f56dc8601";var mu,Sx,P0,No,ev,T0,Ap,tv,Vm,Md,sv,Hn,rE,iE,nE,Lf,u5,mm;const Tc=class Tc{constructor({editor:e=null,uiManager:Ee=null}){Bs(this,Hn);Bs(this,mu,null);Bs(this,Sx,null);Bs(this,P0);Bs(this,No,null);Bs(this,ev,!1);Bs(this,T0,!1);Bs(this,Ap,null);Bs(this,tv);Bs(this,Vm,null);Bs(this,Md,null);var Ce,Te;e?(Ls(this,T0,!1),Ls(this,Ap,e)):Ls(this,T0,!0),Ls(this,Md,(e==null?void 0:e._uiManager)||Ee),Ls(this,tv,Ke(this,Md)._eventBus),Ls(this,P0,((Ce=e==null?void 0:e.color)==null?void 0:Ce.toUpperCase())||((Te=Ke(this,Md))==null?void 0:Te.highlightColors.values().next().value)||"#FFFF98"),Ke(Tc,sv)||Ls(Tc,sv,Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}static get _keyboardManager(){return shadow(this,"_keyboardManager",new KeyboardManager([[["Escape","mac+Escape"],Tc.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Tc.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Tc.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Tc.prototype._moveToPrevious],[["Home","mac+Home"],Tc.prototype._moveToBeginning],[["End","mac+End"],Tc.prototype._moveToEnd]]))}renderButton(){const e=Ls(this,mu,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.ariaHasPopup="true",Ke(this,Ap)&&(e.ariaControls=`${Ke(this,Ap).id}_colorpicker_dropdown`);const Ee=Ke(this,Md)._signal;e.addEventListener("click",Hs(this,Hn,Lf).bind(this),{signal:Ee}),e.addEventListener("keydown",Hs(this,Hn,nE).bind(this),{signal:Ee});const Ce=Ls(this,Sx,document.createElement("span"));return Ce.className="swatch",Ce.ariaHidden="true",Ce.style.backgroundColor=Ke(this,P0),e.append(Ce),e}renderMainDropdown(){const e=Ls(this,No,Hs(this,Hn,rE).call(this));return e.ariaOrientation="horizontal",e.ariaLabelledBy="highlightColorPickerLabel",e}_colorSelectFromKeyboard(e){if(e.target===Ke(this,mu)){Hs(this,Hn,Lf).call(this,e);return}const Ee=e.target.getAttribute("data-color");Ee&&Hs(this,Hn,iE).call(this,Ee,e)}_moveToNext(e){var Ee,Ce;if(!Ke(this,Hn,mm)){Hs(this,Hn,Lf).call(this,e);return}if(e.target===Ke(this,mu)){(Ee=Ke(this,No).firstChild)==null||Ee.focus();return}(Ce=e.target.nextSibling)==null||Ce.focus()}_moveToPrevious(e){var Ee,Ce;if(e.target===((Ee=Ke(this,No))==null?void 0:Ee.firstChild)||e.target===Ke(this,mu)){Ke(this,Hn,mm)&&this._hideDropdownFromKeyboard();return}Ke(this,Hn,mm)||Hs(this,Hn,Lf).call(this,e),(Ce=e.target.previousSibling)==null||Ce.focus()}_moveToBeginning(e){var Ee;if(!Ke(this,Hn,mm)){Hs(this,Hn,Lf).call(this,e);return}(Ee=Ke(this,No).firstChild)==null||Ee.focus()}_moveToEnd(e){var Ee;if(!Ke(this,Hn,mm)){Hs(this,Hn,Lf).call(this,e);return}(Ee=Ke(this,No).lastChild)==null||Ee.focus()}hideDropdown(){var e,Ee;(e=Ke(this,No))==null||e.classList.add("hidden"),Ke(this,mu).ariaExpanded="false",(Ee=Ke(this,Vm))==null||Ee.abort(),Ls(this,Vm,null)}_hideDropdownFromKeyboard(){var e;if(!Ke(this,T0)){if(!Ke(this,Hn,mm)){(e=Ke(this,Ap))==null||e.unselect();return}this.hideDropdown(),Ke(this,mu).focus({preventScroll:!0,focusVisible:Ke(this,ev)})}}updateColor(e){if(Ke(this,Sx)&&(Ke(this,Sx).style.backgroundColor=e),!Ke(this,No))return;const Ee=Ke(this,Md).highlightColors.values();for(const Ce of Ke(this,No).children)Ce.ariaSelected=Ee.next().value===e.toUpperCase()}destroy(){var e,Ee;(e=Ke(this,mu))==null||e.remove(),Ls(this,mu,null),Ls(this,Sx,null),(Ee=Ke(this,No))==null||Ee.remove(),Ls(this,No,null)}};mu=new WeakMap,Sx=new WeakMap,P0=new WeakMap,No=new WeakMap,ev=new WeakMap,T0=new WeakMap,Ap=new WeakMap,tv=new WeakMap,Vm=new WeakMap,Md=new WeakMap,sv=new WeakMap,Hn=new WeakSet,rE=function(){const e=document.createElement("div"),Ee=Ke(this,Md)._signal;e.addEventListener("contextmenu",noContextMenu,{signal:Ee}),e.className="dropdown",e.role="listbox",e.ariaMultiSelectable="false",e.ariaOrientation="vertical",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown"),Ke(this,Ap)&&(e.id=`${Ke(this,Ap).id}_colorpicker_dropdown`);for(const[Ce,Te]of Ke(this,Md).highlightColors){const De=document.createElement("button");De.tabIndex="0",De.role="option",De.setAttribute("data-color",Te),De.title=Ce,De.setAttribute("data-l10n-id",Ke(Tc,sv)[Ce]);const Me=document.createElement("span");De.append(Me),Me.className="swatch",Me.style.backgroundColor=Te,De.ariaSelected=Te===Ke(this,P0),De.addEventListener("click",Hs(this,Hn,iE).bind(this,Te),{signal:Ee}),e.append(De)}return e.addEventListener("keydown",Hs(this,Hn,nE).bind(this),{signal:Ee}),e},iE=function(e,Ee){Ee.stopPropagation(),Ke(this,tv).dispatch("switchannotationeditorparams",{source:this,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,value:e}),this.updateColor(e)},nE=function(e){Tc._keyboardManager.exec(this,e)},Lf=function(e){if(Ke(this,Hn,mm)){this.hideDropdown();return}if(Ls(this,ev,e.detail===0),Ke(this,Vm)||(Ls(this,Vm,new AbortController),window.addEventListener("pointerdown",Hs(this,Hn,u5).bind(this),{signal:Ke(this,Md).combinedSignal(Ke(this,Vm))})),Ke(this,mu).ariaExpanded="true",Ke(this,No)){Ke(this,No).classList.remove("hidden");return}const Ee=Ls(this,No,Hs(this,Hn,rE).call(this));Ke(this,mu).append(Ee)},u5=function(e){var Ee;(Ee=Ke(this,No))!=null&&Ee.contains(e.target)||this.hideDropdown()},mm=function(){return Ke(this,No)&&!Ke(this,No).classList.contains("hidden")},Bs(Tc,sv,null);let ColorPicker=Tc;var jh,rv,k0,iv;const Bf=class Bf{constructor(e){Bs(this,jh,null);Bs(this,rv,null);Bs(this,k0,null);Ls(this,rv,e),Ls(this,k0,e._uiManager),Ke(Bf,iv)||Ls(Bf,iv,Object.freeze({freetext:"pdfjs-editor-color-picker-free-text-input",ink:"pdfjs-editor-color-picker-ink-input"}))}renderButton(){if(Ke(this,jh))return Ke(this,jh);const{editorType:e,colorType:Ee,colorValue:Ce}=Ke(this,rv),Te=Ls(this,jh,document.createElement("input"));return Te.type="color",Te.value=Ce||"#000000",Te.className="basicColorPicker",Te.tabIndex=0,Te.setAttribute("data-l10n-id",Ke(Bf,iv)[e]),Te.addEventListener("input",()=>{Ke(this,k0).updateParams(Ee,Te.value)},{signal:Ke(this,k0)._signal}),Te}update(e){Ke(this,jh)&&(Ke(this,jh).value=e)}destroy(){var e;(e=Ke(this,jh))==null||e.remove(),Ls(this,jh,null)}hideDropdown(){}};jh=new WeakMap,rv=new WeakMap,k0=new WeakMap,iv=new WeakMap,Bs(Bf,iv,null);let BasicColorPicker=Bf;function makeColorComp(Re){return Math.floor(Math.max(0,Math.min(1,Re))*255).toString(16).padStart(2,"0")}function scaleAndClamp(Re){return Math.max(0,Math.min(255,255*Re))}class ColorConverters{static CMYK_G([e,Ee,Ce,Te]){return["G",1-Math.min(1,.3*e+.59*Ce+.11*Ee+Te)]}static G_CMYK([e]){return["CMYK",0,0,0,1-e]}static G_RGB([e]){return["RGB",e,e,e]}static G_rgb([e]){return e=scaleAndClamp(e),[e,e,e]}static G_HTML([e]){const Ee=makeColorComp(e);return`#${Ee}${Ee}${Ee}`}static RGB_G([e,Ee,Ce]){return["G",.3*e+.59*Ee+.11*Ce]}static RGB_rgb(e){return e.map(scaleAndClamp)}static RGB_HTML(e){return`#${e.map(makeColorComp).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([e,Ee,Ce,Te]){return["RGB",1-Math.min(1,e+Te),1-Math.min(1,Ce+Te),1-Math.min(1,Ee+Te)]}static CMYK_rgb([e,Ee,Ce,Te]){return[scaleAndClamp(1-Math.min(1,e+Te)),scaleAndClamp(1-Math.min(1,Ce+Te)),scaleAndClamp(1-Math.min(1,Ee+Te))]}static CMYK_HTML(e){const Ee=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(Ee)}static RGB_CMYK([e,Ee,Ce]){const Te=1-e,De=1-Ee,Me=1-Ce,Oe=Math.min(Te,De,Me);return["CMYK",Te,De,Me,Oe]}}class BaseSVGFactory{create(e,Ee,Ce=!1){if(e<=0||Ee<=0)throw new Error("Invalid SVG dimensions");const Te=this._createSVG("svg:svg");return Te.setAttribute("version","1.1"),Ce||(Te.setAttribute("width",`${e}px`),Te.setAttribute("height",`${Ee}px`)),Te.setAttribute("preserveAspectRatio","none"),Te.setAttribute("viewBox",`0 0 ${e} ${Ee}`),Te}createElement(e){if(typeof e!="string")throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){unreachable("Abstract method `_createSVG` called.")}}class DOMSVGFactory extends BaseSVGFactory{_createSVG(e){return document.createElementNS(SVG_NS,e)}}const annotation_layer_DEFAULT_FONT_SIZE=9,GetElementsByNameSet=new WeakSet,TIMEZONE_OFFSET=new Date().getTimezoneOffset()*60*1e3;class AnnotationElementFactory{static create(e){switch(e.data.annotationType){case AnnotationType.LINK:return new LinkAnnotationElement(e);case AnnotationType.TEXT:return new TextAnnotationElement(e);case AnnotationType.WIDGET:switch(e.data.fieldType){case"Tx":return new TextWidgetAnnotationElement(e);case"Btn":return e.data.radioButton?new RadioButtonWidgetAnnotationElement(e):e.data.checkBox?new CheckboxWidgetAnnotationElement(e):new PushButtonWidgetAnnotationElement(e);case"Ch":return new ChoiceWidgetAnnotationElement(e);case"Sig":return new SignatureWidgetAnnotationElement(e)}return new WidgetAnnotationElement(e);case AnnotationType.POPUP:return new PopupAnnotationElement(e);case AnnotationType.FREETEXT:return new FreeTextAnnotationElement(e);case AnnotationType.LINE:return new LineAnnotationElement(e);case AnnotationType.SQUARE:return new SquareAnnotationElement(e);case AnnotationType.CIRCLE:return new CircleAnnotationElement(e);case AnnotationType.POLYLINE:return new PolylineAnnotationElement(e);case AnnotationType.CARET:return new CaretAnnotationElement(e);case AnnotationType.INK:return new InkAnnotationElement(e);case AnnotationType.POLYGON:return new PolygonAnnotationElement(e);case AnnotationType.HIGHLIGHT:return new HighlightAnnotationElement(e);case AnnotationType.UNDERLINE:return new UnderlineAnnotationElement(e);case AnnotationType.SQUIGGLY:return new SquigglyAnnotationElement(e);case AnnotationType.STRIKEOUT:return new StrikeOutAnnotationElement(e);case AnnotationType.STAMP:return new StampAnnotationElement(e);case AnnotationType.FILEATTACHMENT:return new FileAttachmentAnnotationElement(e);default:return new AnnotationElement(e)}}}var Nx,D0,ld,nv,aE;const IE=class IE{constructor(e,{isRenderable:Ee=!1,ignoreBorder:Ce=!1,createQuadrilaterals:Te=!1}={}){Bs(this,nv);Bs(this,Nx,null);Bs(this,D0,!1);Bs(this,ld,null);this.isRenderable=Ee,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableComment=e.enableComment,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,Ee&&(this.container=this._createContainer(Ce)),Te&&this._createQuadrilaterals()}static _hasPopupData({contentsObj:e,richText:Ee}){return!!(e!=null&&e.str||Ee!=null&&Ee.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return IE._hasPopupData(this.data)||this.enableComment&&!!this.commentText}get commentData(){var Ce;const{data:e}=this,Ee=(Ce=this.annotationStorage)==null?void 0:Ce.getEditor(e.id);return Ee?Ee.getData():e}get hasCommentButton(){return this.enableComment&&this.hasPopupElement}get commentButtonPosition(){var Oe;const e=(Oe=this.annotationStorage)==null?void 0:Oe.getEditor(this.data.id);if(e)return e.commentButtonPositionInPage;const{quadPoints:Ee,inkLists:Ce,rect:Te}=this.data;let De=-1/0,Me=-1/0;if((Ee==null?void 0:Ee.length)>=8){for(let Be=0;Be<Ee.length;Be+=8)Ee[Be+1]>Me?(Me=Ee[Be+1],De=Ee[Be+2]):Ee[Be+1]===Me&&(De=Math.max(De,Ee[Be+2]));return[De,Me]}if((Ce==null?void 0:Ce.length)>=1){for(const Be of Ce)for(let ze=0,Ve=Be.length;ze<Ve;ze+=2)Be[ze+1]>Me?(Me=Be[ze+1],De=Be[ze]):Be[ze+1]===Me&&(De=Math.max(De,Be[ze]));if(De!==1/0)return[De,Me]}return Te?[Te[2],Te[3]]:null}_normalizePoint(e){const{page:{view:Ee},viewport:{rawDims:{pageWidth:Ce,pageHeight:Te,pageX:De,pageY:Me}}}=this.parent;return e[1]=Ee[3]-e[1]+Ee[1],e[0]=100*(e[0]-De)/Ce,e[1]=100*(e[1]-Me)/Te,e}get commentText(){var Ee,Ce,Te;const{data:e}=this;return((Ce=(Ee=this.annotationStorage.getRawValue(`${AnnotationEditorPrefix}${e.id}`))==null?void 0:Ee.popup)==null?void 0:Ce.contents)||((Te=e.contentsObj)==null?void 0:Te.str)||""}set commentText(e){const{data:Ee}=this,Ce={deleted:!e,contents:e||""};this.annotationStorage.updateEditor(Ee.id,{popup:Ce})||this.annotationStorage.setValue(`${AnnotationEditorPrefix}${Ee.id}`,{id:Ee.id,annotationType:Ee.annotationType,pageIndex:this.parent.page._pageIndex,popup:Ce,popupRef:Ee.popupRef,modificationDate:new Date}),e||this.removePopup()}removePopup(){var e,Ee;(Ee=((e=Ke(this,ld))==null?void 0:e.popup)||this.popup)==null||Ee.remove(),Ls(this,ld,this.popup=null)}updateEdited(e){var De;if(!this.container)return;e.rect&&(Ke(this,Nx)||Ls(this,Nx,{rect:this.data.rect.slice(0)}));const{rect:Ee,popup:Ce}=e;Ee&&Hs(this,nv,aE).call(this,Ee);let Te=((De=Ke(this,ld))==null?void 0:De.popup)||this.popup;!Te&&(Ce!=null&&Ce.text)&&(this._createPopup(Ce),Te=Ke(this,ld).popup),Te&&(Te.updateEdited(e),Ce!=null&&Ce.deleted&&(Te.remove(),Ls(this,ld,null),this.popup=null))}resetEdited(){var e;Ke(this,Nx)&&(Hs(this,nv,aE).call(this,Ke(this,Nx).rect),(e=Ke(this,ld))==null||e.popup.resetEdited(),Ls(this,Nx,null))}_createContainer(e){const{data:Ee,parent:{page:Ce,viewport:Te}}=this,De=document.createElement("section");De.setAttribute("data-annotation-id",Ee.id),!(this instanceof WidgetAnnotationElement)&&!(this instanceof LinkAnnotationElement)&&(De.tabIndex=0);const{style:Me}=De;if(Me.zIndex=this.parent.zIndex,this.parent.zIndex+=2,Ee.alternativeText&&(De.title=Ee.alternativeText),Ee.noRotate&&De.classList.add("norotate"),!Ee.rect||this instanceof PopupAnnotationElement){const{rotation:Qe}=Ee;return!Ee.hasOwnCanvas&&Qe!==0&&this.setRotation(Qe,De),De}const{width:Oe,height:Be}=this;if(!e&&Ee.borderStyle.width>0){Me.borderWidth=`${Ee.borderStyle.width}px`;const Qe=Ee.borderStyle.horizontalCornerRadius,ns=Ee.borderStyle.verticalCornerRadius;if(Qe>0||ns>0){const rs=`calc(${Qe}px * var(--total-scale-factor)) / calc(${ns}px * var(--total-scale-factor))`;Me.borderRadius=rs}else if(this instanceof RadioButtonWidgetAnnotationElement){const rs=`calc(${Oe}px * var(--total-scale-factor)) / calc(${Be}px * var(--total-scale-factor))`;Me.borderRadius=rs}switch(Ee.borderStyle.style){case AnnotationBorderStyleType.SOLID:Me.borderStyle="solid";break;case AnnotationBorderStyleType.DASHED:Me.borderStyle="dashed";break;case AnnotationBorderStyleType.BEVELED:warn("Unimplemented border style: beveled");break;case AnnotationBorderStyleType.INSET:warn("Unimplemented border style: inset");break;case AnnotationBorderStyleType.UNDERLINE:Me.borderBottomStyle="solid";break}const Ye=Ee.borderColor||null;Ye?(Ls(this,D0,!0),Me.borderColor=Util.makeHexColor(Ye[0]|0,Ye[1]|0,Ye[2]|0)):Me.borderWidth=0}const ze=Util.normalizeRect([Ee.rect[0],Ce.view[3]-Ee.rect[1]+Ce.view[1],Ee.rect[2],Ce.view[3]-Ee.rect[3]+Ce.view[1]]),{pageWidth:Ve,pageHeight:qe,pageX:We,pageY:Ge}=Te.rawDims;Me.left=`${100*(ze[0]-We)/Ve}%`,Me.top=`${100*(ze[1]-Ge)/qe}%`;const{rotation:Je}=Ee;return Ee.hasOwnCanvas||Je===0?(Me.width=`${100*Oe/Ve}%`,Me.height=`${100*Be/qe}%`):this.setRotation(Je,De),De}setRotation(e,Ee=this.container){if(!this.data.rect)return;const{pageWidth:Ce,pageHeight:Te}=this.parent.viewport.rawDims;let{width:De,height:Me}=this;e%180!==0&&([De,Me]=[Me,De]),Ee.style.width=`${100*De/Ce}%`,Ee.style.height=`${100*Me/Te}%`,Ee.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(Ee,Ce,Te)=>{const De=Te.detail[Ee],Me=De[0],Oe=De.slice(1);Te.target.style[Ce]=ColorConverters[`${Me}_HTML`](Oe),this.annotationStorage.setValue(this.data.id,{[Ce]:ColorConverters[`${Me}_rgb`](Oe)})};return shadow(this,"_commonActions",{display:Ee=>{const{display:Ce}=Ee.detail,Te=Ce%2===1;this.container.style.visibility=Te?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:Te,noPrint:Ce===1||Ce===2})},print:Ee=>{this.annotationStorage.setValue(this.data.id,{noPrint:!Ee.detail.print})},hidden:Ee=>{const{hidden:Ce}=Ee.detail;this.container.style.visibility=Ce?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:Ce,noView:Ce})},focus:Ee=>{setTimeout(()=>Ee.target.focus({preventScroll:!1}),0)},userName:Ee=>{Ee.target.title=Ee.detail.userName},readonly:Ee=>{Ee.target.disabled=Ee.detail.readonly},required:Ee=>{this._setRequired(Ee.target,Ee.detail.required)},bgColor:Ee=>{e("bgColor","backgroundColor",Ee)},fillColor:Ee=>{e("fillColor","backgroundColor",Ee)},fgColor:Ee=>{e("fgColor","color",Ee)},textColor:Ee=>{e("textColor","color",Ee)},borderColor:Ee=>{e("borderColor","borderColor",Ee)},strokeColor:Ee=>{e("strokeColor","borderColor",Ee)},rotation:Ee=>{const Ce=Ee.detail.rotation;this.setRotation(Ce),this.annotationStorage.setValue(this.data.id,{rotation:Ce})}})}_dispatchEventFromSandbox(e,Ee){const Ce=this._commonActions;for(const Te of Object.keys(Ee.detail)){const De=e[Te]||Ce[Te];De==null||De(Ee)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const Ee=this.annotationStorage.getRawValue(this.data.id);if(!Ee)return;const Ce=this._commonActions;for(const[Te,De]of Object.entries(Ee)){const Me=Ce[Te];if(Me){const Oe={detail:{[Te]:De},target:e};Me(Oe),delete Ee[Te]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[Ee,Ce,Te,De]=this.data.rect.map(Qe=>Math.fround(Qe));if(e.length===8){const[Qe,ns,Ye,rs]=e.subarray(2,6);if(Te===Qe&&De===ns&&Ee===Ye&&Ce===rs)return}const{style:Me}=this.container;let Oe;if(Ke(this,D0)){const{borderColor:Qe,borderWidth:ns}=Me;Me.borderWidth=0,Oe=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${Qe}" stroke-width="${ns}">`],this.container.classList.add("hasBorder")}const Be=Te-Ee,ze=De-Ce,{svgFactory:Ve}=this,qe=Ve.createElement("svg");qe.classList.add("quadrilateralsContainer"),qe.setAttribute("width",0),qe.setAttribute("height",0),qe.role="none";const We=Ve.createElement("defs");qe.append(We);const Ge=Ve.createElement("clipPath"),Je=`clippath_${this.data.id}`;Ge.setAttribute("id",Je),Ge.setAttribute("clipPathUnits","objectBoundingBox"),We.append(Ge);for(let Qe=2,ns=e.length;Qe<ns;Qe+=8){const Ye=e[Qe],rs=e[Qe+1],ts=e[Qe+2],Xe=e[Qe+3],is=Ve.createElement("rect"),os=(ts-Ee)/Be,hs=(De-rs)/ze,fs=(Ye-ts)/Be,xs=(rs-Xe)/ze;is.setAttribute("x",os),is.setAttribute("y",hs),is.setAttribute("width",fs),is.setAttribute("height",xs),Ge.append(is),Oe==null||Oe.push(`<rect vector-effect="non-scaling-stroke" x="${os}" y="${hs}" width="${fs}" height="${xs}"/>`)}Ke(this,D0)&&(Oe.push("</g></svg>')"),Me.backgroundImage=Oe.join("")),this.container.append(qe),this.container.style.clipPath=`url(#${Je})`}_createPopup(e=null){const{data:Ee}=this;let Ce,Te;e?(Ce={str:e.text},Te=e.date):(Ce=Ee.contentsObj,Te=Ee.modificationDate);const De=Ls(this,ld,new PopupAnnotationElement({data:{color:Ee.color,titleObj:Ee.titleObj,modificationDate:Te,contentsObj:Ce,richText:Ee.richText,parentRect:Ee.rect,borderStyle:0,id:`popup_${Ee.id}`,rotation:Ee.rotation,noRotate:!0},linkService:this.linkService,parent:this.parent,elements:[this]}));this.parent._commentManager||this.parent.div.append(De.render())}get hasPopupElement(){return!!(Ke(this,ld)||this.popup||this.data.popupRef)}get extraPopupElement(){return Ke(this,ld)}render(){unreachable("Abstract method `AnnotationElement.render` called")}_getElementsByName(e,Ee=null){const Ce=[];if(this._fieldObjects){const Te=this._fieldObjects[e];if(Te)for(const{page:De,id:Me,exportValues:Oe}of Te){if(De===-1||Me===Ee)continue;const Be=typeof Oe=="string"?Oe:null,ze=document.querySelector(`[data-element-id="${Me}"]`);if(ze&&!GetElementsByNameSet.has(ze)){warn(`_getElementsByName - element not allowed: ${Me}`);continue}Ce.push({id:Me,exportValue:Be,domElement:ze})}return Ce}for(const Te of document.getElementsByName(e)){const{exportValue:De}=Te,Me=Te.getAttribute("data-element-id");Me!==Ee&&GetElementsByNameSet.has(Te)&&Ce.push({id:Me,exportValue:De,domElement:Te})}return Ce}show(){var e;this.container&&(this.container.hidden=!1),(e=this.popup)==null||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),(e=this.popup)==null||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const Ee of e)Ee.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:Ee}}=this;this.container.addEventListener("dblclick",()=>{var Ce;(Ce=this.linkService.eventBus)==null||Ce.dispatch("switchannotationeditormode",{source:this,mode:e,editId:Ee,mustEnterInEditMode:!0})})}get width(){return this.data.rect[2]-this.data.rect[0]}get height(){return this.data.rect[3]-this.data.rect[1]}};Nx=new WeakMap,D0=new WeakMap,ld=new WeakMap,nv=new WeakSet,aE=function(e){const{container:{style:Ee},data:{rect:Ce,rotation:Te},parent:{viewport:{rawDims:{pageWidth:De,pageHeight:Me,pageX:Oe,pageY:Be}}}}=this;Ce==null||Ce.splice(0,4,...e),Ee.left=`${100*(e[0]-Oe)/De}%`,Ee.top=`${100*(Me-e[3]+Be)/Me}%`,Te===0?(Ee.width=`${100*(e[2]-e[0])/De}%`,Ee.height=`${100*(e[3]-e[1])/Me}%`):this.setRotation(Te)};let AnnotationElement=IE;class EditorAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.editor=e.editor}render(){return this.container.className="editorAnnotation",this.container}createOrUpdatePopup(){const{editor:e}=this;e.hasComment&&(this._createPopup(e.comment),this.extraPopupElement.popup.renderCommentButton())}get hasCommentButton(){return this.enableComment&&this.editor.hasComment}get commentButtonPosition(){return this.editor.commentButtonPositionInPage}get commentText(){return this.editor.comment.text}set commentText(e){this.editor.comment=e,e||this.removePopup()}get commentData(){return this.editor.getData()}remove(){this.container.remove(),this.container=null,this.removePopup()}}var Su,Mf,d5,h5;class LinkAnnotationElement extends AnnotationElement{constructor(Ee,Ce=null){super(Ee,{isRenderable:!0,ignoreBorder:!!(Ce!=null&&Ce.ignoreBorder),createQuadrilaterals:!0});Bs(this,Su);this.isTooltipOnly=Ee.data.isTooltipOnly}render(){const{data:Ee,linkService:Ce}=this,Te=document.createElement("a");Te.setAttribute("data-element-id",Ee.id);let De=!1;return Ee.url?(Ce.addLinkAttributes(Te,Ee.url,Ee.newWindow),De=!0):Ee.action?(this._bindNamedAction(Te,Ee.action,Ee.overlaidText),De=!0):Ee.attachment?(Hs(this,Su,d5).call(this,Te,Ee.attachment,Ee.overlaidText,Ee.attachmentDest),De=!0):Ee.setOCGState?(Hs(this,Su,h5).call(this,Te,Ee.setOCGState,Ee.overlaidText),De=!0):Ee.dest?(this._bindLink(Te,Ee.dest,Ee.overlaidText),De=!0):(Ee.actions&&(Ee.actions.Action||Ee.actions["Mouse Up"]||Ee.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(Te,Ee),De=!0),Ee.resetForm?(this._bindResetFormAction(Te,Ee.resetForm),De=!0):this.isTooltipOnly&&!De&&(this._bindLink(Te,""),De=!0)),this.container.classList.add("linkAnnotation"),De&&this.container.append(Te),this.container}_bindLink(Ee,Ce,Te=""){Ee.href=this.linkService.getDestinationHash(Ce),Ee.onclick=()=>(Ce&&this.linkService.goToDestination(Ce),!1),(Ce||Ce==="")&&Hs(this,Su,Mf).call(this),Te&&(Ee.title=Te)}_bindNamedAction(Ee,Ce,Te=""){Ee.href=this.linkService.getAnchorUrl(""),Ee.onclick=()=>(this.linkService.executeNamedAction(Ce),!1),Te&&(Ee.title=Te),Hs(this,Su,Mf).call(this)}_bindJSAction(Ee,Ce){Ee.href=this.linkService.getAnchorUrl("");const Te=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const De of Object.keys(Ce.actions)){const Me=Te.get(De);Me&&(Ee[Me]=()=>{var Oe;return(Oe=this.linkService.eventBus)==null||Oe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ce.id,name:De}}),!1})}Ce.overlaidText&&(Ee.title=Ce.overlaidText),Ee.onclick||(Ee.onclick=()=>!1),Hs(this,Su,Mf).call(this)}_bindResetFormAction(Ee,Ce){const Te=Ee.onclick;if(Te||(Ee.href=this.linkService.getAnchorUrl("")),Hs(this,Su,Mf).call(this),!this._fieldObjects){warn('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),Te||(Ee.onclick=()=>!1);return}Ee.onclick=()=>{var qe;Te==null||Te();const{fields:De,refs:Me,include:Oe}=Ce,Be=[];if(De.length!==0||Me.length!==0){const We=new Set(Me);for(const Ge of De){const Je=this._fieldObjects[Ge]||[];for(const{id:Qe}of Je)We.add(Qe)}for(const Ge of Object.values(this._fieldObjects))for(const Je of Ge)We.has(Je.id)===Oe&&Be.push(Je)}else for(const We of Object.values(this._fieldObjects))Be.push(...We);const ze=this.annotationStorage,Ve=[];for(const We of Be){const{id:Ge}=We;switch(Ve.push(Ge),We.type){case"text":{const Qe=We.defaultValue||"";ze.setValue(Ge,{value:Qe});break}case"checkbox":case"radiobutton":{const Qe=We.defaultValue===We.exportValues;ze.setValue(Ge,{value:Qe});break}case"combobox":case"listbox":{const Qe=We.defaultValue||"";ze.setValue(Ge,{value:Qe});break}default:continue}const Je=document.querySelector(`[data-element-id="${Ge}"]`);if(Je){if(!GetElementsByNameSet.has(Je)){warn(`_bindResetFormAction - element not allowed: ${Ge}`);continue}}else continue;Je.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((qe=this.linkService.eventBus)==null||qe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Ve,name:"ResetForm"}})),!1}}}Su=new WeakSet,Mf=function(){this.container.setAttribute("data-internal-link","")},d5=function(Ee,Ce,Te="",De=null){Ee.href=this.linkService.getAnchorUrl(""),Ce.description?Ee.title=Ce.description:Te&&(Ee.title=Te),Ee.onclick=()=>{var Me;return(Me=this.downloadManager)==null||Me.openOrDownloadData(Ce.content,Ce.filename,De),!1},Hs(this,Su,Mf).call(this)},h5=function(Ee,Ce,Te=""){Ee.href=this.linkService.getAnchorUrl(""),Ee.onclick=()=>(this.linkService.executeSetOCGState(Ce),!1),Te&&(Ee.title=Te),Hs(this,Su,Mf).call(this)};class TextAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class WidgetAnnotationElement extends AnnotationElement{render(){return this.container}showElementAndHideCanvas(e){var Ee;this.data.hasOwnCanvas&&(((Ee=e.previousSibling)==null?void 0:Ee.nodeName)==="CANVAS"&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return util_FeatureTest.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,Ee,Ce,Te,De){Ce.includes("mouse")?e.addEventListener(Ce,Me=>{var Oe;(Oe=this.linkService.eventBus)==null||Oe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Te,value:De(Me),shift:Me.shiftKey,modifier:this._getKeyModifier(Me)}})}):e.addEventListener(Ce,Me=>{var Oe;if(Ce==="blur"){if(!Ee.focused||!Me.relatedTarget)return;Ee.focused=!1}else if(Ce==="focus"){if(Ee.focused)return;Ee.focused=!0}De&&((Oe=this.linkService.eventBus)==null||Oe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:Te,value:De(Me)}}))})}_setEventListeners(e,Ee,Ce,Te){var De,Me,Oe;for(const[Be,ze]of Ce)(ze==="Action"||(De=this.data.actions)!=null&&De[ze])&&((ze==="Focus"||ze==="Blur")&&(Ee||(Ee={focused:!1})),this._setEventListener(e,Ee,Be,ze,Te),ze==="Focus"&&!((Me=this.data.actions)!=null&&Me.Blur)?this._setEventListener(e,Ee,"blur","Blur",null):ze==="Blur"&&!((Oe=this.data.actions)!=null&&Oe.Focus)&&this._setEventListener(e,Ee,"focus","Focus",null))}_setBackgroundColor(e){const Ee=this.data.backgroundColor||null;e.style.backgroundColor=Ee===null?"transparent":Util.makeHexColor(Ee[0],Ee[1],Ee[2])}_setTextStyle(e){const Ee=["left","center","right"],{fontColor:Ce}=this.data.defaultAppearanceData,Te=this.data.defaultAppearanceData.fontSize||annotation_layer_DEFAULT_FONT_SIZE,De=e.style;let Me;const Oe=2,Be=ze=>Math.round(10*ze)/10;if(this.data.multiLine){const ze=Math.abs(this.data.rect[3]-this.data.rect[1]-Oe),Ve=Math.round(ze/(LINE_FACTOR*Te))||1,qe=ze/Ve;Me=Math.min(Te,Be(qe/LINE_FACTOR))}else{const ze=Math.abs(this.data.rect[3]-this.data.rect[1]-Oe);Me=Math.min(Te,Be(ze/LINE_FACTOR))}De.fontSize=`calc(${Me}px * var(--total-scale-factor))`,De.color=Util.makeHexColor(Ce[0],Ce[1],Ce[2]),this.data.textAlignment!==null&&(De.textAlign=Ee[this.data.textAlignment])}_setRequired(e,Ee){Ee?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",Ee)}}class TextWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){const Ee=e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue;super(e,{isRenderable:Ee})}setPropertyOnSiblings(e,Ee,Ce,Te){const De=this.annotationStorage;for(const Me of this._getElementsByName(e.name,e.id))Me.domElement&&(Me.domElement[Ee]=Ce),De.setValue(Me.id,{[Te]:Ce})}render(){var Te,De;const e=this.annotationStorage,Ee=this.data.id;this.container.classList.add("textWidgetAnnotation");let Ce=null;if(this.renderForms){const Me=e.getValue(Ee,{value:this.data.fieldValue});let Oe=Me.value||"";const Be=e.getValue(Ee,{charLimit:this.data.maxLen}).charLimit;Be&&Oe.length>Be&&(Oe=Oe.slice(0,Be));let ze=Me.formattedValue||((Te=this.data.textContent)==null?void 0:Te.join(`
`))||null;ze&&this.data.comb&&(ze=ze.replaceAll(/\s+/g,""));const Ve={userValue:Oe,formattedValue:ze,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(Ce=document.createElement("textarea"),Ce.textContent=ze??Oe,this.data.doNotScroll&&(Ce.style.overflowY="hidden")):(Ce=document.createElement("input"),Ce.type=this.data.password?"password":"text",Ce.setAttribute("value",ze??Oe),this.data.doNotScroll&&(Ce.style.overflowX="hidden")),this.data.hasOwnCanvas&&(Ce.hidden=!0),GetElementsByNameSet.add(Ce),Ce.setAttribute("data-element-id",Ee),Ce.disabled=this.data.readOnly,Ce.name=this.data.fieldName,Ce.tabIndex=0;const{datetimeFormat:qe,datetimeType:We,timeStep:Ge}=this.data,Je=!!We&&this.enableScripting;qe&&(Ce.title=qe),this._setRequired(Ce,this.data.required),Be&&(Ce.maxLength=Be),Ce.addEventListener("input",ns=>{e.setValue(Ee,{value:ns.target.value}),this.setPropertyOnSiblings(Ce,"value",ns.target.value,"value"),Ve.formattedValue=null}),Ce.addEventListener("resetform",ns=>{const Ye=this.data.defaultFieldValue??"";Ce.value=Ve.userValue=Ye,Ve.formattedValue=null});let Qe=ns=>{const{formattedValue:Ye}=Ve;Ye!=null&&(ns.target.value=Ye),ns.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){Ce.addEventListener("focus",Ye=>{var ts;if(Ve.focused)return;const{target:rs}=Ye;if(Je&&(rs.type=We,Ge&&(rs.step=Ge)),Ve.userValue){const Xe=Ve.userValue;if(Je)if(We==="time"){const is=new Date(Xe),os=[is.getHours(),is.getMinutes(),is.getSeconds()];rs.value=os.map(hs=>hs.toString().padStart(2,"0")).join(":")}else rs.value=new Date(Xe-TIMEZONE_OFFSET).toISOString().split(We==="date"?"T":".",1)[0];else rs.value=Xe}Ve.lastCommittedValue=rs.value,Ve.commitKey=1,(ts=this.data.actions)!=null&&ts.Focus||(Ve.focused=!0)}),Ce.addEventListener("updatefromsandbox",Ye=>{this.showElementAndHideCanvas(Ye.target);const rs={value(ts){Ve.userValue=ts.detail.value??"",Je||e.setValue(Ee,{value:Ve.userValue.toString()}),ts.target.value=Ve.userValue},formattedValue(ts){const{formattedValue:Xe}=ts.detail;Ve.formattedValue=Xe,Xe!=null&&ts.target!==document.activeElement&&(ts.target.value=Xe);const is={formattedValue:Xe};Je&&(is.value=Xe),e.setValue(Ee,is)},selRange(ts){ts.target.setSelectionRange(...ts.detail.selRange)},charLimit:ts=>{var hs;const{charLimit:Xe}=ts.detail,{target:is}=ts;if(Xe===0){is.removeAttribute("maxLength");return}is.setAttribute("maxLength",Xe);let os=Ve.userValue;!os||os.length<=Xe||(os=os.slice(0,Xe),is.value=Ve.userValue=os,e.setValue(Ee,{value:os}),(hs=this.linkService.eventBus)==null||hs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ee,name:"Keystroke",value:os,willCommit:!0,commitKey:1,selStart:is.selectionStart,selEnd:is.selectionEnd}}))}};this._dispatchEventFromSandbox(rs,Ye)}),Ce.addEventListener("keydown",Ye=>{var Xe;Ve.commitKey=1;let rs=-1;if(Ye.key==="Escape"?rs=0:Ye.key==="Enter"&&!this.data.multiLine?rs=2:Ye.key==="Tab"&&(Ve.commitKey=3),rs===-1)return;const{value:ts}=Ye.target;Ve.lastCommittedValue!==ts&&(Ve.lastCommittedValue=ts,Ve.userValue=ts,(Xe=this.linkService.eventBus)==null||Xe.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ee,name:"Keystroke",value:ts,willCommit:!0,commitKey:rs,selStart:Ye.target.selectionStart,selEnd:Ye.target.selectionEnd}}))});const ns=Qe;Qe=null,Ce.addEventListener("blur",Ye=>{var Xe,is;if(!Ve.focused||!Ye.relatedTarget)return;(Xe=this.data.actions)!=null&&Xe.Blur||(Ve.focused=!1);const{target:rs}=Ye;let{value:ts}=rs;if(Je){if(ts&&We==="time"){const os=ts.split(":").map(hs=>parseInt(hs,10));ts=new Date(2e3,0,1,os[0],os[1],os[2]||0).valueOf(),rs.step=""}else ts.includes("T")||(ts=`${ts}T00:00`),ts=new Date(ts).valueOf();rs.type="text"}Ve.userValue=ts,Ve.lastCommittedValue!==ts&&((is=this.linkService.eventBus)==null||is.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ee,name:"Keystroke",value:ts,willCommit:!0,commitKey:Ve.commitKey,selStart:Ye.target.selectionStart,selEnd:Ye.target.selectionEnd}})),ns(Ye)}),(De=this.data.actions)!=null&&De.Keystroke&&Ce.addEventListener("beforeinput",Ye=>{var xs;Ve.lastCommittedValue=null;const{data:rs,target:ts}=Ye,{value:Xe,selectionStart:is,selectionEnd:os}=ts;let hs=is,fs=os;switch(Ye.inputType){case"deleteWordBackward":{const Ss=Xe.substring(0,is).match(/\w*[^\w]*$/);Ss&&(hs-=Ss[0].length);break}case"deleteWordForward":{const Ss=Xe.substring(is).match(/^[^\w]*\w*/);Ss&&(fs+=Ss[0].length);break}case"deleteContentBackward":is===os&&(hs-=1);break;case"deleteContentForward":is===os&&(fs+=1);break}Ye.preventDefault(),(xs=this.linkService.eventBus)==null||xs.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ee,name:"Keystroke",value:Xe,change:rs||"",willCommit:!1,selStart:hs,selEnd:fs}})}),this._setEventListeners(Ce,Ve,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Ye=>Ye.target.value)}if(Qe&&Ce.addEventListener("blur",Qe),this.data.comb){const Ye=(this.data.rect[2]-this.data.rect[0])/Be;Ce.classList.add("comb"),Ce.style.letterSpacing=`calc(${Ye}px * var(--total-scale-factor) - 1ch)`}}else Ce=document.createElement("div"),Ce.textContent=this.data.fieldValue,Ce.style.verticalAlign="middle",Ce.style.display="table-cell",this.data.hasOwnCanvas&&(Ce.hidden=!0);return this._setTextStyle(Ce),this._setBackgroundColor(Ce),this._setDefaultPropertiesFromJS(Ce),this.container.append(Ce),this.container}}class SignatureWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class CheckboxWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,Ee=this.data,Ce=Ee.id;let Te=e.getValue(Ce,{value:Ee.exportValue===Ee.fieldValue}).value;typeof Te=="string"&&(Te=Te!=="Off",e.setValue(Ce,{value:Te})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const De=document.createElement("input");return GetElementsByNameSet.add(De),De.setAttribute("data-element-id",Ce),De.disabled=Ee.readOnly,this._setRequired(De,this.data.required),De.type="checkbox",De.name=Ee.fieldName,Te&&De.setAttribute("checked",!0),De.setAttribute("exportValue",Ee.exportValue),De.tabIndex=0,De.addEventListener("change",Me=>{const{name:Oe,checked:Be}=Me.target;for(const ze of this._getElementsByName(Oe,Ce)){const Ve=Be&&ze.exportValue===Ee.exportValue;ze.domElement&&(ze.domElement.checked=Ve),e.setValue(ze.id,{value:Ve})}e.setValue(Ce,{value:Be})}),De.addEventListener("resetform",Me=>{const Oe=Ee.defaultFieldValue||"Off";Me.target.checked=Oe===Ee.exportValue}),this.enableScripting&&this.hasJSActions&&(De.addEventListener("updatefromsandbox",Me=>{const Oe={value(Be){Be.target.checked=Be.detail.value!=="Off",e.setValue(Ce,{value:Be.target.checked})}};this._dispatchEventFromSandbox(Oe,Me)}),this._setEventListeners(De,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Me=>Me.target.checked)),this._setBackgroundColor(De),this._setDefaultPropertiesFromJS(De),this.container.append(De),this.container}}class RadioButtonWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,Ee=this.data,Ce=Ee.id;let Te=e.getValue(Ce,{value:Ee.fieldValue===Ee.buttonValue}).value;if(typeof Te=="string"&&(Te=Te!==Ee.buttonValue,e.setValue(Ce,{value:Te})),Te)for(const Me of this._getElementsByName(Ee.fieldName,Ce))e.setValue(Me.id,{value:!1});const De=document.createElement("input");if(GetElementsByNameSet.add(De),De.setAttribute("data-element-id",Ce),De.disabled=Ee.readOnly,this._setRequired(De,this.data.required),De.type="radio",De.name=Ee.fieldName,Te&&De.setAttribute("checked",!0),De.tabIndex=0,De.addEventListener("change",Me=>{const{name:Oe,checked:Be}=Me.target;for(const ze of this._getElementsByName(Oe,Ce))e.setValue(ze.id,{value:!1});e.setValue(Ce,{value:Be})}),De.addEventListener("resetform",Me=>{const Oe=Ee.defaultFieldValue;Me.target.checked=Oe!=null&&Oe===Ee.buttonValue}),this.enableScripting&&this.hasJSActions){const Me=Ee.buttonValue;De.addEventListener("updatefromsandbox",Oe=>{const Be={value:ze=>{const Ve=Me===ze.detail.value;for(const qe of this._getElementsByName(ze.target.name)){const We=Ve&&qe.id===Ce;qe.domElement&&(qe.domElement.checked=We),e.setValue(qe.id,{value:We})}}};this._dispatchEventFromSandbox(Be,Oe)}),this._setEventListeners(De,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],Oe=>Oe.target.checked)}return this._setBackgroundColor(De),this._setDefaultPropertiesFromJS(De),this.container.append(De),this.container}}class PushButtonWidgetAnnotationElement extends LinkAnnotationElement{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const Ee=e.lastChild;return this.enableScripting&&this.hasJSActions&&Ee&&(this._setDefaultPropertiesFromJS(Ee),Ee.addEventListener("updatefromsandbox",Ce=>{this._dispatchEventFromSandbox({},Ce)})),e}}class ChoiceWidgetAnnotationElement extends WidgetAnnotationElement{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,Ee=this.data.id,Ce=e.getValue(Ee,{value:this.data.fieldValue}),Te=document.createElement("select");GetElementsByNameSet.add(Te),Te.setAttribute("data-element-id",Ee),Te.disabled=this.data.readOnly,this._setRequired(Te,this.data.required),Te.name=this.data.fieldName,Te.tabIndex=0;let De=this.data.combo&&this.data.options.length>0;this.data.combo||(Te.size=this.data.options.length,this.data.multiSelect&&(Te.multiple=!0)),Te.addEventListener("resetform",Ve=>{const qe=this.data.defaultFieldValue;for(const We of Te.options)We.selected=We.value===qe});for(const Ve of this.data.options){const qe=document.createElement("option");qe.textContent=Ve.displayValue,qe.value=Ve.exportValue,Ce.value.includes(Ve.exportValue)&&(qe.setAttribute("selected",!0),De=!1),Te.append(qe)}let Me=null;if(De){const Ve=document.createElement("option");Ve.value=" ",Ve.setAttribute("hidden",!0),Ve.setAttribute("selected",!0),Te.prepend(Ve),Me=()=>{Ve.remove(),Te.removeEventListener("input",Me),Me=null},Te.addEventListener("input",Me)}const Oe=Ve=>{const qe=Ve?"value":"textContent",{options:We,multiple:Ge}=Te;return Ge?Array.prototype.filter.call(We,Je=>Je.selected).map(Je=>Je[qe]):We.selectedIndex===-1?null:We[We.selectedIndex][qe]};let Be=Oe(!1);const ze=Ve=>{const qe=Ve.target.options;return Array.prototype.map.call(qe,We=>({displayValue:We.textContent,exportValue:We.value}))};return this.enableScripting&&this.hasJSActions?(Te.addEventListener("updatefromsandbox",Ve=>{const qe={value(We){Me==null||Me();const Ge=We.detail.value,Je=new Set(Array.isArray(Ge)?Ge:[Ge]);for(const Qe of Te.options)Qe.selected=Je.has(Qe.value);e.setValue(Ee,{value:Oe(!0)}),Be=Oe(!1)},multipleSelection(We){Te.multiple=!0},remove(We){const Ge=Te.options,Je=We.detail.remove;Ge[Je].selected=!1,Te.remove(Je),Ge.length>0&&Array.prototype.findIndex.call(Ge,ns=>ns.selected)===-1&&(Ge[0].selected=!0),e.setValue(Ee,{value:Oe(!0),items:ze(We)}),Be=Oe(!1)},clear(We){for(;Te.length!==0;)Te.remove(0);e.setValue(Ee,{value:null,items:[]}),Be=Oe(!1)},insert(We){const{index:Ge,displayValue:Je,exportValue:Qe}=We.detail.insert,ns=Te.children[Ge],Ye=document.createElement("option");Ye.textContent=Je,Ye.value=Qe,ns?ns.before(Ye):Te.append(Ye),e.setValue(Ee,{value:Oe(!0),items:ze(We)}),Be=Oe(!1)},items(We){const{items:Ge}=We.detail;for(;Te.length!==0;)Te.remove(0);for(const Je of Ge){const{displayValue:Qe,exportValue:ns}=Je,Ye=document.createElement("option");Ye.textContent=Qe,Ye.value=ns,Te.append(Ye)}Te.options.length>0&&(Te.options[0].selected=!0),e.setValue(Ee,{value:Oe(!0),items:ze(We)}),Be=Oe(!1)},indices(We){const Ge=new Set(We.detail.indices);for(const Je of We.target.options)Je.selected=Ge.has(Je.index);e.setValue(Ee,{value:Oe(!0)}),Be=Oe(!1)},editable(We){We.target.disabled=!We.detail.editable}};this._dispatchEventFromSandbox(qe,Ve)}),Te.addEventListener("input",Ve=>{var Ge;const qe=Oe(!0),We=Oe(!1);e.setValue(Ee,{value:qe}),Ve.preventDefault(),(Ge=this.linkService.eventBus)==null||Ge.dispatch("dispatcheventinsandbox",{source:this,detail:{id:Ee,name:"Keystroke",value:Be,change:We,changeEx:qe,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(Te,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],Ve=>Ve.target.value)):Te.addEventListener("input",function(Ve){e.setValue(Ee,{value:Oe(!0)})}),this.data.combo&&this._setTextStyle(Te),this._setBackgroundColor(Te),this._setDefaultPropertiesFromJS(Te),this.container.append(Te),this.container}}var av,oE;class PopupAnnotationElement extends AnnotationElement{constructor(Ee){const{data:Ce,elements:Te,parent:De}=Ee,Me=!!De._commentManager;super(Ee,{isRenderable:!Me&&AnnotationElement._hasPopupData(Ce)});Bs(this,av);if(this.elements=Te,Me&&AnnotationElement._hasPopupData(Ce)){const Oe=this.popup=Hs(this,av,oE).call(this);for(const Be of Te)Be.popup=Oe}else this.popup=null}render(){const{container:Ee}=this;Ee.classList.add("popupAnnotation"),Ee.role="comment";const Ce=this.popup=Hs(this,av,oE).call(this),Te=[];for(const De of this.elements)De.popup=Ce,De.container.ariaHasPopup="dialog",Te.push(De.data.id),De.addHighlightArea();return this.container.setAttribute("aria-controls",Te.map(De=>`${AnnotationPrefix}${De}`).join(",")),this.container}}av=new WeakSet,oE=function(){return new PopupElement({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate||this.data.creationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open,commentManager:this.parent._commentManager})};var fu,Um,m2,f2,L0,M0,Ba,Eh,Hm,Ax,F0,O0,wh,xu,Cp,Pp,Uo,Tp,qm,ov,kp,I0,Cx,Gm,Ul,Wm,Zi,Ob,lE,cE,uE,Ib,dE,p5,m5,f5,x5,Bb,zb,hE;class PopupElement{constructor({container:e,color:Ee,elements:Ce,titleObj:Te,modificationDate:De,contentsObj:Me,richText:Oe,parent:Be,rect:ze,parentRect:Ve,open:qe,commentManager:We=null}){Bs(this,Zi);Bs(this,fu,null);Bs(this,Um,Hs(this,Zi,f5).bind(this));Bs(this,m2,Hs(this,Zi,hE).bind(this));Bs(this,f2,Hs(this,Zi,zb).bind(this));Bs(this,L0,Hs(this,Zi,Bb).bind(this));Bs(this,M0,null);Bs(this,Ba,null);Bs(this,Eh,null);Bs(this,Hm,null);Bs(this,Ax,null);Bs(this,F0,null);Bs(this,O0,null);Bs(this,wh,!1);Bs(this,xu,null);Bs(this,Cp,null);Bs(this,Pp,null);Bs(this,Uo,null);Bs(this,Tp,null);Bs(this,qm,null);Bs(this,ov,null);Bs(this,kp,null);Bs(this,I0,null);Bs(this,Cx,null);Bs(this,Gm,!1);Bs(this,Ul,null);Bs(this,Wm,null);Ls(this,Ba,e),Ls(this,I0,Te),Ls(this,Eh,Me),Ls(this,kp,Oe),Ls(this,F0,Be),Ls(this,M0,Ee),Ls(this,ov,ze),Ls(this,O0,Ve),Ls(this,Ax,Ce),Ls(this,fu,We),Ls(this,Ul,Ce[0]),Ls(this,Hm,PDFDateString.toDateObject(De)),this.trigger=Ce.flatMap(Ge=>Ge.getElementsToTriggerPopup()),We?this.renderCommentButton():(Hs(this,Zi,Ob).call(this),Ke(this,Ba).hidden=!0,qe&&Hs(this,Zi,Bb).call(this))}renderCommentButton(){if(Ke(this,Uo)||(Ke(this,Tp)||Hs(this,Zi,lE).call(this),!Ke(this,Tp)))return;const{signal:e}=Ls(this,Cp,new AbortController),Ee=!!Ke(this,Ul).extraPopupElement,Ce=()=>{Ke(this,fu).toggleCommentPopup(this,!0,void 0,!Ee)},Te=()=>{Ke(this,fu).toggleCommentPopup(this,!1,!0,!Ee)},De=()=>{Ke(this,fu).toggleCommentPopup(this,!1,!1)};if(Ee){Ls(this,Uo,Ke(this,Ul).container);for(const Me of this.trigger)Me.ariaHasPopup="dialog",Me.ariaControls="commentPopup",Me.addEventListener("keydown",Ke(this,Um),{signal:e}),Me.addEventListener("click",Ce,{signal:e}),Me.addEventListener("pointerenter",Te,{signal:e}),Me.addEventListener("pointerleave",De,{signal:e}),Me.classList.add("popupTriggerArea")}else{const Me=Ls(this,Uo,document.createElement("button"));Me.className="annotationCommentButton";const Oe=Ke(this,Ul).container;Me.style.zIndex=Oe.style.zIndex+1,Me.tabIndex=0,Me.ariaHasPopup="dialog",Me.ariaControls="commentPopup",Me.setAttribute("data-l10n-id","pdfjs-show-comment-button"),Hs(this,Zi,uE).call(this),Hs(this,Zi,cE).call(this),Me.addEventListener("keydown",Ke(this,Um),{signal:e}),Me.addEventListener("click",Ce,{signal:e}),Me.addEventListener("pointerenter",Te,{signal:e}),Me.addEventListener("pointerleave",De,{signal:e}),Oe.after(Me)}}get commentButtonColor(){const{color:e,opacity:Ee}=Ke(this,Ul).commentData;return e?Ke(this,F0)._commentManager.makeCommentColor(e,Ee):null}focusCommentButton(){setTimeout(()=>{var e;(e=Ke(this,Uo))==null||e.focus()},0)}getData(){const{richText:e,color:Ee,opacity:Ce,creationDate:Te,modificationDate:De}=Ke(this,Ul).commentData;return{contentsObj:{str:this.comment},richText:e,color:Ee,opacity:Ce,creationDate:Te,modificationDate:De}}get elementBeforePopup(){return Ke(this,Uo)}get comment(){return Ke(this,Wm)||Ls(this,Wm,Ke(this,Ul).commentText),Ke(this,Wm)}set comment(e){e!==this.comment&&(Ke(this,Ul).commentText=Ls(this,Wm,e))}get parentBoundingClientRect(){return Ke(this,Ul).layer.getBoundingClientRect()}setCommentButtonStates({selected:e,hasPopup:Ee}){Ke(this,Uo)&&(Ke(this,Uo).classList.toggle("selected",e),Ke(this,Uo).ariaExpanded=Ee)}setSelectedCommentButton(e){Ke(this,Uo).classList.toggle("selected",e)}get commentPopupPosition(){if(Ke(this,qm))return Ke(this,qm);const{x:e,y:Ee,height:Ce}=Ke(this,Uo).getBoundingClientRect(),{x:Te,y:De,width:Me,height:Oe}=Ke(this,Ul).layer.getBoundingClientRect();return[(e-Te)/Me,(Ee+Ce-De)/Oe]}set commentPopupPosition(e){Ls(this,qm,e)}hasDefaultPopupPosition(){return Ke(this,qm)===null}get commentButtonPosition(){return Ke(this,Tp)}get commentButtonWidth(){return Ke(this,Uo).getBoundingClientRect().width/this.parentBoundingClientRect.width}editComment(e){const[Ee,Ce]=Ke(this,qm)||this.commentButtonPosition.map(ze=>ze/100),Te=this.parentBoundingClientRect,{x:De,y:Me,width:Oe,height:Be}=Te;Ke(this,fu).showDialog(null,this,De+Ee*Oe,Me+Ce*Be,{...e,parentDimensions:Te})}render(){var Ce,Te;if(Ke(this,xu))return;const e=Ls(this,xu,document.createElement("div"));if(e.className="popup",Ke(this,M0)){const De=e.style.outlineColor=Util.makeHexColor(...Ke(this,M0));e.style.backgroundColor=`color-mix(in srgb, ${De} 30%, white)`}const Ee=document.createElement("span");if(Ee.className="header",(Ce=Ke(this,I0))!=null&&Ce.str){const De=document.createElement("span");De.className="title",Ee.append(De),{dir:De.dir,str:De.textContent}=Ke(this,I0)}if(e.append(Ee),Ke(this,Hm)){const De=document.createElement("time");De.className="popupDate",De.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),De.setAttribute("data-l10n-args",JSON.stringify({dateObj:Ke(this,Hm).valueOf()})),De.dateTime=Ke(this,Hm).toISOString(),Ee.append(De)}renderRichText({html:Ke(this,Zi,Ib)||Ke(this,Eh).str,dir:(Te=Ke(this,Eh))==null?void 0:Te.dir,className:"popupContent"},e),Ke(this,Ba).append(e)}updateEdited({rect:e,popup:Ee,deleted:Ce}){var Te;if(Ke(this,fu)){Ce?(this.remove(),Ls(this,Wm,null)):Ee&&(Ee.deleted?this.remove():(Hs(this,Zi,uE).call(this),Ls(this,Wm,Ee.text))),e&&(Ls(this,Tp,null),Hs(this,Zi,lE).call(this),Hs(this,Zi,cE).call(this));return}if(Ce||Ee!=null&&Ee.deleted){this.remove();return}Hs(this,Zi,Ob).call(this),Ke(this,Cx)||Ls(this,Cx,{contentsObj:Ke(this,Eh),richText:Ke(this,kp)}),e&&Ls(this,Pp,null),Ee&&Ee.text&&(Ls(this,kp,Hs(this,Zi,m5).call(this,Ee.text)),Ls(this,Hm,PDFDateString.toDateObject(Ee.date)),Ls(this,Eh,null)),(Te=Ke(this,xu))==null||Te.remove(),Ls(this,xu,null)}resetEdited(){var e;Ke(this,Cx)&&({contentsObj:Ro(this,Eh)._,richText:Ro(this,kp)._}=Ke(this,Cx),Ls(this,Cx,null),(e=Ke(this,xu))==null||e.remove(),Ls(this,xu,null),Ls(this,Pp,null))}remove(){var e,Ee,Ce;if((e=Ke(this,Cp))==null||e.abort(),Ls(this,Cp,null),(Ee=Ke(this,xu))==null||Ee.remove(),Ls(this,xu,null),Ls(this,Gm,!1),Ls(this,wh,!1),(Ce=Ke(this,Uo))==null||Ce.remove(),Ls(this,Uo,null),this.trigger)for(const Te of this.trigger)Te.classList.remove("popupTriggerArea")}forceHide(){Ls(this,Gm,this.isVisible),Ke(this,Gm)&&(Ke(this,Ba).hidden=!0)}maybeShow(){Ke(this,fu)||(Hs(this,Zi,Ob).call(this),Ke(this,Gm)&&(Ke(this,xu)||Hs(this,Zi,zb).call(this),Ls(this,Gm,!1),Ke(this,Ba).hidden=!1))}get isVisible(){return Ke(this,fu)?!1:Ke(this,Ba).hidden===!1}}fu=new WeakMap,Um=new WeakMap,m2=new WeakMap,f2=new WeakMap,L0=new WeakMap,M0=new WeakMap,Ba=new WeakMap,Eh=new WeakMap,Hm=new WeakMap,Ax=new WeakMap,F0=new WeakMap,O0=new WeakMap,wh=new WeakMap,xu=new WeakMap,Cp=new WeakMap,Pp=new WeakMap,Uo=new WeakMap,Tp=new WeakMap,qm=new WeakMap,ov=new WeakMap,kp=new WeakMap,I0=new WeakMap,Cx=new WeakMap,Gm=new WeakMap,Ul=new WeakMap,Wm=new WeakMap,Zi=new WeakSet,Ob=function(){var Ee;if(Ke(this,Cp))return;Ls(this,Cp,new AbortController);const{signal:e}=Ke(this,Cp);for(const Ce of this.trigger)Ce.addEventListener("click",Ke(this,L0),{signal:e}),Ce.addEventListener("pointerenter",Ke(this,f2),{signal:e}),Ce.addEventListener("pointerleave",Ke(this,m2),{signal:e}),Ce.classList.add("popupTriggerArea");for(const Ce of Ke(this,Ax))(Ee=Ce.container)==null||Ee.addEventListener("keydown",Ke(this,Um),{signal:e})},lE=function(){const e=Ke(this,Ax).find(Ee=>Ee.hasCommentButton);e&&Ls(this,Tp,e._normalizePoint(e.commentButtonPosition))},cE=function(){if(Ke(this,Ul).extraPopupElement&&!Ke(this,Ul).editor)return;this.renderCommentButton();const[e,Ee]=Ke(this,Tp),{style:Ce}=Ke(this,Uo);Ce.left=`calc(${e}%)`,Ce.top=`calc(${Ee}% - var(--comment-button-dim))`},uE=function(){Ke(this,Ul).extraPopupElement||(this.renderCommentButton(),Ke(this,Uo).style.backgroundColor=this.commentButtonColor||"")},Ib=function(){const e=Ke(this,kp),Ee=Ke(this,Eh);return e!=null&&e.str&&(!(Ee!=null&&Ee.str)||Ee.str===e.str)&&Ke(this,kp).html||null},dE=function(){var e,Ee,Ce;return((Ce=(Ee=(e=Ke(this,Zi,Ib))==null?void 0:e.attributes)==null?void 0:Ee.style)==null?void 0:Ce.fontSize)||0},p5=function(){var e,Ee,Ce;return((Ce=(Ee=(e=Ke(this,Zi,Ib))==null?void 0:e.attributes)==null?void 0:Ee.style)==null?void 0:Ce.color)||null},m5=function(e){const Ee=[],Ce={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:Ee}]}},Te={style:{color:Ke(this,Zi,p5),fontSize:Ke(this,Zi,dE)?`calc(${Ke(this,Zi,dE)}px * var(--total-scale-factor))`:""}};for(const De of e.split(`
`))Ee.push({name:"span",value:De,attributes:Te});return Ce},f5=function(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||(e.key==="Enter"||e.key==="Escape"&&Ke(this,wh))&&Hs(this,Zi,Bb).call(this)},x5=function(){if(Ke(this,Pp)!==null)return;const{page:{view:e},viewport:{rawDims:{pageWidth:Ee,pageHeight:Ce,pageX:Te,pageY:De}}}=Ke(this,F0);let Me=!!Ke(this,O0),Oe=Me?Ke(this,O0):Ke(this,ov);for(const Je of Ke(this,Ax))if(!Oe||Util.intersect(Je.data.rect,Oe)!==null){Oe=Je.data.rect,Me=!0;break}const Be=Util.normalizeRect([Oe[0],e[3]-Oe[1]+e[1],Oe[2],e[3]-Oe[3]+e[1]]),Ve=Me?Oe[2]-Oe[0]+5:0,qe=Be[0]+Ve,We=Be[1];Ls(this,Pp,[100*(qe-Te)/Ee,100*(We-De)/Ce]);const{style:Ge}=Ke(this,Ba);Ge.left=`${Ke(this,Pp)[0]}%`,Ge.top=`${Ke(this,Pp)[1]}%`},Bb=function(){if(Ke(this,fu)){Ke(this,fu).toggleCommentPopup(this,!1);return}Ls(this,wh,!Ke(this,wh)),Ke(this,wh)?(Hs(this,Zi,zb).call(this),Ke(this,Ba).addEventListener("click",Ke(this,L0)),Ke(this,Ba).addEventListener("keydown",Ke(this,Um))):(Hs(this,Zi,hE).call(this),Ke(this,Ba).removeEventListener("click",Ke(this,L0)),Ke(this,Ba).removeEventListener("keydown",Ke(this,Um)))},zb=function(){Ke(this,xu)||this.render(),this.isVisible?Ke(this,wh)&&Ke(this,Ba).classList.add("focused"):(Hs(this,Zi,x5).call(this),Ke(this,Ba).hidden=!1,Ke(this,Ba).style.zIndex=parseInt(Ke(this,Ba).style.zIndex)+1e3)},hE=function(){Ke(this,Ba).classList.remove("focused"),!(Ke(this,wh)||!this.isVisible)&&(Ke(this,Ba).hidden=!0,Ke(this,Ba).style.zIndex=parseInt(Ke(this,Ba).style.zIndex)-1e3)};class FreeTextAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=AnnotationEditorType.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const Ee of this.textContent){const Ce=document.createElement("span");Ce.textContent=Ee,e.append(Ce)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var lv;class LineAnnotationElement extends AnnotationElement{constructor(Ee){super(Ee,{isRenderable:!0,ignoreBorder:!0});Bs(this,lv,null)}render(){this.container.classList.add("lineAnnotation");const{data:Ee,width:Ce,height:Te}=this,De=this.svgFactory.create(Ce,Te,!0),Me=Ls(this,lv,this.svgFactory.createElement("svg:line"));return Me.setAttribute("x1",Ee.rect[2]-Ee.lineCoordinates[0]),Me.setAttribute("y1",Ee.rect[3]-Ee.lineCoordinates[1]),Me.setAttribute("x2",Ee.rect[2]-Ee.lineCoordinates[2]),Me.setAttribute("y2",Ee.rect[3]-Ee.lineCoordinates[3]),Me.setAttribute("stroke-width",Ee.borderStyle.width||1),Me.setAttribute("stroke","transparent"),Me.setAttribute("fill","transparent"),De.append(Me),this.container.append(De),!Ee.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ke(this,lv)}addHighlightArea(){this.container.classList.add("highlightArea")}}lv=new WeakMap;var cv;class SquareAnnotationElement extends AnnotationElement{constructor(Ee){super(Ee,{isRenderable:!0,ignoreBorder:!0});Bs(this,cv,null)}render(){this.container.classList.add("squareAnnotation");const{data:Ee,width:Ce,height:Te}=this,De=this.svgFactory.create(Ce,Te,!0),Me=Ee.borderStyle.width,Oe=Ls(this,cv,this.svgFactory.createElement("svg:rect"));return Oe.setAttribute("x",Me/2),Oe.setAttribute("y",Me/2),Oe.setAttribute("width",Ce-Me),Oe.setAttribute("height",Te-Me),Oe.setAttribute("stroke-width",Me||1),Oe.setAttribute("stroke","transparent"),Oe.setAttribute("fill","transparent"),De.append(Oe),this.container.append(De),!Ee.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ke(this,cv)}addHighlightArea(){this.container.classList.add("highlightArea")}}cv=new WeakMap;var uv;class CircleAnnotationElement extends AnnotationElement{constructor(Ee){super(Ee,{isRenderable:!0,ignoreBorder:!0});Bs(this,uv,null)}render(){this.container.classList.add("circleAnnotation");const{data:Ee,width:Ce,height:Te}=this,De=this.svgFactory.create(Ce,Te,!0),Me=Ee.borderStyle.width,Oe=Ls(this,uv,this.svgFactory.createElement("svg:ellipse"));return Oe.setAttribute("cx",Ce/2),Oe.setAttribute("cy",Te/2),Oe.setAttribute("rx",Ce/2-Me/2),Oe.setAttribute("ry",Te/2-Me/2),Oe.setAttribute("stroke-width",Me||1),Oe.setAttribute("stroke","transparent"),Oe.setAttribute("fill","transparent"),De.append(Oe),this.container.append(De),!Ee.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ke(this,uv)}addHighlightArea(){this.container.classList.add("highlightArea")}}uv=new WeakMap;var dv;class PolylineAnnotationElement extends AnnotationElement{constructor(Ee){super(Ee,{isRenderable:!0,ignoreBorder:!0});Bs(this,dv,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:Ee,vertices:Ce,borderStyle:Te,popupRef:De},width:Me,height:Oe}=this;if(!Ce)return this.container;const Be=this.svgFactory.create(Me,Oe,!0);let ze=[];for(let qe=0,We=Ce.length;qe<We;qe+=2){const Ge=Ce[qe]-Ee[0],Je=Ee[3]-Ce[qe+1];ze.push(`${Ge},${Je}`)}ze=ze.join(" ");const Ve=Ls(this,dv,this.svgFactory.createElement(this.svgElementName));return Ve.setAttribute("points",ze),Ve.setAttribute("stroke-width",Te.width||1),Ve.setAttribute("stroke","transparent"),Ve.setAttribute("fill","transparent"),Be.append(Ve),this.container.append(Be),!De&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return Ke(this,dv)}addHighlightArea(){this.container.classList.add("highlightArea")}}dv=new WeakMap;class PolygonAnnotationElement extends PolylineAnnotationElement{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class CaretAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var hv,Px,pv,pE;class InkAnnotationElement extends AnnotationElement{constructor(Ee){super(Ee,{isRenderable:!0,ignoreBorder:!0});Bs(this,pv);Bs(this,hv,null);Bs(this,Px,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=this.data.it==="InkHighlight"?AnnotationEditorType.HIGHLIGHT:AnnotationEditorType.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:Ee,rotation:Ce,inkLists:Te,borderStyle:De,popupRef:Me}}=this,{transform:Oe,width:Be,height:ze}=Hs(this,pv,pE).call(this,Ce,Ee),Ve=this.svgFactory.create(Be,ze,!0),qe=Ls(this,hv,this.svgFactory.createElement("svg:g"));Ve.append(qe),qe.setAttribute("stroke-width",De.width||1),qe.setAttribute("stroke-linecap","round"),qe.setAttribute("stroke-linejoin","round"),qe.setAttribute("stroke-miterlimit",10),qe.setAttribute("stroke","transparent"),qe.setAttribute("fill","transparent"),qe.setAttribute("transform",Oe);for(let We=0,Ge=Te.length;We<Ge;We++){const Je=this.svgFactory.createElement(this.svgElementName);Ke(this,Px).push(Je),Je.setAttribute("points",Te[We].join(",")),qe.append(Je)}return!Me&&this.hasPopupData&&this._createPopup(),this.container.append(Ve),this._editOnDoubleClick(),this.container}updateEdited(Ee){super.updateEdited(Ee);const{thickness:Ce,points:Te,rect:De}=Ee,Me=Ke(this,hv);if(Ce>=0&&Me.setAttribute("stroke-width",Ce||1),Te)for(let Oe=0,Be=Ke(this,Px).length;Oe<Be;Oe++)Ke(this,Px)[Oe].setAttribute("points",Te[Oe].join(","));if(De){const{transform:Oe,width:Be,height:ze}=Hs(this,pv,pE).call(this,this.data.rotation,De);Me.parentElement.setAttribute("viewBox",`0 0 ${Be} ${ze}`),Me.setAttribute("transform",Oe)}}getElementsToTriggerPopup(){return Ke(this,Px)}addHighlightArea(){this.container.classList.add("highlightArea")}}hv=new WeakMap,Px=new WeakMap,pv=new WeakSet,pE=function(Ee,Ce){switch(Ee){case 90:return{transform:`rotate(90) translate(${-Ce[0]},${Ce[1]}) scale(1,-1)`,width:Ce[3]-Ce[1],height:Ce[2]-Ce[0]};case 180:return{transform:`rotate(180) translate(${-Ce[2]},${Ce[1]}) scale(1,-1)`,width:Ce[2]-Ce[0],height:Ce[3]-Ce[1]};case 270:return{transform:`rotate(270) translate(${-Ce[2]},${Ce[3]}) scale(1,-1)`,width:Ce[3]-Ce[1],height:Ce[2]-Ce[0]};default:return{transform:`translate(${-Ce[0]},${Ce[3]}) scale(1,-1)`,width:Ce[2]-Ce[0],height:Ce[3]-Ce[1]}}};class HighlightAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=AnnotationEditorType.HIGHLIGHT}render(){const{data:{overlaidText:e,popupRef:Ee}}=this;if(!Ee&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),e){const Ce=document.createElement("mark");Ce.classList.add("overlaidText"),Ce.textContent=e,this.container.append(Ce)}return this.container}}class UnderlineAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:Ee}}=this;if(!Ee&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),e){const Ce=document.createElement("u");Ce.classList.add("overlaidText"),Ce.textContent=e,this.container.append(Ce)}return this.container}}class SquigglyAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:Ee}}=this;if(!Ee&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),e){const Ce=document.createElement("u");Ce.classList.add("overlaidText"),Ce.textContent=e,this.container.append(Ce)}return this.container}}class StrikeOutAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){const{data:{overlaidText:e,popupRef:Ee}}=this;if(!Ee&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),e){const Ce=document.createElement("s");Ce.classList.add("overlaidText"),Ce.textContent=e,this.container.append(Ce)}return this.container}}class StampAnnotationElement extends AnnotationElement{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=AnnotationEditorType.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var mv,fv,mE;class FileAttachmentAnnotationElement extends AnnotationElement{constructor(Ee){var Te;super(Ee,{isRenderable:!0});Bs(this,fv);Bs(this,mv,null);const{file:Ce}=this.data;this.filename=Ce.filename,this.content=Ce.content,(Te=this.linkService.eventBus)==null||Te.dispatch("fileattachmentannotation",{source:this,...Ce})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:Ee,data:Ce}=this;let Te;Ce.hasAppearance||Ce.fillAlpha===0?Te=document.createElement("div"):(Te=document.createElement("img"),Te.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(Ce.name)?"paperclip":"pushpin"}.svg`,Ce.fillAlpha&&Ce.fillAlpha<1&&(Te.style=`filter: opacity(${Math.round(Ce.fillAlpha*100)}%);`)),Te.addEventListener("dblclick",Hs(this,fv,mE).bind(this)),Ls(this,mv,Te);const{isMac:De}=util_FeatureTest.platform;return Ee.addEventListener("keydown",Me=>{Me.key==="Enter"&&(De?Me.metaKey:Me.ctrlKey)&&Hs(this,fv,mE).call(this)}),!Ce.popupRef&&this.hasPopupData?this._createPopup():Te.classList.add("popupTriggerArea"),Ee.append(Te),Ee}getElementsToTriggerPopup(){return Ke(this,mv)}addHighlightArea(){this.container.classList.add("highlightArea")}}mv=new WeakMap,fv=new WeakSet,mE=function(){var Ee;(Ee=this.downloadManager)==null||Ee.openOrDownloadData(this.content,this.filename)};var B0,Tx,z0,Zm,xv,kx,df,fE,xE,$0;let AnnotationLayer$1=($0=class{constructor({div:e,accessibilityManager:Ee,annotationCanvasMap:Ce,annotationEditorUIManager:Te,page:De,viewport:Me,structTreeLayer:Oe,commentManager:Be,linkService:ze,annotationStorage:Ve}){Bs(this,df);Bs(this,B0,null);Bs(this,Tx,null);Bs(this,z0,null);Bs(this,Zm,new Map);Bs(this,xv,null);Bs(this,kx,null);this.div=e,Ls(this,B0,Ee),Ls(this,Tx,Ce),Ls(this,xv,Oe||null),Ls(this,kx,ze||null),Ls(this,z0,Ve||new AnnotationStorage),this.page=De,this.viewport=Me,this.zIndex=0,this._annotationEditorUIManager=Te,this._commentManager=Be||null}hasEditableAnnotations(){return Ke(this,Zm).size>0}async render(e){var Me,Oe,Be;const{annotations:Ee}=e,Ce=this.div;setLayerDimensions(Ce,this.viewport);const Te=new Map,De={data:null,layer:Ce,linkService:Ke(this,kx),downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:e.renderForms!==!1,svgFactory:new DOMSVGFactory,annotationStorage:Ke(this,z0),enableComment:e.enableComment===!0,enableScripting:e.enableScripting===!0,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const ze of Ee){if(ze.noHTML)continue;const Ve=ze.annotationType===AnnotationType.POPUP;if(Ve){const Ge=Te.get(ze.id);if(!Ge)continue;De.elements=Ge}else if(ze.rect[2]===ze.rect[0]||ze.rect[3]===ze.rect[1])continue;De.data=ze;const qe=AnnotationElementFactory.create(De);if(!qe.isRenderable)continue;if(!Ve&&ze.popupRef){const Ge=Te.get(ze.popupRef);Ge?Ge.push(qe):Te.set(ze.popupRef,[qe])}const We=qe.render();ze.hidden&&(We.style.visibility="hidden"),await Hs(this,df,fE).call(this,We,ze.id,De.elements),(Oe=(Me=qe.extraPopupElement)==null?void 0:Me.popup)==null||Oe.renderCommentButton(),qe._isEditable&&(Ke(this,Zm).set(qe.data.id,qe),(Be=this._annotationEditorUIManager)==null||Be.renderAnnotationElement(qe))}Hs(this,df,xE).call(this)}async addLinkAnnotations(e){const Ee={data:null,layer:this.div,linkService:Ke(this,kx),svgFactory:new DOMSVGFactory,parent:this};for(const Ce of e){Ce.borderStyle||(Ce.borderStyle=$0._defaultBorderStyle),Ee.data=Ce;const Te=AnnotationElementFactory.create(Ee);if(!Te.isRenderable)continue;const De=Te.render();await Hs(this,df,fE).call(this,De,Ce.id,null)}}update({viewport:e}){const Ee=this.div;this.viewport=e,setLayerDimensions(Ee,{rotation:e.rotation}),Hs(this,df,xE).call(this),Ee.hidden=!1}getEditableAnnotations(){return Array.from(Ke(this,Zm).values())}getEditableAnnotation(e){return Ke(this,Zm).get(e)}addFakeAnnotation(e){var Oe;const{div:Ee}=this,{id:Ce,rotation:Te}=e,De=new EditorAnnotationElement({data:{id:Ce,rect:e.getPDFRect(),rotation:Te},editor:e,layer:Ee,parent:this,enableComment:!!this._commentManager,linkService:Ke(this,kx),annotationStorage:Ke(this,z0)}),Me=De.render();return Ee.append(Me),(Oe=Ke(this,B0))==null||Oe.moveElementInDOM(Ee,Me,Me,!1),De.createOrUpdatePopup(),De}static get _defaultBorderStyle(){return shadow(this,"_defaultBorderStyle",Object.freeze({width:1,rawWidth:1,style:AnnotationBorderStyleType.SOLID,dashArray:[3],horizontalCornerRadius:0,verticalCornerRadius:0}))}},B0=new WeakMap,Tx=new WeakMap,z0=new WeakMap,Zm=new WeakMap,xv=new WeakMap,kx=new WeakMap,df=new WeakSet,fE=async function(e,Ee,Ce){var Oe,Be;const Te=e.firstChild||e,De=Te.id=`${AnnotationPrefix}${Ee}`,Me=await((Oe=Ke(this,xv))==null?void 0:Oe.getAriaAttributes(De));if(Me)for(const[ze,Ve]of Me)Te.setAttribute(ze,Ve);Ce?Ce.at(-1).container.after(e):(this.div.append(e),(Be=Ke(this,B0))==null||Be.moveElementInDOM(this.div,e,Te,!1))},xE=function(){var Ee;if(!Ke(this,Tx))return;const e=this.div;for(const[Ce,Te]of Ke(this,Tx)){const De=e.querySelector(`[data-annotation-id="${Ce}"]`);if(!De)continue;Te.className="annotationContent";const{firstChild:Me}=De;Me?Me.nodeName==="CANVAS"?Me.replaceWith(Te):Me.classList.contains("annotationContent")?Me.after(Te):Me.before(Te):De.append(Te);const Oe=Ke(this,Zm).get(Ce);Oe&&(Oe._hasNoCanvas?((Ee=this._annotationEditorUIManager)==null||Ee.setMissingCanvas(Ce,De.id,Te),Oe._hasNoCanvas=!1):Oe.canvas=Te)}Ke(this,Tx).clear()},$0);const EOL_PATTERN=/\r\n?|\n/g;var gu,gv,Dx,yu,uo,g5,y5,v5,$b,$p,Vb,Ub,b5,gE,j5;const pa=class pa extends AnnotationEditor{constructor(Ee){super({...Ee,name:"freeTextEditor"});Bs(this,uo);Bs(this,gu,"");Bs(this,gv,`${this.id}-editor`);Bs(this,Dx,null);Bs(this,yu);qr(this,"_colorPicker",null);this.color=Ee.color||pa._defaultColor||AnnotationEditor._defaultLineColor,Ls(this,yu,Ee.fontSize||pa._defaultFontSize),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-freetext-added-alert")}static get _keyboardManager(){const Ee=pa.prototype,Ce=Me=>Me.isEmpty(),Te=AnnotationEditorUIManager.TRANSLATE_SMALL,De=AnnotationEditorUIManager.TRANSLATE_BIG;return shadow(this,"_keyboardManager",new KeyboardManager([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],Ee.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],Ee.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],Ee._translateEmpty,{args:[-Te,0],checker:Ce}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],Ee._translateEmpty,{args:[-De,0],checker:Ce}],[["ArrowRight","mac+ArrowRight"],Ee._translateEmpty,{args:[Te,0],checker:Ce}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],Ee._translateEmpty,{args:[De,0],checker:Ce}],[["ArrowUp","mac+ArrowUp"],Ee._translateEmpty,{args:[0,-Te],checker:Ce}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],Ee._translateEmpty,{args:[0,-De],checker:Ce}],[["ArrowDown","mac+ArrowDown"],Ee._translateEmpty,{args:[0,Te],checker:Ce}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],Ee._translateEmpty,{args:[0,De],checker:Ce}]]))}static initialize(Ee,Ce){AnnotationEditor.initialize(Ee,Ce);const Te=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(Te.getPropertyValue("--freetext-padding"))}static updateDefaultParams(Ee,Ce){switch(Ee){case AnnotationEditorParamsType.FREETEXT_SIZE:pa._defaultFontSize=Ce;break;case AnnotationEditorParamsType.FREETEXT_COLOR:pa._defaultColor=Ce;break}}updateParams(Ee,Ce){switch(Ee){case AnnotationEditorParamsType.FREETEXT_SIZE:Hs(this,uo,g5).call(this,Ce);break;case AnnotationEditorParamsType.FREETEXT_COLOR:Hs(this,uo,y5).call(this,Ce);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,pa._defaultFontSize],[AnnotationEditorParamsType.FREETEXT_COLOR,pa._defaultColor||AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.FREETEXT_SIZE,Ke(this,yu)],[AnnotationEditorParamsType.FREETEXT_COLOR,this.color]]}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new BasicColorPicker(this)),[["colorPicker",this._colorPicker]]}get colorType(){return AnnotationEditorParamsType.FREETEXT_COLOR}onUpdatedColor(){var Ee;this.editorDiv.style.color=this.color,(Ee=this._colorPicker)==null||Ee.update(this.color),super.onUpdatedColor()}_translateEmpty(Ee,Ce){this._uiManager.translateSelectedEditors(Ee,Ce,!0)}getInitialTranslation(){const Ee=this.parentScale;return[-pa._internalPadding*Ee,-(pa._internalPadding+Ke(this,yu))*Ee]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(!super.enableEditMode())return!1;this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),Ls(this,Dx,new AbortController);const Ee=this._uiManager.combinedSignal(Ke(this,Dx));return this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:Ee}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:Ee}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:Ee}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:Ee}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:Ee}),!0}disableEditMode(){var Ee;return super.disableEditMode()?(this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",Ke(this,gv)),this._isDraggable=!0,(Ee=Ke(this,Dx))==null||Ee.abort(),Ls(this,Dx,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"),!0):!1}focusin(Ee){this._focusEventsAllowed&&(super.focusin(Ee),Ee.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(Ee){var Ce;this.width||(this.enableEditMode(),Ee&&this.editorDiv.focus(),(Ce=this._initialOptions)!=null&&Ce.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const Ee=Ke(this,gu),Ce=Ls(this,gu,Hs(this,uo,v5).call(this).trimEnd());if(Ee===Ce)return;const Te=De=>{if(Ls(this,gu,De),!De){this.remove();return}Hs(this,uo,Ub).call(this),this._uiManager.rebuild(this),Hs(this,uo,$b).call(this)};this.addCommands({cmd:()=>{Te(Ce)},undo:()=>{Te(Ee)},mustExec:!1}),Hs(this,uo,$b).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}keydown(Ee){Ee.target===this.div&&Ee.key==="Enter"&&(this.enterInEditMode(),Ee.preventDefault())}editorDivKeydown(Ee){pa._keyboardManager.exec(this,Ee)}editorDivFocus(Ee){this.isEditing=!0}editorDivBlur(Ee){this.isEditing=!1}editorDivInput(Ee){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}get canChangeContent(){return!0}render(){if(this.div)return this.div;let Ee,Ce;(this._isCopy||this.annotationElementId)&&(Ee=this.x,Ce=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",Ke(this,gv)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:Te}=this.editorDiv;if(Te.fontSize=`calc(${Ke(this,yu)}px * var(--total-scale-factor))`,Te.color=this.color,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),this._isCopy||this.annotationElementId){const[De,Me]=this.parentDimensions;if(this.annotationElementId){const{position:Oe}=this._initialData;let[Be,ze]=this.getInitialTranslation();[Be,ze]=this.pageTranslationToScreen(Be,ze);const[Ve,qe]=this.pageDimensions,[We,Ge]=this.pageTranslation;let Je,Qe;switch(this.rotation){case 0:Je=Ee+(Oe[0]-We)/Ve,Qe=Ce+this.height-(Oe[1]-Ge)/qe;break;case 90:Je=Ee+(Oe[0]-We)/Ve,Qe=Ce-(Oe[1]-Ge)/qe,[Be,ze]=[ze,-Be];break;case 180:Je=Ee-this.width+(Oe[0]-We)/Ve,Qe=Ce-(Oe[1]-Ge)/qe,[Be,ze]=[-Be,-ze];break;case 270:Je=Ee+(Oe[0]-We-this.height*qe)/Ve,Qe=Ce+(Oe[1]-Ge-this.width*Ve)/qe,[Be,ze]=[-ze,Be];break}this.setAt(Je*De,Qe*Me,Be,ze)}else this._moveAfterPaste(Ee,Ce);Hs(this,uo,Ub).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(Ee){var Je,Qe,ns;const Ce=Ee.clipboardData||window.clipboardData,{types:Te}=Ce;if(Te.length===1&&Te[0]==="text/plain")return;Ee.preventDefault();const De=Hs(Je=pa,$p,gE).call(Je,Ce.getData("text")||"").replaceAll(EOL_PATTERN,`
`);if(!De)return;const Me=window.getSelection();if(!Me.rangeCount)return;this.editorDiv.normalize(),Me.deleteFromDocument();const Oe=Me.getRangeAt(0);if(!De.includes(`
`)){Oe.insertNode(document.createTextNode(De)),this.editorDiv.normalize(),Me.collapseToStart();return}const{startContainer:Be,startOffset:ze}=Oe,Ve=[],qe=[];if(Be.nodeType===Node.TEXT_NODE){const Ye=Be.parentElement;if(qe.push(Be.nodeValue.slice(ze).replaceAll(EOL_PATTERN,"")),Ye!==this.editorDiv){let rs=Ve;for(const ts of this.editorDiv.childNodes){if(ts===Ye){rs=qe;continue}rs.push(Hs(Qe=pa,$p,Vb).call(Qe,ts))}}Ve.push(Be.nodeValue.slice(0,ze).replaceAll(EOL_PATTERN,""))}else if(Be===this.editorDiv){let Ye=Ve,rs=0;for(const ts of this.editorDiv.childNodes)rs++===ze&&(Ye=qe),Ye.push(Hs(ns=pa,$p,Vb).call(ns,ts))}Ls(this,gu,`${Ve.join(`
`)}${De}${qe.join(`
`)}`),Hs(this,uo,Ub).call(this);const We=new Range;let Ge=Math.sumPrecise(Ve.map(Ye=>Ye.length));for(const{firstChild:Ye}of this.editorDiv.childNodes)if(Ye.nodeType===Node.TEXT_NODE){const rs=Ye.nodeValue.length;if(Ge<=rs){We.setStart(Ye,Ge),We.setEnd(Ye,Ge);break}Ge-=rs}Me.removeAllRanges(),Me.addRange(We)}get contentDiv(){return this.editorDiv}getPDFRect(){const Ee=pa._internalPadding*this.parentScale;return this.getRect(Ee,Ee)}static async deserialize(Ee,Ce,Te){var Oe;let De=null;if(Ee instanceof FreeTextAnnotationElement){const{data:{defaultAppearanceData:{fontSize:Be,fontColor:ze},rect:Ve,rotation:qe,id:We,popupRef:Ge,richText:Je,contentsObj:Qe,creationDate:ns,modificationDate:Ye},textContent:rs,textPosition:ts,parent:{page:{pageNumber:Xe}}}=Ee;if(!rs||rs.length===0)return null;De=Ee={annotationType:AnnotationEditorType.FREETEXT,color:Array.from(ze),fontSize:Be,value:rs.join(`
`),position:ts,pageIndex:Xe-1,rect:Ve.slice(0),rotation:qe,annotationElementId:We,id:We,deleted:!1,popupRef:Ge,comment:(Qe==null?void 0:Qe.str)||null,richText:Je,creationDate:ns,modificationDate:Ye}}const Me=await super.deserialize(Ee,Ce,Te);return Ls(Me,yu,Ee.fontSize),Me.color=Util.makeHexColor(...Ee.color),Ls(Me,gu,Hs(Oe=pa,$p,gE).call(Oe,Ee.value)),Me._initialData=De,Ee.comment&&Me.setCommentData(Ee),Me}serialize(Ee=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const Ce=AnnotationEditor._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:this.color),Te=Object.assign(super.serialize(Ee),{color:Ce,fontSize:Ke(this,yu),value:Hs(this,uo,b5).call(this)});return this.addComment(Te),Ee?(Te.isCopy=!0,Te):this.annotationElementId&&!Hs(this,uo,j5).call(this,Te)?null:(Te.id=this.annotationElementId,Te)}renderAnnotationElement(Ee){const Ce=super.renderAnnotationElement(Ee);if(!Ce)return null;const{style:Te}=Ce;Te.fontSize=`calc(${Ke(this,yu)}px * var(--total-scale-factor))`,Te.color=this.color,Ce.replaceChildren();for(const De of Ke(this,gu).split(`
`)){const Me=document.createElement("div");Me.append(De?document.createTextNode(De):document.createElement("br")),Ce.append(Me)}return Ee.updateEdited({rect:this.getPDFRect(),popup:this._uiManager.hasCommentManager()||this.hasEditedComment?this.comment:{text:Ke(this,gu)}}),Ce}resetAnnotationElement(Ee){super.resetAnnotationElement(Ee),Ee.resetEdited()}};gu=new WeakMap,gv=new WeakMap,Dx=new WeakMap,yu=new WeakMap,uo=new WeakSet,g5=function(Ee){const Ce=De=>{this.editorDiv.style.fontSize=`calc(${De}px * var(--total-scale-factor))`,this.translate(0,-(De-Ke(this,yu))*this.parentScale),Ls(this,yu,De),Hs(this,uo,$b).call(this)},Te=Ke(this,yu);this.addCommands({cmd:Ce.bind(this,Ee),undo:Ce.bind(this,Te),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},y5=function(Ee){const Ce=De=>{this.color=De,this.onUpdatedColor()},Te=this.color;this.addCommands({cmd:Ce.bind(this,Ee),undo:Ce.bind(this,Te),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},v5=function(){var Te;const Ee=[];this.editorDiv.normalize();let Ce=null;for(const De of this.editorDiv.childNodes)(Ce==null?void 0:Ce.nodeType)===Node.TEXT_NODE&&De.nodeName==="BR"||(Ee.push(Hs(Te=pa,$p,Vb).call(Te,De)),Ce=De);return Ee.join(`
`)},$b=function(){const[Ee,Ce]=this.parentDimensions;let Te;if(this.isAttachedToDOM)Te=this.div.getBoundingClientRect();else{const{currentLayer:De,div:Me}=this,Oe=Me.style.display,Be=Me.classList.contains("hidden");Me.classList.remove("hidden"),Me.style.display="hidden",De.div.append(this.div),Te=Me.getBoundingClientRect(),Me.remove(),Me.style.display=Oe,Me.classList.toggle("hidden",Be)}this.rotation%180===this.parentRotation%180?(this.width=Te.width/Ee,this.height=Te.height/Ce):(this.width=Te.height/Ee,this.height=Te.width/Ce),this.fixAndSetPosition()},$p=new WeakSet,Vb=function(Ee){return(Ee.nodeType===Node.TEXT_NODE?Ee.nodeValue:Ee.innerText).replaceAll(EOL_PATTERN,"")},Ub=function(){if(this.editorDiv.replaceChildren(),!!Ke(this,gu))for(const Ee of Ke(this,gu).split(`
`)){const Ce=document.createElement("div");Ce.append(Ee?document.createTextNode(Ee):document.createElement("br")),this.editorDiv.append(Ce)}},b5=function(){return Ke(this,gu).replaceAll("Â "," ")},gE=function(Ee){return Ee.replaceAll(" ","Â ")},j5=function(Ee){const{value:Ce,fontSize:Te,color:De,pageIndex:Me}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||Ee.value!==Ce||Ee.fontSize!==Te||Ee.color.some((Oe,Be)=>Oe!==De[Be])||Ee.pageIndex!==Me},Bs(pa,$p),qr(pa,"_freeTextDefaultContent",""),qr(pa,"_internalPadding",0),qr(pa,"_defaultColor",null),qr(pa,"_defaultFontSize",10),qr(pa,"_type","freetext"),qr(pa,"_editorType",AnnotationEditorType.FREETEXT);let FreeTextEditor=pa;class Outline{toSVGPath(){unreachable("Abstract method `toSVGPath` must be implemented.")}get box(){unreachable("Abstract getter `box` must be implemented.")}serialize(e,Ee){unreachable("Abstract method `serialize` must be implemented.")}static _rescale(e,Ee,Ce,Te,De,Me){Me||(Me=new Float32Array(e.length));for(let Oe=0,Be=e.length;Oe<Be;Oe+=2)Me[Oe]=Ee+e[Oe]*Te,Me[Oe+1]=Ce+e[Oe+1]*De;return Me}static _rescaleAndSwap(e,Ee,Ce,Te,De,Me){Me||(Me=new Float32Array(e.length));for(let Oe=0,Be=e.length;Oe<Be;Oe+=2)Me[Oe]=Ee+e[Oe+1]*Te,Me[Oe+1]=Ce+e[Oe]*De;return Me}static _translate(e,Ee,Ce,Te){Te||(Te=new Float32Array(e.length));for(let De=0,Me=e.length;De<Me;De+=2)Te[De]=Ee+e[De],Te[De+1]=Ce+e[De+1];return Te}static svgRound(e){return Math.round(e*1e4)}static _normalizePoint(e,Ee,Ce,Te,De){switch(De){case 90:return[1-Ee/Ce,e/Te];case 180:return[1-e/Ce,1-Ee/Te];case 270:return[Ee/Ce,1-e/Te];default:return[e/Ce,Ee/Te]}}static _normalizePagePoint(e,Ee,Ce){switch(Ce){case 90:return[1-Ee,e];case 180:return[1-e,1-Ee];case 270:return[Ee,1-e];default:return[e,Ee]}}static createBezierPoints(e,Ee,Ce,Te,De,Me){return[(e+5*Ce)/6,(Ee+5*Te)/6,(5*Ce+De)/6,(5*Te+Me)/6,(Ce+De)/2,(Te+Me)/2]}}qr(Outline,"PRECISION",1e-4);var vu,Fd,V0,U0,Rh,on,Lx,Mx,yv,vv,H0,q0,Km,bv,x2,g2,Ao,Yy,E5,w5,R5,_5,S5,N5;const np=class np{constructor({x:e,y:Ee},Ce,Te,De,Me,Oe=0){Bs(this,Ao);Bs(this,vu);Bs(this,Fd,[]);Bs(this,V0);Bs(this,U0);Bs(this,Rh,[]);Bs(this,on,new Float32Array(18));Bs(this,Lx);Bs(this,Mx);Bs(this,yv);Bs(this,vv);Bs(this,H0);Bs(this,q0);Bs(this,Km,[]);Ls(this,vu,Ce),Ls(this,q0,De*Te),Ls(this,U0,Me),Ke(this,on).set([NaN,NaN,NaN,NaN,e,Ee],6),Ls(this,V0,Oe),Ls(this,vv,Ke(np,bv)*Te),Ls(this,yv,Ke(np,g2)*Te),Ls(this,H0,Te),Ke(this,Km).push(e,Ee)}isEmpty(){return isNaN(Ke(this,on)[8])}add({x:e,y:Ee}){var xs;Ls(this,Lx,e),Ls(this,Mx,Ee);const[Ce,Te,De,Me]=Ke(this,vu);let[Oe,Be,ze,Ve]=Ke(this,on).subarray(8,12);const qe=e-ze,We=Ee-Ve,Ge=Math.hypot(qe,We);if(Ge<Ke(this,yv))return!1;const Je=Ge-Ke(this,vv),Qe=Je/Ge,ns=Qe*qe,Ye=Qe*We;let rs=Oe,ts=Be;Oe=ze,Be=Ve,ze+=ns,Ve+=Ye,(xs=Ke(this,Km))==null||xs.push(e,Ee);const Xe=-Ye/Je,is=ns/Je,os=Xe*Ke(this,q0),hs=is*Ke(this,q0);return Ke(this,on).set(Ke(this,on).subarray(2,8),0),Ke(this,on).set([ze+os,Ve+hs],4),Ke(this,on).set(Ke(this,on).subarray(14,18),12),Ke(this,on).set([ze-os,Ve-hs],16),isNaN(Ke(this,on)[6])?(Ke(this,Rh).length===0&&(Ke(this,on).set([Oe+os,Be+hs],2),Ke(this,Rh).push(NaN,NaN,NaN,NaN,(Oe+os-Ce)/De,(Be+hs-Te)/Me),Ke(this,on).set([Oe-os,Be-hs],14),Ke(this,Fd).push(NaN,NaN,NaN,NaN,(Oe-os-Ce)/De,(Be-hs-Te)/Me)),Ke(this,on).set([rs,ts,Oe,Be,ze,Ve],6),!this.isEmpty()):(Ke(this,on).set([rs,ts,Oe,Be,ze,Ve],6),Math.abs(Math.atan2(ts-Be,rs-Oe)-Math.atan2(Ye,ns))<Math.PI/2?([Oe,Be,ze,Ve]=Ke(this,on).subarray(2,6),Ke(this,Rh).push(NaN,NaN,NaN,NaN,((Oe+ze)/2-Ce)/De,((Be+Ve)/2-Te)/Me),[Oe,Be,rs,ts]=Ke(this,on).subarray(14,18),Ke(this,Fd).push(NaN,NaN,NaN,NaN,((rs+Oe)/2-Ce)/De,((ts+Be)/2-Te)/Me),!0):([rs,ts,Oe,Be,ze,Ve]=Ke(this,on).subarray(0,6),Ke(this,Rh).push(((rs+5*Oe)/6-Ce)/De,((ts+5*Be)/6-Te)/Me,((5*Oe+ze)/6-Ce)/De,((5*Be+Ve)/6-Te)/Me,((Oe+ze)/2-Ce)/De,((Be+Ve)/2-Te)/Me),[ze,Ve,Oe,Be,rs,ts]=Ke(this,on).subarray(12,18),Ke(this,Fd).push(((rs+5*Oe)/6-Ce)/De,((ts+5*Be)/6-Te)/Me,((5*Oe+ze)/6-Ce)/De,((5*Be+Ve)/6-Te)/Me,((Oe+ze)/2-Ce)/De,((Be+Ve)/2-Te)/Me),!0))}toSVGPath(){if(this.isEmpty())return"";const e=Ke(this,Rh),Ee=Ke(this,Fd);if(isNaN(Ke(this,on)[6])&&!this.isEmpty())return Hs(this,Ao,E5).call(this);const Ce=[];Ce.push(`M${e[4]} ${e[5]}`);for(let Te=6;Te<e.length;Te+=6)isNaN(e[Te])?Ce.push(`L${e[Te+4]} ${e[Te+5]}`):Ce.push(`C${e[Te]} ${e[Te+1]} ${e[Te+2]} ${e[Te+3]} ${e[Te+4]} ${e[Te+5]}`);Hs(this,Ao,R5).call(this,Ce);for(let Te=Ee.length-6;Te>=6;Te-=6)isNaN(Ee[Te])?Ce.push(`L${Ee[Te+4]} ${Ee[Te+5]}`):Ce.push(`C${Ee[Te]} ${Ee[Te+1]} ${Ee[Te+2]} ${Ee[Te+3]} ${Ee[Te+4]} ${Ee[Te+5]}`);return Hs(this,Ao,w5).call(this,Ce),Ce.join(" ")}newFreeDrawOutline(e,Ee,Ce,Te,De,Me){return new FreeDrawOutline(e,Ee,Ce,Te,De,Me)}getOutlines(){var qe;const e=Ke(this,Rh),Ee=Ke(this,Fd),Ce=Ke(this,on),[Te,De,Me,Oe]=Ke(this,vu),Be=new Float32Array((((qe=Ke(this,Km))==null?void 0:qe.length)??0)+2);for(let We=0,Ge=Be.length-2;We<Ge;We+=2)Be[We]=(Ke(this,Km)[We]-Te)/Me,Be[We+1]=(Ke(this,Km)[We+1]-De)/Oe;if(Be[Be.length-2]=(Ke(this,Lx)-Te)/Me,Be[Be.length-1]=(Ke(this,Mx)-De)/Oe,isNaN(Ce[6])&&!this.isEmpty())return Hs(this,Ao,_5).call(this,Be);const ze=new Float32Array(Ke(this,Rh).length+24+Ke(this,Fd).length);let Ve=e.length;for(let We=0;We<Ve;We+=2){if(isNaN(e[We])){ze[We]=ze[We+1]=NaN;continue}ze[We]=e[We],ze[We+1]=e[We+1]}Ve=Hs(this,Ao,N5).call(this,ze,Ve);for(let We=Ee.length-6;We>=6;We-=6)for(let Ge=0;Ge<6;Ge+=2){if(isNaN(Ee[We+Ge])){ze[Ve]=ze[Ve+1]=NaN,Ve+=2;continue}ze[Ve]=Ee[We+Ge],ze[Ve+1]=Ee[We+Ge+1],Ve+=2}return Hs(this,Ao,S5).call(this,ze,Ve),this.newFreeDrawOutline(ze,Be,Ke(this,vu),Ke(this,H0),Ke(this,V0),Ke(this,U0))}};vu=new WeakMap,Fd=new WeakMap,V0=new WeakMap,U0=new WeakMap,Rh=new WeakMap,on=new WeakMap,Lx=new WeakMap,Mx=new WeakMap,yv=new WeakMap,vv=new WeakMap,H0=new WeakMap,q0=new WeakMap,Km=new WeakMap,bv=new WeakMap,x2=new WeakMap,g2=new WeakMap,Ao=new WeakSet,Yy=function(){const e=Ke(this,on).subarray(4,6),Ee=Ke(this,on).subarray(16,18),[Ce,Te,De,Me]=Ke(this,vu);return[(Ke(this,Lx)+(e[0]-Ee[0])/2-Ce)/De,(Ke(this,Mx)+(e[1]-Ee[1])/2-Te)/Me,(Ke(this,Lx)+(Ee[0]-e[0])/2-Ce)/De,(Ke(this,Mx)+(Ee[1]-e[1])/2-Te)/Me]},E5=function(){const[e,Ee,Ce,Te]=Ke(this,vu),[De,Me,Oe,Be]=Hs(this,Ao,Yy).call(this);return`M${(Ke(this,on)[2]-e)/Ce} ${(Ke(this,on)[3]-Ee)/Te} L${(Ke(this,on)[4]-e)/Ce} ${(Ke(this,on)[5]-Ee)/Te} L${De} ${Me} L${Oe} ${Be} L${(Ke(this,on)[16]-e)/Ce} ${(Ke(this,on)[17]-Ee)/Te} L${(Ke(this,on)[14]-e)/Ce} ${(Ke(this,on)[15]-Ee)/Te} Z`},w5=function(e){const Ee=Ke(this,Fd);e.push(`L${Ee[4]} ${Ee[5]} Z`)},R5=function(e){const[Ee,Ce,Te,De]=Ke(this,vu),Me=Ke(this,on).subarray(4,6),Oe=Ke(this,on).subarray(16,18),[Be,ze,Ve,qe]=Hs(this,Ao,Yy).call(this);e.push(`L${(Me[0]-Ee)/Te} ${(Me[1]-Ce)/De} L${Be} ${ze} L${Ve} ${qe} L${(Oe[0]-Ee)/Te} ${(Oe[1]-Ce)/De}`)},_5=function(e){const Ee=Ke(this,on),[Ce,Te,De,Me]=Ke(this,vu),[Oe,Be,ze,Ve]=Hs(this,Ao,Yy).call(this),qe=new Float32Array(36);return qe.set([NaN,NaN,NaN,NaN,(Ee[2]-Ce)/De,(Ee[3]-Te)/Me,NaN,NaN,NaN,NaN,(Ee[4]-Ce)/De,(Ee[5]-Te)/Me,NaN,NaN,NaN,NaN,Oe,Be,NaN,NaN,NaN,NaN,ze,Ve,NaN,NaN,NaN,NaN,(Ee[16]-Ce)/De,(Ee[17]-Te)/Me,NaN,NaN,NaN,NaN,(Ee[14]-Ce)/De,(Ee[15]-Te)/Me],0),this.newFreeDrawOutline(qe,e,Ke(this,vu),Ke(this,H0),Ke(this,V0),Ke(this,U0))},S5=function(e,Ee){const Ce=Ke(this,Fd);return e.set([NaN,NaN,NaN,NaN,Ce[4],Ce[5]],Ee),Ee+=6},N5=function(e,Ee){const Ce=Ke(this,on).subarray(4,6),Te=Ke(this,on).subarray(16,18),[De,Me,Oe,Be]=Ke(this,vu),[ze,Ve,qe,We]=Hs(this,Ao,Yy).call(this);return e.set([NaN,NaN,NaN,NaN,(Ce[0]-De)/Oe,(Ce[1]-Me)/Be,NaN,NaN,NaN,NaN,ze,Ve,NaN,NaN,NaN,NaN,qe,We,NaN,NaN,NaN,NaN,(Te[0]-De)/Oe,(Te[1]-Me)/Be],Ee),Ee+=24},Bs(np,bv,8),Bs(np,x2,2),Bs(np,g2,Ke(np,bv)+Ke(np,x2));let FreeDrawOutliner=np;var G0,Fx,Dp,jv,bu,Ev,Ya,y2,A5;class FreeDrawOutline extends Outline{constructor(Ee,Ce,Te,De,Me,Oe){super();Bs(this,y2);Bs(this,G0);Bs(this,Fx,new Float32Array(4));Bs(this,Dp);Bs(this,jv);Bs(this,bu);Bs(this,Ev);Bs(this,Ya);Ls(this,Ya,Ee),Ls(this,bu,Ce),Ls(this,G0,Te),Ls(this,Ev,De),Ls(this,Dp,Me),Ls(this,jv,Oe),this.firstPoint=[NaN,NaN],this.lastPoint=[NaN,NaN],Hs(this,y2,A5).call(this,Oe);const[Be,ze,Ve,qe]=Ke(this,Fx);for(let We=0,Ge=Ee.length;We<Ge;We+=2)Ee[We]=(Ee[We]-Be)/Ve,Ee[We+1]=(Ee[We+1]-ze)/qe;for(let We=0,Ge=Ce.length;We<Ge;We+=2)Ce[We]=(Ce[We]-Be)/Ve,Ce[We+1]=(Ce[We+1]-ze)/qe}toSVGPath(){const Ee=[`M${Ke(this,Ya)[4]} ${Ke(this,Ya)[5]}`];for(let Ce=6,Te=Ke(this,Ya).length;Ce<Te;Ce+=6){if(isNaN(Ke(this,Ya)[Ce])){Ee.push(`L${Ke(this,Ya)[Ce+4]} ${Ke(this,Ya)[Ce+5]}`);continue}Ee.push(`C${Ke(this,Ya)[Ce]} ${Ke(this,Ya)[Ce+1]} ${Ke(this,Ya)[Ce+2]} ${Ke(this,Ya)[Ce+3]} ${Ke(this,Ya)[Ce+4]} ${Ke(this,Ya)[Ce+5]}`)}return Ee.push("Z"),Ee.join(" ")}serialize([Ee,Ce,Te,De],Me){const Oe=Te-Ee,Be=De-Ce;let ze,Ve;switch(Me){case 0:ze=Outline._rescale(Ke(this,Ya),Ee,De,Oe,-Be),Ve=Outline._rescale(Ke(this,bu),Ee,De,Oe,-Be);break;case 90:ze=Outline._rescaleAndSwap(Ke(this,Ya),Ee,Ce,Oe,Be),Ve=Outline._rescaleAndSwap(Ke(this,bu),Ee,Ce,Oe,Be);break;case 180:ze=Outline._rescale(Ke(this,Ya),Te,Ce,-Oe,Be),Ve=Outline._rescale(Ke(this,bu),Te,Ce,-Oe,Be);break;case 270:ze=Outline._rescaleAndSwap(Ke(this,Ya),Te,De,-Oe,-Be),Ve=Outline._rescaleAndSwap(Ke(this,bu),Te,De,-Oe,-Be);break}return{outline:Array.from(ze),points:[Array.from(Ve)]}}get box(){return Ke(this,Fx)}newOutliner(Ee,Ce,Te,De,Me,Oe=0){return new FreeDrawOutliner(Ee,Ce,Te,De,Me,Oe)}getNewOutline(Ee,Ce){const[Te,De,Me,Oe]=Ke(this,Fx),[Be,ze,Ve,qe]=Ke(this,G0),We=Me*Ve,Ge=Oe*qe,Je=Te*Ve+Be,Qe=De*qe+ze,ns=this.newOutliner({x:Ke(this,bu)[0]*We+Je,y:Ke(this,bu)[1]*Ge+Qe},Ke(this,G0),Ke(this,Ev),Ee,Ke(this,jv),Ce??Ke(this,Dp));for(let Ye=2;Ye<Ke(this,bu).length;Ye+=2)ns.add({x:Ke(this,bu)[Ye]*We+Je,y:Ke(this,bu)[Ye+1]*Ge+Qe});return ns.getOutlines()}}G0=new WeakMap,Fx=new WeakMap,Dp=new WeakMap,jv=new WeakMap,bu=new WeakMap,Ev=new WeakMap,Ya=new WeakMap,y2=new WeakSet,A5=function(Ee){const Ce=Ke(this,Ya);let Te=Ce[4],De=Ce[5];const Me=[Te,De,Te,De];let Oe=Te,Be=De,ze=Te,Ve=De;const qe=Ee?Math.max:Math.min,We=new Float32Array(4);for(let Je=6,Qe=Ce.length;Je<Qe;Je+=6){const ns=Ce[Je+4],Ye=Ce[Je+5];isNaN(Ce[Je])?(Util.pointBoundingBox(ns,Ye,Me),Be>Ye?(Oe=ns,Be=Ye):Be===Ye&&(Oe=qe(Oe,ns)),Ve<Ye?(ze=ns,Ve=Ye):Ve===Ye&&(ze=qe(ze,ns))):(We[0]=We[1]=1/0,We[2]=We[3]=-1/0,Util.bezierBoundingBox(Te,De,...Ce.slice(Je,Je+6),We),Util.rectBoundingBox(We[0],We[1],We[2],We[3],Me),Be>We[1]?(Oe=We[0],Be=We[1]):Be===We[1]&&(Oe=qe(Oe,We[0])),Ve<We[3]?(ze=We[2],Ve=We[3]):Ve===We[3]&&(ze=qe(ze,We[2]))),Te=ns,De=Ye}const Ge=Ke(this,Fx);Ge[0]=Me[0]-Ke(this,Dp),Ge[1]=Me[1]-Ke(this,Dp),Ge[2]=Me[2]-Me[0]+2*Ke(this,Dp),Ge[3]=Me[3]-Me[1]+2*Ke(this,Dp),this.firstPoint=[Oe,Be],this.lastPoint=[ze,Ve]};var wv,Rv,_v,Ym,Od,hc,C5,Hb,P5,T5,yE;class HighlightOutliner{constructor(e,Ee=0,Ce=0,Te=!0){Bs(this,hc);Bs(this,wv);Bs(this,Rv);Bs(this,_v);Bs(this,Ym,[]);Bs(this,Od,[]);const De=[1/0,1/0,-1/0,-1/0],Me=10**-4;for(const{x:Qe,y:ns,width:Ye,height:rs}of e){const ts=Math.floor((Qe-Ee)/Me)*Me,Xe=Math.ceil((Qe+Ye+Ee)/Me)*Me,is=Math.floor((ns-Ee)/Me)*Me,os=Math.ceil((ns+rs+Ee)/Me)*Me,hs=[ts,is,os,!0],fs=[Xe,is,os,!1];Ke(this,Ym).push(hs,fs),Util.rectBoundingBox(ts,is,Xe,os,De)}const Oe=De[2]-De[0]+2*Ce,Be=De[3]-De[1]+2*Ce,ze=De[0]-Ce,Ve=De[1]-Ce;let qe=Te?-1/0:1/0,We=1/0;const Ge=Ke(this,Ym).at(Te?-1:-2),Je=[Ge[0],Ge[2]];for(const Qe of Ke(this,Ym)){const[ns,Ye,rs,ts]=Qe;!ts&&Te?Ye<We?(We=Ye,qe=ns):Ye===We&&(qe=Math.max(qe,ns)):ts&&!Te&&(Ye<We?(We=Ye,qe=ns):Ye===We&&(qe=Math.min(qe,ns))),Qe[0]=(ns-ze)/Oe,Qe[1]=(Ye-Ve)/Be,Qe[2]=(rs-Ve)/Be}Ls(this,wv,new Float32Array([ze,Ve,Oe,Be])),Ls(this,Rv,[qe,We]),Ls(this,_v,Je)}getOutlines(){Ke(this,Ym).sort((Ee,Ce)=>Ee[0]-Ce[0]||Ee[1]-Ce[1]||Ee[2]-Ce[2]);const e=[];for(const Ee of Ke(this,Ym))Ee[3]?(e.push(...Hs(this,hc,yE).call(this,Ee)),Hs(this,hc,P5).call(this,Ee)):(Hs(this,hc,T5).call(this,Ee),e.push(...Hs(this,hc,yE).call(this,Ee)));return Hs(this,hc,C5).call(this,e)}}wv=new WeakMap,Rv=new WeakMap,_v=new WeakMap,Ym=new WeakMap,Od=new WeakMap,hc=new WeakSet,C5=function(e){const Ee=[],Ce=new Set;for(const Me of e){const[Oe,Be,ze]=Me;Ee.push([Oe,Be,Me],[Oe,ze,Me])}Ee.sort((Me,Oe)=>Me[1]-Oe[1]||Me[0]-Oe[0]);for(let Me=0,Oe=Ee.length;Me<Oe;Me+=2){const Be=Ee[Me][2],ze=Ee[Me+1][2];Be.push(ze),ze.push(Be),Ce.add(Be),Ce.add(ze)}const Te=[];let De;for(;Ce.size>0;){const Me=Ce.values().next().value;let[Oe,Be,ze,Ve,qe]=Me;Ce.delete(Me);let We=Oe,Ge=Be;for(De=[Oe,ze],Te.push(De);;){let Je;if(Ce.has(Ve))Je=Ve;else if(Ce.has(qe))Je=qe;else break;Ce.delete(Je),[Oe,Be,ze,Ve,qe]=Je,We!==Oe&&(De.push(We,Ge,Oe,Ge===Be?Be:ze),We=Oe),Ge=Ge===Be?ze:Be}De.push(We,Ge)}return new HighlightOutline(Te,Ke(this,wv),Ke(this,Rv),Ke(this,_v))},Hb=function(e){const Ee=Ke(this,Od);let Ce=0,Te=Ee.length-1;for(;Ce<=Te;){const De=Ce+Te>>1,Me=Ee[De][0];if(Me===e)return De;Me<e?Ce=De+1:Te=De-1}return Te+1},P5=function([,e,Ee]){const Ce=Hs(this,hc,Hb).call(this,e);Ke(this,Od).splice(Ce,0,[e,Ee])},T5=function([,e,Ee]){const Ce=Hs(this,hc,Hb).call(this,e);for(let Te=Ce;Te<Ke(this,Od).length;Te++){const[De,Me]=Ke(this,Od)[Te];if(De!==e)break;if(De===e&&Me===Ee){Ke(this,Od).splice(Te,1);return}}for(let Te=Ce-1;Te>=0;Te--){const[De,Me]=Ke(this,Od)[Te];if(De!==e)break;if(De===e&&Me===Ee){Ke(this,Od).splice(Te,1);return}}},yE=function(e){const[Ee,Ce,Te]=e,De=[[Ee,Ce,Te]],Me=Hs(this,hc,Hb).call(this,Te);for(let Oe=0;Oe<Me;Oe++){const[Be,ze]=Ke(this,Od)[Oe];for(let Ve=0,qe=De.length;Ve<qe;Ve++){const[,We,Ge]=De[Ve];if(!(ze<=We||Ge<=Be)){if(We>=Be){if(Ge>ze)De[Ve][1]=ze;else{if(qe===1)return[];De.splice(Ve,1),Ve--,qe--}continue}De[Ve][2]=Be,Ge>ze&&De.push([Ee,ze,Ge])}}}return De};var Sv,W0;class HighlightOutline extends Outline{constructor(Ee,Ce,Te,De){super();Bs(this,Sv);Bs(this,W0);Ls(this,W0,Ee),Ls(this,Sv,Ce),this.firstPoint=Te,this.lastPoint=De}toSVGPath(){const Ee=[];for(const Ce of Ke(this,W0)){let[Te,De]=Ce;Ee.push(`M${Te} ${De}`);for(let Me=2;Me<Ce.length;Me+=2){const Oe=Ce[Me],Be=Ce[Me+1];Oe===Te?(Ee.push(`V${Be}`),De=Be):Be===De&&(Ee.push(`H${Oe}`),Te=Oe)}Ee.push("Z")}return Ee.join(" ")}serialize([Ee,Ce,Te,De],Me){const Oe=[],Be=Te-Ee,ze=De-Ce;for(const Ve of Ke(this,W0)){const qe=new Array(Ve.length);for(let We=0;We<Ve.length;We+=2)qe[We]=Ee+Ve[We]*Be,qe[We+1]=De-Ve[We+1]*ze;Oe.push(qe)}return Oe}get box(){return Ke(this,Sv)}get classNamesForOutlining(){return["highlightOutline"]}}Sv=new WeakMap,W0=new WeakMap;class FreeHighlightOutliner extends FreeDrawOutliner{newFreeDrawOutline(e,Ee,Ce,Te,De,Me){return new FreeHighlightOutline(e,Ee,Ce,Te,De,Me)}}class FreeHighlightOutline extends FreeDrawOutline{newOutliner(e,Ee,Ce,Te,De,Me=0){return new FreeHighlightOutliner(e,Ee,Ce,Te,De,Me)}}var Z0,Nv,Lp,Ox,Av,Oc,Cv,Pv,Ix,ju,Eu,ul,K0,Y0,Hl,X0,cd,Tv,Wi,vE,qb,k5,D5,L5,bE,Ff,dd,Tg,M5,Gb,Wb,F5,O5,I5,B5,z5;const _n=class _n extends AnnotationEditor{constructor(Ee){super({...Ee,name:"highlightEditor"});Bs(this,Wi);Bs(this,Z0,null);Bs(this,Nv,0);Bs(this,Lp);Bs(this,Ox,null);Bs(this,Av,null);Bs(this,Oc,null);Bs(this,Cv,null);Bs(this,Pv,0);Bs(this,Ix,null);Bs(this,ju,null);Bs(this,Eu,null);Bs(this,ul,!1);Bs(this,K0,null);Bs(this,Y0,null);Bs(this,Hl,null);Bs(this,X0,"");Bs(this,cd);Bs(this,Tv,"");this.color=Ee.color||_n._defaultColor,Ls(this,cd,Ee.thickness||_n._defaultThickness),this.opacity=Ee.opacity||_n._defaultOpacity,Ls(this,Lp,Ee.boxes||null),Ls(this,Tv,Ee.methodOfCreation||""),Ls(this,X0,Ee.text||""),this._isDraggable=!1,this.defaultL10nId="pdfjs-editor-highlight-editor",Ee.highlightId>-1?(Ls(this,ul,!0),Hs(this,Wi,qb).call(this,Ee),Hs(this,Wi,Ff).call(this)):Ke(this,Lp)&&(Ls(this,Z0,Ee.anchorNode),Ls(this,Nv,Ee.anchorOffset),Ls(this,Cv,Ee.focusNode),Ls(this,Pv,Ee.focusOffset),Hs(this,Wi,vE).call(this),Hs(this,Wi,Ff).call(this),this.rotate(this.rotation)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-highlight-added-alert")}static get _keyboardManager(){const Ee=_n.prototype;return shadow(this,"_keyboardManager",new KeyboardManager([[["ArrowLeft","mac+ArrowLeft"],Ee._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],Ee._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],Ee._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],Ee._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:Ke(this,ul)?"free_highlight":"highlight",color:this._uiManager.getNonHCMColorName(this.color),thickness:Ke(this,cd),methodOfCreation:Ke(this,Tv)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.getNonHCMColorName(this.color)}}static computeTelemetryFinalData(Ee){return{numberOfColors:Ee.get("color").size}}static initialize(Ee,Ce){var Te;AnnotationEditor.initialize(Ee,Ce),_n._defaultColor||(_n._defaultColor=((Te=Ce.highlightColors)==null?void 0:Te.values().next().value)||"#fff066")}static updateDefaultParams(Ee,Ce){switch(Ee){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:_n._defaultColor=Ce;break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:_n._defaultThickness=Ce;break}}translateInPage(Ee,Ce){}get toolbarPosition(){return Ke(this,Y0)}get commentButtonPosition(){return Ke(this,K0)}updateParams(Ee,Ce){switch(Ee){case AnnotationEditorParamsType.HIGHLIGHT_COLOR:Hs(this,Wi,k5).call(this,Ce);break;case AnnotationEditorParamsType.HIGHLIGHT_THICKNESS:Hs(this,Wi,D5).call(this,Ce);break}}static get defaultPropertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,_n._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,_n._defaultThickness]]}get propertiesToUpdate(){return[[AnnotationEditorParamsType.HIGHLIGHT_COLOR,this.color||_n._defaultColor],[AnnotationEditorParamsType.HIGHLIGHT_THICKNESS,Ke(this,cd)||_n._defaultThickness],[AnnotationEditorParamsType.HIGHLIGHT_FREE,Ke(this,ul)]]}onUpdatedColor(){var Ee,Ce;(Ee=this.parent)==null||Ee.drawLayer.updateProperties(Ke(this,Eu),{root:{fill:this.color,"fill-opacity":this.opacity}}),(Ce=Ke(this,Av))==null||Ce.updateColor(this.color),super.onUpdatedColor()}get toolbarButtons(){return this._uiManager.highlightColors?[["colorPicker",Ls(this,Av,new ColorPicker({editor:this}))]]:super.toolbarButtons}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(Hs(this,Wi,Wb).call(this))}getBaseTranslation(){return[0,0]}getRect(Ee,Ce){return super.getRect(Ee,Ce,Hs(this,Wi,Wb).call(this))}onceAdded(Ee){this.annotationElementId||this.parent.addUndoableEditor(this),Ee&&this.div.focus()}remove(){Hs(this,Wi,bE).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Hs(this,Wi,Ff).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(Ee){var Te;let Ce=!1;this.parent&&!Ee?Hs(this,Wi,bE).call(this):Ee&&(Hs(this,Wi,Ff).call(this,Ee),Ce=!this.parent&&((Te=this.div)==null?void 0:Te.classList.contains("selectedEditor"))),super.setParent(Ee),this.show(this._isVisible),Ce&&this.select()}rotate(Ee){var De,Me,Oe;const{drawLayer:Ce}=this.parent;let Te;Ke(this,ul)?(Ee=(Ee-this.rotation+360)%360,Te=Hs(De=_n,dd,Tg).call(De,Ke(this,ju).box,Ee)):Te=Hs(Me=_n,dd,Tg).call(Me,[this.x,this.y,this.width,this.height],Ee),Ce.updateProperties(Ke(this,Eu),{bbox:Te,root:{"data-main-rotation":Ee}}),Ce.updateProperties(Ke(this,Hl),{bbox:Hs(Oe=_n,dd,Tg).call(Oe,Ke(this,Oc).box,Ee),root:{"data-main-rotation":Ee}})}render(){if(this.div)return this.div;const Ee=super.render();Ke(this,X0)&&(Ee.setAttribute("aria-label",Ke(this,X0)),Ee.setAttribute("role","mark")),Ke(this,ul)?Ee.classList.add("free"):this.div.addEventListener("keydown",Hs(this,Wi,M5).bind(this),{signal:this._uiManager._signal});const Ce=Ls(this,Ix,document.createElement("div"));return Ee.append(Ce),Ce.setAttribute("aria-hidden","true"),Ce.className="internal",Ce.style.clipPath=Ke(this,Ox),this.setDims(this.width,this.height),bindEvents(this,Ke(this,Ix),["pointerover","pointerleave"]),this.enableEditing(),Ee}pointerover(){var Ee;this.isSelected||(Ee=this.parent)==null||Ee.drawLayer.updateProperties(Ke(this,Hl),{rootClass:{hovered:!0}})}pointerleave(){var Ee;this.isSelected||(Ee=this.parent)==null||Ee.drawLayer.updateProperties(Ke(this,Hl),{rootClass:{hovered:!1}})}_moveCaret(Ee){switch(this.parent.unselect(this),Ee){case 0:case 2:Hs(this,Wi,Gb).call(this,!0);break;case 1:case 3:Hs(this,Wi,Gb).call(this,!1);break}}select(){var Ee;super.select(),Ke(this,Hl)&&((Ee=this.parent)==null||Ee.drawLayer.updateProperties(Ke(this,Hl),{rootClass:{hovered:!1,selected:!0}}))}unselect(){var Ee;super.unselect(),Ke(this,Hl)&&((Ee=this.parent)==null||Ee.drawLayer.updateProperties(Ke(this,Hl),{rootClass:{selected:!1}}),Ke(this,ul)||Hs(this,Wi,Gb).call(this,!1))}get _mustFixPosition(){return!Ke(this,ul)}show(Ee=this._isVisible){super.show(Ee),this.parent&&(this.parent.drawLayer.updateProperties(Ke(this,Eu),{rootClass:{hidden:!Ee}}),this.parent.drawLayer.updateProperties(Ke(this,Hl),{rootClass:{hidden:!Ee}}))}static startHighlighting(Ee,Ce,{target:Te,x:De,y:Me}){const{x:Oe,y:Be,width:ze,height:Ve}=Te.getBoundingClientRect(),qe=new AbortController,We=Ee.combinedSignal(qe),Ge=Je=>{qe.abort(),Hs(this,dd,B5).call(this,Ee,Je)};window.addEventListener("blur",Ge,{signal:We}),window.addEventListener("pointerup",Ge,{signal:We}),window.addEventListener("pointerdown",stopEvent,{capture:!0,passive:!1,signal:We}),window.addEventListener("contextmenu",noContextMenu,{signal:We}),Te.addEventListener("pointermove",Hs(this,dd,I5).bind(this,Ee),{signal:We}),this._freeHighlight=new FreeHighlightOutliner({x:De,y:Me},[Oe,Be,ze,Ve],Ee.scale,this._defaultThickness/2,Ce,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=Ee.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:this._defaultColor,"fill-opacity":this._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:this._freeHighlight.toSVGPath()}},!0,!0)}static async deserialize(Ee,Ce,Te){var Qe,ns,Ye,rs;let De=null;if(Ee instanceof HighlightAnnotationElement){const{data:{quadPoints:ts,rect:Xe,rotation:is,id:os,color:hs,opacity:fs,popupRef:xs,richText:Ss,contentsObj:ds,creationDate:gs,modificationDate:Ts},parent:{page:{pageNumber:Ds}}}=Ee;De=Ee={annotationType:AnnotationEditorType.HIGHLIGHT,color:Array.from(hs),opacity:fs,quadPoints:ts,boxes:null,pageIndex:Ds-1,rect:Xe.slice(0),rotation:is,annotationElementId:os,id:os,deleted:!1,popupRef:xs,richText:Ss,comment:(ds==null?void 0:ds.str)||null,creationDate:gs,modificationDate:Ts}}else if(Ee instanceof InkAnnotationElement){const{data:{inkLists:ts,rect:Xe,rotation:is,id:os,color:hs,borderStyle:{rawWidth:fs},popupRef:xs,richText:Ss,contentsObj:ds,creationDate:gs,modificationDate:Ts},parent:{page:{pageNumber:Ds}}}=Ee;De=Ee={annotationType:AnnotationEditorType.HIGHLIGHT,color:Array.from(hs),thickness:fs,inkLists:ts,boxes:null,pageIndex:Ds-1,rect:Xe.slice(0),rotation:is,annotationElementId:os,id:os,deleted:!1,popupRef:xs,richText:Ss,comment:(ds==null?void 0:ds.str)||null,creationDate:gs,modificationDate:Ts}}const{color:Me,quadPoints:Oe,inkLists:Be,opacity:ze}=Ee,Ve=await super.deserialize(Ee,Ce,Te);Ve.color=Util.makeHexColor(...Me),Ve.opacity=ze||1,Be&&Ls(Ve,cd,Ee.thickness),Ve._initialData=De,Ee.comment&&Ve.setCommentData(Ee);const[qe,We]=Ve.pageDimensions,[Ge,Je]=Ve.pageTranslation;if(Oe){const ts=Ls(Ve,Lp,[]);for(let Xe=0;Xe<Oe.length;Xe+=8)ts.push({x:(Oe[Xe]-Ge)/qe,y:1-(Oe[Xe+1]-Je)/We,width:(Oe[Xe+2]-Oe[Xe])/qe,height:(Oe[Xe+1]-Oe[Xe+5])/We});Hs(Qe=Ve,Wi,vE).call(Qe),Hs(ns=Ve,Wi,Ff).call(ns),Ve.rotate(Ve.rotation)}else if(Be){Ls(Ve,ul,!0);const ts=Be[0],Xe={x:ts[0]-Ge,y:We-(ts[1]-Je)},is=new FreeHighlightOutliner(Xe,[0,0,qe,We],1,Ke(Ve,cd)/2,!0,.001);for(let fs=0,xs=ts.length;fs<xs;fs+=2)Xe.x=ts[fs]-Ge,Xe.y=We-(ts[fs+1]-Je),is.add(Xe);const{id:os,clipPathId:hs}=Ce.drawLayer.draw({bbox:[0,0,1,1],root:{viewBox:"0 0 1 1",fill:Ve.color,"fill-opacity":Ve._defaultOpacity},rootClass:{highlight:!0,free:!0},path:{d:is.toSVGPath()}},!0,!0);Hs(Ye=Ve,Wi,qb).call(Ye,{highlightOutlines:is.getOutlines(),highlightId:os,clipPathId:hs}),Hs(rs=Ve,Wi,Ff).call(rs),Ve.rotate(Ve.parentRotation)}return Ve}serialize(Ee=!1){if(this.isEmpty()||Ee)return null;if(this.deleted)return this.serializeDeleted();const Ce=AnnotationEditor._colorManager.convert(this._uiManager.getNonHCMColor(this.color)),Te=super.serialize(Ee);return Object.assign(Te,{color:Ce,opacity:this.opacity,thickness:Ke(this,cd),quadPoints:Hs(this,Wi,F5).call(this),outlines:Hs(this,Wi,O5).call(this,Te.rect)}),this.addComment(Te),this.annotationElementId&&!Hs(this,Wi,z5).call(this,Te)?null:(Te.id=this.annotationElementId,Te)}renderAnnotationElement(Ee){return this.deleted?(Ee.hide(),null):(Ee.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}static canCreateNewEmptyEditor(){return!1}};Z0=new WeakMap,Nv=new WeakMap,Lp=new WeakMap,Ox=new WeakMap,Av=new WeakMap,Oc=new WeakMap,Cv=new WeakMap,Pv=new WeakMap,Ix=new WeakMap,ju=new WeakMap,Eu=new WeakMap,ul=new WeakMap,K0=new WeakMap,Y0=new WeakMap,Hl=new WeakMap,X0=new WeakMap,cd=new WeakMap,Tv=new WeakMap,Wi=new WeakSet,vE=function(){const Ee=new HighlightOutliner(Ke(this,Lp),.001);Ls(this,ju,Ee.getOutlines()),[this.x,this.y,this.width,this.height]=Ke(this,ju).box;const Ce=new HighlightOutliner(Ke(this,Lp),.0025,.001,this._uiManager.direction==="ltr");Ls(this,Oc,Ce.getOutlines());const{firstPoint:Te}=Ke(this,ju);Ls(this,K0,[(Te[0]-this.x)/this.width,(Te[1]-this.y)/this.height]);const{lastPoint:De}=Ke(this,Oc);Ls(this,Y0,[(De[0]-this.x)/this.width,(De[1]-this.y)/this.height])},qb=function({highlightOutlines:Ee,highlightId:Ce,clipPathId:Te}){var We,Ge;if(Ls(this,ju,Ee),Ls(this,Oc,Ee.getNewOutline(Ke(this,cd)/2+1.5,.0025)),Ce>=0)Ls(this,Eu,Ce),Ls(this,Ox,Te),this.parent.drawLayer.finalizeDraw(Ce,{bbox:Ee.box,path:{d:Ee.toSVGPath()}}),Ls(this,Hl,this.parent.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:!0},bbox:Ke(this,Oc).box,path:{d:Ke(this,Oc).toSVGPath()}},!0));else if(this.parent){const Je=this.parent.viewport.rotation;this.parent.drawLayer.updateProperties(Ke(this,Eu),{bbox:Hs(We=_n,dd,Tg).call(We,Ke(this,ju).box,(Je-this.rotation+360)%360),path:{d:Ee.toSVGPath()}}),this.parent.drawLayer.updateProperties(Ke(this,Hl),{bbox:Hs(Ge=_n,dd,Tg).call(Ge,Ke(this,Oc).box,Je),path:{d:Ke(this,Oc).toSVGPath()}})}const[Me,Oe,Be,ze]=Ee.box;switch(this.rotation){case 0:this.x=Me,this.y=Oe,this.width=Be,this.height=ze;break;case 90:{const[Je,Qe]=this.parentDimensions;this.x=Oe,this.y=1-Me,this.width=Be*Qe/Je,this.height=ze*Je/Qe;break}case 180:this.x=1-Me,this.y=1-Oe,this.width=Be,this.height=ze;break;case 270:{const[Je,Qe]=this.parentDimensions;this.x=1-Oe,this.y=Me,this.width=Be*Qe/Je,this.height=ze*Je/Qe;break}}const{firstPoint:Ve}=Ee;Ls(this,K0,[(Ve[0]-Me)/Be,(Ve[1]-Oe)/ze]);const{lastPoint:qe}=Ke(this,Oc);Ls(this,Y0,[(qe[0]-Me)/Be,(qe[1]-Oe)/ze])},k5=function(Ee){const Ce=(Me,Oe)=>{this.color=Me,this.opacity=Oe,this.onUpdatedColor()},Te=this.color,De=this.opacity;this.addCommands({cmd:Ce.bind(this,Ee,_n._defaultOpacity),undo:Ce.bind(this,Te,De),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.getNonHCMColorName(Ee)},!0)},D5=function(Ee){const Ce=Ke(this,cd),Te=De=>{Ls(this,cd,De),Hs(this,Wi,L5).call(this,De)};this.addCommands({cmd:Te.bind(this,Ee),undo:Te.bind(this,Ce),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:Ee},!0)},L5=function(Ee){Ke(this,ul)&&(Hs(this,Wi,qb).call(this,{highlightOutlines:Ke(this,ju).getNewOutline(Ee/2)}),this.fixAndSetPosition(),this.setDims(this.width,this.height))},bE=function(){Ke(this,Eu)===null||!this.parent||(this.parent.drawLayer.remove(Ke(this,Eu)),Ls(this,Eu,null),this.parent.drawLayer.remove(Ke(this,Hl)),Ls(this,Hl,null))},Ff=function(Ee=this.parent){Ke(this,Eu)===null&&({id:Ro(this,Eu)._,clipPathId:Ro(this,Ox)._}=Ee.drawLayer.draw({bbox:Ke(this,ju).box,root:{viewBox:"0 0 1 1",fill:this.color,"fill-opacity":this.opacity},rootClass:{highlight:!0,free:Ke(this,ul)},path:{d:Ke(this,ju).toSVGPath()}},!1,!0),Ls(this,Hl,Ee.drawLayer.drawOutline({rootClass:{highlightOutline:!0,free:Ke(this,ul)},bbox:Ke(this,Oc).box,path:{d:Ke(this,Oc).toSVGPath()}},Ke(this,ul))),Ke(this,Ix)&&(Ke(this,Ix).style.clipPath=Ke(this,Ox)))},dd=new WeakSet,Tg=function([Ee,Ce,Te,De],Me){switch(Me){case 90:return[1-Ce-De,Ee,De,Te];case 180:return[1-Ee-Te,1-Ce-De,Te,De];case 270:return[Ce,1-Ee-Te,De,Te]}return[Ee,Ce,Te,De]},M5=function(Ee){_n._keyboardManager.exec(this,Ee)},Gb=function(Ee){if(!Ke(this,Z0))return;const Ce=window.getSelection();Ee?Ce.setPosition(Ke(this,Z0),Ke(this,Nv)):Ce.setPosition(Ke(this,Cv),Ke(this,Pv))},Wb=function(){return Ke(this,ul)?this.rotation:0},F5=function(){if(Ke(this,ul))return null;const[Ee,Ce]=this.pageDimensions,[Te,De]=this.pageTranslation,Me=Ke(this,Lp),Oe=new Float32Array(Me.length*8);let Be=0;for(const{x:ze,y:Ve,width:qe,height:We}of Me){const Ge=ze*Ee+Te,Je=(1-Ve)*Ce+De;Oe[Be]=Oe[Be+4]=Ge,Oe[Be+1]=Oe[Be+3]=Je,Oe[Be+2]=Oe[Be+6]=Ge+qe*Ee,Oe[Be+5]=Oe[Be+7]=Je-We*Ce,Be+=8}return Oe},O5=function(Ee){return Ke(this,ju).serialize(Ee,Hs(this,Wi,Wb).call(this))},I5=function(Ee,Ce){this._freeHighlight.add(Ce)&&Ee.drawLayer.updateProperties(this._freeHighlightId,{path:{d:this._freeHighlight.toSVGPath()}})},B5=function(Ee,Ce){this._freeHighlight.isEmpty()?Ee.drawLayer.remove(this._freeHighlightId):Ee.createAndAddNewEditor(Ce,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},z5=function(Ee){const{color:Ce}=this._initialData;return this.hasEditedComment||Ee.color.some((Te,De)=>Te!==Ce[De])},Bs(_n,dd),qr(_n,"_defaultColor",null),qr(_n,"_defaultOpacity",1),qr(_n,"_defaultThickness",12),qr(_n,"_type","highlight"),qr(_n,"_editorType",AnnotationEditorType.HIGHLIGHT),qr(_n,"_freeHighlightId",-1),qr(_n,"_freeHighlight",null),qr(_n,"_freeHighlightClipId","");let HighlightEditor=_n;var Bx;class DrawingOptions{constructor(){Bs(this,Bx,Object.create(null))}updateProperty(e,Ee){this[e]=Ee,this.updateSVGProperty(e,Ee)}updateProperties(e){if(e)for(const[Ee,Ce]of Object.entries(e))Ee.startsWith("_")||this.updateProperty(Ee,Ce)}updateSVGProperty(e,Ee){Ke(this,Bx)[e]=Ee}toSVGProperties(){const e=Ke(this,Bx);return Ls(this,Bx,Object.create(null)),{root:e}}reset(){Ls(this,Bx,Object.create(null))}updateAll(e=this){this.updateProperties(e)}clone(){unreachable("Not implemented")}}Bx=new WeakMap;var wu,J0,Ho,zx,$x,Xm,Jm,Qm,Vx,vn,jE,EE,wE,Xy,$5,Zb,Jy,kg;const bi=class bi extends AnnotationEditor{constructor(Ee){super(Ee);Bs(this,vn);Bs(this,wu,null);Bs(this,J0);qr(this,"_colorPicker",null);qr(this,"_drawId",null);Ls(this,J0,Ee.mustBeCommitted||!1),this._addOutlines(Ee)}onUpdatedColor(){var Ee;(Ee=this._colorPicker)==null||Ee.update(this.color),super.onUpdatedColor()}_addOutlines(Ee){Ee.drawOutlines&&(Hs(this,vn,jE).call(this,Ee),Hs(this,vn,Xy).call(this))}static _mergeSVGProperties(Ee,Ce){const Te=new Set(Object.keys(Ee));for(const[De,Me]of Object.entries(Ce))Te.has(De)?Object.assign(Ee[De],Me):Ee[De]=Me;return Ee}static getDefaultDrawingOptions(Ee){unreachable("Not implemented")}static get typesMap(){unreachable("Not implemented")}static get isDrawer(){return!0}static get supportMultipleDrawings(){return!1}static updateDefaultParams(Ee,Ce){const Te=this.typesMap.get(Ee);Te&&this._defaultDrawingOptions.updateProperty(Te,Ce),this._currentParent&&(Ke(bi,Ho).updateProperty(Te,Ce),this._currentParent.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}updateParams(Ee,Ce){const Te=this.constructor.typesMap.get(Ee);Te&&this._updateProperty(Ee,Te,Ce)}static get defaultPropertiesToUpdate(){const Ee=[],Ce=this._defaultDrawingOptions;for(const[Te,De]of this.typesMap)Ee.push([Te,Ce[De]]);return Ee}get propertiesToUpdate(){const Ee=[],{_drawingOptions:Ce}=this;for(const[Te,De]of this.constructor.typesMap)Ee.push([Te,Ce[De]]);return Ee}_updateProperty(Ee,Ce,Te){const De=this._drawingOptions,Me=De[Ce],Oe=Be=>{var Ve;De.updateProperty(Ce,Be);const ze=Ke(this,wu).updateProperty(Ce,Be);ze&&Hs(this,vn,Jy).call(this,ze),(Ve=this.parent)==null||Ve.drawLayer.updateProperties(this._drawId,De.toSVGProperties()),Ee===this.colorType&&this.onUpdatedColor()};this.addCommands({cmd:Oe.bind(this,Te),undo:Oe.bind(this,Me),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Ee,overwriteIfSameType:!0,keepUndo:!0})}_onResizing(){var Ee;(Ee=this.parent)==null||Ee.drawLayer.updateProperties(this._drawId,bi._mergeSVGProperties(Ke(this,wu).getPathResizingSVGProperties(Hs(this,vn,Zb).call(this)),{bbox:Hs(this,vn,kg).call(this)}))}_onResized(){var Ee;(Ee=this.parent)==null||Ee.drawLayer.updateProperties(this._drawId,bi._mergeSVGProperties(Ke(this,wu).getPathResizedSVGProperties(Hs(this,vn,Zb).call(this)),{bbox:Hs(this,vn,kg).call(this)}))}_onTranslating(Ee,Ce){var Te;(Te=this.parent)==null||Te.drawLayer.updateProperties(this._drawId,{bbox:Hs(this,vn,kg).call(this)})}_onTranslated(){var Ee;(Ee=this.parent)==null||Ee.drawLayer.updateProperties(this._drawId,bi._mergeSVGProperties(Ke(this,wu).getPathTranslatedSVGProperties(Hs(this,vn,Zb).call(this),this.parentDimensions),{bbox:Hs(this,vn,kg).call(this)}))}_onStartDragging(){var Ee;(Ee=this.parent)==null||Ee.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!0}})}_onStopDragging(){var Ee;(Ee=this.parent)==null||Ee.drawLayer.updateProperties(this._drawId,{rootClass:{moving:!1}})}commit(){super.commit(),this.disableEditMode(),this.disableEditing()}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}getBaseTranslation(){return[0,0]}get isResizable(){return!0}onceAdded(Ee){this.annotationElementId||this.parent.addUndoableEditor(this),this._isDraggable=!0,Ke(this,J0)&&(Ls(this,J0,!1),this.commit(),this.parent.setSelected(this),Ee&&this.isOnScreen&&this.div.focus())}remove(){Hs(this,vn,wE).call(this),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(Hs(this,vn,Xy).call(this),Hs(this,vn,Jy).call(this,Ke(this,wu).box),this.isAttachedToDOM||this.parent.add(this)))}setParent(Ee){var Te;let Ce=!1;this.parent&&!Ee?(this._uiManager.removeShouldRescale(this),Hs(this,vn,wE).call(this)):Ee&&(this._uiManager.addShouldRescale(this),Hs(this,vn,Xy).call(this,Ee),Ce=!this.parent&&((Te=this.div)==null?void 0:Te.classList.contains("selectedEditor"))),super.setParent(Ee),Ce&&this.select()}rotate(){this.parent&&this.parent.drawLayer.updateProperties(this._drawId,bi._mergeSVGProperties({bbox:Hs(this,vn,kg).call(this)},Ke(this,wu).updateRotation((this.parentRotation-this.rotation+360)%360)))}onScaleChanging(){this.parent&&Hs(this,vn,Jy).call(this,Ke(this,wu).updateParentDimensions(this.parentDimensions,this.parent.scale))}static onScaleChangingWhenDrawing(){}render(){if(this.div)return this.div;let Ee,Ce;this._isCopy&&(Ee=this.x,Ce=this.y);const Te=super.render();Te.classList.add("draw");const De=document.createElement("div");return Te.append(De),De.setAttribute("aria-hidden","true"),De.className="internal",this.setDims(),this._uiManager.addShouldRescale(this),this.disableEditing(),this._isCopy&&this._moveAfterPaste(Ee,Ce),Te}static createDrawerInstance(Ee,Ce,Te,De,Me){unreachable("Not implemented")}static startDrawing(Ee,Ce,Te,De){var ns;const{target:Me,offsetX:Oe,offsetY:Be,pointerId:ze,pointerType:Ve}=De;if(Ke(bi,Jm)&&Ke(bi,Jm)!==Ve)return;const{viewport:{rotation:qe}}=Ee,{width:We,height:Ge}=Me.getBoundingClientRect(),Je=Ls(bi,zx,new AbortController),Qe=Ee.combinedSignal(Je);if(Ke(bi,Xm)||Ls(bi,Xm,ze),Ke(bi,Jm)??Ls(bi,Jm,Ve),window.addEventListener("pointerup",Ye=>{var rs;Ke(bi,Xm)===Ye.pointerId?this._endDraw(Ye):(rs=Ke(bi,Qm))==null||rs.delete(Ye.pointerId)},{signal:Qe}),window.addEventListener("pointercancel",Ye=>{var rs;Ke(bi,Xm)===Ye.pointerId?this._currentParent.endDrawingSession():(rs=Ke(bi,Qm))==null||rs.delete(Ye.pointerId)},{signal:Qe}),window.addEventListener("pointerdown",Ye=>{Ke(bi,Jm)===Ye.pointerType&&((Ke(bi,Qm)||Ls(bi,Qm,new Set)).add(Ye.pointerId),Ke(bi,Ho).isCancellable()&&(Ke(bi,Ho).removeLastElement(),Ke(bi,Ho).isEmpty()?this._currentParent.endDrawingSession(!0):this._endDraw(null)))},{capture:!0,passive:!1,signal:Qe}),window.addEventListener("contextmenu",noContextMenu,{signal:Qe}),Me.addEventListener("pointermove",this._drawMove.bind(this),{signal:Qe}),Me.addEventListener("touchmove",Ye=>{Ye.timeStamp===Ke(bi,Vx)&&stopEvent(Ye)},{signal:Qe}),Ee.toggleDrawing(),(ns=Ce._editorUndoBar)==null||ns.hide(),Ke(bi,Ho)){Ee.drawLayer.updateProperties(this._currentDrawId,Ke(bi,Ho).startNew(Oe,Be,We,Ge,qe));return}Ce.updateUIForDefaultProperties(this),Ls(bi,Ho,this.createDrawerInstance(Oe,Be,We,Ge,qe)),Ls(bi,$x,this.getDefaultDrawingOptions()),this._currentParent=Ee,{id:this._currentDrawId}=Ee.drawLayer.draw(this._mergeSVGProperties(Ke(bi,$x).toSVGProperties(),Ke(bi,Ho).defaultSVGProperties),!0,!1)}static _drawMove(Ee){var Me;if(Ls(bi,Vx,-1),!Ke(bi,Ho))return;const{offsetX:Ce,offsetY:Te,pointerId:De}=Ee;if(Ke(bi,Xm)===De){if(((Me=Ke(bi,Qm))==null?void 0:Me.size)>=1){this._endDraw(Ee);return}this._currentParent.drawLayer.updateProperties(this._currentDrawId,Ke(bi,Ho).add(Ce,Te)),Ls(bi,Vx,Ee.timeStamp),stopEvent(Ee)}}static _cleanup(Ee){Ee&&(this._currentDrawId=-1,this._currentParent=null,Ls(bi,Ho,null),Ls(bi,$x,null),Ls(bi,Jm,null),Ls(bi,Vx,NaN)),Ke(bi,zx)&&(Ke(bi,zx).abort(),Ls(bi,zx,null),Ls(bi,Xm,NaN),Ls(bi,Qm,null))}static _endDraw(Ee){const Ce=this._currentParent;if(Ce){if(Ce.toggleDrawing(!0),this._cleanup(!1),(Ee==null?void 0:Ee.target)===Ce.div&&Ce.drawLayer.updateProperties(this._currentDrawId,Ke(bi,Ho).end(Ee.offsetX,Ee.offsetY)),this.supportMultipleDrawings){const Te=Ke(bi,Ho),De=this._currentDrawId,Me=Te.getLastElement();Ce.addCommands({cmd:()=>{Ce.drawLayer.updateProperties(De,Te.setLastElement(Me))},undo:()=>{Ce.drawLayer.updateProperties(De,Te.removeLastElement())},mustExec:!1,type:AnnotationEditorParamsType.DRAW_STEP});return}this.endDrawing(!1)}}static endDrawing(Ee){const Ce=this._currentParent;if(!Ce)return null;if(Ce.toggleDrawing(!0),Ce.cleanUndoStack(AnnotationEditorParamsType.DRAW_STEP),!Ke(bi,Ho).isEmpty()){const{pageDimensions:[Te,De],scale:Me}=Ce,Oe=Ce.createAndAddNewEditor({offsetX:0,offsetY:0},!1,{drawId:this._currentDrawId,drawOutlines:Ke(bi,Ho).getOutlines(Te*Me,De*Me,Me,this._INNER_MARGIN),drawingOptions:Ke(bi,$x),mustBeCommitted:!Ee});return this._cleanup(!0),Oe}return Ce.drawLayer.remove(this._currentDrawId),this._cleanup(!0),null}createDrawingOptions(Ee){}static deserializeDraw(Ee,Ce,Te,De,Me,Oe){unreachable("Not implemented")}static async deserialize(Ee,Ce,Te){var qe,We;const{rawDims:{pageWidth:De,pageHeight:Me,pageX:Oe,pageY:Be}}=Ce.viewport,ze=this.deserializeDraw(Oe,Be,De,Me,this._INNER_MARGIN,Ee),Ve=await super.deserialize(Ee,Ce,Te);return Ve.createDrawingOptions(Ee),Hs(qe=Ve,vn,jE).call(qe,{drawOutlines:ze}),Hs(We=Ve,vn,Xy).call(We),Ve.onScaleChanging(),Ve.rotate(),Ve}serializeDraw(Ee){const[Ce,Te]=this.pageTranslation,[De,Me]=this.pageDimensions;return Ke(this,wu).serialize([Ce,Te,De,Me],Ee)}renderAnnotationElement(Ee){return Ee.updateEdited({rect:this.getPDFRect()}),null}static canCreateNewEmptyEditor(){return!1}};wu=new WeakMap,J0=new WeakMap,Ho=new WeakMap,zx=new WeakMap,$x=new WeakMap,Xm=new WeakMap,Jm=new WeakMap,Qm=new WeakMap,Vx=new WeakMap,vn=new WeakSet,jE=function({drawOutlines:Ee,drawId:Ce,drawingOptions:Te}){Ls(this,wu,Ee),this._drawingOptions||(this._drawingOptions=Te),this.annotationElementId||this._uiManager.a11yAlert(`pdfjs-editor-${this.editorType}-added-alert`),Ce>=0?(this._drawId=Ce,this.parent.drawLayer.finalizeDraw(Ce,Ee.defaultProperties)):this._drawId=Hs(this,vn,EE).call(this,Ee,this.parent),Hs(this,vn,Jy).call(this,Ee.box)},EE=function(Ee,Ce){const{id:Te}=Ce.drawLayer.draw(bi._mergeSVGProperties(this._drawingOptions.toSVGProperties(),Ee.defaultSVGProperties),!1,!1);return Te},wE=function(){this._drawId===null||!this.parent||(this.parent.drawLayer.remove(this._drawId),this._drawId=null,this._drawingOptions.reset())},Xy=function(Ee=this.parent){if(!(this._drawId!==null&&this.parent===Ee)){if(this._drawId!==null){this.parent.drawLayer.updateParent(this._drawId,Ee.drawLayer);return}this._drawingOptions.updateAll(),this._drawId=Hs(this,vn,EE).call(this,Ke(this,wu),Ee)}},$5=function([Ee,Ce,Te,De]){const{parentDimensions:[Me,Oe],rotation:Be}=this;switch(Be){case 90:return[Ce,1-Ee,Te*(Oe/Me),De*(Me/Oe)];case 180:return[1-Ee,1-Ce,Te,De];case 270:return[1-Ce,Ee,Te*(Oe/Me),De*(Me/Oe)];default:return[Ee,Ce,Te,De]}},Zb=function(){const{x:Ee,y:Ce,width:Te,height:De,parentDimensions:[Me,Oe],rotation:Be}=this;switch(Be){case 90:return[1-Ce,Ee,Te*(Me/Oe),De*(Oe/Me)];case 180:return[1-Ee,1-Ce,Te,De];case 270:return[Ce,1-Ee,Te*(Me/Oe),De*(Oe/Me)];default:return[Ee,Ce,Te,De]}},Jy=function(Ee){[this.x,this.y,this.width,this.height]=Hs(this,vn,$5).call(this,Ee),this.div&&(this.fixAndSetPosition(),this.setDims()),this._onResized()},kg=function(){const{x:Ee,y:Ce,width:Te,height:De,rotation:Me,parentRotation:Oe,parentDimensions:[Be,ze]}=this;switch((Me*4+Oe)/90){case 1:return[1-Ce-De,Ee,De,Te];case 2:return[1-Ee-Te,1-Ce-De,Te,De];case 3:return[Ce,1-Ee-Te,De,Te];case 4:return[Ee,Ce-Te*(Be/ze),De*(ze/Be),Te*(Be/ze)];case 5:return[1-Ce,Ee,Te*(Be/ze),De*(ze/Be)];case 6:return[1-Ee-De*(ze/Be),1-Ce,De*(ze/Be),Te*(Be/ze)];case 7:return[Ce-Te*(Be/ze),1-Ee-De*(ze/Be),Te*(Be/ze),De*(ze/Be)];case 8:return[Ee-Te,Ce-De,Te,De];case 9:return[1-Ce,Ee-Te,De,Te];case 10:return[1-Ee,1-Ce,Te,De];case 11:return[Ce-De,1-Ee,De,Te];case 12:return[Ee-De*(ze/Be),Ce,De*(ze/Be),Te*(Be/ze)];case 13:return[1-Ce-Te*(Be/ze),Ee-De*(ze/Be),Te*(Be/ze),De*(ze/Be)];case 14:return[1-Ee,1-Ce-Te*(Be/ze),De*(ze/Be),Te*(Be/ze)];case 15:return[Ce,1-Ee,Te*(Be/ze),De*(ze/Be)];default:return[Ee,Ce,Te,De]}},qr(bi,"_currentDrawId",-1),qr(bi,"_currentParent",null),Bs(bi,Ho,null),Bs(bi,zx,null),Bs(bi,$x,null),Bs(bi,Xm,NaN),Bs(bi,Jm,null),Bs(bi,Qm,null),Bs(bi,Vx,NaN),qr(bi,"_INNER_MARGIN",3);let DrawingEditor=bi;var _h,qo,Go,Ux,Q0,oc,dl,ud,Hx,qx,Gx,ey,Kb;class InkDrawOutliner{constructor(e,Ee,Ce,Te,De,Me){Bs(this,ey);Bs(this,_h,new Float64Array(6));Bs(this,qo);Bs(this,Go);Bs(this,Ux);Bs(this,Q0);Bs(this,oc);Bs(this,dl,"");Bs(this,ud,0);Bs(this,Hx,new InkDrawOutline);Bs(this,qx);Bs(this,Gx);Ls(this,qx,Ce),Ls(this,Gx,Te),Ls(this,Ux,De),Ls(this,Q0,Me),[e,Ee]=Hs(this,ey,Kb).call(this,e,Ee);const Oe=Ls(this,qo,[NaN,NaN,NaN,NaN,e,Ee]);Ls(this,oc,[e,Ee]),Ls(this,Go,[{line:Oe,points:Ke(this,oc)}]),Ke(this,_h).set(Oe,0)}updateProperty(e,Ee){e==="stroke-width"&&Ls(this,Q0,Ee)}isEmpty(){return!Ke(this,Go)||Ke(this,Go).length===0}isCancellable(){return Ke(this,oc).length<=10}add(e,Ee){[e,Ee]=Hs(this,ey,Kb).call(this,e,Ee);const[Ce,Te,De,Me]=Ke(this,_h).subarray(2,6),Oe=e-De,Be=Ee-Me;return Math.hypot(Ke(this,qx)*Oe,Ke(this,Gx)*Be)<=2?null:(Ke(this,oc).push(e,Ee),isNaN(Ce)?(Ke(this,_h).set([De,Me,e,Ee],2),Ke(this,qo).push(NaN,NaN,NaN,NaN,e,Ee),{path:{d:this.toSVGPath()}}):(isNaN(Ke(this,_h)[0])&&Ke(this,qo).splice(6,6),Ke(this,_h).set([Ce,Te,De,Me,e,Ee],0),Ke(this,qo).push(...Outline.createBezierPoints(Ce,Te,De,Me,e,Ee)),{path:{d:this.toSVGPath()}}))}end(e,Ee){const Ce=this.add(e,Ee);return Ce||(Ke(this,oc).length===2?{path:{d:this.toSVGPath()}}:null)}startNew(e,Ee,Ce,Te,De){Ls(this,qx,Ce),Ls(this,Gx,Te),Ls(this,Ux,De),[e,Ee]=Hs(this,ey,Kb).call(this,e,Ee);const Me=Ls(this,qo,[NaN,NaN,NaN,NaN,e,Ee]);Ls(this,oc,[e,Ee]);const Oe=Ke(this,Go).at(-1);return Oe&&(Oe.line=new Float32Array(Oe.line),Oe.points=new Float32Array(Oe.points)),Ke(this,Go).push({line:Me,points:Ke(this,oc)}),Ke(this,_h).set(Me,0),Ls(this,ud,0),this.toSVGPath(),null}getLastElement(){return Ke(this,Go).at(-1)}setLastElement(e){return Ke(this,Go)?(Ke(this,Go).push(e),Ls(this,qo,e.line),Ls(this,oc,e.points),Ls(this,ud,0),{path:{d:this.toSVGPath()}}):Ke(this,Hx).setLastElement(e)}removeLastElement(){if(!Ke(this,Go))return Ke(this,Hx).removeLastElement();Ke(this,Go).pop(),Ls(this,dl,"");for(let e=0,Ee=Ke(this,Go).length;e<Ee;e++){const{line:Ce,points:Te}=Ke(this,Go)[e];Ls(this,qo,Ce),Ls(this,oc,Te),Ls(this,ud,0),this.toSVGPath()}return{path:{d:Ke(this,dl)}}}toSVGPath(){const e=Outline.svgRound(Ke(this,qo)[4]),Ee=Outline.svgRound(Ke(this,qo)[5]);if(Ke(this,oc).length===2)return Ls(this,dl,`${Ke(this,dl)} M ${e} ${Ee} Z`),Ke(this,dl);if(Ke(this,oc).length<=6){const Te=Ke(this,dl).lastIndexOf("M");Ls(this,dl,`${Ke(this,dl).slice(0,Te)} M ${e} ${Ee}`),Ls(this,ud,6)}if(Ke(this,oc).length===4){const Te=Outline.svgRound(Ke(this,qo)[10]),De=Outline.svgRound(Ke(this,qo)[11]);return Ls(this,dl,`${Ke(this,dl)} L ${Te} ${De}`),Ls(this,ud,12),Ke(this,dl)}const Ce=[];Ke(this,ud)===0&&(Ce.push(`M ${e} ${Ee}`),Ls(this,ud,6));for(let Te=Ke(this,ud),De=Ke(this,qo).length;Te<De;Te+=6){const[Me,Oe,Be,ze,Ve,qe]=Ke(this,qo).slice(Te,Te+6).map(Outline.svgRound);Ce.push(`C${Me} ${Oe} ${Be} ${ze} ${Ve} ${qe}`)}return Ls(this,dl,Ke(this,dl)+Ce.join(" ")),Ls(this,ud,Ke(this,qo).length),Ke(this,dl)}getOutlines(e,Ee,Ce,Te){const De=Ke(this,Go).at(-1);return De.line=new Float32Array(De.line),De.points=new Float32Array(De.points),Ke(this,Hx).build(Ke(this,Go),e,Ee,Ce,Ke(this,Ux),Ke(this,Q0),Te),Ls(this,_h,null),Ls(this,qo,null),Ls(this,Go,null),Ls(this,dl,null),Ke(this,Hx)}get defaultSVGProperties(){return{root:{viewBox:"0 0 10000 10000"},rootClass:{draw:!0},bbox:[0,0,1,1]}}}_h=new WeakMap,qo=new WeakMap,Go=new WeakMap,Ux=new WeakMap,Q0=new WeakMap,oc=new WeakMap,dl=new WeakMap,ud=new WeakMap,Hx=new WeakMap,qx=new WeakMap,Gx=new WeakMap,ey=new WeakSet,Kb=function(e,Ee){return Outline._normalizePoint(e,Ee,Ke(this,qx),Ke(this,Gx),Ke(this,Ux))};var cc,kv,Dv,Ru,Sh,Nh,ty,sy,Wx,hl,rp,V5,U5,H5;class InkDrawOutline extends Outline{constructor(){super(...arguments);Bs(this,hl);Bs(this,cc);Bs(this,kv,0);Bs(this,Dv);Bs(this,Ru);Bs(this,Sh);Bs(this,Nh);Bs(this,ty);Bs(this,sy);Bs(this,Wx)}build(Ee,Ce,Te,De,Me,Oe,Be){Ls(this,Sh,Ce),Ls(this,Nh,Te),Ls(this,ty,De),Ls(this,sy,Me),Ls(this,Wx,Oe),Ls(this,Dv,Be??0),Ls(this,Ru,Ee),Hs(this,hl,U5).call(this)}get thickness(){return Ke(this,Wx)}setLastElement(Ee){return Ke(this,Ru).push(Ee),{path:{d:this.toSVGPath()}}}removeLastElement(){return Ke(this,Ru).pop(),{path:{d:this.toSVGPath()}}}toSVGPath(){const Ee=[];for(const{line:Ce}of Ke(this,Ru)){if(Ee.push(`M${Outline.svgRound(Ce[4])} ${Outline.svgRound(Ce[5])}`),Ce.length===6){Ee.push("Z");continue}if(Ce.length===12&&isNaN(Ce[6])){Ee.push(`L${Outline.svgRound(Ce[10])} ${Outline.svgRound(Ce[11])}`);continue}for(let Te=6,De=Ce.length;Te<De;Te+=6){const[Me,Oe,Be,ze,Ve,qe]=Ce.subarray(Te,Te+6).map(Outline.svgRound);Ee.push(`C${Me} ${Oe} ${Be} ${ze} ${Ve} ${qe}`)}}return Ee.join("")}serialize([Ee,Ce,Te,De],Me){const Oe=[],Be=[],[ze,Ve,qe,We]=Hs(this,hl,V5).call(this);let Ge,Je,Qe,ns,Ye,rs,ts,Xe,is;switch(Ke(this,sy)){case 0:is=Outline._rescale,Ge=Ee,Je=Ce+De,Qe=Te,ns=-De,Ye=Ee+ze*Te,rs=Ce+(1-Ve-We)*De,ts=Ee+(ze+qe)*Te,Xe=Ce+(1-Ve)*De;break;case 90:is=Outline._rescaleAndSwap,Ge=Ee,Je=Ce,Qe=Te,ns=De,Ye=Ee+Ve*Te,rs=Ce+ze*De,ts=Ee+(Ve+We)*Te,Xe=Ce+(ze+qe)*De;break;case 180:is=Outline._rescale,Ge=Ee+Te,Je=Ce,Qe=-Te,ns=De,Ye=Ee+(1-ze-qe)*Te,rs=Ce+Ve*De,ts=Ee+(1-ze)*Te,Xe=Ce+(Ve+We)*De;break;case 270:is=Outline._rescaleAndSwap,Ge=Ee+Te,Je=Ce+De,Qe=-Te,ns=-De,Ye=Ee+(1-Ve-We)*Te,rs=Ce+(1-ze-qe)*De,ts=Ee+(1-Ve)*Te,Xe=Ce+(1-ze)*De;break}for(const{line:os,points:hs}of Ke(this,Ru))Oe.push(is(os,Ge,Je,Qe,ns,Me?new Array(os.length):null)),Be.push(is(hs,Ge,Je,Qe,ns,Me?new Array(hs.length):null));return{lines:Oe,points:Be,rect:[Ye,rs,ts,Xe]}}static deserialize(Ee,Ce,Te,De,Me,{paths:{lines:Oe,points:Be},rotation:ze,thickness:Ve}){const qe=[];let We,Ge,Je,Qe,ns;switch(ze){case 0:ns=Outline._rescale,We=-Ee/Te,Ge=Ce/De+1,Je=1/Te,Qe=-1/De;break;case 90:ns=Outline._rescaleAndSwap,We=-Ce/De,Ge=-Ee/Te,Je=1/De,Qe=1/Te;break;case 180:ns=Outline._rescale,We=Ee/Te+1,Ge=-Ce/De,Je=-1/Te,Qe=1/De;break;case 270:ns=Outline._rescaleAndSwap,We=Ce/De+1,Ge=Ee/Te+1,Je=-1/De,Qe=-1/Te;break}if(!Oe){Oe=[];for(const rs of Be){const ts=rs.length;if(ts===2){Oe.push(new Float32Array([NaN,NaN,NaN,NaN,rs[0],rs[1]]));continue}if(ts===4){Oe.push(new Float32Array([NaN,NaN,NaN,NaN,rs[0],rs[1],NaN,NaN,NaN,NaN,rs[2],rs[3]]));continue}const Xe=new Float32Array(3*(ts-2));Oe.push(Xe);let[is,os,hs,fs]=rs.subarray(0,4);Xe.set([NaN,NaN,NaN,NaN,is,os],0);for(let xs=4;xs<ts;xs+=2){const Ss=rs[xs],ds=rs[xs+1];Xe.set(Outline.createBezierPoints(is,os,hs,fs,Ss,ds),(xs-2)*3),[is,os,hs,fs]=[hs,fs,Ss,ds]}}}for(let rs=0,ts=Oe.length;rs<ts;rs++)qe.push({line:ns(Oe[rs].map(Xe=>Xe??NaN),We,Ge,Je,Qe),points:ns(Be[rs].map(Xe=>Xe??NaN),We,Ge,Je,Qe)});const Ye=new this.prototype.constructor;return Ye.build(qe,Te,De,1,ze,Ve,Me),Ye}get box(){return Ke(this,cc)}updateProperty(Ee,Ce){return Ee==="stroke-width"?Hs(this,hl,H5).call(this,Ce):null}updateParentDimensions([Ee,Ce],Te){const[De,Me]=Hs(this,hl,rp).call(this);Ls(this,Sh,Ee),Ls(this,Nh,Ce),Ls(this,ty,Te);const[Oe,Be]=Hs(this,hl,rp).call(this),ze=Oe-De,Ve=Be-Me,qe=Ke(this,cc);return qe[0]-=ze,qe[1]-=Ve,qe[2]+=2*ze,qe[3]+=2*Ve,qe}updateRotation(Ee){return Ls(this,kv,Ee),{path:{transform:this.rotationTransform}}}get viewBox(){return Ke(this,cc).map(Outline.svgRound).join(" ")}get defaultProperties(){const[Ee,Ce]=Ke(this,cc);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Outline.svgRound(Ee)} ${Outline.svgRound(Ce)}`}}}get rotationTransform(){const[,,Ee,Ce]=Ke(this,cc);let Te=0,De=0,Me=0,Oe=0,Be=0,ze=0;switch(Ke(this,kv)){case 90:De=Ce/Ee,Me=-Ee/Ce,Be=Ee;break;case 180:Te=-1,Oe=-1,Be=Ee,ze=Ce;break;case 270:De=-Ce/Ee,Me=Ee/Ce,ze=Ce;break;default:return""}return`matrix(${Te} ${De} ${Me} ${Oe} ${Outline.svgRound(Be)} ${Outline.svgRound(ze)})`}getPathResizingSVGProperties([Ee,Ce,Te,De]){const[Me,Oe]=Hs(this,hl,rp).call(this),[Be,ze,Ve,qe]=Ke(this,cc);if(Math.abs(Ve-Me)<=Outline.PRECISION||Math.abs(qe-Oe)<=Outline.PRECISION){const ns=Ee+Te/2-(Be+Ve/2),Ye=Ce+De/2-(ze+qe/2);return{path:{"transform-origin":`${Outline.svgRound(Ee)} ${Outline.svgRound(Ce)}`,transform:`${this.rotationTransform} translate(${ns} ${Ye})`}}}const We=(Te-2*Me)/(Ve-2*Me),Ge=(De-2*Oe)/(qe-2*Oe),Je=Ve/Te,Qe=qe/De;return{path:{"transform-origin":`${Outline.svgRound(Be)} ${Outline.svgRound(ze)}`,transform:`${this.rotationTransform} scale(${Je} ${Qe}) translate(${Outline.svgRound(Me)} ${Outline.svgRound(Oe)}) scale(${We} ${Ge}) translate(${Outline.svgRound(-Me)} ${Outline.svgRound(-Oe)})`}}}getPathResizedSVGProperties([Ee,Ce,Te,De]){const[Me,Oe]=Hs(this,hl,rp).call(this),Be=Ke(this,cc),[ze,Ve,qe,We]=Be;if(Be[0]=Ee,Be[1]=Ce,Be[2]=Te,Be[3]=De,Math.abs(qe-Me)<=Outline.PRECISION||Math.abs(We-Oe)<=Outline.PRECISION){const Ye=Ee+Te/2-(ze+qe/2),rs=Ce+De/2-(Ve+We/2);for(const{line:ts,points:Xe}of Ke(this,Ru))Outline._translate(ts,Ye,rs,ts),Outline._translate(Xe,Ye,rs,Xe);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Outline.svgRound(Ee)} ${Outline.svgRound(Ce)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}const Ge=(Te-2*Me)/(qe-2*Me),Je=(De-2*Oe)/(We-2*Oe),Qe=-Ge*(ze+Me)+Ee+Me,ns=-Je*(Ve+Oe)+Ce+Oe;if(Ge!==1||Je!==1||Qe!==0||ns!==0)for(const{line:Ye,points:rs}of Ke(this,Ru))Outline._rescale(Ye,Qe,ns,Ge,Je,Ye),Outline._rescale(rs,Qe,ns,Ge,Je,rs);return{root:{viewBox:this.viewBox},path:{"transform-origin":`${Outline.svgRound(Ee)} ${Outline.svgRound(Ce)}`,transform:this.rotationTransform||null,d:this.toSVGPath()}}}getPathTranslatedSVGProperties([Ee,Ce],Te){const[De,Me]=Te,Oe=Ke(this,cc),Be=Ee-Oe[0],ze=Ce-Oe[1];if(Ke(this,Sh)===De&&Ke(this,Nh)===Me)for(const{line:Ve,points:qe}of Ke(this,Ru))Outline._translate(Ve,Be,ze,Ve),Outline._translate(qe,Be,ze,qe);else{const Ve=Ke(this,Sh)/De,qe=Ke(this,Nh)/Me;Ls(this,Sh,De),Ls(this,Nh,Me);for(const{line:We,points:Ge}of Ke(this,Ru))Outline._rescale(We,Be,ze,Ve,qe,We),Outline._rescale(Ge,Be,ze,Ve,qe,Ge);Oe[2]*=Ve,Oe[3]*=qe}return Oe[0]=Ee,Oe[1]=Ce,{root:{viewBox:this.viewBox},path:{d:this.toSVGPath(),"transform-origin":`${Outline.svgRound(Ee)} ${Outline.svgRound(Ce)}`}}}get defaultSVGProperties(){const Ee=Ke(this,cc);return{root:{viewBox:this.viewBox},rootClass:{draw:!0},path:{d:this.toSVGPath(),"transform-origin":`${Outline.svgRound(Ee[0])} ${Outline.svgRound(Ee[1])}`,transform:this.rotationTransform||null},bbox:Ee}}}cc=new WeakMap,kv=new WeakMap,Dv=new WeakMap,Ru=new WeakMap,Sh=new WeakMap,Nh=new WeakMap,ty=new WeakMap,sy=new WeakMap,Wx=new WeakMap,hl=new WeakSet,rp=function(Ee=Ke(this,Wx)){const Ce=Ke(this,Dv)+Ee/2*Ke(this,ty);return Ke(this,sy)%180===0?[Ce/Ke(this,Sh),Ce/Ke(this,Nh)]:[Ce/Ke(this,Nh),Ce/Ke(this,Sh)]},V5=function(){const[Ee,Ce,Te,De]=Ke(this,cc),[Me,Oe]=Hs(this,hl,rp).call(this,0);return[Ee+Me,Ce+Oe,Te-2*Me,De-2*Oe]},U5=function(){const Ee=Ls(this,cc,new Float32Array([1/0,1/0,-1/0,-1/0]));for(const{line:De}of Ke(this,Ru)){if(De.length<=12){for(let Be=4,ze=De.length;Be<ze;Be+=6)Util.pointBoundingBox(De[Be],De[Be+1],Ee);continue}let Me=De[4],Oe=De[5];for(let Be=6,ze=De.length;Be<ze;Be+=6){const[Ve,qe,We,Ge,Je,Qe]=De.subarray(Be,Be+6);Util.bezierBoundingBox(Me,Oe,Ve,qe,We,Ge,Je,Qe,Ee),Me=Je,Oe=Qe}}const[Ce,Te]=Hs(this,hl,rp).call(this);Ee[0]=MathClamp(Ee[0]-Ce,0,1),Ee[1]=MathClamp(Ee[1]-Te,0,1),Ee[2]=MathClamp(Ee[2]+Ce,0,1),Ee[3]=MathClamp(Ee[3]+Te,0,1),Ee[2]-=Ee[0],Ee[3]-=Ee[1]},H5=function(Ee){const[Ce,Te]=Hs(this,hl,rp).call(this);Ls(this,Wx,Ee);const[De,Me]=Hs(this,hl,rp).call(this),[Oe,Be]=[De-Ce,Me-Te],ze=Ke(this,cc);return ze[0]-=Oe,ze[1]-=Be,ze[2]+=2*Oe,ze[3]+=2*Be,ze};class InkDrawingOptions extends DrawingOptions{constructor(e){super(),this._viewParameters=e,super.updateProperties({fill:"none",stroke:AnnotationEditor._defaultLineColor,"stroke-opacity":1,"stroke-width":1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-miterlimit":10})}updateSVGProperty(e,Ee){e==="stroke-width"&&(Ee??(Ee=this["stroke-width"]),Ee*=this._viewParameters.realScale),super.updateSVGProperty(e,Ee)}clone(){const e=new InkDrawingOptions(this._viewParameters);return e.updateAll(this),e}}var v2,q5;const Fg=class Fg extends DrawingEditor{constructor(Ee){super({...Ee,name:"inkEditor"});Bs(this,v2);this._willKeepAspectRatio=!0,this.defaultL10nId="pdfjs-editor-ink-editor"}static initialize(Ee,Ce){AnnotationEditor.initialize(Ee,Ce),this._defaultDrawingOptions=new InkDrawingOptions(Ce.viewParameters)}static getDefaultDrawingOptions(Ee){const Ce=this._defaultDrawingOptions.clone();return Ce.updateProperties(Ee),Ce}static get supportMultipleDrawings(){return!0}static get typesMap(){return shadow(this,"typesMap",new Map([[AnnotationEditorParamsType.INK_THICKNESS,"stroke-width"],[AnnotationEditorParamsType.INK_COLOR,"stroke"],[AnnotationEditorParamsType.INK_OPACITY,"stroke-opacity"]]))}static createDrawerInstance(Ee,Ce,Te,De,Me){return new InkDrawOutliner(Ee,Ce,Te,De,Me,this._defaultDrawingOptions["stroke-width"])}static deserializeDraw(Ee,Ce,Te,De,Me,Oe){return InkDrawOutline.deserialize(Ee,Ce,Te,De,Me,Oe)}static async deserialize(Ee,Ce,Te){let De=null;if(Ee instanceof InkAnnotationElement){const{data:{inkLists:Oe,rect:Be,rotation:ze,id:Ve,color:qe,opacity:We,borderStyle:{rawWidth:Ge},popupRef:Je,richText:Qe,contentsObj:ns,creationDate:Ye,modificationDate:rs},parent:{page:{pageNumber:ts}}}=Ee;De=Ee={annotationType:AnnotationEditorType.INK,color:Array.from(qe),thickness:Ge,opacity:We,paths:{points:Oe},boxes:null,pageIndex:ts-1,rect:Be.slice(0),rotation:ze,annotationElementId:Ve,id:Ve,deleted:!1,popupRef:Je,richText:Qe,comment:(ns==null?void 0:ns.str)||null,creationDate:Ye,modificationDate:rs}}const Me=await super.deserialize(Ee,Ce,Te);return Me._initialData=De,Ee.comment&&Me.setCommentData(Ee),Me}get toolbarButtons(){return this._colorPicker||(this._colorPicker=new BasicColorPicker(this)),[["colorPicker",this._colorPicker]]}get colorType(){return AnnotationEditorParamsType.INK_COLOR}get color(){return this._drawingOptions.stroke}get opacity(){return this._drawingOptions["stroke-opacity"]}onScaleChanging(){if(!this.parent)return;super.onScaleChanging();const{_drawId:Ee,_drawingOptions:Ce,parent:Te}=this;Ce.updateSVGProperty("stroke-width"),Te.drawLayer.updateProperties(Ee,Ce.toSVGProperties())}static onScaleChangingWhenDrawing(){const Ee=this._currentParent;Ee&&(super.onScaleChangingWhenDrawing(),this._defaultDrawingOptions.updateSVGProperty("stroke-width"),Ee.drawLayer.updateProperties(this._currentDrawId,this._defaultDrawingOptions.toSVGProperties()))}createDrawingOptions({color:Ee,thickness:Ce,opacity:Te}){this._drawingOptions=Fg.getDefaultDrawingOptions({stroke:Util.makeHexColor(...Ee),"stroke-width":Ce,"stroke-opacity":Te})}serialize(Ee=!1){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const{lines:Ce,points:Te}=this.serializeDraw(Ee),{_drawingOptions:{stroke:De,"stroke-opacity":Me,"stroke-width":Oe}}=this,Be=Object.assign(super.serialize(Ee),{color:AnnotationEditor._colorManager.convert(De),opacity:Me,thickness:Oe,paths:{lines:Ce,points:Te}});return this.addComment(Be),Ee?(Be.isCopy=!0,Be):this.annotationElementId&&!Hs(this,v2,q5).call(this,Be)?null:(Be.id=this.annotationElementId,Be)}renderAnnotationElement(Ee){if(this.deleted)return Ee.hide(),null;const{points:Ce,rect:Te}=this.serializeDraw(!1);return Ee.updateEdited({rect:Te,thickness:this._drawingOptions["stroke-width"],points:Ce,popup:this.comment}),null}};v2=new WeakSet,q5=function(Ee){const{color:Ce,thickness:Te,opacity:De,pageIndex:Me}=this._initialData;return this.hasEditedComment||this._hasBeenMoved||this._hasBeenResized||Ee.color.some((Oe,Be)=>Oe!==Ce[Be])||Ee.thickness!==Te||Ee.opacity!==De||Ee.pageIndex!==Me},qr(Fg,"_type","ink"),qr(Fg,"_editorType",AnnotationEditorType.INK),qr(Fg,"_defaultDrawingOptions",null);let InkEditor=Fg;class ContourDrawOutline extends InkDrawOutline{toSVGPath(){let e=super.toSVGPath();return e.endsWith("Z")||(e+="Z"),e}}const BASE_HEADER_LENGTH=8,POINTS_PROPERTIES_NUMBER=3;var Zx,Cn,RE,Id,G5,W5,_E,Yb,Z5,K5,Y5,SE,NE,X5;class SignatureExtractor{static extractContoursFromText(e,{fontFamily:Ee,fontStyle:Ce,fontWeight:Te},De,Me,Oe,Be){let ze=new OffscreenCanvas(1,1),Ve=ze.getContext("2d",{alpha:!1});const qe=200,We=Ve.font=`${Ce} ${Te} ${qe}px ${Ee}`,{actualBoundingBoxLeft:Ge,actualBoundingBoxRight:Je,actualBoundingBoxAscent:Qe,actualBoundingBoxDescent:ns,fontBoundingBoxAscent:Ye,fontBoundingBoxDescent:rs,width:ts}=Ve.measureText(e),Xe=1.5,is=Math.ceil(Math.max(Math.abs(Ge)+Math.abs(Je)||0,ts)*Xe),os=Math.ceil(Math.max(Math.abs(Qe)+Math.abs(ns)||qe,Math.abs(Ye)+Math.abs(rs)||qe)*Xe);ze=new OffscreenCanvas(is,os),Ve=ze.getContext("2d",{alpha:!0,willReadFrequently:!0}),Ve.font=We,Ve.filter="grayscale(1)",Ve.fillStyle="white",Ve.fillRect(0,0,is,os),Ve.fillStyle="black",Ve.fillText(e,is*(Xe-1)/2,os*(3-Xe)/2);const hs=Hs(this,Cn,SE).call(this,Ve.getImageData(0,0,is,os).data),fs=Hs(this,Cn,Y5).call(this,hs),xs=Hs(this,Cn,NE).call(this,fs),Ss=Hs(this,Cn,_E).call(this,hs,is,os,xs);return this.processDrawnLines({lines:{curves:Ss,width:is,height:os},pageWidth:De,pageHeight:Me,rotation:Oe,innerMargin:Be,mustSmooth:!0,areContours:!0})}static process(e,Ee,Ce,Te,De){const[Me,Oe,Be]=Hs(this,Cn,X5).call(this,e),[ze,Ve]=Hs(this,Cn,K5).call(this,Me,Oe,Be,Math.hypot(Oe,Be)*Ke(this,Zx).sigmaSFactor,Ke(this,Zx).sigmaR,Ke(this,Zx).kernelSize),qe=Hs(this,Cn,NE).call(this,Ve),We=Hs(this,Cn,_E).call(this,ze,Oe,Be,qe);return this.processDrawnLines({lines:{curves:We,width:Oe,height:Be},pageWidth:Ee,pageHeight:Ce,rotation:Te,innerMargin:De,mustSmooth:!0,areContours:!0})}static processDrawnLines({lines:e,pageWidth:Ee,pageHeight:Ce,rotation:Te,innerMargin:De,mustSmooth:Me,areContours:Oe}){Te%180!==0&&([Ee,Ce]=[Ce,Ee]);const{curves:Be,width:ze,height:Ve}=e,qe=e.thickness??0,We=[],Ge=Math.min(Ee/ze,Ce/Ve),Je=Ge/Ee,Qe=Ge/Ce,ns=[];for(const{points:rs}of Be){const ts=Me?Hs(this,Cn,Z5).call(this,rs):rs;if(!ts)continue;ns.push(ts);const Xe=ts.length,is=new Float32Array(Xe),os=new Float32Array(3*(Xe===2?2:Xe-2));if(We.push({line:os,points:is}),Xe===2){is[0]=ts[0]*Je,is[1]=ts[1]*Qe,os.set([NaN,NaN,NaN,NaN,is[0],is[1]],0);continue}let[hs,fs,xs,Ss]=ts;hs*=Je,fs*=Qe,xs*=Je,Ss*=Qe,is.set([hs,fs,xs,Ss],0),os.set([NaN,NaN,NaN,NaN,hs,fs],0);for(let ds=4;ds<Xe;ds+=2){const gs=is[ds]=ts[ds]*Je,Ts=is[ds+1]=ts[ds+1]*Qe;os.set(Outline.createBezierPoints(hs,fs,xs,Ss,gs,Ts),(ds-2)*3),[hs,fs,xs,Ss]=[xs,Ss,gs,Ts]}}if(We.length===0)return null;const Ye=Oe?new ContourDrawOutline:new InkDrawOutline;return Ye.build(We,Ee,Ce,1,Te,Oe?0:qe,De),{outline:Ye,newCurves:ns,areContours:Oe,thickness:qe,width:ze,height:Ve}}static async compressSignature({outlines:e,areContours:Ee,thickness:Ce,width:Te,height:De}){let Me=1/0,Oe=-1/0,Be=0;for(const ts of e){Be+=ts.length;for(let Xe=2,is=ts.length;Xe<is;Xe++){const os=ts[Xe]-ts[Xe-2];Me=Math.min(Me,os),Oe=Math.max(Oe,os)}}let ze;Me>=-128&&Oe<=127?ze=Int8Array:Me>=-32768&&Oe<=32767?ze=Int16Array:ze=Int32Array;const Ve=e.length,qe=BASE_HEADER_LENGTH+POINTS_PROPERTIES_NUMBER*Ve,We=new Uint32Array(qe);let Ge=0;We[Ge++]=qe*Uint32Array.BYTES_PER_ELEMENT+(Be-2*Ve)*ze.BYTES_PER_ELEMENT,We[Ge++]=0,We[Ge++]=Te,We[Ge++]=De,We[Ge++]=Ee?0:1,We[Ge++]=Math.max(0,Math.floor(Ce??0)),We[Ge++]=Ve,We[Ge++]=ze.BYTES_PER_ELEMENT;for(const ts of e)We[Ge++]=ts.length-2,We[Ge++]=ts[0],We[Ge++]=ts[1];const Je=new CompressionStream("deflate-raw"),Qe=Je.writable.getWriter();await Qe.ready,Qe.write(We);const ns=ze.prototype.constructor;for(const ts of e){const Xe=new ns(ts.length-2);for(let is=2,os=ts.length;is<os;is++)Xe[is-2]=ts[is]-ts[is-2];Qe.write(Xe)}Qe.close();const Ye=await new Response(Je.readable).arrayBuffer(),rs=new Uint8Array(Ye);return toBase64Util(rs)}static async decompressSignature(e){try{const Ee=fromBase64Util(e),{readable:Ce,writable:Te}=new DecompressionStream("deflate-raw"),De=Te.getWriter();await De.ready,De.write(Ee).then(async()=>{await De.ready,await De.close()}).catch(()=>{});let Me=null,Oe=0;for await(const ts of Ce)Me||(Me=new Uint8Array(new Uint32Array(ts.buffer,0,4)[0])),Me.set(ts,Oe),Oe+=ts.length;const Be=new Uint32Array(Me.buffer,0,Me.length>>2),ze=Be[1];if(ze!==0)throw new Error(`Invalid version: ${ze}`);const Ve=Be[2],qe=Be[3],We=Be[4]===0,Ge=Be[5],Je=Be[6],Qe=Be[7],ns=[],Ye=(BASE_HEADER_LENGTH+POINTS_PROPERTIES_NUMBER*Je)*Uint32Array.BYTES_PER_ELEMENT;let rs;switch(Qe){case Int8Array.BYTES_PER_ELEMENT:rs=new Int8Array(Me.buffer,Ye);break;case Int16Array.BYTES_PER_ELEMENT:rs=new Int16Array(Me.buffer,Ye);break;case Int32Array.BYTES_PER_ELEMENT:rs=new Int32Array(Me.buffer,Ye);break}Oe=0;for(let ts=0;ts<Je;ts++){const Xe=Be[POINTS_PROPERTIES_NUMBER*ts+BASE_HEADER_LENGTH],is=new Float32Array(Xe+2);ns.push(is);for(let os=0;os<POINTS_PROPERTIES_NUMBER-1;os++)is[os]=Be[POINTS_PROPERTIES_NUMBER*ts+BASE_HEADER_LENGTH+os+1];for(let os=0;os<Xe;os++)is[os+2]=is[os]+rs[Oe++]}return{areContours:We,thickness:Ge,outlines:ns,width:Ve,height:qe}}catch(Ee){return warn(`decompressSignature: ${Ee}`),null}}}Zx=new WeakMap,Cn=new WeakSet,RE=function(e,Ee,Ce,Te){return Ce-=e,Te-=Ee,Ce===0?Te>0?0:4:Ce===1?Te+6:2-Te},Id=new WeakMap,G5=function(e,Ee,Ce,Te,De,Me,Oe){const Be=Hs(this,Cn,RE).call(this,Ce,Te,De,Me);for(let ze=0;ze<8;ze++){const Ve=(-ze+Be-Oe+16)%8,qe=Ke(this,Id)[2*Ve],We=Ke(this,Id)[2*Ve+1];if(e[(Ce+qe)*Ee+(Te+We)]!==0)return Ve}return-1},W5=function(e,Ee,Ce,Te,De,Me,Oe){const Be=Hs(this,Cn,RE).call(this,Ce,Te,De,Me);for(let ze=0;ze<8;ze++){const Ve=(ze+Be+Oe+16)%8,qe=Ke(this,Id)[2*Ve],We=Ke(this,Id)[2*Ve+1];if(e[(Ce+qe)*Ee+(Te+We)]!==0)return Ve}return-1},_E=function(e,Ee,Ce,Te){const De=e.length,Me=new Int32Array(De);for(let Ve=0;Ve<De;Ve++)Me[Ve]=e[Ve]<=Te?1:0;for(let Ve=1;Ve<Ce-1;Ve++)Me[Ve*Ee]=Me[Ve*Ee+Ee-1]=0;for(let Ve=0;Ve<Ee;Ve++)Me[Ve]=Me[Ee*Ce-1-Ve]=0;let Oe=1,Be;const ze=[];for(let Ve=1;Ve<Ce-1;Ve++){Be=1;for(let qe=1;qe<Ee-1;qe++){const We=Ve*Ee+qe,Ge=Me[We];if(Ge===0)continue;let Je=Ve,Qe=qe;if(Ge===1&&Me[We-1]===0)Oe+=1,Qe-=1;else if(Ge>=1&&Me[We+1]===0)Oe+=1,Qe+=1,Ge>1&&(Be=Ge);else{Ge!==1&&(Be=Math.abs(Ge));continue}const ns=[qe,Ve],Ye=Qe===qe+1,rs={isHole:Ye,points:ns,id:Oe,parent:0};ze.push(rs);let ts;for(const ds of ze)if(ds.id===Be){ts=ds;break}ts?ts.isHole?rs.parent=Ye?ts.parent:Be:rs.parent=Ye?Be:ts.parent:rs.parent=Ye?Be:0;const Xe=Hs(this,Cn,G5).call(this,Me,Ee,Ve,qe,Je,Qe,0);if(Xe===-1){Me[We]=-Oe,Me[We]!==1&&(Be=Math.abs(Me[We]));continue}let is=Ke(this,Id)[2*Xe],os=Ke(this,Id)[2*Xe+1];const hs=Ve+is,fs=qe+os;Je=hs,Qe=fs;let xs=Ve,Ss=qe;for(;;){const ds=Hs(this,Cn,W5).call(this,Me,Ee,xs,Ss,Je,Qe,1);is=Ke(this,Id)[2*ds],os=Ke(this,Id)[2*ds+1];const gs=xs+is,Ts=Ss+os;ns.push(Ts,gs);const Ds=xs*Ee+Ss;if(Me[Ds+1]===0?Me[Ds]=-Oe:Me[Ds]===1&&(Me[Ds]=Oe),gs===Ve&&Ts===qe&&xs===hs&&Ss===fs){Me[We]!==1&&(Be=Math.abs(Me[We]));break}else Je=xs,Qe=Ss,xs=gs,Ss=Ts}}}return ze},Yb=function(e,Ee,Ce,Te){if(Ce-Ee<=4){for(let hs=Ee;hs<Ce-2;hs+=2)Te.push(e[hs],e[hs+1]);return}const De=e[Ee],Me=e[Ee+1],Oe=e[Ce-4]-De,Be=e[Ce-3]-Me,ze=Math.hypot(Oe,Be),Ve=Oe/ze,qe=Be/ze,We=Ve*Me-qe*De,Ge=Be/Oe,Je=1/ze,Qe=Math.atan(Ge),ns=Math.cos(Qe),Ye=Math.sin(Qe),rs=Je*(Math.abs(ns)+Math.abs(Ye)),ts=Je*(1-rs+rs**2),Xe=Math.max(Math.atan(Math.abs(Ye+ns)*ts),Math.atan(Math.abs(Ye-ns)*ts));let is=0,os=Ee;for(let hs=Ee+2;hs<Ce-2;hs+=2){const fs=Math.abs(We-Ve*e[hs+1]+qe*e[hs]);fs>is&&(os=hs,is=fs)}is>(ze*Xe)**2?(Hs(this,Cn,Yb).call(this,e,Ee,os+2,Te),Hs(this,Cn,Yb).call(this,e,os,Ce,Te)):Te.push(De,Me)},Z5=function(e){const Ee=[],Ce=e.length;return Hs(this,Cn,Yb).call(this,e,0,Ce,Ee),Ee.push(e[Ce-2],e[Ce-1]),Ee.length<=4?null:Ee},K5=function(e,Ee,Ce,Te,De,Me){const Oe=new Float32Array(Me**2),Be=-2*Te**2,ze=Me>>1;for(let Qe=0;Qe<Me;Qe++){const ns=(Qe-ze)**2;for(let Ye=0;Ye<Me;Ye++)Oe[Qe*Me+Ye]=Math.exp((ns+(Ye-ze)**2)/Be)}const Ve=new Float32Array(256),qe=-2*De**2;for(let Qe=0;Qe<256;Qe++)Ve[Qe]=Math.exp(Qe**2/qe);const We=e.length,Ge=new Uint8Array(We),Je=new Uint32Array(256);for(let Qe=0;Qe<Ce;Qe++)for(let ns=0;ns<Ee;ns++){const Ye=Qe*Ee+ns,rs=e[Ye];let ts=0,Xe=0;for(let os=0;os<Me;os++){const hs=Qe+os-ze;if(!(hs<0||hs>=Ce))for(let fs=0;fs<Me;fs++){const xs=ns+fs-ze;if(xs<0||xs>=Ee)continue;const Ss=e[hs*Ee+xs],ds=Oe[os*Me+fs]*Ve[Math.abs(Ss-rs)];ts+=Ss*ds,Xe+=ds}}const is=Ge[Ye]=Math.round(ts/Xe);Je[is]++}return[Ge,Je]},Y5=function(e){const Ee=new Uint32Array(256);for(const Ce of e)Ee[Ce]++;return Ee},SE=function(e){const Ee=e.length,Ce=new Uint8ClampedArray(Ee>>2);let Te=-1/0,De=1/0;for(let Oe=0,Be=Ce.length;Oe<Be;Oe++){const ze=Ce[Oe]=e[Oe<<2];Te=Math.max(Te,ze),De=Math.min(De,ze)}const Me=255/(Te-De);for(let Oe=0,Be=Ce.length;Oe<Be;Oe++)Ce[Oe]=(Ce[Oe]-De)*Me;return Ce},NE=function(e){let Ee,Ce=-1/0,Te=-1/0;const De=e.findIndex(Be=>Be!==0);let Me=De,Oe=De;for(Ee=De;Ee<256;Ee++){const Be=e[Ee];Be>Ce&&(Ee-Me>Te&&(Te=Ee-Me,Oe=Ee-1),Ce=Be,Me=Ee)}for(Ee=Oe-1;Ee>=0&&!(e[Ee]>e[Ee+1]);Ee--);return Ee},X5=function(e){const Ee=e,{width:Ce,height:Te}=e,{maxDim:De}=Ke(this,Zx);let Me=Ce,Oe=Te;if(Ce>De||Te>De){let We=Ce,Ge=Te,Je=Math.log2(Math.max(Ce,Te)/De);const Qe=Math.floor(Je);Je=Je===Qe?Qe-1:Qe;for(let Ye=0;Ye<Je;Ye++){Me=Math.ceil(We/2),Oe=Math.ceil(Ge/2);const rs=new OffscreenCanvas(Me,Oe);rs.getContext("2d").drawImage(e,0,0,We,Ge,0,0,Me,Oe),We=Me,Ge=Oe,e!==Ee&&e.close(),e=rs.transferToImageBitmap()}const ns=Math.min(De/Me,De/Oe);Me=Math.round(Me*ns),Oe=Math.round(Oe*ns)}const ze=new OffscreenCanvas(Me,Oe).getContext("2d",{willReadFrequently:!0});ze.fillStyle="white",ze.fillRect(0,0,Me,Oe),ze.filter="grayscale(1)",ze.drawImage(e,0,0,e.width,e.height,0,0,Me,Oe);const Ve=ze.getImageData(0,0,Me,Oe).data;return[Hs(this,Cn,SE).call(this,Ve),Me,Oe]},Bs(SignatureExtractor,Cn),Bs(SignatureExtractor,Zx,{maxDim:512,sigmaSFactor:.02,sigmaR:25,kernelSize:16}),Bs(SignatureExtractor,Id,new Int32Array([0,1,-1,1,-1,0,-1,-1,0,-1,1,-1,1,0,1,1]));class SignatureOptions extends DrawingOptions{constructor(){super(),super.updateProperties({fill:AnnotationEditor._defaultLineColor,"stroke-width":0})}clone(){const e=new SignatureOptions;return e.updateAll(this),e}}class DrawnSignatureOptions extends InkDrawingOptions{constructor(e){super(e),super.updateProperties({stroke:AnnotationEditor._defaultLineColor,"stroke-width":1})}clone(){const e=new DrawnSignatureOptions(this._viewParameters);return e.updateAll(this),e}}var ef,Ah,tf,Kx;const lu=class lu extends DrawingEditor{constructor(Ee){super({...Ee,mustBeCommitted:!0,name:"signatureEditor"});Bs(this,ef,!1);Bs(this,Ah,null);Bs(this,tf,null);Bs(this,Kx,null);this._willKeepAspectRatio=!0,Ls(this,tf,Ee.signatureData||null),Ls(this,Ah,null),this.defaultL10nId="pdfjs-editor-signature-editor1"}static initialize(Ee,Ce){AnnotationEditor.initialize(Ee,Ce),this._defaultDrawingOptions=new SignatureOptions,this._defaultDrawnSignatureOptions=new DrawnSignatureOptions(Ce.viewParameters)}static getDefaultDrawingOptions(Ee){const Ce=this._defaultDrawingOptions.clone();return Ce.updateProperties(Ee),Ce}static get supportMultipleDrawings(){return!1}static get typesMap(){return shadow(this,"typesMap",new Map)}static get isDrawer(){return!1}get telemetryFinalData(){return{type:"signature",hasDescription:!!Ke(this,Ah)}}static computeTelemetryFinalData(Ee){const Ce=Ee.get("hasDescription");return{hasAltText:Ce.get(!0)??0,hasNoAltText:Ce.get(!1)??0}}get isResizable(){return!0}onScaleChanging(){this._drawId!==null&&super.onScaleChanging()}render(){if(this.div)return this.div;let Ee,Ce;const{_isCopy:Te}=this;if(Te&&(this._isCopy=!1,Ee=this.x,Ce=this.y),super.render(),this._drawId===null)if(Ke(this,tf)){const{lines:De,mustSmooth:Me,areContours:Oe,description:Be,uuid:ze,heightInPage:Ve}=Ke(this,tf),{rawDims:{pageWidth:qe,pageHeight:We},rotation:Ge}=this.parent.viewport,Je=SignatureExtractor.processDrawnLines({lines:De,pageWidth:qe,pageHeight:We,rotation:Ge,innerMargin:lu._INNER_MARGIN,mustSmooth:Me,areContours:Oe});this.addSignature(Je,Ve,Be,ze)}else this.div.setAttribute("data-l10n-args",JSON.stringify({description:""})),this.div.hidden=!0,this._uiManager.getSignature(this);else this.div.setAttribute("data-l10n-args",JSON.stringify({description:Ke(this,Ah)||""}));return Te&&(this._isCopy=!0,this._moveAfterPaste(Ee,Ce)),this.div}setUuid(Ee){Ls(this,Kx,Ee),this.addEditToolbar()}getUuid(){return Ke(this,Kx)}get description(){return Ke(this,Ah)}set description(Ee){Ls(this,Ah,Ee),this.div&&(this.div.setAttribute("data-l10n-args",JSON.stringify({description:Ee})),super.addEditToolbar().then(Ce=>{Ce==null||Ce.updateEditSignatureButton(Ee)}))}getSignaturePreview(){const{newCurves:Ee,areContours:Ce,thickness:Te,width:De,height:Me}=Ke(this,tf),Oe=Math.max(De,Me),Be=SignatureExtractor.processDrawnLines({lines:{curves:Ee.map(ze=>({points:ze})),thickness:Te,width:De,height:Me},pageWidth:Oe,pageHeight:Oe,rotation:0,innerMargin:0,mustSmooth:!1,areContours:Ce});return{areContours:Ce,outline:Be.outline}}get toolbarButtons(){return this._uiManager.signatureManager?[["editSignature",this._uiManager.signatureManager]]:super.toolbarButtons}addSignature(Ee,Ce,Te,De){const{x:Me,y:Oe}=this,{outline:Be}=Ls(this,tf,Ee);Ls(this,ef,Be instanceof ContourDrawOutline),this.description=Te;let ze;Ke(this,ef)?ze=lu.getDefaultDrawingOptions():(ze=lu._defaultDrawnSignatureOptions.clone(),ze.updateProperties({"stroke-width":Be.thickness})),this._addOutlines({drawOutlines:Be,drawingOptions:ze});const[,Ve]=this.pageDimensions;let qe=Ce/Ve;qe=qe>=1?.5:qe,this.width*=qe/this.height,this.width>=1&&(qe*=.9/this.width,this.width=.9),this.height=qe,this.setDims(),this.x=Me,this.y=Oe,this.center(),this._onResized(),this.onScaleChanging(),this.rotate(),this._uiManager.addToAnnotationStorage(this),this.setUuid(De),this._reportTelemetry({action:"pdfjs.signature.inserted",data:{hasBeenSaved:!!De,hasDescription:!!Te}}),this.div.hidden=!1}getFromImage(Ee){const{rawDims:{pageWidth:Ce,pageHeight:Te},rotation:De}=this.parent.viewport;return SignatureExtractor.process(Ee,Ce,Te,De,lu._INNER_MARGIN)}getFromText(Ee,Ce){const{rawDims:{pageWidth:Te,pageHeight:De},rotation:Me}=this.parent.viewport;return SignatureExtractor.extractContoursFromText(Ee,Ce,Te,De,Me,lu._INNER_MARGIN)}getDrawnSignature(Ee){const{rawDims:{pageWidth:Ce,pageHeight:Te},rotation:De}=this.parent.viewport;return SignatureExtractor.processDrawnLines({lines:Ee,pageWidth:Ce,pageHeight:Te,rotation:De,innerMargin:lu._INNER_MARGIN,mustSmooth:!1,areContours:!1})}createDrawingOptions({areContours:Ee,thickness:Ce}){Ee?this._drawingOptions=lu.getDefaultDrawingOptions():(this._drawingOptions=lu._defaultDrawnSignatureOptions.clone(),this._drawingOptions.updateProperties({"stroke-width":Ce}))}serialize(Ee=!1){if(this.isEmpty())return null;const{lines:Ce,points:Te}=this.serializeDraw(Ee),{_drawingOptions:{"stroke-width":De}}=this,Me=Object.assign(super.serialize(Ee),{isSignature:!0,areContours:Ke(this,ef),color:[0,0,0],thickness:Ke(this,ef)?0:De});return this.addComment(Me),Ee?(Me.paths={lines:Ce,points:Te},Me.uuid=Ke(this,Kx),Me.isCopy=!0):Me.lines=Ce,Ke(this,Ah)&&(Me.accessibilityData={type:"Figure",alt:Ke(this,Ah)}),Me}static deserializeDraw(Ee,Ce,Te,De,Me,Oe){return Oe.areContours?ContourDrawOutline.deserialize(Ee,Ce,Te,De,Me,Oe):InkDrawOutline.deserialize(Ee,Ce,Te,De,Me,Oe)}static async deserialize(Ee,Ce,Te){var Me;const De=await super.deserialize(Ee,Ce,Te);return Ls(De,ef,Ee.areContours),De.description=((Me=Ee.accessibilityData)==null?void 0:Me.alt)||"",Ls(De,Kx,Ee.uuid),De}};ef=new WeakMap,Ah=new WeakMap,tf=new WeakMap,Kx=new WeakMap,qr(lu,"_type","signature"),qr(lu,"_editorType",AnnotationEditorType.SIGNATURE),qr(lu,"_defaultDrawingOptions",null);let SignatureEditor=lu;var ja,Wo,sf,Mp,rf,ry,Fp,Yx,Ch,_u,iy,bn,Qy,e1,Xb,Jb,Qb,AE,e2,J5;class StampEditor extends AnnotationEditor{constructor(Ee){super({...Ee,name:"stampEditor"});Bs(this,bn);Bs(this,ja,null);Bs(this,Wo,null);Bs(this,sf,null);Bs(this,Mp,null);Bs(this,rf,null);Bs(this,ry,"");Bs(this,Fp,null);Bs(this,Yx,!1);Bs(this,Ch,null);Bs(this,_u,!1);Bs(this,iy,!1);Ls(this,Mp,Ee.bitmapUrl),Ls(this,rf,Ee.bitmapFile),this.defaultL10nId="pdfjs-editor-stamp-editor"}static initialize(Ee,Ce){AnnotationEditor.initialize(Ee,Ce)}static isHandlingMimeForPasting(Ee){return SupportedImageMimeTypes.includes(Ee)}static paste(Ee,Ce){Ce.pasteEditor({mode:AnnotationEditorType.STAMP},{bitmapFile:Ee.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var Ee;return{type:"stamp",hasAltText:!!((Ee=this.altTextData)!=null&&Ee.altText)}}static computeTelemetryFinalData(Ee){const Ce=Ee.get("hasAltText");return{hasAltText:Ce.get(!0)??0,hasNoAltText:Ce.get(!1)??0}}async mlGuessAltText(Ee=null,Ce=!0){if(this.hasAltTextData())return null;const{mlManager:Te}=this._uiManager;if(!Te)throw new Error("No ML.");if(!await Te.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:De,width:Me,height:Oe}=Ee||this.copyCanvas(null,null,!0).imageData,Be=await Te.guess({name:"altText",request:{data:De,width:Me,height:Oe,channels:De.length/(Me*Oe)}});if(!Be)throw new Error("No response from the AI service.");if(Be.error)throw new Error("Error from the AI service.");if(Be.cancel)return null;if(!Be.output)throw new Error("No valid response from the AI service.");const ze=Be.output;return await this.setGuessedAltText(ze),Ce&&!this.hasAltTextData()&&(this.altTextData={alt:ze,decorative:!1}),ze}remove(){var Ee;Ke(this,Wo)&&(Ls(this,ja,null),this._uiManager.imageManager.deleteId(Ke(this,Wo)),(Ee=Ke(this,Fp))==null||Ee.remove(),Ls(this,Fp,null),Ke(this,Ch)&&(clearTimeout(Ke(this,Ch)),Ls(this,Ch,null))),super.remove()}rebuild(){if(!this.parent){Ke(this,Wo)&&Hs(this,bn,Xb).call(this);return}super.rebuild(),this.div!==null&&(Ke(this,Wo)&&Ke(this,Fp)===null&&Hs(this,bn,Xb).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(Ee){this._isDraggable=!0,Ee&&this.div.focus()}isEmpty(){return!(Ke(this,sf)||Ke(this,ja)||Ke(this,Mp)||Ke(this,rf)||Ke(this,Wo)||Ke(this,Yx))}get toolbarButtons(){return[["altText",this.createAltText()]]}get isResizable(){return!0}render(){if(this.div)return this.div;let Ee,Ce;return this._isCopy&&(Ee=this.x,Ce=this.y),super.render(),this.div.hidden=!0,this.createAltText(),Ke(this,Yx)||(Ke(this,ja)?Hs(this,bn,Jb).call(this):Hs(this,bn,Xb).call(this)),this._isCopy&&this._moveAfterPaste(Ee,Ce),this._uiManager.addShouldRescale(this),this.div}setCanvas(Ee,Ce){const{id:Te,bitmap:De}=this._uiManager.imageManager.getFromCanvas(Ee,Ce);Ce.remove(),Te&&this._uiManager.imageManager.isValidId(Te)&&(Ls(this,Wo,Te),De&&Ls(this,ja,De),Ls(this,Yx,!1),Hs(this,bn,Jb).call(this))}_onResized(){this.onScaleChanging()}onScaleChanging(){if(!this.parent)return;Ke(this,Ch)!==null&&clearTimeout(Ke(this,Ch)),Ls(this,Ch,setTimeout(()=>{Ls(this,Ch,null),Hs(this,bn,AE).call(this)},200))}copyCanvas(Ee,Ce,Te=!1){Ee||(Ee=224);const{width:De,height:Me}=Ke(this,ja),Oe=new OutputScale;let Be=Ke(this,ja),ze=De,Ve=Me,qe=null;if(Ce){if(De>Ce||Me>Ce){const hs=Math.min(Ce/De,Ce/Me);ze=Math.floor(De*hs),Ve=Math.floor(Me*hs)}qe=document.createElement("canvas");const Ge=qe.width=Math.ceil(ze*Oe.sx),Je=qe.height=Math.ceil(Ve*Oe.sy);Ke(this,_u)||(Be=Hs(this,bn,Qb).call(this,Ge,Je));const Qe=qe.getContext("2d");Qe.filter=this._uiManager.hcmFilter;let ns="white",Ye="#cfcfd8";this._uiManager.hcmFilter!=="none"?Ye="black":ColorScheme.isDarkMode&&(ns="#8f8f9d",Ye="#42414d");const rs=15,ts=rs*Oe.sx,Xe=rs*Oe.sy,is=new OffscreenCanvas(ts*2,Xe*2),os=is.getContext("2d");os.fillStyle=ns,os.fillRect(0,0,ts*2,Xe*2),os.fillStyle=Ye,os.fillRect(0,0,ts,Xe),os.fillRect(ts,Xe,ts,Xe),Qe.fillStyle=Qe.createPattern(is,"repeat"),Qe.fillRect(0,0,Ge,Je),Qe.drawImage(Be,0,0,Be.width,Be.height,0,0,Ge,Je)}let We=null;if(Te){let Ge,Je;if(Oe.symmetric&&Be.width<Ee&&Be.height<Ee)Ge=Be.width,Je=Be.height;else if(Be=Ke(this,ja),De>Ee||Me>Ee){const Ye=Math.min(Ee/De,Ee/Me);Ge=Math.floor(De*Ye),Je=Math.floor(Me*Ye),Ke(this,_u)||(Be=Hs(this,bn,Qb).call(this,Ge,Je))}const ns=new OffscreenCanvas(Ge,Je).getContext("2d",{willReadFrequently:!0});ns.drawImage(Be,0,0,Be.width,Be.height,0,0,Ge,Je),We={width:Ge,height:Je,data:ns.getImageData(0,0,Ge,Je).data}}return{canvas:qe,width:ze,height:Ve,imageData:We}}static async deserialize(Ee,Ce,Te){var ns;let De=null,Me=!1;if(Ee instanceof StampAnnotationElement){const{data:{rect:Ye,rotation:rs,id:ts,structParent:Xe,popupRef:is,richText:os,contentsObj:hs,creationDate:fs,modificationDate:xs},container:Ss,parent:{page:{pageNumber:ds}},canvas:gs}=Ee;let Ts,Ds;gs?(delete Ee.canvas,{id:Ts,bitmap:Ds}=Te.imageManager.getFromCanvas(Ss.id,gs),gs.remove()):(Me=!0,Ee._hasNoCanvas=!0);const Ms=((ns=await Ce._structTree.getAriaAttributes(`${AnnotationPrefix}${ts}`))==null?void 0:ns.get("aria-label"))||"";De=Ee={annotationType:AnnotationEditorType.STAMP,bitmapId:Ts,bitmap:Ds,pageIndex:ds-1,rect:Ye.slice(0),rotation:rs,annotationElementId:ts,id:ts,deleted:!1,accessibilityData:{decorative:!1,altText:Ms},isSvg:!1,structParent:Xe,popupRef:is,richText:os,comment:(hs==null?void 0:hs.str)||null,creationDate:fs,modificationDate:xs}}const Oe=await super.deserialize(Ee,Ce,Te),{rect:Be,bitmap:ze,bitmapUrl:Ve,bitmapId:qe,isSvg:We,accessibilityData:Ge}=Ee;Me?(Te.addMissingCanvas(Ee.id,Oe),Ls(Oe,Yx,!0)):qe&&Te.imageManager.isValidId(qe)?(Ls(Oe,Wo,qe),ze&&Ls(Oe,ja,ze)):Ls(Oe,Mp,Ve),Ls(Oe,_u,We);const[Je,Qe]=Oe.pageDimensions;return Oe.width=(Be[2]-Be[0])/Je,Oe.height=(Be[3]-Be[1])/Qe,Ge&&(Oe.altTextData=Ge),Oe._initialData=De,Ee.comment&&Oe.setCommentData(Ee),Ls(Oe,iy,!!De),Oe}serialize(Ee=!1,Ce=null){if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const Te=Object.assign(super.serialize(Ee),{bitmapId:Ke(this,Wo),isSvg:Ke(this,_u)});if(this.addComment(Te),Ee)return Te.bitmapUrl=Hs(this,bn,e2).call(this,!0),Te.accessibilityData=this.serializeAltText(!0),Te.isCopy=!0,Te;const{decorative:De,altText:Me}=this.serializeAltText(!1);if(!De&&Me&&(Te.accessibilityData={type:"Figure",alt:Me}),this.annotationElementId){const Be=Hs(this,bn,J5).call(this,Te);return Be.isSame?null:(Be.isSameAltText?delete Te.accessibilityData:Te.accessibilityData.structParent=this._initialData.structParent??-1,Te.id=this.annotationElementId,delete Te.bitmapId,Te)}if(Ce===null)return Te;Ce.stamps||(Ce.stamps=new Map);const Oe=Ke(this,_u)?(Te.rect[2]-Te.rect[0])*(Te.rect[3]-Te.rect[1]):null;if(!Ce.stamps.has(Ke(this,Wo)))Ce.stamps.set(Ke(this,Wo),{area:Oe,serialized:Te}),Te.bitmap=Hs(this,bn,e2).call(this,!1);else if(Ke(this,_u)){const Be=Ce.stamps.get(Ke(this,Wo));Oe>Be.area&&(Be.area=Oe,Be.serialized.bitmap.close(),Be.serialized.bitmap=Hs(this,bn,e2).call(this,!1))}return Te}renderAnnotationElement(Ee){return this.deleted?(Ee.hide(),null):(Ee.updateEdited({rect:this.getPDFRect(),popup:this.comment}),null)}}ja=new WeakMap,Wo=new WeakMap,sf=new WeakMap,Mp=new WeakMap,rf=new WeakMap,ry=new WeakMap,Fp=new WeakMap,Yx=new WeakMap,Ch=new WeakMap,_u=new WeakMap,iy=new WeakMap,bn=new WeakSet,Qy=function(Ee,Ce=!1){if(!Ee){this.remove();return}Ls(this,ja,Ee.bitmap),Ce||(Ls(this,Wo,Ee.id),Ls(this,_u,Ee.isSvg)),Ee.file&&Ls(this,ry,Ee.file.name),Hs(this,bn,Jb).call(this)},e1=function(){if(Ls(this,sf,null),this._uiManager.enableWaiting(!1),!!Ke(this,Fp)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&Ke(this,ja)){this.addEditToolbar().then(()=>{this._editToolbar.hide(),this._uiManager.editAltText(this,!0)});return}if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&Ke(this,ja)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch{}}this.div.focus()}},Xb=function(){if(Ke(this,Wo)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(Ke(this,Wo)).then(Te=>Hs(this,bn,Qy).call(this,Te,!0)).finally(()=>Hs(this,bn,e1).call(this));return}if(Ke(this,Mp)){const Te=Ke(this,Mp);Ls(this,Mp,null),this._uiManager.enableWaiting(!0),Ls(this,sf,this._uiManager.imageManager.getFromUrl(Te).then(De=>Hs(this,bn,Qy).call(this,De)).finally(()=>Hs(this,bn,e1).call(this)));return}if(Ke(this,rf)){const Te=Ke(this,rf);Ls(this,rf,null),this._uiManager.enableWaiting(!0),Ls(this,sf,this._uiManager.imageManager.getFromFile(Te).then(De=>Hs(this,bn,Qy).call(this,De)).finally(()=>Hs(this,bn,e1).call(this)));return}const Ee=document.createElement("input");Ee.type="file",Ee.accept=SupportedImageMimeTypes.join(",");const Ce=this._uiManager._signal;Ls(this,sf,new Promise(Te=>{Ee.addEventListener("change",async()=>{if(!Ee.files||Ee.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const De=await this._uiManager.imageManager.getFromFile(Ee.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),Hs(this,bn,Qy).call(this,De)}Te()},{signal:Ce}),Ee.addEventListener("cancel",()=>{this.remove(),Te()},{signal:Ce})}).finally(()=>Hs(this,bn,e1).call(this))),Ee.click()},Jb=function(){var ze;const{div:Ee}=this;let{width:Ce,height:Te}=Ke(this,ja);const[De,Me]=this.pageDimensions,Oe=.75;if(this.width)Ce=this.width*De,Te=this.height*Me;else if(Ce>Oe*De||Te>Oe*Me){const Ve=Math.min(Oe*De/Ce,Oe*Me/Te);Ce*=Ve,Te*=Ve}this._uiManager.enableWaiting(!1);const Be=Ls(this,Fp,document.createElement("canvas"));Be.setAttribute("role","img"),this.addContainer(Be),this.width=Ce/De,this.height=Te/Me,this.setDims(),(ze=this._initialOptions)!=null&&ze.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,(!this._uiManager.useNewAltTextWhenAddingImage||!this._uiManager.useNewAltTextFlow||this.annotationElementId)&&(Ee.hidden=!1),Hs(this,bn,AE).call(this),Ke(this,iy)||(this.parent.addUndoableEditor(this),Ls(this,iy,!0)),this._reportTelemetry({action:"inserted_image"}),Ke(this,ry)&&this.div.setAttribute("aria-description",Ke(this,ry)),this.annotationElementId||this._uiManager.a11yAlert("pdfjs-editor-stamp-added-alert")},Qb=function(Ee,Ce){const{width:Te,height:De}=Ke(this,ja);let Me=Te,Oe=De,Be=Ke(this,ja);for(;Me>2*Ee||Oe>2*Ce;){const ze=Me,Ve=Oe;Me>2*Ee&&(Me=Me>=16384?Math.floor(Me/2)-1:Math.ceil(Me/2)),Oe>2*Ce&&(Oe=Oe>=16384?Math.floor(Oe/2)-1:Math.ceil(Oe/2));const qe=new OffscreenCanvas(Me,Oe);qe.getContext("2d").drawImage(Be,0,0,ze,Ve,0,0,Me,Oe),Be=qe.transferToImageBitmap()}return Be},AE=function(){const[Ee,Ce]=this.parentDimensions,{width:Te,height:De}=this,Me=new OutputScale,Oe=Math.ceil(Te*Ee*Me.sx),Be=Math.ceil(De*Ce*Me.sy),ze=Ke(this,Fp);if(!ze||ze.width===Oe&&ze.height===Be)return;ze.width=Oe,ze.height=Be;const Ve=Ke(this,_u)?Ke(this,ja):Hs(this,bn,Qb).call(this,Oe,Be),qe=ze.getContext("2d");qe.filter=this._uiManager.hcmFilter,qe.drawImage(Ve,0,0,Ve.width,Ve.height,0,0,Oe,Be)},e2=function(Ee){if(Ee){if(Ke(this,_u)){const De=this._uiManager.imageManager.getSvgUrl(Ke(this,Wo));if(De)return De}const Ce=document.createElement("canvas");return{width:Ce.width,height:Ce.height}=Ke(this,ja),Ce.getContext("2d").drawImage(Ke(this,ja),0,0),Ce.toDataURL()}if(Ke(this,_u)){const[Ce,Te]=this.pageDimensions,De=Math.round(this.width*Ce*PixelsPerInch.PDF_TO_CSS_UNITS),Me=Math.round(this.height*Te*PixelsPerInch.PDF_TO_CSS_UNITS),Oe=new OffscreenCanvas(De,Me);return Oe.getContext("2d").drawImage(Ke(this,ja),0,0,Ke(this,ja).width,Ke(this,ja).height,0,0,De,Me),Oe.transferToImageBitmap()}return structuredClone(Ke(this,ja))},J5=function(Ee){var Oe;const{pageIndex:Ce,accessibilityData:{altText:Te}}=this._initialData,De=Ee.pageIndex===Ce,Me=(((Oe=Ee.accessibilityData)==null?void 0:Oe.alt)||"")===Te;return{isSame:!this.hasEditedComment&&!this._hasBeenMoved&&!this._hasBeenResized&&De&&Me,isSameAltText:Me}},qr(StampEditor,"_type","stamp"),qr(StampEditor,"_editorType",AnnotationEditorType.STAMP);var Xx,ny,nf,af,Op,Ic,of,ay,oy,Bd,Ip,Zo,Bp,lf,ly,Ri,cf,Xn,CE,Q5,nh,PE,TE,t2;const Ad=class Ad{constructor({uiManager:e,pageIndex:Ee,div:Ce,structTreeLayer:Te,accessibilityManager:De,annotationLayer:Me,drawLayer:Oe,textLayer:Be,viewport:ze,l10n:Ve}){Bs(this,Xn);Bs(this,Xx);Bs(this,ny,!1);Bs(this,nf,null);Bs(this,af,null);Bs(this,Op,null);Bs(this,Ic,new Map);Bs(this,of,!1);Bs(this,ay,!1);Bs(this,oy,!1);Bs(this,Bd,null);Bs(this,Ip,null);Bs(this,Zo,null);Bs(this,Bp,null);Bs(this,lf,null);Bs(this,ly,-1);Bs(this,Ri);const qe=[...Ke(Ad,cf).values()];if(!Ad._initialized){Ad._initialized=!0;for(const We of qe)We.initialize(Ve,e)}e.registerEditorTypes(qe),Ls(this,Ri,e),this.pageIndex=Ee,this.div=Ce,Ls(this,Xx,De),Ls(this,nf,Me),this.viewport=ze,Ls(this,Zo,Be),this.drawLayer=Oe,this._structTree=Te,Ke(this,Ri).addLayer(this)}get isEmpty(){return Ke(this,Ic).size===0}get isInvisible(){return this.isEmpty&&Ke(this,Ri).getMode()===AnnotationEditorType.NONE}updateToolbar(e){Ke(this,Ri).updateToolbar(e)}updateMode(e=Ke(this,Ri).getMode()){switch(Hs(this,Xn,t2).call(this),e){case AnnotationEditorType.NONE:this.div.classList.toggle("nonEditing",!0),this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case AnnotationEditorType.INK:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick();break;case AnnotationEditorType.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:Ee}=this.div;if(Ee.toggle("nonEditing",!1),e===AnnotationEditorType.POPUP)Ee.toggle("commentEditing",!0);else{Ee.toggle("commentEditing",!1);for(const Ce of Ke(Ad,cf).values())Ee.toggle(`${Ce._type}Editing`,e===Ce._editorType)}this.div.hidden=!1}hasTextLayer(e){var Ee;return e===((Ee=Ke(this,Zo))==null?void 0:Ee.div)}setEditingState(e){Ke(this,Ri).setEditingState(e)}addCommands(e){Ke(this,Ri).addCommands(e)}cleanUndoStack(e){Ke(this,Ri).cleanUndoStack(e)}toggleDrawing(e=!1){this.div.classList.toggle("drawing",!e)}togglePointerEvents(e=!1){this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(e=!1){var Ee;(Ee=Ke(this,nf))==null||Ee.div.classList.toggle("disabled",!e)}async enable(){var Ce;Ls(this,oy,!0),this.div.tabIndex=0,this.togglePointerEvents(!0),this.div.classList.toggle("nonEditing",!1),(Ce=Ke(this,lf))==null||Ce.abort(),Ls(this,lf,null);const e=new Set;for(const Te of Ke(this,Xn,CE))Te.enableEditing(),Te.show(!0),Te.annotationElementId&&(Ke(this,Ri).removeChangedExistingAnnotation(Te),e.add(Te.annotationElementId));const Ee=Ke(this,nf);if(Ee)for(const Te of Ee.getEditableAnnotations()){if(Te.hide(),Ke(this,Ri).isDeletedAnnotationElement(Te.data.id)||e.has(Te.data.id))continue;const De=await this.deserialize(Te);De&&(this.addOrRebuild(De),De.enableEditing())}Ls(this,oy,!1),Ke(this,Ri)._eventBus.dispatch("editorsrendered",{source:this,pageNumber:this.pageIndex+1})}disable(){var Ce;if(Ls(this,ay,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1),this.div.classList.toggle("nonEditing",!0),Ke(this,Zo)&&!Ke(this,lf)){Ls(this,lf,new AbortController);const Te=Ke(this,Ri).combinedSignal(Ke(this,lf));Ke(this,Zo).div.addEventListener("pointerdown",De=>{const{clientX:Oe,clientY:Be,timeStamp:ze}=De,Ve=Ke(this,ly);if(ze-Ve>500){Ls(this,ly,ze);return}Ls(this,ly,-1);const{classList:qe}=this.div;qe.toggle("getElements",!0);const We=document.elementsFromPoint(Oe,Be);if(qe.toggle("getElements",!1),!this.div.contains(We[0]))return;let Ge;const Je=new RegExp(`^${AnnotationEditorPrefix}[0-9]+$`);for(const ns of We)if(Je.test(ns.id)){Ge=ns.id;break}if(!Ge)return;const Qe=Ke(this,Ic).get(Ge);(Qe==null?void 0:Qe.annotationElementId)===null&&(De.stopPropagation(),De.preventDefault(),Qe.dblclick(De))},{signal:Te,capture:!0})}const e=Ke(this,nf);if(e){const Te=new Map,De=new Map;for(const Oe of Ke(this,Xn,CE)){if(Oe.disableEditing(),!Oe.annotationElementId){Oe.updateFakeAnnotationElement(e);continue}if(Oe.serialize()!==null){Te.set(Oe.annotationElementId,Oe);continue}else De.set(Oe.annotationElementId,Oe);(Ce=this.getEditableAnnotation(Oe.annotationElementId))==null||Ce.show(),Oe.remove()}const Me=e.getEditableAnnotations();for(const Oe of Me){const{id:Be}=Oe.data;if(Ke(this,Ri).isDeletedAnnotationElement(Be)){Oe.updateEdited({deleted:!0});continue}let ze=De.get(Be);if(ze){ze.resetAnnotationElement(Oe),ze.show(!1),Oe.show();continue}ze=Te.get(Be),ze&&(Ke(this,Ri).addChangedExistingAnnotation(ze),ze.renderAnnotationElement(Oe)&&ze.show(!1)),Oe.show()}}Hs(this,Xn,t2).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:Ee}=this.div;for(const Te of Ke(Ad,cf).values())Ee.remove(`${Te._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),Ls(this,ay,!1)}getEditableAnnotation(e){var Ee;return((Ee=Ke(this,nf))==null?void 0:Ee.getEditableAnnotation(e))||null}setActiveEditor(e){Ke(this,Ri).getActive()!==e&&Ke(this,Ri).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,(e=Ke(this,Zo))!=null&&e.div&&!Ke(this,Bp)){Ls(this,Bp,new AbortController);const Ee=Ke(this,Ri).combinedSignal(Ke(this,Bp));Ke(this,Zo).div.addEventListener("pointerdown",Hs(this,Xn,Q5).bind(this),{signal:Ee}),Ke(this,Zo).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,(e=Ke(this,Zo))!=null&&e.div&&Ke(this,Bp)&&(Ke(this,Bp).abort(),Ls(this,Bp,null),Ke(this,Zo).div.classList.remove("highlighting"))}enableClick(){if(Ke(this,af))return;Ls(this,af,new AbortController);const e=Ke(this,Ri).combinedSignal(Ke(this,af));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e});const Ee=this.pointerup.bind(this);this.div.addEventListener("pointerup",Ee,{signal:e}),this.div.addEventListener("pointercancel",Ee,{signal:e})}disableClick(){var e;(e=Ke(this,af))==null||e.abort(),Ls(this,af,null)}attach(e){Ke(this,Ic).set(e.id,e);const{annotationElementId:Ee}=e;Ee&&Ke(this,Ri).isDeletedAnnotationElement(Ee)&&Ke(this,Ri).removeDeletedAnnotationElement(e)}detach(e){var Ee;Ke(this,Ic).delete(e.id),(Ee=Ke(this,Xx))==null||Ee.removePointerInTextLayer(e.contentDiv),!Ke(this,ay)&&e.annotationElementId&&Ke(this,Ri).addDeletedAnnotationElement(e)}remove(e){this.detach(e),Ke(this,Ri).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1}changeParent(e){var Ee;e.parent!==this&&(e.parent&&e.annotationElementId&&(Ke(this,Ri).addDeletedAnnotationElement(e.annotationElementId),AnnotationEditor.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),(Ee=e.parent)==null||Ee.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(!(e.parent===this&&e.isAttachedToDOM)){if(this.changeParent(e),Ke(this,Ri).addEditor(e),this.attach(e),!e.isAttachedToDOM){const Ee=e.render();this.div.append(Ee),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(!Ke(this,oy)),Ke(this,Ri).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var Ce;if(!e.isAttachedToDOM)return;const{activeElement:Ee}=document;e.div.contains(Ee)&&!Ke(this,Op)&&(e._focusEventsAllowed=!1,Ls(this,Op,setTimeout(()=>{Ls(this,Op,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",()=>{e._focusEventsAllowed=!0},{once:!0,signal:Ke(this,Ri)._signal}),Ee.focus())},0))),e._structTreeParentId=(Ce=Ke(this,Xx))==null?void 0:Ce.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){const Ee=()=>e._uiManager.rebuild(e),Ce=()=>{e.remove()};this.addCommands({cmd:Ee,undo:Ce,mustExec:!1})}getEditorByUID(e){for(const Ee of Ke(this,Ic).values())if(Ee.uid===e)return Ee;return null}getNextId(){return Ke(this,Ri).getId()}combinedSignal(e){return Ke(this,Ri).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return(e=Ke(this,Xn,nh))==null?void 0:e.canCreateNewEmptyEditor()}async pasteEditor(e,Ee){this.updateToolbar(e),await Ke(this,Ri).updateMode(e.mode);const{offsetX:Ce,offsetY:Te}=Hs(this,Xn,TE).call(this),De=this.getNextId(),Me=Hs(this,Xn,PE).call(this,{parent:this,id:De,x:Ce,y:Te,uiManager:Ke(this,Ri),isCentered:!0,...Ee});Me&&this.add(Me)}async deserialize(e){var Ee;return await((Ee=Ke(Ad,cf).get(e.annotationType??e.annotationEditorType))==null?void 0:Ee.deserialize(e,this,Ke(this,Ri)))||null}createAndAddNewEditor(e,Ee,Ce={}){const Te=this.getNextId(),De=Hs(this,Xn,PE).call(this,{parent:this,id:Te,x:e.offsetX,y:e.offsetY,uiManager:Ke(this,Ri),isCentered:Ee,...Ce});return De&&this.add(De),De}get boundingClientRect(){return this.div.getBoundingClientRect()}addNewEditor(e={}){this.createAndAddNewEditor(Hs(this,Xn,TE).call(this),!0,e)}setSelected(e){Ke(this,Ri).setSelected(e)}toggleSelected(e){Ke(this,Ri).toggleSelected(e)}unselect(e){Ke(this,Ri).unselect(e)}pointerup(e){var Te;const{isMac:Ee}=util_FeatureTest.platform;if(e.button!==0||e.ctrlKey&&Ee||e.target!==this.div||!Ke(this,of)||(Ls(this,of,!1),(Te=Ke(this,Xn,nh))!=null&&Te.isDrawer&&Ke(this,Xn,nh).supportMultipleDrawings))return;if(!Ke(this,ny)){Ls(this,ny,!0);return}const Ce=Ke(this,Ri).getMode();if(Ce===AnnotationEditorType.STAMP||Ce===AnnotationEditorType.SIGNATURE){Ke(this,Ri).unselectAll();return}this.createAndAddNewEditor(e,!1)}pointerdown(e){var Te;if(Ke(this,Ri).getMode()===AnnotationEditorType.HIGHLIGHT&&this.enableTextSelection(),Ke(this,of)){Ls(this,of,!1);return}const{isMac:Ee}=util_FeatureTest.platform;if(e.button!==0||e.ctrlKey&&Ee||e.target!==this.div)return;if(Ls(this,of,!0),(Te=Ke(this,Xn,nh))!=null&&Te.isDrawer){this.startDrawingSession(e);return}const Ce=Ke(this,Ri).getActive();Ls(this,ny,!Ce||Ce.isEmpty())}startDrawingSession(e){if(this.div.focus({preventScroll:!0}),Ke(this,Bd)){Ke(this,Xn,nh).startDrawing(this,Ke(this,Ri),!1,e);return}Ke(this,Ri).setCurrentDrawingSession(this),Ls(this,Bd,new AbortController);const Ee=Ke(this,Ri).combinedSignal(Ke(this,Bd));this.div.addEventListener("blur",({relatedTarget:Ce})=>{Ce&&!this.div.contains(Ce)&&(Ls(this,Ip,null),this.commitOrRemove())},{signal:Ee}),Ke(this,Xn,nh).startDrawing(this,Ke(this,Ri),!1,e)}pause(e){if(e){const{activeElement:Ee}=document;this.div.contains(Ee)&&Ls(this,Ip,Ee);return}Ke(this,Ip)&&setTimeout(()=>{var Ee;(Ee=Ke(this,Ip))==null||Ee.focus(),Ls(this,Ip,null)},0)}endDrawingSession(e=!1){return Ke(this,Bd)?(Ke(this,Ri).setCurrentDrawingSession(null),Ke(this,Bd).abort(),Ls(this,Bd,null),Ls(this,Ip,null),Ke(this,Xn,nh).endDrawing(e)):null}findNewParent(e,Ee,Ce){const Te=Ke(this,Ri).findParent(Ee,Ce);return Te===null||Te===this?!1:(Te.changeParent(e),!0)}commitOrRemove(){return Ke(this,Bd)?(this.endDrawingSession(),!0):!1}onScaleChanging(){Ke(this,Bd)&&Ke(this,Xn,nh).onScaleChangingWhenDrawing(this)}destroy(){var e,Ee;this.commitOrRemove(),((e=Ke(this,Ri).getActive())==null?void 0:e.parent)===this&&(Ke(this,Ri).commitOrRemove(),Ke(this,Ri).setActiveEditor(null)),Ke(this,Op)&&(clearTimeout(Ke(this,Op)),Ls(this,Op,null));for(const Ce of Ke(this,Ic).values())(Ee=Ke(this,Xx))==null||Ee.removePointerInTextLayer(Ce.contentDiv),Ce.setParent(null),Ce.isAttachedToDOM=!1,Ce.div.remove();this.div=null,Ke(this,Ic).clear(),Ke(this,Ri).removeLayer(this)}render({viewport:e}){this.viewport=e,setLayerDimensions(this.div,e);for(const Ee of Ke(this,Ri).getEditors(this.pageIndex))this.add(Ee),Ee.rebuild();this.updateMode()}update({viewport:e}){Ke(this,Ri).commitOrRemove(),Hs(this,Xn,t2).call(this);const Ee=this.viewport.rotation,Ce=e.rotation;if(this.viewport=e,setLayerDimensions(this.div,{rotation:Ce}),Ee!==Ce)for(const Te of Ke(this,Ic).values())Te.rotate(Ce)}get pageDimensions(){const{pageWidth:e,pageHeight:Ee}=this.viewport.rawDims;return[e,Ee]}get scale(){return Ke(this,Ri).viewParameters.realScale}};Xx=new WeakMap,ny=new WeakMap,nf=new WeakMap,af=new WeakMap,Op=new WeakMap,Ic=new WeakMap,of=new WeakMap,ay=new WeakMap,oy=new WeakMap,Bd=new WeakMap,Ip=new WeakMap,Zo=new WeakMap,Bp=new WeakMap,lf=new WeakMap,ly=new WeakMap,Ri=new WeakMap,cf=new WeakMap,Xn=new WeakSet,CE=function(){return Ke(this,Ic).size!==0?Ke(this,Ic).values():Ke(this,Ri).getEditors(this.pageIndex)},Q5=function(e){Ke(this,Ri).unselectAll();const{target:Ee}=e;if(Ee===Ke(this,Zo).div||(Ee.getAttribute("role")==="img"||Ee.classList.contains("endOfContent"))&&Ke(this,Zo).div.contains(Ee)){const{isMac:Ce}=util_FeatureTest.platform;if(e.button!==0||e.ctrlKey&&Ce)return;Ke(this,Ri).showAllEditors("highlight",!0,!0),Ke(this,Zo).div.classList.add("free"),this.toggleDrawing(),HighlightEditor.startHighlighting(this,Ke(this,Ri).direction==="ltr",{target:Ke(this,Zo).div,x:e.x,y:e.y}),Ke(this,Zo).div.addEventListener("pointerup",()=>{Ke(this,Zo).div.classList.remove("free"),this.toggleDrawing(!0)},{once:!0,signal:Ke(this,Ri)._signal}),e.preventDefault()}},nh=function(){return Ke(Ad,cf).get(Ke(this,Ri).getMode())},PE=function(e){const Ee=Ke(this,Xn,nh);return Ee?new Ee.prototype.constructor(e):null},TE=function(){const{x:e,y:Ee,width:Ce,height:Te}=this.boundingClientRect,De=Math.max(0,e),Me=Math.max(0,Ee),Oe=Math.min(window.innerWidth,e+Ce),Be=Math.min(window.innerHeight,Ee+Te),ze=(De+Oe)/2-e,Ve=(Me+Be)/2-Ee,[qe,We]=this.viewport.rotation%180===0?[ze,Ve]:[Ve,ze];return{offsetX:qe,offsetY:We}},t2=function(){for(const e of Ke(this,Ic).values())e.isEmpty()&&e.remove()},qr(Ad,"_initialized",!1),Bs(Ad,cf,new Map([FreeTextEditor,InkEditor,StampEditor,HighlightEditor,SignatureEditor].map(e=>[e._editorType,e])));let AnnotationEditorLayer=Ad;var zd,uc,Jx,Lv,b2,e_,Ph,kE,t_,DE;const _o=class _o{constructor({pageIndex:e}){Bs(this,Ph);Bs(this,zd,null);Bs(this,uc,new Map);Bs(this,Jx,new Map);this.pageIndex=e}setParent(e){if(!Ke(this,zd)){Ls(this,zd,e);return}if(Ke(this,zd)!==e){if(Ke(this,uc).size>0)for(const Ee of Ke(this,uc).values())Ee.remove(),e.append(Ee);Ls(this,zd,e)}}static get _svgFactory(){return shadow(this,"_svgFactory",new DOMSVGFactory)}draw(e,Ee=!1,Ce=!1){const Te=Ro(_o,Lv)._++,De=Hs(this,Ph,kE).call(this),Me=_o._svgFactory.createElement("defs");De.append(Me);const Oe=_o._svgFactory.createElement("path");Me.append(Oe);const Be=`path_p${this.pageIndex}_${Te}`;Oe.setAttribute("id",Be),Oe.setAttribute("vector-effect","non-scaling-stroke"),Ee&&Ke(this,Jx).set(Te,Oe);const ze=Ce?Hs(this,Ph,t_).call(this,Me,Be):null,Ve=_o._svgFactory.createElement("use");return De.append(Ve),Ve.setAttribute("href",`#${Be}`),this.updateProperties(De,e),Ke(this,uc).set(Te,De),{id:Te,clipPathId:`url(#${ze})`}}drawOutline(e,Ee){const Ce=Ro(_o,Lv)._++,Te=Hs(this,Ph,kE).call(this),De=_o._svgFactory.createElement("defs");Te.append(De);const Me=_o._svgFactory.createElement("path");De.append(Me);const Oe=`path_p${this.pageIndex}_${Ce}`;Me.setAttribute("id",Oe),Me.setAttribute("vector-effect","non-scaling-stroke");let Be;if(Ee){const qe=_o._svgFactory.createElement("mask");De.append(qe),Be=`mask_p${this.pageIndex}_${Ce}`,qe.setAttribute("id",Be),qe.setAttribute("maskUnits","objectBoundingBox");const We=_o._svgFactory.createElement("rect");qe.append(We),We.setAttribute("width","1"),We.setAttribute("height","1"),We.setAttribute("fill","white");const Ge=_o._svgFactory.createElement("use");qe.append(Ge),Ge.setAttribute("href",`#${Oe}`),Ge.setAttribute("stroke","none"),Ge.setAttribute("fill","black"),Ge.setAttribute("fill-rule","nonzero"),Ge.classList.add("mask")}const ze=_o._svgFactory.createElement("use");Te.append(ze),ze.setAttribute("href",`#${Oe}`),Be&&ze.setAttribute("mask",`url(#${Be})`);const Ve=ze.cloneNode();return Te.append(Ve),ze.classList.add("mainOutline"),Ve.classList.add("secondaryOutline"),this.updateProperties(Te,e),Ke(this,uc).set(Ce,Te),Ce}finalizeDraw(e,Ee){Ke(this,Jx).delete(e),this.updateProperties(e,Ee)}updateProperties(e,Ee){var Be;if(!Ee)return;const{root:Ce,bbox:Te,rootClass:De,path:Me}=Ee,Oe=typeof e=="number"?Ke(this,uc).get(e):e;if(Oe){if(Ce&&Hs(this,Ph,DE).call(this,Oe,Ce),Te&&Hs(Be=_o,b2,e_).call(Be,Oe,Te),De){const{classList:ze}=Oe;for(const[Ve,qe]of Object.entries(De))ze.toggle(Ve,qe)}if(Me){const Ve=Oe.firstChild.firstChild;Hs(this,Ph,DE).call(this,Ve,Me)}}}updateParent(e,Ee){if(Ee===this)return;const Ce=Ke(this,uc).get(e);Ce&&(Ke(Ee,zd).append(Ce),Ke(this,uc).delete(e),Ke(Ee,uc).set(e,Ce))}remove(e){Ke(this,Jx).delete(e),Ke(this,zd)!==null&&(Ke(this,uc).get(e).remove(),Ke(this,uc).delete(e))}destroy(){Ls(this,zd,null);for(const e of Ke(this,uc).values())e.remove();Ke(this,uc).clear(),Ke(this,Jx).clear()}};zd=new WeakMap,uc=new WeakMap,Jx=new WeakMap,Lv=new WeakMap,b2=new WeakSet,e_=function(e,[Ee,Ce,Te,De]){const{style:Me}=e;Me.top=`${100*Ce}%`,Me.left=`${100*Ee}%`,Me.width=`${100*Te}%`,Me.height=`${100*De}%`},Ph=new WeakSet,kE=function(){const e=_o._svgFactory.create(1,1,!0);return Ke(this,zd).append(e),e.setAttribute("aria-hidden",!0),e},t_=function(e,Ee){const Ce=_o._svgFactory.createElement("clipPath");e.append(Ce);const Te=`clip_${Ee}`;Ce.setAttribute("id",Te),Ce.setAttribute("clipPathUnits","objectBoundingBox");const De=_o._svgFactory.createElement("use");return Ce.append(De),De.setAttribute("href",`#${Ee}`),De.classList.add("clip"),Te},DE=function(e,Ee){for(const[Ce,Te]of Object.entries(Ee))Te===null?e.removeAttribute(Ce):e.setAttribute(Ce,Te)},Bs(_o,b2),Bs(_o,Lv,0);let DrawLayer=_o;globalThis._pdfjsTestingUtils={HighlightOutliner};globalThis.pdfjsLib={AbortException,AnnotationEditorLayer,AnnotationEditorParamsType,AnnotationEditorType,AnnotationEditorUIManager,AnnotationLayer:AnnotationLayer$1,AnnotationMode,AnnotationType,applyOpacity,build,ColorPicker,createValidAbsoluteUrl,CSSConstants,DOMSVGFactory,DrawLayer,FeatureTest:util_FeatureTest,fetchData,findContrastColor,getDocument,getFilenameFromUrl,getPdfFilenameFromUrl,getRGB,getUuid,getXfaPageViewport,GlobalWorkerOptions,ImageKind:util_ImageKind,InvalidPDFException,isDataScheme,isPdfFile,isValidExplicitDest,MathClamp,noContextMenu,normalizeUnicode,OPS,OutputScale,PasswordResponses:PasswordResponses$1,PDFDataRangeTransport:PDFDataRangeTransport$1,PDFDateString,PDFWorker,PermissionFlag,PixelsPerInch,RenderingCancelledException,renderRichText,ResponseException,setLayerDimensions,shadow,SignatureExtractor,stopEvent,SupportedImageMimeTypes,TextLayer:TextLayer$1,TouchManager,updateUrlHash,Util,VerbosityLevel,version,XfaLayer};const pdfjs=Object.freeze(Object.defineProperty({__proto__:null,AbortException,AnnotationEditorLayer,AnnotationEditorParamsType,AnnotationEditorType,AnnotationEditorUIManager,AnnotationLayer:AnnotationLayer$1,AnnotationMode,AnnotationType,CSSConstants,ColorPicker,DOMSVGFactory,DrawLayer,FeatureTest:util_FeatureTest,GlobalWorkerOptions,ImageKind:util_ImageKind,InvalidPDFException,MathClamp,OPS,OutputScale,PDFDataRangeTransport:PDFDataRangeTransport$1,PDFDateString,PDFWorker,PasswordResponses:PasswordResponses$1,PermissionFlag,PixelsPerInch,RenderingCancelledException,ResponseException,SignatureExtractor,SupportedImageMimeTypes,TextLayer:TextLayer$1,TouchManager,Util,VerbosityLevel,XfaLayer,applyOpacity,build,createValidAbsoluteUrl,fetchData,findContrastColor,getDocument,getFilenameFromUrl,getPdfFilenameFromUrl,getRGB,getUuid,getXfaPageViewport,isDataScheme,isPdfFile,isValidExplicitDest,noContextMenu,normalizeUnicode,renderRichText,setLayerDimensions,shadow,stopEvent,updateUrlHash,version},Symbol.toStringTag,{value:"Module"}));function r(Re){var e,Ee,Ce="";if(typeof Re=="string"||typeof Re=="number")Ce+=Re;else if(typeof Re=="object")if(Array.isArray(Re)){var Te=Re.length;for(e=0;e<Te;e++)Re[e]&&(Ee=r(Re[e]))&&(Ce&&(Ce+=" "),Ce+=Ee)}else for(Ee in Re)Re[Ee]&&(Ce&&(Ce+=" "),Ce+=Ee);return Ce}function clsx(){for(var Re,e,Ee=0,Ce="",Te=arguments.length;Ee<Te;Ee++)(Re=arguments[Ee])&&(e=r(Re))&&(Ce&&(Ce+=" "),Ce+=e);return Ce}var has=Object.prototype.hasOwnProperty;function find(Re,e,Ee){for(Ee of Re.keys())if(dequal(Ee,e))return Ee}function dequal(Re,e){var Ee,Ce,Te;if(Re===e)return!0;if(Re&&e&&(Ee=Re.constructor)===e.constructor){if(Ee===Date)return Re.getTime()===e.getTime();if(Ee===RegExp)return Re.toString()===e.toString();if(Ee===Array){if((Ce=Re.length)===e.length)for(;Ce--&&dequal(Re[Ce],e[Ce]););return Ce===-1}if(Ee===Set){if(Re.size!==e.size)return!1;for(Ce of Re)if(Te=Ce,Te&&typeof Te=="object"&&(Te=find(e,Te),!Te)||!e.has(Te))return!1;return!0}if(Ee===Map){if(Re.size!==e.size)return!1;for(Ce of Re)if(Te=Ce[0],Te&&typeof Te=="object"&&(Te=find(e,Te),!Te)||!dequal(Ce[1],e.get(Te)))return!1;return!0}if(Ee===ArrayBuffer)Re=new Uint8Array(Re),e=new Uint8Array(e);else if(Ee===DataView){if((Ce=Re.byteLength)===e.byteLength)for(;Ce--&&Re.getInt8(Ce)===e.getInt8(Ce););return Ce===-1}if(ArrayBuffer.isView(Re)){if((Ce=Re.byteLength)===e.byteLength)for(;Ce--&&Re[Ce]===e[Ce];);return Ce===-1}if(!Ee||typeof Re=="object"){Ce=0;for(Ee in Re)if(has.call(Re,Ee)&&++Ce&&!has.call(e,Ee)||!(Ee in e)||!dequal(Re[Ee],e[Ee]))return!1;return Object.keys(e).length===Ce}}return Re!==Re&&e!==e}function makeCancellablePromise(Re){let e=!1;return{promise:new Promise((Ce,Te)=>{Re.then(De=>!e&&Ce(De)).catch(De=>!e&&Te(De))}),cancel(){e=!0}}}const clipboardEvents=["onCopy","onCut","onPaste"],compositionEvents=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],focusEvents=["onFocus","onBlur"],formEvents=["onInput","onInvalid","onReset","onSubmit"],imageEvents=["onLoad","onError"],keyboardEvents=["onKeyDown","onKeyPress","onKeyUp"],mediaEvents=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],mouseEvents=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],dragEvents=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],selectionEvents=["onSelect"],touchEvents=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],pointerEvents=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],uiEvents=["onScroll"],wheelEvents=["onWheel"],animationEvents=["onAnimationStart","onAnimationEnd","onAnimationIteration"],transitionEvents=["onTransitionEnd"],otherEvents=["onToggle"],changeEvents=["onChange"],allEvents=[...clipboardEvents,...compositionEvents,...focusEvents,...formEvents,...imageEvents,...keyboardEvents,...mediaEvents,...mouseEvents,...dragEvents,...selectionEvents,...touchEvents,...pointerEvents,...uiEvents,...wheelEvents,...animationEvents,...transitionEvents,...changeEvents,...otherEvents];function makeEventProps(Re,e){const Ee={};for(const Ce of allEvents){const Te=Re[Ce];Te&&(e?Ee[Ce]=De=>Te(De,e(Ce)):Ee[Ce]=Te)}return Ee}var prefix="Invariant failed";function invariant(Re,e){if(!Re)throw new Error(prefix)}var warning_1,hasRequiredWarning;function requireWarning(){if(hasRequiredWarning)return warning_1;hasRequiredWarning=1;var Re=function(){};return warning_1=Re,warning_1}var warningExports=requireWarning();const warning=getDefaultExportFromCjs(warningExports),documentContext=reactExports.createContext(null),DEFAULT_LINK_REL="noopener noreferrer nofollow";class LinkService{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHash(){}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return invariant(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){invariant(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}addLinkAttributes(e,Ee,Ce){e.href=Ee,e.rel=this.externalLinkRel||DEFAULT_LINK_REL,e.target=Ce?"_blank":this.externalLinkTarget||""}goToDestination(e){return new Promise(Ee=>{invariant(this.pdfDocument),invariant(e),typeof e=="string"?this.pdfDocument.getDestination(e).then(Ee):Array.isArray(e)?Ee(e):e.then(Ee)}).then(Ee=>{invariant(Array.isArray(Ee));const Ce=Ee[0];new Promise(Te=>{invariant(this.pdfDocument),Ce instanceof Object?this.pdfDocument.getPageIndex(Ce).then(De=>{Te(De)}).catch(()=>{invariant(!1)}):typeof Ce=="number"?Te(Ce):invariant(!1)}).then(Te=>{const De=Te+1;invariant(this.pdfViewer),invariant(De>=1&&De<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:Ee,pageIndex:Te,pageNumber:De})})})}goToPage(e){const Ee=e-1;invariant(this.pdfViewer),invariant(e>=1&&e<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:Ee,pageNumber:e})}goToXY(){}cachePageRef(){}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}executeNamedAction(){}executeSetOCGState(){}isPageVisible(){return!0}isPageCached(){return!0}navigateTo(e){this.goToDestination(e)}}function Message({children:Re,type:e}){return jsxRuntimeExports.jsx("div",{className:`react-pdf__message react-pdf__message--${e}`,children:Re})}const PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};function reducer(Re,e){switch(e.type){case"RESOLVE":return{value:e.value,error:void 0};case"REJECT":return{value:!1,error:e.error};case"RESET":return{value:void 0,error:void 0};default:return Re}}function useResolver(){return reactExports.useReducer(reducer,{value:void 0,error:void 0})}const isBrowser=typeof window<"u",isLocalFileSystem=isBrowser&&window.location.protocol==="file:";function isDefined(Re){return typeof Re<"u"}function isProvided(Re){return isDefined(Re)&&Re!==null}function isString(Re){return typeof Re=="string"}function isArrayBuffer(Re){return Re instanceof ArrayBuffer}function isBlob(Re){return invariant(isBrowser),Re instanceof Blob}function isDataURI(Re){return isString(Re)&&/^data:/.test(Re)}function dataURItoByteString(Re){invariant(isDataURI(Re));const[e="",Ee=""]=Re.split(",");return e.split(";").indexOf("base64")!==-1?atob(Ee):unescape(Ee)}function getDevicePixelRatio(){return isBrowser&&window.devicePixelRatio||1}const allowFileAccessFromFilesTip="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function displayCORSWarning(){warning(!isLocalFileSystem,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function displayWorkerWarning(){warning(!isLocalFileSystem,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${allowFileAccessFromFilesTip}`)}function cancelRunningTask(Re){Re!=null&&Re.cancel&&Re.cancel()}function makePageCallback(Re,e){return Object.defineProperty(Re,"width",{get(){return this.view[2]*e},configurable:!0}),Object.defineProperty(Re,"height",{get(){return this.view[3]*e},configurable:!0}),Object.defineProperty(Re,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(Re,"originalHeight",{get(){return this.view[3]},configurable:!0}),Re}function isCancelException(Re){return Re.name==="RenderingCancelledException"}function loadFromFile(Re){return new Promise((e,Ee)=>{const Ce=new FileReader;Ce.onload=()=>{if(!Ce.result)return Ee(new Error("Error while reading a file."));e(Ce.result)},Ce.onerror=Te=>{if(!Te.target)return Ee(new Error("Error while reading a file."));const{error:De}=Te.target;if(!De)return Ee(new Error("Error while reading a file."));switch(De.code){case De.NOT_FOUND_ERR:return Ee(new Error("Error while reading a file: File not found."));case De.SECURITY_ERR:return Ee(new Error("Error while reading a file: Security error."));case De.ABORT_ERR:return Ee(new Error("Error while reading a file: Aborted."));default:return Ee(new Error("Error while reading a file."))}},Ce.readAsArrayBuffer(Re)})}const{PDFDataRangeTransport}=pdfjs,defaultOnPassword=(Re,e)=>{switch(e){case PasswordResponses.NEED_PASSWORD:{const Ee=prompt("Enter the password to open this PDF file.");Re(Ee);break}case PasswordResponses.INCORRECT_PASSWORD:{const Ee=prompt("Invalid password. Please try again.");Re(Ee);break}}};function isParameterObject(Re){return typeof Re=="object"&&Re!==null&&("data"in Re||"range"in Re||"url"in Re)}const Document=reactExports.forwardRef(function Re({children:e,className:Ee,error:Ce="Failed to load PDF file.",externalLinkRel:Te,externalLinkTarget:De,file:Me,inputRef:Oe,imageResourcesPath:Be,loading:ze="Loading PDFâ€¦",noData:Ve="No PDF file specified.",onItemClick:qe,onLoadError:We,onLoadProgress:Ge,onLoadSuccess:Je,onPassword:Qe=defaultOnPassword,onSourceError:ns,onSourceSuccess:Ye,options:rs,renderMode:ts,rotate:Xe,scale:is,...os},hs){const[fs,xs]=useResolver(),{value:Ss,error:ds}=fs,[gs,Ts]=useResolver(),{value:Ds,error:Ms}=gs,bs=reactExports.useRef(new LinkService),Ns=reactExports.useRef([]),ps=reactExports.useRef(void 0),_s=reactExports.useRef(void 0);Me&&Me!==ps.current&&isParameterObject(Me)&&(warning(!dequal(Me,ps.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),ps.current=Me),rs&&rs!==_s.current&&(warning(!dequal(rs,_s.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),_s.current=rs);const ws=reactExports.useRef({scrollPageIntoView:rr=>{const{dest:ur,pageNumber:Ws,pageIndex:Er=Ws-1}=rr;if(qe){qe({dest:ur,pageIndex:Er,pageNumber:Ws});return}const zr=Ns.current[Er];if(zr){zr.scrollIntoView();return}warning(!1,`An internal link leading to page ${Ws} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});reactExports.useImperativeHandle(hs,()=>({linkService:bs,pages:Ns,viewer:ws}),[]);function js(){Ye&&Ye()}function ms(){ds&&(warning(!1,ds.toString()),ns&&ns(ds))}function ys(){xs({type:"RESET"})}reactExports.useEffect(ys,[Me,xs]);const ks=reactExports.useCallback(async()=>{if(!Me)return null;if(typeof Me=="string")return isDataURI(Me)?{data:dataURItoByteString(Me)}:(displayCORSWarning(),{url:Me});if(Me instanceof PDFDataRangeTransport)return{range:Me};if(isArrayBuffer(Me))return{data:Me};if(isBrowser&&isBlob(Me))return{data:await loadFromFile(Me)};if(invariant(typeof Me=="object"),invariant(isParameterObject(Me)),"url"in Me&&typeof Me.url=="string"){if(isDataURI(Me.url)){const{url:rr,...ur}=Me;return{data:dataURItoByteString(rr),...ur}}displayCORSWarning()}return Me},[Me]);reactExports.useEffect(()=>{const rr=makeCancellablePromise(ks());return rr.promise.then(ur=>{xs({type:"RESOLVE",value:ur})}).catch(ur=>{xs({type:"REJECT",error:ur})}),()=>{cancelRunningTask(rr)}},[ks,xs]),reactExports.useEffect(()=>{if(!(typeof Ss>"u")){if(Ss===!1){ms();return}js()}},[Ss]);function zs(){Ds&&(Je&&Je(Ds),Ns.current=new Array(Ds.numPages),bs.current.setDocument(Ds))}function Cs(){Ms&&(warning(!1,Ms.toString()),We&&We(Ms))}reactExports.useEffect(function(){Ts({type:"RESET"})},[Ts,Ss]),reactExports.useEffect(function(){if(!Ss)return;const ur=rs?{...Ss,...rs}:Ss,Ws=getDocument(ur);Ge&&(Ws.onProgress=Ge),Qe&&(Ws.onPassword=Qe);const Er=Ws,zr=Er.promise.then(Or=>{Ts({type:"RESOLVE",value:Or})}).catch(Or=>{Er.destroyed||Ts({type:"REJECT",error:Or})});return()=>{zr.finally(()=>Er.destroy())}},[rs,Ts,Ss]),reactExports.useEffect(()=>{if(!(typeof Ds>"u")){if(Ds===!1){Cs();return}zs()}},[Ds]),reactExports.useEffect(function(){bs.current.setViewer(ws.current),bs.current.setExternalLinkRel(Te),bs.current.setExternalLinkTarget(De)},[Te,De]);const Ps=reactExports.useCallback((rr,ur)=>{Ns.current[rr]=ur},[]),Us=reactExports.useCallback(rr=>{delete Ns.current[rr]},[]),Is=reactExports.useMemo(()=>({imageResourcesPath:Be,linkService:bs.current,onItemClick:qe,pdf:Ds,registerPage:Ps,renderMode:ts,rotate:Xe,scale:is,unregisterPage:Us}),[Be,qe,Ds,Ps,ts,Xe,is,Us]),Vs=reactExports.useMemo(()=>makeEventProps(os,()=>Ds),[os,Ds]);function Ks(){function rr(Ws){return!!(Ws!=null&&Ws.pdf)}if(!rr(Is))throw new Error("pdf is undefined");const ur=typeof e=="function"?e(Is):e;return jsxRuntimeExports.jsx(documentContext.Provider,{value:Is,children:ur})}function or(){return Me?Ds==null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof ze=="function"?ze():ze}):Ds===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof Ce=="function"?Ce():Ce}):Ks():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof Ve=="function"?Ve():Ve})}return jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Document",Ee),ref:Oe,...Vs,children:or()})});function useDocumentContext(){return reactExports.useContext(documentContext)}function mergeRefs(){for(var Re=[],e=0;e<arguments.length;e++)Re[e]=arguments[e];var Ee=Re.filter(Boolean);if(Ee.length<=1){var Ce=Ee[0];return Ce||null}return function(De){for(var Me=0,Oe=Ee;Me<Oe.length;Me++){var Be=Oe[Me];typeof Be=="function"?Be(De):Be&&(Be.current=De)}}}const pageContext=reactExports.createContext(null);function usePageContext(){return reactExports.useContext(pageContext)}function AnnotationLayer(){const Re=useDocumentContext(),e=usePageContext();invariant(e);const Ee={...Re,...e},{imageResourcesPath:Ce,linkService:Te,onGetAnnotationsError:De,onGetAnnotationsSuccess:Me,onRenderAnnotationLayerError:Oe,onRenderAnnotationLayerSuccess:Be,page:ze,pdf:Ve,renderForms:qe,rotate:We,scale:Ge=1}=Ee;invariant(Ve),invariant(ze),invariant(Te);const[Je,Qe]=useResolver(),{value:ns,error:Ye}=Je,rs=reactExports.useRef(null);warning(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function ts(){ns&&Me&&Me(ns)}function Xe(){Ye&&(warning(!1,Ye.toString()),De&&De(Ye))}reactExports.useEffect(function(){Qe({type:"RESET"})},[Qe,ze]),reactExports.useEffect(function(){if(!ze)return;const xs=makeCancellablePromise(ze.getAnnotations()),Ss=xs;return xs.promise.then(ds=>{Qe({type:"RESOLVE",value:ds})}).catch(ds=>{Qe({type:"REJECT",error:ds})}),()=>{cancelRunningTask(Ss)}},[Qe,ze]),reactExports.useEffect(()=>{if(ns!==void 0){if(ns===!1){Xe();return}ts()}},[ns]);function is(){Be&&Be()}function os(fs){warning(!1,`${fs}`),Oe&&Oe(fs)}const hs=reactExports.useMemo(()=>ze.getViewport({scale:Ge,rotation:We}),[ze,We,Ge]);return reactExports.useEffect(function(){if(!Ve||!ze||!Te||!ns)return;const{current:xs}=rs;if(!xs)return;const Ss=hs.clone({dontFlip:!0}),ds={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,annotationStorage:Ve.annotationStorage,commentManager:null,div:xs,l10n:null,linkService:Te,page:ze,structTreeLayer:null,viewport:Ss},gs={annotations:ns,annotationStorage:Ve.annotationStorage,div:xs,imageResourcesPath:Ce,linkService:Te,page:ze,renderForms:qe,viewport:Ss};xs.innerHTML="";try{new AnnotationLayer$1(ds).render(gs),is()}catch(Ts){os(Ts)}return()=>{}},[ns,Ce,Te,ze,Ve,qe,hs]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__annotations","annotationLayer"),ref:rs})}const PDF_ROLE_TO_HTML_ROLE={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},HEADING_PATTERN=/^H(\d+)$/;function isPdfRole(Re){return Re in PDF_ROLE_TO_HTML_ROLE}function isStructTreeNode(Re){return"children"in Re}function isStructTreeNodeWithOnlyContentChild(Re){return isStructTreeNode(Re)?Re.children.length===1&&0 in Re.children&&"id"in Re.children[0]:!1}function getRoleAttributes(Re){const e={};if(isStructTreeNode(Re)){const{role:Ee}=Re,Ce=Ee.match(HEADING_PATTERN);if(Ce)e.role="heading",e["aria-level"]=Number(Ce[1]);else if(isPdfRole(Ee)){const Te=PDF_ROLE_TO_HTML_ROLE[Ee];Te&&(e.role=Te)}}return e}function getBaseAttributes(Re){const e={};if(isStructTreeNode(Re)){if(Re.alt!==void 0&&(e["aria-label"]=Re.alt),Re.lang!==void 0&&(e.lang=Re.lang),isStructTreeNodeWithOnlyContentChild(Re)){const[Ee]=Re.children;if(Ee){const Ce=getBaseAttributes(Ee);return{...e,...Ce}}}}else"id"in Re&&(e["aria-owns"]=Re.id);return e}function getAttributes(Re){return Re?{...getRoleAttributes(Re),...getBaseAttributes(Re)}:null}function StructTreeItem({className:Re,node:e}){const Ee=reactExports.useMemo(()=>getAttributes(e),[e]),Ce=reactExports.useMemo(()=>!isStructTreeNode(e)||isStructTreeNodeWithOnlyContentChild(e)?null:e.children.map((Te,De)=>jsxRuntimeExports.jsx(StructTreeItem,{node:Te},De)),[e]);return jsxRuntimeExports.jsx("span",{className:Re,...Ee,children:Ce})}function StructTree(){const Re=usePageContext();invariant(Re);const{onGetStructTreeError:e,onGetStructTreeSuccess:Ee}=Re,[Ce,Te]=useResolver(),{value:De,error:Me}=Ce,{customTextRenderer:Oe,page:Be}=Re;function ze(){De&&Ee&&Ee(De)}function Ve(){Me&&(warning(!1,Me.toString()),e&&e(Me))}return reactExports.useEffect(function(){Te({type:"RESET"})},[Te,Be]),reactExports.useEffect(function(){if(Oe||!Be)return;const We=makeCancellablePromise(Be.getStructTree()),Ge=We;return We.promise.then(Je=>{Te({type:"RESOLVE",value:Je})}).catch(Je=>{Te({type:"REJECT",error:Je})}),()=>cancelRunningTask(Ge)},[Oe,Be,Te]),reactExports.useEffect(()=>{if(De!==void 0){if(De===!1){Ve();return}ze()}},[De]),De?jsxRuntimeExports.jsx(StructTreeItem,{className:"react-pdf__Page__structTree structTree",node:De}):null}const ANNOTATION_MODE=AnnotationMode;function Canvas(Re){const e=usePageContext();invariant(e);const Ee={...e,...Re},{_className:Ce,canvasBackground:Te,devicePixelRatio:De=getDevicePixelRatio(),onRenderError:Me,onRenderSuccess:Oe,page:Be,renderForms:ze,renderTextLayer:Ve,rotate:qe,scale:We}=Ee,{canvasRef:Ge}=Re;invariant(Be);const Je=reactExports.useRef(null);function Qe(){Be&&Oe&&Oe(makePageCallback(Be,We))}function ns(Xe){isCancelException(Xe)||(warning(!1,Xe.toString()),Me&&Me(Xe))}const Ye=reactExports.useMemo(()=>Be.getViewport({scale:We*De,rotation:qe}),[De,Be,qe,We]),rs=reactExports.useMemo(()=>Be.getViewport({scale:We,rotation:qe}),[Be,qe,We]);reactExports.useEffect(function(){if(!Be)return;Be.cleanup();const{current:is}=Je;if(!is)return;is.width=Ye.width,is.height=Ye.height,is.style.width=`${Math.floor(rs.width)}px`,is.style.height=`${Math.floor(rs.height)}px`,is.style.visibility="hidden";const os={annotationMode:ze?ANNOTATION_MODE.ENABLE_FORMS:ANNOTATION_MODE.ENABLE,canvas:is,canvasContext:is.getContext("2d",{alpha:!1}),viewport:Ye};Te&&(os.background=Te);const hs=Be.render(os),fs=hs;return hs.promise.then(()=>{is.style.visibility="",Qe()}).catch(ns),()=>cancelRunningTask(fs)},[Te,Be,ze,Ye,rs]);const ts=reactExports.useCallback(()=>{const{current:Xe}=Je;Xe&&(Xe.width=0,Xe.height=0)},[]);return reactExports.useEffect(()=>ts,[ts]),jsxRuntimeExports.jsx("canvas",{className:`${Ce}__canvas`,dir:"ltr",ref:mergeRefs(Ge,Je),style:{display:"block",userSelect:"none"},children:Ve?jsxRuntimeExports.jsx(StructTree,{}):null})}function isTextItem(Re){return"str"in Re}function TextLayer(){const Re=usePageContext();invariant(Re);const{customTextRenderer:e,onGetTextError:Ee,onGetTextSuccess:Ce,onRenderTextLayerError:Te,onRenderTextLayerSuccess:De,page:Me,pageIndex:Oe,pageNumber:Be,rotate:ze,scale:Ve}=Re;invariant(Me);const[qe,We]=useResolver(),{value:Ge,error:Je}=qe,Qe=reactExports.useRef(null);warning(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function ns(){Ge&&Ce&&Ce(Ge)}function Ye(){Je&&(warning(!1,Je.toString()),Ee&&Ee(Je))}reactExports.useEffect(function(){We({type:"RESET"})},[Me,We]),reactExports.useEffect(function(){if(!Me)return;const fs=makeCancellablePromise(Me.getTextContent()),xs=fs;return fs.promise.then(Ss=>{We({type:"RESOLVE",value:Ss})}).catch(Ss=>{We({type:"REJECT",error:Ss})}),()=>cancelRunningTask(xs)},[Me,We]),reactExports.useEffect(()=>{if(Ge!==void 0){if(Ge===!1){Ye();return}ns()}},[Ge]);const rs=reactExports.useCallback(()=>{De&&De()},[De]),ts=reactExports.useCallback(hs=>{warning(!1,hs.toString()),Te&&Te(hs)},[Te]);function Xe(){const hs=Qe.current;hs&&hs.classList.add("selecting")}function is(){const hs=Qe.current;hs&&hs.classList.remove("selecting")}const os=reactExports.useMemo(()=>Me.getViewport({scale:Ve,rotation:ze}),[Me,ze,Ve]);return reactExports.useLayoutEffect(function(){if(!Me||!Ge)return;const{current:fs}=Qe;if(!fs)return;fs.innerHTML="";const xs=Me.streamTextContent({includeMarkedContent:!0}),Ss={container:fs,textContentSource:xs,viewport:os},ds=new TextLayer$1(Ss),gs=ds;return ds.render().then(()=>{const Ts=document.createElement("div");Ts.className="endOfContent",fs.append(Ts);const Ds=fs.querySelectorAll('[role="presentation"]');if(e){let Ms=0;Ge.items.forEach((bs,Ns)=>{if(!isTextItem(bs))return;const ps=Ds[Ms];if(!ps)return;const _s=e({pageIndex:Oe,pageNumber:Be,itemIndex:Ns,...bs});ps.innerHTML=_s,Ms+=bs.str&&bs.hasEOL?2:1})}rs()}).catch(ts),()=>cancelRunningTask(gs)},[e,ts,rs,Me,Oe,Be,Ge,os]),jsxRuntimeExports.jsx("div",{className:clsx("react-pdf__Page__textContent","textLayer"),onMouseUp:is,onMouseDown:Xe,ref:Qe})}const defaultScale=1;function Page(Re){const Ee={...useDocumentContext(),...Re},{_className:Ce="react-pdf__Page",_enableRegisterUnregisterPage:Te=!0,canvasBackground:De,canvasRef:Me,children:Oe,className:Be,customRenderer:ze,customTextRenderer:Ve,devicePixelRatio:qe,error:We="Failed to load the page.",height:Ge,inputRef:Je,loading:Qe="Loading pageâ€¦",noData:ns="No page specified.",onGetAnnotationsError:Ye,onGetAnnotationsSuccess:rs,onGetStructTreeError:ts,onGetStructTreeSuccess:Xe,onGetTextError:is,onGetTextSuccess:os,onLoadError:hs,onLoadSuccess:fs,onRenderAnnotationLayerError:xs,onRenderAnnotationLayerSuccess:Ss,onRenderError:ds,onRenderSuccess:gs,onRenderTextLayerError:Ts,onRenderTextLayerSuccess:Ds,pageIndex:Ms,pageNumber:bs,pdf:Ns,registerPage:ps,renderAnnotationLayer:_s=!0,renderForms:ws=!1,renderMode:js="canvas",renderTextLayer:ms=!0,rotate:ys,scale:ks=defaultScale,unregisterPage:zs,width:Cs,...Ps}=Ee,[Us,Is]=useResolver(),{value:Vs,error:Ks}=Us,or=reactExports.useRef(null);invariant(Ns);const rr=isProvided(bs)?bs-1:Ms??null,ur=bs??(isProvided(Ms)?Ms+1:null),Ws=ys??(Vs?Vs.rotate:null),Er=reactExports.useMemo(()=>{if(!Vs)return null;let Mr=1;const Qr=ks??defaultScale;if(Cs||Ge){const Ur=Vs.getViewport({scale:1,rotation:Ws});Cs?Mr=Cs/Ur.width:Ge&&(Mr=Ge/Ur.height)}return Qr*Mr},[Ge,Vs,Ws,ks,Cs]);reactExports.useEffect(function(){return()=>{isProvided(rr)&&Te&&zs&&zs(rr)}},[Te,Ns,rr,zs]);function zr(){if(fs){if(!Vs||!Er)return;fs(makePageCallback(Vs,Er))}if(Te&&ps){if(!isProvided(rr)||!or.current)return;ps(rr,or.current)}}function Or(){Ks&&(warning(!1,Ks.toString()),hs&&hs(Ks))}reactExports.useEffect(function(){Is({type:"RESET"})},[Is,Ns,rr]),reactExports.useEffect(function(){if(!Ns||!ur)return;const Qr=makeCancellablePromise(Ns.getPage(ur)),Ur=Qr;return Qr.promise.then(ti=>{Is({type:"RESOLVE",value:ti})}).catch(ti=>{Is({type:"REJECT",error:ti})}),()=>cancelRunningTask(Ur)},[Is,Ns,ur]),reactExports.useEffect(()=>{if(Vs!==void 0){if(Vs===!1){Or();return}zr()}},[Vs,Er]);const tr=reactExports.useMemo(()=>isProvided(rr)&&ur&&isProvided(Ws)&&isProvided(Er)?{_className:Ce,canvasBackground:De,customTextRenderer:Ve,devicePixelRatio:qe,onGetAnnotationsError:Ye,onGetAnnotationsSuccess:rs,onGetStructTreeError:ts,onGetStructTreeSuccess:Xe,onGetTextError:is,onGetTextSuccess:os,onRenderAnnotationLayerError:xs,onRenderAnnotationLayerSuccess:Ss,onRenderError:ds,onRenderSuccess:gs,onRenderTextLayerError:Ts,onRenderTextLayerSuccess:Ds,page:Vs,pageIndex:rr,pageNumber:ur,renderForms:ws,renderTextLayer:ms,rotate:Ws,scale:Er}:null,[Ce,De,Ve,qe,Ye,rs,ts,Xe,is,os,xs,Ss,ds,gs,Ts,Ds,Vs,rr,ur,ws,ms,Ws,Er]),Lr=reactExports.useMemo(()=>makeEventProps(Ps,()=>Vs&&(Er?makePageCallback(Vs,Er):void 0)),[Ps,Vs,Er]),Js=`${rr}@${Er}/${Ws}`;function lr(){switch(js){case"custom":return invariant(ze),jsxRuntimeExports.jsx(ze,{},`${Js}_custom`);case"none":return null;case"canvas":default:return jsxRuntimeExports.jsx(Canvas,{canvasRef:Me},`${Js}_canvas`)}}function hr(){return ms?jsxRuntimeExports.jsx(TextLayer,{},`${Js}_text`):null}function Ar(){return _s?jsxRuntimeExports.jsx(AnnotationLayer,{},`${Js}_annotations`):null}function Pr(){function Mr(Ur){return!!(Ur!=null&&Ur.page)}if(!Mr(tr))throw new Error("page is undefined");const Qr=typeof Oe=="function"?Oe(tr):Oe;return jsxRuntimeExports.jsxs(pageContext.Provider,{value:tr,children:[lr(),hr(),Ar(),Qr]})}function vr(){return ur?Ns===null||Vs===void 0||Vs===null?jsxRuntimeExports.jsx(Message,{type:"loading",children:typeof Qe=="function"?Qe():Qe}):Ns===!1||Vs===!1?jsxRuntimeExports.jsx(Message,{type:"error",children:typeof We=="function"?We():We}):Pr():jsxRuntimeExports.jsx(Message,{type:"no-data",children:typeof ns=="function"?ns():ns})}return jsxRuntimeExports.jsx("div",{className:clsx(Ce,Be),"data-page-number":ur,ref:mergeRefs(Je,or),style:{"--scale-round-x":"1px","--scale-round-y":"1px","--scale-factor":"1","--user-unit":`${Er}`,"--total-scale-factor":"calc(var(--scale-factor) * var(--user-unit))",backgroundColor:De||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"},...Lr,children:vr()})}displayWorkerWarning();GlobalWorkerOptions.workerSrc="pdf.worker.mjs";GlobalWorkerOptions.workerSrc=`https://unpkg.com/pdfjs-dist@${version}/build/pdf.worker.min.mjs`;const Pages=React.forwardRef((Re,e)=>jsxRuntimeExports.jsx("div",{className:"demoPage",ref:e,children:jsxRuntimeExports.jsx("div",{children:Re.children})}));Pages.displayName="Pages";function Flipbook({pdfFile:Re,onBack:e}){const[Ee,Ce]=reactExports.useState(null);function Te({numPages:Oe}){Ce(Oe)}const De=()=>{if(!Re)return;const Oe=document.createElement("a");Oe.href=Re,Oe.download=Re.split("/").pop(),document.body.appendChild(Oe),Oe.click(),document.body.removeChild(Oe)},Me=Ee?Array.from({length:Ee},(Oe,Be)=>Be+1):[1];return jsxRuntimeExports.jsxs("div",{className:"min-h-[calc(100vh-96px)] flex flex-col items-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-700 overflow-hidden relative px-4 pb-10 pt-6",children:[jsxRuntimeExports.jsxs("div",{className:"w-full max-w-5xl flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("button",{onClick:De,className:"text-white bg-[#a92b4e] px-5 py-2 rounded-md hover:bg-[#861838] transition flex items-center gap-2",children:"â¬‡ Download PDF"})]}),jsxRuntimeExports.jsxs("div",{className:"relative flex items-center justify-center w-full",children:[jsxRuntimeExports.jsx("div",{className:"hidden md:block absolute left-0 -translate-x-4 top-1/2 -translate-y-1/2 z-10 bg-white/10 backdrop-blur-md border border-white/20 rounded-xl px-4 py-3 shadow-xl",children:jsxRuntimeExports.jsxs("p",{className:"text-white font-medium text-sm flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"bg-gradient-to-r from-yellow-400 to-amber-300 bg-clip-text text-transparent font-semibold",children:"Click on book to flip pages"}),jsxRuntimeExports.jsx("span",{className:"text-yellow-400 text-lg",children:jsxRuntimeExports.jsx(ChevronsRight,{})})]})}),jsxRuntimeExports.jsx(HTMLFlipBook,{width:600,height:780,showCover:!0,maxShadowOpacity:.5,drawShadow:!0,className:"z-20",children:Me.map((Oe,Be)=>jsxRuntimeExports.jsx(Pages,{number:Oe,children:jsxRuntimeExports.jsx(Document,{file:Re,onLoadSuccess:Te,children:jsxRuntimeExports.jsx(Page,{pageNumber:Oe,width:600,renderAnnotationLayer:!1,renderTextLayer:!1})})},Be))})]})]})}const DocumentSelector=({documents:Re})=>{const e=useNavigate();return jsxRuntimeExports.jsxs("div",{className:"px-6 py-10 max-w-5xl mx-auto",children:[jsxRuntimeExports.jsx("h1",{className:"text-3xl font-bold text-white mb-6",children:"Documents"}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:Object.entries(Re).map(([Ee,Ce])=>jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/60 rounded-xl p-5 border border-gray-700 hover:border-[#a92b4e] transition cursor-pointer group",onClick:()=>e(`/document/${Ee}`),children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-4",children:[jsxRuntimeExports.jsx(FileText,{className:"text-[#a92b4e] group-hover:text-white transition",size:28}),jsxRuntimeExports.jsx(Download,{size:20,className:"text-gray-400 group-hover:text-white transition"})]}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-semibold text-white group-hover:text-[#a92b4e] transition capitalize",children:Ee.replace(/-/g," ")}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm mt-2",children:"Click to view, flip pages, or download"})]},Ee))})]})},PDFViewerPage=()=>{const{docId:Re}=useParams(),e=useNavigate(),Ee={"bihar-baiskop":"/BiharBaiskop.png","goa-film-brochure":"/GoaFilmBrochure.png","promotion-policy":"/PromotionPolicy.png","film-policy":"/filmPolicy.pdf","op-guidelines":"/OpGuidelineFilms.pdf"};if(!Re)return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-900",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("div",{className:"pt-24",children:jsxRuntimeExports.jsx(DocumentSelector,{documents:Ee})})]});const Ce=Ee[Re];if(!Ce)return jsxRuntimeExports.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-900 text-white",children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Document Not Found"}),jsxRuntimeExports.jsx("button",{onClick:()=>e("/document"),className:"bg-[#a92b4e] px-6 py-2 rounded-lg hover:bg-[#891737] transition",children:"Go Back"})]})});const Te=Ce.toLowerCase().endsWith(".pdf"),De=()=>{const Me=document.createElement("a");Me.href=Ce,Me.download=Ce.split("/").pop(),document.body.appendChild(Me),Me.click(),document.body.removeChild(Me)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-900",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("div",{className:"pt-24",children:Te?jsxRuntimeExports.jsx(Flipbook,{pdfFile:Ce}):jsxRuntimeExports.jsxs("div",{className:"min-h-[calc(100vh-96px)] flex flex-col items-center bg-gradient-to-br from-gray-900 via-gray-800 to-gray-700 overflow-hidden relative px-4 pb-10 pt-6",children:[jsxRuntimeExports.jsxs("div",{className:"w-full max-w-5xl flex items-center justify-between mb-6",children:[jsxRuntimeExports.jsx("button",{onClick:()=>e("/"),className:"text-white bg-gray-800 px-4 py-2 rounded-md hover:bg-gray-700 transition flex items-center gap-2",children:"â† Back"}),jsxRuntimeExports.jsx("button",{onClick:De,className:"text-white bg-[#a92b4e] px-5 py-2 rounded-md hover:bg-[#861838] transition flex items-center gap-2",children:"â¬‡ Download Image"})]}),jsxRuntimeExports.jsx("div",{className:"relative flex items-center justify-center w-full h-full overflow-auto",children:jsxRuntimeExports.jsx("img",{src:Ce,alt:"Document",className:"max-w-full max-h-[80vh] object-contain rounded-lg shadow-2xl"})})]})})]})},NOCGuideProcess=()=>{const[Re,e]=reactExports.useState(0),[Ee,Ce]=reactExports.useState("NOC Guide"),Te=[{id:1,title:"Visit the Website",description:"Navigate to film.bihar.gov.in",icon:jsxRuntimeExports.jsx(Globe,{className:"w-5 h-5"}),details:"Open your web browser and go to film.bihar.gov.in to begin your NOC application journey.",action:"Visit film.bihar.gov.in",screenshot:"https://res.cloudinary.com/dgra109xv/image/upload/v1764604316/visitTheWebsite_oy5dh0.png"},{id:2,title:"Click Register",description:"Find and click the Register button",icon:jsxRuntimeExports.jsx(UserPlus,{className:"w-5 h-5"}),details:"Look for the Register button prominently displayed on the navigation bar or landing page.",action:"Click 'Register'",screenshot:"https://res.cloudinary.com/dgra109xv/image/upload/v1764604312/clickRegister_rs6nup.png"},{id:3,title:"Navigate to Signup",description:"Access the signup form",icon:jsxRuntimeExports.jsx(User,{className:"w-5 h-5"}),details:"Click on the Signup option to proceed with creating your filmmaker account.",action:"Click 'Signup'",screenshot:"https://res.cloudinary.com/dgra109xv/image/upload/v1764604312/completeSignUpForm_crs2q4.png"},{id:4,title:"Complete Signup Form",description:"Fill in your registration details",icon:jsxRuntimeExports.jsx(Film,{className:"w-5 h-5"}),details:["Choose Role: Select 'Filmmaker'","Enter Full Name: Your complete legal name","Email: Valid email address","Password: Minimum 6 characters","Confirm Password: Re-enter password"],action:"Complete Signup",screenshot:"https://res.cloudinary.com/dgra109xv/image/upload/v1764604312/completeSignUpForm_crs2q4.png"},{id:5,title:"Login Redirect",description:"Redirected to login page",icon:jsxRuntimeExports.jsx(LogIn,{className:"w-5 h-5"}),details:"After successful registration, the system will redirect you to the login page.",action:"Proceed to Login",screenshot:"https://res.cloudinary.com/dgra109xv/image/upload/v1764604313/NavigateToSignup_xgtacu.png"},{id:6,title:"Enter Credentials",description:"Login with your email and password",icon:jsxRuntimeExports.jsx(Lock,{className:"w-5 h-5"}),details:"Enter your email address and password that you used during registration, then click Login.",action:"Login to Dashboard",screenshot:"https://res.cloudinary.com/dgra109xv/image/upload/v1764604313/EnterCredentials_pv9gdw.png"},{id:7,title:"Access Dashboard",description:"Welcome to your dashboard",icon:jsxRuntimeExports.jsx(LayoutDashboard,{className:"w-5 h-5"}),details:"You'll be redirected to your personal dashboard where you can manage all NOC applications.",action:"View Dashboard",screenshot:"https://res.cloudinary.com/dgra109xv/image/upload/v1764604309/AccessDashboard_tsvfce.png"},{id:8,title:"Apply for NOC",description:"Click 'Apply NOC' from sidebar",icon:jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5"}),details:"Locate the 'Apply NOC' option in the left navigation menu and click to start.",action:"Start Application",screenshot:"https://res.cloudinary.com/dgra109xv/image/upload/v1764604313/ApplyforNOC_bdibha.png"},{id:9,title:"Fill NOC Form",description:"Complete all required sections",icon:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-5 h-5"}),details:["Project Information","Production House Details","Applicant Details","Creative & Cast Information","Technical Specifications","Legal & Branding","Declaration","Annexure A"],action:"Fill Complete Form",screenshot:"https://res.cloudinary.com/dgra109xv/image/upload/v1764604312/FillNOCForm_uklwk2.png"},{id:10,title:"View Overview",description:"Check submitted applications",icon:jsxRuntimeExports.jsx(Eye,{className:"w-5 h-5"}),details:"After submission, click 'Overview' in the left sidebar to see all your NOC forms.",action:"View Applications",screenshot:"https://res.cloudinary.com/dgra109xv/image/upload/v1764604315/overview_kukm0t.png"},{id:11,title:"Check Details",description:"View complete form details",icon:jsxRuntimeExports.jsx(Eye,{className:"w-5 h-5"}),details:"Click the eye button to view comprehensive details, status, and progress report.",action:"View Full Details",screenshot:"https://res.cloudinary.com/dgra109xv/image/upload/v1764604310/CheckDetails_rmbzxo.png"},{id:12,title:"Download PDF",description:"Download your NOC form",icon:jsxRuntimeExports.jsx(Download,{className:"w-5 h-5"}),details:"After viewing your form details, download a PDF copy for your records.",action:"Download PDF",screenshot:"https://res.cloudinary.com/dgra109xv/image/upload/v1764604311/DownloadPDF_bnqfhv.png"}],De=()=>{Re<Te.length-1&&e(Re+1)},Me=()=>{Re>0&&e(Re-1)},Oe=Be=>{e(Be)};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-gray-50",children:[jsxRuntimeExports.jsx("div",{className:"relative bg-cover bg-center bg-no-repeat text-white py-16 px-6",style:{backgroundImage:"linear-gradient(to right, #00000063), url('/nocFormGuide.png')"},children:jsxRuntimeExports.jsx("div",{className:`max-w-6xl mx-auto text-center p-12
            `,children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("h1",{className:"text-3xl md:text-4xl font-bold mb-2",children:"How to Apply for NOC Form"}),jsxRuntimeExports.jsx("p",{className:"text-white/90 text-sm",children:"Step-by-step guide for filmmakers in Bihar"})]})})}),jsxRuntimeExports.jsx("div",{className:"max-w-6xl mx-auto px-6 mt-8 mb-8",children:jsxRuntimeExports.jsx("div",{className:"flex items-center gap-4 border-b border-gray-200",children:["Operational Guideline"].map(Be=>jsxRuntimeExports.jsxs("button",{onClick:()=>Ce(Be),className:`px-6 py-3 text-sm font-semibold relative transition-colors ${Ee===Be?"text-[#891737]":"text-gray-500 hover:text-gray-700"}`,children:[Be,Ee===Be&&jsxRuntimeExports.jsx(motion.div,{layoutId:"activeTab",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-[#891737]"})]},Be))})}),jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:Ee==="NOC Guide"?jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[jsxRuntimeExports.jsx("div",{className:"max-w-6xl mx-auto px-6 relative z-10 mb-12",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl  border border-gray-200 p-8",children:[jsxRuntimeExports.jsxs("h2",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center gap-2",children:[jsxRuntimeExports.jsx(FileText,{className:"w-5 h-5 text-[#891737]"}),"Required Documents"]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[{title:"MIB Certificate",icon:jsxRuntimeExports.jsx(FileText,{className:"w-6 h-6"}),desc:"In case of International Film, Web Series and TV Serials shooting - Enclose shoot Permission Certificate issued by the MIB (Ministry of Information & Broadcasting)",fullWidth:!0},{title:"MEA Certificate",icon:jsxRuntimeExports.jsx(FileText,{className:"w-6 h-6"}),desc:"In case of International Documentary, AV Commercial and Music Videos shooting - Enclose shoot Permission Certificate issued by the MEA (Ministry of External Affairs)",fullWidth:!0},{title:"Signature",icon:jsxRuntimeExports.jsx(User,{className:"w-6 h-6"}),desc:"Digital or Scanned"},{title:"Seal",icon:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-6 h-6"}),desc:"Official Company Seal"}].map((Be,ze)=>jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ze*.1},className:`flex items-start gap-4 p-4 rounded-lg bg-gray-50 border border-gray-100 hover:border-[#891737]/30 hover:shadow-md transition-all ${Be.fullWidth?"md:col-span-2":""}`,children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-white rounded-full flex items-center justify-center text-[#891737] shadow-sm flex-shrink-0",children:Be.icon}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"font-semibold text-gray-900 text-sm",children:Be.title}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1 leading-relaxed",children:Be.desc})]})]},ze))})]})}),jsxRuntimeExports.jsx("div",{className:"max-w-6xl mx-auto px-6 py-8",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[jsxRuntimeExports.jsx("div",{className:"lg:col-span-1",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sticky top-24",children:[jsxRuntimeExports.jsx("h3",{className:"text-xs font-bold text-gray-500 uppercase tracking-wider mb-3",children:"Steps"}),jsxRuntimeExports.jsx("div",{className:"space-y-1",children:Te.map((Be,ze)=>jsxRuntimeExports.jsxs("button",{onClick:()=>Oe(ze),className:`w-full flex items-center gap-2 p-2 rounded-lg text-left transition-all duration-200 ${Re===ze?"bg-[#891737] text-white":Re>ze?"bg-green-50 text-green-700 hover:bg-green-100":"bg-gray-50 text-gray-600 hover:bg-gray-100"}`,children:[jsxRuntimeExports.jsx("div",{className:`w-6 h-6 rounded-md flex items-center justify-center flex-shrink-0 text-xs font-bold ${Re===ze?"bg-white/20":Re>ze?"bg-green-200":"bg-gray-200"}`,children:Re>ze?jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3.5 h-3.5"}):Be.id}),jsxRuntimeExports.jsx("p",{className:"text-xs font-medium truncate",children:Be.title})]},Be.id))})]})}),jsxRuntimeExports.jsx("div",{className:"lg:col-span-3",children:jsxRuntimeExports.jsx(AnimatePresence,{mode:"wait",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-white rounded-xl border border-gray-200 overflow-hidden",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gradient-to-r from-[#891737] to-[#a92b4e] p-5 text-white",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between mb-3",children:[jsxRuntimeExports.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-sm rounded-lg flex items-center justify-center",children:Te[Re].icon}),jsxRuntimeExports.jsxs("span",{className:"px-3 py-1 bg-white/20 backdrop-blur-sm rounded-full text-xs font-bold",children:[Re+1,"/",Te.length]})]}),jsxRuntimeExports.jsx("h2",{className:"text-xl font-bold mb-1",children:Te[Re].title}),jsxRuntimeExports.jsx("p",{className:"text-white/90 text-sm",children:Te[Re].description})]}),jsxRuntimeExports.jsx("div",{className:"p-5",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-5 gap-5",children:[jsxRuntimeExports.jsxs("div",{className:"md:col-span-3",children:[jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.1},className:"relative group",children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#891737]/20 to-[#a92b4e]/20 rounded-xl blur-xl group-hover:blur-2xl transition-all"}),jsxRuntimeExports.jsxs("div",{className:"relative rounded-xl overflow-hidden border-2 border-gray-300 group-hover:border-[#891737] transition-all",children:[Te[Re].screenshot?jsxRuntimeExports.jsx("img",{src:Te[Re].screenshot,alt:Te[Re].title,className:"w-full h-full object-cover aspect-video",onError:Be=>{Be.target.style.display="none",Be.target.nextSibling.style.display="flex"}}):null,jsxRuntimeExports.jsx("div",{className:"bg-gradient-to-br from-gray-100 to-gray-200 aspect-video flex items-center justify-center",style:{display:Te[Re].screenshot?"none":"flex"},children:jsxRuntimeExports.jsxs("div",{className:"text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-white rounded-xl shadow-lg mx-auto mb-3 flex items-center justify-center group-hover:scale-110 transition-transform",children:Te[Re].icon}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 font-medium text-sm",children:"Screenshot"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Te[Re].title})]})})]})]}),jsxRuntimeExports.jsx(motion.button,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.2},className:"mt-4 w-full flex items-center justify-center gap-2 px-4 py-3 bg-gradient-to-r from-[#891737] to-[#a92b4e] text-white rounded-lg font-semibold group",children:jsxRuntimeExports.jsx("span",{className:"text-sm",children:Te[Re].action})})]}),jsxRuntimeExports.jsx("div",{className:"md:col-span-2",children:jsxRuntimeExports.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200 h-full",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 text-[#891737]"}),jsxRuntimeExports.jsx("h3",{className:"text-sm font-bold text-gray-900",children:"Instructions"})]}),Array.isArray(Te[Re].details)?jsxRuntimeExports.jsx("ul",{className:"space-y-2",children:Te[Re].details.map((Be,ze)=>jsxRuntimeExports.jsxs(motion.li,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:ze*.05},className:"flex items-start gap-2 text-gray-700",children:[jsxRuntimeExports.jsx("div",{className:"w-5 h-5 bg-[#891737] rounded-md flex items-center justify-center flex-shrink-0 mt-0.5",children:jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-3 h-3 text-white"})}),jsxRuntimeExports.jsx("span",{className:"text-xs leading-relaxed",children:Be})]},ze))}):jsxRuntimeExports.jsx(motion.p,{initial:{opacity:0},animate:{opacity:1},className:"text-xs text-gray-700 leading-relaxed",children:Te[Re].details})]})})]})}),jsxRuntimeExports.jsxs("div",{className:"px-5 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("button",{onClick:Me,disabled:Re===0,className:"flex items-center gap-1.5 px-4 py-2 bg-white border border-gray-300 rounded-lg text-sm font-medium text-gray-700 hover:bg-gray-50 disabled:opacity-40 disabled:cursor-not-allowed transition-colors",children:[jsxRuntimeExports.jsx(ChevronLeft,{className:"w-4 h-4"}),"Previous"]}),Re===Te.length-1?jsxRuntimeExports.jsxs("button",{className:"flex items-center gap-1.5 px-4 py-2 bg-gradient-to-r from-green-600 to-green-700 text-white rounded-lg text-sm font-semibold hover:shadow-lg transition-all",children:[jsxRuntimeExports.jsx(CircleCheckBig,{className:"w-4 h-4"}),"Complete"]}):jsxRuntimeExports.jsxs("button",{onClick:De,className:"flex items-center gap-1.5 px-4 py-2 bg-gradient-to-r from-[#891737] to-[#a92b4e] text-white rounded-lg text-sm font-semibold hover:shadow-lg transition-all",children:["Next",jsxRuntimeExports.jsx(ChevronRight,{className:"w-4 h-4"})]})]})]},Re)})})]})})]},"noc-guide"):jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"max-w-6xl mx-auto px-6 py-12",children:jsxRuntimeExports.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-12 text-center",children:[jsxRuntimeExports.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:jsxRuntimeExports.jsx(FileText,{className:"w-8 h-8 text-gray-400"})}),jsxRuntimeExports.jsx("h2",{className:"text-sm font-bold text-gray-600 mb-2",children:"Operational Guidelines"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-xs max-w-xl mx-auto",children:"Download the detailed operational guidelines and procedures for the NOC application process."}),jsxRuntimeExports.jsxs("button",{onClick:()=>{const Be=document.createElement("a");Be.href="/OpGuidelineFilms.pdf",Be.download="Operational_Guidelines.pdf",Be.click()},className:"mt-6 bg-[#4f0419] hover:bg-[#891737] text-white text-base sm:text-lg font-medium px-8 py-3 rounded-full shadow-xl transition-all duration-300 hover:shadow-[#a92b4e]/50 hover:scale-105 inline-flex items-center gap-2",children:[jsxRuntimeExports.jsx(Download,{className:"w-4 h-4"}),"Download Operational Guideline"]})]})},"operational-guideline")}),jsxRuntimeExports.jsx(Footer,{})]})},filmsData=[{s_no:1,image:"/1.jpg",name_of_film:"Sanghatiya",details:{production_house:"Ugratara Films",project:"Feature Film",language:"Bhojpuri"}},{s_no:2,image:"/2.jpg",name_of_film:"The Long Journey Home",details:{production_house:"Avarts Limited (Mauritius)",project:"Entertainment Film",language:"English and Bhojpuri"}},{s_no:3,image:"/3.jpg",name_of_film:"Bihar Ka Jalwa",details:{production_house:"Prabuddh Entertainment",project:"Documentary Film",language:"Hindi"}},{s_no:4,image:"/4.jpg",name_of_film:"Suhagin Ke Senur",details:{production_house:"Cinema Window",project:"Feature Film",language:"Bhojpuri"}},{s_no:5,image:"/5.jpg",name_of_film:"Life Leela",details:{production_house:"Aim Apex International",project:"Web Series",language:"Hindi"}},{s_no:6,image:"/6.jpg",name_of_film:"Jingi Bitavani Tohre Pyar Mein",details:{production_house:"Purab Talkies",project:"Feature Film",language:"Bhojpuri"}},{s_no:7,image:"/7.jpg",name_of_film:"Ghar Ka Bantwara",details:{production_house:"Vishwamurti Films Production",project:"Feature Film",language:"Bhojpuri"}},{s_no:8,image:"/8.jpg",name_of_film:"Naari",details:{production_house:"Vishwamurti Films Production",project:"Feature Film",language:"Bhojpuri"}},{s_no:9,image:"/9.jpg",name_of_film:"Rajni Ki Baraat",details:{production_house:"Epiphany Entertainment",project:"Feature Film",language:"Hindi"}},{s_no:10,image:"/10.jpg",name_of_film:"Oh My Dog",details:{production_house:"Jar Pictures",project:"Feature Film",language:"Hindi"}},{s_no:11,image:"/11.jpg",name_of_film:"Tiya",details:{production_house:"Strike Films Pvt. Ltd.",project:"Feature Film",language:"Hindi"}},{s_no:12,image:"/12.jpg",name_of_film:"Sugni",details:{production_house:"Johnson Suraj Films International",project:"Feature Film",language:"Magahi"}},{s_no:13,image:"/13.jpg",name_of_film:"Chhath",details:{production_house:"Champaran Talkies Pvt. Ltd.",project:"Feature Film",language:"Bhojpuri"}},{s_no:14,image:"/14.jpg",name_of_film:"Pen-Brush",details:{production_house:"Daivarya Media and Entertainment Pvt. Ltd.",project:"Feature Film",language:"Hindi"}},{s_no:15,image:"/15.jpg",name_of_film:"Bihaan",details:{production_house:"Insight India",project:"Feature Film",language:"Hindi"}},{s_no:16,image:"/16.jpg",name_of_film:"Anmol Ghadi",details:{production_house:"Samakhi Entertainment Pvt. Ltd.",project:"Feature Film",language:"Bhojpuri"}},{s_no:17,image:"/17.jpg",name_of_film:"Vrihaspati Vrat Katha",details:{production_house:"Abhya Aradhya Films",project:"Feature Film",language:"Bhojpuri"}},{s_no:18,image:"/18.jpg",name_of_film:"Beti Banal Bijeta",details:{production_house:"First Take Creation",project:"Feature Film",language:"Bhojpuri"}},{s_no:19,image:"/19.jpg",name_of_film:"Bihari Bhauji",details:{production_house:"Shriman Mishra Film Production",project:"Feature Film",language:"Bhojpuri"}},{s_no:20,image:"/20.jpg",name_of_film:"Akhand Bhedam",details:{production_house:"R.S.Y. Films Pvt. Ltd.",project:"Feature Film",language:"Bhojpuri"}},{s_no:21,image:"/21.jpg",name_of_film:"Ambe Hai Meri Maa",details:{production_house:"Yashi Films Pvt. Ltd.",project:"Feature Film",language:"Bhojpuri"}},{s_no:22,image:"/22.jpg",name_of_film:"Bantwara",details:{production_house:"Shri Ganeshay Namah Entertainment",project:"Feature Film",language:"Hindi"}},{s_no:23,image:"/23.jpg",name_of_film:"Jai Maiya Sharda Bhavani",details:{production_house:"People Tree Production House",project:"Feature Film",language:"Bhojpuri"}},{s_no:24,image:"/24.jpg",name_of_film:"Zindagi Ek Prem Katha",details:{production_house:"Parashar Entertainment",project:"Feature Film",language:"Bhojpuri"}},{s_no:25,image:"/25.jpg",name_of_film:"Jai Maiya Thawe Wali",details:{production_house:"Prabuddh Entertainment",project:"Feature Film",language:"Hindi"}},{s_no:26,image:"/26.jpg",name_of_film:"Magadh Putra",details:{production_house:"Gunjan Singh Entertainment",project:"Feature Film",language:"Hindi, Bhojpuri"}},{s_no:27,image:"/27.jpg",name_of_film:"Echo of Absent",details:{production_house:"Caterina Entertainment and Sports Pvt. Ltd.",project:"Feature Film",language:"Hindi"}},{s_no:28,image:"/28.jpg",name_of_film:"Aakhiri Lesson",details:{production_house:"Caterina Entertainment and Sports Pvt. Ltd.",project:"Feature Film",language:"Hindi"}},{s_no:29,image:"/29.jpg",name_of_film:"Champaran Satyagrah",details:{production_house:"Yuvraj Media and Entertainment",project:"Feature Film",language:"Hindi"}},{s_no:30,image:"/30.jpg",name_of_film:"Jai Pashupati Nath",details:{production_house:"Yuvraj Media and Entertainment",project:"Feature Film",language:"Bhojpuri"}}],ShootingInBihar=()=>{const[Re,e]=reactExports.useState(filmsData[0]),[Ee,Ce]=reactExports.useState(filmsData.slice(1)),Te=(De,Me)=>{if(!Ee.length)return;const Oe=Re,Be=[...Ee],ze=Me%Ee.length;Be[ze]=Oe,e(De),Ce(Be)};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(motion.div,{className:"w-full min-h-screen flex flex-col items-center bg-[#190108] pt-24 px-4 sm:px-8 md:px-12 lg:px-16 pb-20",id:"Shooting-in-bihar",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsxs("div",{className:"bg-[#190108] w-full pt-10 px-2 sm:px-6 lg:px-10",children:[jsxRuntimeExports.jsx("h2",{className:"text-white text-4xl sm:text-6xl carter-one-regular text-center mb-12",children:"Shooting in Bihar"}),Re&&jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 items-start mb-16",children:[jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.8,ease:"easeInOut"},className:"w-full h-[25rem] rounded-2xl border-4 border-[#a92b4e] shadow-xl overflow-hidden",children:jsxRuntimeExports.jsx("img",{src:Re.image,alt:Re.name_of_film,className:"w-full h-full object-cover"})},Re.name_of_film),jsxRuntimeExports.jsxs("div",{className:"px-2 md:px-6",children:[jsxRuntimeExports.jsx("h3",{className:"text-[#a92b4e] text-3xl font-semibold mb-4",children:Re.name_of_film}),jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold min-w-[140px]",children:"Production House:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-200",children:Re.details.production_house})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold min-w-[140px]",children:"Project Type:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-200",children:Re.details.project})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e] font-bold min-w-[140px]",children:"Language:"}),jsxRuntimeExports.jsx("span",{className:"text-gray-200",children:Re.details.language})]})]})]})]}),Ee.length>0&&jsxRuntimeExports.jsx("div",{className:"overflow-hidden group px-4 mt-4",children:jsxRuntimeExports.jsx("div",{className:"flex w-max space-x-4 animate-scrollImages group-hover:pause-scroll",children:[...Ee,...Ee].map((De,Me)=>jsxRuntimeExports.jsxs(motion.div,{speed:2,duration:20,whileHover:{scale:1.05},className:"cursor-pointer rounded-xl overflow-hidden shadow-md border border-gray-600 w-60 h-36 flex-shrink-0",onClick:()=>Te(De,Me),children:[jsxRuntimeExports.jsx("img",{src:De.image,alt:De.name_of_film,className:"w-full h-full object-cover"}),jsxRuntimeExports.jsx("div",{className:"hidden",children:De.name_of_film})]},`${De.name_of_film}-${Me}`))})})]})]}),jsxRuntimeExports.jsx(Footer,{})]})},ScholarshipAndExpenses=()=>{const Re=[{id:"Eligibility",text:"Under Clause 9.13 of Bihar Film Promotion Policy 2024, annual scholarship is provided to students from Bihar studying at premier institutes like FTII Pune, SRFTI Kolkata, NSD New Delhi, and others.",icon:jsxRuntimeExports.jsx(GraduationCap,{className:"w-6 h-6"})},{id:"Requirements",text:"Applications must include proof of admission, nomination proof, Aadhar card, and detailed course fee receipts from the managing director.",icon:jsxRuntimeExports.jsx(FileText,{className:"w-6 h-6"})},{id:"Benefit",text:"The scholarship covers the course fee (tuition fee only), paid directly to the institution.",icon:jsxRuntimeExports.jsx(CreditCard,{className:"w-6 h-6"})}],e=[{name:"Ashish Kumar",reg:"R/16/2024",sem:"1st, 2nd",session:""},{name:"Ravi Kumar Sah",reg:"R/EDM/217/23-25",sem:"1st",session:"23-25"},{name:"Nishant Kumar",reg:"R/865/20-23",sem:"4th",session:"20-23"},{name:"Sujeet Kumar",reg:"R/1039/23-26",sem:"1st, 2nd",session:"23-26"},{name:"Chandrabhan Singh",reg:"R/968/2022-25",sem:"3rd, 4th",session:"22-25"},{name:"Hema Kumari",reg:"R/993/2022-25",sem:"3rd, 4th",session:"22-25"},{name:"Chandan Kumar Priyadarshi",amount:"â‚¹82,688",reg:"R/EDM/191/22-24",sem:"2nd, 3rd",session:"22-24"}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-[#190108] font-sans text-gray-100",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("div",{className:"pt-32 pb-16 px-4 text-center border-b border-white/5",children:jsxRuntimeExports.jsxs("div",{className:"max-w-4xl mx-auto",children:[jsxRuntimeExports.jsxs("h1",{className:"text-4xl md:text-5xl font-bold mb-6 tracking-tight text-white",children:["Scholarships & ",jsxRuntimeExports.jsx("span",{className:"text-[#a92b4e]",children:"Expenses"})]}),jsxRuntimeExports.jsx("p",{className:"text-lg text-gray-400 font-light max-w-2xl mx-auto leading-relaxed",children:"Empowering Bihar's future filmmakers through education support and transparent production cost guidelines."})]})}),jsxRuntimeExports.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20 space-y-24",children:[jsxRuntimeExports.jsx("section",{children:jsxRuntimeExports.jsxs("div",{className:"flex flex-col md:flex-row gap-12 items-start",children:[jsxRuntimeExports.jsxs("div",{className:"md:w-1/3 sticky top-24",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"Student Scholarship"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 leading-relaxed mb-6",children:"We support talented students from Bihar pursuing education in premier film and television institutes across India."}),jsxRuntimeExports.jsx("div",{className:"h-1 w-20 bg-[#a92b4e] rounded-full"})]}),jsxRuntimeExports.jsx("div",{className:"md:w-2/3 grid grid-cols-1 gap-6",children:Re.map((Ee,Ce)=>jsxRuntimeExports.jsx("div",{className:"bg-white/5 backdrop-blur-sm border border-white/10 rounded-2xl p-8 hover:bg-white/10 transition-colors duration-300",children:jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-6",children:[jsxRuntimeExports.jsx("div",{className:"p-3 bg-[#a92b4e]/20 rounded-xl text-[#a92b4e]",children:Ee.icon}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-white mb-3",children:Ee.id}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 leading-relaxed",children:Ee.text})]})]})},Ce))})]})}),jsxRuntimeExports.jsxs("section",{children:[jsxRuntimeExports.jsxs("div",{className:"mb-12",children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white mb-4",children:"SRFTI Recipients"}),jsxRuntimeExports.jsx("p",{className:"text-gray-400",children:"Proud beneficiaries from Bihar studying at Satyajit Ray Film & Television Institute."})]}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((Ee,Ce)=>jsxRuntimeExports.jsxs("div",{className:"group bg-white/5 border border-white/10 rounded-2xl p-6 hover:border-[#a92b4e]/50 transition-all duration-300",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 rounded-full bg-gradient-to-br from-[#a92b4e] to-[#891737] flex items-center justify-center text-white font-bold text-lg shadow-lg",children:Ee.name.split(" ").map(Te=>Te[0]).join("")}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-lg font-bold text-white group-hover:text-[#a92b4e] transition-colors",children:Ee.name}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-500 uppercase tracking-wider",children:"Scholar"})]})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm text-gray-400 pl-16",children:[jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b border-white/5 pb-1",children:[jsxRuntimeExports.jsx("span",{children:"Reg No"}),jsxRuntimeExports.jsx("span",{className:"text-gray-200",children:Ee.reg})]}),jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b border-white/5 pb-1",children:[jsxRuntimeExports.jsx("span",{children:"Semester"}),jsxRuntimeExports.jsx("span",{className:"text-gray-200",children:Ee.sem})]}),Ee.session&&jsxRuntimeExports.jsxs("div",{className:"flex justify-between border-b border-white/5 pb-1",children:[jsxRuntimeExports.jsx("span",{children:"Session"}),jsxRuntimeExports.jsx("span",{className:"text-gray-200",children:Ee.session})]})]})]},Ce))})]})]}),jsxRuntimeExports.jsx(Footer,{})]})},ContactBSFDFC=()=>jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-[#190108] font-sans py-10",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:jsxRuntimeExports.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-start",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-8",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-[#891737] mb-6",children:"Get in Touch"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 text-lg leading-relaxed",children:"We are here to assist you with any queries related to film shooting, subsidies, and permissions in Bihar. Feel free to reach out to us through any of the following channels."})]}),jsxRuntimeExports.jsxs("div",{className:"space-y-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 p-6 bg-gray-50 rounded-2xl border border-gray-100 hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-[#a92b4e]/10 rounded-full flex items-center justify-center text-[#a92b4e] shrink-0",children:jsxRuntimeExports.jsx(CiLocationOn,{className:"text-2xl"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Office Address"}),jsxRuntimeExports.jsxs("p",{className:"text-gray-600 leading-relaxed",children:["Bihar State Film Development & Finance Corporation Ltd.",jsxRuntimeExports.jsx("br",{}),"Vikas Bhawan, New Secretariat,",jsxRuntimeExports.jsx("br",{}),"Patna - 800015, Bihar, India"]})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 p-6 bg-gray-50 rounded-2xl border border-gray-100 hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-[#a92b4e]/10 rounded-full flex items-center justify-center text-[#a92b4e] shrink-0",children:jsxRuntimeExports.jsx(CiPhone,{className:"text-2xl"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Phone Number"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 leading-relaxed",children:"0612-2219213"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-start gap-4 p-6 bg-gray-50 rounded-2xl border border-gray-100 hover:shadow-md transition-shadow",children:[jsxRuntimeExports.jsx("div",{className:"w-12 h-12 bg-[#a92b4e]/10 rounded-full flex items-center justify-center text-[#a92b4e] shrink-0",children:jsxRuntimeExports.jsx(CiMail,{className:"text-2xl"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Email Address"}),jsxRuntimeExports.jsx("p",{className:"text-gray-600 leading-relaxed",children:"biharfilmnigam@gmail.com"})]})]})]})]}),jsxRuntimeExports.jsx("div",{className:"h-full min-h-[500px] bg-gray-100 rounded-3xl overflow-hidden shadow-lg border border-gray-200 relative",children:jsxRuntimeExports.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3597.873634876543!2d85.11351767604604!3d25.60560951491176!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x39ed5822abfea4b3%3A0x294c847495e62f9d!2sVikas%20Bhawan%2C%20New%20Secretariat!5e0!3m2!1sen!2sin!4v1716888888888!5m2!1sen!2sin",width:"100%",height:"100%",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",className:"absolute inset-0 w-full h-full"})})]})}),jsxRuntimeExports.jsx(Footer,{})]}),Gallery=()=>{const[Re,e]=reactExports.useState(null),Ee=[{type:"image",src:"/gallery/biharFilmCityMeeting.jpeg",span:"col-span-1 md:col-span-2 row-span-2"},{type:"image",src:"/gallery/WhatsApp Image 2025-12-12 at 17.01.59.jpeg",span:"col-span-1 md:col-span-1 row-span-1"},{type:"image",src:"/gallery/WhatsApp Image 2025-12-12 at 17.02.01.jpeg",span:"col-span-1 md:col-span-1 row-span-1"},{type:"image",src:"/gallery/rubymam.jpeg",span:"col-span-1 md:col-span-1 row-span-2"},{type:"image",src:"/gallery/rubymam2.jpeg",span:"col-span-1 md:col-span-2 row-span-1"},{type:"image",src:"/gallery/WhatsApp Image 2025-12-12 at 17.02.07.jpeg",span:"col-span-1 md:col-span-1 row-span-1"},{type:"image",src:"/gallery/WhatsApp Image 2025-12-12 at 17.02.09.jpeg",span:"col-span-1 md:col-span-2 row-span-2"},{type:"image",src:"/gallery/WhatsApp Image 2025-12-12 at 17.02.10.jpeg",span:"col-span-1 md:col-span-1 row-span-1"},{type:"image",src:"/gallery/WhatsApp Image 2025-12-12 at 17.02.12.jpeg",span:"col-span-1 md:col-span-1 row-span-1"},{type:"image",src:"/gallery/WhatsApp Image 2025-12-12 at 17.02.13.jpeg",span:"col-span-1 md:col-span-2 row-span-1"},{type:"image",src:"/gallery/WhatsApp Image 2025-12-12 at 17.02.04.jpeg",span:"col-span-1 md:col-span-1 row-span-2"},{type:"image",src:"/gallery/WhatsApp Image 2025-12-12 at 17.02.15.jpeg",span:"col-span-1 md:col-span-2 row-span-2"},{type:"image",src:"/gallery/WhatsApp Image 2025-12-12 at 17.02.17.jpeg",span:"col-span-1 md:col-span-1 row-span-1"},{type:"image",src:"/gallery/WhatsApp Image 2025-12-12 at 17.02.15.jpeg",span:"col-span-1 md:col-span-1 row-span-1"}];return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-[#19050c] font-sans",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsx("div",{className:"pt-32 pb-16 px-4 text-center border-b border-white/10",children:jsxRuntimeExports.jsxs(motion.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.8,ease:"easeOut"},className:"z-10 flex flex-col items-center text-center text-white max-w-3xl mx-auto mb-8",children:[jsxRuntimeExports.jsx("h1",{className:"text-5xl sm:text-6xl md:text-7xl lg:text-8xl great-vibes-regular mb-3 text-white drop-shadow-2xl",children:"Gallery"}),jsxRuntimeExports.jsx("p",{className:"text-xs text-gray-300 max-w-2xl mx-auto leading-relaxed px-4",children:"Explore the vibrant world of Bihar's cinema through our curated collection"})]})}),jsxRuntimeExports.jsx("div",{className:"max-w-[1400px] mx-auto px-4 sm:px-20 lg:px-20 py-20",children:jsxRuntimeExports.jsx(motion.div,{className:"grid grid-cols-1 md:grid-cols-3 auto-rows-[240px] gap-6 md:grid-flow-row-dense",variants:{hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},initial:"hidden",whileInView:"show",viewport:{once:!0,margin:"-50px"},children:Ee.map((Ce,Te)=>jsxRuntimeExports.jsxs(motion.div,{variants:{hidden:{opacity:0,scale:.9,y:20},show:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:100,damping:15}}},whileHover:{scale:1.02,transition:{duration:.2}},whileTap:{scale:.95},className:`relative group rounded-3xl overflow-hidden ${Ce.span} cursor-pointer shadow-lg hover:shadow-2xl transition-shadow duration-300`,onClick:()=>e(Ce),children:[jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-[#891737]/20 to-transparent z-0"}),Ce.type==="video"?jsxRuntimeExports.jsx("video",{src:Ce.src,autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 ease-out"}):jsxRuntimeExports.jsx("img",{src:Ce.src,alt:"Gallery Image",loading:"lazy",className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-700 ease-out"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 flex flex-col justify-end p-6 z-10",children:jsxRuntimeExports.jsx("div",{className:"transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:jsxRuntimeExports.jsx("span",{className:"inline-block px-3 py-1 bg-[#891737] text-white text-xs font-semibold uppercase tracking-wider rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 delay-100",children:Ce.type})})}),jsxRuntimeExports.jsx("div",{className:"absolute inset-0 border border-white/5 group-hover:border-white/20 rounded-3xl pointer-events-none transition-colors duration-300"})]},Te))})}),jsxRuntimeExports.jsx(AnimatePresence,{children:Re&&jsxRuntimeExports.jsx(motion.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4 backdrop-blur-sm",onClick:()=>e(null),children:jsxRuntimeExports.jsxs(motion.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"relative max-w-7xl w-full max-h-[90vh] flex items-center justify-center",onClick:Ce=>Ce.stopPropagation(),children:[jsxRuntimeExports.jsx("button",{className:"absolute -top-12 right-0 p-2 text-white/70 hover:text-white transition-colors bg-white/10 rounded-full hover:bg-white/20",onClick:()=>e(null),children:jsxRuntimeExports.jsx(X$1,{size:24})}),Re.type==="video"?jsxRuntimeExports.jsx("video",{src:Re.src,controls:!0,autoPlay:!0,className:"max-w-full max-h-[85vh] rounded-lg shadow-2xl"}):jsxRuntimeExports.jsx("img",{src:Re.src,alt:"Gallery Preview",className:"max-w-full max-h-[85vh] object-contain rounded-lg shadow-2xl"})]})})}),jsxRuntimeExports.jsx(Footer,{})]})},HowToApplyShootingPermission=()=>{const[Re,e]=reactExports.useState(null),[Ee,Ce]=reactExports.useState(1),Te={opGuidelines:"document/op-guidelines",undertaking:"/pdf/Undertaking.pdf",annexure1:"/pdf/Annexture1.pdf",annexure2:"/pdf/annexture2.pdf",annexureA:"/pdf/annextureA.pdf"},De=[{icon:FileText,title:"Request Letter",subtitle:"On letterhead"},{icon:Stamp,title:"Undertaking",subtitle:"To be copied and pasted on Letter Head with signature and seal with date",downloadUrl:Te.undertaking},{icon:Building,title:"Company Registration",subtitle:"Certificate"},{icon:FileCheck,title:"Title Registration",subtitle:"Certificate (IMPPA/WIFPA etc.)"},{icon:ScrollText,title:"Synopsis",subtitle:"250 words"},{icon:Download,title:"Annexure 1",subtitle:"Page 9",downloadUrl:Te.annexure1},{icon:Download,title:"Annexure 2",subtitle:"Page 10-12",downloadUrl:Te.annexure2},{icon:Download,title:"Annexure A",subtitle:"Seperately for Each District",downloadUrl:Te.annexureA}],Me=[{num:"01",title:"Register Online",items:["Visit biharfilm.web.app","Navigate to Policy & Forms","Fill Producer Registration Form","Submit form digitally"],icon:FileText},{num:"02",title:"Prepare Documents",items:["Read Operational Guidelines","Fill Annexure-1 (Page 9)","Fill Annexure-2 (Page 10-12)","Fill Annexure-A for each district seperately (Page 13-14)","Download Undertaking format, copy and paste on your letterhead; fill and submit duly signed and sealed with date"],icon:Download},{num:"03",title:"Submit Everything",items:["Compile all required documents","Scan high-quality copies","Email to biharfilmnigam@gmail.com","Wait for confirmation"],icon:Mail}],Oe={"Fill Producer Registration Form":{href:"https://docs.google.com/forms/d/e/1FAIpQLSddl9uk7rqu-_fl6N4U_vgYXlrL_pwUTQaY5Mm8AqjB4NRSYQ/viewform",kind:"newtab"},"Read Operational Guidelines":{href:Te.opGuidelines,kind:"newtab"},"Fill Annexure-1 (Page 9)":{href:Te.annexure1,kind:"download"},"Fill Annexure-2 (Page 10-12)":{href:Te.annexure2,kind:"download"},"Fill Annexure-A for each district seperately (Page 13-14)":{href:Te.annexureA,kind:"download"},"Download Undertaking format and submit duly filled on your letterhead/letter pad":{href:Te.undertaking,kind:"download"}};return jsxRuntimeExports.jsxs("div",{className:"min-h-screen bg-[#190108] transition-colors duration-300",children:[jsxRuntimeExports.jsx(Navbar,{}),jsxRuntimeExports.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-6 py-24",children:[jsxRuntimeExports.jsxs("div",{className:"text-center mb-16",children:[jsxRuntimeExports.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 rounded-full bg-[#891737]/5 border border-[#891737]/20 mb-6",children:[jsxRuntimeExports.jsx(Sparkles,{className:"w-4 h-4 text-[#891737]"}),jsxRuntimeExports.jsx("span",{className:"text-sm font-medium text-[#891737]",children:"BIHAR STATE FILM DEVELOPMENT & FINANCE CO. LTD"})]}),jsxRuntimeExports.jsxs("h1",{className:"text-5xl md:text-6xl font-black text-white mb-4 tracking-tight",children:["Shooting ",jsxRuntimeExports.jsx("span",{className:"text-[#891737]",children:"Permission"})]}),jsxRuntimeExports.jsx("p",{className:"text-xl text-gray-400 max-w-2xl mx-auto",children:"Morrison Building, Near Gol Ghar, Patna - 800 001"})]}),jsxRuntimeExports.jsxs("div",{className:"mb-20",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3 mb-6",children:jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white",children:"Required Documents"})}),jsxRuntimeExports.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:De.map((Be,ze)=>{const Ve=Be.icon,qe=!!Be.downloadUrl,We=jsxRuntimeExports.jsx("div",{onMouseEnter:()=>e(ze),onMouseLeave:()=>e(null),className:"group relative",children:jsxRuntimeExports.jsx("div",{className:`
                      relative h-full p-6 rounded-2xl 
                      bg-white border border-gray-200 shadow-sm
                      transition-all duration-300
                      ${qe?"cursor-pointer":"cursor-default"}
                      ${Re===ze?"border-[#891737] shadow-md -translate-y-1":"hover:border-gray-300"}
                    `,children:jsxRuntimeExports.jsxs("div",{className:"relative z-10",children:[jsxRuntimeExports.jsx("div",{className:`
                          w-12 h-12 rounded-xl bg-gray-50 
                          flex items-center justify-center mb-4
                          group-hover:bg-[#891737] transition-colors duration-300
                        `,children:jsxRuntimeExports.jsx(Ve,{className:"w-6 h-6 text-gray-600 group-hover:text-white transition-colors duration-300"})}),jsxRuntimeExports.jsx("h3",{className:"text-gray-800 font-semibold text-lg mb-1",children:Be.title}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-xs",children:Be.subtitle})]})})});return qe?jsxRuntimeExports.jsx("a",{href:Be.downloadUrl,download:!0,className:"block","aria-label":`Download ${Be.title}`,children:We},ze):jsxRuntimeExports.jsx("div",{className:"block",children:We},ze)})}),jsxRuntimeExports.jsx("p",{className:"text-gray-400 text-sm mt-6",children:"Note: Annexure formats are also available inside the Operational Guidelines on the mentioned pages."})]}),jsxRuntimeExports.jsxs("div",{className:"mb-20",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3 mb-8",children:jsxRuntimeExports.jsx("h2",{className:"text-3xl font-bold text-white",children:"Application Process"})}),jsxRuntimeExports.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:Me.map((Be,ze)=>{const Ve=Be.icon;return jsxRuntimeExports.jsxs("div",{onClick:()=>Ce(ze+1),className:`
                    relative p-8 rounded-3xl cursor-pointer
                    bg-white border-2 shadow-sm
                    transition-all duration-500 group
                    ${Ee===ze+1?"border-[#891737] ring-4 ring-[#891737]/5 scale-[1.02]":"border-gray-100 hover:border-gray-200"}
                  `,children:[jsxRuntimeExports.jsx("div",{className:`
                      text-8xl font-black absolute -top-2 -right-1 
                      text-gray-200 opacity-50 select-none
                    `,children:Be.num}),jsxRuntimeExports.jsxs("div",{className:"relative z-10",children:[jsxRuntimeExports.jsx("div",{className:`
                        w-16 h-16 rounded-2xl 
                        ${Ee===ze+1?"bg-[#891737]":"bg-gray-100 group-hover:bg-gray-200"}
                        flex items-center justify-center mb-6
                        transition-all duration-300
                      `,children:jsxRuntimeExports.jsx(Ve,{className:`w-8 h-8 ${Ee===ze+1?"text-white":"text-gray-600"} transition-colors duration-300`})}),jsxRuntimeExports.jsx("h3",{className:"text-2xl font-bold text-gray-600 mb-6",children:Be.title}),jsxRuntimeExports.jsx("ul",{className:"space-y-3",children:Be.items.map((qe,We)=>{const Ge=Oe[qe],Je=!!Ge;return jsxRuntimeExports.jsx("li",{className:"flex items-start gap-3 text-gray-400",children:jsxRuntimeExports.jsxs("a",{href:Je?Ge.href:void 0,target:Je&&Ge.kind==="newtab"?"_blank":void 0,rel:Je&&Ge.kind==="newtab"?"noopener noreferrer":void 0,download:Je&&Ge.kind==="download"?!0:void 0,className:`flex items-start gap-3 w-full transition-colors duration-200 ${Je?"cursor-pointer text-gray-400 hover:text-[#891737]":"pointer-events-none text-gray-400"}`,children:[jsxRuntimeExports.jsx("div",{className:`
                                  mt-1.5 w-1.5 h-1.5 rounded-full 
                                  ${Ee===ze+1,"bg-gray-400"}
                                `}),jsxRuntimeExports.jsx("span",{className:"text-sm leading-relaxed",children:qe})]})},We)})})]})]},ze)})})]}),jsxRuntimeExports.jsx("div",{className:"relative",children:jsxRuntimeExports.jsxs("div",{className:"relative rounded-3xl",children:[jsxRuntimeExports.jsx("div",{className:"flex items-center gap-3 mb-6",children:jsxRuntimeExports.jsx("h2",{className:"text-2xl font-bold text-white",children:"Critical Requirements"})}),jsxRuntimeExports.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[jsxRuntimeExports.jsxs("div",{className:"p-6 rounded-2xl bg-white border border-gray-200 shadow-sm",children:[jsxRuntimeExports.jsx(Calendar,{className:"w-6 h-6 text-[#891737] mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-gray-800 font-medium mb-2",children:"Submit 3 weeks early"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"All documents must be submitted at least 3 weeks before shooting"})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 rounded-2xl bg-white border border-gray-200 shadow-sm",children:[jsxRuntimeExports.jsx(CircleCheck,{className:"w-6 h-6 text-[#891737] mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-gray-800 font-medium mb-2",children:"Daily updates required"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"Inform District Art & Culture Officer one day before each shoot"})]}),jsxRuntimeExports.jsxs("div",{className:"p-6 rounded-2xl bg-white border border-gray-200 shadow-sm",children:[jsxRuntimeExports.jsx(FileCheck,{className:"w-6 h-6 text-[#891737] mb-3"}),jsxRuntimeExports.jsx("p",{className:"text-gray-800 font-medium mb-2",children:"Get Annexure-5 signed"}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm",children:"By Nodal Officer (ADM) & DM after shooting - needed for subsidy"})]})]})]})}),jsxRuntimeExports.jsxs("div",{className:"mt-16 text-center",children:[jsxRuntimeExports.jsxs("a",{href:"mailto:biharfilmnigam@gmail.com",className:`
              inline-flex items-center gap-3 px-8 py-4 rounded-2xl
              bg-[#891737] text-white font-semibold text-lg
              hover:bg-[#891737]/90 hover:shadow-lg hover:shadow-[#891737]/20
              transition-all duration-300 group
            `,children:[jsxRuntimeExports.jsx(Mail,{className:"w-5 h-5"}),jsxRuntimeExports.jsx("span",{children:"Email Your Application"})]}),jsxRuntimeExports.jsx("p",{className:"text-gray-500 text-sm mt-4",children:"biharfilmnigam@gmail.com"})]})]})]})};function Home(){const Re=useLocation();return React.useEffect(()=>{if(Re.state&&Re.state.scrollTo){const e=document.getElementById(Re.state.scrollTo);e&&e.scrollIntoView({behavior:"smooth"})}},[Re]),jsxRuntimeExports.jsxs(jsxRuntimeExports.Fragment,{children:[jsxRuntimeExports.jsx(App$1,{}),jsxRuntimeExports.jsx(Vr,{}),jsxRuntimeExports.jsx(FilmClubUI,{}),jsxRuntimeExports.jsx(CarouselOfCelebs,{}),jsxRuntimeExports.jsx(Cinemaecosystem,{}),jsxRuntimeExports.jsx(GoverningComponent,{}),jsxRuntimeExports.jsx(FilmPolicyNOC,{}),jsxRuntimeExports.jsx(Footer,{})]})}function App(){return useNavigate(),jsxRuntimeExports.jsxs(Routes,{children:[jsxRuntimeExports.jsx(Route,{path:"/location/:category/:id",element:jsxRuntimeExports.jsx(LocationDetail,{})}),jsxRuntimeExports.jsx(Route,{path:"/",element:jsxRuntimeExports.jsx(Home,{})}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(LoginPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/signup",element:jsxRuntimeExports.jsx(SignupPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/apply-noc",element:jsxRuntimeExports.jsx(Response$1,{})}),jsxRuntimeExports.jsx(Route,{element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["admin"]}),children:jsxRuntimeExports.jsx(Route,{path:"/dashboard",element:jsxRuntimeExports.jsx(Dashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/ShootingLocation",element:jsxRuntimeExports.jsx(Location,{})}),jsxRuntimeExports.jsx(Route,{element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["filmmaker","artist","vendor"]}),children:jsxRuntimeExports.jsx(Route,{path:"/dashboard-user",element:jsxRuntimeExports.jsx(UserDashboard,{})})}),jsxRuntimeExports.jsx(Route,{path:"/register-artist",element:jsxRuntimeExports.jsx(AddArtistForm,{})}),jsxRuntimeExports.jsx(Route,{path:"/register-vendor",element:jsxRuntimeExports.jsx(VendorProductForm,{})}),jsxRuntimeExports.jsx(Route,{path:"/filmclub/cine-samvad",element:jsxRuntimeExports.jsx(CineSamvad,{})}),jsxRuntimeExports.jsx(Route,{path:"/notification",element:jsxRuntimeExports.jsx(Notifications,{})}),jsxRuntimeExports.jsx(Route,{path:"/tender",element:jsxRuntimeExports.jsx(Tenders,{})}),jsxRuntimeExports.jsx(Route,{path:"/filmclub/cineactivities",element:jsxRuntimeExports.jsx(Chatarpatar,{})}),jsxRuntimeExports.jsx(Route,{path:"/filmclub/coffee-with-film",element:jsxRuntimeExports.jsx(CoffeeWithFilm,{})}),jsxRuntimeExports.jsx(Route,{path:"/vrpage",element:jsxRuntimeExports.jsx(Vrpage,{})}),jsxRuntimeExports.jsx(Route,{path:"artist",element:jsxRuntimeExports.jsx(Artist,{})}),jsxRuntimeExports.jsx(Route,{path:"/MainDash",element:jsxRuntimeExports.jsx(ProtectedRoute,{allowedRoles:["district_admin"],children:jsxRuntimeExports.jsx(MainDash,{})})}),jsxRuntimeExports.jsx(Route,{path:"vendor-registration",element:jsxRuntimeExports.jsx(VendorRegistrationForm,{})}),jsxRuntimeExports.jsx(Route,{path:"/privacy-policy",element:jsxRuntimeExports.jsx(PrivacyPolicy,{})}),jsxRuntimeExports.jsx(Route,{path:"/about-us",element:jsxRuntimeExports.jsx(AboutUs,{})}),jsxRuntimeExports.jsx(Route,{path:"/document/:docId",element:jsxRuntimeExports.jsx(PDFViewerPage,{})}),jsxRuntimeExports.jsx(Route,{path:"/NOCguide",element:jsxRuntimeExports.jsx(NOCGuideProcess,{})}),jsxRuntimeExports.jsx(Route,{path:"/shooting-in-bihar",element:jsxRuntimeExports.jsx(ShootingInBihar,{})}),jsxRuntimeExports.jsx(Route,{path:"/scholarship",element:jsxRuntimeExports.jsx(ScholarshipAndExpenses,{})}),jsxRuntimeExports.jsx(Route,{path:"/contact-bsfdfc",element:jsxRuntimeExports.jsx(ContactBSFDFC,{})}),jsxRuntimeExports.jsx(Route,{path:"/gallery",element:jsxRuntimeExports.jsx(Gallery,{})}),jsxRuntimeExports.jsx(Route,{path:"/howToShootingPermission",element:jsxRuntimeExports.jsx(HowToApplyShootingPermission,{})}),jsxRuntimeExports.jsx(Route,{path:"*",element:jsxRuntimeExports.jsx("navigate",{to:"/",replace:!0})})]})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(App,{})}));export{_typeof as _,commonjsGlobal as c,getDefaultExportFromCjs as g};
